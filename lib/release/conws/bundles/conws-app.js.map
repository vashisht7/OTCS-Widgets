{"version":3,"file":"conws-app.js","sources":["../../src/utils/icons/icons!css","../../src/utils/icons/icons.js","../../src/controls/inlineforms/workspace/impl/nls/lang.js","../../src/controls/inlineforms/workspace/impl/nls/root/lang.js","../../src/controls/inlineforms/workspace/impl/workspace!hbs","../../src/controls/inlineforms/workspace/impl/workspace!css","../../src/controls/inlineforms/workspace/workspace.view.js","../../src/controls/inlineforms/conwstemplate/impl/nls/lang.js","../../src/controls/inlineforms/conwstemplate/impl/nls/root/lang.js","../../src/controls/inlineforms/conwstemplate/impl/nls/lang!i18n","../../src/models/workspacetypes/workspacetype.model.js","../../src/models/workspacetypes/workspacetype.factory.js","../../src/controls/inlineforms/conwstemplate/impl/conwstemplate!hbs","../../src/controls/inlineforms/conwstemplate/impl/conwstemplate!css","../../src/controls/inlineforms/conwstemplate/conwstemplate.view.js","../../src/controls/form/fields/referencefield.states.behavior.js","../../src/controls/form/impl/fields/reference/reference!hbs","../../src/controls/form/impl/nls/lang.js","../../src/controls/form/impl/nls/root/lang.js","../../src/controls/form/impl/fields/reference/reference!css","../../src/controls/form/fields/reference.view.js","../../src/controls/form/fields/alpaca/referencefield.js","../../src/controls/description/impl/description!hbs","../../src/controls/description/impl/nls/lang.js","../../src/controls/description/impl/nls/root/lang.js","../../src/controls/description/impl/description!css","../../src/controls/description/description.view.js","../../src/controls/lazyactions/impl/lazy.loading.template!hbs","../../src/controls/lazyactions/lazyToolbar.view.js","../../src/controls/selectedmetadataform/selectedmetadataform.view.js","../../src/utils/commands/permissions/permissions.util.js","../../src/controls/table/cells/role/impl/role!hbs","../../src/controls/table/cells/role/impl/role!css","../../src/controls/table/cells/role/role.view.js","../../src/controls/table/cells/permission/role.permission.level.view.js","../../src/controls/userpicker/nls/role.lang.js","../../src/controls/userpicker/nls/root/role.lang.js","../../src/controls/userpicker/role!hbs","../../src/controls/userpicker/role.view.js","../../src/dialogs/addoreditrole/impl/nls/lang.js","../../src/dialogs/addoreditrole/impl/nls/root/lang.js","../../src/controls/wizard/step/impl/footer.view.js","../../src/dialogs/addoreditrole/impl/nls/lang!i18n","../../src/controls/wizard/step/wizard.step.view.js","../../src/controls/wizard/impl/wizard!css","../../src/controls/wizard/wizard.view.js","../../src/dialogs/addoreditrole/impl/tabbable.form.view.js","../../src/dialogs/addoreditrole/impl/roleheader/impl/roleheader.view!hbs","../../src/dialogs/addoreditrole/impl/roleheader/impl/roleheader.view!css","../../src/dialogs/addoreditrole/impl/roleheader/roleheader.view.js","../../src/dialogs/addoreditrole/impl/roledetails/impl/roledetails!hbs","../../src/dialogs/addoreditrole/impl/roledetails/impl/roledetails!css","../../src/dialogs/addoreditrole/impl/roledetails/roledetails.view.js","../../src/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions.title.view.js","../../src/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions!hbs","../../src/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions!css","../../src/dialogs/addoreditrole/impl/rolepermissions/rolepermissions.view.js","../../src/widgets/team/impl/controls/avatar/impl/avatar!hbs","../../src/widgets/team/impl/controls/avatar/impl/avatar!css","../../src/widgets/team/impl/controls/avatar/avatar.view.js","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem!hbs","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.details!hbs","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem.delete!hbs","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem!css","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem.view.js","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants!hbs","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants!css","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants.view.js","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/roleparticipants!hbs","../../src/dialogs/addoreditrole/impl/roleparticipants/impl/roleparticipants!css","../../src/dialogs/addoreditrole/impl/roleparticipants/roleparticipants.view.js","../../src/dialogs/addoreditrole/addoreditrole.wizard.js","../../src/dialogs/applyrolepermissions/impl/nls/lang.js","../../src/dialogs/applyrolepermissions/impl/nls/root/lang.js","../../src/dialogs/applyrolepermissions/impl/apply.role.permissions!hbs","../../src/dialogs/applyrolepermissions/impl/apply.role.permissions!css","../../src/dialogs/applyrolepermissions/apply.role.permissions.view.js","../../src/dialogs/applyrolepermissions/impl/header/apply.role.permissions.header.view.js","../../src/utils/commands/nls/commands.lang.js","../../src/utils/commands/nls/root/commands.lang.js","../../src/utils/commands/tabletoolbar.extension.js","../../src/utils/commands/permissions/permissions.dropdown.menu.items.extension.js","../../src/utils/commands/permissions/permissions.list.toolbaritems.extension.js","../../src/widgets/header/impl/headertoolbaritems.masks.js","../../src/utils/commands/addconws.js","../../src/utils/commands/addconwstemplate.js","../../src/utils/commands/delete.js","../../src/utils/commands/permissions/addoreditrole.js","../../src/utils/workspaces/busyindicator.js","../../src/utils/commands/addrelateditem.js","../../src/utils/commands/deleterelateditem.js","../../src/utils/commands/permissions/deleterole.js","../../src/utils/commands/permissions/edit.role.permissions.js","../../src/utils/commands/permissions/edit.role.permission.helper.js","../../src/utils/dragndrop/dragndrop.subtypes.js","../../src/utils/overlay/impl/conwsoverlay!css","../../src/utils/overlay/conwsoverlay.js","../../src/widgets/relatedworkspaces/impl/relatedworkspaces.searchresult.model.js","../../src/widgets/relatedworkspaces/impl/relatedworkspaces.searchform.model.js","../../src/widgets/relatedworkspaces/impl/nls/lang.js","../../src/widgets/relatedworkspaces/impl/nls/root/lang.js","../../src/widgets/relatedworkspaces/addrelatedworkspaces.search.js","../../src/widgets/relatedworkspaces/impl/nls/lang!i18n","../../src/utils/workspaces/impl/nls/lang.js","../../src/utils/workspaces/impl/nls/root/lang.js","../../src/utils/workspaces/workspaces!css","../../src/utils/workspaces/error.template!hbs","../../src/utils/workspaces/workspaces.view.js","../../src/utils/previewpane/impl/previewheader!hbs","../../src/utils/previewpane/impl/previewheader.view.js","../../src/widgets/team/impl/dialogs/modaldialog/impl/modal.dialog.view!hbs","../../src/widgets/team/impl/dialogs/modaldialog/impl/modal.dialog.view!css","../../src/widgets/team/impl/dialogs/modaldialog/modal.dialog.view.js","../../src/widgets/team/impl/controls/rolepicker/impl/role!hbs","../../src/widgets/team/impl/controls/rolepicker/impl/role.view.js","../../src/widgets/team/impl/controls/rolepicker/impl/rolepicker!hbs","../../src/widgets/team/impl/controls/rolepicker/impl/rolepicker.clear!hbs","../../src/widgets/team/impl/controls/rolepicker/impl/rolepicker.input!hbs","../../src/widgets/team/impl/controls/rolepicker/impl/rolepicker!css","../../src/widgets/team/impl/controls/rolepicker/rolepicker.view.js","../../src/widgets/team/impl/behaviors/list.keyboard.behavior.js","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.roles!hbs","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.roles!css","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.roles.view.js","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem!hbs","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.roles!hbs","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.delete!hbs","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem!css","../../src/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.view.js","../../src/widgets/team/impl/controls/footer/impl/footer!hbs","../../src/widgets/team/impl/controls/footer/impl/button!hbs","../../src/widgets/team/impl/controls/footer/impl/footer!css","../../src/widgets/team/impl/controls/footer/footer.view.js","../../src/widgets/team/impl/dialogs/addparticipants/impl/addparticipants!hbs","../../src/widgets/team/impl/dialogs/addparticipants/impl/addparticipants!css","../../src/widgets/team/impl/dialogs/addparticipants/addparticipants.view.js","../../src/utils/commands/addparticipant.js","../../src/utils/commands/export.js","../../src/widgets/team/impl/commands/exportparticipants.js","../../src/utils/commands/showroles.js","../../src/utils/commands/removeparticipant.js","../../src/widgets/team/impl/commands/exportroles.js","../../src/utils/commands/showdetails.js","../../src/utils/commands/deleterole.js","../../src/widgets/team/impl/participants.toolbaritems.js","../../src/widgets/team/impl/roles.toolbaritems.js","../../src/widgets/team/impl/controls/filter/impl/filter!hbs","../../src/widgets/team/impl/controls/filter/impl/filter.search!hbs","../../src/widgets/team/impl/controls/filter/impl/filter.clear!hbs","../../src/widgets/team/impl/controls/filter/impl/filter.searchicon!hbs","../../src/widgets/team/impl/controls/filter/impl/filter!css","../../src/widgets/team/impl/controls/filter/filter.view.js","../../src/widgets/team/impl/dialogs/participants/impl/roles.edit.list.remove!hbs","../../src/widgets/team/impl/dialogs/participants/impl/roles.edit.list.remove.view.js","../../src/widgets/team/impl/dialogs/participants/impl/roles.edit.list!hbs","../../src/widgets/team/impl/dialogs/participants/impl/roles.edit.list.view.js","../../src/widgets/team/impl/dialogs/participants/impl/roles.readonly.list!hbs","../../src/widgets/team/impl/cells/roles/impl/roles!css","../../src/widgets/team/impl/dialogs/participants/impl/roles.readonly.list.view.js","../../src/widgets/team/impl/dialogs/participants/impl/roles.edit!hbs","../../src/widgets/team/impl/dialogs/participants/impl/roles.edit!css","../../src/widgets/team/impl/dialogs/participants/roles.edit.view.js","../../src/widgets/team/impl/dialogs/role/impl/role.details.member!hbs","../../src/widgets/team/impl/dialogs/role/impl/role.details.member!css","../../src/widgets/team/impl/dialogs/role/impl/role.details.member.view.js","../../src/widgets/team/impl/dialogs/role/impl/role.details.members.view.js","../../src/widgets/team/impl/dialogs/role/impl/role.details!hbs","../../src/widgets/team/impl/dialogs/role/impl/role.details!css","../../src/widgets/team/impl/dialogs/role/role.details.view.js","../../src/widgets/team/impl/team.tablinks!hbs","../../src/widgets/team/impl/team!css","../../src/widgets/team/impl/team.tablinks.view.js","../../src/widgets/team/impl/teamtables!hbs","../../src/widgets/team/impl/cells/avatar/impl/avatar!hbs","../../src/widgets/team/impl/cells/avatar/impl/avatar!css","../../src/widgets/team/impl/cells/avatar/avatar.view.js","../../src/widgets/team/impl/cells/name/impl/name!hbs","../../src/widgets/team/impl/cells/name/impl/name!css","../../src/widgets/team/impl/cells/name/name.view.js","../../src/widgets/team/impl/cells/roles/impl/roles!hbs","../../src/widgets/team/impl/cells/roles/roles.view.js","../../src/widgets/team/impl/cells/login/login.view.js","../../src/widgets/team/impl/cells/email/email.view.js","../../src/widgets/team/impl/cells/department/department.view.js","../../src/widgets/team/impl/cells/rolename/impl/rolename!hbs","../../src/widgets/team/impl/cells/rolename/impl/rolename!css","../../src/widgets/team/impl/cells/rolename/rolename.view.js","../../src/widgets/team/impl/cells/participants/impl/participants!hbs","../../src/widgets/team/impl/cells/participants/impl/participants!css","../../src/widgets/team/impl/cells/participants/participants.view.js","../../src/widgets/team/impl/teamtables.view.js","../../src/widgets/team/impl/controls/listitem/impl/listitemteammember!hbs","../../src/widgets/team/impl/controls/listitem/impl/listitemteamrole!hbs","../../src/widgets/team/impl/controls/listitem/impl/listitemteammember!css","../../src/widgets/team/impl/controls/listitem/listitemteammember.view.js","../../src/utils/previewpane/impl/rolemembers.empty!hbs","../../src/utils/previewpane/impl/previewpane!css","../../src/utils/previewpane/impl/rolemembers.view.js","../../src/utils/previewpane/impl/previewpane!hbs","../../src/utils/previewpane/previewpane.view.js","../../src/widgets/relatedworkspaces/impl/relateditem!hbs","../../src/widgets/relatedworkspaces/impl/relateditem!css","../../src/widgets/relatedworkspaces/impl/relateditem.view.js","../../src/utils/workspaces/close.expanded.view.js","../../src/widgets/relatedworkspaces/commands.js","../../src/widgets/relatedworkspaces/toolbaritems!csui-ext","../../src/widgets/relatedworkspaces/toolbaritems.js","../../src/widgets/relatedworkspaces/toolbaritems.masks.js","../../src/widgets/relatedworkspaces/headermenuitems!csui-ext","../../src/widgets/relatedworkspaces/headermenuitems.js","../../src/widgets/relatedworkspaces/headermenuitems.masks.js","../../src/utils/workspaces/workspacestable!hbs","../../src/utils/workspaces/workspaces.columns.js","../../src/utils/workspaces/workspacestable!css","../../src/utils/workspaces/workspacestable.view.js","../../src/widgets/relatedworkspaces/impl/relatedworkspacestable!css","../../src/widgets/relatedworkspaces/impl/relatedworkspacestable.view.js","../../src/widgets/relatedworkspaces/relatedworkspaces.view.js","../../src/widgets/header/impl/nls/header.lang.js","../../src/widgets/header/impl/nls/root/header.lang.js","../../src/widgets/header/impl/editicon!hbs","../../src/widgets/header/impl/editicon!css","../../src/widgets/header/impl/editicon.view.js","../../src/widgets/header/impl/favorite.icon!css","../../src/widgets/header/impl/favorite.icon.view.js","../../src/widgets/header/impl/commenting.icon!hbs","../../src/widgets/header/impl/commenting.icon!css","../../src/widgets/header/impl/commenting.icon.view.js","../../src/widgets/header/headertoolbaritems!csui-ext","../../src/widgets/header/impl/headertoolbaritems.js","../../src/widgets/header/impl/headertoolbar!hbs","../../src/widgets/header/impl/collapse/collapse!hbs","../../src/widgets/header/impl/collapse/collapse!css","../../src/widgets/header/impl/collapse/collapse.page.overlay.js","../../src/widgets/header/impl/headertoolbar!css","../../src/widgets/header/impl/headertoolbar.view.js","../../src/widgets/header/impl/header!hbs","../../src/widgets/header/impl/header!css","../../src/widgets/header/header.view.js","../../src/utils/behaviors/expanding.behavior.js","../../src/widgets/team/impl/controls/teamheader/impl/teamheader!hbs","../../src/widgets/team/impl/controls/teamheader/impl/teamheader!css","../../src/widgets/team/impl/controls/teamheader/teamheader.view.js","../../src/widgets/team/impl/team.empty!hbs","../../src/widgets/team/team.view.js","../../src/widgets/myworkspaces/impl/myworkspaceslistitem.view.js","../../src/widgets/myworkspaces/impl/myworkspacestable.view.js","../../src/widgets/myworkspaces/impl/nls/lang.js","../../src/widgets/myworkspaces/impl/nls/root/lang.js","../../src/widgets/myworkspaces/myworkspaces.view.js","../../src/widgets/metadata/impl/nls/metadata.lang.js","../../src/widgets/metadata/impl/nls/root/metadata.lang.js","../../src/widgets/metadata/impl/metadata!hbs","../../src/widgets/metadata/impl/metadata!css","../../src/widgets/metadata/metadata.view.js","../../src/widgets/outlook/impl/wksp/impl/wksp!hbs","../../src/widgets/outlook/impl/utils/emailservice.js","../../src/widgets/outlook/impl/folder/impl/folder!hbs","../../src/widgets/outlook/impl/dialog/impl/logindialog!hbs","../../src/widgets/outlook/impl/dialog/authenticator.js","../../src/widgets/outlook/impl/dialog/impl/nameresolver!hbs","../../src/widgets/outlook/impl/dialog/nameresolver.js","../../src/widgets/outlook/impl/utils/csservice.js","../../src/widgets/outlook/impl/dialog/impl/nameControl!hbs","../../src/widgets/outlook/impl/conwsoutlook!css","../../src/widgets/outlook/impl/dialog/nameControl.view.js","../../src/widgets/outlook/impl/metadata/impl/metadata.forms.factory.js","../../src/widgets/outlook/impl/metadata/impl/form.item!hbs","../../src/widgets/outlook/impl/metadata/form.item.view.js","../../src/widgets/outlook/impl/metadata/impl/metadata.forms!hbs","../../src/widgets/outlook/impl/metadata/metadata.forms.view.js","../../src/widgets/outlook/impl/dialog/impl/saveSection!hbs","../../src/widgets/outlook/impl/dialog/saveSection.view.js","../../src/widgets/outlook/impl/folder/folder.view.js","../../src/widgets/outlook/impl/folder/impl/folders!hbs","../../src/widgets/outlook/impl/folder/folders.view.js","../../src/widgets/outlook/impl/wksp/wksp.view.js","../../src/widgets/outlook/impl/recentwksps/impl/recentwksps!hbs","../../src/widgets/outlook/impl/recentwksps/recentwksps.view.js","../../src/widgets/outlook/impl/favoritewksps/impl/favoritewksps!hbs","../../src/widgets/outlook/impl/favoritewksps/favoritewksps.view.js","../../src/widgets/outlook/impl/searchwksps/impl/searchresult!hbs","../../src/widgets/outlook/impl/searchwksps/searchresult.view.js","../../src/widgets/outlook/impl/searchwksps/simplesearch.view.js","../../src/widgets/outlook/impl/searchwksps/impl/wksptype!hbs","../../src/widgets/outlook/impl/searchwksps/wksptypes.view.js","../../src/widgets/outlook/impl/searchwksps/impl/simplesearchresult.model.js","../../src/widgets/outlook/impl/searchwksps/simplesearchresult.view.js","../../src/widgets/outlook/impl/searchwksps/impl/searchwksps!hbs","../../src/widgets/outlook/impl/searchwksps/searchwksps.view.js","../../src/widgets/outlook/impl/suggestedwksps/impl/suggestedwksps!hbs","../../src/widgets/outlook/impl/suggestedwksps/suggestedwksps.view.js","../../src/widgets/outlook/impl/searchwksps/impl/customsearch!hbs","../../src/widgets/outlook/impl/searchwksps/customSearchSection.view.js","../../src/widgets/outlook/impl/conwsoutlook!hbs","../../src/widgets/outlook/conwsoutlook.view.js","../../src/widgets/configurationvolume/impl/nls/lang.js","../../src/widgets/configurationvolume/impl/nls/root/lang.js","../../src/widgets/configurationvolume/impl/configurationvolume!css","../../src/widgets/configurationvolume/configurationvolume.view.js","../../src/widgets/relatedworkspaces/relatedworkspaces.manifest.json!json","../../src/widgets/header/header.manifest.json!json","../../src/widgets/team/team.manifest.json!json","../../src/widgets/myworkspaces/myworkspaces.manifest.json!json","../../src/widgets/metadata/metadata.manifest.json!json","../../src/widgets/configurationvolume/configurationvolume.manifest.json!json","../../src/widgets/configurationvolume/impl/nls/configurationvolume.manifest.js","../../src/widgets/configurationvolume/impl/nls/root/configurationvolume.manifest.js","../../src/widgets/configurationvolume/impl/nls/configurationvolume.manifest!i18n","../../src/widgets/team/impl/nls/team.manifest.js","../../src/widgets/team/impl/nls/root/team.manifest.js","../../src/widgets/metadata/impl/nls/metadata.manifest.js","../../src/widgets/team/impl/nls/team.manifest!i18n","../../src/widgets/metadata/impl/nls/root/metadata.manifest.js","../../src/widgets/relatedworkspaces/impl/nls/relatedworkspaces.manifest.js","../../src/widgets/relatedworkspaces/impl/nls/root/relatedworkspaces.manifest.js","../../src/widgets/header/impl/nls/header.manifest.js","../../src/widgets/relatedworkspaces/impl/nls/relatedworkspaces.manifest!i18n","../../src/widgets/header/impl/nls/root/header.manifest.js","../../src/widgets/header/impl/nls/header.manifest!i18n","../../src/widgets/myworkspaces/impl/nls/myworkspaces.manifest.js","../../src/widgets/myworkspaces/impl/nls/root/myworkspaces.manifest.js","conws-app.js"],"names":[],"mappings":"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IA,cACA,OAAA,SACA,QAAA,sBACA,cAAA,0BACA,cACA,SACA,OAAA,SACA,QAAA,2BACA,cAAA,2BAEA,SACA,OAAA,SACA,QAAA,sBACA,cAAA,6BAIA,eACA,OAAA,SACA,QAAA,uBACA,cAAA,2BACA,cACA,SACA,OAAA,SACA,QAAA,uBACA,cAAA,4BAEA,SACA,OAAA,SACA,QAAA,uBACA,cAAA,gCAMA,gBACA,OAAA,SACA,QAAA,+BACA,cAAA,8BACA,cACA,WACA,OAAA,SACA,QAAA,+BACA,cAAA,8BACA,cACA,cACA,OAAA,SACA,QAAA,kCACA,cAAA,kCAEA,aACA,OAAA,SACA,QAAA,MAAA,QACA,QAAA,aACA,cAAA,mCAIA,iBACA,OAAA,QACA,QAAA,gCACA,cAAA,+BACA,SACA,OAAA,SACA,QAAA,8BACA,cAAA,6BACA,cACA,OACA,OAAA,SACA,QAAA,mCACA,cAAA,0CASA,WACA,UACA,SACA,OAAA,4BAEA,mBACA,OAAA,4BAEA,gBACA,OAAA,SACA,gBAAA,QAAA,WAEA,iBACA,UACA,wBACA,OAAA,4BAEA,WACA,UACA,YACA,OAAA,4BAEA,qBACA,OAAA,4BAEA,wBACA,OAAA,4BAEA,YACA,UACA,QACA,OAAA,wBAMA,WACA,UACA,cACA,OAAA,wBAEA,aACA,OAAA,SACA,gBAAA,YAAA,iBAIA,SACA,UACA,SACA,OAAA,0BAIA,eACA,UACA,SACA,OAAA,0BAIA,YACA,UACA,SACA,OAAA,4BAEA,SACA,OAAA,0BAIA,cACA,UACA,SACA,OAAA,4BAEA,SACA,OAAA,0BAIA,eACA,UACA,SACA,OAAA,4BAEA,SACA,OAAA,4BAMA,gBACA,UACA,WACA,UACA,cACA,OAAA,wBAEA,aACA,OAAA,SACA,gBAAA,YAAA,iBAIA,iBACA,SACA,UACA,OACA,OAAA,iCChUA,KAAA,OAAA,kDACA,UAAA,sDACA,QAAA,gBACA,cAAA,sBACA,UACA,OAAA,SACA,cACA,aACA,OAAA,SACA,QAAA,qBACA,cAAA,2BACA,cACA,cACA,OAAA,SACA,QAAA,aACA,cAAA,8BACA,cACA,SACA,OAAA,SACA,QAAA,6BACA,UAAA,SACA,cAAA,6BAEA,QACA,OAAA,SACA,QAAA,yBACA,UAAA,4CACA,cAAA,yBAEA,eACA,OAAA,SACA,QAAA,8BACA,UAAA,gBACA,cAAA,8BAMA,UACA,OAAA,SACA,QAAA,kBACA,cAAA,wBACA,cACA,QACA,OAAA,SACA,QACA,OACA,gBAEA,QAAA,8BACA,cAAA,kCAMA,WACA,UACA,aACA,UACA,cACA,UACA,SACA,OAAA,2BAEA,QACA,OAAA,2BAEA,eACA,OAAA,+BAMA,UACA,UACA,QACA,OAAA,SACA,gBACA,OACA,wBClFA,KAAA,OAAA,8CACA,UAAA,sDACA,QAAA,kBACA,cAAA,wBACA,UACA,OAAA,SACA,cACA,SACA,OAAA,SACA,QAAA,gBACA,cAAA,yBAIA,WACA,UACA,SACA,OAAA,gCCjBA,KAAA,OAAA,8DACA,UAAA,sDACA,QAAA,gBACA,cAAA,sBACA,UACA,OAAA,SACA,cACA,SACA,OAAA,SACA,QAAA,mBACA,cAAA,wBAEA,mBACA,OAAA,UACA,QAAA,iBACA,cAAA,yBAEA,iBACA,OAAA,SACA,QAAA,yBACA,cAAA,wBACA,cACA,wBACA,OAAA,SACA,QAAA,2BACA,cAAA,kCAIA,gBACA,OAAA,SACA,QAAA,wBACA,cAAA,uBACA,cACA,WACA,OAAA,SACA,QAAA,0BACA,cAAA,yBACA,cACA,cACA,OAAA,SACA,QAAA,6BACA,cAAA,6BAEA,aACA,OAAA,SACA,QAAA,MAAA,QACA,QAAA,4BACA,cAAA,8BAIA,iBACA,OAAA,QACA,QAAA,yBACA,cAAA,wBACA,SACA,OAAA,SACA,QAAA,wBACA,cAAA,uBACA,cACA,OACA,OAAA,SACA,QAAA,eACA,cAAA,6BASA,WACA,UACA,SACA,OAAA,4BAEA,mBACA,OAAA,4BAEA,iBACA,UACA,wBACA,OAAA,8BAIA,gBACA,UACA,WACA,UACA,cACA,OAAA,wBAEA,aACA,OAAA,SACA,gBAAA,YAAA,iBAIA,iBACA,SACA,UACA,OACA,OAAA,iCCzGA,KAAA,OAAA,sDACA,UAAA,sDACA,QAAA,kBACA,cAAA,wBACA,UACA,OAAA,SACA,cACA,SACA,OAAA,SACA,QAAA,gBACA,cAAA,uBAEA,mBACA,OAAA,UACA,SAAA,GAAA,GACA,WAAA,EACA,QAAA,2BACA,cAAA,kCAEA,YACA,OAAA,QACA,QAAA,2BACA,cAAA,iCACA,SACA,OAAA,SACA,QAAA,+BACA,cAAA,yCAKA,WACA,UACA,SACA,OAAA,4BAEA,YACA,UACA,QACA,OAAA,0BCvCA,KAAA,OAAA,4EACA,UAAA,sDACA,QAAA,kBACA,cAAA,wBACA,OAAA,OACA,UACA,OAAA,SACA,cACA,iBACA,QAAA,yBACA,cAAA,+BACA,OAAA,SACA,QACA,6BACA,6BACA,4BACA,4BACA,4BACA,4BACA,8BACA,kCAKA,WACA,UACA,iBACA,OAAA,SACA,gBACA,0BACA,0BACA,yBACA,yBACA,yBACA,yBACA,2BACA,iCAOA,KC7CA,OAAA,2EAEA,QAAA,EAEA,SAAA,EACA,MAAA,IAGA,KCRA,OAAA,gFACA,cAAA,uBACA,oBAAA,iFAEA,qBAAA,QACA,2BAAA,yBACA,sBAAA,gBACA,sBAAA,gBACA,qBAAA,eACA,qBAAA,eACA,qBAAA,eACA,qBAAA,eACA,uBAAA,iBACA,uBAAA,mBCZA,KCDA,OAAA,6CAEA,QAAA,EAEA,SAAA,EACA,MAAA,ICLA,KDQA,OAAA,kDCPA,YAAA,QACA,kBAAA,0BACA,cAAA,OACA,oBAAA,mDCJA,KCCA,OAAA,qDDCA,QAAA,EAEA,SAAA,EACA,MAAA,IAGA,KERA,OAAA,0DACA,YAAA,QACA,kBAAA,+BACA,cAAA,WACA,oBAAA,0CACA,uBAAA,oBACA,6BAAA,kCACA,uBAAA,WACA,6BAAA,wCACA,2BAAA,wBACA,iCAAA,wCCVA,KAAA,OAAA,uEAEA,QAAA,EAEA,SAAA,EACA,MAAA,ICLA,KAAA,OAAA,4EACA,cAAA,qBACA,oBAAA,iEACA,YAAA,QACA,kBAAA,yCACA,qBAAA,iBACA,2BAAA,0CACA,oBAAA,gBACA,0BAAA,0CACA,qBAAA,iBACA,2BAAA,gDACA,4BAAA,2BACA,kCAAA,iEACA,mBAAA,eACA,yBAAA,+BACA,eAAA,gBACA,qBAAA,4BACA,yBAAA,6BACA,+BAAA,6CACA,YAAA,eACA,kBAAA,iEACA,4BAAA,yBACA,2BAAA,sEACA,gBAAA,2BACA,sBAAA,qCACA,2BAAA,wBACA,0BAAA,sCACA,aAAA,WACA,mBAAA,kDACA,kBAAA,SACA,wBAAA,qBACA,iBAAA,aACA,uBAAA,wBACA,wBAAA,0BACA,uBAAA,mDACA,aAAA,QACA,mBAAA,4BACA,0BAAA,gCACA,yBAAA,yDACA,wBAAA,cACA,wBAAA,kCACA,uBAAA,2BACA,6BAAA,oEACA,gBAAA,QACA,oBAAA,+BACA,gBAAA,QACA,oBAAA,yCACA,kBAAA,8BACA,sBAAA,sEACA,uBAAA,QACA,sBAAA,+BACA,kBAAA,QACA,sBAAA,qDACA,mBAAA,+BACA,uBAAA,uEACA,mBAAA,QACA,uBAAA,+BACA,mBAAA,QACA,uBAAA,sDACA,2BAAA,gBACA,0BAAA,+CACA,2BAAA,WACA,0BAAA,kDACA,8BAAA,SACA,6BAAA,qBACA,6BAAA,aACA,4BAAA,wBACA,4BAAA,iBACA,2BAAA,qCACA,0BAAA,qBACA,yBAAA,oCACA,+BAAA,SACA,8BAAA,8BCxEA,KCCA,OAAA,iDDCA,QAAA,EAEA,SAAA,EACA,MAAA,IAGA,KERA,OAAA,sDACA,YAAA,SACA,kBAAA,wCACA,iBAAA,YACA,uBAAA,6BACA,2BAAA,aACA,0BAAA,2BACA,yBAAA,QACA,wBAAA,iCACA,qBAAA,OACA,oBAAA,6BACA,0BAAA,cACA,qBAAA,wCACA,cAAA,SACA,oBAAA,8DACA,0BAAA,eACA,yBAAA,+CCfA,KCDA,OAAA,6DAEA,QAAA,EAEA,SAAA,EACA,MAAA,IAGA,KCRA,OAAA,kEACA,YAAA,aACA,kBAAA,2EACA,eAAA,QACA,mBAAA,iCACA,qBAAA,iBACA,oBAAA,0CACA,qBAAA,iBACA,oBAAA,+CACA,4BAAA,2BACA,2BAAA,yDACA,oBAAA,gBACA,mBAAA,+CACA,sBAAA,WACA,qBAAA,kDACA,yBAAA,SACA,wBAAA,qBACA,wBAAA,aACA,uBAAA,wBACA,qBAAA,iBACA,oBAAA,qCACA,oBAAA,qBACA,mBAAA,oCACA,WAAA,SACA,iBAAA,8BCrBA,KAAA,OAAA,qBAEA,0BAGA,sDACA,8DACA,mDACA,8CACA,8CACA,gEACA,4CACA,mEACA,sCAGA,mDACA,iEACA,oFAGA,8CACA,6EACA,2EAGA,qDAGA,gCACA,wCACA,8BACA,iDACA,sCACA,yCACA,8CACA,yDACA,+DACA,2CAGA,8DAGA,yDACA,mCACA,+BACA,+CACA,uCACA,0CACA,6DAGA,uEACA,iDACA,6CACA,6DACA,qDACA,2EAKA,gDACA,2CAGA,6CACA,yDACA,2CACA,uDACA,+EACA,iDACA,yDACA,2EACA,qDACA,sEAIA,KAAA,SAAA,UAAA,OAAA,SAAA,EAAA,GAEA,EAAA,UAAA,EAAA,2BAAA","sourcesContent":["\ncsui.define('css!conws/utils/icons/icons',[],function(){});\n","/**\r\n * Register custom icons\r\n */\r\ncsui.define('conws/utils/icons/icons',[\r\n  'css!conws/utils/icons/icons'\r\n], function (nodeSprites) {\r\n\r\n  return [\r\n    {\r\n      equals: {type: 848},\r\n      className: 'csui-icon conws-mime_workspace'\r\n    },\r\n    {\r\n      equals: {type: 854},\r\n      className: 'csui-icon conws-mime_related_workspace'\r\n    },\r\n    {\r\n      equals: {type: 20541},\r\n      className: 'csui-icon conws-doctemplates_volume'\r\n    }\r\n  ];\r\n});\n","csui.define('conws/controls/inlineforms/workspace/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/controls/inlineforms/workspace/impl/nls/root/lang',{\r\n  NewWorkspacePlaceholder: 'Enter new workspace name'\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/controls/inlineforms/workspace/impl/workspace',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <div class=\\\"csui-inlineform-group csui-inlineform-group-error\\\">\\r\\n    <div class=\\\"binf-text-danger\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.errorMessage || (depth0 != null ? depth0.errorMessage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"errorMessage\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n  </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"csui-inlineform-group conws-inlineform-group-workspace-name\\\">\\r\\n  <input type=\\\"text\\\" value=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\" placeholder=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.namePlaceholder || (depth0 != null ? depth0.namePlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"namePlaceholder\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n         class=\\\"binf-form-control csui-inlineform-input-name\\\">\\r\\n  <button class=\\\"csui-btn-metadata binf-btn\\\"><span class=\\\"csui-icon icon-metadata\\\"></span></button>\\r\\n  <button class=\\\"csui-btn-save csui-btn binf-btn\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.SaveButtonLabel || (depth0 != null ? depth0.SaveButtonLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"SaveButtonLabel\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n  <button class=\\\"csui-btn-cancel csui-btn binf-btn\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.CancelButtonLabel || (depth0 != null ? depth0.CancelButtonLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"CancelButtonLabel\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n</div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.haveErrorMessage : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('conws_controls_inlineforms_workspace_impl_workspace', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/controls/inlineforms/workspace/impl/workspace',[],function(){});\n","/**\r\n * Created by stefang on 09.10.2015.\r\n */\r\ncsui.define('conws/controls/inlineforms/workspace/workspace.view',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  \"csui/lib/marionette\",\r\n  'i18n!conws/controls/inlineforms/workspace/impl/nls/lang',\r\n  'csui/controls/table/inlineforms/inlineform.registry',\r\n  'csui/controls/table/inlineforms/inlineform/impl/inlineform.view',\r\n  \"hbs!conws/controls/inlineforms/workspace/impl/workspace\",\r\n  \"css!conws/controls/inlineforms/workspace/impl/workspace\"\r\n], function ($, _, Marionette, lang, inlineFormViewRegistry, InlineFormView, template) {\r\n\r\n  var InlineFormWorkspaceView = InlineFormView.extend({\r\n\r\n        className: function () {\r\n          var className = \"conws-inlineform-workspace\";\r\n          if (InlineFormView.prototype.className) {\r\n            className += ' ' + _.result(InlineFormView.prototype, 'className');\r\n          }\r\n          return className;\r\n        },\r\n\r\n        template: template,\r\n\r\n        templateHelpers: function () {\r\n          var dataFromInlineFormView = this._templateHelpers();\r\n          var data = _.extend(dataFromInlineFormView, {\r\n            namePlaceholder: lang.NewWorkspacePlaceholder\r\n          });\r\n          return data;\r\n        },\r\n\r\n        ui: {},\r\n\r\n        events: {},\r\n\r\n        constructor: function InlineFormWorkspaceView(options) {\r\n          this.options = options || {};\r\n\r\n          // extend the base class ui and events hashes\r\n          this.ui = _.extend({}, this.ui, InlineFormView.prototype.ui);\r\n          this.events = _.extend({}, this.events, InlineFormView.prototype.events);\r\n\r\n          Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n        },\r\n\r\n        onDomRefresh: function () {\r\n          this.ui.inputFieldName.select();\r\n        },\r\n\r\n        _saveIfOk: function () {\r\n          this._viewToModelData();\r\n          var name = this.model.get('name');\r\n          if (name.length > 0) {\r\n            this._save({name: name});\r\n          }\r\n        }\r\n\r\n      },\r\n      {\r\n        CSSubType: 848  // Content Server Subtype of Workspace is 848\r\n      }\r\n  );\r\n\r\n  inlineFormViewRegistry.registerByAddableType(\r\n      InlineFormWorkspaceView.CSSubType,\r\n      InlineFormWorkspaceView);\r\n\r\n  return InlineFormWorkspaceView;\r\n});\r\n\n","csui.define('conws/controls/inlineforms/conwstemplate/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/controls/inlineforms/conwstemplate/impl/nls/root/lang',{\r\n  NamePlaceholder: 'Enter name',\r\n  WSTypePlaceholder: 'Select Workspace Type'\r\n});\r\n\n","\n","csui.define('conws/models/workspacetypes/workspacetype.model',[\r\n    'csui/lib/underscore',\r\n    'csui/lib/jquery',\r\n    'csui/lib/backbone',\r\n    'csui/utils/url'\r\n  ], function (_, $, Backbone, Url) {\r\n    'use strict';\r\n  \r\n    var WSTypeModel = Backbone.Model.extend({\r\n  \r\n      constructor: function WSTypeModel(attributes, options) {\r\n        Backbone.Model.prototype.constructor.apply(this, arguments);\r\n        // Enable this model for communication with the CS REST API\r\n        if (options && options.connector) {\r\n          options.connector.assignTo(this);\r\n        }\r\n      },\r\n  \r\n      url: function () {\r\n        var baseUrl = this.connector.connection.url.replace('/v1', '/v2'),\r\n            getUrl  = Url.combine(baseUrl, 'businessworkspacetypes');\r\n        return getUrl;\r\n  \r\n      },\r\n  \r\n      parse: function (response) {\r\n        this.fetched = true;\r\n        return {wstypes: response.results};\r\n      },\r\n  \r\n      isFetchable: function () {\r\n        return true;\r\n      }\r\n    });\r\n  \r\n    return WSTypeModel;\r\n  \r\n  }); \r\n  \n","csui.define('conws/models/workspacetypes/workspacetype.factory',[\r\n    'module', 'csui/lib/jquery', 'csui/lib/backbone',\r\n    'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n    'conws/models/workspacetypes/workspacetype.model', 'csui/utils/commands'\r\n  ], function (module, $, Backbone, ModelFactory, ConnectorFactory,\r\n      wstypeModel, commands) {\r\n    'use strict';\r\n  \r\n    var WsTypeFactory = ModelFactory.extend({\r\n      propertyPrefix: 'workspacetypes',\r\n  \r\n      constructor: function WsTypeFactory(context, options) {\r\n        ModelFactory.prototype.constructor.apply(this, arguments);\r\n  \r\n        // Obtain the server connector from the application context to share\r\n        // the server connection with the rest of the application; include\r\n        // the options, which can contain settings for dependent factories\r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        this.context = context;\r\n        // Expose the model instance in the `property` key on this factory\r\n        // instance to be used by the context\r\n        this.property = new wstypeModel(options, {\r\n          connector: connector\r\n        });\r\n      },\r\n  \r\n      isFetchable: function () {\r\n        return this.property.isFetchable();\r\n      },\r\n  \r\n      fetch: function (options) {\r\n        return this.property.fetch(options);\r\n      }\r\n    });\r\n  \r\n    return WsTypeFactory;\r\n  });\r\n  \n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/controls/inlineforms/conwstemplate/impl/conwstemplate',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"hasError\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"    <select type=\\\"text\\\" value=\\\"\\\" class=\\\"binf-hidden-xs binf-hidden-sm binf-form-control conws-inlineform-input-wstype\\\">\\r\\n      <option value=\\\"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.wsTypePlaceholder || (depth0 != null ? depth0.wsTypePlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"wsTypePlaceholder\",\"hash\":{}}) : helper)))\n    + \"</option>\\r\\n\"\n    + ((stack1 = helpers.each.call(depth0,(depth0 != null ? depth0.wstypes : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":this.program(4, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"    </select>\\r\\n\";\n},\"4\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"      <option value=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.data : depth0)) != null ? stack1.properties : stack1)) != null ? stack1.wksp_type_id : stack1), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.data : depth0)) != null ? stack1.properties : stack1)) != null ? stack1.wksp_type_name : stack1), depth0))\n    + \"</option>\\r\\n\";\n},\"6\":function(depth0,helpers,partials,data) {\n    return \" \";\n},\"8\":function(depth0,helpers,partials,data) {\n    return \"binf-btn-default \";\n},\"10\":function(depth0,helpers,partials,data) {\n    return \" disabled \";\n},\"12\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"    <select type=\\\"text\\\" value=\\\"\\\" class=\\\" binf-form-control conws-inlineform-input-wstype\\\">\\r\\n      <option value=\\\"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.wsTypePlaceholder || (depth0 != null ? depth0.wsTypePlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"wsTypePlaceholder\",\"hash\":{}}) : helper)))\n    + \"</option>\\r\\n\"\n    + ((stack1 = helpers.each.call(depth0,(depth0 != null ? depth0.wstypes : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":this.program(4, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"    </select>\\r\\n\";\n},\"14\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"csui-inlineform-group csui-inlineform-group-error\\\" role=\\\"alert\\\">\\r\\n  <div class=\\\"binf-text-danger\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.errorMessage || (depth0 != null ? depth0.errorMessage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"errorMessage\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n</div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<form>\\r\\n  <div class=\\\"binf-hidden-md binf-hidden-lg hidden-xl hidden-xxl\\r\\n       conws-inlineform-vertical-spacer\\\"></div>\\r\\n  <div class=\\\"csui-inlineform-group csui-inlineform-group-conwstemplate\\\">\\r\\n\\r\\n    <input type=\\\"text\\\" value=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\" placeholder=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.namePlaceholder || (depth0 != null ? depth0.namePlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"namePlaceholder\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"binf-form-control csui-inlineform-input-name \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.validationFailed_Name : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n    \\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.createMode : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n    <button type=\\\"button\\\" class=\\\"binf-hidden-xs\\r\\n    binf-hidden-sm csui-btn-metadata binf-btn\\\">\\r\\n      <span class=\\\"icon icon-toolbar-metadata\\\"></span>\\r\\n    </button>\\r\\n    <button type=\\\"submit\\\" class=\\\"binf-hidden-xs\\r\\n    binf-hidden-sm csui-btn-save csui-btn binf-btn\\r\\n            \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.disableSavebtn : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(6, data, 0),\"inverse\":this.program(8, data, 0)})) != null ? stack1 : \"\")\n    + \"\\\" \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.disableSavebtn : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(10, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \">\"\n    + this.escapeExpression(((helper = (helper = helpers.SaveButtonLabel || (depth0 != null ? depth0.SaveButtonLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"SaveButtonLabel\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n    <button type=\\\"button\\\" class=\\\"binf-hidden-xs binf-hidden-sm csui-btn-cancel csui-btn binf-btn\\r\\n            binf-btn-default\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.CancelButtonLabel || (depth0 != null ? depth0.CancelButtonLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"CancelButtonLabel\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"binf-hidden-md binf-hidden-lg hidden-xl hidden-xxl\\r\\n       conws-inlineform-vertical-spacer\\\"></div>\\r\\n\\r\\n  <div class=\\\"binf-hidden-md binf-hidden-lg hidden-xl hidden-xxl csui-inlineform-group\\r\\ncsui-inlineform-group-conwstemplate-wrapped\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.createMode : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(12, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"    <button type=\\\"button\\\" class=\\\"csui-btn-metadata binf-btn\\\">\\r\\n      <span class=\\\"icon icon-toolbar-metadata\\\"></span>\\r\\n    </button>\\r\\n    <button type=\\\"submit\\\" class=\\\"csui-btn-save csui-btn binf-btn\\r\\n            \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.disableSavebtn : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(6, data, 0),\"inverse\":this.program(8, data, 0)})) != null ? stack1 : \"\")\n    + \"\\\" \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.disableSavebtn : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(10, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \">\"\n    + this.escapeExpression(((helper = (helper = helpers.SaveButtonLabel || (depth0 != null ? depth0.SaveButtonLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"SaveButtonLabel\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n    <button type=\\\"button\\\" class=\\\"csui-btn-cancel csui-btn binf-btn binf-btn-default\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.CancelButtonLabel || (depth0 != null ? depth0.CancelButtonLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"CancelButtonLabel\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n  </div>\\r\\n  <div class=\\\"binf-hidden-md binf-hidden-lg hidden-xl hidden-xxl\\r\\n       conws-inlineform-vertical-spacer\\\"></div>\\r\\n</form>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.haveErrorMessage : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(14, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('conws_controls_inlineforms_conwstemplate_impl_conwstemplate', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/controls/inlineforms/conwstemplate/impl/conwstemplate',[],function(){});\n","csui.define('conws/controls/inlineforms/conwstemplate/conwstemplate.view',[\r\n  'require',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'i18n!conws/controls/inlineforms/conwstemplate/impl/nls/lang',\r\n  'csui/controls/table/inlineforms/inlineform.registry',\r\n  'csui/controls/table/inlineforms/inlineform/impl/inlineform.view',\r\n  'conws/models/workspacetypes/workspacetype.factory',\r\n  \"hbs!conws/controls/inlineforms/conwstemplate/impl/conwstemplate\",\r\n  \"css!conws/controls/inlineforms/conwstemplate/impl/conwstemplate\"\r\n], function (require, $, _, Marionette, lang, inlineFormViewRegistry, InlineFormView, WorkspaceTypeFactory, template) {\r\n\r\n  var InlineFormConwsTemplateView = InlineFormView.extend({\r\n\r\n    className: function () {\r\n      var className = \"conws-template-csui-inlineform\";\r\n      if (InlineFormView.prototype.className) {\r\n        className += ' ' + _.result(InlineFormView.prototype, 'className');\r\n      }\r\n      return className;\r\n    },\r\n\r\n    template: template,\r\n\r\n    templateHelpers: function () {\r\n      var inlineFormViewData = this._templateHelpers();\r\n      var data = _.extend(inlineFormViewData, {\r\n        wstypes: this.wstypes ? this.wstypes.get('wstypes') : \"\",\r\n        namePlaceholder: lang.NamePlaceholder,\r\n        wsTypePlaceholder: lang.WSTypePlaceholder,\r\n        createMode: this.createMode\r\n      });\r\n      return data;\r\n    },\r\n\r\n    ui: {\r\n      wsTypeField: '.conws-inlineform-input-wstype'\r\n    },\r\n\r\n    events: {\r\n      'change @ui.wsTypeField': 'keyReleased'\r\n    },\r\n\r\n    constructor: function InlineFormConwsTemplateView(options) {\r\n      this.options = options || {};\r\n\r\n      // extend the base class ui and events hashes\r\n      this.ui = _.extend({}, this.ui, InlineFormView.prototype.ui);\r\n      this.events = _.extend({}, this.events, InlineFormView.prototype.events);\r\n\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n\r\n      this.createMode = this.options.model.get(\"name\") === \"\" ? true : false;\r\n\r\n      if (this.createMode) {\r\n\r\n        var wstypesfactory = this.options.context.getFactory(\"workspacetypes\");\r\n        // get the workspace types\r\n        if (wstypesfactory && wstypesfactory.property && wstypesfactory.property.fetched) {\r\n          this.wstypes = wstypesfactory.property;\r\n        } else {\r\n          this.wstypes = this.options.context.getModel(WorkspaceTypeFactory, {});\r\n          this.wstypes.fetch();\r\n          this.listenTo(this.wstypes, 'sync', this.render);\r\n        }\r\n\r\n      }\r\n    },\r\n\r\n    // Override base method to set additional model attribute(s)\r\n    _viewToModelDataExtended: function () {\r\n      if (this.createMode) {\r\n        // setting additional attribute(s)\r\n        this.model.set('reference_type', this._getWSTypeID(), { silent: true });\r\n      }\r\n    },\r\n\r\n    toggleButton: function (event) {\r\n      if (this.ui.saveButton.length) {\r\n        var currentInputElementVal = this.ui.inputFieldName.val().trim(),\r\n          enableAddButton = false;\r\n\r\n        // check the name field.\r\n        enableAddButton = currentInputElementVal.length !== 0;\r\n\r\n        if (this.createMode) {\r\n          // if applicable, check the workspacetype field.\r\n          var wsTypeFieldInputElement = !!this.ui.wsTypeField ? this.ui.wsTypeField[0] : undefined;\r\n          if (enableAddButton && !!wsTypeFieldInputElement) {\r\n            var wstypeID = this._getWSTypeID();\r\n            enableAddButton = wstypeID.length !== 0;\r\n          }\r\n        }\r\n\r\n        if (enableAddButton) {\r\n          this.ui.saveButton.prop(\"disabled\", false).addClass(\"binf-btn-default\");\r\n        } else {\r\n          this.ui.saveButton.attr(\"disabled\", \"disabled\").removeClass(\"binf-btn-default\");\r\n        }\r\n      }\r\n      this.refershTabableElements();\r\n    },\r\n\r\n    _getWSTypeID: function () {\r\n      var elInput = this.ui.wsTypeField;\r\n      return $(elInput).val();\r\n    },\r\n\r\n    _saveIfOk: function () {\r\n      this._viewToModelData();\r\n      var name = this.model.get('name'),\r\n        data = {},\r\n        isValid = false;\r\n\r\n      if (name.length > 0) {\r\n        data.name = name;\r\n        isValid = true;\r\n      }\r\n      if (this.createMode && isValid) {\r\n        var wstypeID = this._getWSTypeID();\r\n\r\n        if (wstypeID.length > 0) {\r\n          data.reference_type = wstypeID;\r\n        } else {\r\n          isValid = false;\r\n        }\r\n      }\r\n      if (isValid) {\r\n        this._save(data);\r\n      }\r\n    }\r\n  },\r\n    {\r\n      CSSubType: 848\r\n    }\r\n  );\r\n\r\n  inlineFormViewRegistry.registerByAddableType(InlineFormConwsTemplateView.CSSubType, InlineFormConwsTemplateView);\r\n  return InlineFormConwsTemplateView;\r\n});\r\n\n","csui.define('conws/controls/form/fields/referencefield.states.behavior',[\r\n    'csui/controls/form/impl/fields/csformfield.states.behavior'\r\n], function (FormFieldStatesBehavior) {\r\n\r\n    var ReferenceFieldStatesBehavior = FormFieldStatesBehavior.extend({\r\n\r\n        constructor: function ReferenceFieldStatesBehavior(options, view) {\r\n            FormFieldStatesBehavior.apply(this, arguments);\r\n\r\n        },\r\n\r\n        // Reference Field is Readonly field\r\n        isReadOnly: function () {\r\n            return true;\r\n        }\r\n\r\n    });\r\n\r\n    return ReferenceFieldStatesBehavior;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/controls/form/impl/fields/reference/reference',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.hasValue : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.program(4, data, 0)})) != null ? stack1 : \"\");\n},\"2\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\t\t\t <div class=\\\"btn-container reference-field-data\\\">\\r\\n\t\t\t\t<button aria-labelledby=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.idBtnLabel || (depth0 != null ? depth0.idBtnLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"idBtnLabel\",\"hash\":{}}) : helper)))\n    + \" \"\n    + this.escapeExpression(((helper = (helper = helpers.refDataId || (depth0 != null ? depth0.refDataId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"refDataId\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.data || (depth0 != null ? depth0.data : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"data\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n\t\t\t\t\t<span id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.refDataId || (depth0 != null ? depth0.refDataId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"refDataId\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.data || (depth0 != null ? depth0.data : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"data\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\t\t\t\t</button>\\r\\n\t\t\t </div>\\r\\n\";\n},\"4\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"\t\t<div class=\\\"reference-field-generate \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.generateReference : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.noop,\"inverse\":this.program(5, data, 0)})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n\t\t\t<button id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.btnDesc || (depth0 != null ? depth0.btnDesc : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"btnDesc\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"binf-btn binf-btn-primary reference-generate-number \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.generateReference : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.noop,\"inverse\":this.program(7, data, 0)})) != null ? stack1 : \"\")\n    + \"\\\" \\r\\n\t\t\t\t\ttitle=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.genRefNumber || (depth0 != null ? depth0.genRefNumber : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"genRefNumber\",\"hash\":{}}) : helper)))\n    + \"\\\" \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.generateReference : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.noop,\"inverse\":this.program(9, data, 0)})) != null ? stack1 : \"\")\n    + \">\"\n    + this.escapeExpression(((helper = (helper = helpers.genRefNumber || (depth0 != null ? depth0.genRefNumber : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"genRefNumber\",\"hash\":{}}) : helper)))\n    + \"\\r\\n\t\t\t</button>\\r\\n\t\t</div>\\r\\n\t\t<div class=\\\"reference-field-generate-read\\\">\\r\\n\t\t\t<div class=\\\"reference-field-generate-text\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.depInlineText || (depth0 != null ? depth0.depInlineText : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"depInlineText\",\"hash\":{}}) : helper)))\n    + \" </div>\\r\\n\t\t</div>\\r\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n    return \" cursor-disabled \";\n},\"7\":function(depth0,helpers,partials,data) {\n    return \" reference-generate-number-disabled \";\n},\"9\":function(depth0,helpers,partials,data) {\n    return \" aria-disabled=\\\"true\\\" \";\n},\"11\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"   <div class=\\\"cs-field-read\\\">\\r\\n        <div class=\\\"cs-field-read-inner\\\">\\r\\n            <div class=\\\"btn-container\\\">\\r\\n\t\t\t\t<button aria-labelledby=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.idBtnLabel || (depth0 != null ? depth0.idBtnLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"idBtnLabel\",\"hash\":{}}) : helper)))\n    + \" \"\n    + this.escapeExpression(((helper = (helper = helpers.refDataId || (depth0 != null ? depth0.refDataId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"refDataId\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.data || (depth0 != null ? depth0.data : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"data\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n\t\t\t\t\t<span id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.refDataId || (depth0 != null ? depth0.refDataId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"refDataId\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.data || (depth0 != null ? depth0.data : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"data\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\t\t\t\t</button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>   \\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.readOnly : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.noop,\"inverse\":this.program(12, data, 0)})) != null ? stack1 : \"\");\n},\"12\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.canRegenerateReference : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(13, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"13\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\t\t\t<div class=\\\"reference-field-generate-read\\\">\\r\\n\t\t\t\t<button id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.btnDesc || (depth0 != null ? depth0.btnDesc : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"btnDesc\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"binf-btn binf-btn-primary reference-generate-number\\\"\\r\\n\t\t\t\t\t\ttitle=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.reGenRefNumber || (depth0 != null ? depth0.reGenRefNumber : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"reGenRefNumber\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.reGenRefNumber || (depth0 != null ? depth0.reGenRefNumber : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"reGenRefNumber\",\"hash\":{}}) : helper)))\n    + \"\\r\\n\t\t\t\t</button>\\r\\n\t\t\t</div>\\r\\n\t\t\t<div class=\\\"reference-field-generate-read\\\">\\r\\n\t\t\t\t<div class=\\\"reference-field-generate-text\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.depInlineText || (depth0 != null ? depth0.depInlineText : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"depInlineText\",\"hash\":{}}) : helper)))\n    + \" </div>\\r\\n\t\t\t</div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"reference-field\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.create : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(11, data, 0)})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('conws_controls_form_impl_fields_reference_reference', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/controls/form/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/controls/form/impl/nls/root/lang',{\r\n  genRefNumber: \"Generate reference\",\r\n  reGenRefNumber: \"Re-generate reference\",\r\n  depFieldsText: \"Value can be generated automatically and depends on\",\r\n  rmClassificationText : \"RM Classification\",\r\n  rmClassificationNameText : \"Following RM classification will be used in reference generation:\",\r\n  independentFieldsText: \"Value can be generated automatically\"\r\n});\r\n\r\n\n","\ncsui.define('css!conws/controls/form/impl/fields/reference/reference',[],function(){});\n","csui.define('conws/controls/form/fields/reference.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/controls/form/impl/fields/csformfield.view',\r\n  'csui/utils/url',\r\n  'csui/controls/form/impl/fields/csformfield.editable.behavior',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/controls/form/pub.sub',\r\n  'conws/controls/form/fields/referencefield.states.behavior',\r\n  'hbs!conws/controls/form/impl/fields/reference/reference',\r\n  'i18n!conws/controls/form/impl/nls/lang',\r\n  'css!conws/controls/form/impl/fields/reference/reference'\r\n], function (_, $, Backbone, Marionette, FormFieldView, Url,\r\n    FormFieldEditable2Behavior, ModalAlert, PubSub, ReferenceFieldStatesBehavior, template, lang) {\r\n  \"use strict\";\r\n\r\n  var ReferenceFieldView = FormFieldView.extend({\r\n\r\n    constructor: function ReferenceFieldView(options) {\r\n      FormFieldView.apply(this, arguments);\r\n      this.create = this.options.mode === \"create\" ? true : false;\r\n      this.catId = this.options.dataId.split(\"_\")[0];\r\n      this.formView = this.options.alpacaField.connector.config.formView;\r\n      this.node = !!this.formView.node ? this.formView.node:this.formView.model.node;\r\n      this.connector = this.node.connector;\r\n      this.generatereference = false;\r\n      this.regenerateReference = false;\r\n      this.parentsAttrDataChanged = false;\r\n      this.parentattrIds = [];\r\n      this.parentsattrData = [];\r\n      this.canRegenerateReference = this.alpacaField.schema.canRegenerateReference;\r\n      this.rmClassificationUsed = this.alpacaField.schema.rmClassificationUsed;\r\n      this.rmClassificationsAttached = true;\r\n      if (!!this.alpacaField.schema.oldReferenceAttributeID) {\r\n          this.oldReferenceAttributeID = this.alpacaField.schema.oldReferenceAttributeID;\r\n      }\r\n      if( this.create ){\r\n\t\t  this.listenTo(this.formView, 'invalid:field', this.invalidFieldChange );\r\n      }\r\n      var attr;\r\n      this.hasValue = this.alpacaField.data === null || this.alpacaField.data === undefined ||\r\n                      this.alpacaField.data === \"\" ? false : true;\r\n      if(!!this.alpacaField.schema.depattrlist) {\r\n        _.each(this.options.alpaca.schema.depattrlist, function (parent) {\r\n          this.parentattrIds.push(parent);\r\n          attr = {id: parent, data: this.getAttrData(parent)};\r\n          this.parentsattrData.push(attr);\r\n\r\n          //We need to listen to parent events only when we are adding a category\r\n\t\t  //In the metadata page once the category is added, we don't need to listen to dependent attributes\r\n\t\t  if( this.create ) {\r\n\t\t\t\tthis.listenTo(PubSub, parent + 'dependentattrchanged', this.parentChange);\r\n\t\t  }\r\n\t\t  \r\n        }, this);\r\n      }\r\n      if (this.parentattrIds.length > 0) {\r\n        this.checkReadyForGenerateReference();\r\n      } else {\r\n        if (!this.hasValue) {\r\n          this.generatereference = true;\r\n        }\r\n      }\r\n\r\n\t  //We have to listen to RM model changes only when we are adding a category\r\n      if (this.create && this.rmClassificationUsed && this.formView.model.collection) {\r\n        this.listenTo(this.formView.model.collection, 'add',\r\n            this.rmClassificationChange);\r\n        this.listenTo(this.formView.model.collection, 'remove',\r\n            this.rmClassificationChange);\r\n        if (!this.formView.model.collection.get(\"recordsDetails\")) {\r\n          this.rmClassificationsAttached = false;\r\n          this.generatereference = false;\r\n          this.regenerateReference = false;\r\n        }\r\n      }\r\n\t  //If we are in metadata page, always enable re-generate reference\r\n\t  if( this.create === false ) {\r\n\t\t  this.regenerateReference = true;\r\n\t  }\r\n\t  this.idBtnLabel = this.options.labelId ? this.options.labelId : \"\";\r\n\t  this.refDataId = _.uniqueId('referenceData');\r\n\t  this.depFieldsText = this.getDependencyInlineText();\r\n\t  this.btnDesc = this.alpacaField.options.label + \", \" + (this.hasValue ? lang.reGenRefNumber : lang.genRefNumber) + \", \" + (this.canRegenerateReference ? this.depFieldsText : \"\");\r\n    },\r\n    className: 'cs-formfield cs-referencefield',\r\n    template: template,\r\n    templateHelpers: function () {\r\n      return {\r\n        create: this.create,\r\n        generateReference: this.generatereference,\r\n        data: this.curVal,\r\n        hasValue: this.hasValue,\r\n        readOnly: this.alpacaField.schema.readonly,\r\n        depInlineText: this.depFieldsText,\r\n        id: this.model && this.model.get('id') ? this.model.get('id') : _.uniqueId(\"button\"),\r\n        genRefNumber: lang.genRefNumber,\r\n        reGenRefNumber: lang.reGenRefNumber,\r\n        canRegenerateReference : this.canRegenerateReference,\r\n\t\tidBtnLabel: this.idBtnLabel,\r\n\t\trefDataId: this.refDataId,\r\n\t\tbtnDesc: this.btnDesc\r\n      };\r\n    },\r\n    behaviors: {\r\n      FormFieldEditable: {\r\n        behaviorClass: FormFieldEditable2Behavior\r\n      },\r\n      FormFieldStates: {\r\n        behaviorClass: ReferenceFieldStatesBehavior\r\n      }\r\n    },\r\n    events: {\r\n      'click button.reference-generate-number': 'generateReferenceNumber'\r\n    },\r\n      getDependencyInlineText: function () {\r\n          var dependencyInlineText = '';\r\n          var rmClassName = '';\r\n\t\t  var rmClassData;\r\n          if ( this.rmClassificationUsed && this.rmClassificationsAttached && this.formView.model.collection ) {\r\n              if ( this.formView.model.collection.get(\"recordsDetails\").options.className ) {\r\n                  rmClassName = this.formView.model.collection.get(\"recordsDetails\").options.className;\r\n              } else if( this.formView.model.collection.get(\"recordsDetails\").get(\"data\")) {\r\n\t\t\t\t  rmClassData = this.formView.model.collection.get(\"recordsDetails\").get(\"data\");\r\n\t\t\t\t  if ( rmClassData.name ) {\r\n\t\t\t\t\t  rmClassName = this.formView.model.collection.get(\"recordsDetails\").get(\"data\").name;\r\n\t\t\t\t  } else if ( rmClassData.inherited_rmclassification_name ) {\r\n\t\t\t\t\t\trmClassName = rmClassData.inherited_rmclassification_name[0];\r\n\t\t\t\t  }\r\n\t\t\t\t  // Enable below lines once LPU-9026 is resolved\r\n\t\t\t\t  //elseif(rmClassData.default_rmclassification_name) {\r\n\t\t\t\t  //  rmClassName = rmClassData.inherited_rmclassification_name[0];\r\n\t\t\t\t  //} \r\n              }\r\n          }\r\n          if (this.parentattrIds.length > 0) {\r\n              dependencyInlineText = lang.depFieldsText + \" \" + this.alpacaField.schema.depattrtext;\r\n              if (this.rmClassificationUsed) {\r\n                  dependencyInlineText = dependencyInlineText + \", \" + lang.rmClassificationText;\r\n                  if (this.rmClassificationsAttached) {\r\n                      dependencyInlineText = dependencyInlineText + \". \" + lang.rmClassificationNameText + \" \" +\r\n                          rmClassName;\r\n                  }\r\n              }\r\n          } else if (this.rmClassificationUsed) {\r\n              dependencyInlineText = lang.depFieldsText + \" \" + lang.rmClassificationText;\r\n              if (this.rmClassificationsAttached) {\r\n                  dependencyInlineText = dependencyInlineText + \". \" + lang.rmClassificationNameText + \" \" +\r\n                      rmClassName;\r\n              }\r\n          } else {\r\n              dependencyInlineText = lang.independentFieldsText;\r\n          }\r\n          return dependencyInlineText;\r\n      },\r\n    generateReferenceNumber: function (event) {\r\n      if (this.$el.find('button.reference-generate-number').attr('aria-disabled') === 'true') {\r\n\t\treturn event.preventDefault();\r\n\t  }\r\n\t  var fullUrl;\r\n      var connector = this.node.connector;\r\n      var url = this.getV2Url(connector.connection.url);\r\n      var self = this;\r\n      var formData = this.getFormData();\r\n      fullUrl = Url.combine(\r\n          url + '/refnumbers');\r\n\r\n      var ajaxOptions = {\r\n        type: 'POST',\r\n        url: fullUrl,\r\n        data: formData,\r\n        success: function (response, status, jXHR) {\r\n          if (response.results.errMsg) {\r\n            ModalAlert.showError(response.results.errMsg);\r\n          }\r\n          else {\r\n            if (self.regenerateReference && !!self.oldReferenceAttributeID) {\r\n              var oldReferenceElement = self.getAttrElement(self.oldReferenceAttributeID);\r\n              /*\r\n               * in case no oldReferenceElement is added to the widget,\r\n               * oldReferenceElement will be undefined, so no UI change necessary.\r\n               */\r\n              if ( typeof oldReferenceElement !== 'undefined' ) {\r\n                oldReferenceElement.setValue(self.curVal);\r\n                oldReferenceElement.refresh();\r\n              }\r\n            }\r\n            self.options.alpacaField.setValue(response.results.referenceNumber);\r\n            self.hasValue = true;\r\n            self.curVal = self.options.alpacaField.getValue();\r\n            self.generatereference = false;\r\n            //If we are in metadata page, always enable re-generate reference\r\n            if (self.create === false) {\r\n              self.regenerateReference = true;\r\n            }\r\n            self.parentsAttrDataChanged = false;\r\n            if (!self.create) {\r\n              var ele = self.$el.find('.reference-field .btn-container button');\r\n              ele.find('span').text(self.curVal);\r\n              ele.focus();\r\n            } else {\r\n              if (self.render(self.$el.find('.reference-field-data button').length > 0)) {\r\n                self.$el.find('.reference-field-data button').focus();\r\n              }\r\n            }\r\n\r\n            //Currently name re-generation is supported only for business workspaces\r\n            if (!self.create && self.node.get(\"type\") === 848) {\r\n              if (self.formView.options.metadataView) {\r\n                self.formView.options.metadataView.metadataHeaderView.metadataItemNameView.model.set(\r\n                  \"name\", response.results.nodeName);\r\n              } else {\r\n                self.formView.options.node.set(\"name\", response.results.nodeName)\r\n              }\r\n            }\r\n\r\n          }\r\n        },\r\n        error: function (xhr, status, text) {\r\n          var errorContent = xhr.responseJSON ?\r\n                             ( xhr.responseJSON.errorDetail ? xhr.responseJSON.errorDetail :\r\n                               xhr.responseJSON.error) : lang.defaultErrorGenerateNumber;\r\n          ModalAlert.showError(errorContent);\r\n        }\r\n      };\r\n      connector.extendAjaxOptions(ajaxOptions);\r\n      connector.makeAjaxCall(ajaxOptions);\r\n    },\r\n    getV2Url: function (url) {\r\n      return url.replace('/v1', '/v2');\r\n    },\r\n    invalidFieldChange: function(event) {\r\n\r\n        var fieldId = document.getElementById(event.target.id).closest('.alpaca-container-item').getAttribute('data-alpaca-container-item-name');\r\n        var self = this;\r\n\r\n        _.each(this.options.alpaca.schema.depattrlist, function (depattr) {\r\n            if (depattr === fieldId) {\r\n                _.each(self.parentsattrData, function (element) {\r\n                    if (element.id === fieldId) {\r\n                        element.data = null;\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        var beforeChange = this.generatereference;\r\n\r\n        this.checkReadyForGenerateReference();\r\n\r\n        if (this.create) {\r\n            this.regenerateReference = false;\r\n        } else if (!this.hasValue) {\r\n            this.generatereference = true;\r\n        } else {\r\n            this.generatereference = false;\r\n        }\r\n\r\n        if (beforeChange !== this.generatereference) {\r\n            if (this.generatereference) {\r\n                this.$el.find('button.reference-generate-number').removeClass('reference-generate-number-disabled').attr('aria-disabled', 'false');\r\n            } else {\r\n                this.$el.find('.reference-field-generate').addClass('cursor-disabled');\r\n                this.$el.find('button.reference-generate-number').addClass('reference-generate-number-disabled').attr('aria-disabled', 'true');\r\n            }\r\n        }\r\n    },\r\n    parentChange: function (parent) {\r\n      var that = parent;\r\n\t  var beforeParentChange = this.generatereference;\r\n\t  var afterParentChange;\r\n      if (that !== this) {\r\n        this.insertParentAttrData(parent);\r\n        this.checkReadyForGenerateReference();\r\n        if (this.create) {\r\n          this.regenerateReference = false;\r\n        } else if (!this.hasValue) {\r\n          this.generatereference = true;\r\n        } else {\r\n          this.generatereference = false;\r\n        }\r\n\t\tafterParentChange = this.generatereference;\r\n\t\tif ( beforeParentChange !== afterParentChange ) {\r\n\t\t\tif( this.generatereference ) {\r\n\t\t\t\tthis.$el.find('button.reference-generate-number').removeClass('reference-generate-number-disabled').attr('aria-disabled', 'false');\r\n\t\t\t}else {\r\n\t\t\t\tthis.$el.find('.reference-field-generate').addClass('cursor-disabled');\r\n\t\t\t\tthis.$el.find('button.reference-generate-number').addClass('reference-generate-number-disabled').attr('aria-disabled', 'true');\r\n\t\t\t}\r\n\t\t}\r\n      }\r\n\r\n    },\r\n    rmClassificationChange: function () {\r\n\t  var beforeParentChange = this.generatereference;\r\n\t  var afterParentChange;\r\n      if (this.formView.model.collection && this.formView.model.collection.get(\"recordsDetails\")) {\r\n        this.rmClassificationsAttached = true;\r\n        if (this.create) {\r\n          this.generatereference = true;\r\n        } else {\r\n          this.regenerateReference = true;\r\n        }\r\n      } else {\r\n        this.rmClassificationsAttached = false;\r\n        this.generatereference = false;\r\n        this.regenerateReference = false;\r\n      }\r\n\t  this.checkReadyForGenerateReference();\r\n\t  var depFieldsText = this.getDependencyInlineText();\r\n\t  var btnDesc = this.alpacaField.options.label + \", \" + (this.hasValue ? lang.reGenRefNumber : lang.genRefNumber) + \", \" \r\n\t\t\t\t\t+ (this.canRegenerateReference ? depFieldsText : \"\");\r\n\t  this.$el.find('.reference-field .reference-field-generate-read .reference-field-generate-text').text(depFieldsText);\r\n\t  this.$el.find('button.reference-generate-number').attr('aria-label',btnDesc);\r\n      afterParentChange = this.generatereference;\r\n\t  if ( beforeParentChange !== afterParentChange ) {\r\n\t\tif( this.generatereference ) {\r\n\t\t\tthis.$el.find('.reference-field-generate').removeClass('cursor-disabled');\r\n\t\t\tthis.$el.find('button.reference-generate-number').removeClass('reference-generate-number-disabled').attr('aria-disabled', 'false');\r\n\t\t}else {\r\n\t\t\tthis.$el.find('.reference-field-generate').addClass('cursor-disabled');\r\n\t\t\tthis.$el.find('button.reference-generate-number').addClass('reference-generate-number-disabled').attr('aria-disabled', 'true');\r\n\t\t}\r\n\t  }\r\n    },\r\n    checkReadyForGenerateReference: function () {\r\n      var count = 0;\r\n      _.each(this.parentsattrData, function (attr) {\r\n        if (attr.data !== undefined && attr.data !== null && attr.data !== \"\") {\r\n          count++;\r\n        }\r\n      });\r\n        if (count === this.parentsattrData.length) {\r\n            if (this.create && this.hasValue) {\r\n                this.generatereference = false;\r\n                this.regenerateReference = false;\r\n            } else {\r\n                if (this.rmClassificationsAttached) {\r\n                    if (this.create) {\r\n                        this.generatereference = true;\r\n                        this.regenerateReference = false;\r\n                    }\r\n                    else if (this.parentsAttrDataChanged) {\r\n                        this.regenerateReference = true;\r\n                    } else {\r\n                        this.generatereference = true;\r\n                    }\r\n                } else {\r\n                    this.generatereference = false;\r\n                    this.regenerateReference = false;\r\n                }\r\n            }\r\n        }\r\n      else {\r\n        this.generatereference = false;\r\n        this.regenerateReference = false;\r\n      }\r\n\r\n    },\r\n    insertParentAttrData: function (parent) {\r\n      var self = this;\r\n      var parentData = parent.curVal;\r\n      _.each(self.parentsattrData, function (attr) {\r\n        if (attr.id === parent.options.dataId) {\r\n          if (typeof parent.curVal === 'object') {\r\n            parentData = parent.curVal.id;\r\n          }\r\n          if (String(attr.data) !== parentData) {\r\n            attr.data = parentData;\r\n            self.generatereference = true;\r\n            self.regenerateReference = true;\r\n            self.parentsAttrDataChanged = true;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    getAttrData: function (field) {\r\n      var attrData, setData, setID, attrID;\r\n      var str = field.split(\"_\");\r\n      var catID = str[0];\r\n      var i = 0;\r\n      if (str.length > 3) {\r\n        if (str.length === 6) {\r\n          setID = str[0] + \"_\" + str[1];\r\n          setData = this.formView.alpaca.data[setID];\r\n          attrID = field.replace(setID + \"_\", \"\");\r\n          if (typeof setData !== 'undefined') {\r\n            attrData = setData[attrID];\r\n          }\r\n          else {\r\n            if (this.formView.metadataview.formViewList.length > 1) {\r\n              for (i = 0; i < this.formView.metadataview.formViewList.length; i++) {\r\n                if (typeof this.formView.metadataview.formViewList[i].alpaca.data[attrID] !==\r\n                    'undefined') {\r\n                  attrData = this.formView.metadataview.formViewList[i].alpaca.data[attrID];\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        } else if (str.length === 7) {\r\n          if (str[2] === catID) {\r\n            setID = str[0] + \"_\" + str[1];\r\n            setData = this.formView.alpaca.data[setID];\r\n            attrID = str[2] + \"_\" + str[3] + \"_\" + str[4] + \"_\" + str[5];\r\n            attrData = setData[attrID][0];\r\n          } else {\r\n            setID = str[0] + \"_\" + str[1];\r\n            setData = this.formView.alpaca.data[setID][0];\r\n            attrID = str[3] + \"_\" + str[4] + \"_\" + str[5] + \"_\" + str[6];\r\n            attrData = setData[attrID];\r\n          }\r\n\r\n        } else {\r\n          setID = str[0] + \"_\" + str[1];\r\n          setData = this.formView.alpaca.data[setID][0];\r\n          attrID = str[3] + \"_\" + str[4] + \"_\" + str[5] + \"_\" + str[6];\r\n          attrData = setData[attrID][0];\r\n        }\r\n      }\r\n      else {\r\n        field = str[0] + \"_\" + str[1];\r\n        attrData = this.formView.alpaca.data[field];\r\n        /*\r\n         * if the element is 'undefined' and more than one formView exists, then all the formviews are searched to update the dependent element value if at all element exists.\r\n         */\r\n        if (typeof attrData === 'undefined' && this.formView.metadataview.formViewList.length > 1) {\r\n          for (i = 0; i < this.formView.metadataview.formViewList.length; i++) {\r\n            if (typeof this.formView.metadataview.formViewList[i].alpaca.data[field] !==\r\n                'undefined') {\r\n              attrData = this.formView.metadataview.formViewList[i].alpaca.data[field];\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (str.length === 3) {\r\n          attrData = attrData[0];\r\n        }\r\n      }\r\n      return attrData;\r\n\r\n    },\r\n    getAttrElement: function (field) {\r\n      var element, setID, attrID;\r\n      var str = field.split(\"_\");\r\n      var catID = str[0];\r\n      var i = 0;\r\n      if (str.length > 3) {\r\n        if (str.length === 6) {\r\n          setID = str[0] + \"_\" + str[1];\r\n          element = this.formView.$el.alpaca().childrenByPropertyId[setID];\r\n          attrID = field.replace(setID + \"_\", \"\");\r\n          if (typeof element !== 'undefined') {\r\n            element = element.childrenByPropertyId[attrID];\r\n          }\r\n          else {\r\n            if (this.formView.metadataview.formViewList.length > 1) {\r\n              for (i = 0; i < this.formView.metadataview.formViewList.length; i++) {\r\n                if (typeof this.formView.metadataview.formViewList[i].$el.alpaca().childrenByPropertyId[attrID] !==\r\n                    'undefined') {\r\n                  element = this.formView.metadataview.formViewList[i].$el.alpaca().childrenByPropertyId[attrID];\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        } else if (str.length === 7) {\r\n          if (str[2] === catID) {\r\n            setID = str[0] + \"_\" + str[1];\r\n            element = this.formView.$el.alpaca().childrenByPropertyId[setID];\r\n            attrID = str[2] + \"_\" + str[3] + \"_\" + str[4] + \"_\" + str[5];\r\n            element = element.childrenByPropertyId[attrID].children[0];\r\n          } else {\r\n            setID = str[0] + \"_\" + str[1];\r\n            element = this.formView.$el.alpaca().childrenByPropertyId[setID].children[0];\r\n            attrID = str[3] + \"_\" + str[4] + \"_\" + str[5] + \"_\" + str[6];\r\n            element = element.childrenByPropertyId[attrID];\r\n          }\r\n\r\n        } else {\r\n          setID = str[0] + \"_\" + str[1];\r\n          element = this.formView.$el.alpaca().childrenByPropertyId[setID].children[0];\r\n          attrID = str[3] + \"_\" + str[4] + \"_\" + str[5] + \"_\" + str[6];\r\n          element = element.childrenByPropertyId[attrID].children[0];\r\n        }\r\n\r\n      }\r\n      else {\r\n        field = str[0] + \"_\" + str[1];\r\n        element = this.formView.$el.alpaca().childrenByPropertyId[field];\r\n        /*\r\n         * if the element is 'undefined' and more than one formView exists, then all the formviews are searched to update the dependent element value if at all element exists.\r\n         */\r\n        if (typeof element === 'undefined' && this.formView.metadataview.formViewList.length > 1) {\r\n          for (i = 0; i < this.formView.metadataview.formViewList.length; i++) {\r\n            if (typeof this.formView.metadataview.formViewList[i].$el.alpaca().childrenByPropertyId[field] !==\r\n                'undefined') {\r\n              element = this.formView.metadataview.formViewList[i].$el.alpaca().childrenByPropertyId[field];\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (str.length === 3) {\r\n          element = element.children[0];\r\n        }\r\n      }\r\n      return element;\r\n\r\n    },\r\n    allowEditOnClickReadArea: function () {\r\n      return false;\r\n    },\r\n    getFormData: function () {\r\n      var urlParameters = \"\";\r\n      var formData = {};\r\n      var create = this.create;\r\n      var node_id = this.node.attributes.id;\r\n      var parent_id = this.node.attributes.parent_id;\r\n      var category_id = this.catId;\r\n      var attribute_keys =\"\";\r\n      var attribute_values = \"\";\r\n      var count = 0;\r\n      var cache_id = this.options.alpaca.schema.cacheId;\r\n\t  var rmClassData;\r\n      if (create !== undefined) {\r\n        formData.create = create;\r\n      }\r\n      if (!create) {\r\n        if (node_id !== undefined) {\r\n          formData.node_id = node_id;\r\n        }\r\n        return formData;\r\n      }\r\n      if (cache_id !== undefined) {\r\n        formData.cache_id = cache_id;\r\n      }\r\n      if (parent_id !== undefined) {\r\n        if (typeof parent_id === 'object') {\r\n          parent_id = parent_id.id;\r\n        }\r\n        formData.parent_id = parent_id;\r\n      }\r\n      if (category_id !== undefined) {\r\n        formData.category_id = category_id;\r\n      }\r\n\t  if (this.formView.model.collection.get(\"recordsDetails\")) {\r\n\t\t  rmClassData = this.formView.model.collection.get(\"recordsDetails\").get(\"data\")\r\n\t\t  if( rmClassData.rmclassification_id && rmClassData.rmclassification_id[0] !== 0 ) {\r\n\t\t\t  formData.rm_class_ids = rmClassData.rmclassification_id[0];\r\n\t\t  } else if( rmClassData.inherited_rmclassification_id ){\r\n\t\t\t  formData.rm_class_ids = rmClassData.inherited_rmclassification_id[0];\r\n\t\t  }\r\n\t\t  // Enable below lines once LPU-9026 is resolved\r\n\t\t  // else if( rmClassData.default_rmclassification_id ){\r\n\t\t\t  //formData.rm_class_ids = rmClassData.default_rmclassification_id[0];\r\n\t\t  //}\r\n\t  }      \r\n      if (this.parentattrIds.length > 0) {\r\n        var length = this.parentsattrData.length;\r\n        _.each(this.parentsattrData, function (attr) {\r\n          count++;\r\n          if (count !== length) {\r\n            attribute_keys = \"\" + attribute_keys + \"'\" + attr.id + \"',\";\r\n            attribute_values = \"\" + attribute_values + \"'\" + attr.data + \"',\";\r\n          } else {\r\n            attribute_keys = attribute_keys + \"'\" + attr.id + \"'\";\r\n            attribute_values = attribute_values + \"'\" + attr.data + \"'\";\r\n          }\r\n        });\r\n\r\n        if (attribute_values !== undefined && attribute_keys !== undefined ) {\r\n          formData.attribute_keys = attribute_keys.toString();\r\n          formData.attribute_values = attribute_values.toString();\r\n        }\r\n\r\n      }\r\n\r\n      return formData;\r\n    }\r\n\r\n  });\r\n\r\n  return ReferenceFieldView;\r\n})\r\n;\r\n\n","csui.define('conws/controls/form/fields/alpaca/referencefield',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette', 'csui/lib/alpaca/js/alpaca', 'csui/models/form',\r\n  'conws/controls/form/fields/reference.view',\r\n  'csui/utils/base'\r\n], function (module, _, $, Backbone, Marionette, Alpaca, FormModel, ReferenceFieldView, base) {\r\n\r\n  Alpaca.Fields.ReferenceField = Alpaca.Fields.TextField.extend({\r\n\r\n    constructor: function ReferenceField(container, data, options, schema, view, connector,\r\n        onError) {\r\n      this.base(container, data, options, schema, view, connector, onError);\r\n    },\r\n\r\n    getFieldType: function () {\r\n      return 'reference';\r\n    },\r\n    postRender: function (callback) {\r\n      this.base(callback);\r\n      this.showField();\r\n    },\r\n    showField: function () {\r\n      var id = this.id;\r\n\r\n\t   this.options.id = \"lbl\" + _.uniqueId(id);\r\n\t  \r\n\t  // add an id to the <label> element like alpaca23Label\r\n      var id4Label,\r\n          labelElement = $(this.field[0]).find('label');\r\n\r\n      if (labelElement && labelElement.length === 1) {\r\n        id4Label = labelElement.attr('for') + \"Label\";\r\n        labelElement.attr('id', id4Label);\r\n      }\r\n\r\n      // our field\r\n      this.fieldView = new ReferenceFieldView({\r\n        model: new Backbone.Model({\r\n          data: this.data,\r\n          options: this.options,\r\n          schema: this.schema,\r\n          id: id\r\n        }),\r\n         id: _.uniqueId(id),\r\n        alpacaField: this,\r\n\t\tlabelId: id4Label,\r\n        value: this.data,\r\n        readonly: true,\r\n        mode: this.options.mode,\r\n        dataId: this.name,\r\n        path: this.path,\r\n        alpaca: {\r\n          data: this.data,\r\n          options: this.options,\r\n          schema: this.schema\r\n        }\r\n      });\r\n\r\n      // replace alpaca control with empty div having same classes as control\r\n      var $field = $('<div>').addClass('alpaca-control');\r\n      this.getControlEl().replaceWith($field);\r\n\r\n      // show our field in div\r\n      this.region = new Marionette.Region({el: $field});\r\n      this.region.show(this.fieldView);\r\n\r\n      return;\r\n    },\r\n    focus: function () {\r\n      this.fieldView.setFocus();\r\n    },\r\n    destroy: function () {\r\n      this.base();\r\n      if (this.region) {\r\n        this.region.destroy();\r\n      }\r\n    }\r\n  });\r\n\r\n  Alpaca.registerFieldClass('reference', Alpaca.Fields.ReferenceField, 'bootstrap-csui');\r\n\r\n  return $.alpaca.Fields.ReferenceField;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/controls/description/impl/description',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"  <span class=\\\"description \"\n    + this.escapeExpression(((helper = (helper = helpers.truncate_fade_class || (depth0 != null ? depth0.truncate_fade_class : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"truncate_fade_class\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n        title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.complete_description || (depth0 != null ? depth0.complete_description : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"complete_description\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.current_description || (depth0 != null ? depth0.current_description : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"current_description\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\"\n    + ((stack1 = helpers.unless.call(depth0,(depth0 != null ? depth0.show_expandedView : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"2\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <div class=\\\"description-caret-div\\\">\\r\\n    <span class=\\\"description-readmore icon-expandArrowDownWhite\\\" role=\\\"button\\\" aria-expanded=\\\"false\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.showmore_tooltip || (depth0 != null ? depth0.showmore_tooltip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"showmore_tooltip\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n          aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.showmore_aria || (depth0 != null ? depth0.showmore_aria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"showmore_aria\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\"></span>\\r\\n    <span class=\\\"description-showless icon-expandArrowUpWhite\\\" role=\\\"button\\\" aria-expanded=\\\"true\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.showless_tooltip || (depth0 != null ? depth0.showless_tooltip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"showless_tooltip\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n          aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.showless_aria || (depth0 != null ? depth0.showless_aria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"showless_aria\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\"></span>\\r\\n  </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.current_description : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('conws_controls_description_impl_description', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/controls/description/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/controls/description/impl/nls/root/lang',{\r\n  showmore: 'Show more',\r\n  showmoreAria: 'Show more description',\r\n  showless: 'Show less',\r\n  showlessAria: 'Show less description'\r\n});\r\n\n","\ncsui.define('css!conws/controls/description/impl/description',[],function(){});\n","csui.define('conws/controls/description/description.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette', 'csui/utils/base',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'hbs!conws/controls/description/impl/description',\r\n  'i18n!conws/controls/description/impl/nls/lang',\r\n  'css!conws/controls/description/impl/description'\r\n], function (_, $, Marionette, base, TabableRegionBehavior, PerfectScrollingBehavior, template,\r\n    lang) {\r\n\r\n  var heightToSet = 0;\r\n  var DescriptionView = Marionette.ItemView.extend({\r\n\r\n    className: 'conws-description',\r\n\r\n    template: template,\r\n\r\n    initialize: function () {\r\n      this.shortDescMode = true;\r\n      this.has_more_desc = false;\r\n      this.hideShowLess = false;\r\n      this.collapsedHeightIsOneLine = false;\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        complete_description: this.options.complete_desc,\r\n        current_description: this.options.complete_desc,\r\n        more_description: this.has_more_desc && !this.hideShowLess,\r\n        showmore_tooltip: lang.showmore,\r\n        showmore_aria: lang.showmoreAria,\r\n        showless_tooltip: lang.showless,\r\n        showless_aria: lang.showlessAria,\r\n        show_expandedView: this.expandDescription,\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      description: '.description',\r\n      readMore: '.description-readmore',\r\n      showLess: '.description-showless',\r\n      caretDiv: '.description-caret-div'\r\n    },\r\n\r\n    events: {\r\n      'keydown @ui.readMore': 'readMoreClicked',\r\n      'keydown @ui.showLess': 'showLessClicked',\r\n      'click @ui.readMore': 'readMoreClicked',\r\n      'click @ui.showLess': 'showLessClicked'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.description',\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15\r\n      }\r\n    },\r\n\r\n    constructor: function DescriptionView(options) {\r\n      this.options = options || {};\r\n      this.expandDescription = options.expandDescription === undefined ? true : options.expandDescription;\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      this.hideShowLess = false;\r\n\r\n      this.listenTo(this, 'dom:refresh', this._truncateIfNecessary);\r\n\r\n      this.listenTo(this.options.view, 'dom:refresh', function () {\r\n        this.triggerMethod('dom:refresh');\r\n      });\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      if (this.has_more_desc) {\r\n        if (this.shortDescMode) {\r\n          return this.ui.readMore;\r\n        } else {\r\n          return this.ui.showLess;\r\n        }\r\n      } else {\r\n        return $();\r\n      }\r\n    },\r\n\r\n    onDestroy: function () {\r\n      heightToSet = 0;\r\n      if (this.renderTimer) {\r\n        clearTimeout(this.renderTimer);\r\n      }\r\n    },\r\n\r\n    _setTimer: function () {\r\n      if (this.renderTimer) {\r\n        clearTimeout(this.renderTimer);\r\n      }\r\n      this.renderTimer = setTimeout(_.bind(function () {\r\n        this._truncateIfNecessary();\r\n      }, this), 200);\r\n    },\r\n\r\n    onRender: function () {\r\n      this._setTimer();\r\n    },\r\n\r\n    _updateDescriptionAndCaret: function () {\r\n      this._enableCaretState();\r\n      if (this.shortDescMode && this.has_more_desc) {\r\n        this.$el.addClass('conws-description-collapsed');\r\n      } else {\r\n        this.$el.removeClass('conws-description-collapsed');\r\n      }\r\n    },\r\n\r\n    _truncateIfNecessary: function () {\r\n\t    if (!!this.ui.description && typeof(this.ui.description) === \"object\") {\r\n        var actualHeight = this.getActualHeight();\r\n        var maxHeight;\r\n\r\n        if (actualHeight && actualHeight !== 0) {\r\n          if (heightToSet < actualHeight) {\r\n            heightToSet = actualHeight;\r\n          }\r\n          this.$el.removeClass(\"description-height-threeline description-height-twoline\");\r\n          if(this.expandDescription === true) {\r\n            this.$el.addClass('description-expanded-view');\r\n            maxHeight = this.getMaxHeight();\r\n            if (heightToSet === maxHeight) {\r\n              this.$el.addClass('description-height-oneline');\r\n            } else {\r\n              heightToSet > maxHeight * 2 ? this.$el.addClass('description-height-threeline') : this.$el.addClass('description-height-twoline');\r\n            }\r\n          } else {\r\n            this.$el.removeClass('description-expanded-view');\r\n            maxHeight = this.getMaxHeight();\r\n            if (actualHeight > maxHeight) {\r\n              this.has_more_desc = true;\r\n            }\r\n            this._enableCaretState();\r\n            this.$el.addClass(\"description-height-oneline\");\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    getActualHeight: function () {\r\n      return this.ui.description.height();\r\n    },\r\n\r\n    getMaxHeight: function () {\r\n      return parseFloat(this.ui.description.css(\"line-height\"));\r\n    },\r\n\r\n    readMoreClicked: function (event) {\r\n      if (!!event && (event.keyCode === 13 || event.keyCode === 32 || event.type === 'click')) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n\r\n        this.shortDescMode = false;\r\n        this._truncateIfNecessary();\r\n\r\n        //If description is 2 lines then less-caret icon should take 2 line height otherwise 3 line height.\r\n        this.$el.removeClass(\"description-height-oneline\");\r\n        var maxHeight = this.getMaxHeight();\r\n        heightToSet > maxHeight * 2 ? this.$el.addClass('description-height-threeline') : this.$el.addClass('description-height-twoline');\r\n        heightToSet > maxHeight * 2 ? this.ui.caretDiv.addClass(\"description-height-threeline\") : this.ui.caretDiv.addClass(\"description-height-twoline\");\r\n        this.ui.showLess.focus();\r\n        this.trigger(\"show:more:description\");\r\n      }\r\n    },\r\n\r\n    showLessClicked: function (event) {\r\n      if (!!event && (event.keyCode === 13 || event.keyCode === 32 || event.type === 'click')) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n\r\n        this.$el.find(\".description\").scrollTop(0);\r\n        this.shortDescMode = true;\r\n        this._truncateIfNecessary();\r\n        this.$el.removeClass(\"description-height-threeline description-height-twoline\");\r\n        this.ui.caretDiv.removeClass(\"description-height-threeline description-height-twoline\");\r\n        this.ui.readMore.focus();\r\n        this.trigger(\"show:less:description\");\r\n      }\r\n    },\r\n\r\n    _enableCaretState: function () {\r\n      if (this.has_more_desc) {\r\n        this.ui.readMore.toggleClass('caret-hide', this.shortDescMode ? false : true);\r\n        this.ui.showLess.toggleClass('caret-hide', this.shortDescMode ? true : false);\r\n      } else {\r\n        // text is not truncated -> no need for readMore or showLess caret to display\r\n        this.ui.readMore.addClass('caret-hide');\r\n        this.ui.showLess.addClass('caret-hide');\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return DescriptionView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/controls/lazyactions/impl/lazy.loading.template',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<li role=\\\"menuitem\\\" class=\\\"csui-loading-parent-wrapper binf-disabled csui-disbaled\\\">\\r\\n  <span class=\\\"csui-loading-dots-wrapper\\\">\\r\\n    <span class=\\\"csui-loading-dot\\\"></span>\\r\\n    <span class=\\\"csui-loading-dot\\\"></span>\\r\\n    <span class=\\\"csui-loading-dot\\\"></span>\\r\\n  </span>\\r\\n</li>\";\n}});\nHandlebars.registerPartial('conws_controls_lazyactions_impl_lazy.loading.template', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/controls/lazyactions/lazyToolbar.view',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',  \r\n  'csui/models/nodes', 'csui/controls/toolbar/toolitems.filtered.model',  \r\n  'csui/utils/commands',   \r\n  'csui/controls/toolbar/delayed.toolbar.view',\r\n  'csui/controls/toolbar/toolbar.command.controller',\r\n  'hbs!conws/controls/lazyactions/impl/lazy.loading.template'\r\n], function (module, _, $, Backbone,   NodeCollection,\r\n  FilteredToolItemsCollection,   commands,\r\n  DelayedToolbarView, ToolbarCommandController, lazyLoadingTemplate) {\r\n    'use strict';\r\n\r\n    var LazyToolbarView = DelayedToolbarView.extend({\r\n\r\n      constructor: function LazyToolbarView(options) {\r\n\r\n        options = options || {};\r\n        var node = options.node;\r\n\r\n        if (!options.nodes) {\r\n          var nodes = new NodeCollection(node);\r\n          nodes.connector = node.connector;\r\n          options.nodes = nodes;\r\n        }\r\n\r\n        this.connector = options.connector || options.nodes.connector || node.connector;\r\n\r\n        if (!options.status) {\r\n          options.status = {\r\n            context: options.context,\r\n            nodes: options.nodes,\r\n            container: options.container,\r\n            originatingView: options.originatingView\r\n          };\r\n        }\r\n        this.status = options.status;\r\n\r\n        this.commandController = options.commandController ||\r\n          new ToolbarCommandController({\r\n            commands: options.commands || commands\r\n          });\r\n\r\n        if (!options.collection) {\r\n\r\n          options.collection = new FilteredToolItemsCollection(\r\n            options.toolbarItems, {\r\n              status: this.status,\r\n              commands: this.commandController.commands,\r\n              delayedActions: node.delayedActions,\r\n              mask: options.toolbarItemsMask\r\n            });\r\n        }\r\n        this.collection = options.collection;\r\n\r\n        DelayedToolbarView.prototype.constructor.apply(this, arguments);\r\n        \r\n        this.listenTo(this, 'delayed:toolbar:refresh', this._refreshLazyToolbar);\r\n        this.listenTo(this, 'childview:toolitem:action', this._toolbarItemClicked);\r\n      },\r\n      \r\n      events: {\r\n        'show.binf.dropdown': 'onBeforeShowDropDown'\r\n       },\r\n\r\n      onBeforeShowDropDown: function (obj) {\r\n        var selectedNodes;\r\n        var lazyActionsRetrieved, isLocallyCreatedNode;\r\n        var nonPromotedActionCommands = [];\r\n\r\n        if (this.lazyActionsRetrieved) {\r\n          return;\r\n        }\r\n\r\n        this.$el.find(\".csui-more-dropdown-menu\").append(lazyLoadingTemplate);\r\n\r\n        if (this.status.nodes instanceof NodeCollection) {\r\n          selectedNodes = this.status.nodes;\r\n        } else {\r\n          if (this.status.nodes instanceof Backbone.Collection) {\r\n            selectedNodes = new NodeCollection(this.status.nodes.models);\r\n          } else {\r\n            if (_.isArray(this.status.nodes)) {\r\n              selectedNodes = new NodeCollection(this.status.nodes);\r\n            } else {\r\n              selectedNodes = new NodeCollection();\r\n            }\r\n          }\r\n        }\r\n        if (!selectedNodes.connector) {\r\n          selectedNodes.connector = this.connector;\r\n        }\r\n\r\n        selectedNodes.each(function (selectedNode) {\r\n          lazyActionsRetrieved = lazyActionsRetrieved &&\r\n            selectedNode.get('csuiLazyActionsRetrieved');\r\n          isLocallyCreatedNode = isLocallyCreatedNode && selectedNode.isLocallyCreated;\r\n          nonPromotedActionCommands = nonPromotedActionCommands.length ?\r\n            nonPromotedActionCommands :\r\n            selectedNode.nonPromotedActionCommands;\r\n        });\r\n\r\n        selectedNodes.nonPromotedActionCommands = nonPromotedActionCommands;\r\n        selectedNodes.lazyActionsRetrieved = lazyActionsRetrieved;\r\n\r\n        if (!lazyActionsRetrieved && !isLocallyCreatedNode &&\r\n          nonPromotedActionCommands.length) { \r\n          selectedNodes.lazyActionsRetrieved = this.lazyActionsRetrieved;\r\n          //TODO: _renderLazyActions is a private method of the toolbarview and should not be used.\r\n          // Please refactor the following once LPAD-77768 is addressed.\r\n          this._renderLazyActions(selectedNodes);     \r\n        }\r\n        this.lazyActionsRetrieved = true;        \r\n      },\r\n\r\n      _onDomRefresh: function(){ \r\n        //do nothing .. suppress toolbar adjust from here\r\n      },\r\n\r\n      _refreshLazyToolbar: function(){\r\n        DelayedToolbarView.prototype._onDomRefresh.call(this);\r\n      },\r\n\r\n      _toolbarItemClicked: function (toolItemView, args) {\r\n        this.commandController.toolitemClicked(args.toolItem, this.options);\r\n      },\r\n\r\n    })\r\n    return LazyToolbarView;\r\n  });\n","csui.define('conws/controls/selectedmetadataform/selectedmetadataform.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/base', 'csui/utils/url',\r\n  'csui/controls/form/form.view','csui/controls/globalmessage/globalmessage'\r\n], function (_, $, base, Url, FormView, GlobalMessage) {\r\n\r\n  function getSelectorPath(root,node) {\r\n    var path;\r\n    while (node.length) {\r\n      if ($(node).is(root)) {\r\n        return path ? '>' + path : '';\r\n      }\r\n      var realNode = node[0], name = realNode.localName;\r\n      if (!name) { break; }\r\n      name = name.toLowerCase();\r\n\r\n      var parent = node.parent();\r\n\r\n      var allSiblings = parent.children();\r\n      var index = allSiblings.index(realNode) + 1;\r\n      name += ':nth-child(' + index + ')';\r\n\r\n      path = name + (path ? '>' + path : '');\r\n      node = parent;\r\n    }\r\n    return root ? undefined : path;\r\n  }\r\n\r\n  function getFocusInfo(view) {\r\n    var focusPath;\r\n    var focused = view.$el.find(\":focus\");\r\n    if (focused.length) {\r\n      var control = focused;\r\n      while (control && control.length && !control.attr(\"data-alpaca-field-id\")) {\r\n        control = control.parent();\r\n      }\r\n      if (control.length) {\r\n        focusPath = getSelectorPath(view.$el,control)\r\n      }\r\n    }\r\n    var scrolltop = view.$el.parent().parent().scrollTop();\r\n    return {focused:focused,focusPath:focusPath,scrolltop:scrolltop};\r\n  }\r\n\r\n  function restoreFocus(view,focusInfo) {\r\n    if (focusInfo.scrolltop>=0) {\r\n      view.$el.parent().parent().scrollTop(focusInfo.scrolltop);\r\n    }\r\n    var focused = view.$el.find(\":focus\");\r\n    if (!focused.is(focusInfo.focused)) {\r\n      if (focusInfo.focusPath) {\r\n        var control = view.$el.find(focusInfo.focusPath),\r\n            tofocus = control.find(\".alpaca-control .cs-field-read button\");\r\n        tofocus.click();\r\n      }\r\n    }\r\n  }\r\n\r\n  // call given function if callback has been called the specified count of times\r\n  function CallOnCount(count,fct) {\r\n    this.count = count;\r\n    this.fct = fct;\r\n    this.callback = function callback () {\r\n      if (this.count>0) {\r\n        this.count = this.count - 1;\r\n        if (this.count===0) {\r\n          this.fct.call();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function makeCountCallback(count,fct) {\r\n    // set timeout to 0, just causes, that code is called after current thread execution\r\n    // we need this, so setting focus and scroll position is done after field layout\r\n    var coc = new CallOnCount(count,function(){setTimeout(fct,0);});\r\n    return _.bind(coc.callback,coc);\r\n  }\r\n\r\n  // due to lack in csui, setting an array value with different length runs into error.\r\n  // to avoid this we add/remove required items.\r\n  function adaptChildrenLength(el,val) {\r\n    var ii;\r\n    if (el.children && el.children.length) {\r\n      if (val && val.length) {\r\n        if (val.length>el.children.length) {\r\n          for (ii = el.children.length; ii<val.length; ii++) {\r\n            var data = val[ii];\r\n            var options = _.extend({},el.children[0].options);\r\n            var schema = _.extend({},el.children[0].schema);\r\n            el.addItem(ii,schema,options,data,function(){});\r\n          }\r\n        } else if (val.length<el.children.length) {\r\n          for (ii = el.children.length-1; ii >= val.length; ii--) {\r\n            el.removeItem(ii,function(){});\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // determine all fields displaying the changed attribute, except the one identified by path.\r\n  // on error only the one identified by path.\r\n  function getRefreshFields(children,changes,path,iserror) {\r\n    var fields = [];\r\n    for (var ii=0; ii<children.length; ii++) {\r\n      var el = children[ii];\r\n      if (el.propertyId && changes.hasOwnProperty(el.propertyId)) {\r\n        if (iserror ? el.path===path : el.path!==path) {\r\n          fields.push(el);\r\n        }\r\n      } else if (el.children) {\r\n        fields = fields.concat(getRefreshFields(el.children,changes,path,iserror));\r\n      }\r\n    }\r\n    return fields;\r\n  }\r\n\r\n  // refresh fields if same attribute is displayed in different fields\r\n  // and on error this function is used to restore old values\r\n  // also restores scroll position and focus field\r\n  function refreshFields(view,focus,changes,path,iserror) {\r\n    // to improve: find scroll parent better.\r\n    var fields = getRefreshFields(view.form.children,changes,path,iserror);\r\n    if (fields.length) {\r\n      var callback = makeCountCallback(fields.length,function(){\r\n        restoreFocus(view,focus);\r\n      });\r\n      fields.forEach(function(el){\r\n        adaptChildrenLength(el,changes[el.propertyId]);\r\n        el.setValue(changes[el.propertyId]);\r\n        el.refresh(callback);\r\n      });\r\n    }\r\n  }\r\n\r\n  var SelectedMetadataFormView = FormView.extend({\r\n\r\n    constructor: function SelectedMetadataFormView(options) {\r\n      FormView.prototype.constructor.call(this, options);\r\n\r\n      this.node = this.options.node;\r\n      this.listenTo(this, 'change:field', function(args){\r\n\t\t  this._saveField(args);\r\n\t  });\r\n    },\r\n\r\n    _saveField: function (args) {\r\n      // must search for changed property, as in the rest call only attributes from one single\r\n      // category can be changed and it runs into an error, if other attributes are passed.\r\n\t  if(this._hasDependentFields(args)){\r\n\t\tthis._saveDependentFields(args.fieldView);\r\n\t  }\r\n\t  else{\r\n        var property = this.form.getControlByPath(args.path[0]==='/'?args.path.substring(1):args.path);\r\n        this._saveChanges(property.propertyId,args.value,property.path,true);\r\n\t  }\r\n    },\r\n\r\n\t/*\r\n\t * To check if the category attribute has any children/dependent attributes \r\n\t * returns true if category attribute has dependent attributes\r\n\t * else false\r\n\t*/\r\n\t_hasDependentFields: function(args){\r\n\t  if(typeof args.fieldView !== 'undefined'){\r\n\t    if(typeof args.fieldView.isTKLField !== 'undefined'){\r\n\t\t  if(args.fieldView.isTKLField){\r\n\t\t\tif(args.fieldView.children.length > 0){\r\n\t\t\t  return true;\r\n\t\t\t}\r\n\t\t\telse{\r\n \t\t\t  return false;\r\n\t\t\t}\r\n\t\t  }\r\n\t\t  else{\r\n\t\t\treturn false;\r\n\t\t  }\r\n\t\t}\r\n\t\telse{\r\n\t      return false;\r\n\t\t}\r\n\t  }\r\n\t  else{\r\n\t\treturn false;\r\n\t  }\r\n\t},\r\n\r\n\t/*\r\n\t *  To find and save all the dependent tkl attributes\r\n\t *  Saves the tkl attributes and its depencent category attributes in synchronized fashion to allow concurrency \r\n\t*/\r\n\t_saveDependentFields: function(fieldView){\r\n\t  this._saveChanges(fieldView.alpacaField.propertyId,fieldView.getEditValue(),fieldView.alpacaField.path,false);\r\n\t  if(fieldView.children.length>0){\r\n\t    for(var i=0;i<fieldView.children.length;i++){\r\n\t\t  this._saveDependentFields(fieldView.children[i])\r\n\t    }\r\n\t  }\r\n\t},\r\n\r\n    // Save change of a single category attribute to the server\r\n\t/*\r\n\t * New variable is defined in the function signature - isInSync (takes boolean)\r\n\t * Introduced isInSync to save dependent tkl values synchronously\r\n\t * if no dependent tkl's are provided async is restored\r\n\t*/\r\n    _saveChanges: function (propertyId,value,path,isInSync) {\r\n      var change = {},\r\n          changes = {};\r\n      var values = this.getValues();\r\n      var segpath = path[0]==='/' ? path.substring(1) : path;\r\n      var segments = segpath.split('/');\r\n      for (var ii=0; ii<segments.length-1; ii++) {\r\n        if (values) {\r\n          values = values[segments[ii]];\r\n        }\r\n      }\r\n      if (values) {\r\n        _.each(values,function(val,id){\r\n          if (id === propertyId) {\r\n\t\t\tchange[id] = val;\r\n            changes[id] = val;\r\n          }\r\n        },changes);\r\n      }\r\n      // if --> when attributes from multivalued set are added in PMan, \r\n\t  //Previously, In this case we are using PUT without Multivalued set Id, so adding the Set Id to the Changed property.\r\n\t  // changed the implementation as we have some issues while saving in this scenario\r\n\t  if(propertyId.search(\"x\") > 0){\r\n\t\tvar temp={},\r\n\t\t\tparentPropertyId;\r\n\t    temp[propertyId] = changes[propertyId];\r\n\t\tdelete changes[propertyId];\r\n\t\tdelete change[propertyId];\r\n\t\tparentPropertyId = propertyId.substring( 0, propertyId.indexOf(\"x\")-1 );\r\n\t\tchanges[parentPropertyId] = [temp];\r\n\t\tchange[parentPropertyId] = [temp];\r\n\t  }\r\n      if (!this.node) {\r\n        throw new Error('Missing node to save the categories to.');\r\n      }\r\n      if (this._validate(change)) {\r\n        var focus = getFocusInfo(this);\r\n        this._blockActions();\r\n        return this.node.connector.makeAjaxCall(this.node.connector.extendAjaxOptions({\r\n              type: 'PUT',\r\n              url: Url.combine(this.node.urlBase(), 'categories', propertyId.split('_')[0]),\r\n              // proper formating is done in makeAjaxCall\r\n              data: changes,\r\n\t\t\t  async: isInSync\r\n            }))\r\n            .done(_.bind(function () {\r\n              this.model.updateData(change);\r\n              refreshFields(this,focus,change,path,false);\r\n              this.trigger('forms:sync');\r\n              // event for keyboard navigation\r\n              var event = $.Event('tab:content:field:changed');\r\n              this.$el.trigger(event);\r\n            }, this))\r\n            .fail(_.bind(function (jqxhr) {\r\n              var restore = this.model.restoreData(change);\r\n              refreshFields(this,focus,restore,path,true);\r\n              var error = new base.Error(jqxhr);\r\n              GlobalMessage.showMessage('error', error.message);\r\n              this.trigger('forms:error');\r\n            }, this))\r\n            .always(_.bind(function () {\r\n              this._unblockActions();\r\n            }, this));\r\n      }\r\n      return $.Deferred().reject().promise();\r\n    }\r\n  });\r\n\r\n  return SelectedMetadataFormView;\r\n});\r\n\n","csui.define('conws/utils/commands/permissions/permissions.util',[\r\n    'csui/utils/url'\r\n], function (Url) {\r\n    'use strict';\r\n    var PermissionsUtil = {\r\n        getUrl: function (nodeRolePermissionModel) {\r\n            var nodeId = nodeRolePermissionModel.nodeId,\r\n                url = nodeRolePermissionModel.connector.connection.url.replace('/v1', '/v2');\r\n            url = Url.combine(url, 'businessworkspaces', nodeId, 'roles');\r\n\r\n            if (!!nodeRolePermissionModel.action) {\r\n                var roleId;\r\n                if (nodeRolePermissionModel.action === \"delete\" || nodeRolePermissionModel.action === \"editperms\") {\r\n                    roleId = nodeRolePermissionModel.get(\"right_id\");\r\n                    url = Url.combine(url, roleId);\r\n                }\r\n                else if (nodeRolePermissionModel.action === \"fetch\" || nodeRolePermissionModel.action === \"update\") {\r\n                    roleId = nodeRolePermissionModel.get(\"right_id\");\r\n                    var queryparameters = Url.combineQueryString({\r\n                        fields: \"members\"\r\n                    });\r\n                    url = Url.combine(url, roleId);\r\n                    url = url + \"?\" + queryparameters;\r\n                }\r\n            }\r\n            return url;\r\n        },\r\n\r\n        isWorkspaceRole: function (model) {\r\n            var isWorkspaceRole, right_id_expand = model.get('right_id_expand');\r\n            if (!!right_id_expand) {\r\n                //if model is NodePermissionModel\r\n                isWorkspaceRole = !!right_id_expand.type && (right_id_expand.type === 848);\r\n            }\r\n            else {\r\n                //if model is MemberModel\r\n                isWorkspaceRole = !!model.get('type') && (model.get('type') === 848);\r\n            }\r\n            return isWorkspaceRole;\r\n        },\r\n\r\n        isLeaderRole: function (nodeModel, model) {\r\n            var isLeaderRole, isInheritedRole = this.isInheritedRole(nodeModel, model),\r\n            right_id_expand = model.get('right_id_expand');\r\n            if (!!right_id_expand) {\r\n                //if model is NodePermissionModel\r\n                isLeaderRole = !isInheritedRole && !!right_id_expand.id && !!right_id_expand.leader_id && (right_id_expand.id === right_id_expand.leader_id);   \r\n            }\r\n            else{\r\n                 //if model is MemberModel\r\n                isLeaderRole = !isInheritedRole && !!model.get(\"id\") && !!model.get(\"leader_id\") && (model.get(\"id\") === model.get(\"leader_id\"));   \r\n            }\r\n             \r\n            return isLeaderRole;\r\n        },\r\n\r\n        isInheritedRole: function (nodeModel, model) {\r\n            var isInheritedRole, right_id_expand = model.get('right_id_expand');\r\n            if (!!right_id_expand) {\r\n                //if model is NodePermissionModel\r\n                isInheritedRole = !!right_id_expand.node_id &&\r\n                    !!nodeModel && !!nodeModel.get(\"id\") &&\r\n                    (right_id_expand.node_id !== nodeModel.get(\"id\"));\r\n            }\r\n            else {\r\n                //if model is MemberModel\r\n                isInheritedRole = !!model.get('node_id') &&\r\n                    !!nodeModel && !!nodeModel.get(\"id\") &&\r\n                    (model.get('node_id') !== nodeModel.get(\"id\"));\r\n            }\r\n            return isInheritedRole;\r\n\r\n        },\r\n\r\n        isWorkspace: function (nodeModel) {\r\n            return !!nodeModel && !!nodeModel.get(\"type\") && (nodeModel.get(\"type\") === 848);\r\n        }\r\n    };\r\n    return PermissionsUtil;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/controls/table/cells/role/impl/role',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \" binf-disabled\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.unless.call(depth0,(depth0 != null ? depth0.addOwnerOrGroup : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":this.program(4, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"4\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <div class=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.inlineToolBarPlaceholderClass || (depth0 != null ? depth0.inlineToolBarPlaceholderClass : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"inlineToolBarPlaceholderClass\",\"hash\":{}}) : helper)))\n    + \" binf-hidden\\\"></div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"csui-user-container\\\">\\r\\n  <div class=\\\"csui-profileimg binf-pull-left\\\">\\r\\n    <span class=\\\"csui-icon-paceholder csui-icon conws-mime_roles\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.ariaUserLabel || (depth0 != null ? depth0.ariaUserLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ariaUserLabel\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n  </div>\\r\\n  <div class=\\\"member-info csui-fadeout\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.disabled : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \" \\\">\\r\\n    <div class=\\\"\\\">\\r\\n      <span class=\\\"csui-user-display-name csui-role\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.ariaUserLabel || (depth0 != null ? depth0.ariaUserLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ariaUserLabel\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n  </div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.includeInlineToolBarPlaceholder : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"</div>\";\n}});\nHandlebars.registerPartial('conws_controls_table_cells_role_impl_role', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/controls/table/cells/role/impl/role',[],function(){});\n","csui.define('conws/controls/table/cells/role/role.view',[\r\n  'csui/lib/underscore',\r\n  'csui/controls/table/cells/user/user.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'csui/models/member',\r\n  'conws/utils/commands/permissions/permissions.util',\r\n  'hbs!conws/controls/table/cells/role/impl/role',\r\n  'css!conws/controls/table/cells/role/impl/role'\r\n], function (_, UserCellView, cellViewRegistry, MemberModel, PermissionsUtil, roleTemplate) {\r\n\r\n  var RoleCellView = UserCellView.extend({\r\n\r\n    renderValue: function () {\r\n      var data = this.getValueData(),\r\n        template = this.getTemplate(),\r\n        // Making the entire data object undefined renders nothing; if the object\r\n        // contains defined value the template should be prepared for it\r\n        html = data ? template(data) : '';\r\n      this.$el.html(html);\r\n    },\r\n\r\n    getTemplate: function () {\r\n      var template;\r\n      if (!!this.isWorkspaceRole && this.isWorkspaceRole) {\r\n        template = roleTemplate;\r\n      }\r\n      else {\r\n        // In this case load the user.view template\r\n        template = this.template;\r\n      }\r\n      return template;\r\n    },\r\n\r\n    getValueData: function () {\r\n      return _.extend(RoleCellView.__super__.getValueData.apply(this, arguments), {\r\n        isWorkspaceRole: this.isWorkspaceRole\r\n      })\r\n    },\r\n\r\n    constructor: function RoleCellView(options) {\r\n      RoleCellView.__super__.constructor.apply(this, arguments);\r\n\r\n      if (!!this.model && !!this.model.collection) {\r\n\r\n        this.isWorkspaceRole = PermissionsUtil.isWorkspaceRole(this.model);\r\n\r\n        if (!this.model.collection.extraMemberModels) {\r\n          this.model.collection.extraMemberModels = [];\r\n        }\r\n        if (this.isWorkspaceRole) {\r\n          var isModelExist = this.model.collection.extraMemberModels.some(function (memberModel) {\r\n            return memberModel.get(\"id\") === this.model.get(\"right_id_expand\").id\r\n          }, this);\r\n          // only add to extraMemberModels if it doesnot exist.\r\n          if (!isModelExist) {\r\n            var memberModel = new MemberModel(this.model.get(\"right_id_expand\"))\r\n            memberModel.nodeModel = this.options.nodeModel;\r\n            this.model.collection.extraMemberModels.push(memberModel);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n  cellViewRegistry.registerByColumnKey('right_id', RoleCellView);\r\n  return RoleCellView;\r\n});\r\n\n","csui.define('conws/controls/table/cells/permission/role.permission.level.view',['csui/lib/jquery', 'csui/lib/underscore',\r\n    'csui/controls/table/cells/permission/permission.level.view',\r\n    'csui/utils/commands',\r\n    'csui/controls/table/cells/cell.registry',\r\n    'conws/utils/commands/permissions/permissions.util'\r\n], function ($, _, PermissionLevelCellView, commands, cellViewRegistry, PermissionsUtil) {\r\n    'use strict';\r\n\r\n    var RolePermissionLevelCellView = PermissionLevelCellView.extend({\r\n\r\n        constructor: function RolePermissionLevelCellView(options) {\r\n            RolePermissionLevelCellView.__super__.constructor.apply(this, arguments);\r\n            this.$ = $;\r\n        },\r\n\r\n        // overriden this function from PermissionLevelCellView to trigger\r\n        // EditRolePermission command for business workspace roles.\r\n        onClickPermissionLevel: function (e) {\r\n            var command,\r\n                isWorkspaceRole = PermissionsUtil.isWorkspaceRole(this.options.model),\r\n                membersTypeSupport = [0, 1, 848];\r\n            if (membersTypeSupport.indexOf(\r\n                this.options.model.get(\"right_id_expand\") &&\r\n                this.options.model.get(\"right_id_expand\").type) < 0 &&\r\n                this.options.model.get(\"type\") === \"custom\") {\r\n                this._handlePermissionLevelFocus({ cellView: this });\r\n            } else {\r\n                command = isWorkspaceRole ? commands.get('EditRolePermission') : commands.get('EditPermission');\r\n                this._handlePermissionLevelClicked({ cellView: this, command: command });\r\n                this.trigger(\"cell:content:clicked\", this);\r\n            }\r\n        }\r\n    });\r\n\r\n    cellViewRegistry.registerByColumnKey('permissions', RolePermissionLevelCellView);\r\n\r\n    return RolePermissionLevelCellView;\r\n});\n","// Lists explicit locale mappings and fallbacks\r\ncsui.define('conws/controls/userpicker/nls/role.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/controls/userpicker/nls/root/role.lang',{\r\n  roleViewGroupTitle: 'Business Workspace Role',\r\n  roleViewLeaderTitle: 'Leader Role',\r\n  inheritedrole:'Inherited Role'\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/controls/userpicker/role',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"member-info\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.disabled : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \" binf-pull-left\\\">\\r\\n  <span class=\\\"name binf-pull-left\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n</div>\\r\\n\";\n},\"2\":function(depth0,helpers,partials,data) {\n    return \" binf-disabled\";\n},\"4\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"member-picture\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.disabled : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \" binf-pull-left\\\">\\r\\n  <span class=\\\"csui-icon conws-mime_roles\\\"></span>\\r\\n</div>\\r\\n<div class=\\\"member-info\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.disabled : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \" binf-pull-left\\\">\\r\\n  <span class=\\\"name binf-pull-left\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n  <span class=\\\"group-title binf-pull-left\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers['role-title'] || (depth0 != null ? depth0['role-title'] : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"role-title\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers['role-title'] || (depth0 != null ? depth0['role-title'] : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"role-title\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.isWorkspace : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(5, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.leader : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(6, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.isInheritedRole : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(8, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.disabled : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(10, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"6\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <span class=\\\"leader-title binf-pull-left\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers['leader-title'] || (depth0 != null ? depth0['leader-title'] : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"leader-title\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers['leader-title'] || (depth0 != null ? depth0['leader-title'] : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"leader-title\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"8\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <span class=\\\"leader-title binf-pull-left\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers['isInheritedRole-title'] || (depth0 != null ? depth0['isInheritedRole-title'] : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"isInheritedRole-title\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers['isInheritedRole-title'] || (depth0 != null ? depth0['isInheritedRole-title'] : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"isInheritedRole-title\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"10\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <span class=\\\"message binf-pull-left\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers['disabled-message'] || (depth0 != null ? depth0['disabled-message'] : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"disabled-message\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.lightWeight : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(4, data, 0)})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('conws_controls_userpicker_role', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/controls/userpicker/role.view',[\r\n  'csui/utils/base',\r\n  'csui/controls/userpicker/impl/group.view',\r\n  'conws/utils/commands/permissions/permissions.util',\r\n  'i18n!conws/controls/userpicker/nls/role.lang',\r\n  'hbs!conws/controls/userpicker/role'\r\n], function (Base, GroupView, PermissionsUtil, lang, roleTemplate) {\r\n\r\n  var RoleView = GroupView.extend({\r\n\r\n    getTemplate: function () {\r\n      var template;\r\n      if (!!this.isWorkspaceRole && this.isWorkspaceRole) {\r\n        template = roleTemplate;\r\n      }\r\n      else {\r\n        // In this case load the group.view template\r\n        template = this.template;\r\n      }\r\n      return template;\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        'name': Base.formatMemberName(this.model),\r\n        'role-title': lang.roleViewGroupTitle,\r\n        'isWorkspace': this.isWorkspace,\r\n        'leader': this.isLeaderRole,\r\n        'leader-title': lang.roleViewLeaderTitle,\r\n        'isInheritedRole': this.isInheritedRole,\r\n        'isInheritedRole-title': lang.inheritedrole,\r\n        'disabled': this.model.get('disabled'),\r\n        'disabled-message': this.options.disabledMessage,\r\n        'lightWeight': !!this.options.lightWeight\r\n      };\r\n    },\r\n\r\n    constructor: function RoleView(options) {\r\n      // apply properties to parent\r\n      GroupView.prototype.constructor.call(this, options);\r\n      if (!!this.model && !!this.model.nodeModel) {\r\n        this.isWorkspace = PermissionsUtil.isWorkspace(this.model.nodeModel);\r\n        this.isWorkspaceRole = PermissionsUtil.isWorkspaceRole(this.model);\r\n        this.isLeaderRole = PermissionsUtil.isLeaderRole(this.model.nodeModel, this.model);\r\n        this.isInheritedRole = PermissionsUtil.isInheritedRole(this.model.nodeModel, this.model)\r\n      }\r\n\r\n    }\r\n\r\n  });\r\n\r\n  return RoleView;\r\n});\r\n\n","csui.define('conws/dialogs/addoreditrole/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/dialogs/addoreditrole/impl/nls/root/lang',{\r\n  dialogTitle: \"View role membership\",\r\n  missingConnector: 'Missing connector information!',\r\n  AddRole: 'Add role',\r\n  EditRole: 'Edit role',\r\n  doneButtonLabel: 'Save',\r\n  nextButtonLabel: 'Next',\r\n  cancelButtonLabel: \"Cancel\",\r\n  RoleStepName: 'Role',\r\n  PermissionsStepName: 'Permissions',\r\n  ParticipantsStepName: 'Participants',\r\n  RoleName: 'Role name',\r\n  RoleNamePlaceholder: 'Enter name',\r\n  RoleDesc: 'Role Description',\r\n  RoleDescPlaceholder: 'Add Description',\r\n  TeamLead: 'Team Lead',\r\n  SubItemsInherit: 'Apply to sub-items',\r\n  backButtonTooltip: 'Go back',\r\n  backButtonAria: 'Go back',\r\n  selectPermissionLevel: 'Select permission level',\r\n  simplePermissionSelection: 'Simple Permission Selection',\r\n  rolePartcipantsWithNoparticipantsMessage: 'No participants have been added.',\r\n  participantsTitle: 'Participants',\r\n  addParticipantTitle: 'Add Participant',\r\n  roleParticipantsUserPickerPlaceholder: 'Add participants',\r\n  roleParticipantsDisabledMemberMessage: 'Is already a participant.',\r\n  roleParticipantsSearchAria: 'Search for participants'\r\n});\r\n\n","csui.define('conws/controls/wizard/step/impl/footer.view',['csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/wizard/step/impl/footer.view'\r\n], function (Marionette, TabableRegion, WizardStepFooterView) {\r\n\r\n  var ConwsButtonView = Marionette.ItemView.extend({\r\n\r\n    tagName: 'button',\r\n\r\n    className: 'binf-btn',\r\n\r\n    template: false,\r\n\r\n    triggers: {\r\n      'click': 'click'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegion\r\n      }\r\n    },\r\n\r\n    constructor: function ButtonView(options) {\r\n      Marionette.View.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    isTabable: function () {\r\n      return this.$el.is(':not(:disabled)') && this.$el.is(':not(:hidden)');\r\n    },\r\n    currentlyFocusedElement: function () {\r\n      if (this.$el.prop('tabindex') === -1) {\r\n        this.$el.prop('tabindex', 0);\r\n      }\r\n      return this.$el;\r\n    },\r\n\r\n    onRender: function () {\r\n      var button = this.$el,\r\n        attributes = this.model.attributes;\r\n      if (typeof attributes.isButton === 'undefined') {\r\n        button.text(attributes.label);\r\n        button.addClass('binf-btn');\r\n        button.addClass(\r\n          attributes['default'] ? 'binf-btn-primary cs-add-button' : 'binf-btn-default');\r\n        if (attributes.toolTip) {\r\n          button.attr('title', attributes.toolTip);\r\n        }\r\n        if (attributes.separate) {\r\n          button.addClass('cs-separate');\r\n        }\r\n      }\r\n      else {\r\n        button.addClass('arrow_back button_image');\r\n        if (attributes.toolTip) {\r\n          button.attr({ 'title': attributes.toolTip, 'aria-label': attributes.toolTip, 'role': 'link' });\r\n        }\r\n        if (attributes.id === 'next') {\r\n          button.addClass(\"button_image_next\");\r\n        }\r\n      }\r\n      this.updateButton(attributes);\r\n    },\r\n\r\n    updateButton: function (attributes) {\r\n      var $button = this.$el;\r\n\r\n      attributes || (attributes = {});\r\n      if (attributes.hidden !== undefined) {\r\n        if (attributes.hidden) {\r\n          $button.addClass('binf-hidden');\r\n        } else {\r\n          $button.removeClass('binf-hidden');\r\n        }\r\n      }\r\n      if (attributes.disabled !== undefined) {\r\n        $button.prop('disabled', attributes.disabled);\r\n      }\r\n    }\r\n  });\r\n\r\n  var ConwsWizardStepFooterView = WizardStepFooterView.extend({\r\n\r\n    childView: ConwsButtonView,\r\n\r\n    constructor: function ConwsWizardStepFooterView(options) {\r\n      WizardStepFooterView.prototype.constructor.apply(this, arguments);\r\n    }\r\n  });\r\n\r\n  return ConwsWizardStepFooterView;\r\n});\r\n\n","\n","// Renders a view in a modal dialog and waits for the user to close it\r\ncsui.define('conws/controls/wizard/step/wizard.step.view',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/controls/wizard/step/wizard.step.view',\r\n  'conws/controls/wizard/step/impl/footer.view',\r\n  'csui/utils/log',\r\n  'i18n!csui/controls/wizard/impl/nls/lang'\r\n], function (module, _, Backbone, LayoutViewEventsPropagationMixin,\r\n  WizardStepView, ConwsWizardStepFooterView, log, lang) {\r\n\r\n    log = log(module.id);\r\n\r\n    var ConwsWizardStepView = WizardStepView.extend({\r\n\r\n      constructor: function ConwsWizardStepView() {\r\n        WizardStepView.prototype.constructor.apply(this, arguments);\r\n        this.listenTo(this,'set:initial:focus', this.setViewInitialFocus);\r\n      },\r\n\r\n      setViewInitialFocus: function(){\r\n        this.options.view.trigger('set:initial:focus');\r\n      },\r\n\r\n      // overriden the footer to support next and back images instead of showcasing as buttons.\r\n      _renderFooter: function () {\r\n        var footerView = this.footerView = this.options.footerView;\r\n        if (footerView) {\r\n          this.ui.footer.removeClass('binf-hidden');\r\n          this.footer.show(footerView);\r\n        } else {\r\n          var defaultButtons = [];\r\n          if (!this.options.isFirstStep) {\r\n            // Previous button\r\n            defaultButtons.push({\r\n              id: 'previous',\r\n              label: this.options.previousButtonLabel || lang.back,\r\n              toolTip: this.options.previousButtonLabel || lang.back,\r\n              'default': false,\r\n              disabled: false,\r\n              isButton: false,\r\n              separate: this.options.seperatePrevious || false,\r\n              click: _.bind(this.onClickPreviousButton, this)\r\n            });\r\n          }\r\n          var nextButton = {\r\n            id: 'next',\r\n            label: this.options.nextButtonLabel || lang.next,\r\n            toolTip: this.options.nextButtonLabel || lang.next,\r\n            'default': true,\r\n            disabled: (this.options.disableNext === undefined) ? true : this.options.disableNext,\r\n            separate: this.options.seperateNext || false,\r\n            isButton: false,\r\n            click: _.bind(this.onClickNextButton, this)\r\n          },\r\n            doneButton = {\r\n              id: 'done',\r\n              label: this.options.doneButtonLabel || lang.done,\r\n              toolTip: this.options.doneButtonLabel || lang.done,\r\n              'default': true,\r\n              disabled: (this.options.disableDone === undefined) ? true : this.options.disableDone,\r\n              separate: this.options.seperateDone || true,\r\n              click: _.bind(this.onClickDoneButton, this)\r\n            };\r\n          // If both are needed then both both buttons are added as default buttons\r\n          // else either next or done button is added to the defaultbuttons list.\r\n          if (this.options.nextButton && this.options.doneButton) {\r\n            defaultButtons.push(nextButton);\r\n            defaultButtons.push(doneButton);\r\n          }\r\n          else if (this.options.nextButton) {\r\n            defaultButtons.push(nextButton);\r\n          } else if (this.options.doneButton) {\r\n            defaultButtons.push(doneButton);\r\n          }\r\n          // Cancel button\r\n          defaultButtons.push(\r\n            {\r\n              id: 'cancel',\r\n              label: lang.cancel,\r\n              toolTip: lang.cancel,\r\n              separate: this.options.seperateCancel || true,\r\n              close: true\r\n            });\r\n\r\n          var buttons = this.options.buttons || defaultButtons;\r\n\r\n          if (buttons.length) {\r\n            this.ui.footer.removeClass('binf-hidden');\r\n          }\r\n          footerView = this.footerView = new ConwsWizardStepFooterView({\r\n            collection: new Backbone.Collection(buttons),\r\n            wizardView: this,\r\n            el: this.ui.footer[0]\r\n          });\r\n          this.listenTo(footerView, 'childview:click', this.onClickButton);\r\n          footerView.render();\r\n          this.footer.attachView(footerView);\r\n        }\r\n      }\r\n    });\r\n\r\n    _.extend(ConwsWizardStepView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n    return ConwsWizardStepView;\r\n\r\n  });\r\n\n","\ncsui.define('css!conws/controls/wizard/impl/wizard',[],function(){});\n","csui.define('conws/controls/wizard/wizard.view',['csui/lib/underscore',\r\n  'csui/controls/wizard/wizard.view',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/controls/wizard/step/wizard.step.view',\r\n  'css!conws/controls/wizard/impl/wizard'\r\n], function (_, WizardView, LayoutViewEventsPropagationMixin, ConwsWizardStepView) {\r\n\r\n  var ConwsWizardView = WizardView.extend({\r\n\r\n    constructor: function ConwsWizardView(options) {\r\n      options || (options = {});\r\n      WizardView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    // overriden and updated this function to call ConwsWizardStepView so as to customize the wizard step footer\r\n    getCurrentView: function () {\r\n      if (this.currentStep < this.stepViews.length) {\r\n        return this.stepViews[this.currentStep];\r\n      } else {\r\n        var stepNum = this.currentStep;\r\n        var view = new ConwsWizardStepView(_.extend(this.options.steps[stepNum],\r\n          { wizard: this, isFirstStep: this.isFirstStep(), isLastStep: this.isLastStep() }));\r\n        this.stepViews.push(view);\r\n        this.listenTo(view, 'next:clicked', this.nextStep)\r\n          .listenTo(view, 'previous:clicked', this.prevStep)\r\n          .listenTo(view, 'done:clicked', this.save)\r\n          .listenTo(view, 'close:wizard', this.closeWizard);\r\n        return view;\r\n      }\r\n    },\r\n\r\n    showCurrentView: function () {\r\n      //TODO: uncomment below line to get the steps in slide transition\r\n      //this.addDirection();\r\n      this.currentView.$el.removeClass('binf-hidden');\r\n      this.currentView.triggerMethod('set:initial:focus');\r\n    }\r\n  });\r\n\r\n  _.extend(ConwsWizardView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return ConwsWizardView;\r\n\r\n});\n","csui.define('conws/dialogs/addoreditrole/impl/tabbable.form.view',[\r\n    'csui/lib/jquery',\r\n    'csui/controls/form/form.view',\r\n    'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n], function ($, FormView, TabableRegionBehavior) {\r\n\r\n    var TabbableFormView = FormView.extend({\r\n\r\n        behaviors: {\r\n            TabablesBehavior: {\r\n                behaviorClass: TabableRegionBehavior,\r\n                recursiveNavigation: true,\r\n                containTabFocus: true\r\n            }\r\n        },\r\n\r\n        events: {\r\n            'keydown': 'onKeyInView'\r\n        },\r\n\r\n        isTabable: function () {\r\n            return this.$('*[tabindex]').length > 0;\r\n        },\r\n\r\n        currentlyFocusedElement: function (event) {\r\n            var readonly = !!this.$form && this.$form.find('.alpaca-readonly button'),\r\n                tabElements = this.$('*[tabindex]:visible');\r\n            if (tabElements.length) {\r\n                tabElements.prop('tabindex', 0);\r\n                if (readonly.length) {\r\n                    readonly.attr('tabindex', -1)\r\n                }\r\n            }\r\n            this.tabableElements = tabElements;\r\n            return $(tabElements[0]);\r\n        },\r\n\r\n        onKeyInView: function (event) {\r\n            var tabableEleLength = this.tabableElements.length;\r\n            if (tabableEleLength > 0 && event.keyCode === 9) {\r\n                if (event.shiftKey) {\r\n                    var index = this.tabableElements.index(event.target);\r\n                    var target = --index;\r\n                    if (target >= 0) {\r\n                        this._setFocus(event, target);\r\n                    }\r\n                } else {\r\n                    var index = this.tabableElements.index(event.target);\r\n                    var target = ++index;\r\n                    if (target < tabableEleLength) {\r\n                        this._setFocus(event, target);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        _setFocus: function (event, target) {\r\n            this.tabableElements.eq(target).focus();\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n        }\r\n    });\r\n\r\n    // return view\r\n    return TabbableFormView;\r\n});      \n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/addoreditrole/impl/roleheader/impl/roleheader.view',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"dashed-border\\\"></div>\\r\\n<div class=\\\"conws-addoreditrole-wizardstep-header\\\">\\r\\n    <span class=\\\"conws-addoreditrole-wizardstep1\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.Step1 || (depth0 != null ? depth0.Step1 : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"Step1\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n    <span class=\\\"conws-addoreditrole-wizardstep2\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.Step2 || (depth0 != null ? depth0.Step2 : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"Step2\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n    <span class=\\\"conws-addoreditrole-wizardstep3\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.Step3 || (depth0 != null ? depth0.Step3 : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"Step3\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_dialogs_addoreditrole_impl_roleheader_impl_roleheader.view', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/dialogs/addoreditrole/impl/roleheader/impl/roleheader.view',[],function(){});\n","csui.define('conws/dialogs/addoreditrole/impl/roleheader/roleheader.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'i18n!conws/dialogs/addoreditrole/impl/nls/lang',\r\n  'hbs!conws/dialogs/addoreditrole/impl/roleheader/impl/roleheader.view',\r\n  'css!conws/dialogs/addoreditrole/impl/roleheader/impl/roleheader.view'\r\n], function (_, Marionette, lang, template) {\r\n\r\n  var RoleHeaderView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      StepHeaderRegion: '.conws-addoreditrole-wizardstep-header',\r\n    },\r\n\r\n    templateHelpers: {\r\n      Step1: lang.RoleStepName,\r\n      Step2: lang.PermissionsStepName,\r\n      Step3: lang.ParticipantsStepName\r\n    },\r\n\r\n    constructor: function RoleHeaderView(options) {\r\n      options || (options = {});\r\n\r\n      this.context = options.context;\r\n      this.connector = options.connector;\r\n\r\n      if (!!options.currentStep) {\r\n        this.listenTo(this, 'render', this._updateClasses);\r\n        _.bind(this._updateClasses, options);\r\n      }\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    _updateClasses: function (self) {\r\n\r\n      switch (self.options.currentStep) {\r\n        case \"step1\":\r\n          this.$el.find('.conws-addoreditrole-wizardstep1').addClass('conws-addoreditrole-wizardstep-header-active');\r\n          break;\r\n        case \"step2\":\r\n          this.$el.find('.conws-addoreditrole-wizardstep2').addClass('conws-addoreditrole-wizardstep-header-active');\r\n          break;\r\n        case \"step3\":\r\n          this.$el.find('.conws-addoreditrole-wizardstep3').addClass('conws-addoreditrole-wizardstep-header-active');\r\n          break;\r\n        default:\r\n        //nothing\r\n      }\r\n    }\r\n\r\n  });\r\n  // return view\r\n  return RoleHeaderView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/addoreditrole/impl/roledetails/impl/roledetails',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"conws-addoreditrole-roledetails\\\">\\r\\n    <div class=\\\"conws-addoreditrole-roledetails-header\\\">\\r\\n    </div>\\r\\n    <div class=\\\"conws-addoreditrole-roledetails-body\\\">\\r\\n        <div class=\\\"conws-addoreditrole-roledetails-left\\\">\\r\\n        </div>\\r\\n        <div class=\\\"conws-addoreditrole-roledetails-right\\\">\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_dialogs_addoreditrole_impl_roledetails_impl_roledetails', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/dialogs/addoreditrole/impl/roledetails/impl/roledetails',[],function(){});\n","csui.define('conws/dialogs/addoreditrole/impl/roledetails/roledetails.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/models/form',\r\n  'conws/dialogs/addoreditrole/impl/tabbable.form.view',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/dialogs/addoreditrole/impl/roleheader/roleheader.view',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'i18n!conws/dialogs/addoreditrole/impl/nls/lang',\r\n  'hbs!conws/dialogs/addoreditrole/impl/roledetails/impl/roledetails',\r\n  'css!conws/dialogs/addoreditrole/impl/roledetails/impl/roledetails'\r\n], function (_, $, Marionette, FormModel, TabbableFormView, LayoutViewEventsPropagationMixin, RoleHeaderView, TabableRegionBehavior, lang, template) {\r\n\r\n  var RoleDetailsView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      HeaderRegion: '.conws-addoreditrole-roledetails-header',\r\n      LeftRegion: '.conws-addoreditrole-roledetails-left',\r\n      RightRegion: '.conws-addoreditrole-roledetails-right'\r\n    },\r\n\r\n    templateHelpers: {\r\n    },\r\n\r\n    triggers: {\r\n      'keyup input': {\r\n        event : 'required:field:changed',\r\n        preventDefault: false,\r\n        stopPropagation: false\r\n      }\r\n    },\r\n\r\n    _createHeaderControl: function () {\r\n      var roleHeaderView = new RoleHeaderView({\r\n        headerViewoptions: this.options,\r\n        currentStep: 'step1'\r\n      });\r\n      return roleHeaderView;\r\n    },\r\n\r\n    constructor: function RoleDetailsView(options) {\r\n      options || (options = {});\r\n\r\n      this.context = options.context;\r\n      this.connector = options.connector;\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      //Listen to events that are triggered from wizard.step.view\r\n      this.listenTo(this, 'set:initial:focus', this.onSetInitialFocus);\r\n\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      var roleNameAndDescForm = {\r\n        \"data\": {\r\n          \"role_name\": this.options.addrole ? \"\" : this.options.name,\r\n          \"role_description\": this.options.addrole ? \"\" : this.options.description\r\n        },\r\n        \"options\": {\r\n          \"fields\": {\r\n            \"role_name\": {\r\n              \"hidden\": false,\r\n              \"hideInitValidationError\": true,\r\n              \"label\": lang.RoleName,\r\n              \"placeholder\": lang.RoleNamePlaceholder,\r\n              \"readonly\": false,\r\n              \"type\": \"text\"\r\n            },\r\n            \"role_description\": {\r\n              \"hidden\": false,\r\n              \"hideInitValidationError\": true,\r\n              \"label\": lang.RoleDesc,\r\n              \"placeholder\": lang.RoleDescPlaceholder,\r\n              \"readonly\": false,\r\n              \"type\": \"textarea\"\r\n            }\r\n          },\r\n          \"label\": \"\"\r\n        },\r\n        \"schema\": {\r\n          \"properties\": {\r\n            \"role_name\": {\r\n              \"maxLength\": 42,\r\n              \"readonly\": false,\r\n              \"required\": true,\r\n              \"title\": lang.RoleName,\r\n              \"type\": \"string\"\r\n            },\r\n            \"role_description\": {\r\n              \"readonly\": false,\r\n              \"required\": false,\r\n              \"title\": lang.RoleDesc,\r\n              \"type\": \"string\",\r\n              \"maxLength\": 450\r\n            }\r\n          },\r\n          \"type\": \"object\"\r\n        }\r\n      },\r\n        team_lead = this.options.addrole ? (this.options.isFirstRole ? true : false) : this.options.team_lead,\r\n        TeamLeadForm = {\r\n          \"data\": {\r\n            \"team_lead\": team_lead\r\n          },\r\n          \"options\": {\r\n            \"fields\": {\r\n              \"team_lead\": {\r\n                \"hidden\": false,\r\n                \"hideInitValidationError\": true,\r\n                \"label\": lang.TeamLead,\r\n                \"readonly\": team_lead ? true : false,\r\n                \"type\": \"checkbox\"\r\n              }\r\n            },\r\n            \"label\": \"\"\r\n          },\r\n          \"schema\": {\r\n            \"properties\": {\r\n              \"team_lead\": {\r\n                \"readonly\": team_lead ? true : false,\r\n                \"required\": false,\r\n                \"title\": lang.TeamLead,\r\n                \"type\": \"boolean\"\r\n              }\r\n            },\r\n            \"type\": \"object\"\r\n          }\r\n        },\r\n        roleNameAndDescFormView = new TabbableFormView({\r\n          mode: 'create',\r\n          model: new FormModel(roleNameAndDescForm)\r\n        }),\r\n        TeamLeadFormView = new TabbableFormView({\r\n          mode: 'create',\r\n          model: new FormModel(TeamLeadForm)\r\n        });\r\n\r\n      this.HeaderRegion.show(this._createHeaderControl());\r\n      this.LeftRegion.show(roleNameAndDescFormView);\r\n      this.RightRegion.show(TeamLeadFormView);\r\n\r\n    },\r\n\r\n    onAfterShow: function(){\r\n     this.onSetInitialFocus();\r\n    },\r\n\r\n    onSetInitialFocus: function(){\r\n      //set initial focus on this element\r\n      this.LeftRegion.currentView.$el.find(\"[data-alpaca-container-item-name='role_name'] input[type='text']\").focus();\r\n    }\r\n  });\r\n\r\n  // add mixin\r\n  _.extend(RoleDetailsView.prototype, LayoutViewEventsPropagationMixin);\r\n  // return view\r\n  return RoleDetailsView;\r\n});\n","csui.define('conws/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions.title.view',[\r\n  'csui/lib/handlebars',\r\n  'csui/lib/marionette'\r\n], function (Handlebars, Marionette) {\r\n\r\n  TitleView = Marionette.ItemView.extend({\r\n\r\n    template: Handlebars.compile('{{title}}'),\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        title: this.model.get('title')\r\n      }\r\n    },\r\n    constructor: function TitleView(options) {\r\n      Marionette.View.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this.model, 'change', this.render);\r\n    }\r\n  });\r\n\r\n  return TitleView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"conws-addoreditrole-rolepermissions\\\">\\r\\n    <div class=\\\"conws-addoreditrole-rolepermissions-header\\\"></div>\\r\\n    <div class=\\\"conws-addoreditrole-rolepermissions-picker-header\\\">\\r\\n        <div class=\\\"conws-addoreditrole-rolepermissions-left\\\">\\r\\n            <div class=\\\"conws-addoreditrole-rolepermissions-back\\\"></div>\\r\\n            <div class=\\\"conws-addoreditrole-rolepermissions-title\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"conws-addoreditrole-rolepermissions-right\\\">\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"conws-addoreditrole-rolepermissions-picker\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_dialogs_addoreditrole_impl_rolepermissions_impl_rolepermissions', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions',[],function(){});\n","csui.define('conws/dialogs/addoreditrole/impl/rolepermissions/rolepermissions.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/models/form',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'conws/dialogs/addoreditrole/impl/tabbable.form.view',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/widgets/permissions/impl/edit/permission.level.selector/permission.level.selector.view',\r\n  'csui/widgets/permissions/impl/edit/permission.attributes/permission.attributes.view',\r\n  'csui/models/permission/nodepermission.model',\r\n  'conws/dialogs/addoreditrole/impl/roleheader/roleheader.view',\r\n  'conws/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions.title.view',\r\n  'i18n!conws/dialogs/addoreditrole/impl/nls/lang',\r\n  'hbs!conws/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions',\r\n  'css!conws/dialogs/addoreditrole/impl/rolepermissions/impl/rolepermissions', 'i18n'\r\n], function (_, $, Backbone, Marionette, FormModel, TabableRegionBehavior, TabbableFormView, LayoutViewEventsPropagationMixin,\r\n  PermissionLevelSelectorView, PermissionAttributesView, NodePermissionModel, RoleHeaderView, TitleView, lang, template, i18n) {\r\n\r\n    var BackButtonView = Marionette.ItemView.extend({\r\n\r\n      template: false,\r\n\r\n      tagName: 'div',\r\n\r\n      className: 'conws-addoreditrole-rolepermissions-backbtn icon circular arrow_back cs-go-back binf-hidden',\r\n\r\n      attributes: {\r\n        title: lang.backButtonTooltip,\r\n        'aria-label': lang.backButtonAria,\r\n        role: 'link'\r\n      },\r\n\r\n      constructor: function BackButtonView(options) {\r\n        Marionette.View.prototype.constructor.apply(this, arguments);\r\n      },\r\n\r\n      behaviors: {\r\n        TabableRegion: {\r\n          behaviorClass: TabableRegionBehavior\r\n        }\r\n      },\r\n\r\n      currentlyFocusedElement: function () {\r\n        return this.$el;\r\n      }\r\n    });\r\n\r\n    var RolePermissionsView = Marionette.LayoutView.extend({\r\n\r\n      template: template,\r\n\r\n      regions: {\r\n        HeaderRegion: '.conws-addoreditrole-rolepermissions-header',\r\n        PickerRegion: '.conws-addoreditrole-rolepermissions-picker',\r\n        TitleRegion: '.conws-addoreditrole-rolepermissions-title',\r\n        RightRegion: '.conws-addoreditrole-rolepermissions-right',\r\n        BackButtonRegion: '.conws-addoreditrole-rolepermissions-back'\r\n      },\r\n\r\n      templateHelpers: {\r\n        'title': lang.selectPermissionLevel,\r\n        'backButtonTooltip': lang.backButtonTooltip,\r\n        'backButtonAria': lang.backButtonAria\r\n      },\r\n\r\n      events: {\r\n        'click .conws-addoreditrole-rolepermissions-back': 'onBackSelection',\r\n        'keydown .conws-addoreditrole-rolepermissions-back': 'onBackKeySelection'\r\n      },\r\n\r\n      _createHeaderControl: function () {\r\n        var roleHeaderView = new RoleHeaderView({\r\n          headerViewoptions: this.options,\r\n          currentStep: 'step2'\r\n        });\r\n        return roleHeaderView;\r\n      },\r\n\r\n      constructor: function RolePermissionsView(options) {\r\n        options || (options = {});\r\n\r\n        this.context = options.context;\r\n        this.connector = options.connector;\r\n\r\n        // apply properties to parent\r\n        Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n        //Listen to events that are triggered from wizard.step.view\r\n        this.listenTo(this, 'set:initial:focus', this.onSetInitialFocus);\r\n\r\n        // propagate events to regions\r\n        this.propagateEventsToRegions();\r\n      },\r\n\r\n      onRender: function () {\r\n\r\n        var SubItemsInheritForm = {\r\n          \"data\": {\r\n            \"subitems_inherit\": true\r\n          },\r\n          \"options\": {\r\n            \"fields\": {\r\n              \"subitems_inherit\": {\r\n                \"hidden\": false,\r\n                \"hideInitValidationError\": true,\r\n                \"label\": lang.SubItemsInherit,\r\n                \"readonly\": false,\r\n                \"type\": \"checkbox\"\r\n              }\r\n            },\r\n            \"label\": \"\"\r\n          },\r\n          \"schema\": {\r\n            \"properties\": {\r\n              \"subitems_inherit\": {\r\n                \"readonly\": false,\r\n                \"required\": false,\r\n                \"title\": lang.SubItemsInherit,\r\n                \"type\": \"boolean\"\r\n              }\r\n            },\r\n            \"type\": \"object\"\r\n          }\r\n        },\r\n\r\n          permissionLevelView = new PermissionLevelSelectorView({\r\n            selected: this.options.addrole ? 1 : this.options.model.getPermissionLevel(),\r\n            isContainer: this.options.isContainer,\r\n            nodeModel: this.options.nodeModel,\r\n            permissionModel: this.options.model\r\n          }),\r\n\r\n          SubItemsInheritFormView = new TabbableFormView({\r\n            model: new FormModel(SubItemsInheritForm),\r\n            mode: \"create\"\r\n          });\r\n\r\n        this.titleView = new TitleView({\r\n          model: new Backbone.Model({\r\n            title: lang.selectPermissionLevel\r\n          })\r\n        });\r\n\r\n        if (!this.options.addrole) {\r\n          this.lastSelectedPermLevel = this.options.model.getPermissionLevel();\r\n          if (this.options.model.getPermissionLevel() === NodePermissionModel.PERMISSION_LEVEL_CUSTOM) {\r\n            this.lastSelectedCustomPermissions = this.options.model.get('permissions');\r\n          }\r\n        }\r\n\r\n        permissionLevelView.on('permission:level:selected', this.onPermissionLevelSelection, this);\r\n        this.HeaderRegion.show(this._createHeaderControl());\r\n        this.PickerRegion.show(permissionLevelView);\r\n        this.RightRegion.show(SubItemsInheritFormView);\r\n        this.TitleRegion.show(this.titleView);\r\n        this.BackButtonRegion.show(new BackButtonView());\r\n      },\r\n\r\n      onPermissionLevelSelection: function () {\r\n        var view = this.PickerRegion.currentView;\r\n        if (view && view.selected === NodePermissionModel.PERMISSION_LEVEL_CUSTOM) {\r\n          //Replace current view with custom permission view\r\n          var customPermissionView = new PermissionAttributesView({\r\n            permissions: !!this.lastSelectedCustomPermissions ? this.lastSelectedCustomPermissions : [],\r\n            readonly: false,\r\n            showButtons: false,\r\n            node: this.options.nodeModel\r\n          });\r\n\r\n          this.titleView.model.set('title', lang.simplePermissionSelection);\r\n          this.$el.find('.conws-addoreditrole-rolepermissions-backbtn').removeClass('binf-hidden').focus();\r\n          this.BackButtonRegion.currentView.trigger(\"dom:refresh\");\r\n          this.PickerRegion.show(customPermissionView);\r\n          this.isCustom = true;\r\n\r\n          // adjusting split bar and separator positions\r\n          var $treeViewDiv = customPermissionView.$el.find('.csui-permission-attribute-tree'),\r\n            adjustSplitsHeight,\r\n            adjustSplitsRight,\r\n            adjustSplitsSeparator,\r\n            adjustSplits = $treeViewDiv.find(\".csui-tree-split\");\r\n\r\n          for (var i = adjustSplits.length - 1, j = 0; i >= 0, j < adjustSplits.length; i-- , j++) {\r\n            adjustSplitsRight = $(adjustSplits[i]).width() * j;\r\n            adjustSplitsSeparator = $(adjustSplits[i]).closest(\".csui-tree-child\").find(\r\n              '.csui-separator');\r\n            if (adjustSplits[i] === adjustSplits[adjustSplits.length - 1]) {\r\n              adjustSplitsHeight = $treeViewDiv.outerHeight();\r\n            } else {\r\n              adjustSplitsHeight = Math.round(($(adjustSplits[i]).closest(\"li\").position().top) +\r\n                $(adjustSplits[i]).closest(\r\n                  \".csui-tree-child\").outerHeight());\r\n              adjustSplitsRight = adjustSplitsRight + j;\r\n            }\r\n            if (i18n && i18n.settings.rtl) {\r\n              $(adjustSplits[i]).css({ 'height': adjustSplitsHeight, 'left': adjustSplitsRight });\r\n              adjustSplitsSeparator.css({\r\n                'width': ($treeViewDiv.find('.csui-tree-container').width()),\r\n                'left': adjustSplitsRight\r\n              });\r\n              $(adjustSplits[i]).closest('.csui-tree-child').css(\r\n                { 'padding-left': adjustSplitsRight + $(adjustSplits[i]).width() });\r\n            } else {\r\n              $(adjustSplits[i]).css({ 'height': adjustSplitsHeight, 'right': adjustSplitsRight });\r\n              adjustSplitsSeparator.css({\r\n                'width': ($treeViewDiv.find('.csui-tree-container').width()),\r\n                'right': adjustSplitsRight\r\n              });\r\n              $(adjustSplits[i]).closest('.csui-tree-child').css(\r\n                { 'padding-right': adjustSplitsRight + $(adjustSplits[i]).width() });\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          this.lastSelectedPermLevel = view.selected;\r\n        }\r\n      },\r\n\r\n      onBackSelection: function () {\r\n        this.lastSelectedCustomPermissions = this.PickerRegion.currentView.getSelectedPermissions();\r\n        this.titleView.model.set('title', lang.selectPermissionLevel);\r\n        this.$el.find('.conws-addoreditrole-rolepermissions-backbtn').addClass('binf-hidden');\r\n        this.BackButtonRegion.currentView.trigger(\"dom:refresh\");\r\n        var permissionLevelView = new PermissionLevelSelectorView({\r\n          selected: !!this.lastSelectedPermLevel ? this.lastSelectedPermLevel : 1,\r\n          isContainer: this.options.isContainer,\r\n          nodeModel: this.options.nodeModel\r\n        })\r\n        this.PickerRegion.show(permissionLevelView);\r\n        permissionLevelView.on('permission:level:selected', this.onPermissionLevelSelection, this);\r\n\r\n        // On back selection, set the focus on custom permission level\r\n        this.PickerRegion.currentView.$el.find(\"li[data-optionid='\" + NodePermissionModel.PERMISSION_LEVEL_NONE + \"'] a\").focus();\r\n      },\r\n\r\n      onBackKeySelection: function (event) {\r\n        if (event.keyCode === 13) {\r\n          this.onBackSelection();\r\n        }\r\n      },\r\n\r\n      onAfterShow: function () {\r\n        this.onSetInitialFocus();\r\n      },\r\n\r\n      onSetInitialFocus: function () {\r\n        //set initial focus on this element\r\n        this.RightRegion.currentView.$el.find(\"[data-alpaca-container-item-name='subitems_inherit'] input[type='checkbox']\").focus();\r\n      }\r\n\r\n    });\r\n    // add mixin\r\n    _.extend(RolePermissionsView.prototype, LayoutViewEventsPropagationMixin);\r\n    // return view\r\n    return RolePermissionsView;\r\n  });\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/avatar/impl/avatar',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"participant-picture\\\">\\r\\n  <span class=\\\"csui-icon binf-img-circle\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.display_name || (depth0 != null ? depth0.display_name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"display_name\",\"hash\":{}}) : helper)))\n    + \"\\\"/>\\r\\n  <img class=\\\"csui-icon binf-img-circle\\\" alt=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.display_name || (depth0 != null ? depth0.display_name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"display_name\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_avatar_impl_avatar', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/controls/avatar/impl/avatar',[],function(){});\n","csui.define('conws/widgets/team/impl/controls/avatar/avatar.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/utils/url',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/controls/avatar/impl/avatar',\r\n  'css!conws/widgets/team/impl/controls/avatar/impl/avatar'\r\n], function (_, $, Marionette, Url, lang, template) {\r\n\r\n  var AvatarView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        type: this.model.getMemberType()\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      profileImage: '.participant-picture > img',\r\n      profileImageDefault: '.participant-picture > span'\r\n    },\r\n\r\n    // constructor for the 'add participant' listitem\r\n    constructor: function AvatarView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    onRender: function () {\r\n      // render profile image\r\n      this._displayProfileImage();\r\n    },\r\n\r\n    _displayProfileImage: function () {\r\n      var photoUrl = this._getUserPhotoUrl();\r\n      // esoc-userprofile-img-{userid} - the common class for all profile pictures of given userid\r\n      this.ui.profileImage.addClass(\"esoc-userprofile-img-\" + this.model.get('id'));\r\n      if (photoUrl) {\r\n        var getPhotoOptions = this.model.connector.extendAjaxOptions({\r\n          url: photoUrl,\r\n          dataType: 'binary'\r\n        });\r\n        this._releasePhotoUrl();\r\n        this.model.connector.makeAjaxCall(getPhotoOptions)\r\n            .always(_.bind(function (response, statusText, jqxhr) {\r\n              if (jqxhr.status === 200) {\r\n                this.photoUrl = URL.createObjectURL(response);\r\n                this.ui.profileImage.attr(\"src\", this.photoUrl);\r\n                this.ui.profileImageDefault.remove();\r\n              } else {\r\n                this.ui.profileImage.remove();\r\n                this.ui.profileImageDefault.addClass(this._getPlaceholderImageClass());\r\n              }\r\n            }, this));\r\n      } else {\r\n        this.ui.profileImage.remove();\r\n        this.ui.profileImageDefault.addClass(this._getPlaceholderImageClass());\r\n      }\r\n    },\r\n\r\n    _getUserPhotoUrl: function () {\r\n      var connection = this.model.connector.connection,\r\n          cgiUrl     = new Url(connection.url).getCgiScript(),\r\n          memberId   = this.model.get('id'),\r\n          photoId    = this.model.get('photo_id');\r\n      // If the photo id is not set, there was a problem retrieving it. It\r\n      // does not make sense to try it once more from the client side, waste\r\n      // time and server resources and litter the log by 404 errors.\r\n      if (photoId) {\r\n        // constant REST api path, because the service is not returning the photo_url\r\n        var photoPath = _.str.sformat('api/v1/members/{0}/photo?v={1}', memberId, photoId);\r\n        return Url.combine(cgiUrl, photoPath);\r\n      }\r\n    },\r\n\r\n    _getPlaceholderImageClass: function () {\r\n      return (this.model.getMemberType() === 'user')\r\n          ? 'conws-avatar-user-placeholder'\r\n          : (this.model.getMemberType() === 'group')\r\n                 ? 'conws-avatar-group-placeholder'\r\n                 : 'conws-avatar-role-placeholder';\r\n    },\r\n\r\n    _releasePhotoUrl: function () {\r\n      if (this.photoUrl) {\r\n        URL.revokeObjectURL(this.photoUrl);\r\n      }\r\n    }\r\n  });\r\n\r\n  return AvatarView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"participant-content binf-pull-left\\\"></div>\\r\\n<div class=\\\"participant-delete binf-pull-right\\\"></div>\";\n}});\nHandlebars.registerPartial('conws_dialogs_addoreditrole_impl_roleparticipants_impl_participant.listitem', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.details',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"participant-picture binf-pull-left\\\"></div>\\r\\n<div class=\\\"participant-info binf-pull-left\\\">\\r\\n  <span class=\\\"name binf-pull-left\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n  <span class=\\\"email binf-pull-left\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.email || (depth0 != null ? depth0.email : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"email\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.email || (depth0 != null ? depth0.email : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"email\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n  <span class=\\\"title binf-pull-left\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n  <span class=\\\"department binf-pull-left\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.department || (depth0 != null ? depth0.department : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"department\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.department || (depth0 != null ? depth0.department : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"department\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n  <span class=\\\"office binf-pull-left\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.office || (depth0 != null ? depth0.office : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"office\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.office || (depth0 != null ? depth0.office : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"office\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_addparticipants_impl_participant.listitem.details', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem.delete',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<span class=\\\"remove csui-icon conws-icon-cross\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.removeParticipant || (depth0 != null ? depth0.removeParticipant : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"removeParticipant\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n    aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.removeParticipantAria || (depth0 != null ? depth0.removeParticipantAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"removeParticipantAria\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\";\n}});\nHandlebars.registerPartial('conws_dialogs_addoreditrole_impl_roleparticipants_impl_participant.listitem.delete', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem',[],function(){});\n","csui.define('conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/utils/contexts/factories/user',\r\n  'esoc/widgets/userwidget/userwidget',\r\n  'conws/widgets/team/impl/controls/avatar/avatar.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem',\r\n  'hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.details',\r\n  'hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem.delete',\r\n  'css!conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem'\r\n], function (_, $, Marionette, TabableRegionBehavior, LayoutViewEventsPropagationMixin,\r\n  UserModelFactory, UserWidget, Avatar, lang, itemTemplate, detailsTemplate,\r\n  deleteTemplate) {\r\n\r\n    var ParticipantPropertiesView = Marionette.ItemView.extend({\r\n\r\n      template: detailsTemplate,\r\n\r\n      templateHelpers: function () {\r\n        return {\r\n          type: this.model.getMemberType(),\r\n          name: this.model.displayName(),\r\n          email: this.model.displayEmail(),\r\n          title: this.model.displayTitle(),\r\n          department: this.model.displayDepartment(),\r\n          office: this.model.displayOffice()\r\n        };\r\n      },\r\n\r\n      ui: {\r\n        personalizedImage: '.csui-icon-user',\r\n        defaultImage: '.csui-icon-paceholder'\r\n      },\r\n\r\n      // constructor for the 'add participant' listitem\r\n      constructor: function ParticipantPropertiesView(options) {\r\n        options || (options = {});\r\n\r\n        // apply properties to parent\r\n        Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      },\r\n\r\n      initialize: function () {\r\n        this.avatar = new Avatar({ model: this.model });\r\n      },\r\n\r\n      onRender: function () {\r\n        // render profile image\r\n        if (this.model.get('type') !== undefined && this.model.get('type') === 0) {\r\n          var loggedUser = this.model.collection.context.getModel(UserModelFactory),\r\n            userProfilePicOptions = {\r\n              connector: this.model.connector,\r\n              model: this.model,\r\n              userid: this.model.get('id'),\r\n              context: this.model.collection.context,\r\n              showUserProfileLink: true,\r\n              showMiniProfile: true,\r\n              loggedUserId: loggedUser.get('id'),\r\n              placeholder: this.$el.find('.participant-picture'),\r\n              showUserWidgetFor: 'profilepic'\r\n            };\r\n          UserWidget.getUser(userProfilePicOptions);\r\n        }\r\n        else {\r\n          this.$('.participant-picture').append(this.avatar.render().$el);\r\n        }\r\n      }\r\n    });\r\n\r\n    var ParticipantDeleteView = Marionette.ItemView.extend({\r\n\r\n      template: deleteTemplate,\r\n\r\n      templateHelpers: function () {\r\n        return {\r\n          removeParticipant: lang.addParticipantsRemove,\r\n          removeParticipantAria: _.str.sformat(lang.removeParticipantAria, this.model.displayName())           \r\n        };\r\n      },\r\n\r\n      events: {\r\n        'click .remove': 'onRemoveOnClick',\r\n        'keydown .remove': 'onRemoveOnKeyDown'\r\n      },\r\n\r\n      behaviors: {\r\n        TabableRegion: {\r\n          behaviorClass: TabableRegionBehavior\r\n        }\r\n      },\r\n\r\n      constructor: function ParticipantDeleteView(options) {\r\n        options || (options = {});\r\n\r\n        // apply properties to parent\r\n        Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      },\r\n\r\n      onRemoveOnClick: function (e) {\r\n        // stop propagation\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // remove participant\r\n        this.model.collection.remove(this.model);\r\n      },\r\n\r\n      onRemoveOnKeyDown: function (e) {\r\n        // Enter, Space or DEL?\r\n        if (e.keyCode === 13 || e.keyCode === 32 || e.keyCode === 46) {\r\n          // stop propagation\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          // remove participant\r\n          this.model.collection.remove(this.model);\r\n        }\r\n      },\r\n\r\n      // delete button is focused\r\n      currentlyFocusedElement: function () {\r\n        return this.$('.remove');\r\n      }\r\n    });\r\n\r\n    var ParticipantListItemView = Marionette.LayoutView.extend({\r\n\r\n      template: itemTemplate,\r\n\r\n      tagName: 'li',\r\n\r\n      className: 'binf-list-group-item conws-participant',\r\n\r\n      regions: {\r\n        content: '.participant-content',\r\n        delete: '.participant-delete'\r\n      },\r\n\r\n      // constructor for the 'add participant' listitem\r\n      constructor: function ParticipantListItemView(options) {\r\n        options || (options = {});\r\n\r\n        // apply properties to parent\r\n        Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n        // listen to the change of the model\r\n        this.listenTo(this.model, 'remove', this.onParticipantRemove);\r\n\r\n        // propagate events to regions\r\n        this.propagateEventsToRegions();\r\n      },\r\n\r\n      onRender: function () {\r\n        // render content\r\n        this.content.show(\r\n          new ParticipantPropertiesView({\r\n            model: this.model\r\n          }));\r\n        // render remove button\r\n        this.delete.show(\r\n          new ParticipantDeleteView({\r\n            model: this.model\r\n          }));\r\n      },\r\n\r\n      onParticipantRemove: function () {\r\n        this._parent.selectedIndex = this._index;\r\n      }\r\n    });\r\n\r\n    // add mixin\r\n    _.extend(ParticipantListItemView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n    // return view\r\n    return ParticipantListItemView;\r\n  });\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"conws-addoreditrole-emptyroleparticipants\\\">\\r\\n    <div class=\\\"conws-addoreditrole-emptyroleparticipants conws-empty_team\\\"></div>\\r\\n    <div class=\\\"conws-addoreditrole-emptyroleparticipants-msg\\\">\\r\\n        <p>\"\n    + this.escapeExpression(((helper = (helper = helpers.message || (depth0 != null ? depth0.message : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"message\",\"hash\":{}}) : helper)))\n    + \"</p>\\r\\n    </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_dialogs_addoreditrole_impl_roleparticipants_impl_empty.roleparticipants', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants',[],function(){});\n","csui.define('conws/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'i18n!conws/dialogs/addoreditrole/impl/nls/lang',\r\n  'hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants',\r\n  'css!conws/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants'\r\n], function (_, Marionette, lang, template) {\r\n\r\n  var EmptyRoleParticipantsView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    templateHelpers: {\r\n      message: lang.rolePartcipantsWithNoparticipantsMessage\r\n    },\r\n\r\n    constructor: function EmptyRoleParticipantsView(options) {\r\n      options || (options = {});\r\n\r\n      this.context = options.context;\r\n      this.connector = options.connector;\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n  // return view\r\n  return EmptyRoleParticipantsView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/roleparticipants',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"conws-addoreditrole-roleparticipants\\\">\\r\\n  <div class=\\\"conws-addoreditrole-roleparticipants-header\\\"></div>\\r\\n  <div class=\\\"conws-addoreditrole-roleparticipants-body\\\">\\r\\n    <div class=\\\"conws-addoreditrole-roleparticipants-left\\\">\\r\\n      <div class=\\\"conws-addoreditrole-roleparticipants-userpicker-title\\\">\\r\\n        \"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"conws-addoreditrole-roleparticipants-right\\\">\\r\\n      <div class=\\\"conws-addoreditrole-roleparticipants-search\\\">\\r\\n        <div class=\\\"conws-addoreditrole-roleparticipants-userpicker\\\">\\r\\n          <!-- user picker region -->\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"conws-addoreditrole-roleparticipants-members-body\\\">\\r\\n    <div class=\\\"conws-addoreditrole-roleparticipants-members\\\">\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_dialogs_addoreditrole_impl_roleparticipants_impl_roleparticipants', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/dialogs/addoreditrole/impl/roleparticipants/impl/roleparticipants',[],function(){});\n","csui.define('conws/dialogs/addoreditrole/impl/roleparticipants/roleparticipants.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/utils/base',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'conws/widgets/team/impl/participant.model',\r\n  'conws/dialogs/addoreditrole/impl/roleparticipants/impl/participant.listitem.view',\r\n  'conws/dialogs/addoreditrole/impl/roleheader/roleheader.view',\r\n  'conws/dialogs/addoreditrole/impl/roleparticipants/impl/empty.roleparticipants.view',\r\n  'csui/controls/userpicker/userpicker.view',\r\n  'i18n!conws/dialogs/addoreditrole/impl/nls/lang',\r\n  'hbs!conws/dialogs/addoreditrole/impl/roleparticipants/impl/roleparticipants',\r\n  'css!conws/dialogs/addoreditrole/impl/roleparticipants/impl/roleparticipants'\r\n], function (_, Backbone, Marionette, base,\r\n  LayoutViewEventsPropagationMixin, PerfectScrollingBehavior, Participant,\r\n  ParticipantListItemView, RoleHeaderView, EmptyRoleParticipantsView, UserPicker, lang, template) {\r\n\r\n    var ParticipantsListCollectionView = Marionette.CollectionView.extend({\r\n\r\n      tagName: 'ul',\r\n\r\n      className: 'binf-list-group',\r\n\r\n      childView: ParticipantListItemView,\r\n\r\n      constructor: function ParticipantsListCollectionView(options) {\r\n        Marionette.CollectionView.call(this, options);\r\n      },\r\n\r\n      onRemoveChild: function (childView) {\r\n        //listen to change the focus\r\n        this.moveTabIndex(childView);\r\n      },\r\n\r\n      moveTabIndex: function (childView) {\r\n        var numberOfChildren = this.children && this.children.length;\r\n        if (numberOfChildren) {\r\n          var targetIndex = this.selectedIndex;\r\n          if (targetIndex === numberOfChildren) {\r\n            targetIndex = targetIndex - 1;\r\n          }\r\n          var newFocus = this.children.findByModel(this.collection.at(targetIndex));\r\n          newFocus && newFocus.$el.find('.participant-delete .conws-icon-cross').focus();\r\n        }\r\n      }\r\n    });\r\n\r\n    var RoleParticipantsView = Marionette.LayoutView.extend({\r\n\r\n      template: template,\r\n\r\n      regions: {\r\n        HeaderRegion: '.conws-addoreditrole-roleparticipants-header',\r\n        userPickerRegion: '.conws-addoreditrole-roleparticipants-userpicker',\r\n        participantsRegion: '.conws-addoreditrole-roleparticipants-members'\r\n      },\r\n\r\n      behaviors: {\r\n        PerfectScrolling: {\r\n          behaviorClass: PerfectScrollingBehavior,\r\n          contentParent: '.conws-addoreditrole-roleparticipants-members',\r\n          suppressScrollX: true\r\n        }\r\n      },\r\n\r\n      templateHelpers: {\r\n        'title': lang.participantsTitle\r\n      },\r\n\r\n      _createHeaderControl: function () {\r\n        var roleHeaderView = new RoleHeaderView({\r\n          headerViewoptions: this.options,\r\n          currentStep: 'step3'\r\n        });\r\n        return roleHeaderView;\r\n      },\r\n\r\n      _createEmptyRoleParticipantsView: function () {\r\n        var emptyRoleParticipantsView = new EmptyRoleParticipantsView({\r\n          options: this.options\r\n        });\r\n        return emptyRoleParticipantsView;\r\n      },\r\n\r\n      _createParticipantsListCollectionView: function () {\r\n        var participantsListCollectionView = new ParticipantsListCollectionView({\r\n          context: this.context,\r\n          collection: _.extend(new Backbone.Collection(), {\r\n            context: this.context,\r\n            node: this.options.nodeModel,\r\n            comparator: function (left, right) {\r\n              return base.localeCompareString(left.get('display_name'), right.get('display_name'));\r\n            }\r\n          })\r\n        });\r\n        return participantsListCollectionView;\r\n      },\r\n\r\n      constructor: function RoleParticipantsView(options) {\r\n        options || (options = {});\r\n\r\n        this.context = options.context;\r\n        this.connector = options.connector;\r\n\r\n        // apply properties to parent\r\n        Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n        //Listen to events that are triggered from wizard.step.view\r\n        this.listenTo(this, 'set:initial:focus', this.onSetInitialFocus);\r\n\r\n        // propagate events to regions\r\n        this.propagateEventsToRegions();\r\n      },\r\n\r\n      onRender: function () {\r\n        // user picker\r\n        var user = new UserPicker({\r\n          context: this.context,\r\n          limit: 20,\r\n          clearOnSelect: true,\r\n          placeholder: lang.roleParticipantsUserPickerPlaceholder,\r\n          disabledMessage: lang.roleParticipantsDisabledMemberMessage,\r\n          onRetrieveMembers: _.bind(this.retrieveMembersCallback, this),\r\n          prettyScrolling: true,\r\n          initialActivationWeight: 100\r\n        });\r\n        this.HeaderRegion.show(this._createHeaderControl());\r\n        this.userPickerRegion.show(user);\r\n        user.$(\".cs-search-icon\").attr(\"aria-label\", lang.roleParticipantsSearchAria);\r\n        this.listenTo(user, 'item:change', this.onUserItemChanged);\r\n\r\n        // participants list\r\n        var participants = this._createParticipantsListCollectionView();\r\n\r\n        // On edit role page. show existing participants while rendering\r\n        if (!this.options.addrole && this.options.model) {\r\n          _.each(this.options.model.get(\"members\"), function (member) {\r\n            var participant = new Participant(member, {\r\n              connector: this.connector,\r\n              collection: this.participants\r\n            });\r\n            participants.collection.add(participant);\r\n          }, this)\r\n        }\r\n\r\n        // participants collection\r\n        this.participants = participants.collection;\r\n        this.participantView = participants;\r\n        this.listenTo(this.participants, 'reset add change', this.onParticipantsChanged);\r\n        this.listenTo(this.participants, 'remove', this.onParticipantsRemove);\r\n\r\n        if (participants.collection.length === 0) {\r\n          this.participantsRegion.show(this._createEmptyRoleParticipantsView());\r\n        } else {\r\n          this.participantsRegion.show(participants);\r\n          this.participantsRegion.$el.addClass(\"conws-addoreditrole-roleparticipants-members-exist\");\r\n        }\r\n      },\r\n\r\n      onAfterShow: function () {\r\n        _.each(this.participantView.children._views, function (view) {\r\n          view.delete && view.delete.currentView && view.delete.currentView.trigger(\"dom:refresh\");\r\n        }, this)\r\n        this.onSetInitialFocus();\r\n      },\r\n\r\n      onSetInitialFocus: function () {\r\n        //set initial focus on this element\r\n        this.userPickerRegion.currentView.$el.find(\"[class='csui-control-userpicker'] input[type='text']\").focus();\r\n      },\r\n\r\n      onUserItemChanged: function (e) {\r\n        // if member is disabled prevent from being added\r\n        if (e.item.get('disabled')) {\r\n          return;\r\n        }\r\n        // otherwise create participant and ...\r\n        var attributes = _.extend(e.item.attributes, {\r\n          display_name: e.item.get('name_formatted')\r\n        });\r\n        var participant = new Participant(attributes, {\r\n          connector: this.connector,\r\n          collection: this.participants\r\n        });\r\n        // ... add to participants list\r\n        if (this.participants.length === 0) {\r\n          this.participantsRegion.$el.addClass(\"conws-addoreditrole-roleparticipants-members-exist\");\r\n          var participants = this._createParticipantsListCollectionView();\r\n          participants.collection = this.participants;\r\n          participants.collection.add(participant);\r\n          this.participantsRegion.show(participants);\r\n          this.listenTo(participants.collection, 'reset add change', this.onParticipantsChanged);\r\n          this.listenTo(participants.collection, 'remove', this.onParticipantsRemove);\r\n          this.trigger('update:scrollbar');\r\n        } else {\r\n          this.participants.add(participant);\r\n        }\r\n      },\r\n\r\n      retrieveMembersCallback: function (args) {\r\n        var self = this;\r\n\r\n        // check team members and dialog members and if the\r\n        // participant is found disable it in the results.\r\n        args.collection.each(function (current) {\r\n          var exists = false;\r\n          if (self.participants.findWhere({ id: current.get('id') })) {\r\n            exists = true;\r\n          }\r\n          current.set('disabled', exists);\r\n        });\r\n      },\r\n\r\n      onParticipantsRemove: function () {\r\n        this.onParticipantsChanged();\r\n        if (this.participants && this.participants.length === 0) {\r\n          this.userPickerRegion.currentView.currentlyFocusedElement().focus();\r\n          // when there are no participants show emptyRoleParticipantsView\r\n          this.participantsRegion.$el.removeClass(\"conws-addoreditrole-roleparticipants-members-exist\");\r\n          this.participantsRegion.show(this._createEmptyRoleParticipantsView());\r\n        }\r\n      },\r\n\r\n      onParticipantsChanged: function () {\r\n        // whenever the participants change, update the perfect scrollbar\r\n        this.trigger('update:scrollbar');\r\n      }\r\n    });\r\n\r\n    // add mixin\r\n    _.extend(RoleParticipantsView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n    // return view\r\n    return RoleParticipantsView;\r\n  });\r\n\n","csui.define('conws/dialogs/addoreditrole/addoreditrole.wizard',['csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/utils/contexts/factories/connector',\r\n  'i18n!conws/dialogs/addoreditrole/impl/nls/lang',\r\n  'csui/utils/log',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/models/permission/nodepermission.model',\r\n  'conws/controls/wizard/wizard.view',\r\n  'conws/dialogs/addoreditrole/impl/roledetails/roledetails.view',\r\n  'conws/dialogs/addoreditrole/impl/rolepermissions/rolepermissions.view',\r\n  'conws/dialogs/addoreditrole/impl/roleparticipants/roleparticipants.view',\r\n], function (_, $, ConnectorFactory, lang, log, BlockingView, NodePermissionModel, WizardView, RoleDetailsView, RolePermissionsView, RoleParticipantsView) {\r\n  \"use strict\";\r\n\r\n  var defaultOptions = {\r\n    initialSelection: [],\r\n    dialogTitle: lang.dialogTitle\r\n  };\r\n\r\n  function addOrEditRoleWizard(options) {\r\n    options || (options = {});\r\n    this.options = _.defaults(options, defaultOptions);\r\n    this.options.connector || (this.options.connector = this._getConnector(this.options));\r\n\r\n    if (!this.options.connector) {\r\n      var msg = lang.missingConnector;\r\n      log.error(msg) && console.error(msg);\r\n      throw new Error(msg);\r\n    }\r\n  }\r\n\r\n  _.extend(addOrEditRoleWizard.prototype, {\r\n\r\n    show: function () {\r\n      this._showWizard();\r\n      this._deferred = $.Deferred();\r\n      return this._deferred.promise();\r\n    },\r\n\r\n    _showWizard: function () {\r\n      this._steps = this._createWizardSteps();\r\n      this._wizard = new WizardView({ steps: this._steps });\r\n      BlockingView.imbue(this._wizard);\r\n      this._wizard.show(this._wizard.options);\r\n      this._wizard.on('save:result', this.onClickFinishButton, this);\r\n      this._wizard.on('closing:wizard', this.onClickCancelButton, this);\r\n    },\r\n\r\n    _RoleDetailsView: function () {\r\n      var roleDetailsView = new RoleDetailsView({\r\n        addrole: this.options.addrole,\r\n        teamLead: true,\r\n        isFirstRole: this.options.isFirstRole\r\n      });\r\n      if (!this.options.addrole && this.options.model && this.options.model.get(\"right_id_expand\")) {\r\n        roleDetailsView.options.name = this.options.model.get(\"right_id_expand\").name,\r\n          roleDetailsView.options.description = this.options.model.get(\"right_id_expand\").description,\r\n          roleDetailsView.options.team_lead = this.options.model.get(\"right_id_expand\").team_lead\r\n      }\r\n      roleDetailsView.on('required:field:changed', function () {\r\n        var rolename_length = roleDetailsView.LeftRegion.currentView.$el.find(\"div[data-alpaca-container-item-name='role_name']\").find(\"input[type='text']\").val().length;\r\n        if (rolename_length) {\r\n          this._wizard.currentView.updateButton('next', { disabled: false });\r\n          this._wizard.currentView.updateButton('done', { disabled: false });\r\n        } else {\r\n          this._wizard.currentView.updateButton('next', { disabled: true });\r\n          this._wizard.currentView.updateButton('done', { disabled: true });\r\n        }\r\n      }, this);\r\n      return roleDetailsView;\r\n    },\r\n\r\n    _RolePermissionsView: function () {\r\n      var rolePermissionsView = new RolePermissionsView({\r\n        addrole: this.options.addrole,\r\n        model: this.options.model,\r\n        isContainer: this.options.nodeModel ? this.options.nodeModel.get('container') : true,\r\n        nodeModel: this.options.nodeModel\r\n      });\r\n      return rolePermissionsView;\r\n    },\r\n\r\n    _RoleParticipantsView: function () {\r\n      var roleParticipantsView = new RoleParticipantsView(this.options);\r\n      return roleParticipantsView;\r\n    },\r\n\r\n    dialogClassName: function () {\r\n      var className = 'target-browse';\r\n      if (this.options && this.options.userClassName) {\r\n        className = className + \" \" + this.options.userClassName;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    _createWizardSteps: function () {\r\n      var options = this.options,\r\n        rolePickerTitleId = 'rolePickerHeader',\r\n        permissionLevelDescId = _.uniqueId('permissionLevel'),\r\n        step1, step2, step3;\r\n      step1 = {\r\n        title: options.dialogTitle,\r\n        view: this._RoleDetailsView(),\r\n        className: this.dialogClassName() + ' csui-permissions-level conws-addoreditrole-dialog',\r\n        nextButton: true,\r\n        disableNext: this.options.addrole ? true : false,\r\n        doneButtonLabel: lang.doneButtonLabel,\r\n        disableDone: this.options.addrole ? true : false,\r\n        doneButton: true,\r\n        largeSize: true,\r\n        attributes: { 'aria-labelledby': rolePickerTitleId }\r\n      };\r\n      step2 = {\r\n        title: options.dialogTitle,\r\n        nextButtonLabel: lang.nextButtonLabel,\r\n        nextButton: true,\r\n        disableNext: false,\r\n        doneButtonLabel: lang.doneButtonLabel,\r\n        disableDone: false,\r\n        doneButton: true,\r\n        largeSize: true,\r\n        view: this._RolePermissionsView(),\r\n        className: this.dialogClassName() + ' csui-permissions-level conws-addoreditrole-dialog',\r\n        attributes: {\r\n          'aria-labelledby': rolePickerTitleId,\r\n          'aria-describedby': permissionLevelDescId\r\n        }\r\n      };\r\n      step3 = {\r\n        title: options.dialogTitle,\r\n        doneButtonLabel: lang.doneButtonLabel,\r\n        disableDone: false,\r\n        doneButton: true,\r\n        largeSize: true,\r\n        view: this._RoleParticipantsView(),\r\n        className: this.dialogClassName() + ' csui-permissions-level conws-addoreditrole-dialog',\r\n        attributes: { 'aria-labelledby': rolePickerTitleId }\r\n      };\r\n      return [step1, step2, step3];\r\n    },\r\n\r\n    onHideDialog: function () {\r\n      if (this._deferred) {\r\n        if (this._result) {\r\n          this._deferred.resolve(this._result);\r\n        } else if (this._deferred.state() === 'pending') {\r\n          // When the dialog is cancelled, reject the promise without error\r\n          this._deferred.reject({ cancelled: true });\r\n        }\r\n      }\r\n    },\r\n\r\n    onClickCancelButton: function () {\r\n      this.onHideDialog();\r\n    },\r\n\r\n    onClickFinishButton: function () {\r\n      var role_name, role_description, team_lead, permissions, applyToSubItems, isContainer, participants;\r\n      if (this) {\r\n        var roleDetailsView = this.getRoleDetailsView(),\r\n          rolePermissionsView = this.getPermissionsView();\r\n        if (roleDetailsView.LeftRegion && roleDetailsView.LeftRegion.currentView) {\r\n          role_name = roleDetailsView.LeftRegion.currentView.getValues().role_name;\r\n          role_description = roleDetailsView.LeftRegion.currentView.getValues().role_description;\r\n        }\r\n        team_lead = roleDetailsView.RightRegion && roleDetailsView.RightRegion.currentView &&\r\n          roleDetailsView.RightRegion.currentView.getValues().team_lead;\r\n\r\n        // if we directly save from first dialog then permissions view may not be defined\r\n        if (rolePermissionsView.PickerRegion && rolePermissionsView.PickerRegion.currentView) {\r\n          permissions = rolePermissionsView.PickerRegion.currentView.getSelectedPermissions();\r\n          if (permissions === null && !!rolePermissionsView.lastSelectedPermLevel &&\r\n            rolePermissionsView.lastSelectedPermLevel === NodePermissionModel.PERMISSION_LEVEL_CUSTOM) {\r\n            permissions = rolePermissionsView.lastSelectedCustomPermissions;\r\n          }\r\n          isContainer = (this.options.nodeModel && this.options.nodeModel.get(\"container\")) ? true : false;\r\n          if (rolePermissionsView.RightRegion && rolePermissionsView.RightRegion.currentView) {\r\n            // 0 - This item, 1 - Subitems, 2 - This Item and Subitems, 3 - This Item and Immediate Subitems\r\n            applyToSubItems = 0;\r\n            if (isContainer) {\r\n              applyToSubItems = rolePermissionsView.RightRegion.currentView.getValues().subitems_inherit ? 2 : 0;\r\n            }\r\n          }\r\n        }\r\n        // if we directly save from first or second dialog then participants view may not be defined\r\n        if (this.getParticipantsView().participants) {\r\n          participants = [];\r\n          _.each(this.getParticipantsView().participants.models, function (participantModel) {\r\n            participants.push(participantModel.get(\"id\"));\r\n          })\r\n        }\r\n        this._result = {\r\n          role_name: role_name,\r\n          role_description: role_description,\r\n          team_lead: team_lead,\r\n          permissions: permissions,\r\n          apply_to: applyToSubItems,\r\n          participants: participants\r\n        };\r\n        this._wizard.destroy();\r\n        this.onHideDialog();\r\n      }\r\n      else {\r\n        this._wizard.currentView.updateButton('next', { disabled: true });\r\n      }\r\n    },\r\n\r\n    //Private function with assumes either container or nodes exists.\r\n    _getConnector: function (options) {\r\n      var connector;\r\n      if (options.context) {\r\n        connector = options.context.getObject(ConnectorFactory);\r\n      } else if (options.initialSelection || options.initialContainer) {\r\n        var initalSelection = options.initialSelection,\r\n          nodes = initalSelection ? (_.isArray(initalSelection) ? initalSelection :\r\n            initalSelection.models) : undefined,\r\n          node = options.initialContainer || nodes[0];\r\n        connector = node && node.connector;\r\n      }\r\n      return connector;\r\n    },\r\n\r\n    getRoleDetailsView: function () {\r\n      return this._steps[0].view;\r\n    },\r\n\r\n    getPermissionsView: function () {\r\n      return this._steps[1].view;\r\n    },\r\n\r\n    getParticipantsView: function () {\r\n      return this._steps[2].view;\r\n    }\r\n\r\n  });\r\n\r\n  return addOrEditRoleWizard;\r\n\r\n});\r\n\n","csui.define('conws/dialogs/applyrolepermissions/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/dialogs/applyrolepermissions/impl/nls/root/lang',{\r\n  applyRolePermissionHeaderTitle: 'Apply permissions',\r\n  deleteRolePermissionHeaderTitle: 'Delete {0}',\r\n  removeRolePermissionHeaderTitle: 'Remove {0}',\r\n  SubItemsInherit: 'Apply to sub-items',\r\n  applyToItem: 'Permissions will be applied to all items in {0}.',\r\n  deleteToItem: '{0} will be deleted and permissions will be removed from all items in {1}',\r\n  removeToItem: 'Permissions will be removed from all items in {0}'\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/dialogs/applyrolepermissions/impl/apply.role.permissions',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"conws-apply-role-permission-content\\\">\\r\\n  <span class=\\\"conws-apply-role-permission-message\\\"></span>\\r\\n</div>\\r\\n<div class=\\\"conws-apply-role-permission-switch\\\">\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_dialogs_applyrolepermissions_impl_apply.role.permissions', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/dialogs/applyrolepermissions/impl/apply.role.permissions',[],function(){});\n","csui.define('conws/dialogs/applyrolepermissions/apply.role.permissions.view',[\r\n    'csui/lib/underscore',\r\n    'csui/lib/marionette',\r\n    'csui/models/form',\r\n    'conws/dialogs/addoreditrole/impl/tabbable.form.view',\r\n    'i18n!conws/dialogs/applyrolepermissions/impl/nls/lang',\r\n    'hbs!conws/dialogs/applyrolepermissions/impl/apply.role.permissions',\r\n    'css!conws/dialogs/applyrolepermissions/impl/apply.role.permissions'\r\n], function (_, Marionette, FormModel, TabbableFormView, lang, template) {\r\n\r\n    ApplyRolePermissionsView = Marionette.LayoutView.extend({\r\n\r\n        template: template,\r\n\r\n        ui: {\r\n            applyRolePermissionMsg: '.conws-apply-role-permission-message'\r\n        },\r\n\r\n        regions: {\r\n            ContentRegion: '.conws-apply-role-permission-switch'\r\n        },\r\n\r\n        templateHelpers: function () {\r\n            return {\r\n                title: this.model.get('title')\r\n            }\r\n        },\r\n\r\n        constructor: function ApplyRolePermissionsView(options) {\r\n            Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n            this.listenTo(this.model, 'change', this.render);\r\n        },\r\n\r\n        onRender: function () {\r\n\r\n            var message = \"\";\r\n            if (this.options.removePermission) {\r\n                if (!!this.options.permissionModel && this.options.permissionModel.isRoleDelete !== undefined && !this.options.permissionModel.isRoleDelete) {\r\n                    message = _.str.sformat(lang.removeToItem, this.options.model.get(\"name\"));\r\n                } else {\r\n                    var roleName = this.options.permissionModel.get(\"right_id_expand\") &&\r\n                        this.options.permissionModel.get(\"right_id_expand\").name_formatted;\r\n                    message = _.str.sformat(lang.deleteToItem, roleName, this.options.model.get(\"name\"));\r\n                }\r\n            }\r\n            else {\r\n                message = _.str.sformat(lang.applyToItem, this.options.model.get(\"name\"));\r\n            }\r\n            this.ui.applyRolePermissionMsg.html(message);\r\n\r\n            var SubItemsInheritForm = {\r\n                \"data\": {\r\n                    \"subitems_inherit\": true\r\n                },\r\n                \"options\": {\r\n                    \"fields\": {\r\n                        \"subitems_inherit\": {\r\n                            \"hidden\": false,\r\n                            \"hideInitValidationError\": true,\r\n                            \"label\": lang.SubItemsInherit,\r\n                            \"readonly\": false,\r\n                            \"type\": \"checkbox\"\r\n                        }\r\n                    },\r\n                    \"label\": \"\"\r\n                },\r\n                \"schema\": {\r\n                    \"properties\": {\r\n                        \"subitems_inherit\": {\r\n                            \"readonly\": false,\r\n                            \"required\": false,\r\n                            \"title\": lang.SubItemsInherit,\r\n                            \"type\": \"boolean\"\r\n                        }\r\n                    },\r\n                    \"type\": \"object\"\r\n                }\r\n            },\r\n\r\n                SubItemsInheritFormView = new TabbableFormView({\r\n                    model: new FormModel(SubItemsInheritForm),\r\n                    mode: \"create\"\r\n                });\r\n\r\n            if (this.options.removePermission) {\r\n                // for permission deletion based on below conditions, we need to show the apply to subitems checkbox in the dialog\r\n                if (!!this.options.permissionModel && this.options.permissionModel.isRoleDelete !== undefined && !this.options.permissionModel.isRoleDelete) {\r\n                    this.ContentRegion.show(SubItemsInheritFormView);\r\n                }\r\n            } else {\r\n                // for permission updation we need to always showcase the checkbox in the dialog\r\n                this.ContentRegion.show(SubItemsInheritFormView);\r\n            }\r\n        }\r\n    });\r\n\r\n    return ApplyRolePermissionsView;\r\n});\n","csui.define('conws/dialogs/applyrolepermissions/impl/header/apply.role.permissions.header.view',[\r\n    'csui/lib/underscore',\r\n    'csui/widgets/permissions/impl/edit/apply.permission/impl/header/apply.permission.header.view',\r\n    'i18n!conws/dialogs/applyrolepermissions/impl/nls/lang'\r\n], function (_, ApplyPermissionHeaderView,\r\n    lang) {\r\n        \"use strict\";\r\n\r\n        var ApplyRolePermissionHeaderView = ApplyPermissionHeaderView.extend({\r\n\r\n            templateHelpers: function () {\r\n                var headerTitle = \"\";\r\n                if (this.options.removePermission && this.options.permissionModel) {\r\n                    var memberName = this.options.permissionModel.get(\"right_id_expand\") &&\r\n                        this.options.permissionModel.get(\"right_id_expand\").name_formatted;\r\n                    if (this.options.permissionModel.isRoleDelete) {\r\n                        headerTitle = _.str.sformat(lang.deleteRolePermissionHeaderTitle, memberName);\r\n                    } else {\r\n                        headerTitle = _.str.sformat(lang.removeRolePermissionHeaderTitle, memberName);\r\n                    }\r\n                } else {\r\n                    headerTitle = lang.applyRolePermissionHeaderTitle;\r\n                }\r\n                return {\r\n                    title: headerTitle\r\n                };\r\n            },\r\n\r\n            constructor: function ApplyRolePermissionHeaderView(options) {\r\n                options || (options = {});\r\n                ApplyPermissionHeaderView.prototype.constructor.apply(this, arguments);\r\n            }\r\n        });\r\n\r\n        return ApplyRolePermissionHeaderView;\r\n    });\n","// Lists explicit locale mappings and fallbacks\r\ncsui.define('conws/utils/commands/nls/commands.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\r\n\n","// Defines localizable strings in the default language (English)\r\ncsui.define('conws/utils/commands/nls/root/commands.lang',{\r\n  CommandNameEmail: 'Send e-mail',\r\n  CommandNameExport: 'Download',\r\n  CommandNameAddParticipant: 'Add participants',\r\n  CommandNameExportParticipants: 'Download list of participants',\r\n  CommandNamePrintParticipants: 'Print list of participants',\r\n  CommandNameShowRoles: 'Show roles',\r\n  CommandNameRemoveParticipant: 'Remove from team',\r\n  CommandNameAddRole: 'Add role',\r\n  CommandNameEditRole: 'Edit role',\r\n  CommandNamePrintRoles: 'Print list of roles',\r\n  CommandNameExportRoles: 'Download list of roles',\r\n  CommandNameShowDetails: 'Show details',\r\n  CommandNameDeleteRole: 'Delete',\r\n  CommandNameAddConnectedWorkspace: 'Add business workspace',\r\n  RemoveParticipantTitleSingle: 'Remove participant',\r\n  RemoveParticipantTitleMultiple: 'Remove participants',\r\n  RemoveParticipantMessage: 'Removing participants from the team will also remove them from their roles.',\r\n  RemoveParticipantErrorMessageDefault: 'Cannot remove one or more participants.',\r\n  DeleteRoleTitleSingle: 'Delete role',\r\n  DeleteRoleTitleMultiple: 'Delete roles',\r\n  DeleteRoleMessageNoParticipantsAffected: 'When you delete this role, no participant will be removed from the team: The role is empty or all participants of this role are members of other team roles.',\r\n  DeleteRoleMessageParticipantsAffectedSingle: 'When you delete this role, 1 participant will be removed from the team.',\r\n  DeleteRoleMessageParticipantsAffectedMultiple: 'When you delete this role, {0} participants will be removed from the team.',\r\n  ErrorLoadingAddItemMenu: 'Cannot load workspace types to the Add menu.',\r\n  AddConwsMetadataDialogTitle: 'Create {0}',\r\n  BusinessWorkspace: 'business workspace',\r\n  AddConwsMetadataDialogAddButtonTitle: 'Save',\r\n  BusinessWorkspaceTypeName: 'Business Workspace',\r\n  BusinessWorkspaceSuccessfullyCreated: '{0} was successfully created.',\r\n  nameIsGeneratedAutomatically : 'Workspace name is generated automatically.',\r\n  errorGettingCreateForm: 'Error getting form for workspace creation.',\r\n  CommandNameAddCONWSTemplate: 'Add business workspace template',\r\n  ErrorAddingSubfolderToNodesTable: 'Failed to add subfolder to the nodestable',\r\n\r\n  ServerCommandNameDeleteRelatedItem: 'Remove related item',\r\n  CommandNameDeleteRelatedItem: 'Remove relationships',\r\n  CommandVerbDeleteRelatedItem: 'remove',\r\n  DeleteRelatedItemsNoneMessage: \"No relationship removed.\",\r\n  DeleteOneRelatedItemSuccessMessage: \"One relationship successfully removed.\",\r\n  DeleteSomeRelatedItemsSuccessMessage: \"{0} relationships successfully removed.\",\r\n  DeleteManyRelatedItemsSuccessMessage: \"{0} relationships successfully removed.\",\r\n  DeleteOneRelatedItemConfirmMessage: \"Do you want to remove the relationship to '{1}'?\",\r\n  DeleteSomeRelatedItemsConfirmMessage: \"Do you want to remove {0} relationships?\",\r\n  DeleteManyRelatedItemsConfirmMessage: \"Do you want to remove {0} relationships?\",\r\n\r\n  CommandNameAddRelatedItem: 'Add relationships',\r\n  CommandVerbAddRelatedItem: 'add',\r\n  AddRelatedItemsNoneMessage: \"No relationship added.\",\r\n  AddOneRelatedItemSuccessMessage: \"One relationship successfully added.\",\r\n  AddSomeRelatedItemsSuccessMessage: \"{0} relationships successfully added.\",\r\n  AddManyRelatedItemsSuccessMessage: \"{0} relationships successfully added.\",\r\n\r\n  AddRoleSuccess: '{0} added successfully',\r\n  EditRoleSuccess: '{0} updated successfully',\r\n  BusinessWorkspaceRole: 'Business Workspace Role',\r\n  DeletePermissionCommandForSubItems: 'Remove role',\r\n  ToolbarItemEditRolePermission: 'Edit role permissions',\r\n  DeleteRoleCommandSuccessMessage: \"{0} was deleted successfully\",\r\n  DeleteRoleCommandFailMessage: \"Failed to delete {0}.\"\r\n});\r\n\n","/**\r\n * Created by stefang on 11.09.2015.\r\n */\r\n\r\ncsui.define( 'conws/utils/commands/tabletoolbar.extension',[\r\n  \"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/utils/url\",\r\n  \"csui/controls/globalmessage/globalmessage\",\r\n  'csui/controls/toolbar/toolitem.model',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  'csui/utils/base'\r\n], function ($, _, Url, GlobalMessage, ToolItemModel, lang, base) {\r\n\r\n  function ToolbarExtension () {}\r\n\r\n  _.extend(ToolbarExtension.prototype,{\r\n\r\n    _addMenuItems: function (toolbarItems,businessWorkspaceTypes) {\r\n      var toolItems = [];\r\n      businessWorkspaceTypes.forEach(function(bwtype) {\r\n        // note: signature of toolbar item must match with a command or indicates entry as separator\r\n        if (bwtype.templates.length>0) {\r\n          bwtype.templates.forEach(function(tmpl){\r\n            // TODO: setting the sub type name for the sub type 848 to Business Workspace, this should be returned with the businessworkspacetypes REST call.\r\n            var subTypeName = tmpl.subType === 848 ? lang.BusinessWorkspaceTypeName : '';\r\n            var toolItem = new ToolItemModel({\r\n              signature: \"AddConnectedWorkspace\",\r\n              name: tmpl.name,\r\n              type: tmpl.subType,\r\n              group: 'conws',\r\n              commandData: { wsType: bwtype, subType: tmpl.subType, subTypeName: subTypeName, template: tmpl }\r\n            });\r\n            toolItems.push(toolItem);\r\n          });\r\n        }\r\n      });\r\n      if (toolItems.length>0) {\r\n        toolItems.sort(function(a,b) {\r\n          var aname = a.get(\"name\"),\r\n              bname = b.get(\"name\"),\r\n              result = base.localeCompareString(aname,bname,{usage:\"sort\"});\r\n          return result;\r\n        });\r\n        toolItems.forEach(function(toolItem){\r\n          toolbarItems.push(toolItem);\r\n        });\r\n      }\r\n    },\r\n\r\n    OnUpdateToolbar: function (args) {\r\n      var done = args.async(),\r\n        //context = args.context,\r\n          container = args.container,\r\n        //addableTypes = args.addableTypes,\r\n          toolbarItems = args.toolbarItems,\r\n          conwsTemplateToolItem = _.find(toolbarItems, function (toolItem) {\r\n            if (toolItem.attributes.type === 848) {\r\n              return toolItem;\r\n            }\r\n          });\r\n\r\n      if (!!conwsTemplateToolItem) {\r\n        conwsTemplateToolItem.set(\"signature\", \"AddCONWSTemplate\");\r\n        conwsTemplateToolItem.set(\"group\", \"conws\");\r\n      }\r\n\r\n\t  // first get all addable wstypes for this container\r\n      // URL is like: http://vmstg-dev4/OTCS/cs.exe/api/v1/nodes/{id}/businessworkspacetypes\r\n      var deferred = $.Deferred();\r\n      var getWsTypesUrl = Url.combine(container.urlBase(), 'businessworkspacetypes');\r\n      var ajaxOptions = container.connector.extendAjaxOptions({\r\n        type: 'GET',\r\n        url: getWsTypesUrl\r\n      });\r\n\r\n      var that = this;\r\n      container.connector.makeAjaxCall(ajaxOptions)\r\n          .done(function (response, statusText, jqxhr) {\r\n\r\n            if (response && response.businessworkspacetypes && response.businessworkspacetypes.length>0) {\r\n              that._addMenuItems(toolbarItems,response.businessworkspacetypes);\r\n            }\r\n\r\n            deferred.resolve.apply(deferred, arguments);\r\n            done();\r\n          })\r\n          .fail(function (jqXHR, statusText, error) {\r\n\r\n            // show failure message\r\n            var linesep = \"\\r\\n\",\r\n                lines = [];\r\n            if (statusText!==\"error\") {\r\n              lines.push(statusText);\r\n            }\r\n            if (jqXHR.responseText) {\r\n              var respObj = JSON.parse(jqXHR.responseText);\r\n              if (respObj && respObj.error) {\r\n                lines.push(respObj.error);\r\n              }\r\n            }\r\n            if (error) {\r\n              lines.push(error);\r\n            }\r\n            var errmsg = lines.length>0 ? lines.join(linesep) : undefined;\r\n            GlobalMessage.showMessage(\"error\",lang.ErrorLoadingAddItemMenu,errmsg);\r\n            deferred.reject.apply(deferred, arguments);\r\n            done();\r\n          });\r\n\r\n    }\r\n  });\r\n\r\n  return function (tableToolbarView) {\r\n\r\n    //tableToolbarView.on('before:updateAddToolbar', _.bind(ToolbarExtension.OnUpdateToolbar,ToolbarExtension) );\r\n    var extension = new ToolbarExtension();\r\n    //tableToolbarView.on('before:updateAddToolbar', extension.OnUpdateToolbar.bind(this) );\r\n    //tableToolbarView.on('before:updateAddToolbar', _.bind(extension.OnUpdateToolbar,extension) );\r\n    tableToolbarView.on('before:updateAddToolbar', function() { extension.OnUpdateToolbar.apply(extension,arguments);} );\r\n\r\n  };\r\n\r\n});\n","csui.define('conws/utils/commands/permissions/permissions.dropdown.menu.items.extension',['i18n!conws/utils/commands/nls/commands.lang'\r\n], function (lang) {\r\n    'use strict';\r\n    return {\r\n        dropdownMenuList: [\r\n            {\r\n                signature: 'AddOrEditRole',\r\n                name: lang.CommandNameAddRole\r\n            }\r\n        ]\r\n    };\r\n\r\n});\n","csui.define('conws/utils/commands/permissions/permissions.list.toolbaritems.extension',['i18n!conws/utils/commands/nls/commands.lang'\r\n], function (lang) {\r\n    'use strict';\r\n    return {\r\n        inlineToolbar: [\r\n            {\r\n                signature: \"AddOrEditRole\",\r\n                name: lang.CommandNameEditRole,\r\n                icon: \"icon icon-toolbar-edit-role\",\r\n                svgId: \"themes--carbonfiber--image--generated_icons--action_view_column32\"\r\n            },\r\n            {\r\n                signature: \"DeleteRole\",\r\n                name: lang.DeleteRoleTitleSingle,\r\n                icon: \"icon icon-toolbar-delete\",\r\n                svgId: \"themes--carbonfiber--image--generated_icons--action_delete32\"\r\n            },\r\n            {\r\n                signature: \"EditRolePermission\",\r\n                name: lang.ToolbarItemEditRolePermission,\r\n                icon: \"icon icon-toolbar-edit\",\r\n                svgId: \"themes--carbonfiber--image--generated_icons--action_edit32\"\r\n            }\r\n        ]\r\n    };\r\n\r\n});\n","csui.define('conws/widgets/header/impl/headertoolbaritems.masks',['module', 'csui/lib/underscore',\r\n  'csui/controls/toolbar/toolitems.mask',\r\n  'csui/utils/toolitem.masks/global.toolitems.mask'\r\n], function (module, _, ToolItemMask, GlobalMenuItemsMask) {\r\n  'use strict';\r\n\r\n  // Keep the keys in sync with conws/widgets/header/impl/headertoolbaritems\r\n  var toolbars = ['rightToolbar','delayedActionsToolbar'];\r\n\r\n  function ToolbarItemsMasks(options) {\r\n    var globalMask;    \r\n    \r\n    // Create and populate masks for every toolbar\r\n    this.toolbars = _.reduce(toolbars, function (toolbars, toolbar) {\r\n      globalMask = toolbars[toolbar];\r\n\r\n      if (!globalMask) {\r\n        globalMask = new GlobalMenuItemsMask();\t\t\t\r\n      }\r\n\r\n      var mask = new ToolItemMask(globalMask, { normalize: false }),\r\n        source = options[toolbar];\r\n      if (source) {\r\n        mask.extendMask(source);\r\n      }\r\n      // Enable restoring the mask to its initial state\r\n      mask.storeMask();\r\n      toolbars[toolbar] = mask;\r\n      return toolbars;\r\n    }, {});\r\n  }\r\n\r\n  ToolbarItemsMasks.toolbars = toolbars;\r\n\r\n  return ToolbarItemsMasks;\r\n\r\n});\r\n\n","/**\r\n * Created by stefang on 14.09.2015.\r\n */\r\ncsui.define('conws/utils/commands/addconws',['require',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/utils/base',\r\n  'csui/utils/log',\r\n  'csui/models/command',\r\n  'csui/models/node/node.model',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  // style conws-initializing and conws-add-workspace\r\n  //'css!xecmpf/controls/property.panels/reference/impl/reference.panel'\r\n], function (require, $, _, base, log,\r\n    CommandModel,\r\n    NodeModel,\r\n    lang) {\r\n\r\n  var forwardToTable = false;\r\n\r\n  var AddWorkspaceCommand = CommandModel.extend({\r\n\r\n    defaults:{\r\n      signature: 'AddConnectedWorkspace',\r\n      name: lang.CommandNameAddConnectedWorkspace,\r\n      verb: \"create\",//lang.CommandVerbCopy,\r\n      doneVerb: \"created\",//lang.CommandDoneVerbCopy,\r\n      scope: 'single'\r\n    },\r\n\r\n    enabled: function(status){\r\n      return true;\r\n    },\r\n\r\n    execute: function (status, options) {\r\n\r\n      var deferred = $.Deferred(),\r\n          data = status.data || {},\r\n          container = status.container || {},\r\n          wsType = data.wsType || {},\r\n          template = data.template || {},\r\n          subType = data.subType,\r\n          subTypeName = data.subTypeName,\r\n          newNode = new NodeModel({\r\n            \"type\": subType, //options.addableType,\r\n            \"type_name\": subTypeName,\r\n            \"container\": true,\r\n            \"name\": \"\", // start with empty name\r\n            \"parent_id\": container.attributes.id,\r\n            \"rm_enabled\": wsType.rm_enabled,\r\n            \"sub_folder_id\": 0\r\n          }, {\r\n            connector: status.container.connector\r\n          });\r\n\r\n      //status.container.cmdContainer = \"AddConwsContainer\";\r\n      //newNode.cmdNode = \"AddConwsNode\";\r\n\r\n      if (forwardToTable) {\r\n        status.forwardToTable = true;\r\n        deferred.resolve(newNode);\r\n      }\r\n      else {\r\n        status.suppressSuccessMessage = true;\r\n        require(['csui/models/nodes',\r\n          'csui/utils/commandhelper',\r\n          'csui/widgets/metadata/metadata.add.item.controller',\r\n          'csui/dialogs/modal.alert/modal.alert',\r\n          'csui/controls/globalmessage/globalmessage',\r\n          'conws/models/workspacecreateforms',\r\n          'conws/models/metadata.controller',\r\n          'csui/behaviors/default.action/default.action.behavior',\r\n          'csui/utils/contexts/factories/next.node'\r\n        ], function (NodeCollection,\r\n            CommandHelper,\r\n            MetadataAddItemController,\r\n            ModalAlert,\r\n            GlobalMessage,\r\n            WorkspaceCreateFormCollection,\r\n            WorkspaceMetadataController,\r\n            DefaultActionBehavior,\r\n            NextNodeModelFactory\r\n        ) {\r\n\r\n          var metadataAddItemController = new MetadataAddItemController();\r\n          options.dialogTitle = _.str.sformat(lang.AddConwsMetadataDialogTitle,template.name||lang.BusinessWorkspace);\r\n          options.addButtonTitle = lang.AddConwsMetadataDialogAddButtonTitle;\r\n          // substitute nodes list, so we do not change the selection!\r\n          status.nodes = new NodeCollection([newNode]);\r\n\r\n          //status.cmdStatus = \"AddConwsStatus\";\r\n          //status.nodes.cmdNodes = \"AddConwsNodes\";\r\n          //options.cmdOptions = \"AddConwsOptions\";\r\n\r\n          // Override the default form source for the creation dialog\r\n          // and the default controller to create the new object\r\n          options = _.extend({\r\n            formCollection: new WorkspaceCreateFormCollection(undefined, {\r\n              metadataAddItemController : metadataAddItemController,\r\n              node: status.container,\r\n              type: subType, //options.addableType\r\n              wsType: wsType,\r\n              template: template\r\n            }),\r\n            metadataController: new WorkspaceMetadataController(undefined, {\r\n              type: subType,\r\n              wsType: wsType,\r\n              template: template,\r\n              collection: status.collection\r\n            })\r\n          }, options);\r\n\r\n          var formCollection = options.formCollection;\r\n\r\n          // methods for handling of name field: set readonly style and placeholder in name field.\r\n          function hideNameAndView() {\r\n            // hide initial place holder as we don't have the read-only information from the server\r\n            var dialog = metadataAddItemController.dialog;\r\n            if (dialog && dialog.$el) {\r\n              dialog.$el.addClass(\"conws-initializing\");\r\n              formCollection.off(null,hideNameAndView);\r\n            }\r\n          }\r\n          function unhideNameAndView() {\r\n            // make name field visible again.\r\n            var dialog = metadataAddItemController.dialog;\r\n            if (dialog && dialog.$el) {\r\n              dialog.$el.removeClass(\"conws-initializing\");\r\n              formCollection.off(null,unhideNameAndView);\r\n            }\r\n          }\r\n\r\n          function successWithLinkMessage() {\r\n            var message = _.str.sformat(lang.BusinessWorkspaceSuccessfullyCreated, newNode.get('name'));\r\n            var msgOptions = {\r\n              context: status.context,\r\n              nextNodeModelFactory: NextNodeModelFactory,\r\n              link_url: DefaultActionBehavior.getDefaultActionNodeUrl(newNode),\r\n              targetFolder: newNode\r\n            };\r\n            GlobalMessage.showMessage('success_with_link', message, undefined, msgOptions);\r\n          }\r\n\r\n          // show node in table or show success message\r\n          function showNodeOrMessage() {\r\n            var update = false;\r\n            status.collection.forEach(function (item) {\r\n              if (item.get(\"id\") === newNode.get(\"id\")) {\r\n                item.set(newNode.attributes);\r\n                update = true;\r\n              }\r\n            });\r\n            if (!update) {\r\n              var folder_id = status.collection.node.get('id'),\r\n                  parent_id = newNode.get('parent_id'),\r\n                  sub_folder_id = newNode.get('sub_folder_id');\r\n              if (folder_id === parent_id || folder_id === -parent_id) {\r\n                  status.collection.add(newNode, {at: 0});\r\n              } else {\r\n                if ( folder_id !== sub_folder_id && sub_folder_id !== 0 ) { //CWS-5155\r\n                  var sub_folder = new NodeModel( {id: sub_folder_id }, { connector: status.container.connector, collection: status.collection });\r\n                  sub_folder.fetch( { success: function () {\r\n                    if ( sub_folder.get('parent_id') === folder_id ) {\r\n                      if (status.collection.findWhere({id: sub_folder.get(\"id\")}) === undefined) {\r\n                        sub_folder.isLocallyCreated = true;\r\n                        status.collection.add(sub_folder, {at: 0});\r\n                      }\r\n                    }\r\n                    // as the workspace got created at different place\r\n                    // show message after subFolder added to the nodes table\r\n                    successWithLinkMessage();\r\n                  }, error: function(err) {\r\n                    ModalAlert.showError(lang.ErrorAddingSubfolderToNodesTable);\r\n                    successWithLinkMessage();\r\n                  }});\r\n                } else {\r\n                  // simply show message If the workspace got created\r\n                  // in target location (XYZ folder) but created from (ABC folder)\r\n                  successWithLinkMessage();\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          // set special class on the dialog, so we can give our own styles on the dialog\r\n          formCollection.on(\"request\",function() {\r\n            var dialog = metadataAddItemController.dialog;\r\n            if (dialog && dialog.$el) {\r\n              dialog.$el.addClass(\"conws-add-workspace\");\r\n            }\r\n          });\r\n\r\n          formCollection.once(\"request\",hideNameAndView); // hide when forms is fetched first time\r\n          formCollection.once(\"sync\",unhideNameAndView); // unhide when forms have been fetched\r\n          formCollection.once(\"error\",unhideNameAndView); // unhide also in error case\r\n          formCollection.on(\"sync\",function(){ updateNameAndView(newNode,formCollection,metadataAddItemController);});\r\n          formCollection.on(\"error\",function(model, response, options){\r\n              var errmsg = response && (new base.Error(response)).message || lang.errorGettingCreateForm;\r\n              log.error(\"Fetching the create forms failed: {0}\",errmsg) && console.error(log.last);\r\n              ModalAlert.showError(errmsg);\r\n          });\r\n\r\n          metadataAddItemController\r\n              .displayForm(status, options)\r\n              .then(function () {\r\n                newNode.isLocallyCreated = true;\r\n                showNodeOrMessage();\r\n                deferred.resolve.apply(deferred, arguments);\r\n              })\r\n              .fail(function (error) {\r\n                if (error instanceof Error) {\r\n                  deferred.reject(error);\r\n                } else {\r\n                  // cancel clicked or escape pressed\r\n                  deferred.reject();\r\n                }\r\n              });\r\n          // set controller, so unit tests can get the view and wait for end of rendering.\r\n          status.metadataAddItemController = metadataAddItemController;\r\n        }, function (error) {\r\n          deferred.reject(error);\r\n        });\r\n      }\r\n\r\n      return deferred.promise();\r\n    }\r\n  });\r\n\r\n  function updateNameAndView (nodeModel, formCollection, metadataAddItemController) {\r\n    // we have special behavior for the name field, depending on the forms result.\r\n    // so we put the code here, where we have access to the name field in the dialog header.\r\n    var general = formCollection.at(0);\r\n    if (!nodeModel.get(\"id\")) {\r\n      // due to LPAD-50061, the form collection is fetched after save.\r\n      // to avoid CWS-1140, we change the name only if id is not set.\r\n      var data = general.get(\"data\");\r\n      if (data) {\r\n        var name = data.name;\r\n        log.debug(\"name fetched and used: {0}\",name) && console.log(log.last);\r\n        nodeModel.set(\"name\",name);\r\n      } else {\r\n        // if no server data object is set, then we set an empty name.\r\n        log.debug(\"name set to empty.\") && console.log(log.last);\r\n        nodeModel.set(\"name\",\"\");\r\n      }\r\n    }\r\n    var metadataView = metadataAddItemController.metadataAddItemPropView,\r\n        headerView = metadataView && metadataView.metadataHeaderView,\r\n        nameView = headerView && headerView.metadataItemNameView;\r\n    if (nameView) {\r\n      var gs = general.get(\"schema\"),\r\n          isReadOnly = (gs && gs.properties && gs.properties.name && gs.properties.name.readonly) ? true : false,\r\n          placeHolder = isReadOnly ? lang.nameIsGeneratedAutomatically : undefined;\r\n      nameView.setPlaceHolder(placeHolder);\r\n      if (isReadOnly && metadataView && metadataView.metadataPropertiesView) {\r\n        metadataView.metadataPropertiesView.once(\"render:forms\",function() {\r\n\t\t  //If read only, remove the role for the place holder text\r\n          this.options.metadataView.metadataHeaderView.metadataItemNameView.$el.find('span.title').removeAttr(\"role\");\r\n\t\t  var focusEl = this.currentlyFocusedElement();\r\n          if (focusEl) {\r\n            focusEl.trigger('focus');\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  return AddWorkspaceCommand;\r\n});\r\n\n","csui.define('conws/utils/commands/addconwstemplate',['require',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/utils/base',\r\n  'csui/utils/log',\r\n  'csui/models/command',\r\n  'csui/models/node/node.model',\r\n  'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (require, $, _, base, log,\r\n  CommandModel,\r\n  NodeModel,\r\n  lang) {\r\n\r\n    var DocTemplateVolumeType = 20541;\r\n\r\n    var AddWorkspaceTemplateCommand = CommandModel.extend({\r\n\r\n      defaults: {\r\n        signature: 'AddCONWSTemplate',\r\n        name: lang.CommandNameAddCONWSTemplate,\r\n        scope: 'single'\r\n      },\r\n\r\n      enabled: function (status) {\r\n        var container = status.container || {}\r\n        return container.get(\"type\") === DocTemplateVolumeType ? true : false;\r\n      },\r\n\r\n      execute: function (status, options) {\r\n\r\n        var deferred = $.Deferred(),\r\n          subType = options.addableType,\r\n          subTypeName = options.addableTypeName,\r\n          newNode = new NodeModel({\r\n            \"type\": subType,\r\n            \"type_name\": subTypeName,\r\n            \"container\": true,\r\n            \"name\": \"\",\r\n            \"parent_id\": status.container.attributes.id,\r\n            \"is_doctemplate\": true\r\n          }, {\r\n              connector: status.container.connector\r\n            });\r\n\r\n        status.forwardToTable = true;\r\n        deferred.resolve(newNode);\r\n        return deferred.promise();\r\n      }\r\n    });\r\n\r\n    return AddWorkspaceTemplateCommand;\r\n  });\r\n\r\n\r\n\r\n\n","csui.define('conws/utils/commands/delete',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',\r\n    'csui/utils/commands/delete'\r\n], function ($, _, DeleteCommand, lang) {\r\n    // SAPRM-8700 Default DeleteCommand extended for related workspaces where\r\n    // delete must be disabled\r\n    var origEnabled = DeleteCommand.prototype.enabled;\r\n    var DeleteCommandRelatedWorkspaceCheck = DeleteCommand.extend({\r\n        enabled: function (status) {\r\n            if (status.container === undefined ||\r\n                status.container.get(\"type\") !== 854) {\r\n                return origEnabled.call(this, status);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    });\r\n    DeleteCommand.prototype = DeleteCommandRelatedWorkspaceCheck.prototype;\r\n    return DeleteCommand;\r\n});\n","csui.define('conws/utils/commands/permissions/addoreditrole',[\r\n  'require',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/utils/base',\r\n  'csui/models/command',\r\n  'conws/utils/commands/permissions/permissions.util',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n\r\n], function (require, _, $, base, CommandModel, PermissionsUtil, lang) {\r\n  'use strict';\r\n\r\n  // Dependencies loaded in the execute method first\r\n  var GlobalMessage;\r\n\r\n  var AddOrEditRoleCommand = CommandModel.extend({\r\n    defaults: {\r\n      signature: \"AddOrEditRole\",\r\n      name: lang.CommandNameAddRole\r\n    },\r\n\r\n    enabled: function (status) {\r\n      var nodeModel = status.nodeModel || (status.originatingView && status.originatingView.model);\r\n      if (PermissionsUtil.isWorkspace(nodeModel)) {\r\n        // Add role\r\n        if (status.nodeModel) {\r\n          return true;\r\n        }\r\n        //edit role - only if the role belogs to this node\r\n        else if (!status.nodeModel && !!status.model && PermissionsUtil.isWorkspaceRole(status.model) &&\r\n          !PermissionsUtil.isInheritedRole(nodeModel, status.model)) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    execute: function (status, options) {\r\n      var self = this;\r\n      var deferred = $.Deferred();\r\n      var context = status.context || options && options.context;\r\n      status.addrole = !!status.nodeModel\r\n      status.suppressSuccessMessage = true;\r\n      require(['csui/models/permission/nodepermission.model',\r\n        'csui/controls/globalmessage/globalmessage'\r\n      ], function (NodePermissionModel) {\r\n        GlobalMessage = arguments[1];\r\n\r\n        if (!status.addrole && status.model) {\r\n\r\n          // fetch the role details using roles restapi\r\n          status.model.action = \"fetch\";\r\n          status.model.nodeId = status.originatingView && status.originatingView.model && status.originatingView.model.get(\"id\");\r\n          var url = PermissionsUtil.getUrl(status.model);\r\n          status.model.fetch({\r\n            url: url\r\n          }).done(function () {\r\n            if (status.model.get(\"results\") && status.model.get(\"results\").data &&\r\n              status.model.get(\"results\").data.members && status.model.get(\"results\").data.properties) {\r\n              status.model.set(\"members\", status.model.get(\"results\").data.members);\r\n              status.model.get(\"right_id_expand\").name = status.model.get(\"results\").data.properties.name;\r\n              status.model.get(\"right_id_expand\").description = status.model.get(\"results\").data.properties.description;\r\n              status.model.get(\"right_id_expand\").team_lead = status.model.get(\"results\").data.properties.leader;\r\n            }\r\n            status.model.unset('links');\r\n            status.model.unset('results');\r\n            status.model.unset('addEmptyAttribute');\r\n\r\n            self._selectAddOrEditRoleOptions(status, options)\r\n              .done(function (selectedOptions) {\r\n                var roleModelData = {\r\n                  name: selectedOptions.role_name,\r\n                  description: selectedOptions.role_description,\r\n                  leader: selectedOptions.team_lead\r\n                }\r\n                // if we don`t open the permissions and participants page, then we should not override the details from those views\r\n                if (!!selectedOptions.permissions) {\r\n                  roleModelData.permissions = selectedOptions.permissions;\r\n                  roleModelData.apply_to = selectedOptions.apply_to;\r\n                  roleModelData.include_sub_types = selectedOptions.apply_to > 0 ? [204, 207, 215, 298, 3030202] : []\r\n                }\r\n                if (!!selectedOptions.participants) {\r\n                  roleModelData.members = selectedOptions.participants;\r\n                }\r\n                // update the user provided details from addoreditrole dialog\r\n                status.model.action = \"update\";\r\n                url = PermissionsUtil.getUrl(status.model);\r\n                status.model.save(roleModelData, {\r\n                  url: url,\r\n                  patch: true,\r\n                  wait: true,\r\n                  silent: true\r\n                }).done(function () {\r\n\r\n                  var right_id_expand = status.model.get(\"right_id_expand\");\r\n\r\n                  // update the corresponding extraMemberModel, if the name is updated\r\n                  if( right_id_expand.name !== selectedOptions.role_name ){\r\n                    var memberModel = _.find(status.model.collection.extraMemberModels, { id: status.model.get(\"right_id\") });\r\n                    if( memberModel ){\r\n                      memberModel.set(\"name\", selectedOptions.role_name);\r\n                      memberModel.set(\"name_formatted\", selectedOptions.role_name);\r\n                    }\r\n                  }\r\n\r\n                  right_id_expand.name = selectedOptions.role_name;\r\n                  right_id_expand.name_formatted = selectedOptions.role_name;\r\n                  right_id_expand.description = selectedOptions.role_description;\r\n                  right_id_expand.team_lead = selectedOptions.team_lead;\r\n\r\n                  //update the leader_id if user selected this role as leader.\r\n                  if (selectedOptions.team_lead) {\r\n                    var nodeModel = status.nodeModel || (status.originatingView && status.originatingView.model);\r\n                    // update all nodepermission models with new leader_id\r\n                    $.each(status.model.collection.models, function (index, model) {\r\n                      PermissionsUtil.isWorkspaceRole(model) &&\r\n                        !PermissionsUtil.isInheritedRole(nodeModel, model) &&\r\n                        (model.get(\"right_id_expand\").leader_id = right_id_expand.id);\r\n                    });\r\n                    right_id_expand.leader_id = right_id_expand.id;\r\n\r\n                    // update all member models that is used in userpicker with new leader_id\r\n                    $.each(status.model.collection.extraMemberModels, function (index, model) {\r\n                      PermissionsUtil.isWorkspaceRole(model) &&\r\n                        !PermissionsUtil.isInheritedRole(nodeModel, model) &&\r\n                        model.set(\"leader_id\", right_id_expand.id);\r\n                    });\r\n                  }\r\n\r\n                  //if we don`t open the permissions and participants page, then we should not update the ui as well\r\n                  if (!!selectedOptions.permissions && !!selectedOptions.apply_to) {\r\n                    right_id_expand.permissions = selectedOptions.permissions;\r\n                    status.model.set(\"permissions\", selectedOptions.permissions);\r\n                    right_id_expand.apply_to = selectedOptions.apply_to;\r\n                  }\r\n                  if (!!selectedOptions.participants && selectedOptions.participants.length > 0) {\r\n                    right_id_expand.members = selectedOptions.participants;\r\n                    status.model.set(\"members\", selectedOptions.participants);\r\n                  }\r\n\r\n                  // update the model with the user provided details\r\n                  status.model.set({\r\n                    right_id_expand: right_id_expand,\r\n                    type: 'custom'\r\n                  }, { silent: true });\r\n\r\n                  GlobalMessage.showMessage('success', self._getMessageWithRoleName(status.model));\r\n                  if (status.originatingView && status.originatingView.unblockActions) {\r\n                    status.originatingView.unblockActions();\r\n                  }\r\n                  if (status.originatingView && status.originatingView.permissionsContentView &&\r\n                    status.originatingView.permissionsContentView.permissionsListView) {\r\n                    status.originatingView.permissionsContentView.permissionsListView.trigger(\"update:table\", status.model);\r\n                  }\r\n                  deferred.resolve(status.model);\r\n                }).fail(function (response) {\r\n                  var error = new base.Error(response);\r\n                  if (status.originatingView && status.originatingView.unblockActions) {\r\n                    status.originatingView.unblockActions();\r\n                  }\r\n                  GlobalMessage.showMessage('error', error);\r\n                  deferred.reject(status.model, error);\r\n                });\r\n              }).fail(function (error) {\r\n                deferred.reject(error);\r\n              });\r\n          }).fail(function (error) {\r\n            deferred.reject(error);\r\n          });\r\n        }\r\n        else {\r\n\r\n          // Idenitfy whether atleast one workspace role exists\r\n          status.isWorkspaceRoleExists = status.permissionCollection.models.some(function (model) {\r\n            return PermissionsUtil.isWorkspaceRole(model) && !PermissionsUtil.isInheritedRole(status.nodeModel, model);\r\n          }, this);\r\n\r\n          self._selectAddOrEditRoleOptions(status, options)\r\n            .done(function (selectedOptions) {\r\n              var apply_to = (selectedOptions.apply_to !== undefined) ? selectedOptions.apply_to : 2,\r\n              roleModelData = {\r\n                name: selectedOptions.role_name,\r\n                description: selectedOptions.role_description,\r\n                leader: selectedOptions.team_lead,\r\n                members: selectedOptions.participants,\r\n                permissions: (selectedOptions.permissions !== undefined) ? selectedOptions.permissions : NodePermissionModel.getReadPermissions(),\r\n                apply_to: apply_to,\r\n                include_sub_types: apply_to > 0 ? [204, 207, 215, 298, 3030202] : []\r\n              },\r\n                nodeRolePermissionModel = new NodePermissionModel(roleModelData, status);\r\n              nodeRolePermissionModel.unset('addEmptyAttribute');\r\n              nodeRolePermissionModel.action = \"create\";\r\n              nodeRolePermissionModel.nodeId = status.nodeId;\r\n              if (status.originatingView && status.originatingView.blockActions) {\r\n                status.originatingView.blockActions();\r\n              }\r\n              var url = PermissionsUtil.getUrl(nodeRolePermissionModel);\r\n              nodeRolePermissionModel.save(roleModelData, {\r\n                url: url,\r\n                silent: true,\r\n                wait: true\r\n              }).done(function (response) {\r\n                var currentLeaderId, properties = response.results && response.results.data && response.results.data.properties,\r\n                  right_id = properties && properties.id,\r\n                  isLeader = properties && properties.leader,\r\n                  nodeModel = status.nodeModel || (status.originatingView && status.originatingView.model);\r\n\r\n                //update the leader_id based on user selection.\r\n                if (isLeader) {\r\n                  // update all nodepermission models with new leader_id\r\n                  $.each(status.permissionCollection.models, function (index, model) {\r\n                    PermissionsUtil.isWorkspaceRole(model) &&\r\n                      !PermissionsUtil.isInheritedRole(nodeModel, model) &&\r\n                      (model.get(\"right_id_expand\").leader_id = right_id);\r\n                  });\r\n\r\n                  // update all member models that is used in userpicker with new leader_id\r\n                  $.each(status.permissionCollection.extraMemberModels, function (index, model) {\r\n                    PermissionsUtil.isWorkspaceRole(model) &&\r\n                      !PermissionsUtil.isInheritedRole(nodeModel, model) &&\r\n                      model.set(\"leader_id\", right_id);\r\n                  });\r\n                } else {\r\n                  var filteredModels = _.filter(status.permissionCollection.models, function (model) {\r\n                    return PermissionsUtil.isWorkspaceRole(model) && PermissionsUtil.isLeaderRole(nodeModel, model);\r\n                  });\r\n                  currentLeaderId = filteredModels.length && filteredModels[0].get(\"right_id_expand\").leader_id;\r\n                }\r\n\r\n                nodeRolePermissionModel.set({\r\n                  // set the newly added role details\r\n                  right_id_expand: {\r\n                    id: right_id,\r\n                    initials: selectedOptions.role_name[0],\r\n                    leader_id: isLeader ? right_id : currentLeaderId,\r\n                    name: selectedOptions.role_name,\r\n                    name_formatted: selectedOptions.role_name,\r\n                    type: 848,\r\n                    node_id: status.nodeId,\r\n                    type_name: lang.BusinessWorkspaceRole\r\n                  },\r\n                  type: 'custom',\r\n                  right_id: right_id\r\n                },\r\n                  { silent: true });\r\n                GlobalMessage.showMessage('success',\r\n                  self._getMessageWithRoleName(nodeRolePermissionModel));\r\n                if (status.originatingView && status.originatingView.unblockActions) {\r\n                  status.originatingView.unblockActions();\r\n                }\r\n                deferred.resolve(nodeRolePermissionModel);\r\n              }).fail(function (response) {\r\n                var error = new base.Error(response);\r\n                if (status.originatingView && status.originatingView.unblockActions) {\r\n                  status.originatingView.unblockActions();\r\n                }\r\n                GlobalMessage.showMessage('error', error);\r\n                deferred.reject(nodeRolePermissionModel, error);\r\n              });\r\n            })\r\n            .fail(function (error) {\r\n              deferred.reject(error);\r\n            });\r\n        }\r\n      }, function (error) {\r\n        deferred.reject(error);\r\n      });\r\n      return deferred.promise();\r\n    },\r\n\r\n    _selectAddOrEditRoleOptions: function (status, options) {\r\n      var self = this;\r\n      var deferred = $.Deferred();\r\n      require(['conws/dialogs/addoreditrole/addoreditrole.wizard'],\r\n        function (AddOrEditRoleWizard) {\r\n          var addOrEditRoleWizard = new AddOrEditRoleWizard({\r\n            command: 'addoreditrole',\r\n            context: status.context,\r\n            connector: status.connector,\r\n            dialogClass: 'cs-permission-role-picker',\r\n            displayName: status.addrole ? lang.CommandNameAddRole : lang.CommandNameEditRole,\r\n            dialogTitle: status.addrole ? lang.CommandNameAddRole : lang.CommandNameEditRole,\r\n            addrole: status.addrole,\r\n            nodeModel: status.addrole ? status.nodeModel : status.originatingView.model,\r\n            model: status.model,\r\n            addButtonLabel: lang.AddButtonLabel,\r\n            availablePermissions: status.addrole ? status.permissionCollection.availablePermissions : status.originatingView.collection,\r\n            applyTo: status.applyTo,\r\n            isFirstRole: !status.isWorkspaceRoleExists\r\n          });\r\n\r\n          addOrEditRoleWizard\r\n            .show()\r\n            .done(function () {\r\n              deferred.resolve.apply(deferred, arguments);\r\n            }).fail(function (error) {\r\n              deferred.reject.apply(deferred, arguments);\r\n            });\r\n        }, function (error) {\r\n          deferred.reject(error);\r\n        });\r\n      return deferred.promise();\r\n    },\r\n\r\n    _getMessageWithRoleName: function (permissionModel) {\r\n      var msg, displayName;\r\n      if (permissionModel.get(\"right_id_expand\")) {\r\n        displayName = base.formatMemberName(permissionModel.get(\"right_id_expand\"));\r\n      }\r\n      if (!!permissionModel.action && permissionModel.action === \"update\") {\r\n        msg = _.str.sformat(lang.EditRoleSuccess, displayName);\r\n      }\r\n      else {\r\n        msg = _.str.sformat(lang.AddRoleSuccess, displayName);\r\n      }\r\n\r\n      return msg;\r\n    }\r\n  });\r\n\r\n  return AddOrEditRoleCommand;\r\n});\n","csui.define('conws/utils/workspaces/busyindicator',[], function () {\r\n  'use strict';\r\n\r\n  /**\r\n   * helper class to switch on and off the busy indicator \r\n   * over the view, which triggered command execution.\r\n   * \r\n   */\r\n  function BusyIndicator (on_fct,off_fct) {\r\n    this.on_fct = on_fct;\r\n    this.off_fct = off_fct;\r\n  }\r\n\r\n  function OnOff(status,onoff) {\r\n      if (status.busyIndicator) {\r\n        status.busyIndicator[onoff]();\r\n      } else {\r\n        var view = status.originatingView;\r\n        if (view && view.blockActions && view.unblockActions) {\r\n          status.busyIndicator = new BusyIndicator(\r\n            function(){ view.blockActions(); },\r\n            function(){ view.unblockActions(); }\r\n          );\r\n          status.busyIndicator[onoff]();\r\n        }\r\n      }\r\n  }\r\n\r\n  BusyIndicator.on = function(status) { OnOff(status,\"on\"); };\r\n  BusyIndicator.off = function(status) { OnOff(status,\"off\"); };\r\n\r\n  BusyIndicator.prototype.on = function() {\r\n    if (!this.busy) { this.busy = true; this.on_fct(); }\r\n  };\r\n  BusyIndicator.prototype.off = function() {\r\n    if (this.busy) { this.busy = false; this.off_fct(); }\r\n  };\r\n\r\n  return BusyIndicator;\r\n\r\n});\r\n\n","csui.define('conws/utils/commands/addrelateditem',[\r\n  'require', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  'csui/models/action',\r\n  'csui/models/command', 'conws/utils/workspaces/busyindicator'\r\n], function (require, _, $, lang, ActionModel, CommandModel, BusyIndicator ) {\r\n  'use strict';\r\n\r\n  function getAction(status) {\r\n    var model = status.collection && status.collection.workspace;\r\n    var action;\r\n    if (model && model.actions) {\r\n      action = model.actions.get ? model.actions.get(\"add-relitem\") : model.actions[\"add-relitem\"];\r\n    }\r\n    return action;\r\n  }\r\n\r\n    var AddRelationCommand = CommandModel.extend({\r\n  \r\n      defaults: {\r\n        signature: \"AddRelation\",\r\n        command_key: ['add-relitem'],\r\n        scope: \"multiple\",\r\n        name: lang.CommandNameAddRelatedItem,\r\n        verb: lang.CommandVerbAddRelatedItem,\r\n        successMessages: {\r\n          formatForNone: lang.AddRelatedItemsNoneMessage,\r\n          formatForOne: lang.AddOneRelatedItemSuccessMessage,\r\n          formatForTwo: lang.AddSomeRelatedItemsSuccessMessage,\r\n          formatForFive: lang.AddManyRelatedItemsSuccessMessage\r\n        }\r\n      },\r\n\r\n      enabled: function(status) {\r\n        var enabled = false;\r\n        if (status.data && status.data.submit) {\r\n          if (status.nodes && status.nodes.length) {\r\n            enabled = !!getAction(status);\r\n          }\r\n        } else {\r\n          enabled = !!getAction(status);\r\n        }\r\n        return enabled;\r\n      },\r\n\r\n      execute: function(status, options) {\r\n        status.suppressSuccessMessage = true;\r\n        if (status.data && status.data.submit) {\r\n          return this.submitNodes(status,options);\r\n        } else {\r\n          return this.openSearch(status,options);\r\n        }\r\n      },\r\n\r\n      submitNodes: function(status,options) {\r\n        var self = this;\r\n        var deferred = $.Deferred();\r\n        status.suppressSuccessMessage = true;\r\n        BusyIndicator.on(status);\r\n        deferred.always(function(){\r\n         BusyIndicator.off(status);\r\n        });\r\n        require([ 'csui/lib/underscore', 'csui/utils/base', 'csui/utils/url',\r\n          'csui/controls/globalmessage/globalmessage'\r\n        ], function ( _, base, Url, GlobalMessage) {\r\n  \r\n          function buildCallData(status) {\r\n            var nodes = status.nodes;\r\n            var connector, name, data;\r\n            var calls = [];\r\n            var action = getAction(status);\r\n            if (nodes && action) {\r\n              nodes.each(function (node) {\r\n                  connector = node.connector;\r\n                  name = node.get(\"name\");\r\n                  var href = action.href || action.get('href')/*href: \"/api/v2/businessworkspaces/98015/relateditems\"*/;\r\n                  // get api version and url without anchor and params from href.\r\n                  var match = href.match(/^\\/?api\\/v([0-9\\.])+\\/([^?#]+)/i);\r\n                  var requestArgs = _.extend(Url.urlParams(href),{\r\n                    rel_bw_id: node.get(\"id\"),\r\n                    rel_type: node.get(\"rel_type\")\r\n                  });\r\n                  var call = {\r\n                    apiCall: (match && match.length>=3) ? match[2] : href,\r\n                    params: {\r\n                      fRequestArgs: requestArgs,\r\n                      fVersionNumber: (match && match.length>=2) ? parseInt(match[1]) : 2,\r\n                      fParamTicket: \"\",\r\n                      fParamMethod: action.method || action.get('method')/*method: \"POST\"*/,\r\n                      fCallName: href\r\n                    }\r\n                  };\r\n                  calls.push(call);\r\n              });\r\n            }\r\n            if (connector) {\r\n              var connectionUrl = connector.getConnectionUrl();\r\n              var baseUrl = connectionUrl.getCgiScript();\r\n              var url = Url.combine(baseUrl,\"/api/v1/csui/batch\");\r\n              var formData = new FormData();\r\n              formData.append('body', JSON.stringify({\r\n                exitOnError: true,\r\n                calls: calls\r\n              }));\r\n              data = {\r\n                url: url,\r\n                method: \"POST\",\r\n                data: formData,\r\n                contentType: false,\r\n                processData: false\r\n              }\r\n            }\r\n            return {connector: connector, name: name, data: data, count: calls.length};\r\n          }\r\n  \r\n          var callData = buildCallData(status);\r\n          if (callData.count) {\r\n            callData.connector.makeAjaxCall(callData.data)\r\n            .done(function(response) {\r\n              // As we have set exitOnError to true we always have all succeeded here.\r\n              var successmsg = base.formatMessage(response.calls.length, self.get(\"successMessages\"), callData.name);\r\n              deferred.resolve(status.nodes);\r\n              GlobalMessage.showMessage(\"success\",successmsg);\r\n              status.originatingView && status.originatingView.trigger(\"cmd:success\", self.get(\"signature\"), status.nodes );\r\n            }).fail(function(request) {\r\n              // As we have set exitOnError to true we always have only one error here.\r\n              var errormsg = request.responseJSON ? request.responseJSON.error : request.statusText;\r\n              var error = new Error(errormsg);\r\n              error.suppressFailMessage = true;\r\n              deferred.reject(error);\r\n              GlobalMessage.showMessage(\"error\",errormsg);\r\n              status.originatingView && status.originatingView.trigger(\"cmd:failure\", self.get(\"signature\"), error );\r\n            });\r\n          } else {\r\n            deferred.resolve();\r\n          }\r\n        }, deferred.reject );\r\n        return deferred.promise();\r\n      },\r\n\r\n      openSearch: function(status,options) {\r\n        var self = this;\r\n        var deferred = $.Deferred();\r\n        status.suppressSuccessMessage = true;\r\n        var action = getAction(status);\r\n        if (action) {\r\n          require(['conws/widgets/relatedworkspaces/addrelatedworkspaces.search'\r\n          ], function (\r\n            AddRelatedWorkspacesSearch\r\n          ) {\r\n            var addWkspSearch = new AddRelatedWorkspacesSearch({\r\n              title: self.get(\"name\"),\r\n              signature: self.get(\"signature\"),\r\n              status: status\r\n            });\r\n\r\n            var lasterror;\r\n            addWkspSearch.searchView.on(\"go:back\", function() {\r\n              if (lasterror) {\r\n                lasterror.suppressFailMessage = true;\r\n                deferred.reject(lasterror);\r\n              } else {\r\n                deferred.resolve();\r\n              }\r\n            });\r\n            addWkspSearch.searchView.on(\"cmd:success\", function(sig,result) {\r\n              if (sig===self.get(\"signature\")) {\r\n                lasterror = undefined;\r\n                addWkspSearch.close();\r\n                result.each(function(node){\r\n                  // convert each node so it can be used in the relateditems collection.\r\n                  // set deleterelateditem action in each node.\r\n                  var rel_source = node.get(\"rel_source\");\r\n                  var rel_target = node.get(\"id\");\r\n                  var rel_type = node.get(\"rel_type\");\r\n                  var href = _.str.sformat(\"/api/v2/businessworkspaces/{0}/relateditems/{1}?rel_type={2}\", rel_source, rel_target, rel_type);\r\n                  var del_action = new ActionModel({\r\n                    body: \"\",\r\n                    content_type: \"\",\r\n                    form_href: \"\",\r\n                    href: href,\r\n                    method: \"DELETE\",\r\n                    name: lang.ServerCommandNameDeleteRelatedItem/*\"Remove related item\"*/,\r\n                    signature: \"deleterelateditem\"\r\n                  },{\r\n                    connector: node.connector\r\n                  });\r\n                  node.actions.add(del_action);\r\n                });\r\n                deferred.resolve(result.models);\r\n              }\r\n            });\r\n            addWkspSearch.searchView.on(\"cmd:failure\", function(sig,error) {\r\n              if (sig===self.get(\"signature\")) {\r\n                lasterror = error;\r\n              }\r\n            });\r\n  \r\n            addWkspSearch.show();\r\n\r\n          }, deferred.reject );\r\n        }\r\n        else {\r\n          deferred.resolve();\r\n        }\r\n\r\n        return deferred.promise();\r\n      }\r\n\r\n\r\n    });\r\n\r\n    return AddRelationCommand;\r\n  \r\n  });\r\n  \n","csui.define('conws/utils/commands/deleterelateditem',[\r\n  'require', 'csui/lib/jquery',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  'csui/models/command', 'conws/utils/workspaces/busyindicator'\r\n], function (require, $, lang, CommandModel, BusyIndicator) {\r\n  'use strict';\r\n\r\n  var RemoveRelationCommand = CommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: \"RemoveRelation\",\r\n      command_key: ['deleterelateditem'],\r\n      scope: 'multiple',\r\n      name: lang.CommandNameDeleteRelatedItem,\r\n      verb: lang.CommandVerbDeleteRelatedItem,\r\n      confirmMessages: {\r\n        formatForOne: lang.DeleteOneRelatedItemConfirmMessage,\r\n        formatForTwo: lang.DeleteSomeRelatedItemsConfirmMessage,\r\n        formatForFive: lang.DeleteManyRelatedItemsConfirmMessage\r\n      },\r\n      successMessages: {\r\n        formatForNone: lang.DeleteRelatedItemsNoneMessage,\r\n        formatForOne: lang.DeleteOneRelatedItemSuccessMessage,\r\n        formatForTwo: lang.DeleteSomeRelatedItemsSuccessMessage,\r\n        formatForFive: lang.DeleteManyRelatedItemsSuccessMessage\r\n      }\r\n    },\r\n\r\n    enabled: function(status) {\r\n      if (status.nodes && status.nodes.length) {\r\n        var node = status.nodes.find(function(node){\r\n          if (!(node.actions && node.actions.get(\"deleterelateditem\"))) {\r\n            return node;\r\n          }\r\n        });\r\n        return !node;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    execute: function(status, options) {\r\n      var self = this;\r\n      var deferred = $.Deferred();\r\n      status.suppressSuccessMessage = true;\r\n      BusyIndicator.on(status);\r\n      deferred.always(function(){\r\n        BusyIndicator.off(status);\r\n      });\r\n      require([ 'csui/lib/underscore', 'csui/utils/base', 'csui/utils/url',\r\n        'csui/dialogs/modal.alert/modal.alert',\r\n        'csui/controls/globalmessage/globalmessage'\r\n      ], function (_, base, Url, ModalAlert, GlobalMessage) {\r\n\r\n        function buildCallData(status) {\r\n          var nodes = status.nodes;\r\n          var connector, name, data;\r\n          var calls = [];\r\n          if (nodes) {\r\n            nodes.each(function (node) {\r\n              var action = node.actions.get('deleterelateditem');\r\n              if (action) {\r\n                connector = node.connector;\r\n                name = node.get(\"name\");\r\n                var href = action.get('href')/*href: \"/api/v2/businessworkspaces/98015/relateditems/125892?rel_type=child\"*/;\r\n                // get api version and url without anchor and params from href.\r\n                var match = href.match(/^\\/?api\\/v([0-9\\.])+\\/([^?#]+)/i);\r\n                var call = {\r\n                  apiCall: (match && match.length>=3) ? match[2] : href,\r\n                  params: {\r\n                    fRequestArgs: Url.urlParams(href),\r\n                    fVersionNumber: (match && match.length>=2) ? parseInt(match[1]) : 2,\r\n                    fParamTicket: \"\",\r\n                    fParamMethod: action.get('method')/*method: \"DELETE\"*/,\r\n                    fCallName: href\r\n                  }\r\n                };\r\n                calls.push(call);\r\n              }\r\n            });\r\n          }\r\n          if (connector) {\r\n            var connectionUrl = connector.getConnectionUrl();\r\n            var baseUrl = connectionUrl.getCgiScript();\r\n            var url = Url.combine(baseUrl,\"/api/v1/csui/batch\");\r\n            var formData = new FormData();\r\n            formData.append('body', JSON.stringify({\r\n              exitOnError: true,\r\n              calls: calls\r\n            }));\r\n            data = {\r\n              url: url,\r\n              method: \"POST\",\r\n              data: formData,\r\n              contentType: false,\r\n              processData: false\r\n            }\r\n          }\r\n          return {connector: connector, name: name, data: data, count: calls.length};\r\n        }\r\n\r\n        var callData = buildCallData(status);\r\n        if (callData.count) {\r\n          BusyIndicator.off(status);\r\n          var confirmmsg = base.formatMessage(callData.count, self.get(\"confirmMessages\"), callData.name);\r\n          ModalAlert.confirmQuestion(confirmmsg, self.get(\"name\"))\r\n            .done(function() {\r\n              BusyIndicator.on(status);\r\n              callData.connector.makeAjaxCall(callData.data)\r\n              .done(function(response) {\r\n                // As we have set exitOnError to true we always have all succeeded here.\r\n                var successmsg = base.formatMessage(response.calls.length, self.get(\"successMessages\"), callData.name);\r\n                deferred.resolve(response.calls);\r\n                GlobalMessage.showMessage(\"success\",successmsg);\r\n              }).fail(function(request) {\r\n                // As we have set exitOnError to true we always have only one error here.\r\n                var errormsg = request.responseJSON ? request.responseJSON.error : request.statusText;\r\n                var error = new Error(errormsg);\r\n                error.suppressFailMessage = true;\r\n                deferred.reject(error);\r\n                GlobalMessage.showMessage(\"error\",errormsg);\r\n              });\r\n            })\r\n            .fail( function() {\r\n              deferred.resolve();\r\n            });\r\n        } else {\r\n          deferred.resolve();\r\n        }\r\n      }, deferred.reject );\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return RemoveRelationCommand;\r\n\r\n});\r\n\n","csui.define('conws/utils/commands/permissions/deleterole',[\r\n  'require',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/utils/commands/permissions/delete.permission',\r\n  'csui/utils/command.error',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'conws/utils/commands/permissions/permissions.util',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  'i18n!csui/utils/commands/nls/localized.strings'\r\n], function (require, $, _, Backbone, DeletePermissionCommand, CommandError, GlobalMessage, PermissionsUtil, lang, csuilang) {\r\n  'use strict';\r\n\r\n  var DeleteRoleCommand = DeletePermissionCommand.extend({\r\n\r\n    defaults: {\r\n      signature: 'DeleteRole',\r\n      name: lang.CommandNameDeleteRole,\r\n      scope: 'single'\r\n    },\r\n\r\n    enabled: function (status) {\r\n      var permissionModel = status.model,\r\n          isWorkspaceRole = PermissionsUtil.isWorkspaceRole(permissionModel),\r\n          permissionType  = permissionModel && permissionModel.get('type'),\r\n          nodeModel       = status.nodeModel || (status.originatingView && \r\n                                                status.originatingView.model),\r\n          isWorkspace = PermissionsUtil.isWorkspace(nodeModel),\r\n          isInheritedRole = PermissionsUtil.isInheritedRole(nodeModel, permissionModel),\r\n          isLeaderRole = PermissionsUtil.isLeaderRole(nodeModel, permissionModel),\r\n          enabled         = permissionType && permissionType === \"custom\" && isWorkspaceRole && !isLeaderRole &&\r\n                            nodeModel.actions && !!nodeModel.actions.get({signature: 'editpermissions'});\r\n\r\n      // For subitems and inherited roles we need to update the title.\r\n      if ((!isWorkspace && isWorkspaceRole) || (isWorkspace && isInheritedRole)) {\r\n        status.toolItem.set(\"name\", lang.DeletePermissionCommandForSubItems);\r\n      }\r\n      return enabled;\r\n    },\r\n\r\n    execute: function (status, options) {\r\n      var deferred = $.Deferred(),\r\n          self     = this;\r\n      options || (options = {});\r\n      // avoid messages from handleExecutionResults\r\n      status.suppressFailMessage = true;\r\n      status.suppressSuccessMessage = true;\r\n\r\n      require([\r\n        'csui/controls/globalmessage/globalmessage',\r\n        'conws/dialogs/applyrolepermissions/apply.role.permissions.view',\r\n        'conws/dialogs/applyrolepermissions/impl/header/apply.role.permissions.header.view',\r\n        'csui/controls/progressblocker/blocker',\r\n        'csui/controls/dialog/dialog.view',\r\n        'csui/utils/permissions/permissions.precheck'\r\n      ], function (localGlobalMessage, ApplyRolePermissionView, ApplyRolePermissionsHeaderView,\r\n          BlockingView, DialogView, PermissionPreCheck) {\r\n        GlobalMessage = localGlobalMessage;\r\n\r\n        var permissionModel = status.model,\r\n          nodeModel = status.nodeModel || (status.originatingView &&\r\n            status.originatingView.model),\r\n          isWorkspace = PermissionsUtil.isWorkspace(nodeModel),\r\n          isWorkspaceRole = PermissionsUtil.isWorkspaceRole(permissionModel),\r\n          isInheritedRole = PermissionsUtil.isInheritedRole(nodeModel, permissionModel);\r\n\r\n        if (isWorkspace && isWorkspaceRole && !isInheritedRole) {\r\n          permissionModel.isRoleDelete = true;\r\n        }else{\r\n          permissionModel.isRoleDelete = false;\r\n        }\r\n\r\n        if ( status.originatingView && status.originatingView.model &&\r\n            status.originatingView.model.get(\"container\")) {\r\n          options.removePermission = true;\r\n          self._executeDeletePermission(status, options, ApplyRolePermissionsHeaderView,\r\n            ApplyRolePermissionView, BlockingView, DialogView, PermissionPreCheck)\r\n              .then(deferred.resolve, deferred.reject);\r\n        } else {\r\n          self._deletePermission(status, options).then(deferred.resolve, deferred.reject);\r\n        }\r\n      }, deferred.reject);\r\n      return deferred.promise();\r\n    },\r\n\r\n    _performActions: function (status, options) {\r\n      var self            = this,\r\n          deferred        = $.Deferred(),\r\n          permissionModel = status.dialog ? status.dialog.options.view.options.permissionModel :\r\n                            status.model,\r\n          permissionType  = permissionModel.get('type'),\r\n          collection      = permissionModel.collection,\r\n          failureMsg      = this._getMessageWithUserDisplayName(\r\n            csuilang.DeletePermissionCommandFailMessage, permissionModel),\r\n          deleteAttr,successMsg;\r\n\r\n      if (collection && collection.options && collection.options.node &&\r\n          collection.options.node.actions.get({signature: 'editpermissions'})) {\r\n        permissionModel.nodeId = collection.options && collection.options.node &&\r\n                                 collection.options.node.get('id');\r\n        var url, container           = collection.options && collection.options.node &&\r\n                                  collection.options.node.get(\"container\"),\r\n            permissionModelType = collection.options && collection.options.node &&\r\n                                  collection.options.node.get(\"permissions_model\");\r\n \r\n        if (status.dialog && !permissionModel.isRoleDelete) {\r\n          permissionModel.apply_to = (container && status.dialog.options.view.ContentRegion.currentView.getValues().subitems_inherit) ? 2 : 0,\r\n          permissionModel.include_sub_types = permissionModel.apply_to > 0  ? [204, 207, 215, 298, 3030202] : [];\r\n        }\r\n\r\n        url = permissionModel.url();\r\n\r\n        if ( permissionModel.isRoleDelete ) {\r\n          permissionModel.action = 'delete';\r\n          url = PermissionsUtil.getUrl(permissionModel);\r\n          failureMsg = this._getMessageWithUserDisplayName(lang.DeleteRoleCommandFailMessage, permissionModel);\r\n        }\r\n\r\n        if (self.originatingView && self.originatingView.blockActions) {\r\n          self.destroyDialog(status);\r\n          self.originatingView.blockActions();\r\n        }\r\n        \r\n        var jqxhr = permissionModel.destroy({\r\n          url: url,\r\n          wait: true\r\n        }).done(function (response) {\r\n          //update the results\r\n          permissionModel.set('results', response.results);\r\n          self.originatingView && self.originatingView.trigger('permission:changed', self);\r\n          if (self.originatingView && self.originatingView.unblockActions) {\r\n            self.originatingView.unblockActions();\r\n          }\r\n          if( permissionModel.isRoleDelete ){\r\n            successMsg = self._getMessageWithUserDisplayName(lang.DeleteRoleCommandSuccessMessage, permissionModel);\r\n          }else{\r\n            successMsg = self._getMessageWithUserDisplayName(\r\n              permissionModel.get('results') && permissionModel.get('results').success > 0 ?\r\n              csuilang.DeletePermissionCommandSuccessMessageWithCount :\r\n              csuilang.DeletePermissionCommandSuccessMessage, permissionModel);\r\n          }          \r\n          GlobalMessage.showMessage('success', successMsg);\r\n          if (permissionType === \"owner\" || permissionType === \"group\") {\r\n            //Check & Process for no owner condition\r\n            collection.processForEmptyOwner && collection.processForEmptyOwner();\r\n          }\r\n          //self.destroyDialog(status);\r\n          deferred.resolve(permissionModel);\r\n\r\n        }).fail(function (error) {\r\n          var commandError = error ? new CommandError(error, permissionModel) :\r\n                             error;\r\n          self.handleFailure(commandError, failureMsg);\r\n          deferred.reject(permissionModel, commandError);\r\n          if (!error) {\r\n            jqxhr.abort();\r\n          }\r\n        }).always(function () {\r\n          if (self.originatingView && self.originatingView.unblockActions) {\r\n            self.originatingView.unblockActions();\r\n          }\r\n        });\r\n        return deferred.promise();\r\n      }\r\n      else {\r\n        self.destroyDialog(status);\r\n        return deferred.reject(\r\n            new CommandError(failureMsg, {errorDetails: csuilang.undefinedCollection}));\r\n      }\r\n    },\r\n\r\n    handleFailure: function (commandError, oneFileFailure) {\r\n      var errObject = Backbone.Model.extend({\r\n            defaults: {\r\n              name: \"\",\r\n              state: 'pending',\r\n              commandName: 'ViewPermission'\r\n            }\r\n          }),\r\n          errObjects;\r\n\r\n      var failedPermissionsCollection = Backbone.Collection.extend({\r\n        model: errObject\r\n      });\r\n      var errCollection = new failedPermissionsCollection();\r\n      errObjects = new errObject({\r\n        name: commandError,\r\n        mime_type: '',\r\n        state: 'rejected'\r\n      });\r\n      errCollection.add(errObjects);\r\n      GlobalMessage.showPermissionApplyingProgress(errCollection, {oneFileFailure: oneFileFailure});\r\n    }\r\n  });\r\n\r\n  return DeleteRoleCommand;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('conws/utils/commands/permissions/edit.role.permissions',[\r\n  'require',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/utils/base',\r\n  'csui/models/command',\r\n  'csui/utils/command.error',\r\n  'csui/utils/commands/permissions/permission.util',\r\n  'conws/utils/commands/permissions/permissions.util',\r\n  'i18n!csui/utils/commands/nls/localized.strings'\r\n], function (require, _, $, base, CommandModel, CommandError, PermissionUtil, ConwsPermissionsUtil, lang ) {\r\n  'use strict';\r\n  \r\n    var EditRolePermissionCommand = CommandModel.extend({\r\n      defaults: {\r\n        signature: 'EditRolePermission',\r\n        command_key: ['editpermissions', 'Edit Permissions']\r\n      },\r\n  \r\n      enabled: function (status) {\r\n        var permissionModel = status.model,\r\n            permissionType  = permissionModel && permissionModel.get('type'),\r\n            nodeModel       = status.nodeModel || (status.originatingView && \r\n                                                  status.originatingView.model),\r\n            enabled         = permissionType && permissionType === \"custom\" &&\r\n                              ConwsPermissionsUtil.isWorkspaceRole(permissionModel) &&\r\n                              nodeModel.actions && !!nodeModel.actions.get({signature: 'editpermissions'});\r\n  \r\n        return enabled;\r\n      },\r\n  \r\n      execute: function (status, options) {\r\n        var self            = this,\r\n            deferred        = $.Deferred(),\r\n            permissionModel = status.model,\r\n            collection      = permissionModel.collection,\r\n            targetView      = status.targetView;\r\n  \r\n        self.targetView = targetView;\r\n        // avoid messages from handleExecutionResults\r\n        status.suppressFailMessage = true;\r\n        status.suppressSuccessMessage = true;\r\n  \r\n        var failureMsg = this._getMessageWithUserDisplayName(lang.EditPermissionCommandFailMessage,\r\n            permissionModel);\r\n        var userHasEditPermissions = collection && collection.options && collection.options.node &&\r\n                                     collection.options.node.actions.get(\r\n                                         {signature: 'editpermissions'});\r\n  \r\n        if (collection && !!userHasEditPermissions) {\r\n          permissionModel.nodeId = collection.options && collection.options.node &&\r\n                                   collection.options.node.get('id');\r\n  \r\n          require(\r\n              ['conws/utils/commands/permissions/edit.role.permission.helper',\r\n                'csui/utils/contexts/factories/user', 'csui/controls/globalmessage/globalmessage',\r\n                'csui/utils/permissions/permissions.precheck'\r\n              ],\r\n              function (EditRolePermissionHelper, UserModelFactory, GlobalMessage, PermissionPreCheck) {\r\n                var user = status.originatingView.context.getModel(UserModelFactory);\r\n                self.loginUserId = user.get('id');\r\n                self.editRolePermissionHelper = new EditRolePermissionHelper({\r\n                  permissionModel: permissionModel,\r\n                  popoverPlacement: \"left\",\r\n                  popoverAtBodyElement: status.originatingView ?\r\n                                        !status.originatingView.options.isExpandedView : true,\r\n                  popoverTargetElement: status.targetView.permissions.$el,\r\n                  readonly: false,\r\n                  originatingView: status.originatingView,\r\n                  applyTo: status.applyTo\r\n                });\r\n                self.editRolePermissionHelper._showSelectPermissionLevelPopover();\r\n                self.editRolePermissionHelper.listenTo(self.editRolePermissionHelper,\r\n                    \"permissions:selected\", function (userSelection) {\r\n                      var url, saveAttr = {\r\n                        \"permissions\": userSelection.permissions,\r\n                        \"apply_to\": userSelection.apply_to,\r\n                        \"include_sub_types\": userSelection.apply_to > 0 ?\r\n                                             PermissionPreCheck.includeSubTypes() : []\r\n                      },\r\n                      nodeModel = ( self.targetView && self.targetView.options && self.targetView.options.nodeModel ) ||\r\n                      ( self.targetView && self.targetView.permissions && self.targetView.permissions.options && self.targetView.permissions.options.nodeModel );\r\n\r\n                      if (userSelection.right_id) {\r\n                        saveAttr.right_id = userSelection.right_id;\r\n                      }\r\n                      if ( ConwsPermissionsUtil.isWorkspace(nodeModel) && ConwsPermissionsUtil.isWorkspaceRole(permissionModel) ) {\r\n                        permissionModel.action = 'editperms';\r\n                        url = ConwsPermissionsUtil.getUrl(permissionModel);\r\n                      }\r\n                      permissionModel.save(saveAttr, {\r\n                        url: url,\r\n                        patch: true,\r\n                        wait: true,\r\n                        silent: true\r\n                      }).done(function (response) {\r\n  \r\n                        permissionModel.set(saveAttr, {silent: true});\r\n                        status.originatingView.trigger('permission:changed', status);\r\n                        //status.originatingView.render();\r\n                        self.editRolePermissionHelper.destroy();\r\n                        self.editRolePermissionHelper.unblockActions();\r\n                        /*if (permissionModel.mustRefreshAfterPut !== false) {\r\n                          return permissionModel.fetch();\r\n                        }*/\r\n                        deferred.resolve();\r\n                        if (status.originatingView.model.get('permissions_model') !== 'simple') {\r\n                          PermissionUtil.generateSuccessMessage(response, GlobalMessage);\r\n                        } \r\n                      }).fail(function (error) {\r\n                        var commandError = error ? new CommandError(error, permissionModel) :\r\n                                           error;\r\n                        GlobalMessage.showMessage('error', commandError);\r\n                        deferred.reject(permissionModel, commandError);\r\n                      });\r\n                    });\r\n  \r\n                self.editRolePermissionHelper.listenTo(self.editRolePermissionHelper,\r\n                    \"closed:permission:level:popover\", function () {\r\n                      deferred.reject(permissionModel);\r\n                    });\r\n              });\r\n        } else {\r\n          return deferred.reject(\r\n              new CommandError(failureMsg, {errorDetails: lang.undefinedCollection}));\r\n        }\r\n        return deferred.promise();\r\n      },\r\n  \r\n      _getMessageWithUserDisplayName: function (unformattedMsg, permissionModel) {\r\n        var displayName;\r\n        if (permissionModel.get(\"right_id_expand\")) {\r\n          displayName = base.formatMemberName(permissionModel.get(\"right_id_expand\"));\r\n        } else if (permissionModel.get(\"type\") === \"public\") {\r\n          displayName = lang.publicAccess;\r\n        }\r\n        var msg = _.str.sformat(unformattedMsg, displayName);\r\n        return msg;\r\n      }\r\n    });\r\n  \r\n    return EditRolePermissionCommand;\r\n  });\r\n  \n","csui.define('conws/utils/commands/permissions/edit.role.permission.helper',[\r\n    'csui/lib/underscore',\r\n    'csui/controls/dialog/dialog.view',\r\n    'csui/models/permission/nodepermission.model',\r\n    'csui/widgets/permissions/impl/edit/edit.permission.helper',\r\n    'conws/dialogs/applyrolepermissions/apply.role.permissions.view',\r\n    'csui/widgets/permissions/impl/edit/apply.permission/impl/header/apply.permission.header.view',\r\n    'csui/controls/progressblocker/blocker',\r\n    'i18n!csui/widgets/permissions/impl/nls/lang'\r\n  ], function (_,\r\n      DialogView,\r\n      NodePermissionModel,\r\n      EditPermissionHelper,\r\n      ApplyRolePermissionView,\r\n      ApplyPermissionHeaderView,\r\n      BlockingView,\r\n      lang) {\r\n    \"use strict\";\r\n  \r\n    var EditRolePermissionHelper = EditPermissionHelper.extend({\r\n  \r\n      constructor: function EditRolePermissionHelper(options) {\r\n        EditPermissionHelper.prototype.constructor.apply(this, arguments);\r\n      },\r\n  \r\n      _permissionLevelSelected: function () {\r\n        this._blockActions();\r\n        var selectedLevel = this.permissionLevelSelectorView.selected;\r\n        if (selectedLevel !== NodePermissionModel.PERMISSION_LEVEL_CUSTOM) {\r\n          //Close popover without raising any close popover event\r\n          this.showingPopover && this.closePopover(true);\r\n          this.permissions = NodePermissionModel.getPermissionsByLevelExceptCustom(selectedLevel,\r\n              this.options.originatingView ? this.options.originatingView.model.get('container') :\r\n              true, this.options.originatingView &&\r\n               this.options.originatingView.model.get('advanced_versioning'));\r\n          //Check for the selected node is container and open apply permissions to sub-items dialog\r\n          if (this.options.originatingView && this.options.originatingView.model &&\r\n              this.options.originatingView.model.get(\"container\") ) {\r\n            this._applyDialog = this.showApplyPermissionDialog();\r\n            this._applyDialog.show();\r\n          } else {\r\n            this.triggerMethod('permissions:selected', {permissions: this.permissions});\r\n          }\r\n        } else {\r\n          // Bootstrap popover has a bug: removing this too early will cause issue with next showing.\r\n          // There is no event after destroy. The hidden event is not triggered for destroy.\r\n          this.showCustomPermissionPopover();\r\n        }\r\n        this.unblockActions();\r\n      },\r\n  \r\n      showApplyPermissionDialog: function () {\r\n        var headerView = new ApplyPermissionHeaderView();\r\n        this._view = new ApplyRolePermissionView({\r\n          context: this.options.context || this.options.originatingView.context,\r\n          model: this.options.nodeModel || this.options.originatingView.model,\r\n          applyTo: this.options.applyTo,\r\n          permissionModel: this.options.permissionModel\r\n        });\r\n        var dialog = new DialogView({\r\n          headerView: headerView,\r\n          view: this._view,\r\n          className: \"csui-permissions-apply-dialog\",\r\n          midSize: true,\r\n          buttons: [\r\n            {\r\n              id: 'apply',\r\n              label: lang.applyButtonLabel,\r\n              toolTip: lang.applyButtonLabel,\r\n              'default': true,\r\n              click: _.bind(this.onClickApplyButton, this)\r\n            },\r\n            {\r\n              label: lang.cancelButtonLabel,\r\n              toolTip: lang.cancelButtonLabel,\r\n              close: true\r\n            }\r\n          ]\r\n        });\r\n        dialog.listenTo(dialog, 'hide', _.bind(this.onHideDialog, this));\r\n        BlockingView.imbue(dialog);\r\n        return dialog;\r\n      },\r\n  \r\n      onClickApplyButton: function (event) {\r\n        var container        = event.dialog.options.view.model.get(\"container\"),\r\n            right_id         = event.dialog.options.view.options.permissionModel &&\r\n                               event.dialog.options.view.options.permissionModel.get(\"right_id\"),\r\n            apply_to         = (container && event.dialog.options.view.ContentRegion.currentView.getValues().subitems_inherit) ? 2 : 0,\r\n            selectedSubItems = apply_to > 0 ? [204, 207, 215, 298, 3030202] : [];\r\n\r\n        var deferredResp = this.triggerMethod('permissions:selected',\r\n            {\r\n              permissions: this.permissions,\r\n              apply_to: apply_to,\r\n              right_id: right_id,\r\n              include_sub_types: selectedSubItems\r\n            });\r\n        this._applyDialog.destroy();\r\n        this._blockActions();\r\n      }      \r\n    });\r\n  \r\n    return EditRolePermissionHelper;\r\n  \r\n  });\r\n  \n","csui.define('conws/utils/dragndrop/dragndrop.subtypes',[],function () {\r\n    'use strict';\r\n    return 848;\r\n});\n","\ncsui.define('css!conws/utils/overlay/impl/conwsoverlay',[],function(){});\n","/**\r\n * Created by stefang on 05.04.2016.\r\n */\r\ncsui.define('conws/utils/overlay/conwsoverlay',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'css!conws/utils/overlay/impl/conwsoverlay'\r\n], function ($, _,\r\n    Marionette\r\n) {\r\n\r\n  var ConwsOverlay = Marionette.Controller.extend({\r\n    \r\n    constructor: function ConwsOverlay() {\r\n      Marionette.Controller.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    _transitionEnd: _.once(\r\n        function () {\r\n          var transitions = {\r\n                transition: 'transitionend',\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                MozTransition: 'transitionend',\r\n                OTransition: 'oTransitionEnd otransitionend'\r\n              },\r\n              element = document.createElement('div'),\r\n              transition;\r\n          for (transition in transitions) {\r\n            if (typeof element.style[transition] !== 'undefined') {\r\n              return transitions[transition];\r\n            }\r\n          }\r\n        }\r\n    ),\r\n\r\n    _hidePresentationView : function() {\r\n      if (this.options.onHidePresentationView) {\r\n        this.options.onHidePresentationView(this.modalContent);\r\n      }\r\n\r\n      this.modalWrapper.detach();\r\n      this.presentationView.$el.detach();\r\n      this.presentationView.$el.removeClass('conws-overlay-panel');\r\n      this.modalContent.removeClass('conws-overlay-showing');\r\n    },\r\n\r\n    _showOtherView: function() {\r\n      // to show blocking circle, if blockActions was called on the other view. \r\n      this.modalContent.find(\">:not(.conws-overlay-wrapper)\").show();\r\n      if (this.options.onShowOtherView) {\r\n        this.options.onShowOtherView(this.modalContent);\r\n      }\r\n    },\r\n\r\n    _hideOtherView: function () {\r\n      if (this.options.onHideOtherView) {\r\n        this.options.onHideOtherView(this.modalContent);\r\n      }\r\n      this.modalContent.find(\">:not(.conws-overlay-wrapper)\").hide();\r\n    },\r\n\r\n    _showPresentationView : function() {\r\n      \r\n      this.modalContent = $(this.options.presentationRoot);\r\n      this.modalContent.addClass('conws-overlay-beforeshow');\r\n\r\n      // do not delete view, just show it. it is registered on the event too and updates itself.\r\n      if (!this.presentationView) {\r\n        this.presentationView = this.options.presentationView;\r\n        this.presentationView.render();\r\n      }\r\n\r\n      this.presentationView.$el.addClass(\"conws-overlay-panel\");\r\n\r\n      this.modalWrapper = $('<div class=\"conws-overlay-wrapper\"></div>');\r\n      this.modalContent.append(this.modalWrapper);\r\n      this.modalWrapper.append(this.presentationView.$el);\r\n\r\n      if (this.options.onShowPresentationView) {\r\n        this.options.onShowPresentationView(this.modalContent);\r\n      }\r\n\r\n      // read a property, so browser updates DOM and element is at start position\r\n      this.presentationView.$el.position();\r\n\r\n      this.presentationView.triggerMethod('dom:refresh');\r\n\r\n      var that = this;\r\n      this.presentationView.$el.one(this._transitionEnd(), function () {\r\n        that.modalContent.removeClass(\"conws-overlay-animating\");\r\n        that.modalContent.addClass('conws-overlay-showing');\r\n        that._hideOtherView();\r\n      });\r\n      this.modalContent.addClass('conws-overlay-animating');\r\n      this.modalContent.removeClass('conws-overlay-beforeshow');\r\n    },\r\n\r\n    show: function() {\r\n      this._showPresentationView();\r\n    },\r\n\r\n    close: function() {\r\n      this._showOtherView();\r\n      this._hidePresentationView();\r\n    }\r\n\r\n  });\r\n\r\n  return ConwsOverlay;\r\n});\r\n\n","/**\r\n * Created by stefang on 10.07.2019.\r\n */\r\n// Fetches the list of related workspaces\r\ncsui.define('conws/widgets/relatedworkspaces/impl/relatedworkspaces.searchresult.model',['module', 'csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/nodes',\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/mixins/expandable/expandable.mixin',\r\n  'conws/utils/workspaces/impl/workspaces.collection.mixin'\r\n], function (module, $, _, Backbone, Url,\r\n    NodeCollection, BrowsableMixin, NodeResourceMixin, ExpandableMixin,\r\n    WorkspacesCollectionMixin) {\r\n\r\n  var config = module.config();\r\n\r\n  function Searching(columns) {\r\n    this.set(columns);\r\n  }\r\n\r\n  Searching.prototype.set = function set(columns) {\r\n    this.sortedColumns = columns || {};\r\n  };\r\n\r\n  function Sorting(columns,orderby) {\r\n    this.set(columns,orderby);\r\n  }\r\n\r\n  Sorting.prototype.set = function set(columns,orderby) {\r\n    var links= {};\r\n    var orderBy = orderby || \"name asc\";\r\n    var sort_key = orderBy.replace(/( asc| desc)$/,\"\");\r\n    var sort_order = orderBy.slice(sort_key.length+1);\r\n    var sort_spec = sort_order ? sort_order + '_' + sort_key : sort_key;\r\n    var sort_name = sort_key.charAt(0).toUpperCase() + sort_key.slice(1);\r\n    if (columns) {\r\n      columns.each(function(el){\r\n        var el_key = el.get(\"column_key\");\r\n        var el_name = el.get(\"name\");\r\n        if (sort_key===el_key) {\r\n          sort_name = el_name;\r\n        } else if (el.get(\"sort\")) {\r\n          links[\"asc_\"+el_key] = { name: el_name };\r\n          links[\"desc_\"+el_key] = { name: el_name };\r\n        }\r\n      });\r\n    }\r\n\r\n    if (!sort_order) {\r\n      links[sort_key] = { name: sort_name };\r\n    } else {\r\n      links[\"asc_\"+sort_key] = { name: sort_name };\r\n      links[\"desc_\"+sort_key] = { name: sort_name };\r\n    }\r\n    \r\n    this.links = links;\r\n    this.sort = [ sort_spec ];\r\n  };\r\n\r\n  var RelatedWorkspacesSearchResultCollection = NodeCollection.extend({\r\n\r\n    constructor: function RelatedWorkspacesSearchResultCollection(models, options) {\r\n      // Core filter values needed for rest api\r\n      this.wherePart = [\"where_workspace_type_ids\", \"where_rel_type\"];\r\n      NodeCollection.prototype.constructor.apply(this, arguments);\r\n      this.options = _.pick(options,\"query\", \"connector\", \"node\", \"search\",\r\n            \"autofetch\", \"autoreset\", \"stateEnabled\",\"workspace\", \"orderBy\");\r\n      this.workspace = options.workspace;\r\n\r\n      // just to fake searchFacets for search.results.view:\r\n      this.searchFacets = new Backbone.Collection();\r\n      this.searchFacets.filters = [];\r\n      this.searchFacets.ensureFetched = function(options) {\r\n        return $.Deferred().resolve(this, {}, options).promise();\r\n      };\r\n      this.searchFacets.getAvailableFacets = function() { return []; };\r\n      this.searchFacets.clearFilter = function() {};\r\n\r\n      this.makeBrowsable(options);\r\n      this.makeNodeResource(options);\r\n      this.makeExpandable(options);\r\n      this.makeWorkspacesCollection(options);\r\n\r\n      this.completeColumns = new this.columns.constructor(options.columns.toJSON(), { dataCollectionName: this.dataCollectionName });\r\n      this.columns.reset(_.each(options.columns.toJSON(),function(el){delete el.sort;delete el.sort_key;}));\r\n      this.searching = new Searching(this.columns);\r\n      this.sorting = new Sorting(this.completeColumns,this.orderBy);\r\n\r\n    }\r\n  });\r\n\r\n  BrowsableMixin.mixin(RelatedWorkspacesSearchResultCollection.prototype);\r\n  NodeResourceMixin.mixin(RelatedWorkspacesSearchResultCollection.prototype);\r\n  ExpandableMixin.mixin(RelatedWorkspacesSearchResultCollection.prototype);\r\n  WorkspacesCollectionMixin.mixin(RelatedWorkspacesSearchResultCollection.prototype);\r\n\r\n  var super_parse = RelatedWorkspacesSearchResultCollection.prototype.parse;\r\n\r\n  _.extend(RelatedWorkspacesSearchResultCollection.prototype, {\r\n\r\n    url: function () {\r\n      var queryParams = this.options.query || {};\r\n\r\n      // clean up query, including any old or unsupported filters.\r\n      this._cleanupQuery(queryParams);\r\n\r\n      // Paging\r\n      queryParams = this.mergeUrlPaging(config, queryParams);\r\n\r\n      // Sorting\r\n      queryParams = this.mergeUrlSorting(queryParams);\r\n\r\n      // Filtering\r\n      this.filters = _.omit(this.options.search.attributes,\"query_id\",\"forcePerspectiveChange\",\"dummy\");\r\n      queryParams = this.mergeUrlFiltering(queryParams);\r\n\r\n      \r\n      // The search.results.view sets node to node with undefined id.\r\n      // But we need to keep the scope bound to our given workspace node.\r\n      // So we use this.options.node instead this.node\r\n      var workspaceNodeId = this.options.node.get('id');\r\n\r\n      // URLs like /nodes/:id/relatedworkspaces\r\n      //var url = this.node.urlBase() + '/relatedworkspaces';\r\n      // Alternative for URLs like /businessworkspaces/:id\r\n      var url = Url.combine(this.getBaseUrl(),\r\n          'businessworkspaces', workspaceNodeId, 'relateditemspicklist');\r\n      url = url.replace('/v1', '/v2');\r\n      queryParams = _.omit(queryParams, function (value, key) {\r\n        return value == null || value === '';\r\n      });\r\n      queryParams.metadata = undefined;\r\n      return url + '?' + this.queryParamsToString(queryParams);\r\n    },\r\n\r\n    parse: function(response,options) {\r\n      this.completeColumns.resetColumns(response, this.options);\r\n      var definitions = (response.meta_data && response.meta_data[this.dataCollectionName]) || {};\r\n      _.each(definitions,function(el){delete el.sort;delete el.sort_key;});\r\n      var result = super_parse.apply(this,arguments);\r\n      this.searching.set(this.columns);\r\n      this.sorting.set(this.completeColumns,this.orderBy);\r\n      if (result) {\r\n        var rel_source = this.options.node.get('id');\r\n        var rel_type = this.options.query && this.options.query.where_rel_type;\r\n        result.forEach(function(el){\r\n          el.data || (el.data = {});\r\n          el.data.properties || (el.data.properties = {});\r\n          // set source id of relation\r\n          el.data.properties.rel_source = rel_source;\r\n          // set relation type that will be used in addrelateditem command.\r\n          el.data.properties.rel_type = rel_type;\r\n          // set OTName, so results view does not think we are in a rename operation (CWS-5809)\r\n          el.data.properties.OTName = el.data.properties.name;\r\n        });\r\n      }\r\n      return result;\r\n    },\r\n\r\n    setPreviousOrder: function (attributes, fetch) {\r\n      if (!_.isEqual(this.previousOrderBy,attributes)) {\r\n        this.previousOrderBy = attributes;\r\n        if (fetch !== false) {\r\n          this.fetch({skipSort: false});\r\n        }\r\n        return true;\r\n      }\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return {\r\n        query:_.deepClone(this.options.query),\r\n        node: this.node\r\n      };\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      scope.query && (this.options.query = scope.query);\r\n      scope.node && (this.node = scope.node);\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.options.node.isFetchable();\r\n    }\r\n\r\n  });\r\n\r\n  return RelatedWorkspacesSearchResultCollection;\r\n\r\n});\r\n\n","/**\r\n * Created by stefang on 14.07.2019.\r\n */\r\n// Fetches the search form.\r\ncsui.define('conws/widgets/relatedworkspaces/impl/relatedworkspaces.searchform.model',[\"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n  'conws/utils/workspaces/impl/workspaceutil'\r\n], function ($, _, Backbone, WorkspaceUtil) {\r\n  \"use strict\";\r\n\r\n  var RelatedWorkspacesSearchFormModel = Backbone.Model.extend({\r\n\r\n        constructor: function RelatedWorkspacesSearchFormModel(attributes, options) {\r\n          options || (options = {});\r\n\r\n          attributes = _.extend({data:{},options:{},schema:{}},attributes);\r\n          Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n          this.setFromColumns(options.columns,options.tableColumns);\r\n          this.listenTo(options.columns,\"reset update\",function() {\r\n              this.setFromColumns(options.columns,options.tableColumns);\r\n          });\r\n\r\n        },\r\n\r\n        setFromColumns: function(columns,tableColumns) {\r\n            var models = tableColumns && tableColumns.sortBy('sequence').reduce(function(models,column){\r\n                return models.concat([columns.get(column.get(\"key\"))]);\r\n              },[]);\r\n            models = models ? _.compact(models) : columns.models;\r\n            var searchform = FormObject();\r\n            // set a dummy hidden input field, so search with empty fields is allowed by search.object.view.\r\n            SetField(searchform,\"dummy\",\"dummy\",{type:\"hidden\"},{type:\"string\"});\r\n            var data = this.get(\"data\");\r\n            models.forEach(function(col) {\r\n              var col_key = col.get(\"column_key\");\r\n              if (!blacklist[col_key]) {\r\n                var col_data = (data && data.search) ? data.search[col_key] : undefined /*any default value anywhere?*/;\r\n                var fieldform = FormField(col,col_data);\r\n                if (fieldform) {\r\n                  SetField(searchform,col_key,fieldform.data,fieldform.options,fieldform.schema);\r\n                }\r\n              }\r\n            });\r\n            var form = FormObject();\r\n            SetField(form,\"search\",searchform.data,searchform.options,searchform.schema);\r\n            this.set(form);\r\n        }\r\n\r\n      });\r\n\r\n      function SetField(form, key, data, options, schema) {\r\n        form.data[key] = data;\r\n        form.options.fields[key] = options;\r\n        form.schema.properties[key] = schema;\r\n      }\r\n\r\n      function FormField(col,data) {\r\n        var form;\r\n        var template = WorkspaceUtil.getFormFieldTemplate(col.attributes);\r\n        if (template) {\r\n          form = _.deepClone(template);\r\n          form.data = data;\r\n          form.options.label = col.get(\"name\");\r\n          form.schema.title = col.get(\"name\");\r\n        }\r\n        return form;\r\n      }\r\n\r\n      function FormObject(name) {\r\n        var form = {\r\n          data: { },\r\n          options: { type: \"object\", fields: { } },\r\n          schema: { type: \"object\", properties: { } }\r\n        };\r\n        if (name) {\r\n          form.options.label = name;\r\n          form.schema.title = name;\r\n        }\r\n        return form;\r\n      }\r\n\r\n      var blacklist = {\r\n        \"favorite\": \"true\",\r\n        \"id\": true,\r\n        \"modify_date\": true,\r\n        \"size\": true,\r\n        \"type\": true\r\n      };\r\n\r\n\r\n\r\n  return RelatedWorkspacesSearchFormModel;\r\n\r\n});\r\n\n","csui.define('conws/widgets/relatedworkspaces/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/widgets/relatedworkspaces/impl/nls/root/lang',{\r\n  dialogTitle: 'Related workspaces',\r\n  searchPlaceholder: '%1',\r\n  noResultsPlaceholder: 'No related workspaces to display.',\r\n  errorFieldFormatTagUnrecognized: 'Invalid format specification for {0}.',\r\n  ToolbarItemAddRelation: \"Add relationships\",\r\n  ToolbarItemAddRelationSubmit: \"Add relationships\",\r\n  ToolbarItemRemoveRelation: \"Remove relationships\"\r\n});\r\n\n","csui.define('conws/widgets/relatedworkspaces/addrelatedworkspaces.search',[ 'csui/lib/jquery',\r\n    'csui/lib/marionette',\r\n    'csui/lib/handlebars',\r\n    'csui/controls/toolbar/toolitems.factory',\r\n    'conws/utils/overlay/conwsoverlay',\r\n    'csui/widgets/search.results/search.results.view',\r\n    'conws/widgets/relatedworkspaces/impl/relatedworkspaces.searchresult.model',\r\n    'conws/widgets/relatedworkspaces/impl/relatedworkspaces.searchform.model',\r\n    'csui/utils/contexts/factories/search.query.factory',\r\n    'i18n!conws/widgets/relatedworkspaces/impl/nls/lang'\r\n], function ( $,\r\n    Marionette,\r\n    Handlebars,\r\n    ToolItemsFactory,\r\n    ConwsOverlay,\r\n    SearchResultsView,\r\n    RelatedWorkspacesSearchResultModel,\r\n    RelatedWorkspacesSearchFormModel,\r\n    SearchQueryModelFactory,\r\n    lang\r\n) {\r\n    'use strict';\r\n\r\n    var AddRelatedWorkspacesSearch = Marionette.Controller.extend({\r\n    \r\n        constructor: function AddRelatedWorkspacesSearch() {\r\n          Marionette.Controller.prototype.constructor.apply(this, arguments);\r\n\r\n          var status = this.options.status;\r\n          var query = $.extend(true, {}, status.collection.options.query);\r\n          query.where_workspace_type_ids = encodeURIComponent(\"{\"+query.where_workspace_type_id+\"}\");\r\n          query.where_rel_type = query.where_relationtype;\r\n          delete query.where_workspace_type_id;\r\n          delete query.where_relationtype;\r\n\r\n          var searchquery = (new SearchQueryModelFactory(status.context)).property;\r\n\r\n          var searchResultCollection = new RelatedWorkspacesSearchResultModel([], {\r\n              node: status.collection.node,\r\n              query: query,\r\n              search: searchquery,\r\n              connector: status.collection.connector,\r\n              autofetch:true,\r\n              autoreset:true,\r\n              stateEnabled: true,\r\n              columns: status.collection.columns,\r\n              workspace: status.collection.workspace,\r\n              orderBy: status.collection.orderBy\r\n          });\r\n\r\n          var tableColumns = status.originatingView.tableColumns && status.originatingView.tableColumns.deepClone();\r\n          \r\n          var searchFormModel = new RelatedWorkspacesSearchFormModel({},{\r\n            columns: searchResultCollection.columns,\r\n            tableColumns: tableColumns\r\n          });\r\n\r\n          var toolItemsFactory = new ToolItemsFactory({\r\n            main: [{\r\n              signature: this.options.signature,\r\n              commandData: { submit: true },\r\n              name: lang.ToolbarItemAddRelationSubmit\r\n              }]\r\n            }, {\r\n            maxItemsShown: 1,\r\n            dropDownText: lang.ToolbarItemMore,\r\n            dropDownIcon: 'icon icon-toolbar-more',\r\n            addGroupSeparators: false\r\n          });\r\n\r\n          var toolbarItems = {\r\n            otherToolbar: toolItemsFactory,\r\n            inlineToolbar: [],\r\n            tableHeaderToolbar: toolItemsFactory\r\n          };\r\n\r\n          var titleView = new Marionette.ItemView({\r\n            tagName: 'div',\r\n            template: Handlebars.compile('<span><h2 class=\"csui-custom-search-title\">{{title}}</h2><span class=\"headerCount\"/></span>')({\r\n              title: this.options.title\r\n            })\r\n          });\r\n  \r\n          var searchView = new SearchResultsView({\r\n            enableBackButton: true,\r\n            enableSearchSettings: false,\r\n            showFacetPanel: false,\r\n            context: status.context,\r\n            query: searchquery,\r\n            collection: searchResultCollection,\r\n            customSearchViewModel: searchFormModel,\r\n            toolbarItems: toolbarItems,\r\n            titleView: titleView,\r\n            tableColumns: tableColumns\r\n          });\r\n\r\n          searchView.on(\"render\",function() {\r\n            searchView.$el.addClass('conws-searchview');\r\n          });\r\n          \r\n          this.searchView = searchView;\r\n        },\r\n\r\n        show: function() {\r\n          var overlay = new ConwsOverlay({\r\n            presentationRoot: this.options.status.originatingView.$el.parent(),\r\n            presentationView: this.searchView\r\n          });\r\n          this.searchView.on(\"go:back\", function() {\r\n            overlay.close();\r\n          });\r\n          this._overlay = overlay;\r\n          this._overlay.show();\r\n        },\r\n\r\n        close: function() {\r\n          this._overlay.close();\r\n        }\r\n\r\n      });\r\n    \r\n      return AddRelatedWorkspacesSearch;\r\n    \r\n\r\n});\r\n    \n","\n","csui.define('conws/utils/workspaces/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/utils/workspaces/impl/nls/root/lang',{\r\n  errorCustomColumnConfigInvalid: \"Invalid custom column configuration: {0}.\",\r\n  errorCustomColumnMissingBraces: \"Missing curly braces in custom column configuration: {0}.\",\r\n  errorOrderByMustNotBeString: \"Configuration 'orderBy' must be an object not a string.\",\r\n  errorOrderByMissingBraces: \"Missing curly braces in 'orderBy' configuration.\",\r\n  errorFilteringFailed: 'Filtering of result list failed. Please contact your administrator.',\r\n  noWorkspacesFound: 'No workspaces found.',\r\n  selectedItemActionBarAria: 'Action bar of selected items',\r\n  ToolbarItemCloseExpandedView: \"Close expanded view\"\r\n});\r\n\n","\ncsui.define('css!conws/utils/workspaces/workspaces',[],function(){});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/utils/workspaces/error.template',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"conws-workspaces-error content-tile\\\">\\r\\n  <div class=\\\"conws-workspaces-error-icon-div\\\">\\r\\n    <div class=\\\"conws-workspaces-error-icon-parent\\\">\\r\\n      <div class=\\\"conws-workspaces-error-icon notification_error\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"conws-workspaces-message\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.errorMessage || (depth0 != null ? depth0.errorMessage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"errorMessage\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_utils_workspaces_error.template', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","/**\r\n * The workspaces view to show a list of workspaces of a specific type\r\n * Provides:\r\n *   - infinite scrolling\r\n *   - Empty view in case no workspaces to show\r\n *   - Title icon\r\n */\r\ncsui.define('conws/utils/workspaces/workspaces.view',['csui/lib/marionette', 'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/lib/jquery',\r\n  'csui/utils/base',\r\n  'csui/controls/list/list.view',\r\n  'csui/utils/nodesprites',\r\n  'csui/behaviors/limiting/limiting.behavior',\r\n  'csui/behaviors/expanding/expanding.behavior',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/list/behaviors/list.view.keyboard.behavior',\r\n  'csui/controls/tile/behaviors/infinite.scrolling.behavior',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'i18n!conws/utils/workspaces/impl/nls/lang',\r\n  'css!conws/utils/workspaces/workspaces',\r\n  'hbs!conws/utils/workspaces/error.template'\r\n], function (Marionette, module, _, Backbone, $, base, ListView, NodeSpriteCollection,\r\n    LimitingBehavior, ExpandingBehavior, TabableRegionBehavior, ListViewKeyboardBehavior,\r\n    InfiniteScrollingBehavior, NodeModelFactory, BlockingView, ModalAlert, lang, css, errorTemplate) {\r\n\r\n  var config = module.config();\r\n\r\n  /**\r\n   * own behavior needed, to be able to trigger the closing\r\n   * of the dialog from within the expanded view itself.\r\n   * Also connect collapsed and expanded view, while expanded view is open,\r\n   * to provide access to each other and disconnect views on close.\r\n   */\r\n  var WorkspacesExpandingBehavior = ExpandingBehavior.extend({\r\n\r\n    constructor: function WorkspacesExpandingBehavior( options, view ) {\r\n      options = _.extend({collapsedView:view},options);\r\n      ExpandingBehavior.prototype.constructor.call(this, options,view );\r\n      this.listenTo(view.options.context, \"close:expanded\", function(ev) {\r\n        if (ev.widgetView===this.expandedView && this.dialog && this.dialog.body && this.dialog.body.currentView===ev.widgetView ) {\r\n          this.dialog.destroy();\r\n        }\r\n      });\r\n    },\r\n    _expandOtherView: function (expand) {\r\n      if (expand===false) {\r\n        // this is on opening the expanded view\r\n        this.expandedView.collapsedView = this.view;\r\n        this.view.expandedView = this.expandedView;\r\n      }\r\n      var result = ExpandingBehavior.prototype._expandOtherView.apply(this, arguments);\r\n      return result;\r\n    },\r\n\r\n    _enableExpandingAgain: function () {\r\n      var result = ExpandingBehavior.prototype._enableExpandingAgain.apply(this, arguments);\r\n      // this is on closing the expanded view\r\n      this.expandedView.collapsedView = undefined;\r\n      this.view.expandedView = undefined;\r\n      return result;\r\n    }\r\n\r\n  });\r\n\r\n  var WorkspacesView = ListView.extend({\r\n\r\n    constructor: function WorkspacesView(options) {\r\n      if (options === undefined || !options.context) {\r\n        throw new Error('Context required to create WorkspacesView');\r\n      }\r\n\r\n      options.data || (options.data = {});\r\n      ListView.prototype.constructor.apply(this, arguments);\r\n\r\n      if (this.options.blockingParentView) {\r\n        BlockingView.delegate(this, this.options.blockingParentView);\r\n      } else {\r\n        BlockingView.imbue(this);\r\n      }\r\n\r\n      this.options.data.pageSize = config.defaultPageSize || 30;\r\n\r\n      this.configOptionsData = _.clone(options.data);\r\n\r\n      // Prepare server side filter\r\n      this.lastFilterValue = \"\";\r\n\r\n      // Per default show expand icon if more than 0 workspaces are displayed\r\n      this.limit = 0;\r\n\r\n      // Render workspace icon\r\n      this.listenTo(this.collection, \"sync\", this._renderWorkspaceTitleIcon);\r\n\r\n      //Show errors\r\n      this.listenTo(this.collection, 'error', this.handleError);\r\n\r\n      // In case node model is changed reset data (needed in case other workspaces is opened in\r\n      // same perspective)\r\n      var nodeModel = this.getContext().getObject(NodeModelFactory, options.context.options);\r\n      this.listenTo(nodeModel, 'change:id', this._reset);\r\n\r\n      // Note on this.messageOnError\r\n      // Set this property with an action specific error message before triggering the refetch\r\n      // of the collection. If the fetch runs into an error this message is displayed in a modal\r\n      // error message. In any case, error or success, after the server call this message is\r\n      // reset to undefined.\r\n\r\n      // Loading animation\r\n      this.listenTo(this.collection, \"request\", this.blockActions)\r\n          .listenTo(this.collection, \"sync\", function () {\r\n            this.messageOnError = undefined;\r\n            this.unblockActions.apply(this, arguments);\r\n          })\r\n          .listenTo(this.collection, \"destroy\", this.unblockActions)\r\n          .listenTo(this.collection, \"error\", function () {\r\n            this.unblockActions.apply(this, arguments);\r\n            if (this.messageOnError) {\r\n              ModalAlert.showError(this.messageOnError);\r\n              this.messageOnError = undefined;\r\n            }\r\n          });\r\n      // No empty view in case of loading animation\r\n      this.listenTo(this.collection, \"request\", this.destroyEmptyView);\r\n\r\n      // to reload the collapsed view only in case, the expanded view changed something,\r\n      // we want to check the changed flag of the expanded view.\r\n      this.listenTo(this, \"go:away\", function() {\r\n        // listen to \"go:away\", which is triggered on open, and then listen to the \"destroy\" event of the expanded view.\r\n        // we cannot listen to \"go:back\" as in some scenarios (CWS-5702, CWS-5807) \"hide\" events are triggered multiple times.\r\n        var expandedView = this.expandedView;\r\n        if (expandedView) {\r\n          this.listenTo(expandedView, \"destroy\", function() {\r\n            // called, when expanded view is closed/destroyed.\r\n            // when expanded view was just opened and closed without changing anything,\r\n            // to avoid reloading, check for the changed flag of expanded view.\r\n            if (expandedView && expandedView.changed) {\r\n              this.collection.fetch();\r\n              expandedView = undefined;\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n    },\r\n\r\n    getContext: function () {\r\n      return this.options.context;\r\n    },\r\n\r\n    initialize: function () {\r\n      // Limiting behaviour needs complete collection, but other behaviours expect collection ...\r\n      this.collection = this.completeCollection;\r\n    },\r\n\r\n    onRender: function () {\r\n      // Load initially only one page\r\n      this._resetInfiniteScrolling();\r\n      ListView.prototype.onRender.call(this);\r\n    },\r\n\r\n    onClickHeader: function (target) {\r\n      this.triggerMethod('expand');\r\n    },\r\n\r\n    _resetInfiniteScrolling: function () {\r\n      // reset infinite scrolling in case filter is changed\r\n      this.collection.setLimit(0, this.options.data.pageSize, false);\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        title: this._getTitle(),\r\n        imageUrl: this._getTitleIcon().src,\r\n        imageClass: 'conws-workspacestitleicon',\r\n        searchPlaceholder: this._getSearchPlaceholder()\r\n      };\r\n    },\r\n\r\n    childEvents: {\r\n      'click:item': 'onClickItem'\r\n    },\r\n\r\n    onClickItem: function (target) {\r\n      this.triggerMethod('execute:defaultAction', target.model);\r\n    },\r\n\r\n    className: function () {\r\n      // conws-relatedworkspaces conws-workspacetype-xxx cs-list\r\n      var className       = this.viewClassName,\r\n          workspaceType   = this.options.data.workspaceType,\r\n          parentClassName = _.result(ListView.prototype, 'className');\r\n      if (workspaceType) {\r\n        className = className + ' conws-workspacetype-' + workspaceType;\r\n      }\r\n      if (parentClassName) {\r\n        className = className + ' ' + parentClassName;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    /**\r\n     * Reset the current model/query and filter\r\n     * Needed that it's not reused in in case widget is accessed again\r\n     * on same perspective but with different node.\r\n     *\r\n     * @private\r\n     */\r\n    _reset: function () {\r\n      // reset paging due to infinite scrolling\r\n      // Page have to be reset in case wiget is accessed again\r\n      if (this.collection) {\r\n        this.collection.resetLimit();\r\n      }\r\n\r\n      // Reset filter\r\n      if (this.ui.searchInput && this.ui.searchInput.val() !== \"\") {\r\n        if (this.collection) {\r\n          this.collection.clearFilter(false);\r\n        }\r\n        this.ui.searchInput.val('');\r\n      }\r\n\r\n      // Call search clicked if search is visible, this will cause the search box to slide out\r\n      if (this.ui.searchInput && this.ui.searchInput.is(':visible')) {\r\n        this.searchClicked(new CustomEvent(''));\r\n      }\r\n    },\r\n\r\n    workspacesCollectionFactory: undefined,\r\n    workspacesTableView: undefined,\r\n    viewClassName: undefined,\r\n    dialogClassName: undefined,\r\n    lang: undefined,\r\n\r\n    behaviors: {\r\n\r\n      // Limits the rendered collection length with a More link to expand it\r\n      LimitedList: {\r\n        behaviorClass: LimitingBehavior,\r\n        // Show expand if more than 0 workspaces are displayed\r\n        limit: function () {\r\n          return this.limit;\r\n        },\r\n        completeCollection: function () {\r\n          return this.getContext().getCollection(this.workspacesCollectionFactory, {\r\n            attributes: this._getCollectionAttributes(),\r\n            options: this._getCollectionOptions()\r\n          });\r\n        }\r\n      },\r\n\r\n      ExpandableList: {\r\n        behaviorClass: WorkspacesExpandingBehavior,\r\n        expandedView: function () {\r\n          return this.workspacesTableView;\r\n        },\r\n        expandedViewOptions: function () {\r\n          return this._getExpandedViewOptions();\r\n        },\r\n        dialogTitle: function () {\r\n          return this._getTitle();\r\n        },\r\n        dialogTitleIconRight: \"icon-tileCollapse\",\r\n        dialogClassName: function () {\r\n          return \"conwsworkspacestable\" + (this.dialogClassName ? \" \"+this.dialogClassName : \"\");\r\n        },\r\n        titleBarImageUrl: function () {\r\n          return this._getTitleIcon().src;\r\n        },\r\n        titleBarImageClass: function () {\r\n          return this._getTitleIcon().cssClass || 'conws-workspacestitleicon';\r\n        }\r\n      },\r\n\r\n      InfiniteScrolling: {\r\n        behaviorClass: InfiniteScrollingBehavior,\r\n        // selector for scrollable area\r\n        contentParent: '.tile-content',\r\n        fetchMoreItemsThreshold: 80\r\n      },\r\n\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n\r\n      ListViewKeyboardBehavior: {\r\n        behaviorClass: ListViewKeyboardBehavior\r\n      }\r\n    },\r\n\r\n    _getCollectionOptions: function() {\r\n      return { query: this._getCollectionUrlQuery() };\r\n    },\r\n\r\n    _getExpandedViewOptions: function() {\r\n      return { data: _.clone(this.configOptionsData) };\r\n    },\r\n\r\n    filterChanged: function (event) {\r\n      if (event && event.type === 'keyup' && event.keyCode === 27) {\r\n        // Hitting Esc should get rid of the filtering control; it resets\r\n        // the filter value automatically\r\n        this.searchClicked();\r\n      }\r\n\r\n      var filterValue = this.ui.searchInput.val();\r\n      if (this.lastFilterValue !== filterValue) {\r\n        this.lastFilterValue = filterValue;\r\n        // Wait 1 second to execute\r\n        if (this.filterTimeout) {\r\n          clearTimeout(this.filterTimeout);\r\n        }\r\n        this.filterTimeout = setTimeout(function (self) {\r\n          self.filterTimeout = undefined;\r\n          // reset infinite scrolling because in case filter is changed only first page should be fetched\r\n          self._resetInfiniteScrolling();\r\n          // reset collection that only the returned workspaces are displayed\r\n          // if not reset also old workspaces are displayed ...\r\n          self.collection.reset();\r\n          // execute server side filtering\r\n          var propertyName;\r\n          if (self._getFilterPropertyName) {\r\n            propertyName = self._getFilterPropertyName();\r\n          }\r\n          var filterOptions = {};\r\n          filterOptions[propertyName || \"name\"] = filterValue;\r\n          if (self.collection.setFilter(filterOptions, {fetch: false})) {\r\n            self.messageOnError = lang.errorFilteringFailed;\r\n            self.collection.fetch();\r\n          }\r\n        }, 1000, this);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Get the title icon for the widget.\r\n     * Initially an invisible icon is returned until the rest call returns.\r\n     * In case the rest call provides an title image this is returned as src, otherwise\r\n     * the default workspace title image is returned as css.\r\n     */\r\n    _getTitleIcon: function () {\r\n      // Set transparent gif that it can be replaced later with proper image\r\n      var icon = {\r\n        src: 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==',\r\n        cssClass: undefined\r\n      };\r\n      if (this.collection && this.collection.titleIcon) {\r\n        // For each workspace type one icon exist\r\n        icon.src = this.collection.titleIcon;\r\n      } else if (this.collection && this.collection.titleIcon === null) {\r\n        // Need to return as class, because URL would not point to proper image\r\n        icon.cssClass = 'conws-workspacestitleicondefault conws-mime_workspace';\r\n      }\r\n      return icon;\r\n    },\r\n\r\n    /**\r\n     * Render workspace icon after rest call returns.\r\n     * Depending on what and if rest call returns an icon,\r\n     * set icon as class (default icon) or the configured one as src.\r\n     * Icons are set via DOM manipulation.\r\n     */\r\n    _renderWorkspaceTitleIcon: function () {\r\n      var titleDivEl = this.$el.find('.tile-type-image')[0],\r\n          titleImgEl = titleDivEl && this.$el.find('.tile-type-image').find(\"img\")[0];\r\n      if (titleImgEl) {\r\n        var icon = this._getTitleIcon();\r\n        if ($(titleImgEl).attr('src') !== icon.src) {\r\n          $(titleImgEl).attr('src', icon.src);\r\n        }\r\n\r\n        if (icon.cssClass) {\r\n          // Set via dom proper class that shows icon\r\n          if ($(titleImgEl).attr('class') !== icon.cssClass) {\r\n            $(titleImgEl).attr('class', icon.cssClass);\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    _getTitle: function () {\r\n      var ret = this.lang.dialogTitle;\r\n\r\n      if (this.options.data.title) {\r\n        ret = base.getClosestLocalizedString(this.options.data.title, this.lang.dialogTitle);\r\n      }\r\n\r\n      return ret;\r\n    },\r\n\r\n    _getSearchPlaceholder: function () {\r\n      return this.lang.searchPlaceholder.replace(\"%1\", this._getTitle());\r\n    },\r\n\r\n    _getNoResultsPlaceholder: function () {\r\n      var ret = this.options.data &&\r\n                this.options.data.collapsedView &&\r\n                this.options.data.collapsedView.noResultsPlaceholder;\r\n\r\n      if (ret) {\r\n        ret = base.getClosestLocalizedString(ret, this.lang.noResultsPlaceholder);\r\n      } else {\r\n        ret = this.lang.noResultsPlaceholder;\r\n      }\r\n\r\n      return ret;\r\n    },\r\n\r\n    // To use default empty view from ListView, the following functions are needed\r\n    collectionEvents: {\r\n      'reset': 'onCollectionSync'\r\n    },\r\n\r\n    onCollectionSync: function () {\r\n      this.synced = true;\r\n    },\r\n\r\n    isEmpty: function () {\r\n      return this.synced && (this.collection.models.length === 0);\r\n    },\r\n\r\n    handleError: function () {\r\n      if (this.collection.error && this.collection.error.message) {\r\n        var emptyEl = errorTemplate.call(this, { errorMessage: this.collection.error.message });\r\n        this.$el.find('.tile-content').append(emptyEl);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return WorkspacesView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/utils/previewpane/impl/previewheader',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    <span class=\\\"conws-preview-header-typename\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.typeName || (depth0 != null ? depth0.typeName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"typeName\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    <a class=\\\"csui-icon conws-quick_link conws-preview-header-icon\\\"\\r\\n       title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.quickLinkTooltip || (depth0 != null ? depth0.quickLinkTooltip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"quickLinkTooltip\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n       href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.display_url || (depth0 != null ? depth0.display_url : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"display_url\",\"hash\":{}}) : helper)))\n    + \"\\\" target=\\\"_blank\\\"></a>\\r\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <a class=\\\"conws-preview-header-title narrow\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n     href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.defaultActionUrl || (depth0 != null ? depth0.defaultActionUrl : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"defaultActionUrl\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n\";\n},\"7\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <a class=\\\"conws-preview-header-title\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n     href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.defaultActionUrl || (depth0 != null ? depth0.defaultActionUrl : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"defaultActionUrl\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.typeName : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.display_url : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.display_url : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(5, data, 0),\"inverse\":this.program(7, data, 0)})) != null ? stack1 : \"\")\n    + \"\\r\\n\";\n}});\nHandlebars.registerPartial('conws_utils_previewpane_impl_previewheader', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// Shows a list of workspaces related to the current one\r\ncsui.define('conws/utils/previewpane/impl/previewheader.view',['csui/lib/underscore', 'csui/lib/marionette',\r\n  'csui/lib/numeral', 'csui/lib/moment', 'csui/lib/handlebars',\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  'i18n', 'hbs!conws/utils/previewpane/impl/previewheader',\r\n  'css!conws/utils/icons/icons'\r\n], function (_, Marionette, numeral, moment, Handlebars,\r\n    DefaultActionBehavior, i18n, headerTemplate) {\r\n  var PreviewHeaderView = Marionette.ItemView.extend({\r\n\r\n    constructor: function PreviewHeaderView() {\r\n      Marionette.ItemView.apply(this, arguments);\r\n    },\r\n\r\n    className: 'preview-header',\r\n    template: headerTemplate,\r\n    templateHelpers: function () {\r\n      return {\r\n        defaultActionUrl: DefaultActionBehavior.getDefaultActionNodeUrl(this.model)\r\n      }\r\n    }\r\n  });\r\n\r\n  return PreviewHeaderView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/modaldialog/impl/modal.dialog.view',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"      <div class=\\\"conws-modal-dialog dialog-header\\\"></div>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    return \"      <div class=\\\"conws-modal-dialog dialog-body\\\"></div>\\r\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n    return \"      <div class=\\\"conws-modal-dialog dialog-footer\\\"></div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"binf-modal-dialog conws-modal-dialog \"\n    + this.escapeExpression(((helper = (helper = helpers.modalClassName || (depth0 != null ? depth0.modalClassName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"modalClassName\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n  <div class=\\\"binf-modal-content\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.existsHeader : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.existsBody : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.existsFooter : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(5, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_modaldialog_impl_modal.dialog.view', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/dialogs/modaldialog/impl/modal.dialog.view',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/modaldialog/modal.dialog.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabables.behavior',\r\n  'hbs!conws/widgets/team/impl/dialogs/modaldialog/impl/modal.dialog.view',\r\n  'css!conws/widgets/team/impl/dialogs/modaldialog/impl/modal.dialog.view'\r\n], function (_, $, Backbone, Marionette, TabablesBehavior, template) {\r\n\r\n  var NonEmptyingRegion = Marionette.Region.extend({\r\n\r\n    constructor: function NonEmptyingRegion(options) {\r\n      Marionette.Region.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    attachHtml: function (view) {\r\n      this.el.appendChild(view.el);\r\n    }\r\n  });\r\n\r\n  var ModalDialogView = Marionette.LayoutView.extend({\r\n\r\n    className: 'cs-dialog binf-modal binf-fade conws-modal-dialog-parent',\r\n\r\n    attributes: {\r\n      'tabindex': '-1',\r\n      'role': 'dialog',\r\n      'aria-hidden': 'true'\r\n    },\r\n\r\n    template: template,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        existsHeader: !_.isUndefined(this.options.header),\r\n        existsBody: !_.isUndefined(this.options.body),\r\n        existsFooter: !_.isUndefined(this.options.footer),\r\n        modalClassName: this.options.modalClassName\r\n      }\r\n    },\r\n\r\n    behaviors: {\r\n      TabablesBehavior: {\r\n        behaviorClass: TabablesBehavior,\r\n        recursiveNavigation: true,\r\n        containTabFocus: true\r\n      }\r\n    },\r\n\r\n    ui: {\r\n      header: '.dialog-header',\r\n      body: '.dialog-body',\r\n      footer: '.dialog-footer'\r\n    },\r\n\r\n    regions: {\r\n      header: '.dialog-header',\r\n      body: '.dialog-body',\r\n      footer: '.dialog-footer'\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown',\r\n      'hidden.binf.modal': 'onHidden',\r\n      'shown.binf.modal': 'onShown'\r\n    },\r\n\r\n    // constructor for the RolesEdit dialog\r\n    constructor: function ModalDialogView(options) {\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    show: function () {\r\n      // add region and view to region\r\n      var container = $.fn.binf_modal.getDefaultContainer ? $.fn.binf_modal.getDefaultContainer() : document.body,\r\n          region = new NonEmptyingRegion({el: container});\r\n      region.show(this);\r\n      // and return view\r\n      return this;\r\n    },\r\n\r\n    destroy: function () {\r\n      // hide the dialog\r\n      if (this.$el.is(':visible')) {\r\n        this.$el.binf_modal('hide');\r\n      } else {\r\n        ModalDialogView.__super__.destroy.apply(this, arguments);\r\n      }\r\n      $('body').addClass('binf-modal-open');\r\n      return this;\r\n    },\r\n\r\n    kill: function () {\r\n      ModalDialogView.__super__.destroy.apply(this, arguments);\r\n      return true;\r\n    },\r\n\r\n    onRender: function () {\r\n      if (this.options.dialogTxtAria) {\r\n        this.$el.attr({\r\n            'aria-label': this.options.dialogTxtAria\r\n          });\r\n      }\r\n      if (this.options.body) {\r\n        this.body.show(this.options.body);\r\n      }\r\n    },\r\n\r\n    onShow: function () {\r\n      this.$el.binf_modal({\r\n        backdrop: 'static',\r\n        keyboard: false\r\n      });\r\n    },\r\n\r\n    onKeyDown: function (e) {\r\n      if (e.keyCode === 27 && e.target.id !== 'filtersearch') {\r\n          this.destroy();\r\n      }\r\n    },\r\n\r\n    onHidden: function () {\r\n      this.destroy();\r\n    },\r\n\r\n    onShown: function () {\r\n      if (this.options.body) {\r\n        this.options.body.triggerMethod('dom:refresh');\r\n        this.options.body.triggerMethod('after:show');\r\n      }\r\n    }\r\n  });\r\n\r\n  return ModalDialogView;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/rolepicker/impl/role',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<span style=\\\"white-space:pre\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</span>\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_rolepicker_impl_role', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/team/impl/controls/rolepicker/impl/role.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'hbs!conws/widgets/team/impl/controls/rolepicker/impl/role'\r\n], function (_, $, Marionette, template) {\r\n\r\n  var RoleView = Marionette.ItemView.extend({\r\n\r\n    tagName: 'span',\r\n\r\n    template: template,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        'name': this.model.get('name')\r\n      };\r\n    },\r\n\r\n    constructor: function RoleView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    }\r\n  });\r\n\r\n  return RoleView;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"search-input\\\"></div>\\r\\n<div class=\\\"search-clear\\\"></div>\\r\\n<div class=\\\"typeahead cs-search-icon icon-caret-down\\\"\\r\\n     title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.showValues || (depth0 != null ? depth0.showValues : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"showValues\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.showValues || (depth0 != null ? depth0.showValues : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"showValues\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_rolepicker_impl_rolepicker', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker.clear',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"typeahead cs-search-clear csui-icon formfield_clear\\\" style=\\\"\\\"\\r\\n     title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.clearValue || (depth0 != null ? depth0.clearValue : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"clearValue\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.clearValue || (depth0 != null ? depth0.clearValue : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"clearValue\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_rolepicker_impl_rolepicker.clear', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker.input',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<input class=\\\"typeahead binf-form-control cs-search\\\" type=\\\"search\\\" placeholder=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.placeholder || (depth0 != null ? depth0.placeholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"placeholder\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_rolepicker_impl_rolepicker.input', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker',[],function(){});\n","csui.define('conws/widgets/team/impl/controls/rolepicker/rolepicker.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/utils/base',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/widgets/team/impl/controls/rolepicker/impl/role.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker',\r\n  'hbs!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker.clear',\r\n  'hbs!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker.input',\r\n  'css!conws/widgets/team/impl/controls/rolepicker/impl/rolepicker',\r\n  'csui/lib/bootstrap3-typeahead'\r\n], function (_, $, Marionette, base, TabableRegionBehavior, LayoutViewEventsPropagationMixin,\r\n    RoleView, lang, tplRolePicker, tplClear, tplInput) {\r\n\r\n  var RolePickerSearch = Marionette.ItemView.extend({\r\n\r\n    template: tplInput,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        placeholder: this.options.placeholder\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      searchbox: '.typeahead.cs-search'\r\n    },\r\n\r\n    events: {\r\n      'keydown @ui.searchbox': 'onKeyDown',\r\n      'keyup @ui.searchbox': 'onKeyUp',\r\n      'dragstart .typeahead.binf-dropdown-menu li > a': 'onDragRole'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    triggers: {\r\n      'click @ui.searchbox': 'click',\r\n      'focus @ui.searchbox': 'focus'\r\n    },\r\n\r\n    constructor: function RolePickerSearch(options) {\r\n      options || (options = {});\r\n\r\n      // initialize options\r\n      options.delay || (options.delay = 200);\r\n      options.minLength || (options.minLength = 0);\r\n      options.placeholder || (options.placeholder = lang.addParticipantsRolePickerPlaceholder);\r\n      options.roles || (options.roles = []);\r\n      options.prettyScrolling || (options.prettyScrolling = false);\r\n      if (options.showInherited === undefined) {\r\n        options.showInherited = true;\r\n      }\r\n      // sort roles\r\n      options.roles.comparator = function (left, right) {\r\n        return base.localeCompareString(left.get('name'), right.get('name'));\r\n      };\r\n      options.roles.sort();\r\n\r\n      this.rolePicked = true;\r\n      // apply marionette item view\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      // listen to change of 'clearInput'\r\n      this.listenTo(options.view, 'clearInput', this.clear);\r\n    },\r\n\r\n    onRender: function () {\r\n      // initialize typeahead control\r\n      this.$('input.typeahead').typeahead({\r\n        items: 'all',\r\n        afterSelect: _.bind(this._afterSelect, this),\r\n        highlighter: _.bind(this._renderHighlighter, this),\r\n        delay: this.options.delay,\r\n        displayText: this._retrieveDisplayText,\r\n        matcher: this._matcher,\r\n        afterHide: _.bind(this._afterHide, this),\r\n        nextHighlighter: _.bind(this._nextHighlighter, this),\r\n        accessbility: _.bind(this._accessbility, this),\r\n        currentHighlighter: _.bind(this._currentHighlighter, this),\r\n        sorter: this._sorter,\r\n        minLength: this.options.minLength,\r\n        source: _.bind(this._source, this),\r\n        prettyScrolling: this.options.prettyScrolling,\r\n        appendTo: this.$el\r\n      });\r\n      this.ui.searchbox.append(this.options.$el);\r\n    },\r\n\r\n    onClick: function (e) {\r\n      // show roles\r\n      this.ui.searchbox.trigger('focus');\r\n      this.ui.searchbox.typeahead('lookup', this.ui.searchbox.val());\r\n    },\r\n\r\n    onKeyUp: function (e) {\r\n      var fldVal = this.ui.searchbox.val();\r\n      if (fldVal.length === 0 && (e.keyCode === 13 || e.keyCode === 32 || e.keyCode === 46)) {\r\n        this.rolePicked = false;\r\n      } else {\r\n        this.rolePicked = true;\r\n        // update styles\r\n        this.options.view.filterLength = this.ui.searchbox.val().length;\r\n        this.options.view.trigger('updateStyles');\r\n      }\r\n    },\r\n\r\n    onKeyDown: function (e) {\r\n      if (e.keyCode === 9) {\r\n        // update styles\r\n        this.options.view.filterLength = this.ui.searchbox.val().length;\r\n        this.options.view.trigger('updateStyles');\r\n        // suppress afterselect handler by hiding the typeahead dropdown\r\n        this.ui.searchbox.typeahead('hide');\r\n      }\r\n    },\r\n\r\n    // disable role dragging\r\n    onDragRole: function (e) {\r\n      return false;\r\n    },\r\n\r\n    isTabable: function () {\r\n      // in case of error, this is called during destroy and searchbox is a selector string, not a jquery element.\r\n      return $(this.ui.searchbox).is(':not(:disabled)') && $(this.ui.searchbox).is(':not(:hidden)') &&\r\n             $(this.ui.searchbox).is(':visible');\r\n    },\r\n\r\n    clear: function () {\r\n      this.ui.searchbox.val('');\r\n      this.ui.searchbox.trigger('focus');\r\n      this.ui.searchbox.typeahead('lookup', this.ui.searchbox.val());\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      return this.ui.searchbox;\r\n    },\r\n\r\n    _source: function (query) {\r\n      // prepare collection\r\n      var ret = [];\r\n      if (this.rolePicked  && this.options.roles !== undefined) {\r\n        if (this.options.showInherited) {\r\n          ret = this.options.roles.models;\r\n        } else {\r\n          ret = this.options.roles.filter(function (role) {\r\n            return !role.get('inherited_from_id');\r\n          });\r\n        }\r\n      }\r\n      return ret;\r\n    },\r\n\r\n    _matcher: function (item) {\r\n      var it = item.get('name');\r\n      return ~it.toLowerCase().indexOf(this.query.toLowerCase());\r\n    },\r\n\r\n    _sorter: function (items) {\r\n      return items;\r\n    },\r\n\r\n    _retrieveDisplayText: function (item) {\r\n      return item.get('name');\r\n    },\r\n\r\n    _afterSelect: function (item) {\r\n      // update text and trigger change\r\n      this.ui.searchbox.val('');\r\n      // update styles\r\n      this.options.view.filterLength = this.ui.searchbox.val().length;\r\n      this.options.view.trigger('updateStyles');\r\n      // trigger change\r\n      this.options.view.trigger('item:change', {\r\n        item: item\r\n      });\r\n    },\r\n\r\n    _renderHighlighter: function (item) {\r\n      var model = this.options.roles.findWhere({name: item});\r\n      // create view ...\r\n      var view = new RoleView({\r\n        model: model,\r\n        connector: this.options.roles.connector\r\n      });\r\n      // ... and render\r\n      return view.render().el;\r\n    },\r\n\r\n    _afterHide: function() {\r\n      return;\r\n    },\r\n\r\n    _currentHighlighter: function (item) {\r\n      return;\r\n    },\r\n\r\n    _nextHighlighter: function (item) {\r\n      return;\r\n    },\r\n\r\n    _accessbility: function(item) {\r\n      return;\r\n    }\r\n  });\r\n\r\n  var RolePickerClear = Marionette.ItemView.extend({\r\n\r\n    template: tplClear,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        clearValue: lang.addParticipantsRolePickerClear\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      searchclear: '.typeahead.cs-search-clear'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.searchclear': 'onClickClear',\r\n      'keyup @ui.searchclear': 'onClearKeyUp'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function RolePickerClear(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      // listen to change of 'updateStyles'\r\n      this.listenTo(options.view, 'updateStyles', this.updateStyles);\r\n    },\r\n\r\n    onClickClear: function (e) {\r\n      // clear the search, update styles ...\r\n      this.updateStyles();\r\n      // and open unfiltered\r\n      this.options.view.trigger('clearInput');\r\n    },\r\n\r\n    onClearKeyUp: function (e) {\r\n      if (e.keyCode === 13 || e.keyCode === 32) {\r\n        // clear the search, update styles ...\r\n        this.updateStyles();\r\n        // and open unfiltered\r\n        this.options.view.trigger('clearInput');\r\n      }\r\n    },\r\n    // switch the clear button depending on the text value.\r\n    updateStyles: function () {\r\n      var clear = this.options.view.filterLength > 0;\r\n      this.ui.searchclear.css({\r\n        'display': clear ? '' : 'none'\r\n      }).attr('tabindex', 0)\r\n    },\r\n\r\n    isTabable: function () {\r\n      // in case of error, this is called during destroy and searchclear is a selector string, not a jquery element.\r\n      return $(this.ui.searchclear).is(':not(:disabled)') && $(this.ui.searchclear).is(':not(:hidden)') &&\r\n             $(this.ui.searchclear).is(':visible');\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      return this.ui.searchclear;\r\n    }\r\n  });\r\n\r\n  var RolePickerView = Marionette.LayoutView.extend({\r\n\r\n    tagName: 'div',\r\n\r\n    className: 'conws-control-rolepicker',\r\n\r\n    template: tplRolePicker,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        showValues: lang.addParticipantsRolePickerShow\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      rolepicker: 'div.conws-control-rolepicker',\r\n      searchicon: '.typeahead.cs-search-icon',\r\n      searchbox: '.search-input',\r\n      searchclear: '.search-clear'\r\n    },\r\n\r\n    regions: {\r\n      searchRegion: '@ui.searchbox',\r\n      clearRegion: '@ui.searchclear'\r\n    },\r\n\r\n    triggers: {\r\n      'click @ui.searchicon': 'click'\r\n    },\r\n\r\n    constructor: function RolePickerView(options) {\r\n      options || (options = {});\r\n\r\n      this.filterLength = 0;\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n      // listen to change the focus\r\n      this.listenTo(this, 'updateFocus', this.updateFocus);\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      // render the filter elements if active\r\n      var searchView = this.searchView;\r\n      if (searchView) {\r\n        this.searchRegion.show(searchView);\r\n      } else {\r\n        searchView = this.searchView = new RolePickerSearch(\r\n            $.extend({}, this.options, {\r\n              view: this\r\n            }));\r\n        this.searchRegion.show(searchView);\r\n      }\r\n      // clear button\r\n      this.clearView = new RolePickerClear(\r\n          $.extend({}, this.options, {\r\n            view: this\r\n          }));\r\n      this.clearRegion.show(this.clearView);\r\n      // update styles\r\n      this.clearView.updateStyles();\r\n    },\r\n\r\n    onClick: function (e) {\r\n      // show roles\r\n      this.updateFocus();\r\n      this.searchView.$('input.typeahead').typeahead('lookup', this.ui.searchbox.val());\r\n    },\r\n\r\n    updateFocus: function(){\r\n      // show roles\r\n      this.searchView.currentlyFocusedElement().trigger('focus');\r\n    }\r\n\r\n  });\r\n  // add event propagation mixin\r\n  _.extend(RolePickerView.prototype, LayoutViewEventsPropagationMixin);\r\n  \r\n  return RolePickerView;\r\n});\n","csui.define('conws/widgets/team/impl/behaviors/list.keyboard.behavior',[\r\n  'module',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette'\r\n], function (module, _, $, Marionette) {\r\n  'use strict';\r\n\r\n  var ListKeyboardBehavior = Marionette.Behavior.extend({\r\n\r\n    defaults: {\r\n      'currentlyFocusedElementSelector': 'li:nth-child({0})'\r\n    },\r\n\r\n    constructor: function ListKeyboardBehavior(options, view) {\r\n      // apply marionette behavior implementation\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      // extend the views\r\n      _.extend(view, {\r\n\r\n        // storage for the selected index\r\n        selectedIndex: 0,\r\n\r\n        // support up/down navigation\r\n        onKeyDown: function (e) {\r\n          var $preElem = this.currentlyFocusedElement();\r\n\r\n          switch (e.keyCode) {\r\n          case 38: // up\r\n            this._moveTo(e, this._selectPrevious(), $preElem);\r\n            break;\r\n          case 40: // down\r\n            this._moveTo(e, this._selectNext(), $preElem);\r\n            break;\r\n          }\r\n        },\r\n\r\n        _moveTo: function (event, $elem, $preElem) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n\r\n          setTimeout(_.bind(function () {\r\n            $preElem && $preElem.prop('tabindex', '-1');\r\n            $elem.prop('tabindex', '0');\r\n            $elem.trigger('focus');\r\n          }, this), 50);\r\n        },\r\n\r\n        _selectNext: function () {\r\n          var collection = this.model || this.collection;\r\n          if (this.selectedIndex < collection.length - 1) {\r\n            this.selectedIndex++;\r\n          }\r\n          return this.currentlyFocusedElement();\r\n        },\r\n\r\n        _selectPrevious: function () {\r\n          if (this.selectedIndex > 0) {\r\n            this.selectedIndex--;\r\n          }\r\n          return this.currentlyFocusedElement();\r\n        },\r\n\r\n        currentlyFocusedElementSelector: this.options.currentlyFocusedElementSelector,\r\n\r\n        currentlyFocusedElement: function () {\r\n          // reset the focused list index whenever the previous index is larger than the\r\n          // currently rendered elements\r\n          var collection = this.model || this.collection;\r\n          if ((this.selectedIndex !== 0) && (this.selectedIndex >= collection.length)) {\r\n            this.selectedIndex = collection.length - 1;\r\n          }\r\n          // find the element at the current index and return\r\n          var $item = this.$(_.str.sformat(this.currentlyFocusedElementSelector, this.selectedIndex + 1));\r\n          var elementOfFocus = ($item.length !== 0) ? this.$($item[0]) : null;\r\n          return elementOfFocus;\r\n        }\r\n      });\r\n    } // constructor\r\n  });\r\n\r\n  return ListKeyboardBehavior;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.roles',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"binf-alert binf-alert-success binf-alert-dismissible\\\">\\r\\n  <strong title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</strong>\\r\\n  <div class=\\\"remove binf-alert-close binf-close\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n       title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.removeRole || (depth0 != null ? depth0.removeRole : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"removeRole\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.removeRole || (depth0 != null ? depth0.removeRole : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"removeRole\",\"hash\":{}}) : helper)))\n    + \"\\\"></div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_addparticipants_impl_participant.roles', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.roles',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/addparticipants/impl/participant.roles.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/utils/url',\r\n  'conws/widgets/team/impl/behaviors/list.keyboard.behavior',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.roles',\r\n  'css!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.roles'\r\n], function (_, $, Marionette, TabableRegionBehavior, Url, ListKeyboardBehavior, lang,\r\n    childTemplate) {\r\n\r\n  var ParticipantRolesItemView = Marionette.ItemView.extend({\r\n\r\n    tagName: 'li',\r\n\r\n    template: childTemplate,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        removeRole: lang.rolesDialogRemoveRole,\r\n        name: this.model.get('name'),\r\n        id: this.model.get('id')\r\n      };\r\n    },\r\n\r\n    events: {\r\n      'click .remove': 'onRemoveOnClick',\r\n      'keydown .binf-alert': 'onRemoveOnKeyDown'\r\n    },\r\n\r\n    constructor: function ParticipantRoleView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    onRemoveOnClick: function (e) {\r\n      // stop propagation\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      // trigger event\r\n      this.triggerMethod('remove:role', {model: this.model});\r\n    },\r\n\r\n    onRemoveOnKeyDown: function (e) {\r\n      // Enter, Space or DEL?\r\n      if (e.keyCode === 13 || e.keyCode === 32 || e.keyCode === 46) {\r\n        // stop propagation\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // trigger event\r\n        this.triggerMethod('remove:role', {model: this.model});\r\n      }\r\n    }\r\n  });\r\n\r\n  var ParticipantRolesListView = Marionette.CollectionView.extend({\r\n\r\n    tagName: 'ul',\r\n\r\n    childView: ParticipantRolesItemView,\r\n\r\n    // required by the list keyboard behavior\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    // view behaviors\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n      ListKeyboard: {\r\n        behaviorClass: ListKeyboardBehavior,\r\n        currentlyFocusedElementSelector: 'li:nth-child({0}) .binf-alert'\r\n      }\r\n    },\r\n\r\n    constructor: function ParticipantRolesListView(options) {\r\n      // apply properties to parent\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    onAddChild: function () {\r\n      this.triggerMethod('refresh:tabindexes');\r\n    },\r\n\r\n    onRemoveChild: function () {\r\n      this.triggerMethod('refresh:tabindexes');\r\n    }\r\n  });\r\n\r\n  // return view\r\n  return ParticipantRolesListView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"participant-content binf-pull-left\\\"></div>\\r\\n<div class=\\\"participant-roles binf-pull-left\\\"></div>\\r\\n<div class=\\\"participant-delete binf-pull-right\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_addparticipants_impl_participant.listitem', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.roles',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"participant-roles-list\\\">\\r\\n  <!-- role items -->\\r\\n</div>\\r\\n<div class=\\\"conws-participants-rolepicker\\\">\\r\\n  <!-- roles picker region -->\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_addparticipants_impl_participant.listitem.roles', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.delete',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<span class=\\\"remove csui-icon cs-icon-delete\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n      title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.removeParticipant || (depth0 != null ? depth0.removeParticipant : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"removeParticipant\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.removeParticipant || (depth0 != null ? depth0.removeParticipant : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"removeParticipant\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_addparticipants_impl_participant.listitem.delete', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/utils/url',\r\n  'csui/utils/contexts/factories/user',\r\n  'esoc/widgets/userwidget/userwidget',\r\n  'conws/widgets/team/impl/controls/avatar/avatar.view',\r\n  'conws/widgets/team/impl/controls/rolepicker/rolepicker.view',\r\n  'conws/widgets/team/impl/dialogs/addparticipants/impl/participant.roles.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem',\r\n  'hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.details',\r\n  'hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.roles',\r\n  'hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.delete',\r\n  'css!conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem'\r\n], function (_, $, Marionette, TabableRegionBehavior, LayoutViewEventsPropagationMixin, Url,\r\n    UserModelFactory, UserWidget, Avatar,\r\n    RolePicker, ParticipantRolesListView, lang, itemTemplate, detailsTemplate, rolesTemplate,\r\n    deleteTemplate) {\r\n\r\n  var ParticipantPropertiesView = Marionette.ItemView.extend({\r\n\r\n    template: detailsTemplate,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        type: this.model.getMemberType(),\r\n        name: this.model.displayName(),\r\n        email: this.model.displayEmail(),\r\n        title: this.model.displayTitle(),\r\n        department: this.model.displayDepartment(),\r\n        office: this.model.displayOffice()\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      personalizedImage: '.csui-icon-user',\r\n      defaultImage: '.csui-icon-paceholder'\r\n    },\r\n\r\n    // constructor for the 'add participant' listitem\r\n    constructor: function ParticipantPropertiesView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    initialize: function () {\r\n      this.avatar = new Avatar({model: this.model});\r\n    },\r\n\r\n    onRender: function () {\r\n      // render profile image\r\n      if (this.model.get('type') !== undefined && this.model.get('type') === 0) {\r\n        var loggedUser = this.model.collection.workspaceContext.getModel(UserModelFactory),\r\n          userProfilePicOptions = {\r\n            connector: this.model.connector,\r\n            model: this.model,\r\n            userid: this.model.get('id'),\r\n            context: this.model.collection.workspaceContext,\r\n            showUserProfileLink: true,\r\n            showMiniProfile: true,\r\n            loggedUserId: loggedUser.get('id'),\r\n            placeholder: this.$el.find('.participant-picture'),\r\n            showUserWidgetFor: 'profilepic'\r\n          };\r\n        UserWidget.getUser(userProfilePicOptions);\r\n      }\r\n      else {\r\n        this.$('.participant-picture').append(this.avatar.render().$el);\r\n      }\r\n    }\r\n  });\r\n\r\n  var ParticipantRolesView = Marionette.LayoutView.extend({\r\n\r\n    regions: {\r\n      rolesListRegion: '.participant-roles-list',\r\n      rolePickerRegion: '.conws-participants-rolepicker'\r\n    },\r\n\r\n    template: rolesTemplate,\r\n\r\n    constructor: function ParticipantRolesView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      // participant roles list\r\n      var roles = new ParticipantRolesListView({\r\n        collection: this.model.roles\r\n      });\r\n      this.rolesListRegion.show(roles);\r\n      this.listenTo(roles, 'childview:remove:role', this.onRoleItemRemove);\r\n\r\n      // role picker\r\n      var role = new RolePicker({\r\n        placeholder: lang.addParticipantsRolePickerPlaceholderMore,\r\n        roles: this.model.collection.roles,\r\n        showInherited: false,\r\n        prettyScrolling: true\r\n      });\r\n      this.rolePickerRegion.show(role);\r\n      this.listenTo(role, 'item:change', this.onRoleItemChanged);\r\n    },\r\n\r\n    onRoleItemChanged: function (e) {\r\n      this.model.roles.add(e.item);\r\n    },\r\n\r\n    onRoleItemRemove: function (view, args) {\r\n      // remove assigned role\r\n      this.model.roles.remove(args.model);\r\n\r\n      // set focus to input field of search if the last role is remove\r\n      if (this.model.roles.length === 0) {\r\n        this.rolePickerRegion.currentView.trigger('updateFocus');\r\n      }\r\n    }\r\n  });\r\n\r\n  var ParticipantDeleteView = Marionette.ItemView.extend({\r\n\r\n    template: deleteTemplate,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        removeParticipant: lang.addParticipantsRemove\r\n      };\r\n    },\r\n\r\n    events: {\r\n      'click .remove': 'onRemoveOnClick',\r\n      'keydown .remove': 'onRemoveOnKeyDown'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function ParticipantDeleteView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    onRemoveOnClick: function (e) {\r\n      // stop propagation\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      // remove participant\r\n      this.model.collection.remove(this.model);\r\n    },\r\n\r\n    onRemoveOnKeyDown: function (e) {\r\n      // Enter, Space or DEL?\r\n      if (e.keyCode === 13 || e.keyCode === 32 || e.keyCode === 46) {\r\n        // stop propagation\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // remove participant\r\n        this.model.collection.remove(this.model);\r\n      }\r\n    },\r\n\r\n    // delete button is focused\r\n    currentlyFocusedElement: function () {\r\n      return this.$('.remove');\r\n    }\r\n  });\r\n\r\n  var ParticipantListItemView = Marionette.LayoutView.extend({\r\n\r\n    template: itemTemplate,\r\n\r\n    tagName: 'li',\r\n\r\n    className: 'binf-list-group-item conws-participant',\r\n\r\n    regions: {\r\n      content: '.participant-content',\r\n      roles: '.participant-roles',\r\n      delete: '.participant-delete'\r\n    },\r\n\r\n    // constructor for the 'add participant' listitem\r\n    constructor: function ParticipantListItemView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      // listen to the change of the roles\r\n      this.listenTo(this.model.roles, 'reset remove add', this.onParticipantRolesChanged);\r\n      // listen to the change of the model\r\n      this.listenTo(this.model, 'remove', this.onParticipantRemove);\r\n\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      // render content\r\n      this.content.show(\r\n          new ParticipantPropertiesView({\r\n            model: this.model\r\n          }));\r\n      // render roles\r\n      this.roles.show(\r\n          new ParticipantRolesView({\r\n            model: this.model\r\n          }));\r\n      // render remove button\r\n      this.delete.show(\r\n          new ParticipantDeleteView({\r\n            model: this.model\r\n          }));\r\n      // styling\r\n      this.applyRolesStyle();\r\n      this.applyRolesHeight(true);\r\n    },\r\n\r\n    onParticipantRemove:function () {\r\n      this._parent.selectedIndex = this._index;\r\n    },\r\n\r\n    onParticipantRolesChanged: function (model, collection, options) {\r\n      // and trigger participant collection change\r\n      this.model.collection.trigger('change', this.model.collection);\r\n      // change style ...\r\n      this.applyRolesStyle();\r\n      // change height - in case the options index property is\r\n      // available the event is triggered due to a remove action.\r\n      var added = _.isUndefined(options.index);\r\n      this.applyRolesHeight(added);\r\n    },\r\n\r\n    applyRolesStyle: function () {\r\n      // depending on the roles count the\r\n      // item is styled\r\n      if (this.model.roles.length !== 0) {\r\n        this.$el.addClass('has-role');\r\n        this.$el.removeClass('no-role');\r\n      } else {\r\n        this.$el.addClass('no-role');\r\n        this.$el.removeClass('has-role');\r\n      }\r\n    },\r\n\r\n    applyRolesHeight: function (add) {\r\n      // the item height has to be calculated manually\r\n      // as it should grow with the roles count\r\n      //\r\n      // get the top + bottom margin height\r\n      var space = this.$el.outerHeight() - this.$el.height();\r\n      // get the roles picker height\r\n      var picker = this.$('.conws-participants-rolepicker .cs-search').outerHeight();\r\n      // calculate  the roles list height\r\n      var roles = this.$('.participant-roles-list').outerHeight();\r\n      var len = this.model.roles.length;\r\n      if (len > 1) {\r\n        roles = (roles / (add ? len - 1 : len + 1)) * len;\r\n      } else if (len === 1) {\r\n        roles = (roles / (add ? len : len + 1)) * len;\r\n      }\r\n      this.$el.height(picker + roles + (space / 2));\r\n    }\r\n  });\r\n\r\n  // add mixin\r\n  _.extend(ParticipantRolesView.prototype, LayoutViewEventsPropagationMixin);\r\n  _.extend(ParticipantListItemView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  // return view\r\n  return ParticipantListItemView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/footer/impl/footer',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"conws-roles-edit-buttons binf-modal-footer\\\">\\r\\n  <span class=\\\"conws-roles-edit-reset-region\\\"></span>\\r\\n  <span class=\\\"conws-roles-edit-save-region\\\"></span>\\r\\n  <span class=\\\"conws-roles-edit-cancel-region\\\"></span>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_footer_impl_footer', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/footer/impl/button',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"disabled\";\n},\"3\":function(depth0,helpers,partials,data) {\n    return \"data-binf-dismiss=\\\"modal\\\"\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<button class=\\\"binf-btn binf-btn-default btn-footer \"\n    + this.escapeExpression(((helper = (helper = helpers.css || (depth0 != null ? depth0.css : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"css\",\"hash\":{}}) : helper)))\n    + \"\\\" \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.disabled : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \" \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.close : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \" >\"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_footer_impl_button', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/controls/footer/impl/footer',[],function(){});\n","csui.define('conws/widgets/team/impl/controls/footer/footer.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'hbs!conws/widgets/team/impl/controls/footer/impl/footer',\r\n  'hbs!conws/widgets/team/impl/controls/footer/impl/button',\r\n  'css!conws/widgets/team/impl/controls/footer/impl/footer'\r\n], function (_, $, Marionette, Handlebars, TabableRegionBehavior, LayoutViewEventsPropagationMixin,\r\n    templateFooter, templateButton) {\r\n\r\n  var ButtonView = Marionette.ItemView.extend({\r\n\r\n    tagName: 'span',\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      return {\r\n        label: this.model.get('label'),\r\n        css: this.model.get('css'),\r\n        disabled: this.model.get('disabled'),\r\n        close: this.model.get('close')\r\n      };\r\n    },\r\n\r\n    template: templateButton,\r\n\r\n    ui: {\r\n      button: '.btn-footer'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.button': 'onClick'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    onClick: function (e) {\r\n      // execute the callback\r\n      var callback = this.model.get('click');\r\n      if (callback && _.isFunction(callback)) {\r\n        callback(e);\r\n      }\r\n    },\r\n\r\n    constructor: function ButtonView(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this.model, 'change', this.render);\r\n    },\r\n\r\n    isTabable: function () {\r\n      // in case of error, this is called during destroy and button is a selector string, not a jquery element.\r\n      return $(this.ui.button).is(':enabled');\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      return this.ui.button;\r\n    }\r\n  });\r\n\r\n  var FooterView = Marionette.LayoutView.extend({\r\n\r\n    regions: {\r\n      resetRegion: '.conws-roles-edit-reset-region',\r\n      submitRegion: '.conws-roles-edit-save-region',\r\n      cancelRegion: '.conws-roles-edit-cancel-region'\r\n    },\r\n\r\n    template: templateFooter,\r\n\r\n    constructor: function FooterView(options) {\r\n      // assign button models\r\n      this.buttons = options.collection.models;\r\n\r\n      // apply marionette layoutview\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      //listen to set focus\r\n      this.listenTo(this , 'updateButton', this.updateButton);\r\n\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      var self = this;\r\n      _.each(this.buttons, function (button) {\r\n        if (button.id === 'reset') {\r\n          self.resetView = new ButtonView({\r\n            model: button,\r\n            initialActivationWeight: button.get('initialActivationWeight')\r\n          });\r\n          self.resetRegion.show(self.resetView);\r\n        } else if (button.id === 'submit') {\r\n          self.submitView = new ButtonView({\r\n            model: button,\r\n            initialActivationWeight: button.get('initialActivationWeight')\r\n          });\r\n          self.submitRegion.show(self.submitView);\r\n        } else if (button.id === 'cancel') {\r\n          self.cancelView = new ButtonView({\r\n            model: button,\r\n            initialActivationWeight: button.get('initialActivationWeight')\r\n          });\r\n          self.cancelRegion.show(self.cancelView);\r\n        }\r\n      });\r\n    },\r\n\r\n    updateButton: function () {\r\n      var self = this;\r\n      _.each(self.collection.models, function (button) {\r\n        if (!button.get('disabled')) {\r\n          if (button.id === 'submit') {\r\n            self.submitView.currentlyFocusedElement().focus();\r\n          } else if (button.id === 'cancel') {\r\n            self.cancelView.currentlyFocusedElement().focus();\r\n          } else if (button.id === 'reset') {\r\n            self.resetView.currentlyFocusedElement().focus();\r\n          }\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  // add event propagation mixin\r\n  _.extend(FooterView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  // return\r\n  return FooterView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/addparticipants',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"binf-modal-content\\\">\\r\\n  <div class=\\\"binf-modal-header\\\">\\r\\n    <h4 class=\\\"binf-modal-title\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"</h4>\\r\\n    <div class=\\\"conws-addparticipants-search\\\">\\r\\n      <div class=\\\"conws-addparticipants-userpicker\\\">\\r\\n        <!-- user picker region -->\\r\\n      </div>\\r\\n      <div>\\r\\n        <div class=\\\"conws-addparticipants-rolepicker\\\">\\r\\n          <!-- roles picker region -->\\r\\n        </div>\\r\\n        <div class=\\\"conws-addparticipants-rolepicker-help\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers['roles-help'] || (depth0 != null ? depth0['roles-help'] : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"roles-help\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"binf-modal-body\\\">\\r\\n    <div class=\\\"conws-addparticipants-members\\\"></div>\\r\\n  </div>\\r\\n  <div class=\\\"conws-addparticipants-buttons\\\">\\r\\n    <!-- button bar region -->\\r\\n  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_addparticipants_impl_addparticipants', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/dialogs/addparticipants/impl/addparticipants',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/addparticipants/addparticipants.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/utils/base',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/widgets/team/impl/participant.model',\r\n  'conws/widgets/team/impl/dialogs/addparticipants/impl/participant.listitem.view',\r\n  'conws/widgets/team/impl/controls/rolepicker/rolepicker.view',\r\n  'conws/widgets/team/impl/controls/footer/footer.view',\r\n  'csui/controls/userpicker/userpicker.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/addparticipants/impl/addparticipants',\r\n  'css!conws/widgets/team/impl/dialogs/addparticipants/impl/addparticipants'\r\n], function (_, $, Backbone, Marionette, base, ConnectorFactory, NodeFactory,\r\n    LayoutViewEventsPropagationMixin, ModalAlert, WorkspaceContextFactory, Participant,\r\n    ParticipantView, RolePicker, ButtonBar, UserPicker, lang, template) {\r\n\r\n  var ParticipantsListCollectionView = Marionette.CollectionView.extend({\r\n\r\n    tagName: 'ul',\r\n\r\n    className: 'binf-list-group',\r\n\r\n    childView: ParticipantView,\r\n\r\n    constructor: function ParticipantsListCollectionView(options) {\r\n      Marionette.CollectionView.call(this, options);\r\n      //listen to change the focus\r\n      this.listenTo(this, 'moveTabIndex', this.moveTabIndex);\r\n    },\r\n\r\n    moveTabIndex:function(view){\r\n      this.children.each(function (participantView) {\r\n        if(view.children.length === view.selectedIndex){\r\n          view.selectedIndex = view.children.length - 1;\r\n        }\r\n        if (participantView._index === view.selectedIndex) {\r\n          participantView.roles.currentView.rolePickerRegion.currentView.trigger('updateFocus')\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  var AddParticipantsView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      userPickerRegion: '.conws-addparticipants-userpicker',\r\n      rolePickerRegion: '.conws-addparticipants-rolepicker',\r\n      buttonsRegion: '.conws-addparticipants-buttons',\r\n      participantsRegion: '.conws-addparticipants-members'\r\n    },\r\n\r\n    templateHelpers: {\r\n      'title': lang.addParticipantsTitle,\r\n      'roles-help': lang.addParticipantsRolesHelp\r\n    },\r\n\r\n    constructor: function AddParticipantsView(options) {\r\n      options || (options = {});\r\n\r\n      this.view = options.view;\r\n      this.context = options.view.context;\r\n      this.connector = options.view.context.getObject(ConnectorFactory, options.view);\r\n      // get workspace context\r\n      if (!options.workspaceContext) {\r\n        options.workspaceContext = options.view.context.getObject(WorkspaceContextFactory);\r\n      }\r\n      this.workspaceContext = options.workspaceContext;\r\n\r\n      this.teamRoles = options.view.roleCollection.clone() ;\r\n      this.teamParticipants = options.view.participantCollection;\r\n\r\n      // listen to team view close\r\n      this.listenTo(this.view, 'destroy', this.close);\r\n\r\n      // initialize button model\r\n      this.buttonsModel = undefined;\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      // user picker\r\n      var user = new UserPicker({\r\n        context: this.workspaceContext,\r\n        limit: 20,\r\n        clearOnSelect: true,\r\n        placeholder: lang.addParticipantsUserPickerPlaceholder,\r\n        disabledMessage: lang.addParticipantsDisabledMemberMessage,\r\n        onRetrieveMembers: _.bind(this.retrieveMembersCallback, this),\r\n        prettyScrolling: true,\r\n        initialActivationWeight: 100\r\n      });\r\n      this.userPickerRegion.show(user);\r\n      user.$(\".cs-search-icon\").attr(\"aria-label\",lang.addParticipantsSearchAria);\r\n      this.listenTo(user, 'item:change', this.onUserItemChanged);\r\n\r\n      // role picker\r\n      var role = new RolePicker({\r\n        roles: this.teamRoles,\r\n        showInherited: false,\r\n        prettyScrolling: true\r\n      });\r\n      this.rolePickerRegion.show(role);\r\n      this.listenTo(role, 'item:change', this.onRoleItemChanged);\r\n\r\n      // participants list\r\n       var participants = new ParticipantsListCollectionView({\r\n         context: this.options.workspaceContext,\r\n         collection: _.extend(new Backbone.Collection(), {\r\n           workspaceContext: this.workspaceContext,\r\n           node: this.workspaceContext.getModel(NodeFactory),\r\n           roles: this.teamRoles,\r\n           comparator: function (left, right) {\r\n             return base.localeCompareString(left.get('display_name'), right.get('display_name'));\r\n           }\r\n         })\r\n       });\r\n      this.participantsRegion.show(participants);\r\n      // participants collection\r\n      this.participants = participants.collection;\r\n      this.listenTo(this.participants, 'reset add change', this.onParticipantsChanged);\r\n      this.listenTo(this.participants, 'remove', this.onParticipantsRemove);\r\n\r\n      // button bar, with the model to react on the changes\r\n      this.buttonModel = new Backbone.Collection([{\r\n        id: 'reset',\r\n        label: lang.addParticipantsButtonClear,\r\n        css: 'clear binf-pull-left',\r\n        click: _.bind(this.onClickClear, this),\r\n        disabled: true,\r\n        close: false\r\n      }, {\r\n        id: 'submit',\r\n        label: lang.addParticipantsButtonSave,\r\n        css: 'save',\r\n        click: _.bind(this.onClickSave, this),\r\n        disabled: true,\r\n        close: true\r\n      }, {\r\n        id: 'cancel',\r\n        label: lang.addParticipantsButtonCancel,\r\n        css: 'cancel',\r\n        disabled: false,\r\n        close: true\r\n      }]);\r\n      this.buttonsRegion.show(new ButtonBar({\r\n        collection: this.buttonModel\r\n      }));\r\n    },\r\n\r\n    onUserItemChanged: function (e) {\r\n      // if member is disabled prevent from being added\r\n      if (e.item.get('disabled')) {\r\n        return;\r\n      }\r\n      // otherwise create participant and ...\r\n      var attributes = _.extend(e.item.attributes, {\r\n        display_name: e.item.get('name_formatted')\r\n      });\r\n      var participant = new Participant(attributes, {\r\n        connector: this.connector,\r\n        collection: this.participants\r\n      });\r\n      participant.roles = new Backbone.Collection(undefined, {\r\n        comparator: function (left, right) {\r\n          return base.localeCompareString(left.get('name'), right.get('name'));\r\n        }\r\n      });\r\n      // ... add to participants list\r\n      this.participants.add(participant);\r\n    },\r\n\r\n    retrieveMembersCallback: function (args) {\r\n      var self = this;\r\n\r\n      // check team members and dialog members and if the\r\n      // participant is found disable it in the results.\r\n      args.collection.each(function (current) {\r\n        var exists = false;\r\n        if (self.teamParticipants.findWhere({id: current.get('id')})) {\r\n          exists = true;\r\n        } else {\r\n          if (self.participants.findWhere({id: current.get('id')})) {\r\n            exists = true;\r\n          }\r\n        }\r\n        current.set('disabled', exists);\r\n      });\r\n    },\r\n\r\n    onRoleItemChanged: function (e) {\r\n      // add selected role to all participants\r\n      this.participants.each(function (current) {\r\n        current.roles.add(e.item);\r\n      });\r\n    },\r\n\r\n    onClickSave: function () {\r\n      var self = this;\r\n      // save participants to the team\r\n      var error = false;\r\n      var count = this.participants.length;\r\n      this.participants.each(function (current) {\r\n        self.teamParticipants.addNewParticipant(current);\r\n        current.save(\r\n            {\r\n              add: current.roles.models\r\n            }, {\r\n              success: function (response) {\r\n                if ((--count) === 0) {\r\n                  self.refreshAfterSave(error);\r\n                }\r\n              },\r\n              error: function (response) {\r\n                error = true;\r\n                if ((--count) === 0) {\r\n                  self.refreshAfterSave(error);\r\n                }\r\n              }\r\n            });\r\n      });\r\n    },\r\n\r\n    refreshAfterSave: function (error) {\r\n      var self = this;\r\n      // notify on error\r\n      if (error === true) {\r\n        ModalAlert.showError(lang.addParticipantsErrorMessageDefault);\r\n      }\r\n      function afterFetch() {\r\n        // trigger save event to signal the save of the collection\r\n        self.teamParticipants.trigger('saved', self.teamParticipants);\r\n      }\r\n\r\n      // refresh team participants\r\n      self.teamParticipants.fetch({\r\n        success: function () {\r\n          self.teamParticipants.setNewParticipant();\r\n        }\r\n      }).then(afterFetch,afterFetch);\r\n    },\r\n\r\n    onClickClear: function () {\r\n      // clear participants dialog\r\n      this.participants.reset();\r\n      // set focus to user picker\r\n      this.userPickerRegion.currentView.currentlyFocusedElement().focus();\r\n      // update scrollbars\r\n      this.updateScrollbar();\r\n    },\r\n\r\n    onParticipantsRemove: function () {\r\n      this.onParticipantsChanged();\r\n      if (this.participants && this.participants.length>0) {\r\n        //set focus on the previous item\r\n        this.participantsRegion.currentView.trigger('moveTabIndex', this.participantsRegion.currentView);\r\n      } else {\r\n        // set focus to user picker\r\n        this.userPickerRegion.currentView.currentlyFocusedElement().focus();\r\n      }\r\n    },\r\n\r\n    onParticipantsChanged: function () {\r\n      // disable clear - if no item is available\r\n      var disableClear = (this.participants.length === 0);\r\n      // disable save - if at least one items has no roles\r\n      var disableSave = (this.participants.length === 0);\r\n      this.participants.each(function (participant) {\r\n        if ((participant.roles === undefined) || (participant.roles.length === 0)) {\r\n          disableSave = true;\r\n        }\r\n      });\r\n      // set button models\r\n      this.buttonModel.get('reset').set('disabled', disableClear);\r\n      this.buttonModel.get('submit').set('disabled', disableSave);\r\n      // whenever the participants change, update the perfect scrollbar\r\n      this.$el.find('.conws-addparticipants-members').perfectScrollbar({\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15\r\n      });\r\n    },\r\n\r\n    // Update the scrollbars for the participant list, if the list has changed.\r\n    updateScrollbar: function () {\r\n      // scroll to top as the function is\r\n      // called from within 'onShown'.\r\n      var sc1 = this.$el.find('.conws-addparticipants-members');\r\n      _.each(sc1, function (sc) {\r\n        $(sc).perfectScrollbar('update');\r\n      })\r\n    }\r\n  });\r\n\r\n  // add mixin\r\n  _.extend(AddParticipantsView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  // return view\r\n  return AddParticipantsView;\r\n})\r\n;\r\n\n","csui.define('conws/utils/commands/addparticipant',[\r\n  'csui/lib/underscore',\r\n  'csui/models/command',\r\n  'conws/widgets/team/impl/dialogs/modaldialog/modal.dialog.view',\r\n  'conws/widgets/team/impl/dialogs/addparticipants/addparticipants.view',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang'\r\n], function (_, CommandModel, ModalDialogView, AddParticipantsView, lang, teamlang) {\r\n\r\n  var AddParticipantCommand = CommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: 'AddParticipant',\r\n      name: lang.CommandNameAddParticipant,\r\n      scope: 'multiple'\r\n    },\r\n\r\n    constructor: function (options) {\r\n      // initialize options\r\n      options || (options = {});\r\n      this.roles = options.roles;\r\n      // apply arguments to parent\r\n      CommandModel.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    enabled: function (status) {\r\n      // initialize false\r\n      var ret = false;\r\n      // evaluate if at least one role has the edit permission\r\n      if (this.roles) {\r\n        var editable = this.roles.filter(function (role) {\r\n          return (role.get('actions').actionEdit && _.isNull(role.get('inherited_from_id')));\r\n        });\r\n        ret = (editable.length !== 0)\r\n      }\r\n      // return\r\n      return ret;\r\n    },\r\n\r\n    execute: function (status, options) {\r\n      // show the add participants view in the modal dialog\r\n      var dialog = new ModalDialogView({\r\n        dialogTxtAria: teamlang.addParticipantsTitle,\r\n        body: new AddParticipantsView({\r\n          view: status.originatingView\r\n        }),\r\n        modalClassName: 'conws-addparticipants'\r\n      });\r\n      dialog.show();\r\n    }\r\n  });\r\n\r\n  return AddParticipantCommand;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('conws/utils/commands/export',[\r\n  'csui/lib/underscore',\r\n  'csui/models/command',\r\n  'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (_, CommandModel, lang) {\r\n\r\n  var ExportCommand = CommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: 'Export',\r\n      name: lang.CommandNameExport,\r\n      scope: 'multiple'\r\n    },\r\n\r\n    constructor: function (options) {\r\n      CommandModel.prototype.constructor.call(this, arguments);\r\n    },\r\n\r\n    enabled: function (status) {\r\n      if (status && status.nodes && status.nodes.length > 0) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    execute: function (status, options) {\r\n      // invoke download\r\n      var file = 'export.csv';\r\n      var csv = this._export(status.nodes.models);\r\n      this._download(csv, file);\r\n    },\r\n\r\n    _exportHeader: function () {\r\n      var ret = '';\r\n      return ret;\r\n    },\r\n\r\n    _exportModel: function () {\r\n      var ret = '';\r\n      return ret;\r\n    },\r\n\r\n    _export: function (models) {\r\n      // prepare model export csv\r\n      var self = this;\r\n      var csv = this._exportHeader() + '\\n';\r\n      _.each(models, function (current) {\r\n        csv += self._exportModel(current) + '\\n';\r\n      });\r\n      return csv;\r\n    },\r\n\r\n    _download: function (text, file) {\r\n      // create blob\r\n      var blob = new Blob([text], {type: 'text/csv'});\r\n      // try multiple options to invoke the csv download\r\n      if (!!window.navigator.msSaveOrOpenBlob) {\r\n        window.navigator.msSaveOrOpenBlob(blob, file);\r\n      } else {\r\n        var link = document.createElement(\"a\");\r\n        link.download = file;\r\n        link.innerHTML = \"Download File\";\r\n        if ('webkitURL' in window) {\r\n          // Chrome allows the link to be clicked without actually adding it to the DOM.\r\n          link.href = window.webkitURL.createObjectURL(blob);\r\n        } else {\r\n          // Firefox requires the link to be added to the DOM before it can be clicked.\r\n          link.href = window.URL.createObjectURL(blob);\r\n          link.style.display = \"none\";\r\n          link.onclick = function (event) {\r\n            document.body.removeChild(event.target);\r\n          };\r\n          document.body.appendChild(link);\r\n        }\r\n        link.click();\r\n      }\r\n    }\r\n  });\r\n\r\n  return ExportCommand;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('conws/widgets/team/impl/commands/exportparticipants',[\r\n  'csui/lib/underscore',\r\n  'conws/utils/commands/export',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang'\r\n], function (_, ExportCommandModel, commandsLang, teamLang) {\r\n\r\n  var ExportParticipantsCommand = ExportCommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: 'ExportParticipants',\r\n      name: commandsLang.CommandNameExportParticipants,\r\n      scope: 'multiple'\r\n    },\r\n\r\n    constructor: function () {\r\n      ExportCommandModel.prototype.constructor.call(this, arguments);\r\n    },\r\n\r\n    _exportHeader: function () {\r\n      var ret = '';\r\n      ret += '\"' + teamLang.participantNameColTitle.replace(/\"/g, '\"\"') + '\";';\r\n      ret += '\"' + teamLang.participantRolesColTitle.replace(/\"/g, '\"\"') + '\";';\r\n      ret += '\"' + teamLang.participantLoginColTitle.replace(/\"/g, '\"\"') + '\";';\r\n      ret += '\"' + teamLang.participantEmailColTitle.replace(/\"/g, '\"\"') + '\";';\r\n      ret += '\"' + teamLang.participantDepartmentColTitle.replace(/\"/g, '\"\"') + '\";';\r\n      return ret;\r\n    },\r\n\r\n    _exportModel: function (model) {\r\n      var ret = '\"';\r\n      ret += model.get('display_name') ? model.get('display_name').replace(/\"/g, '\"\"') :\r\n             model.get('name').replace(/\"/g, '\"\"');\r\n      ret += '\";\"' + model.getLeadingRole().replace(/\"/g, '\"\"') + ' ' +\r\n             model.getRolesIndicator().replace(/\"/g, '\"\"');\r\n      ret += '\";\"';\r\n      ret += model.get('name') ? model.get('name').replace(/\"/g, '\"\"') : '';\r\n      ret += '\";\"';\r\n      ret += model.get('business_email') ? model.get('business_email').replace(/\"/g, '\"\"') : '';\r\n      ret += '\";\"';\r\n      ret += model.get('group_name') ? model.get('group_name').replace(/\"/g, '\"\"') : '';\r\n      ret += '\";';\r\n      return ret;\r\n    }\r\n  });\r\n\r\n  return ExportParticipantsCommand;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('conws/utils/commands/showroles',[\r\n    'csui/lib/underscore',\r\n    'csui/models/command',\r\n    'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (_, CommandModel, lang) {\r\n\r\n    var ShowRolesCommand = CommandModel.extend({\r\n\r\n        defaults:{\r\n            signature: 'ShowRoles',\r\n            name: lang.CommandNameShowRoles,\r\n            scope: 'single'\r\n        },\r\n\r\n        enabled: function(status){\r\n            if (status && status.nodes && status.nodes.length === 1){\r\n                return true;\r\n            } else{\r\n                return false;\r\n            }\r\n        },\r\n\r\n        execute: function (status, options) {\r\n            throw new Error('The \\'' + this.get('signature') + '\\' action must be handled by the caller.');\r\n        }\r\n    });\r\n\r\n    return ShowRolesCommand;\r\n});\r\n\r\n\r\n\n","csui.define('conws/utils/commands/removeparticipant',[\r\n  'csui/lib/underscore',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/models/command',\r\n  'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (_, ModalAlert, CommandModel, lang) {\r\n\r\n  var RemoveParticipantCommand = CommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: 'RemoveParticipant',\r\n      name: lang.CommandNameRemoveParticipant,\r\n      scope: 'multiple'\r\n    },\r\n\r\n    enabled: function (status) {\r\n      if (status && status.nodes && status.nodes.length > 0) {\r\n        var allowed = true;\r\n        _.each(status.nodes.models, function (participant) {\r\n          if (!participant.canRemove()) {\r\n            allowed = false;\r\n          }\r\n        });\r\n        return allowed;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    execute: function (status, options) {\r\n\r\n      // format confirmation dialog title ...\r\n      var title = (status.nodes.length === 1)\r\n          ? lang.RemoveParticipantTitleSingle\r\n          : lang.RemoveParticipantTitleMultiple;\r\n      // ... and message\r\n      var message = lang.RemoveParticipantMessage;\r\n\r\n      // confirm and remove\r\n      var self = this;\r\n      ModalAlert.confirmQuestion(message, title)\r\n          .always(function (answer) {\r\n            if (answer) {\r\n              var count = status.nodes.length;\r\n              var error = false;\r\n              _.each(status.nodes.models, function (participant) {\r\n                participant.save({\r\n                  add: [],\r\n                  remove: participant.roles.models\r\n                }, {\r\n                  success: function (response) {\r\n                    // update collections when all participants are removed\r\n                    if ((--count) === 0) {\r\n                      self._refresh(status, error);\r\n                    }\r\n                  },\r\n                  error: function (response) {\r\n                    // update collections when all participants are removed\r\n                    error = true;\r\n                    if ((--count) === 0) {\r\n                      self._refresh(status, error);\r\n                    }\r\n                  }\r\n                });\r\n              });\r\n            }\r\n          });\r\n    },\r\n\r\n    _refresh: function (status, error) {\r\n      // notify on error\r\n      if (error === true) {\r\n        ModalAlert.showError(lang.RemoveParticipantErrorMessageDefault);\r\n      }\r\n      // refresh both collections\r\n      status.originatingView.roleCollection.fetch();\r\n      status.originatingView.participantCollection.fetch({\r\n        success: function () {\r\n          status.originatingView.participantCollection.setNewParticipant();\r\n\r\n          // trigger as custom event to signal the save of the collection\r\n          status.originatingView.participantCollection.trigger('saved', status.originatingView.participantCollection);\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  return RemoveParticipantCommand;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('conws/widgets/team/impl/commands/exportroles',[\r\n  'csui/lib/underscore',\r\n  'conws/utils/commands/export',\r\n  'i18n!conws/utils/commands/nls/commands.lang',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang'\r\n], function (_, ExportCommandModel, commandsLang, teamLang) {\r\n\r\n  var ExportRolesCommand = ExportCommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: 'ExportRoles',\r\n      name: commandsLang.CommandNameExportRoles,\r\n      scope: 'multiple'\r\n    },\r\n\r\n    constructor: function () {\r\n      ExportCommandModel.prototype.constructor.call(this, arguments);\r\n    },\r\n\r\n    _exportHeader: function () {\r\n      var ret = '';\r\n      ret += '\"' + teamLang.rolesNameColTitle.replace(/\"/g, '\"\"') + '\";';\r\n      ret += '\"' + teamLang.rolesParticipantsColTitle.replace(/\"/g, '\"\"') + '\";';\r\n      return ret;\r\n    },\r\n\r\n    _exportModel: function (model) {\r\n      var ret = '';\r\n      ret += '\"' + model.displayName().replace(/\"/g, '\"\"') + '\";';\r\n      ret += '\"' + model.displayMembers().replace(/\"/g, '\"\"') + '\";';\r\n      return ret;\r\n    }\r\n  });\r\n\r\n  return ExportRolesCommand;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('conws/utils/commands/showdetails',[\r\n    'csui/lib/underscore',\r\n    'csui/models/command',\r\n    'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (_, CommandModel, lang) {\r\n\r\n    var ShowDetailsCommand = CommandModel.extend({\r\n\r\n        defaults:{\r\n            signature: 'ShowDetails',\r\n            name: lang.CommandNameShowDetails,\r\n            scope: 'single'\r\n        },\r\n\r\n        enabled: function(status){\r\n            if (status && status.nodes && status.nodes.length === 1){\r\n                return true;\r\n            } else{\r\n                return false;\r\n            }\r\n        },\r\n\r\n        execute: function (status, options) {\r\n            throw new Error('The \\'' + this.get('signature') + '\\' action must be handled by the caller.');\r\n        }\r\n    });\r\n\r\n    return ShowDetailsCommand;\r\n});\r\n\r\n\r\n\n","csui.define('conws/utils/commands/deleterole',[\r\n  'csui/lib/underscore',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/models/command',\r\n  'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (_, ModalAlert, CommandModel, lang) {\r\n\r\n  var DeleteRoleCommand = CommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: 'DeleteRoles',\r\n      name: lang.CommandNameDeleteRole,\r\n      scope: 'multiple'\r\n    },\r\n\r\n    enabled: function (status) {\r\n      if (status && status.nodes && status.nodes.length > 0) {\r\n        // if at least one role doesn't allow deletion, disable the action\r\n        var allowed = true;\r\n        _.each(status.nodes.models, function (role) {\r\n          // is the user allowed to delete the role\r\n          if (!role.canDelete()) {\r\n            allowed = false;\r\n          }\r\n          // the leader role can only be deleted in case it is the one and only role\r\n          if ((role.get('leader') === true) && (role.collection.length > 1)) {\r\n            allowed = false;\r\n          }\r\n        });\r\n        return allowed;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    execute: function (status, options) {\r\n\r\n      // get the unique memberships that would be removed from the workspace\r\n      // if the roles they are member of are deleted.\r\n      var count = this._evaluateMembersRemoved(status).length;\r\n\r\n      // format confirmation dialog title ...\r\n      var title = (status.nodes.length === 1)\r\n          ? lang.DeleteRoleTitleSingle\r\n          : lang.DeleteRoleTitleMultiple;\r\n      // ... and message\r\n      var message = lang.DeleteRoleMessageNoParticipantsAffected;\r\n      if (count === 1) {\r\n        message = lang.DeleteRoleMessageParticipantsAffectedSingle;\r\n      } else if (count > 1) {\r\n        message = lang.DeleteRoleMessageParticipantsAffectedMultiple.replace('{0}', count);\r\n      }\r\n\r\n      // confirm and delete\r\n      var self = this;\r\n      ModalAlert.confirmQuestion(message, title)\r\n          .always(function (answer) {\r\n            if (answer) {\r\n              _.each(_.clone(status.nodes.models), function (model) {\r\n                model.destroy({\r\n                  wait: true,\r\n                  success: function () {\r\n                    if (status.nodes.length === 0) {\r\n                      self._refreshCollections(status);\r\n                    }\r\n                  }\r\n                });\r\n              });\r\n            }\r\n          });\r\n    },\r\n\r\n    _evaluateMembersRemoved: function (status) {\r\n      // get the collections\r\n      var participants = status.originatingView.participantCollection;\r\n      var roles = status.originatingView.roleCollection;\r\n\r\n      // get all participants from the roles to be deleted\r\n      var affectedParticipants = [];\r\n      _.each(status.nodes.models, function (role) {\r\n        role.members.each(function (member) {\r\n          affectedParticipants.push(member.get('id'));\r\n        });\r\n      });\r\n      affectedParticipants = _.uniq(affectedParticipants);\r\n\r\n      // get all participants from the roles not to be deleted\r\n      var unaffectedParticipants = [];\r\n      _.each(roles.models, function (role) {\r\n        if (status.nodes.findWhere({id: role.get('id')}) === undefined) {\r\n          // role isn't to be deleted, therefore get members\r\n          role.members.each(function (member) {\r\n            unaffectedParticipants.push(member.get('id'));\r\n          });\r\n        }\r\n      });\r\n      unaffectedParticipants = _.uniq(unaffectedParticipants);\r\n\r\n      // get the difference. the participants that are left\r\n      // over, are removed from the team.\r\n      var difference = _.difference(affectedParticipants, unaffectedParticipants);\r\n      return difference;\r\n    },\r\n\r\n    _refreshCollections: function (status) {\r\n      // refresh both collections\r\n      status.originatingView.roleCollection.fetch({\r\n           success: function() {\r\n             // trigger as custom event to signal the save of the collection\r\n             status.originatingView.participantCollection.trigger('saved', status.originatingView.participantCollection);\r\n           }\r\n          });\r\n\r\n    }\r\n  });\r\n\r\n  return DeleteRoleCommand;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('conws/widgets/team/impl/participants.toolbaritems',[\r\n  'module',\r\n  \"csui/controls/toolbar/toolitem.model\",\r\n  'csui/controls/toolbar/toolitems.factory',\r\n  'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (module, ToolItemModel, ToolItemsFactory, lang) {\r\n\r\n  var toolbarItems = {\r\n\r\n    otherToolbar: new ToolItemsFactory({\r\n          first: [\r\n            {\r\n              signature: \"AddParticipant\",\r\n              name: lang.CommandNameAddParticipant,\r\n              icon: \"binf-glyphicon binf-glyphicon-plus\"\r\n            }\r\n          ],\r\n          second: [\r\n            {\r\n              signature: \"PrintParticipants\",\r\n              name: lang.CommandNamePrintParticipants,\r\n              icon: \"binf-glyphicon binf-glyphicon-print\"\r\n            },\r\n            {\r\n              signature: \"ExportParticipants\",\r\n              name: lang.CommandNameExportParticipants,\r\n              icon: \"binf-glyphicon binf-glyphicon-download\"\r\n            }\r\n          ],\r\n          third: [\r\n            {\r\n              signature: \"ShowRoles\",\r\n              name: lang.CommandNameShowRoles\r\n            },\r\n            {\r\n              signature: \"RemoveParticipant\",\r\n              name: lang.CommandNameRemoveParticipant\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          maxItemsShown: 99,\r\n          dropDownIcon: \"icon icon-toolbar-more\"\r\n        })\r\n  };\r\n\r\n  return toolbarItems;\r\n\r\n});\r\n\n","csui.define('conws/widgets/team/impl/roles.toolbaritems',[\r\n  'module',\r\n  \"csui/controls/toolbar/toolitem.model\",\r\n  'csui/controls/toolbar/toolitems.factory',\r\n  'i18n!conws/utils/commands/nls/commands.lang'\r\n], function (module, ToolItemModel, ToolItemsFactory, lang) {\r\n\r\n  var toolbarItems = {\r\n\r\n    otherToolbar: new ToolItemsFactory({\r\n          first: [\r\n            {\r\n              signature: \"AddRole\",\r\n              name: lang.CommandNameAddRole,\r\n              icon: \"binf-glyphicon binf-glyphicon-plus\"\r\n            }\r\n          ],\r\n          second: [\r\n            {\r\n              signature: \"PrintRoles\",\r\n              name: lang.CommandNamePrintRoles,\r\n              icon: \"binf-glyphicon binf-glyphicon-print\"\r\n            },\r\n            {\r\n              signature: \"ExportRoles\",\r\n              name: lang.CommandNameExportRoles,\r\n              icon: \"binf-glyphicon binf-glyphicon-download\"\r\n            }\r\n          ],\r\n          third: [\r\n            {\r\n              signature: \"ShowDetails\",\r\n              name: lang.CommandNameShowDetails\r\n            },\r\n            {\r\n              signature: \"DeleteRoles\",\r\n              name: lang.CommandNameDeleteRole\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          maxItemsShown: 99,\r\n          dropDownIcon: \"icon icon-toolbar-more\"\r\n        })\r\n  };\r\n\r\n  return toolbarItems;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/filter/impl/filter',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"    <div class=\\\"filter-search\\\"></div>\\r\\n    <div class=\\\"filter-clear\\\"></div>\\r\\n    <div class=\\\"filter-icon\\\"></div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"conws-filter-header\\\">\\r\\n  <h3 class=\\\"header-caption\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.caption || (depth0 != null ? depth0.caption : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"caption\",\"hash\":{}}) : helper)))\n    + \"</h3>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.active : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_filter_impl_filter', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/filter/impl/filter.search',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<input id=\\\"filtersearch\\\" class=\\\"search\\\" type=\\\"search\\\" placeholder=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.caption || (depth0 != null ? depth0.caption : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"caption\",\"hash\":{}}) : helper)))\n    + \"\\\" style=\\\"display:none\\\"\\r\\n       value=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.filter || (depth0 != null ? depth0.filter : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"filter\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.tooltip || (depth0 != null ? depth0.tooltip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"tooltip\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_filter_impl_filter.search', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/filter/impl/filter.clear',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<span class=\\\"sbclearer formfield_clear\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.tooltip || (depth0 != null ? depth0.tooltip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"tooltip\",\"hash\":{}}) : helper)))\n    + \"\\\" style=\\\"display:none\\\"></span>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_filter_impl_filter.clear', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/filter/impl/filter.searchicon',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<span class=\\\"icon icon-search\\\" style=\\\"display: inline-block\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.tooltip || (depth0 != null ? depth0.tooltip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"tooltip\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_filter_impl_filter.searchicon', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/controls/filter/impl/filter',[],function(){});\n","csui.define('conws/widgets/team/impl/controls/filter/filter.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/widgets/team/impl/controls/filter/impl/filter.model',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/controls/filter/impl/filter',\r\n  'hbs!conws/widgets/team/impl/controls/filter/impl/filter.search',\r\n  'hbs!conws/widgets/team/impl/controls/filter/impl/filter.clear',\r\n  'hbs!conws/widgets/team/impl/controls/filter/impl/filter.searchicon',\r\n  'css!conws/widgets/team/impl/controls/filter/impl/filter'\r\n], function (_, $, Marionette, TabableRegionBehavior, LayoutViewEventsPropagationMixin, FilterModel,\r\n    lang, tplView, tplSearch, tplClear, tplIcon) {\r\n\r\n  var FilterSearch = Marionette.ItemView.extend({\r\n\r\n    template: tplSearch,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        caption: this.model.get('caption'),\r\n        filter: this.model.get('filter'),\r\n        tooltip: _.str.sformat(lang.searchPlaceholder, this.model.get('tooltip').toLowerCase())\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      search: '.search'\r\n    },\r\n\r\n    events: {\r\n      'keyup @ui.search': 'onSearchKeyUp'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function FilterSearch(options) {\r\n\r\n      // initialize filter model\r\n      if (!options.model) {\r\n        options.model = new FilterModel();\r\n      }\r\n\r\n      // apply marionette item view\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n\r\n      // listen to change of 'showSearch'\r\n      this.listenTo(this.model, 'change:showSearch', this.toggleSearch);\r\n      this.listenTo(this.model, 'change:filter', this.changeFilter);\r\n    },\r\n\r\n    onSearchKeyUp: function (e) {\r\n      e.stopPropagation();\r\n      if (e.keyCode === 27) {\r\n        // close filter\r\n        this.model.set('showSearch', !this.model.get('showSearch'));\r\n        this.triggerMethod('close');\r\n      } else {\r\n        // update filter\r\n        this.model.set('filter', this.ui.search.val());\r\n      }\r\n    },\r\n\r\n    toggleSearch: function () {\r\n      var self = this;\r\n\r\n      var show = self.model.get('showSearch');\r\n      if (show) {\r\n        // open and focus searchbox\r\n        self.ui.search.toggle('slide', {direction: 'right'}, 200, function () {\r\n          self.ui.search.prop('tabindex','0');\r\n          self.trigger('changed:focus', self);\r\n          self.ui.search.trigger('focus');\r\n        });\r\n      } else {\r\n        // clear filter and close searchbox\r\n        self.model.set('filter', '');\r\n        self.ui.search.prop('tabindex','-1');\r\n        self.ui.search.toggle('slide', {direction: 'right'}, 200);\r\n        this.triggerMethod('close');\r\n      }\r\n    },\r\n\r\n    changeFilter: function () {\r\n      // update the filter text\r\n      this.ui.search.val(this.model.get('filter'));\r\n    },\r\n\r\n    isTabable: function () {\r\n      return this.ui.search.is(':not(:disabled)') && this.ui.search.is(':not(:hidden)') &&\r\n             this.ui.search.is(':visible');\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      return this.ui.search;\r\n    }\r\n  });\r\n\r\n  var FilterClear = Marionette.ItemView.extend({\r\n\r\n    template: tplClear,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        tooltip: lang.searchClearIconTooltip\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      clear: '.sbclearer'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.clear': 'onClearClick',\r\n      'keyup @ui.clear': 'onClearKeyUp'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function FilterClear(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      // listen to change of 'filter'\r\n      this.listenTo(this.model, 'change:filter', this.toggleClear);\r\n    },\r\n\r\n    toggleClear: function () {\r\n      var filter = this.model.get('filter');\r\n      if (_.isString(filter) && filter.length !== 0) {\r\n        // show the clear button\r\n        this.ui.clear.prop('tabindex','0');\r\n        this.ui.clear.show();\r\n\r\n      } else {\r\n        // hide the clear button\r\n        this.ui.clear.prop('tabindex','-1');\r\n        this.ui.clear.hide();\r\n      }\r\n    },\r\n\r\n    onClearClick: function (e) {\r\n      this.model.set('filter', '');\r\n      this.triggerMethod('clear');\r\n    },\r\n\r\n    onClearKeyUp: function (e) {\r\n      if (e.keyCode === 13 || e.keyCode === 32) {\r\n        this.model.set('filter', '');\r\n        this.triggerMethod('clear');\r\n      }\r\n    },\r\n\r\n    isTabable: function () {\r\n      return this.ui.clear.is(':not(:disabled)') && this.ui.clear.is(':not(:hidden)') &&\r\n             this.ui.clear.is(':visible');\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      return this.ui.clear;\r\n    }\r\n  });\r\n\r\n  var FilterIcon = Marionette.ItemView.extend({\r\n\r\n    template: tplIcon,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        tooltip: _.str.sformat(lang.searchIconTooltip, this.model.get('tooltip'))\r\n      }\r\n    },\r\n\r\n    ui: {\r\n      icon: '.icon-search'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.icon': 'onSearchIconClick',\r\n      'keydown @ui.icon': 'onSearchIconKeyDown'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function FilterIcon(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    onSearchIconClick: function (e) {\r\n      this.model.set('showSearch', !this.model.get('showSearch'));\r\n    },\r\n\r\n    onSearchIconKeyDown: function (e) {\r\n      if (e.keyCode === 13 || e.keyCode === 32) {\r\n        this.model.set('showSearch', !this.model.get('showSearch'));\r\n      }\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      return this.ui.icon;\r\n    }\r\n  });\r\n\r\n  var FilterView = Marionette.LayoutView.extend({\r\n\r\n    template: tplView,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        caption: this.model.get('caption'),\r\n        active: this.model.get('active')\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      label: '.searchtext',\r\n      search: '.filter-search',\r\n      clear: '.filter-clear',\r\n      icon: '.filter-icon'\r\n    },\r\n\r\n    regions: {\r\n      searchRegion: '@ui.search',\r\n      clearRegion: '@ui.clear',\r\n      iconRegion: '@ui.icon'\r\n    },\r\n\r\n    constructor: function FilterView(options) {\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n\r\n      // listen to change of 'active' and 'showSearch'\r\n      this.listenTo(this.model, 'change:active', this.render);\r\n      this.listenTo(this.model, 'change:showSearch', this.toggleLabel);\r\n      this.listenTo(this, 'updateFocus', this.updateFocus);\r\n    },\r\n\r\n    onRender: function () {\r\n      // render the filter elements if active\r\n      var active = this.model.get('active');\r\n      if (active) {\r\n        // search box\r\n        this.searchView = new FilterSearch({model: this.model});\r\n        this.searchRegion.show(this.searchView);\r\n        this.listenTo(this.searchView, 'close', this.focusIcon);\r\n        // clear button\r\n        this.clearView = new FilterClear({model: this.model});\r\n        this.clearRegion.show(this.clearView);\r\n        this.listenTo(this.clearView, 'clear', this.focusSearch);\r\n        // seach button\r\n        this.iconView = new FilterIcon({\r\n          model: this.model,\r\n          initialActivationWeight: this.options.initialActivationWeight\r\n        });\r\n        this.iconRegion.show(this.iconView);\r\n      }\r\n    },\r\n\r\n    toggleLabel: function () {\r\n      var show = this.model.get('showSearch');\r\n      if (show) {\r\n        // hide the label\r\n        this.ui.label.hide();\r\n      } else {\r\n        // show the label\r\n        this.ui.label.show();\r\n      }\r\n    },\r\n\r\n    updateFocus: function () {\r\n      var show = this.model.get('showSearch');\r\n      if (show) {\r\n        this.searchView.trigger('changed:focus', this.searchView);\r\n        this.focusSearch();\r\n      } else {\r\n        this.focusIcon();\r\n      }\r\n    },\r\n\r\n    focusSearch: function () {\r\n      // focus search\r\n      this.searchView.currentlyFocusedElement().trigger('focus');\r\n    },\r\n\r\n    focusIcon: function(){\r\n      // focus icon\r\n      this.iconView.currentlyFocusedElement().trigger('focus');\r\n    }\r\n  });\r\n\r\n  // add event propagation mixin\r\n  _.extend(FilterView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  // return\r\n  return FilterView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list.remove',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data,blockParams,depths) {\n    var stack1;\n\n  return \"    <ul>\\r\\n\"\n    + ((stack1 = helpers.each.call(depth0,(depth0 != null ? depth0.setRoles : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":this.program(2, data, 0, blockParams, depths),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"    </ul>\\r\\n\";\n},\"2\":function(depth0,helpers,partials,data,blockParams,depths) {\n    var stack1;\n\n  return \"        <li class=\\\"conws-roles-remove-item\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.inherited_from_id : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0, blockParams, depths),\"inverse\":this.program(5, data, 0, blockParams, depths)})) != null ? stack1 : \"\")\n    + \"        </li>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper;\n\n  return \"            <div class=\\\"conws-roles-edit-canedit-setitem-inherit\\\">\\r\\n              <div class=\\\"conws-roles-edit-canedit-name\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n              <div class=\\\"conws-roles-edit-canedit-inherit\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depths[2] != null ? depths[2].captions : depths[2])) != null ? stack1.RoleInherited : stack1), depth0))\n    + \"</div>\\r\\n            </div>\\r\\n\";\n},\"5\":function(depth0,helpers,partials,data,blockParams,depths) {\n    var helper;\n\n  return \"            <div class=\\\"conws-roles-edit-canedit-setitem conws-roles-edit-itemaction-remove\\\">\\r\\n              <div class=\\\"conws-roles-edit-canedit-name\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n              <a href=\\\"#\\\" class=\\\"csui-icon inline-edit-icon binf-close\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n                 title=\\\"\"\n    + this.escapeExpression(this.lambda((depths[2] != null ? depths[2].removeRole : depths[2]), depth0))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(this.lambda((depths[2] != null ? depths[2].removeRole : depths[2]), depth0))\n    + \"\\\"></a>\\r\\n            </div>\\r\\n\";\n},\"7\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.removeParticipant : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(8, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"8\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"      <div class=\\\"conws-roles-edit-canedit-empty\\\">\\r\\n        <span class=\\\"csui-icon csui-icon-notification-warning\\\"\\r\\n              title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.captions : depth0)) != null ? stack1.RemoveParticipantWarning : stack1), depth0))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.captions : depth0)) != null ? stack1.RemoveParticipantWarning : stack1), depth0))\n    + \"\\\">\\r\\n        </span>\\r\\n        <div class=\\\"conws-roles-edit-canedit-empty-text\\\">\\r\\n          <h2>\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.captions : depth0)) != null ? stack1.RemoveParticipant1 : stack1), depth0))\n    + \"</h2>\\r\\n          <h4>\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.captions : depth0)) != null ? stack1.RemoveParticipant2 : stack1), depth0))\n    + \"</h4>\\r\\n        </div>\\r\\n      </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data,blockParams,depths) {\n    var stack1;\n\n  return \"<div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.setRoles : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0, blockParams, depths),\"inverse\":this.program(7, data, 0, blockParams, depths)})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\";\n},\"useDepths\":true});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_participants_impl_roles.edit.list.remove', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list.remove.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/controls/globalmessage/globalmessage' /* needed for style csui-icon-notification-warning */,\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'conws/widgets/team/impl/behaviors/list.keyboard.behavior',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list.remove',\r\n], function (_, $, Marionette, Handlebars, GlobalMessage, TabableRegionBehavior, ListKeyboardBehavior,\r\n    lang, template) {\r\n\r\n  var RolesEditRemoveList = Marionette.LayoutView.extend({\r\n\r\n    // CSS class names\r\n    className: 'conws-roles-edit-remove-list',\r\n\r\n    template: template,\r\n\r\n    // filter model\r\n    filterModel: {},\r\n\r\n    // constructor for the Roles remove list\r\n    constructor: function RolesEditRemoveList(options) {\r\n      options || (options = {});\r\n\r\n      // the model has to be a RolesCollection with the filterList method\r\n      this.model = options.model;\r\n      // filterModel is the FilterModel with the filter criteria\r\n      this.filterModel = options.filterModel;\r\n      //used for accessibility\r\n      this.selectedIndex = 0;\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    ui: {\r\n      item: '.conws-roles-edit-itemaction-remove a',\r\n      focusedItem: 'li'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.item': 'itemRemove',\r\n      'click @ui.focusedItem': 'itemRemove',\r\n      'keydown': 'onKeyDownExt'\r\n    },\r\n\r\n    // localized captions\r\n    captions: {\r\n      RemoveParticipant1: lang.rolesDialogRemoveParticipant1,\r\n      RemoveParticipant2: lang.rolesDialogRemoveParticipant2,\r\n      RemoveParticipantWarning: lang.rolesDialogRemoveParticipantWarning,\r\n      RoleInherited: lang.rolesNameColInherited\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n      ListKeyboard: {\r\n        behaviorClass: ListKeyboardBehavior\r\n      }\r\n    },\r\n\r\n    // support up/down navigation\r\n    onKeyDownExt: function (e) {\r\n      var $preElem = this.currentlyFocusedElement();\r\n\r\n      switch (e.keyCode) {\r\n      case 38: // up\r\n        this.calculateSelectedIndex();\r\n        this._moveTo(e, this._selectPrevious(), $preElem);\r\n        break;\r\n      case 40: // down\r\n        this.calculateSelectedIndex();\r\n        this._moveTo(e, this._selectNext(), $preElem);\r\n        break;\r\n      case 13:\r\n      case 32:\r\n      case 46:\r\n        this.currentlyFocusedElement().trigger('click', e);\r\n        break;\r\n      }\r\n    },\r\n\r\n    initialize: function () {\r\n      // listen on the change of the filter\r\n      this.listenTo(this.filterModel, 'change', this.render);\r\n      this.listenTo(this.filterModel, 'change:filter', function () {\r\n        // when search filter changes, reset the focus element to the first item\r\n        this.selectedIndex = 0;\r\n      });\r\n      // listen on the change of the focus\r\n      this.listenTo(this, 'updateFocus', this.updateFocus);\r\n      // listen on the model changes\r\n      this.listenTo(this.model, 'add change reset remove', this.render);\r\n    },\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      return {\r\n        removeRole: lang.rolesDialogRemoveRole,\r\n        setRoles: this.model.filterList(this.filterModel.get('filter')).toJSON(),\r\n        removeParticipant: this.model.length === 0,\r\n        captions: this.captions\r\n      }\r\n    },\r\n\r\n    calculateSelectedIndex: function () {\r\n      var keywords = this.filterModel.get('filter');\r\n      if (keywords.length) {\r\n        this.totalCount = this.model.filterList(keywords).models.length;\r\n        if (this.selectedIndex !== 0 && this.selectedIndex === this.totalCount - 1) {\r\n          this.selectedIndex = this.selectedIndex - 1;\r\n        }\r\n      } else {\r\n        this.totalCount = this.model.length;\r\n      }\r\n    },\r\n\r\n    updateFocus:function(){\r\n      this.trigger('changed:focus', this);\r\n      this.currentlyFocusedElement().trigger('focus');\r\n    },\r\n\r\n    // Click on the remove button\r\n    // remove the selected item from the collection\r\n    itemRemove: function (event) {\r\n      var target = $(event.currentTarget);\r\n      var id = target.data(\"id\");\r\n\r\n      // if the remove action is called from keyboard the current element is <div> and not <a>\r\n      if( _.isUndefined(id) && target.find(this.ui.item)){\r\n        id = $(event.currentTarget).find(this.ui.item).data('id')\r\n      }\r\n\r\n      //calculate new selected index\r\n      this.calculateSelectedIndex();\r\n      // remove model\r\n      this.model.remove(id);\r\n\r\n      // don't propagate click event into name cell, because it would cause selecting the row\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n  })\r\n\r\n  return RolesEditRemoveList;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"            <li class=\\\"conws-roles-edit-item\\\">\\r\\n              <div>\\r\\n                <a href=\\\"#\\\" class=\\\"conws-roles-edit-itemaction-select conws-roles-edit-canedit-selectitem\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\"><span title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</span></a>\\r\\n              </div>\\r\\n            </li>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div>\\r\\n    <ul>\\r\\n\"\n    + ((stack1 = helpers.each.call(depth0,(depth0 != null ? depth0.allRoles : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"    </ul>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_participants_impl_roles.edit.list', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'conws/widgets/team/impl/behaviors/list.keyboard.behavior',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list'\r\n], function (_, $, Marionette, Handlebars, TabableRegionBehavior, ListKeyboardBehavior,\r\n    lang, template) {\r\n\r\n  var RolesEditList = Marionette.LayoutView.extend({\r\n\r\n    // CSS class names\r\n    className: 'conws-roles-edit-list',\r\n\r\n    template: template,\r\n\r\n    // filter model\r\n    filterModel: {},\r\n\r\n    // constructor for the Roles list\r\n    constructor: function RolesEditList(options) {\r\n      options || (options = {});\r\n\r\n      // the model has to be a RolesCollection with the filterList method\r\n      this.model = options.model;\r\n      // filterModel is the FilterModel with the filter criteria\r\n      this.filterModel = options.filterModel;\r\n      //used for accessibility\r\n      this.selectedIndex = 0;\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    ui: {\r\n      select: 'a.conws-roles-edit-itemaction-select'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.select': 'itemSelect',\r\n      'click li': 'itemSelect',\r\n      'dragstart @ui.select': 'itemDrag',\r\n      'keydown': 'onKeyDownExt'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n      ListKeyboard: {\r\n        behaviorClass: ListKeyboardBehavior\r\n      }\r\n    },\r\n\r\n    // support up/down navigation\r\n    onKeyDownExt: function (e) {\r\n      var $preElem = this.currentlyFocusedElement();\r\n\r\n      switch (e.keyCode) {\r\n      case 38: // up\r\n        this.calculateSelectedIndex();\r\n        this._moveTo(e, this._selectPrevious(), $preElem);\r\n        break;\r\n      case 40: // down\r\n        this.calculateSelectedIndex();\r\n        this._moveTo(e, this._selectNext(), $preElem);\r\n        break;\r\n      case 13:\r\n      case 32:\r\n        this.currentlyFocusedElement().trigger('click', e);\r\n        break;\r\n      }\r\n    },\r\n\r\n    initialize: function () {\r\n      // listen on the change of the filter\r\n      this.listenTo(this.filterModel, 'change', this.render);\r\n      this.listenTo(this.filterModel, 'change:filter', function () {\r\n        // when search filter changes, reset the focus element to the first item\r\n        this.selectedIndex = 0;\r\n      });\r\n      // listen on the model changes\r\n      this.listenTo(this.model, 'add change reset remove', this.render);\r\n      this.listenTo(this, 'updateFocus', this.updateFocus);\r\n    },\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      return {\r\n        allRoles: this.model.filterList(this.filterModel.get('filter')).toJSON()\r\n      }\r\n    },\r\n\r\n    calculateSelectedIndex: function () {\r\n      var keywords = this.filterModel.get('filter');\r\n      if (keywords.length) {\r\n        this.totalCount = this.model.filterList(keywords).models.length;\r\n        if (this.selectedIndex !== 0 && this.selectedIndex === this.totalCount - 1) {\r\n          this.selectedIndex = this.selectedIndex - 1;\r\n        }\r\n      } else {\r\n        this.totalCount = this.model.length;\r\n      }\r\n    },\r\n\r\n    updateFocus:function(){\r\n      this.trigger('changed:focus', this);\r\n      this.currentlyFocusedElement().trigger('focus');\r\n    },\r\n\r\n    // Click on an item in the available list\r\n    // mark the item as selected and add it to the selected items list\r\n    itemSelect: function (event) {\r\n      var target = $(event.currentTarget);\r\n      var id = target.data(\"id\");\r\n\r\n      // if the remove action is called from keyboard the current element is <div> and not <a>\r\n      if( _.isUndefined(id) && target.find(this.ui.select).length > 0){\r\n        id = $(event.currentTarget).find(this.ui.select).data('id')\r\n      }\r\n\r\n      //calculate new selected index\r\n      this.calculateSelectedIndex();\r\n      //remove model\r\n      this.model.remove(id);\r\n\r\n      // don't propagate click event into name cell, because it would cause selecting the row\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n    },\r\n\r\n    // Prevent the drag function for the link element\r\n    itemDrag: function (event) {\r\n      return false;\r\n    }\r\n  });\r\n\r\n  return RolesEditList;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.readonly.list',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"      <li class=\\\"conws-roles-readonly-item\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\"><span>\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</span></li>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper, options, buffer = \n  \"<div>\\r\\n  <ul>\\r\\n\";\n  stack1 = ((helper = (helper = helpers.roles || (depth0 != null ? depth0.roles : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"roles\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop}),(typeof helper === \"function\" ? helper.call(depth0,options) : helper));\n  if (!helpers.roles) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"  </ul>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_participants_impl_roles.readonly.list', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/cells/roles/impl/roles',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/participants/impl/roles.readonly.list.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'conws/widgets/team/impl/behaviors/list.keyboard.behavior',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.readonly.list',\r\n  'css!conws/widgets/team/impl/cells/roles/impl/roles'\r\n], function (_, $, Marionette, Handlebars, TabableRegionBehavior, ListKeyboardBehavior,\r\n    lang, template) {\r\n\r\n  var RolesReadOnlyList = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n      ListKeyboard: {\r\n        behaviorClass: ListKeyboardBehavior\r\n      }\r\n    },\r\n\r\n    // constructor for the readonly roles list\r\n    constructor: function RolesReadOnlyList(options) {\r\n\r\n      //used for accessibility\r\n      this.selectedIndex = 0;\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      return {\r\n        roles: this.model.toJSON()\r\n      }\r\n    }\r\n  });\r\n\r\n  return RolesReadOnlyList;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.edit',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"      <div class=\\\"conws-roles-edit-canedit\\\">\\r\\n        <div\\r\\n            class=\\\"conws-roles-edit-canedit-left conws-roles-edit-left conws-roles-edit-canedit-separator\\\">\\r\\n          <div class=\\\"conws-roles-edit-canedit-header\\\">\\r\\n            <div class=\\\"conws-roles-edit-canedit-setroles-region\\\"></div>\\r\\n          </div>\\r\\n          <div class=\\\"conws-roles-edit-canedit-content\\\">\\r\\n            <div class=\\\"conws-roles-edit-canedit-setroles-list-region\\\"></div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"conws-roles-edit-canedit-right conws-roles-edit-right\\\">\\r\\n          <div class=\\\"conws-roles-edit-canedit-header\\\">\\r\\n            <div class=\\\"conws-roles-edit-canedit-allroles-region\\\"></div>\\r\\n          </div>\\r\\n          <div class=\\\"conws-roles-edit-canedit-content\\\">\\r\\n            <div class=\\\"conws-roles-edit-canedit-allroles-list-region\\\"></div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    return \"      <div class=\\\"conws-roles-edit-readonly\\\">\\r\\n        <div class=\\\"conws-roles-readonly-region\\\"></div>\\r\\n      </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"binf-modal-content\\\">\\r\\n  <div class=\\\"binf-modal-header\\\">\\r\\n    <h2 class=\\\"binf-modal-title\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"</h2>\\r\\n  </div>\\r\\n  <div class=\\\"binf-modal-body\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.canEdit : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(3, data, 0)})) != null ? stack1 : \"\")\n    + \"  </div>\\r\\n  <div class=\\\"conws-roles-edit-buttons-region\\\"></div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_participants_impl_roles.edit', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/dialogs/participants/impl/roles.edit',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/participants/roles.edit.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'conws/widgets/team/impl/controls/filter/filter.view',\r\n  'conws/widgets/team/impl/controls/filter/impl/filter.model',\r\n  'conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list.remove.view',\r\n  'conws/widgets/team/impl/dialogs/participants/impl/roles.edit.list.view',\r\n  'conws/widgets/team/impl/dialogs/participants/impl/roles.readonly.list.view',\r\n  'conws/widgets/team/impl/controls/footer/footer.view',\r\n  'conws/widgets/team/impl/roles.model.expanded',\r\n  'conws/widgets/team/impl/participants.model',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/participants/impl/roles.edit',\r\n  'conws/widgets/team/impl/roles.model',\r\n  'css!conws/widgets/team/impl/dialogs/participants/impl/roles.edit',\r\n  'css!conws/widgets/team/impl/cells/roles/impl/roles'\r\n], function (_, $, Backbone, Marionette, Handlebars, ModalAlert, LayoutViewEventsPropagationMixin,\r\n    TabableRegionBehavior, Filter, FilterModel, RolesRemoveList, RolesEditList, RolesReadOnlyList,\r\n    FooterView, RolesCollection, ParticipantsCollection, lang,\r\n    template, RolesModelCollection) {\r\n\r\n  var ButtonLabels = {\r\n    Close: lang.rolesDialogButtonClose,\r\n    Save: lang.rolesDialogButtonSave,\r\n    Cancel: lang.rolesDialogButtonCancel,\r\n    Reset: lang.rolesDialogButtonReset,\r\n    Remove: lang.rolesDialogButtonRemove\r\n  };\r\n\r\n  var RolesEditView = Marionette.LayoutView.extend({\r\n\r\n    // Roles count when filtering should be possible\r\n    rolesCountForFilter: 15,\r\n\r\n    // Modified flag to indicate changes\r\n    modified: false,\r\n\r\n    // temporary roles lists for the view\r\n    availableRoles: new RolesModelCollection(),\r\n    assignedRoles: new RolesModelCollection(),\r\n\r\n    // filter models to handle the reset action\r\n    filterModel1: undefined,\r\n    filterModel2: undefined,\r\n\r\n    // constructor for the RolesEdit dialog\r\n    constructor: function RolesEditView(options) {\r\n      options || (options = {});\r\n\r\n      this.teamRoles = options.roleCollection;\r\n      this.teamParticipants = options.participantCollection;\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      assignedRolesHeaderRegion: '.conws-roles-edit-canedit-setroles-region',\r\n      assignedRolesListRegion: '.conws-roles-edit-canedit-setroles-list-region',\r\n      availableRolesHeaderRegion: '.conws-roles-edit-canedit-allroles-region',\r\n      availableRolesListRegion: '.conws-roles-edit-canedit-allroles-list-region',\r\n      readonlyRolesListRegion: '.conws-roles-readonly-region',\r\n      buttonsRegion: '.conws-roles-edit-buttons-region'\r\n    },\r\n\r\n    ui: {\r\n      footer: '.conws-roles-edit-buttons-region'\r\n    },\r\n\r\n    // localized captions\r\n    captions: {\r\n      AssignedRoles: lang.rolesDialogAssignedRoles,\r\n      TooltipAssignedRoles: lang.rolesDialogTooltipAssignedRoles,\r\n      AvailableRoles: lang.rolesDialogAvailableRoles,\r\n      TooltipAvailableRoles: lang.rolesDialogTooltipAvailableRoles\r\n    },\r\n\r\n    // initialize the view and prepare the model objects\r\n    initialize: function () {\r\n\r\n      if (_.isUndefined(this.model)) {\r\n        return;\r\n      }\r\n\r\n      // create a new collection for the dialog\r\n      this.assignedRoles.reset(this.model.roles.models);\r\n\r\n      // create a new collection with all roles for the dialog\r\n      var tmp = this.model.collection.availableRoles.clone();\r\n      // reduce the all roles list to the not to this user assigned list\r\n      tmp.remove(this.assignedRoles.models);\r\n\r\n      // remove all inherited roles from the available list\r\n      var notInheritedRoles = tmp.filter(function (m) {\r\n        var id = m.get('inherited_from_id');\r\n        return _.isUndefined(id) || _.isNull(id);\r\n      });\r\n\r\n      // reset the availableRoles list\r\n      this.availableRoles.reset(notInheritedRoles);\r\n\r\n      if (!_.isUndefined(this.filterModel1)) {\r\n        this.filterModel1.set('resetFilter', true);\r\n      }\r\n\r\n      if (!_.isUndefined(this.filterModel2)) {\r\n        this.filterModel2.set('resetFilter', true);\r\n      }\r\n\r\n      // no changes are made on the data\r\n      this.modified = false;\r\n\r\n      // prepare the states for the button bar\r\n      this.setDialogState();\r\n\r\n      // setup the listener for changing the lists\r\n      this.listenTo(this.assignedRoles, 'remove', this.removeAssignedRole);\r\n      this.listenTo(this.availableRoles, 'remove', this.addAvailableRole);\r\n    },\r\n\r\n    // remove an assigned role\r\n    // the role is removed in the list view, now add it to the available list and update the dialog state\r\n    removeAssignedRole: function (model) {\r\n      var r = model;\r\n      this.availableRoles.add(r);\r\n\r\n      // changes are made on the data\r\n      this.modified = true;\r\n\r\n      this.setDialogState();\r\n\r\n      // set automatically focus to next region\r\n      if (this.assignedRoles.length === 0) {\r\n        this.filterModel2.get('active') ?\r\n        this.availableRolesHeaderRegion.currentView.trigger('updateFocus') :\r\n        this.availableRolesListRegion.currentView.trigger('updateFocus');\r\n      } else if (this.assignedRolesListRegion.currentView.totalCount - 1 === 0 &&\r\n                 this.filterModel1.get('active')) {\r\n        this.assignedRolesHeaderRegion.currentView.trigger('updateFocus');\r\n      }\r\n    },\r\n\r\n    // add an available role\r\n    // the role is removed in the list view, now add it to the assigned list and update the dialog state\r\n    addAvailableRole: function (model) {\r\n      var r = model;\r\n      this.assignedRoles.add(r);\r\n\r\n      // changes are made on the data\r\n      this.modified = true;\r\n\r\n      this.setDialogState();\r\n\r\n      // set automatically focus to previous region\r\n      if (this.availableRoles.length === 0) {\r\n        this.filterModel1.get('active') ?\r\n        this.assignedRolesHeaderRegion.currentView.trigger('updateFocus') :\r\n        this.assignedRolesListRegion.currentView.trigger('updateFocus');\r\n      } else if (this.availableRolesListRegion.currentView.totalCount - 1 === 0 &&\r\n                 this.filterModel2.get('active')) {\r\n        this.availableRolesHeaderRegion.currentView.trigger('updateFocus');\r\n      }\r\n    },\r\n\r\n    // this method sets the state for the dialog\r\n    setDialogState: function () {\r\n      //enable or disable the filter if no selection functions depending on the list length\r\n      if (!_.isUndefined(this.filterModel1) && _.isEmpty(this.filterModel1.get('filter'))) {\r\n        this.filterModel1.set('active', this.assignedRoles.length >= this.rolesCountForFilter);\r\n      }\r\n      if (!_.isUndefined(this.filterModel2) && _.isEmpty(this.filterModel2.get('filter'))) {\r\n        this.filterModel2.set('active', this.availableRoles.length >= this.rolesCountForFilter);\r\n      }\r\n      if (!_.isUndefined(this.editRolesButtons)) {\r\n        this.editRolesButtons.collection.findWhere({id: 'submit'}).set({disabled: !this.modified});\r\n        this.assignedRoles.length > 0 ?\r\n        this.editRolesButtons.collection.findWhere({id: 'submit'}).set({label: ButtonLabels.Save}) :\r\n        this.editRolesButtons.collection.findWhere({id: 'submit'}).set({label: ButtonLabels.Remove});\r\n      }\r\n    },\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      var self = this;\r\n      // get roles and create a caption name out of it\r\n      var titleTemplate = lang.userRolesDialogTitle;\r\n      if (this.model.getMemberType() === 'group') {\r\n        titleTemplate = lang.groupRolesDialogTitle;\r\n      }\r\n      var value = _.str.sformat(titleTemplate, this.model.get('display_name'));\r\n\r\n      // return the prepared object with the necessary properties\r\n      return {\r\n        title: value,\r\n        canEdit: this.model.canEdit()\r\n      };\r\n    },\r\n\r\n    // Update the scrollbars for the roles list, if the list has changed.\r\n    updateScrollbar: function () {\r\n      // scroll to top as the function is\r\n      // called from within 'onShown'.\r\n      var sc1 = this.$el.find('.binf-modal-body .conws-roles-edit-readonly');\r\n      _.each(sc1, function (sc) {\r\n        $(sc).perfectScrollbar('update');\r\n      })\r\n\r\n      var sc2 = this.$el.find('.conws-roles-edit-canedit-content');\r\n      _.each(sc2, function (sc) {\r\n        $(sc).perfectScrollbar('update');\r\n      })\r\n    },\r\n\r\n    // show the dialog\r\n    // enable the scrollbars for the different lists, the scrollbars maintained here because of event issues with the regions\r\n    onAfterShow: function () {\r\n      // initialize scrollbar\r\n      this.$el.find('.binf-modal-body .conws-roles-edit-readonly').perfectScrollbar({\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15 // like bottom padding of container, otherwise scrollbar is shown always\r\n      });\r\n      // initialize scrollbar\r\n      this.$el.find('.conws-roles-edit-canedit-content').perfectScrollbar({\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15 // like bottom padding of container, otherwise scrollbar is shown always\r\n      });\r\n      // update scrollbars\r\n      this.updateScrollbar();\r\n\r\n    },\r\n\r\n    // The view is rendered whenever the model changes.\r\n    onRender: function () {\r\n      // render widget if the dialog is opened in the edit mode\r\n      if (this.model.canEdit()) {\r\n        // list with all set roles\r\n        this.filterModel1 = new FilterModel({\r\n          caption: this.captions.AssignedRoles,\r\n          tooltip: this.captions.TooltipAssignedRoles,\r\n          active: (this.assignedRoles.length >= this.rolesCountForFilter)\r\n        });\r\n        this.assignedRolesHeaderRegion.show(new Filter({\r\n          model: this.filterModel1,\r\n          initialActivationWeight: this.assignedRoles.length >= this.rolesCountForFilter ? 100 : 0\r\n        }));\r\n        this.assignedRolesListRegion.show(new RolesRemoveList({\r\n          model: this.assignedRoles,\r\n          filterModel: this.filterModel1,\r\n          initialActivationWeight: this.assignedRoles.length > 0 ? 100 : 0\r\n        }));\r\n        this.listenTo(this.assignedRolesListRegion.currentView, 'dom:refresh',\r\n            this.updateScrollbar);\r\n\r\n        // list with filter header and all available roles\r\n        this.filterModel2 = new FilterModel({\r\n          caption: this.captions.AvailableRoles,\r\n          tooltip: this.captions.TooltipAvailableRoles,\r\n          active: (this.availableRoles.length >= this.rolesCountForFilter)\r\n        });\r\n        this.availableRolesHeaderRegion.show(new Filter({model: this.filterModel2}));\r\n        this.availableRolesListRegion.show(new RolesEditList({\r\n          model: this.availableRoles,\r\n          filterModel: this.filterModel2\r\n        }));\r\n        this.listenTo(this.availableRolesListRegion.currentView, 'dom:refresh',\r\n            this.updateScrollbar);\r\n      } else {\r\n        this.readonlyRolesListRegion.show(new RolesReadOnlyList({\r\n          model: this.model.roles,\r\n          initialActivationWeight: this.model.roles.length > 0 ? 100 : 0\r\n        }));\r\n      }\r\n\r\n      //render footer\r\n      this._renderFooter();\r\n\r\n    },\r\n\r\n    // Click on the save button\r\n    saveClicked: function () {\r\n      var self = this;\r\n      //Get the actual Participantslist of Server - then verify if the roles of this\r\n      // User are still the same as before, only when they are the same - save will be done\r\n      var actServerParticipants = new ParticipantsCollection(undefined, {\r\n        connector: self.model.collection.connector,\r\n        node: self.model.collection.node,\r\n        context: self.model.collection.workspaceContext,\r\n        autoreset: true\r\n      });\r\n      actServerParticipants.fetch({\r\n        success: function (ParticpantsCol) {\r\n          var actParticipant = ParticpantsCol.find(function (participantfind) {\r\n            return (participantfind.get('id') === self.model.get('id'));\r\n          });\r\n          var dataChanged;\r\n          //the participant might not be in the collection anymore at all and\r\n          //check wether the user has still the same number of roles as before\r\n          if ((actParticipant) && (actParticipant.roles.length === self.model.roles.length)) {\r\n            dataChanged = false;\r\n            actParticipant.roles.each(function (role) {\r\n              var id = role.id;\r\n              //every role from the server is checked against the server roles from before\r\n              var found = self.model.roles.find(function (role2) {\r\n                return (role2.id === id);\r\n              });\r\n              if (!found) {\r\n                dataChanged = true;\r\n              }\r\n            })\r\n          }\r\n          if (dataChanged === false) {\r\n            //save data from the dialog\r\n            self.saveRolesForUser();\r\n          }\r\n          else {\r\n            //show an alert with the message that the data was changed\r\n            var message = lang.rolesEditDialogDataNotUptoDateUser;\r\n            if (self.model.getMemberType() === 'group') {\r\n              message = lang.rolesEditDialogDataNotUptoDateGroup;\r\n            }\r\n            ModalAlert.showError(message, self.getErrorMessageTitle()).always(\r\n                function (result) {\r\n                  self.refreshAfterSave();\r\n                });\r\n          }\r\n        }\r\n      });\r\n\r\n    },\r\n\r\n    // Collect the changes and send them to the model\r\n    saveRolesForUser: function () {\r\n      var self = this;\r\n      var removed = [];\r\n      this.model.roles.each(function (role) {\r\n        var id = role.id;\r\n        //the assignedRoles list is the one on the dialog and the this.model.roles is the original assigned roles\r\n        //the original assigned roles are checked against the actual list and whatever isn't\r\n        // found anymore will be deleted\r\n        var found = self.assignedRoles.find(function (role2) {\r\n          return (role2.id === id);\r\n        });\r\n\r\n        if (!found) {\r\n          removed.push(role);\r\n        }\r\n      });\r\n\r\n      var added = [];\r\n      // for every item role on the dialog is now checked if they are in the original list\r\n      // if not it will be added\r\n      this.assignedRoles.each(function (role) {\r\n        var id = role.id;\r\n\r\n        var found = self.model.roles.find(function (role2) {\r\n          return (role2.id === id);\r\n        });\r\n\r\n        if (!found) {\r\n          added.push(role);\r\n        }\r\n      });\r\n\r\n      this.model.save({add: added, remove: removed}, {\r\n        success: function (response) {\r\n          self.refreshAfterSave();\r\n        },\r\n        error: function (response) {\r\n\r\n          // show an alert with the error messages\r\n          // prepare the message\r\n          var message = '';\r\n          if (response.successAdd.length > 0) {\r\n            var rolesAdded = lang.rolesEditDialogSuccessfulAdded;\r\n            _.each(response.successAdd, function (role) {\r\n              rolesAdded = rolesAdded + '\\n' + role.role.get('name');\r\n            });\r\n\r\n            message = rolesAdded;\r\n          }\r\n\r\n          if (response.errorAdd.length > 0) {\r\n            var rolesNotAdded = lang.rolesEditDialogNotAdded;\r\n            _.each(response.errorAdd, function (role) {\r\n              rolesNotAdded = rolesNotAdded + '\\n' + role.role.get('name');\r\n            });\r\n\r\n            if (message.length > 0) {\r\n              message += '\\n';\r\n            }\r\n\r\n            message = message + rolesNotAdded;\r\n          }\r\n\r\n          if (response.successRemove.length > 0) {\r\n            var rolesRemoved = lang.rolesEditDialogSuccessfulRemoved;\r\n            _.each(response.successRemove, function (role) {\r\n              rolesRemoved = rolesRemoved + '\\n' + role.role.get('name');\r\n            });\r\n\r\n            if (message.length > 0) {\r\n              message += '\\n';\r\n            }\r\n\r\n            message = message + rolesRemoved;\r\n          }\r\n\r\n          if (response.errorRemove.length > 0) {\r\n            var rolesNotRemoved = lang.rolesEditDialogNotRemoved;\r\n            _.each(response.errorRemove, function (role) {\r\n              rolesNotRemoved = rolesNotRemoved + '\\n' + role.role.get('name');\r\n            });\r\n\r\n            if (message.length > 0) {\r\n              message += '\\n';\r\n            }\r\n\r\n            message = message + rolesNotRemoved;\r\n          }\r\n\r\n          ModalAlert.showError(message, self.getErrorMessageTitle()).always(function (result) {\r\n            self.refreshAfterSave();\r\n          });\r\n        }\r\n      });\r\n    },\r\n\r\n    //prepare header for message\r\n    getErrorMessageTitle: function () {\r\n      var titleTemplate = lang.rolesEditDialogErrorTitleUser;\r\n      if (this.model.getMemberType() === 'group') {\r\n        titleTemplate = lang.rolesEditDialogErrorTitleGroup;\r\n      }\r\n      var title = _.str.sformat(titleTemplate,\r\n          this.model.get('display_name') ? this.model.get('display_name') :\r\n          this.model.get('name'));\r\n      return title;\r\n    },\r\n\r\n    refreshAfterSave: function () {\r\n      var self = this;\r\n\r\n      function afterRolesFetch() {\r\n        // send event as late as possible, so caller can do something after dialog has been closed\r\n        // see roles.view cell for a usage.\r\n        self.trigger('refetched');\r\n      }\r\n\r\n      function afterFetch() {\r\n        // trigger save event to signal the save of the collection\r\n        self.teamParticipants.trigger('saved', self.teamParticipants);\r\n        // refresh the roles collection\r\n        self.teamRoles.fetch().then(afterRolesFetch,afterRolesFetch);\r\n      }\r\n\r\n      // refresh the participant collection\r\n      this.teamParticipants.fetch({\r\n        success: function () {\r\n          self.teamParticipants.setNewParticipant();\r\n        }\r\n      }).then(afterFetch,afterFetch);\r\n    },\r\n\r\n    // Click on the reset button\r\n    // Re-render the view parts via the change of the models\r\n    resetClicked: function () {\r\n\r\n      // reset the current changes\r\n      this.initialize();\r\n\r\n    },\r\n\r\n    _renderFooter: function(){\r\n      var editRolesButtons = this.editRolesButtons;\r\n      //add buttons\r\n      if (editRolesButtons) {\r\n        this.ui.footer.removeClass('binf-hidden');\r\n        this.buttonsRegion.show(editRolesButtons);\r\n      } else {\r\n        var buttons = [];\r\n        if (this.model.canEdit()) {\r\n          buttons = [{\r\n            id: 'reset',\r\n            label: ButtonLabels.Reset,\r\n            css: 'conws-roles-edit-button binf-pull-left conws-roles-edit-button-reset',\r\n            click: _.bind(this.resetClicked, this)\r\n          }, {\r\n            id: 'submit',\r\n            label: ButtonLabels.Save,\r\n            css:'conws-roles-edit-button conws-roles-edit-button-save',\r\n            click: _.bind(this.saveClicked, this),\r\n            disabled: true,\r\n            close: true\r\n          }, {\r\n            id: 'cancel',\r\n            label: ButtonLabels.Cancel,\r\n            css:'conws-roles-edit-button conws-roles-edit-button-cancel',\r\n            close: true\r\n          }\r\n          ];\r\n        } else {\r\n          buttons = [{\r\n            id: 'cancel',\r\n            label: ButtonLabels.Close,\r\n            css:'conws-roles-edit-button binf-pull-right',\r\n            close: true,\r\n            initialActivationWeight: 100\r\n          }];\r\n        }\r\n\r\n       editRolesButtons = this.editRolesButtons = new FooterView({\r\n          collection: new Backbone.Collection(buttons)\r\n        });\r\n       this.buttonsRegion.show(editRolesButtons);\r\n      }\r\n    }\r\n  });\r\n\r\n  _.extend(RolesEditView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return RolesEditView;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/role/impl/role.details.member',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"      <span class=\\\"member-name\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.displayName || (depth0 != null ? depth0.displayName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"displayName\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"      <span class=\\\"member-name\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.displayName || (depth0 != null ? depth0.displayName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"displayName\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.displayName || (depth0 != null ? depth0.displayName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"displayName\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n      <a class=\\\"member-email\\\" href=\\\"mailto:\"\n    + this.escapeExpression(((helper = (helper = helpers.email || (depth0 != null ? depth0.email : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"email\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.email || (depth0 != null ? depth0.email : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"email\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div>\\r\\n  <div class=\\\"conws-role-details-avatar\\\"></div>\\r\\n  <div class=\\\"member-details\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.isUser : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(3, data, 0)})) != null ? stack1 : \"\")\n    + \"  </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_role_impl_role.details.member', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/dialogs/role/impl/role.details.member',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/role/impl/role.details.member.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/utils/url',\r\n  'csui/utils/base',\r\n  'csui/utils/contexts/factories/user',\r\n  'conws/widgets/team/impl/controls/avatar/avatar.view',\r\n  'esoc/widgets/userwidget/userwidget',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/role/impl/role.details.member',\r\n  'css!conws/widgets/team/impl/dialogs/role/impl/role.details.member'\r\n], function (_, $, Marionette, Handlebars, Url, Base, UserModelFactory, Avatar, UserWidget, lang,\r\n    template) {\r\n\r\n  var RoleDetailsMember = Marionette.ItemView.extend({\r\n\r\n    template: template,\r\n\r\n    tagName: 'li',\r\n\r\n    className: 'conws-role-details-member',\r\n\r\n    region: {\r\n      avatar: '.conws-role-details-avatar'\r\n    },\r\n\r\n    ui: {\r\n      userProfileName: '.member-name',\r\n      userProfileImg: '.conws-role-details-avatar'\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown',\r\n      'touchstart @ui.userProfileName': 'onTouchProfileName'\r\n    },\r\n\r\n    onKeyDown: function (e) {\r\n      if (e.keyCode === 13 || e.keyCode === 32) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.$('.esoc-user-profile-link').click();\r\n      }\r\n    },\r\n\r\n    onTouchProfileName: function (e) {\r\n      this.$('.esoc-user-profile-link').click();\r\n    },\r\n\r\n    // constructor for the Roles list\r\n    constructor: function RoleDetailsMember(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    initialize: function () {\r\n      this.avatar = new Avatar({model: this.model});\r\n    },\r\n\r\n    onRender: function () {\r\n      if (this.model.get('type') !== undefined && this.model.get('type') === 0) {\r\n        var loggedUser            = this.model.collection.context.getModel(UserModelFactory),\r\n            defaultOptions        = {\r\n              connector: this.model.connector,\r\n              model: this.model,\r\n              userid: this.model.get('id'),\r\n              context: this.model.collection.context,\r\n              showUserProfileLink: true,\r\n              showMiniProfile: Base.isTouchBrowser() ? false : true,\r\n              loggedUserId: loggedUser.get('id')\r\n            },\r\n            userProfilePicOptions = $.extend({\r\n              placeholder: this.$el.find(this.ui.userProfileImg),\r\n              showUserWidgetFor: 'profilepic'\r\n            }, defaultOptions);\r\n        UserWidget.getUser(userProfilePicOptions);\r\n\r\n        var userWidgetOptions = $.extend({\r\n          placeholder: this.$el.find(this.ui.userProfileName)\r\n        }, defaultOptions);\r\n        UserWidget.getUser(userWidgetOptions);\r\n      }\r\n      else {\r\n        this.$('.conws-role-details-avatar').append(this.avatar.render().$el);\r\n      }\r\n    },\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      var self = this;\r\n\r\n      // return the prepared object with the necessary properties\r\n      return {\r\n        displayName: this.model.displayName(),\r\n        email: this.model.displayEmail(),\r\n        isUser: this.model.get('type') === 0\r\n      };\r\n    }\r\n  });\r\n\r\n  return RoleDetailsMember;\r\n});\r\n\n","csui.define('conws/widgets/team/impl/dialogs/role/impl/role.details.members.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'conws/widgets/team/impl/behaviors/list.keyboard.behavior',\r\n  'conws/widgets/team/impl/dialogs/role/impl/role.details.member.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang'\r\n], function (_, $, Marionette, Handlebars, TabableRegionBehavior, ListKeyboardBehavior, MemberView,\r\n    lang) {\r\n\r\n  var RoleDetailsMembersList = Marionette.CollectionView.extend({\r\n\r\n    // CSS class names\r\n    className: 'conws-role-details-members-list',\r\n\r\n    // child views for the list\r\n    childView: MemberView,\r\n\r\n    // view tag\r\n    tagName: 'ul',\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    // view behaviors\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n      ListKeyboard: {\r\n        behaviorClass: ListKeyboardBehavior\r\n      }\r\n    },\r\n\r\n    // filter model\r\n    filterModel: {},\r\n\r\n    // constructor for the Roles list\r\n    constructor: function RoleDetailsMembersList(options) {\r\n      options || (options = {});\r\n\r\n      // the model has to be a RolesCollection with the filterList method\r\n      this.collection = options.model;\r\n      // filterModel is the FilterModel with the filter criteria\r\n      this.filterModel = options.filterModel;\r\n\r\n      // apply properties to parent\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    initialize: function () {\r\n      // listen on the change of the filter\r\n      this.listenTo(this.filterModel, 'change', this.render);\r\n      this.listenTo(this.filterModel, 'change:filter', function () {\r\n        // when search filter changes, reset the focus element to the first item\r\n        this.selectedIndex = 0;\r\n      });\r\n    },\r\n\r\n    addChild: function (child, ChildView, index) {\r\n      if (!_.isUndefined(this.filterModel)) {\r\n        var filter = this.filterModel.get('filter');\r\n        if (!_.isUndefined(filter) && filter.length > 0) {\r\n          var name = child.displayName().toLowerCase();\r\n          if (name.indexOf(filter.toLowerCase()) < 0) {\r\n            return; // do not render this item\r\n          }\r\n        }\r\n      }\r\n      // no filter or filter does match render the item\r\n      Marionette.CollectionView.prototype.addChild.apply(this, arguments);\r\n    }\r\n  });\r\n\r\n  return RoleDetailsMembersList;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/dialogs/role/impl/role.details',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                        <div class=\\\"conws-role-details-rolename-text\\\">\\r\\n                            <div class=\\\"general-text\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.model : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"</div>\\r\\n                        </div>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                        <input type=\\\"text\\\" value=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.model : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"\\\" />\\r\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                        <div class=\\\"conws-role-details-roledescription-text\\\">\\r\\n                            <div class=\\\"general-text\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.model : depth0)) != null ? stack1.description : stack1), depth0))\n    + \"</div>\\r\\n                        </div>\\r\\n\";\n},\"7\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                        <textarea rows=\\\"8\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.model : depth0)) != null ? stack1.description : stack1), depth0))\n    + \"</textarea>\\r\\n\";\n},\"9\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"                    <div class=\\\"conws-role-details-rolepermissions\\\">\\r\\n                        <h3>\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.captions : depth0)) != null ? stack1.Permissions : stack1), depth0))\n    + \"</h3>\\r\\n                        <div class=\\\"conws-role-details-permissions\\\">\\r\\n                            <div class=\\\"conws-role-details-teamlead-caption general-text\\\" id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.labelId || (depth0 != null ? depth0.labelId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"labelId\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.captions : depth0)) != null ? stack1.TeamLead : stack1), depth0))\n    + \"</div>\\r\\n                            <div class=\\\"conws-role-details-teamlead-switch\\\"></div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"binf-modal-content\\\">\\r\\n    <div class=\\\"binf-modal-header\\\">\\r\\n        <h2 class=\\\"binf-modal-title\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.captions : depth0)) != null ? stack1.Title : stack1), depth0))\n    + \"</h2>\\r\\n    </div>\\r\\n    <div class=\\\"binf-modal-body\\\">\\r\\n        <div class=\\\"conws-role-details-canedit\\\">\\r\\n            <div class=\\\"conws-role-details-canedit-left conws-role-details-left conws-role-details-canedit-separator\\\">\\r\\n                <div class=\\\"conws-role-details-rolename\\\">\\r\\n                    <h3>\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.captions : depth0)) != null ? stack1.RoleName : stack1), depth0))\n    + \"</h3>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.readonly : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(3, data, 0)})) != null ? stack1 : \"\")\n    + \"                </div>\\r\\n                <div class=\\\"conws-role-details-roledescription\\\">\\r\\n                    <h3>\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.captions : depth0)) != null ? stack1.Description : stack1), depth0))\n    + \"</h3>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.readonly : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(5, data, 0),\"inverse\":this.program(7, data, 0)})) != null ? stack1 : \"\")\n    + \"                </div>\\r\\n\"\n    + ((stack1 = helpers.unless.call(depth0,(depth0 != null ? depth0.hideTeamLead : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":this.program(9, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"            </div>\\r\\n            <div class=\\\"conws-role-details-canedit-right conws-role-details-right\\\">\\r\\n                <div class=\\\"conws-role-details-header\\\">\\r\\n                    <div class=\\\"conws-role-details-participants-region\\\"></div>\\r\\n                </div>\\r\\n                <div class=\\\"conws-role-details-canedit-content\\\">\\r\\n                    <div class=\\\"conws-role-details-participants-list-region\\\"></div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"conws-role-details-buttons-region\\\"></div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_dialogs_role_impl_role.details', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/dialogs/role/impl/role.details',[],function(){});\n","csui.define('conws/widgets/team/impl/dialogs/role/role.details.view',[\r\n  'module',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/controls/form/fields/booleanfield.view',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/widgets/team/impl/controls/filter/filter.view',\r\n  'conws/widgets/team/impl/controls/filter/impl/filter.model',\r\n  'conws/widgets/team/impl/controls/footer/footer.view',\r\n  'conws/widgets/team/impl/dialogs/role/impl/role.details.members.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/dialogs/role/impl/role.details',\r\n  'css!conws/widgets/team/impl/dialogs/role/impl/role.details'\r\n], function (module, _, $, Backbone, Marionette, Handlebars, Checkbox, LayoutViewEventsPropagationMixin,\r\n             Filter, FilterModel, FooterView, RoleDetailsMembers, lang, template) {\r\n\r\n  // CWS-3063: Get module config for hide team lead setting\r\n  var config = module.config();\r\n\r\n  var RoleDetailsView = Marionette.LayoutView.extend({\r\n\r\n    // Roles count when filtering should be possible\r\n    rolesCountForFilter: 15,\r\n\r\n    // filter models to handle the reset action\r\n    filterModel: undefined,\r\n\r\n    // constructor for the RolesEdit dialog\r\n    constructor: function RoleDetailsView(options) {\r\n      options || (options = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n\r\n      $(window).on('resize', _.bind(this.onWindowResize, this));\r\n    },\r\n\r\n    onWindowResize: function () {\r\n      // update scrollbar\r\n      this.updateScrollbar();\r\n    },\r\n\r\n    template: template,\r\n\r\n    // localized captions\r\n    captions: {\r\n      Title: lang.roleDetailsTitle,\r\n      RoleName: lang.roleDetailsName,\r\n      Participants: lang.rolesParticipantsColTitle,\r\n      RolesParticipantsColTooltip: lang.rolesParticipantsColTooltip,\r\n      Description: lang.roleDetailsDescription,\r\n      Permissions: lang.roleDetailsPermissions,\r\n      TeamLead: lang.rolesNameColTeamLead,\r\n      Read: lang.roleDetailsRead,\r\n      Write: lang.roleDetailsWrite,\r\n      Manage: lang.roleDetailsManage,\r\n      Advanced: lang.roleDetailsAdvanced,\r\n    },\r\n\r\n    regions: {\r\n      participantsHeaderRegion: '.conws-role-details-participants-region',\r\n      participantsListRegion: '.conws-role-details-participants-list-region',\r\n      teamLeadSwitch: '.conws-role-details-teamlead-switch',\r\n      buttonsRegion: '.conws-role-details-buttons-region'\r\n    },\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      var self = this;\r\n\r\n      // return the prepared object with the necessary properties\r\n      return {\r\n        labelId: _.uniqueId(\"conws-teamlead-\"),\r\n        hideTeamLead: config.hideTeamLead,\r\n        readonly: true,\r\n        captions: this.captions,\r\n        model: this.model.toJSON()\r\n      };\r\n    },\r\n\r\n    // the modal dialog view triggers the 'after:show' event and therefore the views\r\n    // event callback 'onAfterShow' is executed.\r\n    onAfterShow: function () {\r\n      this.$el.find('.conws-role-details-canedit-content').perfectScrollbar({\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15 // like bottom padding of container, otherwise scrollbar is shown always\r\n      });\r\n\r\n      this.$el.find('.conws-role-details-canedit-left').perfectScrollbar({\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 5\r\n      });\r\n\r\n      this.$el.find('.conws-roles-edit-canedit-content').perfectScrollbar('update');\r\n\r\n      this.$el.find('.conws-role-details-rolename-text').perfectScrollbar({\r\n        scrollXMarginOffset: 15, // like bottom padding of container, otherwise scrollbar is shown always\r\n        scrollYMarginOffset: 15 // like bottom padding of container, otherwise scrollbar is shown always\r\n      });\r\n\r\n      this.$el.find('.conws-role-details-rolename-text').scrollTop(0);\r\n      this.$el.find('.conws-role-details-rolename-text').scrollLeft(0);\r\n      this.$el.find('.conws-role-details-rolename-text').perfectScrollbar('update');\r\n\r\n      this.$el.find('.conws-role-details-roledescription-text').perfectScrollbar({\r\n        scrollXMarginOffset: 15, // like bottom padding of container, otherwise scrollbar is shown always\r\n        scrollYMarginOffset: 15 // like bottom padding of container, otherwise scrollbar is shown always\r\n      });\r\n      this.$el.find('.conws-role-details-roledescription-text').scrollTop(0);\r\n      this.$el.find('.conws-role-details-roledescription-text').scrollLeft(0);\r\n      this.$el.find('.conws-role-details-roledescription-text').perfectScrollbar('update');\r\n    },\r\n\r\n    // The view is rendered whenever the model changes.\r\n    onRender: function () {\r\n      // list with filter header and all participants\r\n      this.filterModel = new FilterModel({\r\n        caption: this.captions.Participants,\r\n        tooltip: this.captions.RolesParticipantsColTooltip,\r\n        active: (this.model.members.length >= this.rolesCountForFilter)\r\n      });\r\n      this.participantsHeaderRegion.show(new Filter({\r\n        model: this.filterModel,\r\n        initialActivationWeight: this.model.members.length >= this.rolesCountForFilter ? 100 : 0\r\n      }));\r\n\r\n      // create the members list and listen to the 'dom:refresh' event to\r\n      // update the scrollbars.\r\n      this.participantsListRegion.show(new RoleDetailsMembers({\r\n        model: this.model.members,\r\n        filterModel: this.filterModel,\r\n        initialActivationWeight: this.model.members.length > 0 ? 100 : 0\r\n      }));\r\n      this.listenTo(this.participantsListRegion.currentView, 'dom:refresh', this.updateScrollbar);\r\n\r\n      // create the checkbox\r\n\r\n      // CWS-3063: Use module config for hide team lead setting\r\n      if (!config.hideTeamLead) {\r\n        this.teamLeadSwitch.show(new Checkbox({\r\n          model: new Backbone.Model({\r\n            data: this.model.get('leader'),\r\n            caption: this.captions.TeamLead\r\n          }),\r\n          labelId: this.$(\".conws-role-details-teamlead-caption\").attr(\"id\"),\r\n          mode: 'readonly'\r\n        }));\r\n      }\r\n\r\n      // button bar, with the model to react on the changes\r\n      this.buttonsRegion.show(new FooterView({\r\n        collection: new Backbone.Collection([{\r\n          id: 'cancel',\r\n          label: lang.rolesDialogButtonClose,\r\n          css: 'conws-roles-edit-button pull-right',\r\n          close: true\r\n        }])\r\n      }));\r\n    },\r\n\r\n    // Update the scrollbars for the roles list, if the list has changed.\r\n    updateScrollbar: function () {\r\n      var sc1 = this.$el.find('.conws-role-details-canedit-content');\r\n      _.each(sc1, function (sc) {\r\n        $(sc).scrollTop(0);\r\n        $(sc).perfectScrollbar('update');\r\n      })\r\n\r\n      var roleDetailsLeftPane = this.$el.find('.conws-role-details-canedit-left');\r\n      if(roleDetailsLeftPane && roleDetailsLeftPane.length){\r\n        roleDetailsLeftPane.scrollTop(0);\r\n        roleDetailsLeftPane.perfectScrollbar('update');\r\n      }\r\n    }\r\n  });\r\n\r\n  // add mixin\r\n  _.extend(RoleDetailsView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  // return dialog\r\n  return RoleDetailsView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/team.tablinks',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return this.escapeExpression(((helper = (helper = helpers.tabName || (depth0 != null ? depth0.tabName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"tabName\",\"hash\":{}}) : helper)))\n    + \"\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_team.tablinks', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/team',[],function(){});\n","csui.define('conws/widgets/team/impl/team.tablinks.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/team.tablinks',\r\n  'css!conws/widgets/team/impl/team'\r\n], function (_, $, Marionette, TabableRegionBehavior, lang, template) {\r\n\r\n  'use strict';\r\n\r\n\r\n  var TeamTabView = Marionette.LayoutView.extend({\r\n\r\n    tagName:'a',\r\n\r\n    attributes: {\r\n      'role':'tab',\r\n      'data-binf-toggle':'tab'\r\n    },\r\n\r\n    template: template,\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior,\r\n        initialActivationWeight: 200\r\n      }\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    onKeyDown: function (e) {\r\n      switch (e.keyCode) {\r\n      case 13:\r\n      case 32:\r\n        $(e.target).trigger('click');\r\n        break;\r\n      }\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        tabName: this.data.attributes.aria === 'participants' ? lang.rolesParticipantsColTitle : lang.participantRolesColTitle\r\n      };\r\n    },\r\n\r\n    initialize: function(){\r\n      this.listenTo(this,'dom:refresh',this.updateAttributes);\r\n    },\r\n\r\n    updateAttributes: function(){\r\n      this.$el.attr({'href': this.data.attributes.href, 'aria-controls': this.data.attributes['aria-controls']});\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      return this.$el;\r\n    },\r\n\r\n    constructor: function TeamTabView(options, attributes) {\r\n      this.data = attributes;\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n    }\r\n  });\r\n\r\n  return TeamTabView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/teamtables',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"conws-teamtables\\\">\\r\\n    <div class=\\\"teamtables-tabs\\\">\\r\\n        <!-- Nav tabs -->\\r\\n        <ul class=\\\"binf-nav binf-nav-tabs binf-pull-right\\\" role=\\\"tablist\\\">\\r\\n          <li role=\\\"presentation\\\" id=\\\"tabParticipants\\\"></li>\\r\\n          <li role=\\\"presentation\\\" id=\\\"tabRoles\\\"></li>\\r\\n        </ul>\\r\\n    </div>\\r\\n    <!-- Tab panes -->\\r\\n    <div class=\\\"teamtables-content\\\">\\r\\n        <div class=\\\"binf-tab-content\\\">\\r\\n            <div role=\\\"tabpanel\\\" class=\\\"binf-tab-pane binf-fade binf-in binf-active\\\" id=\\\"participantstab\\\">\\r\\n                <div id=\\\"participantstoolbar\\\"></div>\\r\\n                <div id=\\\"participantsview\\\"></div>\\r\\n            </div>\\r\\n            <div role=\\\"tabpanel\\\" class=\\\"binf-tab-pane binf-fade\\\" id=\\\"rolestab\\\">\\r\\n                <div id=\\\"rolestoolbar\\\"></div>\\r\\n                <div id=\\\"rolesview\\\"></div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_teamtables', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/cells/avatar/impl/avatar',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"<span id=\\\"status-indicator-inherited\\\" class=\\\"status-indicator\\\"></span>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.isNew : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(4, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"4\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    <span id=\\\"status-indicator-new\\\" class=\\\"status-indicator\\\"\\r\\n          title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.participantStatus || (depth0 != null ? depth0.participantStatus : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"participantStatus\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.participantStatus || (depth0 != null ? depth0.participantStatus : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"participantStatus\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.inherited : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(3, data, 0)})) != null ? stack1 : \"\")\n    + \"<div class=\\\"conws-avatar\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_cells_avatar_impl_avatar', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/cells/avatar/impl/avatar',[],function(){});\n","csui.define('conws/widgets/team/impl/cells/avatar/avatar.view',[\r\n  'csui/utils/url',\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'csui/utils/contexts/factories/user',\r\n  'esoc/widgets/userwidget/userwidget',\r\n  'conws/widgets/team/impl/controls/avatar/avatar.view',\r\n  'conws/widgets/team/impl/participants.columns',\r\n  'conws/widgets/team/impl/roles.columns',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/cells/avatar/impl/avatar',\r\n  'css!conws/widgets/team/impl/cells/avatar/impl/avatar'\r\n], function (Url, TemplatedCellView, cellViewRegistry, UserModelFactory, UserWidget, Avatar, ParticipantsTableColumnCollection,\r\n    RolesTableColumnCollection, lang, template) {\r\n\r\n  var AvatarCellView = TemplatedCellView.extend({\r\n\r\n        template: template,\r\n\r\n        events: {\r\n          'keydown': 'onKeyDown'\r\n        },\r\n\r\n        onKeyDown: function (e) {\r\n          if (e.keyCode === 13 || e.keyCode === 32) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.$('.esoc-user-profile-link').click();\r\n          }\r\n        },\r\n\r\n        constructor: function AvatarCellView() {\r\n          TemplatedCellView.apply(this, arguments);\r\n\r\n          // changes of the participant model are rendered immediately\r\n          this.listenTo(this.model, 'change', this.render);\r\n        },\r\n\r\n        initialize: function () {\r\n          this.avatar = new Avatar({model: this.model});\r\n        },\r\n\r\n        onRender: function () {\r\n          if (this.model.get('type') !== undefined && this.model.get('type') === 0) {\r\n            var loggedUser            = this.model.collection.workspaceContext.getModel(UserModelFactory),\r\n                userProfilePicOptions = {\r\n                  connector: this.model.connector,\r\n                  model: this.model,\r\n                  userid: this.model.get('id'),\r\n                  context: this.model.collection.workspaceContext,\r\n                  showUserProfileLink: true,\r\n                  showMiniProfile: true,\r\n                  loggedUserId: loggedUser.get('id'),\r\n                  placeholder: this.$el.find('.conws-avatar'),\r\n                  showUserWidgetFor: 'profilepic'\r\n                };\r\n            UserWidget.getUser(userProfilePicOptions);\r\n          }\r\n          else {\r\n            this.$('.conws-avatar').append(this.avatar.render().$el);\r\n          }\r\n        },\r\n\r\n        getValueData: function () {\r\n          // return\r\n          return {\r\n            participantStatus: lang.participantStateNew,\r\n            type: this.model.getMemberType(),\r\n            inherited: this.model.get('inherited_from_id') ? true : false,\r\n            isNew: this.model.get('isNew') ? true : false\r\n          };\r\n        }\r\n\r\n      },\r\n      {\r\n        hasFixedWidth: true,\r\n        columnClassName: 'team-table-cell-avatar',\r\n        noTitleInHeader: true\r\n      }\r\n  );\r\n\r\n  cellViewRegistry.registerByColumnKey(ParticipantsTableColumnCollection.columnNames.avatar,\r\n      AvatarCellView);\r\n  cellViewRegistry.registerByColumnKey(RolesTableColumnCollection.columnNames.avatar,\r\n      AvatarCellView);\r\n\r\n  return AvatarCellView;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/cells/name/impl/name',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <span class=\\\"csui-name participant-name\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.value || (depth0 != null ? depth0.value : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"value\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <span class=\\\"csui-name participant-name\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.value || (depth0 != null ? depth0.value : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"value\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.formattedValue || (depth0 != null ? depth0.formattedValue : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"formattedValue\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.isUser : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(3, data, 0)})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_cells_name_impl_name', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/cells/name/impl/name',[],function(){});\n","csui.define('conws/widgets/team/impl/cells/name/name.view',[\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'csui/utils/contexts/factories/user',\r\n  'conws/widgets/team/impl/participants.columns',\r\n  'esoc/widgets/userwidget/userwidget',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/cells/name/impl/name',\r\n  'css!conws/widgets/team/impl/cells/name/impl/name'\r\n], function (TemplatedCellView, cellViewRegistry, UserModelFactory,\r\n    ParticipantsTableColumnCollection, UserWidget, lang, template) {\r\n\r\n  var NameCellView = TemplatedCellView.extend({\r\n\r\n        className: 'csui-truncate',\r\n        template: template,\r\n\r\n        ui: {\r\n          userProfileName: '.csui-name'\r\n        },\r\n\r\n        events: {\r\n          'dragstart @ui.userProfileName': 'onDrag',\r\n          'keydown': 'onKeyDown'\r\n        },\r\n\r\n        onKeyDown: function (e) {\r\n          if (e.keyCode === 13 || e.keyCode === 32) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.$('.esoc-user-profile-link').click();\r\n          }\r\n        },\r\n\r\n        onRender: function () {\r\n          if (this.model.get('type') !== undefined && this.model.get('type') === 0) {\r\n            var loggedUser        = this.options.context.getModel(UserModelFactory),\r\n                userWidgetOptions = {\r\n                  connector: this.model.connector,\r\n                  userid: this.model.get('id'),\r\n                  model: this.model,\r\n                  context: this.options.context,\r\n                  placeholder: this.$el.find(this.ui.userProfileName),\r\n                  showUserProfileLink: true,\r\n                  showMiniProfile: true,\r\n                  loggedUserId: loggedUser.get('id')\r\n                };\r\n            UserWidget.getUser(userWidgetOptions);\r\n          }\r\n        },\r\n\r\n        onDrag: function (e) {\r\n          return false;\r\n        },\r\n\r\n        getValueData: function () {\r\n          // get member name\r\n          var value = this.model.get('display_name');\r\n          return {\r\n            value: value,\r\n            formattedValue: value,\r\n            isUser: this.model.get('type') === 0\r\n          };\r\n        }\r\n      }\r\n  );\r\n  cellViewRegistry.registerByColumnKey(ParticipantsTableColumnCollection.columnNames.name,\r\n      NameCellView);\r\n\r\n  return NameCellView;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/cells/roles/impl/roles',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"conws-roles-btn-div\\\">\\r\\n  <a class=\\\"conws-roles-btn\\\" href=\\\"#\\\">\\r\\n    <div class=\\\"conws-roles-text\\\">\\r\\n      <div class=\\\"conws-roles-truncatebox\\\">\\r\\n        <span title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.value || (depth0 != null ? depth0.value : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"value\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"conws-roles-text-truncate\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.value || (depth0 != null ? depth0.value : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"value\",\"hash\":{}}) : helper)))\n    + \"</span>&nbsp;<span class=\\\"conws-roles-count\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.indicator || (depth0 != null ? depth0.indicator : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"indicator\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n      </div>\\r\\n      <div class=\\\"role-name-icon-cell\\\">\\r\\n        <span class=\\\"csui-icon conws-icon-roles-edit\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.toolTip || (depth0 != null ? depth0.toolTip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"toolTip\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.toolTip || (depth0 != null ? depth0.toolTip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"toolTip\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_cells_roles_impl_roles', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/team/impl/cells/roles/roles.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'conws/widgets/team/impl/dialogs/modaldialog/modal.dialog.view',\r\n  'conws/widgets/team/impl/participants.columns',\r\n  'conws/widgets/team/impl/dialogs/participants/roles.edit.view',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/widgets/team/impl/participants.model.factory',\r\n  'conws/widgets/team/impl/roles.model.factory',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/cells/roles/impl/roles',\r\n  'css!conws/widgets/team/impl/cells/roles/impl/roles'\r\n], function (_, $, TemplatedCellView, cellViewRegistry, ModalDialogView,\r\n    ParticipantsTableColumnCollection, EditView, WorkspaceContextFactory,\r\n    ParticipantsCollectionFactory, RolesCollectionFactory, lang, template) {\r\n\r\n  var RolesCellView = TemplatedCellView.extend({\r\n\r\n        className: 'csui-truncate',\r\n        template: template,\r\n\r\n        ui: {\r\n          roleEdit: 'a.conws-roles-btn'\r\n        },\r\n\r\n        events: {\r\n          'click @ui.roleEdit': 'roleEditClicked',\r\n          'dragstart @ui.roleEdit': 'roleEditDrag',\r\n          'keydown': 'onKeyDown'\r\n        },\r\n\r\n        onKeyDown: function (e) {\r\n          switch (e.keyCode) {\r\n          case 13:\r\n          case 32:\r\n            $(e.target).find(this.ui.roleEdit).trigger('click');\r\n            break;\r\n          }\r\n        },\r\n\r\n        getValueData: function () {\r\n          // get roles\r\n          var value = this.model.getLeadingRole();\r\n          var indicator = this.model.getRolesIndicator();\r\n          // return\r\n          return {\r\n            value: value,\r\n            indicator: indicator,\r\n            cannotEdit: !this.model.canEdit(),\r\n            toolTip: lang.participantRrolesColTooltip\r\n          };\r\n        },\r\n\r\n        roleEditClicked: function (event) {\r\n          // get workspace context\r\n          if (!this.options.workspaceContext) {\r\n            this.options.workspaceContext = this.options.context.getObject(WorkspaceContextFactory);\r\n            this.options.workspaceContext.setWorkspaceSpecific(ParticipantsCollectionFactory);\r\n            this.options.workspaceContext.setWorkspaceSpecific(RolesCollectionFactory);\r\n          }\r\n          // initialize the dialog for the participants roles\r\n          this.editor = new ModalDialogView({\r\n            body: new EditView({\r\n              model: this.model,\r\n              roleCollection: this.options.workspaceContext.getCollection(RolesCollectionFactory),\r\n              participantCollection: this.options.workspaceContext.getCollection(\r\n                  ParticipantsCollectionFactory)\r\n            }),\r\n            modalClassName: 'conws-roles-edit'\r\n          });\r\n\r\n          this.editor.show();\r\n\r\n          var setFocus = _.bind(function(){\r\n            // to set the focus we must use the click() event, as focus() alone does not work here. And as there is\r\n            // no click handler on the element, which we want to focus on, we can do so without consequences so far.\r\n            this.options.tableView.$el.find('[conws-participant-row-id=\"'+this.model.get(\"id\")+'\"] .conws-team-table-cell-roles').trigger('click');\r\n          },this);\r\n\r\n          // in any case, when the dialog is closed, we set the focus to the cell, as the dialog has been opened\r\n          // using this cell (by enter/space or by mouse click), which means, that the focus should be in this cell.\r\n          this.editor.once('destroy',function() {\r\n            setFocus();\r\n          });\r\n\r\n          // as the focus is set to elsewhere by the tabables.behavior during the refresh, we have to set it again\r\n          // to this cell after everything has been fetched. see also roles.edit.view where the event is triggered.\r\n          this.editor.options.body.once('refetched',function() {\r\n            setFocus();\r\n          });\r\n\r\n          // don't propagate click event into name cell, because it would cause selecting the row\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        },\r\n\r\n        // prevent dragging of role editor cell\r\n        roleEditDrag: function (event) {\r\n          return false;\r\n        },\r\n\r\n        onDestroy: function () {\r\n          if (this.editor) {\r\n            this.editor = undefined;\r\n          }\r\n        }\r\n      },\r\n      {\r\n        columnClassName: 'conws-team-table-cell-roles'\r\n      }\r\n  );\r\n\r\n  cellViewRegistry.registerByColumnKey(ParticipantsTableColumnCollection.columnNames.roles,\r\n      RolesCellView);\r\n\r\n  return RolesCellView;\r\n});\r\n\r\n\n","csui.define('conws/widgets/team/impl/cells/login/login.view',[\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'conws/widgets/team/impl/participants.columns',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang'\r\n], function (TemplatedCellView, cellViewRegistry, ParticipantsTableColumnCollection, lang) {\r\n\r\n  var LoginCellView = TemplatedCellView.extend({\r\n\r\n        className: 'csui-truncate',\r\n\r\n        getValueData: function () {\r\n          // get name in case of users\r\n          var value = this.model.displayLogin();\r\n          // return\r\n          return {\r\n            value: value,\r\n            formattedValue: value\r\n          };\r\n        }\r\n      }\r\n  );\r\n\r\n  cellViewRegistry.registerByColumnKey(ParticipantsTableColumnCollection.columnNames.login, LoginCellView);\r\n\r\n  return LoginCellView;\r\n});\r\n\r\n\n","csui.define('conws/widgets/team/impl/cells/email/email.view',[\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'conws/widgets/team/impl/participants.columns',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang'\r\n], function (TemplatedCellView, cellViewRegistry, ParticipantsTableColumnCollection, lang) {\r\n\r\n  var EmailCellView = TemplatedCellView.extend({\r\n\r\n        className: 'csui-truncate',\r\n\r\n        getValueData: function () {\r\n          // get member name\r\n          var value = this.model.displayEmail();\r\n          return {\r\n            value: value,\r\n            formattedValue: value\r\n          };\r\n        }\r\n      }\r\n  );\r\n\r\n  cellViewRegistry.registerByColumnKey(ParticipantsTableColumnCollection.columnNames.email, EmailCellView);\r\n\r\n  return EmailCellView;\r\n});\r\n\r\n\r\n\n","csui.define('conws/widgets/team/impl/cells/department/department.view',[\r\n  'csui/utils/url',\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'conws/widgets/team/impl/participants.columns',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang'\r\n], function (Url, TemplatedCellView, cellViewRegistry, ParticipantsTableColumnCollection, lang, template) {\r\n\r\n  var DepartmentCellView = TemplatedCellView.extend({\r\n\r\n        className: 'csui-truncate',\r\n\r\n        constructor: function AvatarCellView() {\r\n          TemplatedCellView.apply(this, arguments);\r\n\r\n          // changes of the participant model are rendered immediately\r\n          this.listenTo(this.model, 'change', this.render);\r\n        },\r\n\r\n        getValueData: function () {\r\n          // resolve the member department\r\n          var value = this.model.displayDepartment();\r\n          // return\r\n          return {\r\n            value: value,\r\n            formattedValue: value\r\n          };\r\n        }\r\n      },\r\n      {\r\n        columnClassName: 'team-table-cell-department'\r\n      }\r\n  );\r\n\r\n  cellViewRegistry.registerByColumnKey(ParticipantsTableColumnCollection.columnNames.department, DepartmentCellView);\r\n\r\n  return DepartmentCellView;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/cells/rolename/impl/rolename',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"        <span class=\\\"teamlead\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.leader || (depth0 != null ? depth0.leader : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"leader\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"        <span class=\\\"inherited\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.inherited || (depth0 != null ? depth0.inherited : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"inherited\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"role-name-cell\\\">\\r\\n  <a href=\\\"#\\\">\\r\\n    <div class=\\\"role-name-box\\\">\\r\\n      <div class=\\\"role-name-name-cell\\\">\\r\\n      <span class=\\\"name\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.formattedValue || (depth0 != null ? depth0.formattedValue : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"formattedValue\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.formattedValue || (depth0 != null ? depth0.formattedValue : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"formattedValue\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.leader : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.inherited : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"      </div>\\r\\n      <div class=\\\"role-name-icon-cell\\\">\\r\\n        <span class=\\\"csui-icon conws-icon-roles-details\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.toolTip || (depth0 != null ? depth0.toolTip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"toolTip\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.toolTip || (depth0 != null ? depth0.toolTip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"toolTip\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_cells_rolename_impl_rolename', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/cells/rolename/impl/rolename',[],function(){});\n","csui.define('conws/widgets/team/impl/cells/rolename/rolename.view',[\r\n  'csui/lib/jquery',\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'conws/widgets/team/impl/roles.columns',\r\n  'conws/widgets/team/impl/dialogs/modaldialog/modal.dialog.view',\r\n  'conws/widgets/team/impl/dialogs/role/role.details.view',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/widgets/team/impl/participants.model.factory',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/cells/rolename/impl/rolename',\r\n  'css!conws/widgets/team/impl/cells/rolename/impl/rolename'\r\n], function ($, TemplatedCellView, cellViewRegistry, RolesTableColumnCollection, ModalDialogView,\r\n    RoleDetailsView, WorkspaceContextFactory, ParticipantsCollectionFactory, lang, template) {\r\n\r\n  var RolesNameCellView = TemplatedCellView.extend({\r\n\r\n        className: 'csui-truncate',\r\n        template: template,\r\n\r\n        ui: {\r\n          roleDetails: 'a'\r\n        },\r\n\r\n        events: {\r\n          'click @ui.roleDetails': 'roleDetailsClicked',\r\n          'dragstart @ui.roleDetails': 'roleDetailsDrag',\r\n          'keydown': 'onKeyDown'\r\n        },\r\n\r\n        onKeyDown: function (e) {\r\n          switch (e.keyCode) {\r\n          case 13:\r\n          case 32:\r\n            $(e.target).find(this.ui.roleDetails).trigger('click');\r\n            break;\r\n          }\r\n        },\r\n\r\n        getValueData: function () {\r\n          // get name\r\n          var value = this.model.displayName();\r\n          // return\r\n          return {\r\n            toolTip: lang.rolesNameColTooltip,\r\n            formattedValue: value,\r\n            leader: this.model.get('leader') ? lang.rolesNameColTeamLead : '',\r\n            inherited: this.model.get('inherited_from_id') ? lang.rolesNameColInherited : ''\r\n          }\r\n        },\r\n\r\n        roleDetailsClicked: function (event) {\r\n\r\n          // get workspace context\r\n          if (!this.options.workspaceContext) {\r\n            this.options.workspaceContext = this.options.context.getObject(WorkspaceContextFactory);\r\n            this.options.workspaceContext.setWorkspaceSpecific(ParticipantsCollectionFactory);\r\n          }\r\n\r\n          // initialize the dialog for the role\r\n          this.editor = new ModalDialogView({\r\n            body: new RoleDetailsView({\r\n              model: this.model,\r\n              parentCollection: this.options.workspaceContext.getCollection(\r\n                  ParticipantsCollectionFactory)\r\n            }),\r\n            modalClassName: 'conws-role-details'\r\n          });\r\n          this.editor.show();\r\n\r\n          // don't propagate click event into name cell, because it would cause selecting the row\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        },\r\n\r\n        roleDetailsDrag: function (event) {\r\n          return false;\r\n        },\r\n\r\n        onDestroy: function () {\r\n          if (this.editor) {\r\n            this.editor = undefined;\r\n          }\r\n        }\r\n      },\r\n      {\r\n        hasFixedWidth: false,\r\n        columnClassName: 'team-table-cell-rolename'\r\n      }\r\n  );\r\n  cellViewRegistry.registerByColumnKey(RolesTableColumnCollection.columnNames.name,\r\n      RolesNameCellView);\r\n\r\n  return RolesNameCellView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/cells/participants/impl/participants',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<span class=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.valueClass || (depth0 != null ? depth0.valueClass : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"valueClass\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.value || (depth0 != null ? depth0.value : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"value\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.formattedValue || (depth0 != null ? depth0.formattedValue : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"formattedValue\",\"hash\":{}}) : helper)))\n    + \"</span>\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_cells_participants_impl_participants', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/cells/participants/impl/participants',[],function(){});\n","csui.define('conws/widgets/team/impl/cells/participants/participants.view',[\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'conws/widgets/team/impl/roles.columns',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/cells/participants/impl/participants',\r\n  'css!conws/widgets/team/impl/cells/participants/impl/participants'\r\n], function (TemplatedCellView, cellViewRegistry, RolesTableColumnCollection, lang, template) {\r\n\r\n  var ParticipantsCellView = TemplatedCellView.extend({\r\n\r\n        className: 'csui-truncate',\r\n        template: template,\r\n\r\n        getValueData: function () {\r\n          // get participants\r\n          var valueClass = 'name';\r\n          var value = this.model.displayMembers();\r\n          if (!value) {\r\n            value = lang.rolesParticipantsColNoParticipants;\r\n            valueClass = 'name warning';\r\n          }\r\n\r\n          // return\r\n          return {\r\n            value: value,\r\n            formattedValue: value,\r\n            valueClass: valueClass\r\n          };\r\n        }\r\n      },\r\n      {\r\n        hasFixedWidth: false,\r\n        columnClassName: 'team-table-cell-participants'\r\n      }\r\n  );\r\n  cellViewRegistry.registerByColumnKey(RolesTableColumnCollection.columnNames.members,\r\n      ParticipantsCellView);\r\n\r\n  return ParticipantsCellView;\r\n});\r\n\r\n\n","csui.define('conws/widgets/team/impl/teamtables.view',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/utils/commands',\r\n  'conws/utils/commands/addparticipant',\r\n  'conws/widgets/team/impl/commands/exportparticipants',\r\n  'conws/utils/commands/showroles',\r\n  'conws/utils/commands/removeparticipant',\r\n  'conws/widgets/team/impl/commands/exportroles',\r\n  'conws/utils/commands/showdetails',\r\n  'conws/utils/commands/deleterole',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/controls/tabletoolbar/tabletoolbar.view',\r\n  'csui/controls/table/table.view',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/widgets/team/impl/participants.model.factory',\r\n  'conws/widgets/team/impl/participants.columns',\r\n  'conws/widgets/team/impl/participants.toolbaritems',\r\n  'conws/widgets/team/impl/roles.model.factory',\r\n  'conws/widgets/team/impl/roles.columns',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/widgets/team/impl/roles.toolbaritems',\r\n  'conws/widgets/team/impl/dialogs/participants/roles.edit.view',\r\n  'conws/widgets/team/impl/dialogs/role/role.details.view',\r\n  'conws/widgets/team/impl/team.tablinks.view',\r\n  'conws/widgets/team/impl/dialogs/modaldialog/modal.dialog.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/teamtables',\r\n  'css!conws/widgets/team/impl/team',\r\n  'conws/widgets/team/impl/cells/avatar/avatar.view',\r\n  'conws/widgets/team/impl/cells/name/name.view',\r\n  'conws/widgets/team/impl/cells/roles/roles.view',\r\n  'conws/widgets/team/impl/cells/login/login.view',\r\n  'conws/widgets/team/impl/cells/email/email.view',\r\n  'conws/widgets/team/impl/cells/department/department.view',\r\n  'conws/widgets/team/impl/cells/rolename/rolename.view',\r\n  'conws/widgets/team/impl/cells/participants/participants.view'\r\n], function ($, _, Marionette, ConnectorFactory, commands, AddParticipantCommand,\r\n    ExportParticipantsCommand, ShowRolesCommand, RemoveParticipantCommand, ExportRolesCommand,\r\n    ShowDetailsCommand, DeleteRoleCommand, ModalAlert, TableToolbarView, TableView,\r\n    LayoutViewEventsPropagationMixin, ParticipantsCollectionFactory,\r\n    ParticipantsTableColumnCollection, participantToolbarItems, RolesCollectionFactory,\r\n    RolesTableColumnCollection, WorkspaceContextFactory, roleToolbarItems, ParticipantsView,\r\n    RolesView, TeamTabView, ModalDialogView, lang, template) {\r\n\r\n  var TeamTablesView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    // flag indication if the data was changed\r\n    dirty: false,\r\n\r\n    events: {\r\n      'shown.binf.tab .binf-nav-tabs a': 'onShownTab'\r\n    },\r\n\r\n    regions: {\r\n      tabParticipantsRegion: '#tabParticipants',\r\n      tabRolesRegion: '#tabRoles',\r\n      participantsToolbarRegion: '#participantstoolbar',\r\n      participantsRegion: '#participantsview',\r\n      rolesToolbarRegion: '#rolestoolbar',\r\n      rolesRegion: '#rolesview'\r\n    },\r\n\r\n    constructor: function TeamTablesView(options) {\r\n      if (options === undefined || !options.context) {\r\n        throw new Error('Context is missing in the constructor options');\r\n      }\r\n      this.context = options.context;\r\n\r\n      if (!_.isUndefined(options.collapsedView)) {\r\n        this.collapsedView = options.collapsedView;\r\n      }\r\n\r\n      // get workspace context\r\n      if (!options.workspaceContext) {\r\n        options.workspaceContext = options.context.getObject(WorkspaceContextFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(ParticipantsCollectionFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(RolesCollectionFactory);\r\n      }\r\n      this.workspaceContext = options.workspaceContext;\r\n      this.participantCollection = options.workspaceContext.getCollection(\r\n          ParticipantsCollectionFactory);\r\n      this.roleCollection = options.workspaceContext.getCollection(RolesCollectionFactory);\r\n      //clear list of newParticipants for icon status\r\n      this.participantCollection.newParticipants = [];\r\n      _.each(this.participantCollection.where({isNew: true}), function (part) {\r\n        part.unset('isNew')\r\n      });\r\n\r\n\r\n      // set filter from collapsed view to participants and roles collection\r\n      // or clear filter from previous selection\r\n      if (options.filterBy && options.filterBy.name.length > 0) {\r\n        this.participantCollection.setFilter({conws_participantname: options.filterBy.name});\r\n        this.roleCollection.setFilter({conws_rolename: options.filterBy.name});\r\n      } else {\r\n        this.participantCollection.filters =  {};\r\n        this.participantCollection.orderBy =  ParticipantsTableColumnCollection.columnNames.name + ' asc';\r\n        this.roleCollection.filters =  {};\r\n        this.roleCollection.orderBy =  RolesTableColumnCollection.columnNames.name + ' asc';\r\n      }\r\n\r\n      //listen on custom events for the collections to get the saved indication\r\n      this.listenTo(this.participantCollection, 'saved', this.onParticipantsChanged);\r\n      this.listenTo(this.roleCollection, 'saved', this.onChanged);\r\n\r\n      //the data was not changed\r\n      this.dirty = false;\r\n\r\n      options.data || (options.data = {});\r\n      Marionette.LayoutView.prototype.constructor.call(this, arguments);\r\n\r\n      // propagate layout events to regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      var self = this;\r\n      this.tabParticipantsRegion.show(new TeamTabView(_.defaults({\r\n        initialActivationWeight: 202\r\n      },this.options), {\r\n        attributes: {aria: 'participants', 'aria-controls': 'participantstab', href: '#participantstab'}\r\n      }));\r\n      this.tabRolesRegion.show(new TeamTabView(_.defaults({\r\n        initialActivationWeight: 201\r\n      },this.options), {\r\n        attributes: {aria: 'roles', 'aria-controls': 'rolestab', href: '#rolestab'}\r\n      }));\r\n\r\n      if (this.participantCollection.fetched) {\r\n        this.participantCollection.fetch({reload: true});\r\n      }\r\n      if (this.roleCollection.fetched) {\r\n        this.roleCollection.fetch({reload: true});\r\n      }\r\n\r\n      this.participantCollection.once('sync', function () {\r\n        // simulate click on the tab after data is there so the add participants command is enabled. The click\r\n        // triggers onShownTab for the case '#participantstab', which then calls renderParticipantsAfterFetch.\r\n        // Needed to have the tabs in sync with displayed list (CWS-3565) AND avoiding side effect (CWS-4190),\r\n        // that the AddParticipants action is not displayed sometimes, which occurs, if expand button is clicked\r\n        // very fast after initial display.\r\n        self.tabParticipantsRegion.currentView.$el.trigger('click');\r\n      }).fetch();\r\n      this.roleCollection.once('sync', function () {\r\n        self.renderRolesAfterFetch();\r\n      }).fetch();\r\n    },\r\n\r\n    renderParticipantsAfterFetch: function () {\r\n\r\n      // create participants toolbar\r\n      if (!this.participantsToolbarView) {\r\n\r\n        // participant commands - if one exists, all exist. therefore we only\r\n        // query for the 'add participant' command. this is also the one we\r\n        // have to update each time we open the team view as the roles have to\r\n        // be updated.\r\n        var cmd = commands.get(AddParticipantCommand.prototype.defaults.signature)\r\n        if (cmd) {\r\n          // update the roles for the command 'enabled' check.\r\n          cmd.roles = this.participantCollection.availableRoles;\r\n        } else {\r\n          // we have to create the commands initially.\r\n          commands.add(new AddParticipantCommand({\r\n            roles: this.participantCollection.availableRoles\r\n          }));\r\n          commands.add(new ExportParticipantsCommand());\r\n          commands.add(_.extend(new ShowRolesCommand(), {\r\n            execute: this.onShowRoles\r\n          }));\r\n          commands.add(new RemoveParticipantCommand());\r\n        }\r\n\r\n        this.participantsToolbarView = new TableToolbarView({\r\n          originatingView: this,\r\n          toolbarItems: participantToolbarItems,\r\n          collection: this.participantCollection\r\n        });\r\n      }\r\n\r\n      // create participant table view\r\n      if (!this.participantsTableView) {\r\n        // drop avatar column\r\n        var colsWithSearch = _.rest(ParticipantsTableColumnCollection.getColumnKeys(), 1);\r\n        // initialize view\r\n        this.participantsTableView = new TableView({\r\n          context: this.workspaceContext,\r\n          connector: this.context.getObject(ConnectorFactory),\r\n          collection: this.participantCollection,\r\n          columns: this.participantCollection.columns,\r\n          filterBy: this.participantCollection.filters,\r\n          tableColumns: ParticipantsTableColumnCollection,\r\n          selectColumn: true,\r\n          enableSorting: true,\r\n          orderBy: ParticipantsTableColumnCollection.columnNames.name + ' asc',\r\n          nameEdit: false,\r\n          haveDetailsRowExpandCollapseColumn: true,\r\n          columnsWithSearch: colsWithSearch,\r\n          tableTexts: {\r\n            zeroRecords: lang.zeroRecordsOrFilteredParticipants\r\n          }\r\n        });\r\n        // handle events\r\n        this.listenTo(this.participantsTableView, 'tableRowSelected',\r\n            this.updateParticipantsToolItems);\r\n        this.listenTo(this.participantsTableView, 'tableRowUnselected',\r\n            this.updateParticipantsToolItems);\r\n        this.listenTo(this.participantsTableView, 'tableRowRendered', function(row) {\r\n          //set specific attribute, so we can find the row easier in the roles.view cell.\r\n          $(row.target).attr(\"conws-participant-row-id\",row.node.get(\"id\"));\r\n        });\r\n\r\n        // Set focus to roles column\r\n        if (!_.isUndefined(this.participantsTableView.accFocusedState.body.column)) {\r\n          this.participantsTableView.accFocusedState.body.column = 3;\r\n        }\r\n      }\r\n\r\n      // show\r\n      this.participantsToolbarRegion.show(this.participantsToolbarView);\r\n      this.participantsRegion.show(this.participantsTableView);\r\n    },\r\n\r\n    renderRolesAfterFetch: function () {\r\n\r\n      // create roles toolbar\r\n      if (!this.rolesToolbarView) {\r\n        commands.add(new ExportRolesCommand());\r\n        commands.add(_.extend(new ShowDetailsCommand(), {\r\n          execute: this.onShowDetails\r\n        }));\r\n        commands.add(new DeleteRoleCommand());\r\n\r\n        this.rolesToolbarView = new TableToolbarView({\r\n          originatingView: this,\r\n          toolbarItems: roleToolbarItems,\r\n          collection: this.roleCollection\r\n        });\r\n      }\r\n\r\n      // create roles table view\r\n      if (!this.rolesTableView) {\r\n        // drop avatar column\r\n        var colsWithSearch = _.rest(RolesTableColumnCollection.getColumnKeys(), 1);\r\n        // initialize view\r\n        this.rolesTableView = new TableView({\r\n          context: this.workspaceContext,\r\n          connector: this.context.getObject(ConnectorFactory),\r\n          collection: this.roleCollection,\r\n          columns: this.roleCollection.columns,\r\n          filterBy: this.roleCollection.filters,\r\n          tableColumns: RolesTableColumnCollection,\r\n          selectColumn: true,\r\n          enableSorting: true,\r\n          orderBy: RolesTableColumnCollection.columnNames.name + ' asc',\r\n          nameEdit: false,\r\n          haveDetailsRowExpandCollapseColumn: true,\r\n          columnsWithSearch: colsWithSearch,\r\n          tableTexts: {\r\n            zeroRecords: lang.zeroRecordsOrFilteredRoles\r\n          }\r\n        });\r\n        // handle events\r\n        this.listenTo(this.rolesTableView, 'tableRowSelected', this.updateRolesToolItems);\r\n        this.listenTo(this.rolesTableView, 'tableRowUnselected', this.updateRolesToolItems);\r\n\r\n        // Set focus to Name column\r\n        if (!_.isUndefined(this.rolesTableView.accFocusedState.body.column)) {\r\n          this.rolesTableView.accFocusedState.body.column = 2;\r\n        }\r\n      }\r\n\r\n      // show\r\n      this.rolesToolbarRegion.show(this.rolesToolbarView);\r\n      this.rolesRegion.show(this.rolesTableView);\r\n    },\r\n\r\n    onShowRoles: function (status, options) {\r\n      // initialize the role details view. it is based in a modal dialog view\r\n      // to create a new tabable layer\r\n      this.editor = new ModalDialogView({\r\n        body: new ParticipantsView({\r\n          model: status.nodes.models[0],\r\n          roleCollection: status.originatingView.roleCollection,\r\n          participantCollection: status.originatingView.participantCollection\r\n        }),\r\n        modalClassName: 'conws-roles-edit'\r\n      });\r\n      this.editor.show();\r\n\r\n      // return an empty array of promises for the caller\r\n      return [];\r\n    },\r\n\r\n    onShowDetails: function (status, options) {\r\n      // initialize the role details view. it is based in a modal dialog view\r\n      // to achieve a new taba\r\n      this.editor = new ModalDialogView({\r\n        body: new RolesView({\r\n          model: status.nodes.models[0],\r\n          roleCollection: status.originatingView.roleCollection,\r\n          participantCollection: status.originatingView.participantCollection\r\n        }),\r\n        modalClassName: 'conws-role-details'\r\n      });\r\n      this.editor.show();\r\n\r\n      // return an empty array of promises for the caller\r\n      return [];\r\n    },\r\n\r\n    updateParticipantsToolItems: function () {\r\n      // update toolbar items\r\n      this.participantsToolbarView.updateForSelectedChildren(\r\n          this.participantsTableView.getSelectedChildren());\r\n    },\r\n\r\n    participantsTableDomRefresh: function () {\r\n      // update toolbar items\r\n      this.participantsToolbarView.updateForSelectedChildren(\r\n          this.participantsTableView.getSelectedChildren());\r\n      this.participantsTableView.triggerMethod(\r\n          'dom:refresh', this.participantsTableView);\r\n    },\r\n\r\n    updateRolesToolItems: function () {\r\n      // update toolbar items\r\n      this.rolesToolbarView.updateForSelectedChildren(\r\n          this.rolesTableView.getSelectedChildren());\r\n    },\r\n\r\n    rolesTableDomRefresh: function () {\r\n      // update toolbar items\r\n      this.rolesToolbarView.updateForSelectedChildren(\r\n          this.rolesTableView.getSelectedChildren());\r\n      this.rolesTableView.triggerMethod(\r\n          'dom:refresh', this.rolesTableView);\r\n    },\r\n\r\n    onShownTab: function (e) {\r\n      var hash = e.target.hash;\r\n      switch (hash) {\r\n      case '#participantstab':\r\n        this.renderParticipantsAfterFetch();\r\n        this.participantsTableDomRefresh();\r\n        break;\r\n      case '#rolestab':\r\n        this.renderRolesAfterFetch();\r\n        this.rolesTableDomRefresh();\r\n        break;\r\n      }\r\n    },\r\n\r\n    onParticipantsChanged: function () {\r\n      var self = this;\r\n      //mark the view as dirty\r\n      this.dirty = true;\r\n\r\n      self.participantCollection.fetch({\r\n        reload: true,\r\n        success: function () {\r\n          self.participantCollection.setNewParticipant();\r\n          //update the partcipant toolbar\r\n          self.updateParticipantsToolItems();\r\n        }\r\n      });\r\n      self.roleCollection.fetch({reload: true});\r\n\r\n      //update the roles toolbar\r\n      this.updateRolesToolItems();\r\n    },\r\n\r\n    // Event when the participant or roles collection was changed\r\n    onChanged: function () {\r\n      //mark the view as dirty\r\n      this.dirty = true;\r\n\r\n      //update the toolbars\r\n      this.updateParticipantsToolItems();\r\n      this.updateRolesToolItems();\r\n    },\r\n\r\n    // close the dialog / expanded view\r\n    onDestroy: function () {\r\n      // close open dialogs\r\n      if (this.rolesEditor) {\r\n        this.rolesEditor.close();\r\n        this.rolesEditor = undefined;\r\n      }\r\n      if (this.detailsEditor) {\r\n        this.detailsEditor.close();\r\n        this.detailsEditor = undefined;\r\n      }\r\n\r\n      // If the view is marked as dirty and a collapsed view is available trigger a refresh for the collapsed view\r\n      if (this.dirty && !_.isUndefined(this.collapsedView)) {\r\n        this.collapsedView.triggerMethod('refresh:list');\r\n      }\r\n      return true;\r\n    }\r\n\r\n  });\r\n\r\n  // attach events propagation mixin\r\n  _.extend(TeamTablesView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return TeamTablesView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/listitem/impl/listitemteammember',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"        <span class=\\\"cs-name\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"        <span class=\\\"cs-name\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"        <div class=\\\"cs-stage\\\">\\r\\n            <span class=\\\"cs-value\\\" title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.stage : depth0)) != null ? stack1.value : stack1), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.stage : depth0)) != null ? stack1.value : stack1), depth0))\n    + \"</span>\\r\\n            <span class=\\\"cs-label\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.stage : depth0)) != null ? stack1.label : stack1), depth0))\n    + \"</span>\\r\\n        </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"conws-user-avatar\\\"></div>\\r\\n<div class=\\\"cs-left\\\">\\r\\n    <div class=\\\"cs-title\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.isUser : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(3, data, 0)})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.stage : depth0)) != null ? stack1.value : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(5, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_listitem_impl_listitemteammember', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/listitem/impl/listitemteamrole',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"conws-role-avatar\\\">\\r\\n  <span class=\\\"cs-icon circular cs-icon-add\\\" aria-hidden=\\\"true\\\"></span>\\r\\n</div>\\r\\n<div class=\\\"cs-left\\\">\\r\\n  <div class=\\\"cs-title\\\">\\r\\n    <span class=\\\"cs-name cs-role conws-font-1em-italic-steel-grey\\\" title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.stage : depth0)) != null ? stack1.value : stack1), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.stage : depth0)) != null ? stack1.value : stack1), depth0))\n    + \"</span>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_listitem_impl_listitemteamrole', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/controls/listitem/impl/listitemteammember',[],function(){});\n","csui.define('conws/widgets/team/impl/controls/listitem/listitemteammember.view',[\r\n  'csui/lib/jquery',\r\n  'csui/utils/url',\r\n  'csui/controls/listitem/listitemstandard.view',\r\n  'csui/utils/contexts/factories/user',\r\n  'conws/widgets/team/impl/controls/avatar/avatar.view',\r\n  'esoc/widgets/userwidget/userwidget',\r\n  'hbs!conws/widgets/team/impl/controls/listitem/impl/listitemteammember',\r\n  'hbs!conws/widgets/team/impl/controls/listitem/impl/listitemteamrole',\r\n  'css!conws/widgets/team/impl/controls/listitem/impl/listitemteammember'\r\n], function ($, Url, StandardListItem, UserModelFactory, Avatar, UserWidget, memberTemplate,\r\n    roleTemplate) {\r\n\r\n  var TeamMemberListItem = StandardListItem.extend({\r\n\r\n    tagName: 'div',\r\n\r\n    className: 'conws-item-member ' + StandardListItem.prototype.className,\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    triggers: {\r\n      'click': 'click:item',\r\n      'click @ui.userAvatar': 'click:profile',\r\n      'click @ui.userProfileName': 'click:profile'\r\n    },\r\n\r\n    ui: {\r\n      userProfileName: '.cs-name',\r\n      userAvatar: '.conws-user-avatar'\r\n    },\r\n\r\n    constructor: function TeamMemberListItem(options) {\r\n\r\n      // initialize options\r\n      options || (options = {});\r\n      options.miniProfile = (options.miniProfile === undefined) ? true : false;\r\n      options.context || (options.context = options.model.collection.context);\r\n\r\n      // apply properties to parent\r\n      StandardListItem.apply(this, arguments);\r\n\r\n      // changes of the header model are rendered immediately\r\n      this.listenTo(this.model, 'change', this.render);\r\n    },\r\n\r\n    getTemplate: function () {\r\n      if (this.model.memberType === 'member') {\r\n        return memberTemplate;\r\n      } else {\r\n        return roleTemplate;\r\n      }\r\n    },\r\n\r\n    initialize: function () {\r\n      this.avatar = new Avatar({model: this.model});\r\n    },\r\n\r\n    onRender: function () {\r\n      if (this.model.get('type') !== undefined && this.model.get('type') === 0) {\r\n        var loggedUser            = this.options.context.getModel(UserModelFactory),\r\n            defaultOptions        = {\r\n              connector: this.model.connector,\r\n              model: this.model,\r\n              userid: this.model.get('id'),\r\n              context: this.options.context,\r\n              showUserProfileLink: true,\r\n              showMiniProfile: this.options.miniProfile,\r\n              loggedUserId: loggedUser.get('id')\r\n            },\r\n            userProfilePicOptions = $.extend({\r\n              placeholder: this.$el.find(this.ui.userAvatar),\r\n              showUserWidgetFor: 'profilepic'\r\n            }, defaultOptions);\r\n        UserWidget.getUser(userProfilePicOptions);\r\n\r\n        var userWidgetOptions = $.extend({\r\n          placeholder: this.$el.find(this.ui.userProfileName)\r\n        }, defaultOptions);\r\n        UserWidget.getUser(userWidgetOptions);\r\n      }\r\n      else {\r\n        this.$el.find(this.ui.userAvatar).append(this.avatar.render().$el);\r\n      }\r\n    },\r\n\r\n    onKeyDown: function (e) {\r\n      // open the user profile on enter / space\r\n      if (e.keyCode === 13 || e.keyCode === 32) {\r\n        this.$('a').click();\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n      }\r\n    }\r\n  });\r\n\r\n  return TeamMemberListItem;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/utils/previewpane/impl/rolemembers.empty',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"conws-preview empty-role-members-view\\\">\\r\\n    <span>\"\n    + this.escapeExpression(((helper = (helper = helpers.noResultsPlaceholder || (depth0 != null ? depth0.noResultsPlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"noResultsPlaceholder\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_utils_previewpane_impl_rolemembers.empty', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/utils/previewpane/impl/previewpane',[],function(){});\n","// Shows a list of team members\r\ncsui.define('conws/utils/previewpane/impl/rolemembers.view',['csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/controls/list/list.view',\r\n  'csui/controls/list/emptylist.view',\r\n  'csui/behaviors/limiting/limiting.behavior',\r\n  'csui/behaviors/expanding/expanding.behavior',\r\n  'conws/widgets/header/impl/header.model.factory',\r\n  'conws/widgets/team/impl/team.model.factory',\r\n  'conws/widgets/team/impl/teamtables.view',\r\n  'csui/utils/nodesprites',\r\n  'conws/widgets/team/impl/controls/listitem/listitemteammember.view',\r\n  'i18n!conws/utils/previewpane/impl/nls/previewpane.lang',\r\n  'hbs!conws/utils/previewpane/impl/rolemembers.empty',\r\n  'css!conws/utils/previewpane/impl/previewpane'\r\n], function (_, $, Marionette, ListView, EmptyView, LimitingBehavior, ExpandingBehavior,\r\n    HeaderModelFactory, TeamCollectionFactory,\r\n    TeamTablesView, NodeSpriteCollection, ListItem, lang, RoleMembersEmptyTemplate) {\r\n\r\n  // Empty team view\r\n  var RoleMembersEmptyView = Marionette.ItemView.extend({\r\n\r\n    constructor: function RoleMembersEmptyView(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    template: RoleMembersEmptyTemplate\r\n  });\r\n\r\n  //\r\n  // Constructor options:\r\n  // - showTitleIcon: boolean to show or hide the icon in the title bar\r\n  //\r\n  var RoleMembersView = Marionette.CollectionView.extend({\r\n\r\n    //className: 'conws-preview binf-list-group' + ListView.prototype.className,\r\n\r\n    constructor: function RoleMembersView(options) {\r\n      // initialize team view\r\n      options || (options = {});\r\n      options.data || (options.data = {});\r\n\r\n      // apply properties to parent\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    getEmptyView: function () {\r\n      return EmptyView;\r\n    },\r\n\r\n    emptyViewOptions: function () {\r\n      return {\r\n        templateHelpers: {\r\n          text: this.options.noRoleMembersMessage\r\n        }\r\n      }\r\n    },\r\n\r\n    childView: ListItem,\r\n\r\n    childViewOptions: function () {\r\n      return {\r\n        templateHelpers: function () {\r\n          return {\r\n            name: this.model.get('display_name'),\r\n            email: this.model.get('business_email'),\r\n            isUser: this.model.get('type') === 0,\r\n            stage: {\r\n              value: this.model.getLeadingRole(),\r\n              label: this.model.getRolesIndicator()\r\n            }\r\n          }\r\n        },\r\n        context: this.options.context,\r\n        miniProfile: false\r\n      }\r\n    },\r\n\r\n    childEvents: {\r\n      'click:profile': 'onClickProfile'\r\n    },\r\n\r\n    onClickProfile: function (view, data) {\r\n      this.triggerMethod('click:member', data);\r\n    },\r\n\r\n    /*\r\n    getExpandableDialogIcon: function () {\r\n        // initialize\r\n        var ret = {\r\n            icon: undefined,\r\n            image: undefined\r\n        };\r\n        // calculate the images to show\r\n        if (this.options.data.showTitleIcon) {\r\n            // we want to show a workspace specific icon\r\n            if (this.options.data.showWorkspaceImage) {\r\n                if (this.headerModel.icon.location !== 'none') {\r\n                    ret.image = this.headerModel.icon.content;\r\n                } else {\r\n                    ret.icon = NodeSpriteCollection.findByNode(this.headerModel).get('className');\r\n                }\r\n            } else {\r\n                // default header icon style\r\n                ret.icon = 'title-icon title-team';\r\n            }\r\n        }\r\n        // return\r\n        return ret;\r\n    },\r\n    */\r\n\r\n    onClickHeader: function (target) {\r\n      this.triggerMethod('expand');\r\n    }\r\n  });\r\n\r\n  return RoleMembersView;\r\n\r\n})\r\n;\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/utils/previewpane/impl/previewpane',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"binf-panel-heading conws-preview-header\\\">\\r\\n</div>\\r\\n\\r\\n<div class=\\\"binf-panel-body\\\">\\r\\n    <div class=\\\"conws-preview-metadata conws-preview-perfect-scroll\\\">\\r\\n    </div>\\r\\n\\r\\n    <hr>\\r\\n\\r\\n    <div class=\\\"binf-list-group conws-preview-role-members conws-preview-perfect-scroll\\\">\\r\\n        User Or Role Area\\r\\n    </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_utils_previewpane_impl_previewpane', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// Business Workspace Header View\r\ncsui.define('conws/utils/previewpane/previewpane.view',[\r\n  'require',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'csui/utils/base',\r\n  'csui/utils/log',\r\n  'csui/utils/url',\r\n  'csui/controls/list/emptylist.view',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/utils/previewpane/impl/previewheader.model',\r\n  'conws/utils/previewpane/impl/previewheader.view',\r\n  'conws/utils/previewpane/impl/attributes.model',\r\n  'conws/utils/previewpane/impl/role.model',\r\n  'conws/utils/previewpane/impl/rolemembers.view',\r\n  'conws/models/selectedmetadataform/selectedmetadataform.model',\r\n  'conws/controls/selectedmetadataform/selectedmetadataform.view',\r\n  'i18n!conws/utils/previewpane/impl/nls/previewpane.lang',\r\n  'hbs!conws/utils/previewpane/impl/previewpane',\r\n  'css!conws/utils/previewpane/impl/previewpane'\r\n], function (require, _, $, Marionette, Handlebars, WidgetContainerBehavior, base, log, Url,\r\n    EmptyView, PerfectScrollingBehavior, LayoutViewEventsPropagationMixin,\r\n    PreviewHeaderModel, PreviewHeaderView, PreviewAttributesModel,\r\n    RoleMemberCollection, RoleMembersView,\r\n    MetadataModel, MetadataView,\r\n    lang, template) {\r\n\r\n  // initialize the Header View\r\n  var PreviewPaneView = Marionette.LayoutView.extend({\r\n    // CSS class names\r\n    className: 'conws-preview panel panel-default',\r\n\r\n    // Template is used to render the HTML for the view\r\n    template: template,\r\n\r\n    // the nested region is required to place right hand child view\r\n    regions: {\r\n      headerRegion: '.conws-preview-header',\r\n      metaDataRegion: '.conws-preview-metadata',\r\n      roleMembersRegion: '.conws-preview-role-members'\r\n    },\r\n\r\n    // the triggers are used to add / remove the workspace icon\r\n    triggers: {\r\n      'change #header-ws-add-icon-file': 'add:icon',\r\n      'click  #header-ws-remove-icon': 'remove:icon'\r\n    },\r\n\r\n    // find a better solution instead of a blank 1x1px png image\r\n    blankImage: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQI12NgYAAAAAMAASDVlMcAAAAASUVORK5CYII=',\r\n\r\n    behaviors: {\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.conws-preview-perfect-scroll',\r\n        suppressScrollX: true\r\n      }\r\n    },\r\n\r\n    // The constructor gives an explicit name the the object in the debugger and\r\n    // can update the options for the parent view\r\n    constructor: function PreviewPaneView(options) {\r\n      // wire models and collections also to the parent view\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n      options || (options = {});\r\n      this.config = options.config;\r\n      this.fetched = false;\r\n\r\n      // Only in case role or metadata is configured, show preview\r\n      if (this.config.roleId || this.config.metadata) {\r\n        // the related item view to show the preview for\r\n        this.parent = options.parent;\r\n\r\n        this.config.noMetadataMessage = this._localize('noMetadataMessage');\r\n        this.config.noRoleMembersMessage = this._localize('noRoleMembersMessage');\r\n        this.config.readonly = true;\r\n\r\n        //---------------------------------------------------------------\r\n        // create Backbone models for PreviewPane\r\n        //---------------------------------------------------------------\r\n        this.headerModel = new PreviewHeaderModel(options);\r\n        this.metaDataModel = new MetadataModel(undefined, {\r\n          node: options.node,\r\n          metadataConfig: this.config,\r\n          autofetch: true,\r\n          autoreset: true\r\n        });\r\n\r\n        this.roleMemberCollection = new RoleMemberCollection(null, options);\r\n\r\n        //---------------------------------------------------------------\r\n        // setup popover\r\n        //---------------------------------------------------------------\r\n        var container = $.fn.binf_modal.getDefaultContainer ?\r\n                        $.fn.binf_modal.getDefaultContainer() : 'body';\r\n        options.parent.$el.binf_popover({\r\n          content: this.$el,\r\n          parent: options.parent.$el,\r\n          placement: function () {\r\n            // reset element where popover is displayed, could have been changed e.g. due to\r\n            // resize browser\r\n            this.$element = this.options.parent;\r\n\r\n            // See also binf.js (Bootstrap - popover placement)\r\n            var defaultPlacement = \"right\";\r\n            var placement = defaultPlacement;\r\n            var tip = this.tip();\r\n\r\n            // To get the correct size and check the position, it must be attached\r\n            tip.detach()\r\n                .css({top: 0, left: 0, display: 'block'})\r\n                .addClass('binf-' + placement)\r\n                .data('binf.' + this.type, this);\r\n            this.options.container ? tip.appendTo(this.options.container) : tip.insertAfter(this.$element);\r\n\r\n            var pos = this.getPosition();\r\n            var $container = this.options.container ? $(this.options.container) :\r\n                             this.$element.parent();\r\n            var containerDim = this.getPosition($container);\r\n            var actualWidth = tip[0].offsetWidth;\r\n\r\n            // Check for space on the right side or on the left side of the widget\r\n            // containerDim.width = complete window width\r\n            if ((pos.right + actualWidth < containerDim.width) || (pos.left - actualWidth > 0)) {\r\n              // Calculate right or left placement beside the widget\r\n              placement = pos.right + actualWidth > containerDim.width ? 'left' :\r\n                          pos.left - actualWidth < containerDim.left ? 'right' :\r\n                          placement;\r\n            }\r\n            else {\r\n              // In case on the left and on the right side is not enough space, place it on the\r\n              // right side beside the title. Therefore change element beside popup is displayed\r\n              // to preview pane default position element if exist\r\n              var defaultPosition = $(this.$element[0]).find('.conws-previewpane-default-position');\r\n              if (defaultPosition.length > 0) {\r\n                this.$element.removeAttr('aria-describedby')\r\n                this.$element = defaultPosition\r\n                this.$element.attr('aria-describedby', tip.attr('id'))\r\n              }\r\n            }\r\n\r\n            // If placement has changed, set proper class\r\n            if( placement !== defaultPlacement ){\r\n              tip.removeClass('binf-' + defaultPlacement).addClass('binf-' + placement);\r\n            }\r\n\r\n            return placement;\r\n          },\r\n          trigger: 'manual',\r\n          container: container,\r\n          html: true\r\n        });\r\n\r\n        var $tip = this.parent.$el.data('binf.popover');\r\n        var $pop = $tip.tip();\r\n        $pop.addClass('conws-previewpane-popover');\r\n\r\n        //---------------------------------------------------------------\r\n        // setup event handlers for popover and its associated item view\r\n        //---------------------------------------------------------------\r\n\r\n        $pop.on('mouseenter', this, $.proxy(function () {\r\n              if (this.config.debug === true) {\r\n                log.info('Preview ' + this.options.node.get('id') + ': Mouseenter popover') && console.log(log.last);\r\n              }\r\n              this.show();\r\n            }, this)\r\n        );\r\n\r\n        $pop.on('mouseleave', this, $.proxy(function () {\r\n              if (this.config.debug === true) {\r\n                log.info('Preview ' + this.options.node.get('id') + ': Mouseleave popover') && console.log(log.last);\r\n              }\r\n              this.delayedHide();\r\n            }, this)\r\n        );\r\n\r\n        this.propagateEventsToRegions();\r\n      }\r\n    },\r\n\r\n    onBeforeDestroy: function (e) {\r\n      if (this.config.roleId || this.config.metadata) {\r\n        this.parent.$el.binf_popover('destroy');\r\n      }\r\n    },\r\n\r\n    show: function () {\r\n      // Only in case role or metadata is configured, show preview\r\n      if (this.config.roleId || this.config.metadata) {\r\n        var that = this;\r\n\r\n        if (this.config.debug === true) {\r\n          log.info('Preview ' + this.options.node.get('id') + ': Preparing show') && console.log(log.last);\r\n        }\r\n\r\n        // clear hide timeout if there is one\r\n        if (this.hideTimeout) {\r\n          clearTimeout(this.hideTimeout);\r\n          if (this.config.debug === true) {\r\n            log.info('Preview ' + this.options.node.get('id') + ': Cleared hide timeout') && console.log(log.last);\r\n          }\r\n          this.hideTimeout = null;\r\n        }\r\n\r\n        // nothing to do if already visible\r\n        if (this.$el.is(\":visible\")) {\r\n          if (this.config.debug === true) {\r\n            log.info('Preview ' + this.options.node.get('id') + ': Already visible') && console.log(log.last);\r\n          }\r\n          return;\r\n        }\r\n\r\n        this.showCancelled = false;\r\n\r\n        this.$el.hide();\r\n        this.render();\r\n        var $deferred = $.Deferred();\r\n\r\n        if (this.headerView) {\r\n          this.headerView.destroy();\r\n        }\r\n\r\n        if (this.roleView) {\r\n          this.roleView.destroy();\r\n        }\r\n\r\n        if (this.metaDataView) {\r\n          this.metaDataView.destroy();\r\n        }\r\n\r\n        this.headerView = new PreviewHeaderView({model: this.headerModel});\r\n        this.roleView = new RoleMembersView({\r\n          collection: this.roleMemberCollection,\r\n          noRoleMembersMessage: this.config.noRoleMembersMessage,\r\n          // Context is needed in constructor of TeamMemberListItem, so we need to pass it here\r\n          context: this.options.context\r\n        });\r\n        this.listenTo(this.roleView, 'click:member', this.hide);\r\n\r\n        this.metaDataView = new MetadataView({\r\n          model: this.metaDataModel,\r\n          context: this.options.context\r\n        });\r\n        this.metaDataView.on('render:form', function () {\r\n          that._attachUserFieldHandlers(this);\r\n          // Only called in case meta data configured\r\n          $deferred.resolve();\r\n        });\r\n\r\n        if( !this.config.metadata ){\r\n          // In case no meta data configured, still show role members\r\n          $deferred.resolve();\r\n        }\r\n\r\n        var proms;\r\n        if (!this.fetched) {\r\n          proms = [\r\n            this.headerModel.fetch(),\r\n            this.metaDataModel.fetch(),\r\n            this.roleMemberCollection.fetch(),\r\n            $deferred\r\n          ];\r\n        }\r\n        else if ( this.config.metadata ) {\r\n          // Do only in case metadata is configured\r\n          this.metaDataModel.trigger('change');\r\n          proms = [\r\n            $.Deferred().resolve(),\r\n            $.Deferred().resolve(),\r\n            $.Deferred().resolve(),\r\n            $deferred\r\n          ];\r\n        }\r\n\r\n        $.when.apply(this, proms).done(\r\n            _.bind(function () {\r\n              this.fetched = true;\r\n              if (!this.showCancelled) {\r\n                // close all other preview popovers\r\n                $(\".conws-previewpane-popover\").each(function (i, el) {\r\n                  var popoverId = $(el).attr('id');\r\n                  $(\"[aria-describedby^='\" + popoverId + \"']\").binf_popover('hide')\r\n                });\r\n\r\n                if (this.config.debug === true) {\r\n                  log.info('Preview ' + this.options.node.get('id') + ': Showing') && console.log(log.last);\r\n                }\r\n\r\n                var renderMeta = false;\r\n                if (_.isEmpty(this.metaDataModel.attributes.data)) {\r\n                  this.metaDataView = new EmptyView({text: this.config.noMetadataMessage});\r\n                  renderMeta = true;\r\n                }\r\n\r\n                // prepare and show popover for this item\r\n                this.headerRegion.show(this.headerView, {render: true});\r\n                this.metaDataRegion.show(this.metaDataView, {render: renderMeta});\r\n                this.roleMembersRegion.show(this.roleView, {render: true});\r\n                this.$el.show();\r\n                this.options.parent.$el.binf_popover('show');\r\n\r\n                if (this.config.debug === true) {\r\n                  log.info(\"Viewport height: \" + $(window).height()) && console.log(log.last);\r\n                  log.info(\"document height: \" + $(document).height()) && console.log(log.last);\r\n                  log.info(\"body     height: \" + $('body').height()) && console.log(log.last);\r\n                  log.info(\"popover  height: \" + this.$el.height()) && console.log(log.last);\r\n                  log.info(\"metadata height: \" +\r\n                              this.$el.find('.conws-preview-metadata').height()) && console.log(log.last);\r\n                  log.info(\"role     height: \" +\r\n                              this.$el.find('.conws-preview-role-members').height()) && console.log(log.last);\r\n                }\r\n                //triggering the perfect scroll behavior after updating the dom with metadata and roles data\r\n                this.triggerMethod('dom:refresh');\r\n              }\r\n              else if (this.config.debug === true) {\r\n                log.info('Preview ' + this.options.node.get('id') +\r\n                            ': Show was cancelled -> skipped') && console.log(log.last);\r\n              }\r\n            }, this)\r\n        );\r\n      }\r\n    },\r\n\r\n    hide: function () {\r\n      if (this.config.debug === true) {\r\n        log.info('Preview ' + this.options.node.get('id') + ': Going to hide') && console.log(log.last);\r\n      }\r\n\r\n      if (this.config && !this.config.debugNoHide) {\r\n        if (this.config.debug === true) {\r\n          log.info('Preview ' + this.options.node.get('id') + ': Hidden') && console.log(log.last);\r\n        }\r\n        this.options.parent.$el.binf_popover('hide');\r\n        this.hideTimeout = null;\r\n      }\r\n      else {\r\n        if (this.config.debug === true) {\r\n          log.info('Preview ' + this.options.node.get('id') + ': Leaving visible') && console.log(log.last);\r\n        }\r\n      }\r\n\r\n      this.showCancelled = true;\r\n      this.hideTimeout = null;\r\n    },\r\n\r\n    delayedHide: function () {\r\n      if (this.config.debug === true) {\r\n        log.info('Preview ' + this.options.node.get('id') + ': Setting hide timeout') && console.log(log.last);\r\n      }\r\n      this.hideTimeout = window.setTimeout($.proxy(this.hide, this), 200);\r\n    },\r\n\r\n    _localize: function (name) {\r\n      var ret = lang[name];\r\n\r\n      if (this.config[name]) {\r\n        ret = base.getClosestLocalizedString(this.config[name], ret);\r\n      }\r\n\r\n      return ret;\r\n    },\r\n\r\n    // Attaches event handlers to user fields to\r\n    //    1. prevent user fields from displaying their info popover\r\n    //    2. close preview pane when user field is clicked to open user profile\r\n    _attachUserFieldHandlers: function (metadataView) {\r\n      var handler = function (event) {\r\n        log.info(\"User field mouseover\") && console.log(log.last);\r\n        event.stopPropagation();\r\n        return false;\r\n      };\r\n\r\n      var userFields = metadataView.$el.find(\".cs-userfield .cs-field-read\");\r\n      _.each(userFields, function (field) {\r\n        field.addEventListener('mouseover', handler, true);\r\n      });\r\n\r\n      handler = $.proxy(this.hide, this);\r\n      metadataView.$el.find(\".cs-userfield .cs-field-read-inner\").click(handler);\r\n    }\r\n  });\r\n\r\n  _.extend(PreviewPaneView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  // return the initialized view\r\n  return PreviewPaneView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/relatedworkspaces/impl/relateditem',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"            <span class=\\\"conws-value\\\">\\r\\n              <span class=\\\"conws-previewpane-default-position\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.title : depth0)) != null ? stack1.value : stack1), depth0))\n    + \"</span>\\r\\n            </span>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.title : depth0)) != null ? stack1.label : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"2\":function(depth0,helpers,partials,data) {\n    return \"              <!-- add element to get proper distance to value -->\\r\\n              <div class=\\\"conws-spacer\\\"></div>\\r\\n\";\n},\"4\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"            <span class=\\\"conws-label\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.title : depth0)) != null ? stack1.label : stack1), depth0))\n    + \"</span>\\r\\n\";\n},\"6\":function(depth0,helpers,partials,data) {\n    return \"            <!-- add element to get proper distance to description -->\\r\\n            <div class=\\\"conws-description-spacer\\\"></div>\\r\\n\";\n},\"8\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"          <div class=\\\"conws-right\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.topRight : depth0)) != null ? stack1.value : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(9, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.topRight : depth0)) != null ? stack1.label : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(12, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"          </div>\\r\\n\";\n},\"9\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"              <span class=\\\"conws-value\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.topRight : depth0)) != null ? stack1.value : stack1), depth0))\n    + \"</span>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.topRight : depth0)) != null ? stack1.label : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(10, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"10\":function(depth0,helpers,partials,data) {\n    return \"                <!-- add element to get proper distance to value -->\\r\\n                <div class=\\\"conws-spacer\\\"></div>\\r\\n\";\n},\"12\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"              <span class=\\\"conws-label\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.topRight : depth0)) != null ? stack1.label : stack1), depth0))\n    + \"</span>\\r\\n\";\n},\"14\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"          <div class=\\\"conws-body\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.description : depth0)) != null ? stack1.value : stack1), depth0))\n    + \"</div>\\r\\n\";\n},\"16\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"          <div class=\\\"conws-left\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.bottomLeft : depth0)) != null ? stack1.label : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(17, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.bottomLeft : depth0)) != null ? stack1.value : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(19, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"          </div>\\r\\n\";\n},\"17\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"              <span class=\\\"conws-label\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.bottomLeft : depth0)) != null ? stack1.label : stack1), depth0))\n    + \"</span>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.bottomLeft : depth0)) != null ? stack1.value : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(10, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"19\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"              <span class=\\\"conws-value\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.bottomLeft : depth0)) != null ? stack1.value : stack1), depth0))\n    + \"</span>\\r\\n\";\n},\"21\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"          <div class=\\\"conws-right\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.bottomRight : depth0)) != null ? stack1.label : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(22, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.bottomRight : depth0)) != null ? stack1.value : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(24, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"          </div>\\r\\n\";\n},\"22\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"              <span class=\\\"conws-label\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.bottomRight : depth0)) != null ? stack1.label : stack1), depth0))\n    + \"</span>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.bottomRight : depth0)) != null ? stack1.value : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(10, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"24\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"              <span class=\\\"conws-value\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.bottomRight : depth0)) != null ? stack1.value : stack1), depth0))\n    + \"</span>\\r\\n\";\n},\"26\":function(depth0,helpers,partials,data) {\n    return \"  <div class=\\\"conws-relateditem-divider\\\"></div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"conws-relateditem-action-area\\\">\\r\\n  <a class=\\\"conws-nostyle\\\" href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.defaultActionUrl || (depth0 != null ? depth0.defaultActionUrl : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"defaultActionUrl\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n    <div class=\\\"conws-relateditem-border\\\">\\r\\n      <div class=\\\"conws-relateditem-top\\\">\\r\\n        <div class=\\\"conws-title conws-left\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.title : depth0)) != null ? stack1.value : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.title : depth0)) != null ? stack1.label : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(4, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.description : depth0)) != null ? stack1.value : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(6, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"        </div>\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.topRight : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(8, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"      </div>\\r\\n\\r\\n      <div class=\\\"conws-relateditem-center\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.description : depth0)) != null ? stack1.value : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(14, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"      </div>\\r\\n\\r\\n      <div class=\\\"conws-relateditem-bottom\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.bottomLeft : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(16, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.bottomRight : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(21, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"      </div>\\r\\n    </div>\\r\\n  </a>\\r\\n</div>\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.notLastItem : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(26, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('conws_widgets_relatedworkspaces_impl_relateditem', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/relatedworkspaces/impl/relateditem',[],function(){});\n","// Shows a list of workspaces related to the current one\r\ncsui.define('conws/widgets/relatedworkspaces/impl/relateditem.view',['module', 'csui/lib/underscore', 'csui/lib/marionette', 'csui/lib/jquery',\r\n  'conws/utils/previewpane/previewpane.view',\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  'csui/utils/base',\r\n  'csui/lib/numeral',\r\n  'i18n!conws/widgets/relatedworkspaces/impl/nls/lang',\r\n  'hbs!conws/widgets/relatedworkspaces/impl/relateditem',\r\n  'css!conws/widgets/relatedworkspaces/impl/relateditem'\r\n], function (module, _, Marionette, $,\r\n    PreviewPaneView,\r\n    DefaultActionBehavior,\r\n    base,\r\n    numeral,\r\n    lang,\r\n    itemTemplate) {\r\n\r\n  var RelatedItemView = Marionette.ItemView.extend({\r\n\r\n    behaviors: {\r\n      DefaultAction: {\r\n        behaviorClass: DefaultActionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function RelatedItemView() {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    triggers: {\r\n      'click .conws-relateditem-border': 'click:item'\r\n    },\r\n\r\n    events: {\r\n      'mouseenter': 'showPreviewPane',\r\n      'mouseleave': 'hidePreviewPane'\r\n    },\r\n\r\n    onClickItem: function () {\r\n      this.destroyPreviewPane();\r\n      this.triggerMethod('execute:defaultAction', this.model);\r\n    },\r\n\r\n    onBeforeDestroy: function (e) {\r\n      this.destroyPreviewPane();\r\n    },\r\n\r\n    showPreviewPane: function () {\r\n      if (this.options && this.options.data && this.options.data.preview && (this.options.data.preview.roleId || this.options.data.preview.metadata)) {\r\n        if (!this.previewPane) {\r\n          this.previewPane = new PreviewPaneView({\r\n            parent: this,\r\n            context: this.options.context,\r\n            config: this.options.data && this.options.data.preview,\r\n            node: this.model\r\n          });\r\n        }\r\n        this.previewPane.show();\r\n      }\r\n    },\r\n\r\n    hidePreviewPane: function () {\r\n      if (this.previewPane) {\r\n        this.previewPane.delayedHide();\r\n      }\r\n    },\r\n\r\n    destroyPreviewPane: function() {\r\n      if (this.previewPane) {\r\n        this.previewPane.destroy();\r\n        delete this.previewPane;\r\n      }\r\n    },\r\n\r\n    className: 'conws-relateditem-object clearfix',\r\n    template: itemTemplate,\r\n\r\n    serializeData: function () {\r\n\r\n      // prepare values\r\n      var allval = this._getObject(this.options.data || {});\r\n\r\n      var values = {};\r\n\r\n      // take only values we want\r\n      allval.title && (values.title = allval.title);\r\n      allval.description && (values.description = allval.description);\r\n      allval.topRight && (values.topRight = allval.topRight);\r\n      allval.bottomLeft && (values.bottomLeft = allval.bottomLeft);\r\n      allval.bottomRight && (values.bottomRight = allval.bottomRight);\r\n\r\n      // default values if still no value is set\r\n      values.title || (values.title = {value: this.model.get('name')});\r\n      values.name || (values.name = this.model.get('name'));\r\n      values.id || (values.id = this.model.get('id'));\r\n      values.defaultActionUrl = DefaultActionBehavior.getDefaultActionNodeUrl(this.model);\r\n\r\n      // provide property to indicate that this is not the last item\r\n      if (this.model.get(\"id\") !==\r\n          this.model.collection.models[this.model.collection.models.length - 1].get(\"id\")) {\r\n        values.notLastItem = true;\r\n      }\r\n\r\n      return values;\r\n    },\r\n\r\n    templateHelpers: function (data) {\r\n      return data;\r\n    },\r\n\r\n    // Loop over configuration and set proper content that should be displayed\r\n    _getObject: function (object) {\r\n      return _.reduce(object, function (result, expression, name) {\r\n        if (typeof expression !== 'object') {\r\n          expression = this.self._getValue(expression);\r\n        } else if (typeof expression === 'object') {\r\n          if(name === 'value' || name === 'label') {\r\n            var exp = base.getClosestLocalizedString(expression);\r\n            expression = this.self._getValue(exp);\r\n          }\r\n          else {\r\n            expression = this.self._getObject(expression);\r\n          }\r\n        }\r\n        result[name] = expression;\r\n\r\n        return result;\r\n      }, {}, {\"self\": this});\r\n    },\r\n\r\n    _getValue: function (expression) {\r\n      // Replace the {} parameter placeholders\r\n      var parameterPlaceholder = /{([^:}]+)(:([^}]+))?}/g,\r\n          match, propertyName, placeholder, value, valueFormat, result = expression;\r\n      // Go over every parameter placeholder found\r\n      // Don't change expression while doing this, because exec remembers position of last matches\r\n      while ((match = parameterPlaceholder.exec(expression))) {\r\n        placeholder = match[0];\r\n        propertyName = match[1];\r\n        valueFormat = match[3];\r\n        // Format the value according to his type\r\n        if (this.model.collection.columns.models) {\r\n          value = this._formatPlaceholder(propertyName, valueFormat, this.model.attributes,\r\n              this.model.collection.columns.models);\r\n        }\r\n\r\n        // Replace the placeholder with the value found\r\n        result = result.replace(placeholder, value);\r\n      }\r\n      return result;\r\n    },\r\n\r\n    // returns a type specifically formatted model value.\r\n    _formatPlaceholder: function (propertyName, valueFormat, attributes, columnModels) {\r\n      var value, column, type, suffix = \"_expand\", orgPropertyName = propertyName;\r\n\r\n      column = _.find(columnModels, function (obj) {\r\n        return obj.get(\"column_key\") === propertyName;\r\n      });\r\n      type = column && column.get(\"type\") || undefined;\r\n\r\n      // If exist use expanded property\r\n      propertyName = attributes[propertyName + suffix] ? propertyName + suffix : propertyName;\r\n      value = attributes[propertyName] || \"\";\r\n\r\n      switch (type) {\r\n      case -7:\r\n        value = base.formatDate(value);\r\n        break;\r\n      case 5:\r\n        // Type 5 is a boolean and in this case format properly\r\n        value = attributes[propertyName + \"_formatted\"];\r\n        if (value === null || value === undefined) {\r\n          value = '';\r\n        }\r\n        break;\r\n      case 2, 14:\r\n        // Type 2 and 14 can be user or group and in this case format properly\r\n        // Check for type_name : user + expand -> user\r\n        // Check for type_name : group + expand -> group\r\n        if (propertyName.indexOf(suffix, this.length - suffix.length) !== -1 &&\r\n            (attributes[propertyName].type_name === \"User\" || attributes[propertyName].type_name === \"Group\")) {\r\n          value = base.formatMemberName(value);\r\n        }\r\n        // No break because it must also be checked for default!\r\n        /* falls through */\r\n      default:\r\n        // Allow currency to applied for different types, e.g. also a string can be\r\n        // formatted as currency\r\n        if (valueFormat === 'currency') {\r\n          // FIXME: format properly if csui provide formating currencies, for now use default\r\n          value = numeral(value).format();\r\n        }\r\n\r\n        // In case the value is still expanded object (e.g. user property is undefined, ...)\r\n        // Set value the not expanded property\r\n        if (typeof value === 'object') {\r\n          value = attributes[orgPropertyName] || \"\";\r\n        }\r\n      }\r\n      return value;\r\n    }\r\n  });\r\n\r\n  return RelatedItemView;\r\n\r\n});\r\n\n","csui.define('conws/utils/workspaces/close.expanded.view',['require', 'csui/lib/jquery', 'csui/utils/base', 'csui/lib/underscore',\r\n  'csui/utils/commandhelper', 'csui/models/command'\r\n], function (require, $, base, _, CommandHelper, CommandModel) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Dummy command to make a close button visible and executable in toolbar view.\r\n   * But do not register command in the global command list.\r\n   * Execution is done by the view itself listening to the toolbar events\r\n   * 'before:execute:command' and 'after:execute:command'.\r\n   */\r\n  var CloseExpandedViewCommand = CommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: \"CloseExpandedView\",\r\n      scope: \"single\"\r\n    },\r\n\r\n    enabled: function (status, options) {\r\n      return true;\r\n    },\r\n\r\n    execute: function (status, options) {\r\n    }\r\n\r\n  });\r\n\r\n  return CloseExpandedViewCommand;\r\n\r\n});\r\n\n","csui.define('conws/widgets/relatedworkspaces/commands',[\r\n  'csui/models/commands',\r\n  'csui/utils/commands',\r\n  'conws/utils/workspaces/close.expanded.view'\r\n], function (\r\n    CommandCollection,\r\n    commands,\r\n    CloseExpandedViewCommand) {\r\n\r\n    /**\r\n     * Append close command to standard commands list, to have it in the related items view only.\r\n     */\r\n    var relatedWorkspacesCommands = new CommandCollection([\r\n      new CloseExpandedViewCommand()\r\n    ].concat(commands.models));\r\n\r\n  return relatedWorkspacesCommands;\r\n});\r\n\n","\n","csui.define('conws/widgets/relatedworkspaces/toolbaritems',[\r\n  'csui/lib/underscore',\r\n  'i18n!conws/utils/workspaces/impl/nls/lang',\r\n  'i18n!conws/widgets/relatedworkspaces/impl/nls/lang',\r\n  'csui/controls/toolbar/toolitems.factory',\r\n  'csui/controls/toolbar/toolitem.model',\r\n  'csui/widgets/favorites/favorite.star.view',\r\n  // Load extra tool items to be added to this collection\r\n  'csui-ext!conws/widgets/relatedworkspaces/toolbaritems'\r\n], function (_, wksplang, lang, ToolItemsFactory, TooItemModel, FavoriteStarView,\r\n    extraToolItems) {\r\n  'use strict';\r\n\r\n  // Keep the keys in sync with csui/widgets/nodestable/toolbaritems.masks\r\n  var toolbarItems = {\r\n\r\n    addToolbar: new ToolItemsFactory(\r\n        {\r\n          main: [\r\n            {\r\n              signature: \"AddRelation\",\r\n              name: lang.ToolbarItemAddRelation,\r\n              icon: \"icon icon-toolbarAdd\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          maxItemsShown: 2,\r\n          dropDownIcon: \"icon icon-toolbar-more\",\r\n          dropDownText: \"...\",\r\n          addTrailingDivider: false\r\n        }),\r\n    tableHeaderToolbar: new ToolItemsFactory({\r\n        main: [\r\n          {\r\n            signature: \"RemoveRelation\",\r\n            name: lang.ToolbarItemRemoveRelation\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        maxItemsShown: 15,\r\n        dropDownIcon: \"icon icon-toolbar-more\",\r\n        dropDownText: \"...\",\r\n        addGroupSeparators: false,\r\n        lazyActions: true\r\n      }),\r\n    rightToolbar: new ToolItemsFactory({\r\n      main: [\r\n        {\r\n          signature: \"CloseExpandedView\",\r\n          name: wksplang.ToolbarItemCloseExpandedView,\r\n          icon: \"icon icon-tileCollapse\"\r\n        }\r\n     ]\r\n    }, {\r\n      hAlign: \"right\",\r\n      maxItemsShown: 5,\r\n      dropDownIcon: \"icon icon-toolbar-more\",\r\n      dropDownText: \"...\",\r\n      addTrailingDivider: false\r\n    })\r\n  };\r\n\r\n  if (extraToolItems) {\r\n    _.each(extraToolItems, function (moduleToolItems) {\r\n      _.each(moduleToolItems, function (toolItems, key) {\r\n        var targetToolbar = toolbarItems[key];\r\n        if (!targetToolbar && key === 'otherToolbar') {\r\n          targetToolbar = toolbarItems['tableHeaderToolbar'];\r\n        }\r\n        if (!targetToolbar) {\r\n          throw new Error('Invalid target toolbar: ' + key);\r\n        }\r\n        _.each(toolItems, function (toolItem) {\r\n          toolItem = new TooItemModel(toolItem);\r\n          targetToolbar.addItem(toolItem);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  return toolbarItems;\r\n});\r\n\n","csui.define('conws/widgets/relatedworkspaces/toolbaritems.masks',['module', 'csui/lib/underscore',\r\n  'csui/controls/toolbar/toolitems.mask',\r\n  'csui/utils/toolitem.masks/global.toolitems.mask'\r\n], function (module, _, ToolItemMask, GlobalMenuItemsMask) {\r\n  'use strict';\r\n\r\n  // Keep the keys in sync with conws/widgets/relatedworkspaces/impl/toolbaritems\r\n  var toolbars = ['filterToolbar', 'leftToolbar', 'tableHeaderToolbar',\r\n                  'inlineActionbar', 'rightToolbar'];\r\n\r\n  function ToolbarItemsMasks() {\r\n    var config = module.config(),\r\n        globalMask = new GlobalMenuItemsMask();\r\n    // Create and populate masks for every toolbar\r\n    this.toolbars = _.reduce(toolbars, function (toolbars, toolbar) {\r\n      var mask = new ToolItemMask(globalMask, {normalize: false});\r\n      // Masks passed in by separate require.config calls are sub-objects\r\n      // stored in the outer object be different keys\r\n      _.each(config, function (source, key) {\r\n        source = source[toolbar];\r\n        if (source) {\r\n          mask.extendMask(source);\r\n        }\r\n      });\r\n      // Enable restoring the mask to its initial state\r\n      mask.storeMask();\r\n      toolbars[toolbar] = mask;\r\n      return toolbars;\r\n    }, {});\r\n  }\r\n\r\n  ToolbarItemsMasks.toolbars = toolbars;\r\n\r\n  return ToolbarItemsMasks;\r\n\r\n});\r\n\n","\n","csui.define('conws/widgets/relatedworkspaces/headermenuitems',['csui/lib/underscore',\r\n  'i18n!csui/controls/tabletoolbar/impl/nls/localized.strings',\r\n  'csui/controls/toolbar/toolitems.factory',\r\n  'csui/controls/toolbar/toolitem.model',\r\n  // Load extra tool items to be added to this collection\r\n  'csui-ext!conws/widgets/relatedworkspaces/headermenuitems'\r\n], function (_, lang, ToolItemsFactory, TooItemModel, extraMenuItems) {\r\n\r\n  var toolbarItems = {\r\n    headerMenuToolbar: new ToolItemsFactory({\r\n          other: [] // empty list. no menu is displayed.\r\n        },\r\n        {\r\n          maxItemsShown: 0, // force toolbar to immediately start with a drop-down list\r\n          dropDownIcon: \"icon icon-expandArrowDown\"\r\n        }\r\n    )\r\n  };\r\n\r\n  if (extraMenuItems) {\r\n    _.each(extraMenuItems, function (moduleMenuItems) {\r\n      _.each(moduleMenuItems, function (menuItems, key) {\r\n        var targetToolbar = toolbarItems[key];\r\n        if (!targetToolbar) {\r\n          throw new Error('Invalid target toolbar: ' + key);\r\n        }\r\n        _.each(menuItems, function (menuItem) {\r\n          menuItem = new TooItemModel(menuItem);\r\n          targetToolbar.addItem(menuItem);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  return toolbarItems;\r\n\r\n});\r\n\n","csui.define('conws/widgets/relatedworkspaces/headermenuitems.masks',['module', 'csui/lib/underscore',\r\n  'csui/controls/toolbar/toolitems.mask',\r\n  'csui/utils/toolitem.masks/global.toolitems.mask'\r\n], function (module, _, ToolItemMask, GlobalMenuItemsMask) {\r\n  'use strict';\r\n\r\n  var HeaderMenuItemsMask = ToolItemMask.extend({\r\n\r\n    constructor: function HeaderMenuItemsMask() {\r\n      var config = module.config(),\r\n          globalMask = new GlobalMenuItemsMask();\r\n      ToolItemMask.prototype.constructor.call(this, globalMask, {normalize: false});\r\n      // Masks passed in by separate require.config calls are sub-objects\r\n      // stored in the outer object be different keys\r\n      _.each(config, function (source, key) {\r\n        this.extendMask(source);\r\n      }, this);\r\n      // Enable restoring the mask to its initial state\r\n      this.storeMask();\r\n    }\r\n\r\n  });\r\n\r\n  return HeaderMenuItemsMask;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/utils/workspaces/workspacestable',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"conws-alternating-toolbars\\\">\\r\\n  <div class=\\\"conws-table-tabletoolbar\\\"></div>\\r\\n  <div class=\\\"conws-table-rowselection-toolbar\\\"></div>\\r\\n</div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showAlternatingToolbar : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"<div class=\\\"conws-workspacestable\\\">\\r\\n  <div id=\\\"tableview\\\"></div>\\r\\n  <div id=\\\"paginationview\\\"></div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_utils_workspaces_workspacestable', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/utils/workspaces/workspaces.columns',['csui/lib/backbone'], function (Backbone) {\r\n\r\n  var TableColumnModel = Backbone.Model.extend({\r\n\r\n    idAttribute: 'key',\r\n\r\n    defaults: {\r\n      key: null,  // key from the resource definitions\r\n      sequence: 0 // smaller number moves the column to the front\r\n    }\r\n\r\n  });\r\n\r\n  var TableColumnCollection = Backbone.Collection.extend({\r\n\r\n    model: TableColumnModel,\r\n    comparator: 'sequence',\r\n\r\n    getColumnKeys: function () {\r\n      return this.pluck('key');\r\n    },\r\n\r\n    deepClone: function () {\r\n      return new TableColumnCollection(\r\n          this.map(function (column) {\r\n            return column.attributes;\r\n          }));\r\n    }\r\n\r\n  });\r\n\r\n  // sequence:\r\n  // 1-100: Fixed columns\r\n  // 500-600: Dynamic columns (custom columns in widget configuration)\r\n  // 900-1000: Special columns at the end (favorite, like, comment)\r\n  // Hint: if the sequence of 'name' column is changed, the focused column in workspacestable.view\r\n  // should be also adapted with the new id.\r\n  // Current state is tableView.accFocusedState.body.column = 1\r\n\r\n  var tableColumns = new TableColumnCollection([\r\n    {\r\n      key: 'type',\r\n      sequence: 10\r\n    },\r\n    {\r\n      key: 'name',\r\n      sequence: 20\r\n    },\r\n    {\r\n      key: 'size',\r\n      sequence: 30\r\n    },\r\n    {\r\n      key: 'modify_date',\r\n      sequence: 40\r\n    },\r\n    {\r\n      key: 'favorite',\r\n      sequence: 910,\r\n      noTitleInHeader: true, // don't display a column header\r\n      permanentColumn: true // don't wrap column due to responsiveness into details row\r\n    }\r\n  ]);\r\n\r\n  return tableColumns;\r\n\r\n});\r\n\n","\ncsui.define('css!conws/utils/workspaces/workspacestable',[],function(){});\n","csui.define('conws/utils/workspaces/workspacestable.view',['module', 'csui/lib/jquery', 'csui/lib/underscore',\r\n  'csui/lib/backbone', 'csui/lib/marionette', 'csui/utils/log',\r\n  'i18n!conws/utils/workspaces/impl/nls/lang',\r\n  'hbs!conws/utils/workspaces/workspacestable',\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/models/node/node.model',\r\n  'csui/controls/table/table.view',\r\n  'csui/controls/tabletoolbar/tabletoolbar.view',\r\n  'csui/controls/table.rowselection.toolbar/table.rowselection.toolbar.view',\r\n  'csui/utils/commands',\r\n  'csui/controls/toolbar/toolbar.command.controller',\r\n  'csui/controls/pagination/nodespagination.view',\r\n  'conws/utils/workspaces/workspaces.columns',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/utils/accessibility',\r\n  'csui/utils/base',\r\n  'csui/controls/progressblocker/blocker',\r\n  'conws/utils/workspaces/busyindicator',\r\n  'csui/lib/jquery.redraw',\r\n  'css!conws/utils/workspaces/workspacestable',\r\n  'css!conws/utils/workspaces/workspaces',\r\n  'csui/controls/toolbar/toolbar.view' /* must load this as well to have toolbar.css effective. */\r\n], function (module, $, _, Backbone,\r\n    Marionette, log, lang,\r\n    template,\r\n    DefaultActionBehavior,\r\n    ConnectorFactory,\r\n    NodeModel,\r\n    TableView,\r\n    TableToolbarView,\r\n    TableRowSelectionToolbarView,\r\n    commands,\r\n    ToolbarCommandController,\r\n    PaginationView,\r\n    WorkspacesColumns,\r\n    ModalAlert,\r\n    Accessibility,\r\n    base,\r\n    BlockingView,\r\n    BusyIndicator) {\r\n\r\n  var config = module.config();\r\n  var orderByDefault = { sortColumn: \"{name}\", sortOrder: \"asc\" };\r\n\r\n  var accessibleTable = Accessibility.isAccessibleTable();\r\n\r\n  var WorkspacesTableView = Marionette.LayoutView.extend({\r\n\r\n    className: function () {\r\n      var className = 'conws-workspaces-table';\r\n      if (accessibleTable) {\r\n        className += ' csui-no-animation';\r\n      }\r\n      return className;\r\n    },\r\n\r\n    template: template,\r\n\r\n    ui: {\r\n      // facetTableContainer: '.csui-facet-table-container',\r\n      // outerTableContainer: '.csui-outertablecontainer',\r\n      // innerTableContainer: '.csui-innertablecontainer',\r\n      // tableView: '.csui-table-tableview',\r\n      // thumbnail: '.csui-thumbnail-wrapper',\r\n      toolbarContainer: '.conws-alternating-toolbars'//,\r\n      // facetView: '.csui-table-facetview',\r\n      // paginationView: '.csui-table-paginationview'\r\n    },\r\n\r\n    regions: {\r\n      tableToolbarRegion: '.conws-table-tabletoolbar',\r\n      tableRowSelectionToolbarRegion: '.conws-table-rowselection-toolbar',\r\n      tableRegion: '#tableview',\r\n      paginationRegion: '#paginationview'\r\n    },\r\n\r\n    behaviors: {\r\n      DefaultAction: {\r\n        behaviorClass: DefaultActionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function WorkspacesTableView(options) {\r\n      if (options === undefined || !options.context) {\r\n        throw new Error('Context required to create WorkspacesTableView');\r\n      }\r\n      if (!options.collection) {\r\n        throw new Error('Collection required to create WorkspacesTableView');\r\n      }\r\n      options.data || (options.data = {});\r\n      this.context = options.context;\r\n      this.collection = options.collection;\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments); // sets this.options\r\n      _.defaults(this.options.data, {\r\n        pageSize: config.defaultPageSize || 20,\r\n        orderBy: {}\r\n      });\r\n      _.defaults(this.options.data.orderBy, orderByDefault );\r\n\r\n      if (this.options &&\r\n          this.options.data &&\r\n          this.options.data.expandedView &&\r\n          this.options.data.expandedView.orderBy) {\r\n        if (_.isString(this.options.data.expandedView.orderBy)) {\r\n          log.error(lang.errorOrderByMustNotBeString) && console.log(log.last);\r\n          ModalAlert.showError(lang.errorOrderByMustNotBeString);\r\n        } else if (this.options.data.expandedView.orderBy.sortColumn) {\r\n          var parameterPlaceholder = /{([^:}]+)(:([^}]+))?}/g;\r\n          var match = parameterPlaceholder.exec(this.options.data.expandedView.orderBy.sortColumn);\r\n          if (!match) {\r\n            log.error(lang.errorOrderByMissingBraces) && console.log(log.last);\r\n            ModalAlert.showError(lang.errorOrderByMissingBraces);\r\n          }\r\n        }\r\n      }\r\n\r\n      this.onWinRefresh = _.bind(this.windowRefresh, this);\r\n      $(window).on(\"resize.app\", this.onWinRefresh);\r\n\r\n      if (this.options.blockingParentView) {\r\n        BlockingView.delegate(this, this.options.blockingParentView);\r\n      } else {\r\n        BlockingView.imbue(this);\r\n      }\r\n\r\n      // List for the event notifying when a dialog has been shown - at which point element sizing\r\n      // can be determined\r\n      this.listenTo(this, 'after:show', this.windowRefresh);\r\n\r\n      // Show error if returned from server\r\n      this.listenTo(this.collection, \"request\", this.blockActions)\r\n          .listenTo(this.collection, \"sync\", this.unblockActions)\r\n          .listenTo(this.collection, \"destroy\", this.unblockActions)\r\n          .listenTo(this.collection, \"error\", function (model,request,options) {\r\n            this.unblockActions.apply(this, arguments);\r\n            if (request) {\r\n              ModalAlert.showError((new base.Error(request)).message);\r\n            }\r\n          })\r\n          .listenTo(this.collection,\"sync\",function(){\r\n            if (this.collection.selectActions) {\r\n              var showSelectColumn = !!(this.options.showSelectColumn && this.collection.existsSelectable);\r\n              if (this.tableView && this.tableView.options && this.tableView.options.selectColumn!==showSelectColumn) {\r\n                this.tableView.options.selectColumn = showSelectColumn;\r\n                this.collection.columns.trigger('reset',this.collection.columns);\r\n              }\r\n            }\r\n          });\r\n    },\r\n\r\n    initialize: function() {\r\n\r\n      Marionette.LayoutView.prototype.initialize.apply(this, arguments);\r\n\r\n      if (this.options.hasTableRowSelection) {\r\n\r\n        // log warning if options.toolbarItems is not set\r\n        // log warning if options.toolbarItemsMasks is not set\r\n        // log warning if options.headermenuItems is not set\r\n        // log warning if options.headermenuItemsMasks is not set\r\n\r\n        _.defaults(this.options,{\r\n          showCondensedHeaderToggle: true,\r\n          showSelectColumn: true,\r\n          showSelectionCounter: true\r\n        });\r\n\r\n        this.commands = this.options.commands || commands;\r\n        this.commandController = this.options.commandController || new ToolbarCommandController({commands: this.commands});\r\n\r\n        this.listenTo(this.commandController, 'before:execute:command', this._beforeExecuteCommand);\r\n        this.listenTo(this.commandController, 'after:execute:command', this._toolbarActionTriggered);\r\n        this.listenTo(this, 'dom:refresh', this._refreshTableToolbar);\r\n  \r\n        this.initAllSelection();\r\n\r\n        // in selectActions collect all actions, participating in the selection,\r\n        // i.e. all command keys used in rowSelectionToolbar.\r\n        var selcmds = this.commands;\r\n        var sigcmds = _.compact(this.options.toolbarItems.tableHeaderToolbar.collection.map(function(toolItem){\r\n          return (selcmds.get(toolItem.get(\"signature\")));\r\n        }));\r\n        this.collection.selectActions = _.flatten(_.map(sigcmds,function(cmd){\r\n          return cmd.get(\"command_key\");\r\n        }));\r\n      }\r\n\r\n    },\r\n\r\n    onDestroy: function () {\r\n      $(window).off(\"resize.app\", this.onWinRefresh);\r\n    },\r\n\r\n    _refreshTableToolbar: function () {\r\n      if (this.tableToolbarView && this.tableToolbarView.rightToolbarView) {\r\n        this.tableToolbarView.rightToolbarView.collection.refilter();\r\n      }\r\n    },\r\n\r\n    templateHelpers: function (data) {\r\n      data = data || {};\r\n      data.showAlternatingToolbar = !!this.options.hasTableRowSelection;\r\n      return data;\r\n    },\r\n\r\n    doRender: function (collection) {\r\n\r\n      // Due to endless scrolling and different properties displayed we have to fetch the first page again\r\n      _.extend(collection.options.query, this._getCollectionUrlQuery());\r\n      collection.setLimit(0, this.options.data.pageSize, false);\r\n\r\n      // Render table after workspaces are fetched because not\r\n      // all columns are loaded by limited view (e.g. modify_date)\r\n      var self = this;\r\n      collection\r\n        .once('sync', function() {\r\n          self.renderAfterFetch(self,collection);\r\n        })\r\n        .fetch();\r\n      // Not needed to care about error here, since the error listener defined in constructor,\r\n      // cares also bout error caused by this fetch\r\n\r\n      if (this.options.hasTableRowSelection) {\r\n        this._setToolBar();\r\n        this._setTableRowSelectionToolbar({\r\n          toolItemFactory: this.options.toolbarItems.tableHeaderToolbar,\r\n          toolbarItemsMask: this.options.toolbarItemsMasks.toolbars.tableHeaderToolbar,\r\n          showCondensedHeaderToggle: this.options.showCondensedHeaderToggle,\r\n          showSelectionCounter: this.options.showSelectionCounter\r\n        });\r\n        this._setTableRowSelectionToolbarEventListeners();\r\n        \r\n        this.tableToolbarRegion.show(this.tableToolbarView);\r\n\r\n        if (this.tableRowSelectionToolbarRegion) {\r\n          if (this._tableRowSelectionToolbarView) {\r\n            this.tableRowSelectionToolbarRegion.show(this._tableRowSelectionToolbarView);\r\n          }\r\n          this.tableRowSelectionToolbarRegion.$el.find('ul').attr('aria-label',\r\n            lang.selectedItemActionBarAria);\r\n        }\r\n      }\r\n      \r\n    },\r\n\r\n    renderAfterFetch: function (self, collection) {\r\n      var columns   = self.collection.columns,\r\n          connector = self.context.getObject(ConnectorFactory);\r\n\r\n      // For all columns where sort is true, search must be possible\r\n      var columnsWithSearch = [];\r\n      _.each(columns.models, function (model) {\r\n        // Enable sorting only for string types (e.g. StringField, StringMultiLine, StringPopup)\r\n        // This is required for now, since server does not support other types\r\n        if (model.get(\"sort\") === true && model.get(\"type\") === -1) {\r\n          columnsWithSearch.push(model.get(\"column_key\"));\r\n        }\r\n      });\r\n\r\n      // Add custom columns from widget configuration to displayed columns\r\n      // Don't change WorkspacesColumns!\r\n      var tableColumns = WorkspacesColumns.clone();\r\n      tableColumns.add(this._getCustomColumns(true));\r\n      this.tableColumns = tableColumns;\r\n\r\n      this.tableView = new TableView({\r\n        context: this.options.context,\r\n        connector: connector,\r\n        collection: collection,\r\n        columns: columns,\r\n        // Columns (node properties) displayed in table view\r\n        tableColumns: tableColumns,\r\n        columnsWithSearch: columnsWithSearch,\r\n        selectColumn: !!(this.options.showSelectColumn && this.collection.existsSelectable),\r\n        showSelectionCounter: !!this.options.showSelectionCounter,\r\n        allSelectedNodes: this.allSelectedNodes,\r\n        pageSize: this.options.data.pageSize,\r\n        orderBy: this.collection.orderBy,\r\n        nameEdit: false,\r\n        tableTexts: {\r\n          zeroRecords: lang.noWorkspacesFound\r\n        }\r\n      });\r\n\r\n      if (this.options.hasTableRowSelection) {\r\n        this._setTableViewEvents();\r\n      }\r\n      \r\n      // Since the table view is rendered after data is fetched, we must enable the empty view text\r\n      // Otherwise it would stay disabled\r\n      this.tableView.enableEmptyViewText();\r\n      this.listenTo(this.tableView, 'execute:defaultAction', function (node) {\r\n        this.triggerMethod('execute:defaultAction', node);\r\n      });\r\n      // Set proper tab indexes (that in case of expanding the view the focus is set)\r\n      this.listenTo(this.tableView, 'render', function () {\r\n        this.tableView.triggerMethod('refresh:tabindexes');\r\n      });\r\n\r\n      // Set pagination\r\n      self.paginationView = new PaginationView({\r\n        collection: collection,\r\n        pageSize: self.options.data.pageSize\r\n      });\r\n\r\n      // Set focus to name column\r\n      if (!_.isUndefined(self.tableView.accFocusedState.body.column)) {\r\n        self.tableView.accFocusedState.body.column = 1;\r\n      }\r\n\r\n      self.tableRegion.show(self.tableView);\r\n      self.paginationRegion.show(self.paginationView);\r\n    },\r\n\r\n    _beforeExecuteCommand: function (toolbarActionContext) {\r\n\r\n      var self = this;\r\n      // Show the busy indicator for commands or toolbar items that request it.\r\n      // Also provide a switch to the command in the command status, so it can hide it, if needed.\r\n      if (toolbarActionContext.command && toolbarActionContext.command.get(\"showBusy\") ||\r\n          toolbarActionContext.status.toolItem && toolbarActionContext.status.toolItem.get(\"showBusy\")) {\r\n          toolbarActionContext.status.busyIndicator = new BusyIndicator(\r\n          function(){ self.blockActions(); },\r\n          function(){ self.unblockActions(); }\r\n        );\r\n        toolbarActionContext.status.busyIndicator.on();\r\n      }\r\n\r\n      switch (toolbarActionContext.commandSignature) {\r\n        case 'CloseExpandedView':\r\n          this.context.trigger(\"close:expanded\", {widgetView: this});\r\n          break;\r\n      }\r\n\r\n    },\r\n\r\n    _toolbarActionTriggered: function (toolbarActionContext) {\r\n      // switch off the busy indicator.\r\n      if (toolbarActionContext.status.busyIndicator) {\r\n        toolbarActionContext.status.busyIndicator.off();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * this method initializes for all items selection process across pages.\r\n     */\r\n    initAllSelection: function () {\r\n      this.allSelectedNodes = this.getCollectionWithSpecificModelId();\r\n\r\n      this.listenTo(this.allSelectedNodes, 'remove', this.removeItemToAllSelectedItems)\r\n          .listenTo(this.allSelectedNodes, 'add', this.addItemToAllSelectedItems)\r\n          .listenTo(this.allSelectedNodes, 'reset', this.resetAllSelectedItems);\r\n    },\r\n\r\n    /**\r\n     * this method return the node from collection based on modelId, if collection doesn't\r\n     * have modelId or idAttribute then default check takes place.\r\n     *\r\n     * @param collection\r\n     * @param node\r\n     * @returns {}\r\n     */\r\n    findNodeFromCollection: function (collection, node) {\r\n      return collection.get(node) || collection.findWhere({id: node.get('id')});\r\n    },\r\n\r\n    /**\r\n     * This method creates a new Backbone collection and set's modelId, and if any other module\r\n     * or in any other view which extends nodestable.view can override it if they do have unique\r\n     * model id is other than default \"id\".\r\n     *\r\n     * @returns {*}\r\n     */\r\n    getCollectionWithSpecificModelId: function () {\r\n      var MultiSelectCollection = Backbone.Collection.extend({\r\n            modelId: function (attr) {\r\n              return attr.id;\r\n            }\r\n          }),\r\n          allSelectedCollection = new MultiSelectCollection();\r\n          if (this.collection && this.collection.modelId) {\r\n            allSelectedCollection.modelId = this.collection.modelId;\r\n          }\r\n      return allSelectedCollection;\r\n    },\r\n\r\n    /**\r\n     * this method removes specific item from all selection.\r\n     *\r\n     * @param node\r\n     */\r\n    removeItemToAllSelectedItems: function (node) {\r\n      var model = this.findNodeFromCollection(this.collection, node);   //  collection.get(node);\r\n      if (model) {\r\n        model.set('csuiIsSelected', false); // will be ignored if already false\r\n      } else {\r\n        // update the node itself when unselect the node from different page\r\n        node.set('csuiIsSelected', false);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * this method adds new item to all selected items.\r\n     *\r\n     * @param node\r\n     */\r\n    addItemToAllSelectedItems: function (node) {\r\n      var model = this.findNodeFromCollection(this.collection, node);\r\n      if (model) {\r\n        model.set('csuiIsSelected', true); // will be ignored if already true\r\n      } else {\r\n        // update the node itself when select the node from different page\r\n        node.set('csuiIsSelected', true);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * this method resets all selected item's collection.\r\n     */\r\n    resetAllSelectedItems: function () {\r\n      var allSelectedNodes = this.allSelectedNodes;\r\n      this.collection.each(_.bind(function (node) {\r\n        var selectedNode = allSelectedNodes.get(node);\r\n        node.set('csuiIsSelected', selectedNode !== undefined);// setting to same value is ignored\r\n      }, this));\r\n    },\r\n\r\n    _setTableViewEvents: function () {\r\n      this.listenTo(this.tableView, 'tableRowSelected', function (args) {\r\n        this.tableView.cancelAnyExistingInlineForm.call(this.tableView);\r\n        if (this.options.showSelectColumn && this.allSelectedNodes) {\r\n          var selectedNodes  = args.nodes,\r\n              selectedModels = [];\r\n          _.each(selectedNodes, function (selectedNode) {\r\n            if (!this.allSelectedNodes.get(selectedNode) && selectedNode.get('id') !== undefined) {\r\n              selectedModels.push(selectedNode);\r\n            }\r\n          }, this);\r\n          this.allSelectedNodes.reset(selectedModels.concat(this.allSelectedNodes.models));\r\n        }\r\n      });\r\n\r\n      this.listenTo(this.tableView, 'tableRowUnselected', function (args) {\r\n        if (this.options.showSelectColumn && this.allSelectedNodes) {\r\n          var unselectedNodes = args.nodes;\r\n          _.each(unselectedNodes, function (unselectedNode) {\r\n            this.allSelectedNodes.remove(unselectedNode,{silent:true});\r\n          }, this);\r\n          this.allSelectedNodes.reset(_.clone(this.allSelectedNodes.models));\r\n        }\r\n      });\r\n\r\n      return true;\r\n    },\r\n\r\n    _setTableRowSelectionToolbarEventListeners: function () {\r\n      // listen for change of the selected nodes collection and if at least one is\r\n      // selected, display the table-row-selected-toolbar and hide the table-toolbar\r\n      this.listenTo(this.allSelectedNodes, 'reset update', function () {\r\n        if (!this._tableRowSelectionToolbarView.isDestroyed) {\r\n          this.tableRowSelectionToolbarRegion.show(this._tableRowSelectionToolbarView);\r\n        }\r\n        this._onSelectionUpdateCssClasses(this.allSelectedNodes.length);\r\n      });\r\n\r\n    },\r\n\r\n    _setToolBar: function () {\r\n      // toolbarItems is an object with several TooItemFactories in it (for each toolbar one)\r\n      var titleNodeModel = new NodeModel({\r\n        \"type\": this.collection.node.get(\"type\"),\r\n        \"type_name\": this.collection.node.get(\"type_name\"),\r\n        \"parent_id\": this.collection.node.get(\"parent_id\"),\r\n        \"image_url\" : this.collection.titleIcon,\r\n        \"name\": this.options.title\r\n      }, {\r\n        connector: this.collection.connector\r\n      });\r\n      this.tableToolbarView = new TableToolbarView({\r\n        context: this.options.context,\r\n        toolbarItems: this.options.toolbarItems,\r\n        toolbarItemsMasks: this.options.toolbarItemsMasks,\r\n        headermenuItems: this.options.headermenuItems,\r\n        headermenuItemsMask: this.options.headermenuItemsMask,\r\n        creationToolItemsMask: this.options.creationToolItemsMask,\r\n        container: titleNodeModel,//this.container,//\r\n        collection: this.collection,\r\n        originatingView: this,\r\n        blockingParentView: this.options.blockingParentView || this,\r\n        addableTypes: this.addableTypes,\r\n        toolbarCommandController: this.commandController\r\n      });\r\n      this.tableToolbarView.captionView.nameView.readonly = true;\r\n\r\n      this.listenTo(this.collection,\"sync\", function() {\r\n        if (this.collection.titleIcon!==titleNodeModel.get(\"image_url\")) {\r\n          titleNodeModel.set(\"image_url\",this.collection.titleIcon);\r\n        }\r\n      });\r\n\r\n      return true;\r\n    },\r\n\r\n    _setTableRowSelectionToolbar: function (options) {\r\n      this._tableRowSelectionToolbarView = new TableRowSelectionToolbarView({\r\n        toolItemFactory: options.toolItemFactory,\r\n        toolbarItemsMask: options.toolbarItemsMask,\r\n        toolbarCommandController: this.commandController,\r\n        showCondensedHeaderToggle: options.showCondensedHeaderToggle,\r\n        showSelectionCounter: options.showSelectionCounter,\r\n        commands: this.defaultActionController.commands,\r\n        selectedChildren: this.allSelectedNodes,\r\n        container: this.collection.node,\r\n        context: this.context,\r\n        originatingView: this,\r\n        collection: this.collection,\r\n        scrollableParent: '.csui-table-tableview .csui-nodetable'\r\n      });\r\n\r\n      // hide/show the condensed header\r\n      var toolbarView = this._tableRowSelectionToolbarView;\r\n      this.listenTo(toolbarView, 'toggle:condensed:header', function () {\r\n        // only show/hide the condensed header when in row selection mode\r\n        if (this.$el && this.$el.hasClass('conws-table-rowselection-toolbar-visible')) {\r\n          var showingBothToolbars = !this.$el.hasClass('csui-show-header');\r\n          this.$el.addClass('csui-transitioning');\r\n          this.tableToolbarRegion.$el.one('transitionend', function () {\r\n            this.$el.removeClass('csui-transitioning');\r\n            if (!showingBothToolbars) {\r\n              this.tableToolbarRegion.$el.addClass('binf-hidden');\r\n            }\r\n          }.bind(this));\r\n\r\n          if (showingBothToolbars) {\r\n            this.tableToolbarRegion.$el.removeClass('binf-hidden');\r\n            this.tableToolbarRegion.currentView.trigger(this.tableToolbarRegion.currentView, 'dom:refresh');\r\n          }\r\n\r\n          this.$el && this.$el.toggleClass('csui-show-header');\r\n\r\n          // let the right toolbar know to update its attributes\r\n          toolbarView.trigger('toolbar:activity', true, showingBothToolbars);\r\n        }\r\n      });\r\n    },\r\n\r\n    _triggerToolbarActivityEvent: function (toolbarVisible, headerVisible) {\r\n      // let the right toolbar know to update its attributes\r\n      var toolbarView = this._tableRowSelectionToolbarView;\r\n      toolbarView.trigger('toolbar:activity', toolbarVisible, headerVisible);\r\n    },\r\n\r\n    _onSelectionUpdateCssClasses: function (selectionLength) {\r\n      var self = this;\r\n      var $rowSelectionToolbarEl = this.tableRowSelectionToolbarRegion.$el;\r\n\r\n      function transitionEnd(headerVisible) {\r\n        // let the right toolbar know to update its attributes\r\n        self.$el.removeClass('csui-transitioning');\r\n        self._triggerToolbarActivityEvent(self._tableRowSelectionToolbarVisible, headerVisible);\r\n        if (self._tableRowSelectionToolbarVisible) {\r\n          if (!headerVisible) {\r\n            // hide table toolbar completely so that screenreader does not see it\r\n            self.tableToolbarRegion.$el.addClass('binf-hidden');\r\n          }\r\n        } else {\r\n          self.tableRowSelectionToolbarRegion.$el.addClass('binf-hidden');\r\n        }\r\n      }\r\n\r\n      var headerVisible;\r\n      if (accessibleTable) {\r\n        if (selectionLength > 0) {\r\n          if (!this._tableRowSelectionToolbarVisible) {\r\n            this._tableRowSelectionToolbarVisible = true;\r\n            // make tableToolbar invisible\r\n            //  and rowSelectionToolbar visible\r\n\r\n            this.$el.addClass('csui-transitioning');\r\n            \r\n            // this lets the rowSelectionToolbar appear\r\n            $rowSelectionToolbarEl.removeClass('binf-hidden');\r\n            // and also the tableToolbar disappear\r\n            this.$el.addClass('conws-table-rowselection-toolbar-visible');\r\n\r\n            // it could be that both toolbars should be visible\r\n            headerVisible = this.$el && this.$el.hasClass('csui-show-header');\r\n\r\n            transitionEnd(headerVisible);\r\n          }\r\n        } else {\r\n          if (this._tableRowSelectionToolbarVisible) {\r\n            this._tableRowSelectionToolbarVisible = false;\r\n            // make tableToolbar visible\r\n            //  and rowSelectionToolbar invisible\r\n\r\n            this.$el.addClass('csui-transitioning');\r\n            \r\n            // without the rowSelectionToolbar, it is not necessary to have height for both toolbars\r\n            this.$el && this.$el.removeClass('csui-show-header');\r\n\r\n            // this lets the tableToolbar appear\r\n            this.tableToolbarRegion.$el.removeClass('binf-hidden');\r\n            this.tableToolbarRegion.currentView.trigger(this.tableToolbarRegion.currentView,\r\n              'dom:refresh');\r\n\r\n            // this lets the rowSelectionToolbar disappear and the tableToolbar appear\r\n            this.$el.removeClass('conws-table-rowselection-toolbar-visible');\r\n\r\n            transitionEnd(false);\r\n          }\r\n        }\r\n      } else {\r\n        if (selectionLength > 0) {\r\n          if (!this._tableRowSelectionToolbarVisible) {\r\n\r\n            this.$el.addClass('csui-transitioning');\r\n\r\n            this._tableRowSelectionToolbarVisible = true;\r\n            // make tableToolbar invisible\r\n            //  and rowSelectionToolbar visible\r\n\r\n            headerVisible = this.$el && this.$el.hasClass('csui-show-header');\r\n\r\n            // this will start the transition on height of rowSelectionToolbar from 0 to full\r\n            // height, which smoothly lets the rowSelectionToolbar appear\r\n            $rowSelectionToolbarEl\r\n              .removeClass('binf-hidden').redraw()\r\n              .one('transitionend', function () {\r\n                transitionEnd(headerVisible);\r\n              }.bind(this));\r\n\r\n            // this will start the transition on height of tableToolbar to 0, which finally lets\r\n            // the tableToolbar disappear\r\n            this.$el.addClass('conws-table-rowselection-toolbar-visible');\r\n          }\r\n        } else {\r\n          if (this._tableRowSelectionToolbarVisible) {\r\n            this._tableRowSelectionToolbarVisible = false;\r\n            // make tableToolbar visible\r\n            //  and rowSelectionToolbar invisible\r\n\r\n            this.$el.addClass('csui-transitioning');\r\n            \r\n            // without the rowSelectionToolbar, it is not necessary to have height for both toolbars\r\n            this.$el && this.$el.removeClass('csui-show-header');\r\n\r\n            this.tableToolbarRegion.$el.removeClass('binf-hidden').redraw();\r\n            this.tableToolbarRegion.currentView.trigger(this.tableToolbarRegion.currentView,\r\n                'dom:refresh');\r\n\r\n            $rowSelectionToolbarEl\r\n                .one('transitionend', function () {\r\n                  transitionEnd(false);\r\n                }.bind(this));\r\n\r\n            // this will start the transition on height of tableToolbar from 0 to full\r\n            // height, which smoothly lets the tableToolbar appear\r\n            this.$el.removeClass('conws-table-rowselection-toolbar-visible');\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Return custom columns from configuration\r\n     */\r\n    _getCustomColumns: function (showError) {\r\n      var customColumns = [], errors = [];\r\n      if (this.options &&\r\n          this.options.data &&\r\n          this.options.data.expandedView &&\r\n          this.options.data.expandedView.customColumns) {\r\n        var unknownError = false;\r\n        var seqnr = 500;\r\n        this.options.data.expandedView.customColumns.forEach(function (cc) {\r\n          var parameterPlaceholder = /{([^:}]+)(:([^}]+))?}/g;\r\n          var match = parameterPlaceholder.exec(cc.key);\r\n          if (match) {\r\n            customColumns.push(_.defaults({key:match[1],sequence:seqnr++},cc));\r\n          } else {\r\n            if (showError) {\r\n              if (cc.key && cc.key.indexOf(\"{\")>=0) {\r\n                // if we have an error, but braces exist. we don't know what's wrong\r\n                unknownError = true;\r\n                log.error(lang.errorCustomColumnConfigInvalid, cc.key) && console.log(log.last);\r\n              } else {\r\n                log.error(lang.errorCustomColumnMissingBraces, cc.key) && console.log(log.last);\r\n              }\r\n              errors.push(cc.key)\r\n            }\r\n          }\r\n        });\r\n        if (showError && errors.length>0) {\r\n          var errfmt = unknownError ? lang.errorCustomColumnConfigInvalid : lang.errorCustomColumnMissingBraces;\r\n          ModalAlert.showError(_.str.sformat(errfmt, errors.join(\", \")));\r\n        }\r\n      }\r\n      return customColumns;\r\n    },\r\n\r\n    /**\r\n     * Return the identifiers of the custom columns as array\r\n     */\r\n    _getCustomColumnKeys: function () {\r\n      var columns = this._getCustomColumns();\r\n      return columns.length > 0 ? $.map(columns, function (val, i) {\r\n        return val.key\r\n      }) : [];\r\n    },\r\n\r\n    /**\r\n     * Return the identifiers of the core columns as array\r\n     */\r\n    _getCoreColumnKeys: function () {\r\n      var columns = WorkspacesColumns.models;\r\n      return columns.length > 0 ? $.map(columns, function (val, i) {\r\n        return val.get(\"key\");\r\n      }) : [];\r\n    },\r\n\r\n    /**\r\n     * Return fields that have to be fetched from server via rest call\r\n     */\r\n    getColumnsToFetch: function () {\r\n      var columns         = this._getCustomColumnKeys(),\r\n          coreColumns     = this._getCoreColumnKeys(),\r\n          // Columns needed for ui to be fetched even in case not displayed\r\n          requiredColumns = [\"id\", \"type\", \"container\"];\r\n\r\n      // Merge columns\r\n      _.each(coreColumns, function (coreColumn) {\r\n        if ($.inArray(coreColumn, columns) < 0) {\r\n          columns.push(coreColumn);\r\n        }\r\n      });\r\n      _.each(requiredColumns, function (requiredColumn) {\r\n        if ($.inArray(requiredColumn, columns) < 0) {\r\n          columns.push(requiredColumn);\r\n        }\r\n      });\r\n\r\n      return columns.toString()\r\n    },\r\n\r\n    //Dom refresh currently only needed for the Pagination view. When a refresh is called\r\n    //on the tabelView, it causes the table to constantly expand its length without cause.\r\n    windowRefresh: function () {\r\n      // Window resizing can be triggered between the constructor and rendering;\r\n      // sub-views of this view are not created before the min view is rendered\r\n      if (this.paginationView) {\r\n        this.paginationView.triggerMethod('dom:refresh');\r\n      }\r\n    },\r\n\r\n    // bubble to regions\r\n    onDomRefresh: function () {\r\n      _.each(this.regionManager._regions, function (region) {\r\n        if (region.currentView) {\r\n          region.currentView.trigger('dom:refresh');\r\n        }\r\n      });\r\n    },\r\n\r\n    // Needed for scroll bar to work\r\n    onShow: function () {\r\n      _.each(this.regionManager._regions, function (region) {\r\n        if (region.currentView) {\r\n          region.currentView.trigger('show');\r\n        }\r\n      });\r\n    },\r\n\r\n    // Needed to resize for custom columns\r\n    onAfterShow: function () {\r\n      _.each(this.regionManager._regions, function (region) {\r\n        if (region.currentView) {\r\n          region.currentView.triggerMethod('after:show');\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  return WorkspacesTableView;\r\n});\r\n\n","\ncsui.define('css!conws/widgets/relatedworkspaces/impl/relatedworkspacestable',[],function(){});\n","csui.define('conws/widgets/relatedworkspaces/impl/relatedworkspacestable.view',[\"module\", \"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n  \"csui/lib/marionette\", \"csui/utils/log\",\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/widgets/header/impl/header.model.factory',\r\n  'conws/widgets/relatedworkspaces/commands',\r\n  'conws/widgets/relatedworkspaces/toolbaritems',\r\n  'conws/widgets/relatedworkspaces/toolbaritems.masks',\r\n  'conws/widgets/relatedworkspaces/headermenuitems',\r\n  'conws/widgets/relatedworkspaces/headermenuitems.masks',\r\n  'conws/utils/workspaces/impl/workspaceutil',\r\n  'conws/utils/workspaces/workspacestable.view',\r\n  'css!conws/widgets/relatedworkspaces/impl/relatedworkspacestable'\r\n], function (module, $, _, Backbone,\r\n    Marionette, log,\r\n    WorkspaceContextFactory,\r\n    HeaderModelFactory,\r\n    commands,\r\n    toolbarItems,\r\n    ToolbarItemsMasks,\r\n    headermenuItems,\r\n    HeaderMenuItemsMasks,\r\n    workspaceUtil, WorkspacesTableView) {\r\n\r\n  var RelatedWorkspacesTableView = WorkspacesTableView.extend({\r\n\r\n    constructor: function RelatedWorkspacesTableView(options) {\r\n\r\n      // get workspace context\r\n      if (!options.workspaceContext) {\r\n        options.workspaceContext = options.context.getObject(WorkspaceContextFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(HeaderModelFactory);\r\n      }\r\n\r\n      WorkspacesTableView.prototype.constructor.apply(this, arguments);\r\n\r\n      // get the model from the model factory\r\n      this.collection.workspace = options.workspaceContext.getModel(HeaderModelFactory);\r\n      // opening the expanded view is done long after navigation.\r\n      // so we fetch header model, to have data up to date.\r\n      this.collection.workspace.fetch();\r\n      this.listenTo(this.collection.workspace,\"sync\",function() {\r\n        // when the model containing the actions changes, refresh the add toolbar.\r\n        if (this.tableToolbarView && this.tableToolbarView.addToolbarView) {\r\n          this.tableToolbarView.addToolbarView.collection.refilter();\r\n        }\r\n      });\r\n    },\r\n\r\n    initialize: function() {\r\n      this.options.commands = commands;\r\n      this.options.hasTableRowSelection = true;\r\n      this.options.toolbarItems = toolbarItems;\r\n      this.options.toolbarItemsMasks = new ToolbarItemsMasks();\r\n      this.options.headermenuItems = headermenuItems;\r\n      this.options.headermenuItemsMasks = new HeaderMenuItemsMasks();\r\n      WorkspacesTableView.prototype.initialize.apply(this, arguments);\r\n    },\r\n\r\n    onRender: function () {\r\n      var collection = this.collection;\r\n\r\n      // Set order if passed as configuration, otherwise use default\r\n      if (!_.isUndefined(this.collection.options.relatedWorkspaces.attributes.sortExpanded)) {\r\n        collection.orderBy = this.collection.options.relatedWorkspaces.attributes.sortExpanded;\r\n      } else {\r\n        collection.orderBy = workspaceUtil.orderByAsString(this.options.data.orderBy);\r\n      }\r\n\r\n      this.doRender(collection);\r\n    },\r\n\r\n    _getCollectionUrlQuery: function () {\r\n\r\n      var query = {where_relationtype: this.options.data.relationType};\r\n\r\n      // only fetch specific properties for table view\r\n      query.fields = encodeURIComponent(\"properties{\" + this.getColumnsToFetch() + \"}\");\r\n      query.action = \"properties-properties\";\r\n\r\n      // Fetch users expanded, to show name\r\n      query.expand_users = \"true\";\r\n\r\n      return query;\r\n    },\r\n\r\n    _beforeExecuteCommand: function (toolbarActionContext) {\r\n      WorkspacesTableView.prototype._beforeExecuteCommand.apply(this, arguments);\r\n    },\r\n\r\n    _toolbarActionTriggered: function (toolbarActionContext) {\r\n      WorkspacesTableView.prototype._toolbarActionTriggered.apply(this, arguments);\r\n      if (!toolbarActionContext || toolbarActionContext.cancelled) {\r\n         // command was cancelled\r\n         return;\r\n       }\r\n  \r\n      var view = this;\r\n      var newNodes;\r\n      \r\n      switch (toolbarActionContext.commandSignature) {\r\n        case 'AddRelation':\r\n\r\n          // indicate, that view has changed data.\r\n          view.changed = true;\r\n\r\n          newNodes = toolbarActionContext.newNodes;\r\n          if (newNodes && newNodes.length>0) {\r\n\r\n            // prepare all new nodes on top of the view, marked as new (green) rows.\r\n            newNodes.forEach(function(newNode){\r\n              newNode.isLocallyCreated = true;\r\n              newNode.attributes && delete newNode.attributes.csuiIsSelected;\r\n              newNode.collection = view.collection;\r\n              newNode.selectable = true;\r\n            });\r\n\r\n            // to update pagination, currently no other chance (discussed with cs.core.ui team)\r\n            // than to set totalCount directly followed by a reset.\r\n            this.collection.totalCount = this.collection.totalCount + newNodes.length;\r\n\r\n            // add all new nodes on top, but not more than page size.\r\n            if (newNodes.length>this.collection.topCount) {\r\n              newNodes = newNodes.slice(0,this.collection.topCount);\r\n            } else if (newNodes.length<this.collection.topCount) {\r\n              newNodes = newNodes.concat(this.collection.slice(0,this.collection.topCount-newNodes.length));\r\n            }\r\n            this.collection.updateSelectableState(newNodes);\r\n            var showSelectColumn = !!(this.options.showSelectColumn && this.collection.existsSelectable);\r\n            if (this.tableView && this.tableView.options && this.tableView.options.selectColumn!==showSelectColumn) {\r\n              // in this case check box column has to appear.\r\n              this.tableView.options.selectColumn = showSelectColumn;\r\n              this.collection.reset(newNodes,{silent:true});\r\n              this.collection.columns.trigger('reset',this.collection.columns);\r\n              this.tableView.resetScrollToTop();\r\n              this.paginationView && this.paginationView.collectionChange();\r\n            } else {\r\n              // in this case check box column is already there.\r\n              this.collection.reset(newNodes);\r\n              this.tableView && this.tableView.resetScrollToTop();\r\n            }\r\n          }\r\n          break;\r\n\r\n        case 'RemoveRelation':\r\n          // TODO: keep selected nodes as good as possible\r\n          // after partial deletion (and error during a previous deletion).\r\n\r\n          // indicate, that view has changed data.\r\n          this.changed = true;\r\n          \r\n          this.collection.fetch().then(function(){\r\n            if (view.collection.totalCount<=view.collection.skipCount) {\r\n              // We are positioned beyond the last page. Thus, an empty table is displayed.\r\n              if (view.collection.totalCount>0) {\r\n                // But we have a non-empty collection.\r\n                if (view.collection.totalCount<=view.collection.topCount) {\r\n                  // And we have only one page. Thus, no paging buttons are there.\r\n                  // We help the user to get a result by automatically fetching the first page.\r\n                  view.collection.skipCount = 0;\r\n                  view.collection.fetch();\r\n                }\r\n                // If totalCount>topCount, we have more than one page and paging buttons\r\n                // are displayed. Thus, the user can navigate to a result accessing the buttons.\r\n              }\r\n            }\r\n          });\r\n          this.allSelectedNodes.reset([]);\r\n          break;\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return RelatedWorkspacesTableView;\r\n});\r\n\n","// Shows a list of workspaces related to the current one\r\ncsui.define('conws/widgets/relatedworkspaces/relatedworkspaces.view',['csui/lib/marionette', 'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/lib/jquery','csui/utils/log',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/utils/workspaces/workspaces.view',\r\n  'conws/widgets/relatedworkspaces/impl/relateditem.view',\r\n  'conws/widgets/relatedworkspaces/impl/relatedworkspaces.factory',\r\n  'conws/widgets/relatedworkspaces/impl/relatedworkspacestable.view',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/utils/base',\r\n  'conws/utils/workspaces/impl/workspaceutil',\r\n  'i18n!conws/utils/workspaces/impl/nls/lang',\r\n  'i18n!conws/widgets/relatedworkspaces/impl/nls/lang',\r\n  'css!conws/utils/icons/icons',\r\n  'hbs!conws/widgets/relatedworkspaces/impl/relateditem',\r\n  'css!conws/widgets/relatedworkspaces/impl/relateditem'\r\n], function (Marionette, module, _, Backbone, $, log,\r\n    WorkspaceContextFactory,\r\n    WorkspacesView,\r\n    RelatedItemView,\r\n    RelatedWorkspacesCollectionFactory,\r\n    RelatedWorkspacesTableView,\r\n    ModalAlert,\r\n    BaseUtils,\r\n    workspaceUtil,\r\n    langWksp,\r\n    lang) {\r\n\r\n  var RelatedWorkspacesView = WorkspacesView.extend({\r\n\r\n    constructor: function RelatedWorkspacesView(options) {\r\n      this.viewClassName = 'conws-relatedworkspaces';\r\n\r\n      // get workspace context\r\n      if (!options.workspaceContext) {\r\n        options.workspaceContext = options.context.getObject(WorkspaceContextFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(RelatedWorkspacesCollectionFactory);\r\n      }\r\n\r\n      WorkspacesView.prototype.constructor.apply(this, arguments);\r\n\r\n      // Show expand icon always\r\n      this.limit = -1;\r\n\r\n      if (this.options &&\r\n          this.options.data &&\r\n          this.options.data.collapsedView &&\r\n          this.options.data.collapsedView.orderBy) {\r\n        if (_.isString(this.options.data.collapsedView.orderBy)) {\r\n          log.error(langWksp.errorOrderByMustNotBeString) && console.log(log.last);\r\n          ModalAlert.showError(langWksp.errorOrderByMustNotBeString);\r\n        } else if (this.options.data.collapsedView.orderBy.sortColumn) {\r\n          var parameterPlaceholder = /{([^:}]+)(:([^}]+))?}/g;\r\n          var match = parameterPlaceholder.exec(this.options.data.collapsedView.orderBy.sortColumn);\r\n          if (!match) {\r\n            log.error(langWksp.errorOrderByMissingBraces) && console.log(log.last);\r\n            ModalAlert.showError(langWksp.errorOrderByMissingBraces);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (this.options &&\r\n          this.options.data &&\r\n          this.options.data.collapsedView) {\r\n        var errors = [], that = this;\r\n        [ \"title\", \"description\", \"topRight\", \"bottomLeft\", \"bottomRight\"].forEach(function (n) {\r\n          if (that.options.data.collapsedView[n] && that.options.data.collapsedView[n].format) {\r\n            errors.push(n);\r\n          }\r\n        });\r\n        if (errors.length>0) {\r\n          ModalAlert.showError(_.str.sformat(lang.errorFieldFormatTagUnrecognized, errors.join(\", \")));\r\n        }\r\n      }\r\n\r\n    },\r\n\r\n    getContext: function () {\r\n      return this.options.workspaceContext;\r\n    },\r\n\r\n    childView: RelatedItemView,\r\n\r\n    childViewOptions: function () {\r\n      return {context: this.options.context, data: this.options.data.collapsedView};\r\n    },\r\n\r\n    emptyViewOptions: {\r\n      templateHelpers: function () {\r\n        return {\r\n          text: this._parent._getNoResultsPlaceholder()\r\n        };\r\n      }\r\n    },\r\n\r\n    workspacesCollectionFactory: RelatedWorkspacesCollectionFactory,\r\n    workspacesTableView: RelatedWorkspacesTableView,\r\n    dialogClassName: 'relatedworkspaces',\r\n    lang: lang,\r\n\r\n    _getExpandedViewOptions: function() {\r\n      var options = _.extend( WorkspacesView.prototype._getExpandedViewOptions.apply(this, arguments),{\r\n        title: this._getTitle()\r\n      });\r\n      return options;\r\n    },\r\n  \r\n    // Attributes identify collection/models for widget\r\n    // In case two widgets has returns same attributes here, they share the collection!!\r\n    _getCollectionAttributes: function () {\r\n      var attributes = {\r\n        workspaceTypeId: this.options.data.workspaceTypeId,\r\n        relationType: this.options.data.relationType,\r\n        sortExpanded: this.options.data.expandedView && workspaceUtil.orderByAsString(this.options.data.expandedView.orderBy) ||\r\n                      undefined,\r\n        sortCollapsed: this.options.data.collapsedView && workspaceUtil.orderByAsString(this.options.data.collapsedView.orderBy) ||\r\n                       this._getDefaultSortOrder() || undefined,\r\n        title:  BaseUtils.getClosestLocalizedString(this.options.data.title, lang.dialogTitle)\r\n      };\r\n      return attributes;\r\n    },\r\n\r\n    // Get the default sort order in case no sort order is defined\r\n    _getDefaultSortOrder: function () {\r\n      return this._getFilterPropertyName() ? this._getFilterPropertyName() + ' asc' : undefined;\r\n    },\r\n\r\n    _getCollectionUrlQuery: function () {\r\n      var options                 = this.options,\r\n          query                   = {},\r\n          customPropertiesToFetch = this._getPropertiesToFetch(options.data.collapsedView),\r\n          propertiesToFetch       = [\"id\", \"container\", \"name\", \"type\"];\r\n\r\n      // Only fetch properties needed\r\n      propertiesToFetch = _.union(propertiesToFetch, customPropertiesToFetch);\r\n      query.fields = encodeURIComponent(\"properties{\" + propertiesToFetch.join(\",\") + \"}\");\r\n      query.action = \"properties-properties\";\r\n\r\n      query.where_workspace_type_id = options.data.workspaceTypeId;\r\n      query.where_relationtype = options.data.relationType;\r\n      var orderByAsString;\r\n      if (options.data.collapsedView) {\r\n        orderByAsString = workspaceUtil.orderByAsString(options.data.collapsedView.orderBy);\r\n      }\r\n      if (!orderByAsString) {\r\n        orderByAsString = this._getDefaultSortOrder();\r\n      }\r\n      if (orderByAsString) {\r\n        query.sort = orderByAsString;\r\n      }\r\n\r\n      // Fetch users expanded, to show name\r\n      query.expand_users = \"true\";\r\n\r\n      return query;\r\n    },\r\n\r\n    // get first placeholder from string with mix of column references and free text.\r\n    _getFirstPlaceholder: function (expression) {\r\n      var parameterPlaceholder = /{([^:}]+)(:([^}]+))?}/g,\r\n          match, propertyName, placeholder, result;\r\n      // Go over every parameter placeholder found\r\n      // Don't change expression while doing this, because exec remembers position of last matches\r\n      while ((match = parameterPlaceholder.exec(expression))) {\r\n        placeholder = match[0];\r\n        propertyName = match[1];\r\n        if (propertyName) {\r\n          result = match;\r\n          break;\r\n        }\r\n      }\r\n      return result;\r\n    },\r\n\r\n    // Get property name to use for filtering\r\n    _getFilterPropertyName: function () {\r\n      var propertyName;\r\n      if (this.options && this.options.data && this.options.data.collapsedView &&\r\n          this.options.data.collapsedView.title && this.options.data.collapsedView.title.value) {\r\n        var placeHolder = this._getFirstPlaceholder(this.options.data.collapsedView.title.value);\r\n        if (placeHolder) {\r\n          propertyName = placeHolder[1];\r\n        }\r\n      }\r\n      return propertyName;\r\n    },\r\n\r\n    // Get all properties that should be fetched from server\r\n    _getConfiguredProperties: function (object) {\r\n      var properties = {}, regex = /{([^:}]+)(:([^}]+))?}/g, match;\r\n      var recurse = function (object) {\r\n        if (typeof object !== 'object') {\r\n          while ((match = regex.exec(object))) {\r\n            properties[match[1]] = \"\";\r\n          }\r\n        } else {\r\n          $.each(object, function (key, value) {\r\n            recurse(value);\r\n          });\r\n        }\r\n      };\r\n      recurse(object);\r\n      return properties;\r\n    },\r\n\r\n    // Get custom properties that should be fetched from server\r\n    _getPropertiesToFetch: function (object) {\r\n      var properties = this._getConfiguredProperties(object);\r\n      return Object.keys(properties);\r\n    },\r\n\r\n    // return the jQuery list item element by index for keyboard navigation use\r\n    getElementByIndex: function (index) {\r\n      if (isNaN(index) || (index < 0)) {\r\n        return null;\r\n      }\r\n      var $item = this.$(_.str.sformat('.conws-relateditem-object:nth-child({0}) .conws-relateditem-border', index + 1));\r\n      return this.$($item[0]);\r\n    }\r\n\r\n  });\r\n\r\n  return RelatedWorkspacesView;\r\n\r\n});\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('conws/widgets/header/impl/nls/header.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('conws/widgets/header/impl/nls/root/header.lang',{\r\n  changeIconDialogTitle: 'Change picture',\r\n  changeIconDialogMessage: 'For best results, use square images. Use JPEG, PNG or GIF formats not larger than %1.',\r\n  changeIconDialogBtnReset: 'Reset',\r\n  changeIconDialogBtnResetTitle: 'Reset to configured icon',\r\n  changeIconDialogBtnUpload: 'Change',\r\n  changeIconDialogBtnUploadTitle: 'Change to individual icon',\r\n  changeIconDialogBtnCancel: 'Cancel',\r\n  changeIconDialogBtnCancelTitle: 'Cancel',\r\n  changeIconDialogDefaultError: 'The image cannot be changed due to a server error.',\r\n  chooseInpFileTitle: 'Choose file',\r\n  iconMessage: 'Business Workspace Edit Icon',\r\n  CollapsePageOverlay: \"Close\"\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/header/impl/editicon',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"        <p class=\\\"reset\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.resetTitle || (depth0 != null ? depth0.resetTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"resetTitle\",\"hash\":{}}) : helper)))\n    + \"\\\"><a href=\\\"#\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.reset || (depth0 != null ? depth0.reset : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"reset\",\"hash\":{}}) : helper)))\n    + \"</a></p>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"        <button type=\\\"button\\\" class=\\\"binf-btn binf-btn-primary upload\\\"\\r\\n                title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.uploadTitle || (depth0 != null ? depth0.uploadTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"uploadTitle\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.upload || (depth0 != null ? depth0.upload : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"upload\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"conws-popover\\\">\\r\\n  <div class='title'>\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n  <div class='message'>\"\n    + this.escapeExpression(((helper = (helper = helpers.message || (depth0 != null ? depth0.message : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"message\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n  <div class=\\\"buttons\\\">\\r\\n    <div class=\\\"buttons binf-left\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.resetButton : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n    <div class=\\\"buttons binf-right\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.uploadButton : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"      <button type=\\\"button\\\" class=\\\"binf-btn binf-btn-default cancel\\\"\\r\\n              title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancelTitle || (depth0 != null ? depth0.cancelTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancelTitle\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.cancel || (depth0 != null ? depth0.cancel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancel\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_header_impl_editicon', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/header/impl/editicon',[],function(){});\n","csui.define('conws/widgets/header/impl/editicon.view',[\r\n  'require',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'i18n!conws/widgets/header/impl/nls/header.lang',\r\n  'hbs!conws/widgets/header/impl/editicon',\r\n  'css!conws/widgets/header/impl/editicon'\r\n], function (require, _, $, Marionette, lang, template) {\r\n\r\n  var EditIconView = Marionette.ItemView.extend({\r\n\r\n    classname: 'conws-popover',\r\n\r\n    template: template,\r\n\r\n    triggers: {\r\n      'click .reset > a': 'click:reset',\r\n      'click .upload': 'click:upload',\r\n      'click .cancel': 'click:cancel'\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    // initializes the 'EditIcon' view.\r\n    constructor: function EditIconView(options) {\r\n      // initialize options\r\n      options || (options = {});\r\n      options.title = options.title || lang.changeIconDialogTitle;\r\n      options.message = options.message || lang.changeIconDialogMessage;\r\n      options.resetButton = options.resetButton !== undefined ? options.resetButton : true;\r\n      options.uploadButton = options.uploadButton !== undefined ? options.uploadButton : true;\r\n\r\n      // prepare tabable elements list\r\n      this.tabableElements = [];\r\n      if ((_.isFunction(options.resetButton) && options.resetButton()) ||\r\n          options.resetButton === true) {\r\n        this.tabableElements.push('.reset > a');\r\n      }\r\n      this.tabableElements.push('.upload', '.cancel');\r\n\r\n      // ensure initial focus\r\n      var self = this;\r\n      $('.conws-header-edit').on('shown.binf.popover', function () {\r\n        // focus first element\r\n        self._currentlyFocusedElement = self.tabableElements[0];\r\n        self.$el.find(self._currentlyFocusedElement).focus();\r\n        // detach event\r\n        $('.conws-header-edit').off('shown.binf.popover');\r\n      });\r\n\r\n      // apply arguments\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        title: this.options.title,\r\n        message: this.options.message,\r\n        resetButton: this.options.resetButton,\r\n        reset: lang.changeIconDialogBtnReset,\r\n        resetTitle: lang.changeIconDialogBtnResetTitle,\r\n        uploadButton: this.options.uploadButton,\r\n        upload: lang.changeIconDialogBtnUpload,\r\n        uploadTitle: lang.changeIconDialogBtnUploadTitle,\r\n        cancel: lang.changeIconDialogBtnCancel,\r\n        cancelTitle: lang.changeIconDialogBtnCancelTitle\r\n      };\r\n    },\r\n\r\n    _focusNextElement: function (backwards) {\r\n      // state\r\n      var success = true;\r\n\r\n      // get actual index\r\n      var idx = _.indexOf(this.tabableElements, this._currentlyFocusedElement);\r\n\r\n      // get next index\r\n      if (!backwards) {\r\n        if (++idx === this.tabableElements.length) {\r\n          idx = 0;\r\n        }\r\n      } else {\r\n        if (--idx < 0) {\r\n          idx = this.tabableElements.length - 1;\r\n        }\r\n      }\r\n\r\n      // get next element\r\n      var next = this.tabableElements[idx];\r\n\r\n      // get the element and check whether it is focusable\r\n      var elem = this.$el.find(next);\r\n      if ((elem.length === 1) && (elem.is(':visible'))) {\r\n        // ... and focus\r\n        this._currentlyFocusedElement = next;\r\n        elem.focus();\r\n      }\r\n\r\n      // return state\r\n      return success;\r\n    },\r\n\r\n    onKeyDown: function (e) {\r\n      switch (e.keyCode) {\r\n      case 9:\r\n        // focus the next/previous element\r\n        if (this._focusNextElement(e.shiftKey)) {\r\n          // if successful stop propagation\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n        }\r\n        break;\r\n      case 27:\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // execute cancel.\r\n        $('.cancel').click();\r\n        break;\r\n      }\r\n    },\r\n\r\n    onClick: function (action) {\r\n      if (typeof this.options.callback === 'function') {\r\n        this.options.callback(action);\r\n      }\r\n    },\r\n\r\n    onClickReset: function (e) {\r\n      this.onClick('reset');\r\n    },\r\n\r\n    onClickUpload: function (e) {\r\n      this.onClick('upload');\r\n    },\r\n\r\n    onClickCancel: function (e) {\r\n      this.onClick('cancel');\r\n    }\r\n  });\r\n\r\n  return EditIconView;\r\n});\r\n\n","\ncsui.define('css!conws/widgets/header/impl/favorite.icon',[],function(){});\n","csui.define('conws/widgets/header/impl/favorite.icon.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/widgets/favorites/favorite.star.view',\r\n  'css!conws/widgets/header/impl/favorite.icon'\r\n], function (_, $, Marionette, TabableRegionBehavior, FavoriteStarView) {\r\n\r\n  'use strict';\r\n\r\n  var FavoriteIconView = FavoriteStarView.extend({\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function FavoriteIconView(options) {\r\n      FavoriteStarView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    // Needed for keyboard accessibility by TabableRegionBehavior\r\n    currentlyFocusedElement: function () {\r\n      // get favorite icon button tag\r\n      return this.$el.find('button');\r\n    },\r\n\r\n    // We must override this to avoid that e.g. in case of press enter the browser navigates\r\n    onKeyInView: function (event) {\r\n      if (event.keyCode === 32 || event.keyCode === 13) {\r\n        // space or enter key\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.enabled() && this.toggleFavorite();\r\n      }\r\n    }\r\n  });\r\n\r\n  return FavoriteIconView;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/header/impl/commenting.icon',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"conws-comment-icon\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_header_impl_commenting.icon', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/header/impl/commenting.icon',[],function(){});\n","csui.define('conws/widgets/header/impl/commenting.icon.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'esoc/widgets/utils/commentdialog/commentdialog.view',\r\n  'hbs!conws/widgets/header/impl/commenting.icon',\r\n  'css!conws/widgets/header/impl/commenting.icon'\r\n], function (_, $, Marionette, TabableRegionBehavior, CommentDialogView, template) {\r\n\r\n  'use strict';\r\n\r\n  var CommentingIconView = Marionette.LayoutView.extend({\r\n\r\n    className: 'conws-comment-icon',\r\n\r\n    template: template,\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    constructor: function CommentingIconView(options) {\r\n      // wire models and collections also to the base view\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    enabled: function () {\r\n      var model = this.model,\r\n        commenting = model.actions.findWhere({ signature: \"comment\" });\r\n\r\n        return Boolean(commenting);\r\n    },\r\n\r\n    onRender: function () {\r\n      // rendering the commenting icon\r\n      var self = this;\r\n      var contentRegion = new Marionette.Region({\r\n        el: self.el\r\n      });\r\n      var globalConfig = (typeof window.require !== \"undefined\") ?\r\n                         window.require.s.contexts._.config :\r\n                         window.csui.require.s.contexts._.config;\r\n\r\n      globalConfig.roId = self.model.get('id');\r\n\r\n      var commentDialogView = new CommentDialogView({\r\n        connector: self.model.connector,\r\n        nodeid: self.model.get('id'),\r\n        CSID: self.model.get('id'),\r\n        context: self.options.context,\r\n        useIconsForDarkBackground: this.options.useIconsForDarkBackground\r\n      })\r\n      contentRegion.show(commentDialogView);\r\n\r\n      this.commentCount = this.model.get('wnd_comments');\r\n      if(this.commentCount && this.commentCount > 0) {\r\n        this.$el.addClass('conws-has-comments');\r\n      }\r\n    },\r\n\r\n    onKeyDown: function (e) {\r\n      if (e.keyCode === 13 || e.keyCode === 32) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // click link\r\n        this.currentlyFocusedElement().click();\r\n      }\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      // get comment icon link tag\r\n      return this.$el.find('a');\r\n    }\r\n  });\r\n\r\n  return CommentingIconView;\r\n\r\n});\r\n\n","\n","csui.define('conws/widgets/header/impl/headertoolbaritems',['module',\r\n  'csui/lib/underscore',\r\n  'csui/controls/toolbar/toolitems.factory',\r\n  'csui/controls/toolbar/toolitem.model',\r\n  'i18n!csui/controls/tabletoolbar/impl/nls/localized.strings',\r\n  'conws/widgets/header/impl/favorite.icon.view',\r\n  'conws/widgets/header/impl/commenting.icon.view',\r\n  'csui-ext!conws/widgets/header/headertoolbaritems'\r\n], function (module, _, ToolItemsFactory, ToolItemModel, Lang, FavoriteIconView, CommentingIconView, extraToolItems) {\r\n\r\n  var headerToolbarItems = {\r\n\r\n    rightToolbar: new ToolItemsFactory({\r\n      main: [\r\n        {\r\n          signature: \"Comment\",\r\n          name: Lang.ToolbarItemComment,\r\n          icon: \"icon icon-socialComment\",\r\n\t\t  enabled: true,\r\n          className: \"esoc-socialactions-comment\",\r\n          customView: true,\r\n\t\t  viewClass: CommentingIconView,\r\n          commandData: { useContainer: true },\r\n          index: 4 // Leaving first three positions for extensions\r\n        },\r\n        {\r\n          signature: \"Favorite2\",\r\n          enabled: true,\r\n          viewClass: FavoriteIconView,\r\n          customView: true,\r\n          commandData: { useContainer: true },\r\n          index: 5\r\n        }\r\n      ]\r\n    }),\r\n\r\n    delayedActionsToolbar: new ToolItemsFactory({\r\n      menu: [\r\n        {\r\n          signature: \"CopyLink\",\r\n          name: Lang.ToolbarItemCopyLink\r\n        },\r\n        {\r\n          signature: \"Share\",\r\n          name: Lang.ToolbarItemShare\r\n        }\r\n      ]\r\n    },\r\n      {\r\n        maxItemsShown: 0,\r\n        dropDownIcon: \"icon icon-toolbar-more\",\r\n        addGroupSeparators: false,\r\n        dropDownText: Lang.ToolbarItemMore,\r\n        customView: true\r\n      })\r\n\r\n  };\r\n\r\n  if (!!extraToolItems) {\r\n    _.each(extraToolItems, function (moduleToolItems) {\r\n      _.each(moduleToolItems, function (toolItems, key) {\r\n        var targetToolbar = headerToolbarItems[key];\r\n        if (!!targetToolbar) {\r\n          _.each(toolItems, function (toolItem) {\r\n            toolItem = new ToolItemModel(toolItem);\r\n            targetToolbar.addItem(toolItem);\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  headerToolbarItems['rightToolbar'].collection.comparator = function (model) {\r\n    return model.get('index');\r\n  }\r\n  headerToolbarItems['rightToolbar'].collection.sort();\r\n\r\n  return headerToolbarItems;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/header/impl/headertoolbar',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"      <div class=\\\"conws-rightToolbar\\\" ></div>   \\r\\n      <div class=\\\"conws-delayedActionsToolbar\\\"></div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"conws-tabletoolbar tile-nav\\\" aria-label=\\\"Table menubar\\\" role=\\\"menu\\\">\\r\\n   \\r\\n   <div class=\\\"conws-header-status-indicators-section\\\">\\r\\n      <div class=\\\"conws-header-status-indicators\\\">        \\r\\n      </div>\\r\\n      <div class=\\\"conws-header-status-toolbar-divider\\\"></div>\\r\\n   </div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.hasToolbarView : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"      <div class=\\\"conws-header-collapse\\\"></div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_header_impl_headertoolbar', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/header/impl/collapse/collapse',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"conws-collapse \"\n    + this.escapeExpression(((helper = (helper = helpers.icon || (depth0 != null ? depth0.icon : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"icon\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"button\\\" tabindex=\\\"0\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"\\\"></div>\";\n}});\nHandlebars.registerPartial('conws_widgets_header_impl_collapse_collapse', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/header/impl/collapse/collapse',[],function(){});\n","csui.define('conws/widgets/header/impl/collapse/collapse.page.overlay',[\r\n  'csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/marionette',\r\n  'hbs!conws/widgets/header/impl/collapse/collapse',\r\n  'i18n!conws/widgets/header/impl/nls/header.lang',\r\n  'css!conws/widgets/header/impl/collapse/collapse'\r\n], function ($, _, Marionette, template, lang) {\r\n  'use strict';\r\n\r\n  var CollapseView = Marionette.ItemView.extend({\r\n\r\n    className: 'conws-collapse',\r\n\r\n    template: template,\r\n\r\n    events: {\r\n      'keydown': 'onKeyInView',\r\n      'click': '_executeCollapse'\r\n    },\r\n\r\n    constructor: function CollapseView(options) {\r\n      this.options = options || {};\r\n      this.options.title = lang.CollapsePageOverlay;\r\n      this.options.icon = \"icon conws-collapse-icon\";\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n    //The template helpers are used to provide placeholders\r\n    // for the widget\r\n    templateHelpers: function () {\r\n      var obj = {\r\n        title: this.options.title,\r\n        icon: this.options.icon\r\n      };\r\n      return obj;\r\n    },\r\n\r\n    onKeyInView: function (event) {\r\n      var target = $(event.target);\r\n      if (event.keyCode === 13 || event.keyCode === 32) {  // enter(13) and space(32)\r\n        this._executeCollapse(event);\r\n      }\r\n    },\r\n\r\n    _executeCollapse: function (e) {\r\n      var parent = window.opener ? window.opener :\r\n                   window !== window.parent ? window.parent : undefined\r\n      if (parent) {\r\n        //Modal dialog invoking the page that contains header widget listens for this event and closes itself\r\n        // when full page view is opened from folderbrowse, folderbrowse's origin (integration system) need not necessarily be same as full page view's origin (CS).\r\n        // So setting the targetOrigin to \"*\" as we dont have access to the parent origin\r\n        parent.postMessage({\"status\": \"closeDialog\"}, \"*\");\r\n      }\r\n    }\r\n  });\r\n  return CollapseView;\r\n});\n","\ncsui.define('css!conws/widgets/header/impl/headertoolbar',[],function(){});\n","csui.define('conws/widgets/header/impl/headertoolbar.view',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'hbs!conws/widgets/header/impl/headertoolbar',\r\n  'conws/controls/lazyactions/lazyToolbar.view',\r\n  'csui/controls/toolbar/toolbar.view',\r\n  'csui/controls/toolbar/toolitems.filtered.model',\r\n  'csui/utils/commands',\r\n  'csui/controls/toolbar/toolbar.command.controller',\r\n  'csui/models/nodes',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'conws/widgets/header/impl/collapse/collapse.page.overlay',\r\n  'css!conws/widgets/header/impl/headertoolbar'\r\n], function ($, _, Backbone, Marionette, template, LazyToolbarView, ToolbarView,\r\n    FilteredToolItemsCollection, commands, ToolbarCommandController, NodeCollection,\r\n    LayoutViewEventsPropagationMixin, CollapseView) {\r\n  'use strict';\r\n\r\n  var HeaderToolbarView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      statusIndicatorsRegion: '.conws-header-status-indicators',\r\n      dividerRegion: '.conws-header-status-toolbar-divider',\r\n      toolbarRegion: '.conws-rightToolbar',\r\n      delayedActionsToolbarRegion: '.conws-delayedActionsToolbar',\r\n      collapseRegion: '.conws-header-collapse'\r\n    },\r\n\r\n    ui: {\r\n      toolbarRegion: '.conws-rightToolbar',\r\n      delayedActionsToolbarRegion: '.conws-delayedActionsToolbar',\r\n      statusIndicatorsRegion: '.conws-header-status-indicators',\r\n      dividerRegion: '.conws-header-status-toolbar-divider',\r\n      collapseRegion: '.conws-header-collapse'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      var obj = {\r\n        hasToolbarView: !this.options.hideToolbar\r\n      };\r\n      return obj;\r\n    },\r\n\r\n    constructor: function HeaderToolbarView(options) {\r\n      options || (options = {});\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    initialize: function (options) {\r\n\r\n      if (!options.hideToolbar) {\r\n        var toolbarItems = options.toolbarItems;\r\n        var toolItemsMask = options.toolbarItemsMasks;\r\n        var node = options.node;\r\n        var selectedNodes = new NodeCollection(node);\r\n        selectedNodes.connector = node.connector;\r\n\r\n        this.commandController = new ToolbarCommandController({\r\n          commands: options.commands || commands\r\n        });\r\n\r\n        this.commonToolbarOptions = {\r\n          originatingView: options.originatingView,\r\n          context: options.context,\r\n          toolbarCommandController: this.commandController,\r\n          container: options.container,\r\n          useIconsForDarkBackground: options.useIconsForDarkBackground\r\n        };\r\n\r\n        var rightToolbarItems = toolbarItems ? toolbarItems.rightToolbar : undefined\r\n        var rightToolbarMask = toolItemsMask ? toolItemsMask.toolbars.rightToolbar : undefined\r\n        this._righttoolbarView = this._setToolbarView(node.clone(), rightToolbarItems,\r\n            rightToolbarMask, false,\r\n            toolbarItems.rightToolbar.options);\r\n\r\n        var delayedActionsToolbarItems = toolbarItems ? toolbarItems.delayedActionsToolbar :\r\n                                         undefined\r\n        var delayedActionsToolbarMask = toolItemsMask ?\r\n                                        toolItemsMask.toolbars.delayedActionsToolbar : undefined\r\n        this._delayedActionsToolbarView = this._setToolbarView(node, delayedActionsToolbarItems,\r\n            delayedActionsToolbarMask,\r\n            true, toolbarItems.delayedActionsToolbar.options);\r\n      }\r\n\r\n      if (options.statusIndicatorsView && options.statusIndicatorsViewOptions) {\r\n        this._statusIndicatorsView = new options.statusIndicatorsView(\r\n            options.statusIndicatorsViewOptions);\r\n      }\r\n\r\n      if (options.enableCollapse) {\r\n        this._collapseView = new CollapseView();\r\n      }\r\n\r\n      if (options.originatingView) {\r\n        this.listenTo(options.originatingView, 'adjust:toolbar', this.adjustToolbar);\r\n      }\r\n\r\n      this.listenTo(this, 'dom:refresh', this._DomRefresh);\r\n      this.listenTo(this, \"status:indicator:available\", this.showDivider);\r\n\r\n      if (this._delayedActionsToolbarView) {\r\n        this.listenTo(this._delayedActionsToolbarView, 'render', this._DomRefresh);\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n      this.delegateEvents();\r\n      if (this._statusIndicatorsView) {\r\n        this.statusIndicatorsRegion.show(this._statusIndicatorsView);\r\n      }\r\n      if (this._righttoolbarView) {\r\n        this.toolbarRegion.show(this._righttoolbarView);\r\n      }\r\n      if (this._delayedActionsToolbarView) {\r\n        this.delayedActionsToolbarRegion.show(this._delayedActionsToolbarView);\r\n      }\r\n      if (this._collapseView) {\r\n        this.collapseRegion.show(this._collapseView);\r\n      }\r\n      if (this._showDivider) {\r\n        this.ui.dividerRegion.addClass('divider-show');\r\n      }\r\n    },\r\n\r\n    _setToolbarView: function (node, toolbarItems, toolbarMask, delayed, toolOptions) {\r\n      var nodes = new NodeCollection(node);\r\n      nodes.connector = node.connector;\r\n\r\n      var status = _.extend(this.commonToolbarOptions, {\r\n        nodes: nodes\r\n      });\r\n\r\n      var filteredCollection = new FilteredToolItemsCollection(\r\n          toolbarItems, {\r\n            status: status,\r\n            commands: this.commandController.commands,\r\n            mask: toolbarMask\r\n          });\r\n\r\n      var toolbarViewClass = delayed ? LazyToolbarView : ToolbarView;\r\n\r\n      var toolbarView = new toolbarViewClass(_.extend({\r\n        collection: filteredCollection\r\n      }, this.commonToolbarOptions, toolOptions));\r\n\r\n      return toolbarView;\r\n    },\r\n\r\n    showDivider: function () {\r\n      if (this._collapseView || !this.options.hideToolbar) {\r\n        this._showDivider = true;\r\n        this.ui.dividerRegion.addClass('divider-show');\r\n      }\r\n    },\r\n\r\n    onDestroy: function () {\r\n\r\n      if (this._statusIndicatorsView) {\r\n        this._statusIndicatorsView.destroy();\r\n      }\r\n      if (this._righttoolbarView) {\r\n        this._righttoolbarView.destroy();\r\n      }\r\n      if (this._delayedActionsToolbarView) {\r\n        this._delayedActionsToolbarView.destroy();\r\n      }\r\n      if (this._collapseView) {\r\n        this._collapseView.destroy();\r\n      }\r\n    },\r\n\r\n    _DomRefresh: function () {\r\n\r\n      if (this._righttoolbarView) {\r\n        this._righttoolbarView.triggerMethod('dom:refresh');\r\n      }\r\n      if (this._delayedActionsToolbarView) {\r\n        this._delayedActionsToolbarView.triggerMethod('delayed:toolbar:refresh');\r\n      }\r\n    },\r\n\r\n    adjustToolbar: function () {\r\n      var tabIndex = -1;\r\n      if (arguments && arguments.length > 0) {\r\n        tabIndex = arguments[0].tabIndex;\r\n      }\r\n\r\n      if (this.$el.find(\".binf-dropdown\").length === 0) {\r\n        this._DomRefresh();\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(HeaderToolbarView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return HeaderToolbarView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/header/impl/header',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"-childview\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"        <div class=\\\"conws-header-edit\\\" tabindex=\\\"0\\\" role=\\\"button\\\" data-binf-toggle=\\\"popover\\\"\\r\\n             aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.iconMsg || (depth0 != null ? depth0.iconMsg : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"iconMsg\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n          <div class=\\\"header-image\\\">\\r\\n            <img src=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.iconData || (depth0 != null ? depth0.iconData : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"iconData\",\"hash\":{}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.type || (depth0 != null ? depth0.type : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"type\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.iconClass || (depth0 != null ? depth0.iconClass : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"iconClass\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n          </div>\\r\\n          <div class=\\\"header-editor\\\">\\r\\n            <span class=\\\"icon-edit\\\"></span>\\r\\n          </div>\\r\\n        </div>\\r\\n        <input class=\\\"conws-header-icon-file\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.chooseInpFileTitle || (depth0 != null ? depth0.chooseInpFileTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"chooseInpFileTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" type=\\\"file\\\"\\r\\n               accept=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.iconFileTypes || (depth0 != null ? depth0.iconFileTypes : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"iconFileTypes\",\"hash\":{}}) : helper)))\n    + \"\\\" style=\\\"display:none\\\">\\r\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"        <img src=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.iconData || (depth0 != null ? depth0.iconData : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"iconData\",\"hash\":{}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.type || (depth0 != null ? depth0.type : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"type\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.iconClass || (depth0 != null ? depth0.iconClass : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"iconClass\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n\";\n},\"7\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"      <div class=\\\"conws-header-metadata-container\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.hasWorkspaceType : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(8, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.hasDescription : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(10, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.hasMetadataExtension : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(13, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"      </div>\\r\\n\";\n},\"8\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"          <div class=\\\"conws-header-type\\\">\\r\\n            <p title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.type || (depth0 != null ? depth0.type : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"type\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.type || (depth0 != null ? depth0.type : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"type\",\"hash\":{}}) : helper)))\n    + \"</p>\\r\\n          </div>\\r\\n\";\n},\"10\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.unless.call(depth0,(depth0 != null ? depth0.isDescriptionEmpty : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":this.program(11, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"11\":function(depth0,helpers,partials,data) {\n    return \"            <div class=\\\"conws-header-desc\\\"></div>\\r\\n\";\n},\"13\":function(depth0,helpers,partials,data) {\n    return \"          <div class=\\\"conws-header-metadata-extension\\\"></div>\\r\\n\";\n},\"15\":function(depth0,helpers,partials,data) {\n    return \"    <div class=\\\"conws-header-childView-container\\\">\\r\\n      <div id=\\\"conws-header-childview\\\"></div>\\r\\n    </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"conws-header-wrapper\\\">\\r\\n  <div class=\\\"conws-header-metadata\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.hasChildView : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n    <div class=\\\"conws-header-image\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.canChange : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.program(5, data, 0)})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n    <div class=\\\"conws-header-title-section\\\">\\r\\n      <div class=\\\"conws-header-title\\\">\\r\\n        <h1 title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"</h1>\\r\\n\\r\\n        <div class=\\\"conws-header-child-displayUrl\\\"></div>\\r\\n      </div>\\r\\n\\r\\n       <div class=\\\"conws-header-toolbar\\\"></div>\\r\\n      \\r\\n    </div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.hasMetadata : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(7, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"  </div>\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.hasChildView : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(15, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_header_impl_header', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/header/impl/header',[],function(){});\n","// Business Workspace Header View\r\ncsui.define('conws/widgets/header/header.view',['module',\r\n  'require',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/utils/base',\r\n  'csui/utils/log',\r\n  'csui/utils/url',\r\n  'csui/utils/nodesprites',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'esoc/widgets/activityfeedwidget/activityfeedfactory',\r\n  'esoc/widgets/activityfeedwidget/activityfeedcontent',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/widgets/header/impl/editicon.view',\r\n  'conws/widgets/header/impl/header.model.factory',\r\n  'conws/widgets/header/impl/header.icon.model',\r\n  'conws/widgets/header/impl/headertoolbaritems',\r\n  'conws/widgets/header/impl/headertoolbaritems.masks',\r\n  'conws/models/favorite.model',\r\n  'conws/controls/description/description.view',\r\n  'conws/widgets/header/impl/headertoolbar.view',\r\n  'i18n!conws/widgets/header/impl/nls/header.lang',\r\n  'csui/utils/contexts/factories/node',\r\n  'hbs!conws/widgets/header/impl/header',\r\n  'css!conws/widgets/header/impl/header'\r\n], function (module, require, _, $, Marionette, base, log, Url, NodeSpriteCollection,\r\n    ModalAlert, ActivityFeedFactory, ActivityFeedContent,\r\n    WorkspaceContextFactory, EditIconView, HeaderModelFactory,\r\n    HeaderIconModel, HeaderToolbarItems, HeaderToolbarItemsMask, FavoriteModel, DescriptionView,\r\n    HeaderToolbarView, lang, NodeModelFactory, template) {\r\n\r\n  // strict javascript execution\r\n  'use strict';\r\n\r\n  // activity feed widget\r\n  var constants = {'activityfeedwidget': 'esoc/widgets/activityfeedwidget'};\r\n\r\n  var moduleConfig = module.config();\r\n\r\n  // initialize the Header View\r\n  var HeaderView = Marionette.LayoutView.extend({\r\n\r\n    // CSS class names\r\n    className: 'conws-header',\r\n\r\n    // Template is used to render the HTML for the view\r\n    template: template,\r\n\r\n    // The template helpers are used to provide placeholders\r\n    // for the widget\r\n    templateHelpers: function () {\r\n      var obj = {\r\n        canChange: this.model.hasAction('upload-icon') ||\r\n                   this.model.hasAction('update-icon') ||\r\n                   this.model.hasAction('delete-icon'),\r\n        iconData: this.getImageInfo().iconContent,\r\n        iconClass: this.getImageInfo().iconClass,\r\n        iconFileTypes: this.options.data.iconFileTypes,\r\n        chooseInpFileTitle: this.options.data.chooseInpFileTitle,\r\n        iconMsg: lang.iconMessage,\r\n        title: this.resolveProperty('title'),\r\n        type: this.resolveProperty('type'),\r\n        description: this.resolveProperty('description'),\r\n        hasChildView: this.hasChildView(),\r\n        hasDescription: !this.options.hideDescription,\r\n        isDescriptionEmpty: this.hasEmptyDescription(),\r\n        hasWorkspaceType: !this.options.hideWorkspaceType,\r\n        hasMetadataExtension: this.options.hasMetadataExtension,\r\n        hasMetadata: !this.options.hideDescription || !this.options.hideWorkspaceType ||\r\n                     this.options.hasMetadataExtension\r\n      };\r\n      return obj;\r\n    },\r\n\r\n    // the header is separated in the following regions:\r\n    // - child view region contains the configured nested view. this\r\n    //   is currently only the activity view.\r\n    // - Toolbar region contains the commands like comments,favorites and other extensions\r\n    regions: {\r\n      childViewRegion: '#conws-header-childview',\r\n      toolBarRegion: '.conws-header-toolbar',\r\n      descriptionRegion: '.conws-header-desc'\r\n    },\r\n\r\n    // the triggers are used to add / remove the workspace icon\r\n    triggers: {\r\n      'change .conws-header-icon-file': 'set:icon',\r\n      'mouseleave .conws-header-wrapper': 'mouse:leave'\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    isTabable: function () {\r\n      // the header icon shouldn't be tabable in collapsed mode\r\n      return $('.cs-tabbed-perspective.cs-collapse').length === 0;\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      // get header icon as focusable element\r\n      return this.$el.find('.conws-header-edit');\r\n    },\r\n\r\n    onKeyDown: function (e) {\r\n      if (e.keyCode === 13 || e.keyCode === 32) {\r\n        // open image editor in case the header isn't collapsed\r\n        if ($(e.target).hasClass('conws-header-edit')) {\r\n          // stall event\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          if ($('.cs-collapse').length === 0) {\r\n            // show popover\r\n            $(e.target).binf_popover('show');\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    onMouseLeave: function () {\r\n      $('.conws-header-edit').binf_popover('hide');\r\n    },\r\n\r\n    // find a better solution instead of a blank 1x1px png image\r\n    blankImage: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQI12NgYAAAAAMAASDVlMcAAAAASUVORK5CYII=',\r\n\r\n    // default icon file types\r\n    defaultIconFileTypes: 'image/gif, image/x-png, image/jpeg, image/pjpeg, image/png, image/svg+xml',\r\n\r\n    // default icon file size\r\n    defaultIconFileSize: 1048576,\r\n\r\n    // The constructor gives an explicit name the the object in the debugger and\r\n    // can update the options for the parent view\r\n    constructor: function HeaderView(options) {\r\n      // context is required\r\n      options || (options = {});\r\n      if (!options.context) {\r\n        throw new Error('Context is missing in the constructor options');\r\n      }\r\n      // define icon file types\r\n      if (!options.data.iconFileTypes) {\r\n        options.data.iconFileTypes = this.defaultIconFileTypes;\r\n      }\r\n      // define icon file size in bytes\r\n      if (!options.data.iconFileSize) {\r\n        options.data.iconFileSize = this.defaultIconFileSize;\r\n      }\r\n      // define tooltip title of \"choose file\"\r\n      if (!options.data.chooseInpFileTitle) {\r\n        options.data.chooseInpFileTitle = lang.chooseInpFileTitle;\r\n      }\r\n      options.hideToolbar = options.hideToolbar ? !!options.hideToolbar :\r\n                            !!moduleConfig.hideToolbar;\r\n      options.hideToolbarExtension = options.hideToolbarExtension ? !!options.hideToolbarExtension :\r\n                                     !!moduleConfig.hideToolbarExtension;\r\n      options.hideActivityFeed = options.hideActivityFeed ? !!options.hideActivityFeed :\r\n                                 !!moduleConfig.hideActivityFeed;\r\n      options.hideDescription = options.hideDescription ? !!options.hideDescription :\r\n                                !!moduleConfig.hideDescription;\r\n      options.hideWorkspaceType = options.hideWorkspaceType ? !!options.hideWorkspaceType :\r\n                                  !!moduleConfig.hideWorkspaceType;\r\n      options.hasMetadataExtension = options.hasMetadataExtension ? !!options.hasMetadataExtension :\r\n                                     !!moduleConfig.hasMetadataExtension;\r\n      options.toolbarBlacklist = options.toolbarBlacklist ? options.toolbarBlacklist :\r\n                                 moduleConfig.toolbarBlacklist;\r\n      options.extensionToolbarBlacklist = options.extensionToolbarBlacklist ?\r\n                                          options.extensionToolbarBlacklist :\r\n                                          moduleConfig.extensionToolbarBlacklist;\r\n      options.expandDescription = true;\r\n      options.enableCollapse = !!moduleConfig.enableCollapse;\r\n\r\n      // get workspace context\r\n      if (!options.workspaceContext) {\r\n        options.workspaceContext = options.context.getObject(WorkspaceContextFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(HeaderModelFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(ActivityFeedFactory);\r\n      }\r\n      // get the model from the model factory\r\n      options.model = options.workspaceContext.getModel(HeaderModelFactory);\r\n\r\n      // set child widget and options if the type is 'activityfeed'\r\n      if (options.data.widget && options.data.widget.type &&\r\n          options.data.widget.type === 'activityfeed') {\r\n        options.data.widget.type = constants.activityfeedwidget;\r\n        options.data.widget.options || (options.data.widget.options = {});\r\n      }\r\n\r\n      // Masking the toolbar items in the right section of header\r\n      if ((Array.isArray(options.toolbarBlacklist) && options.toolbarBlacklist.length > 0) ||\r\n          (Array.isArray(options.delayedToolbarBlacklist) &&\r\n           options.delayedToolbarBlacklist.length > 0)) {\r\n        options.headerToolbarItemsMask = new HeaderToolbarItemsMask({\r\n          \"rightToolbar\": {blacklist: options.toolbarBlacklist},\r\n          \"delayedActionsToolbar\": {blacklist: options.delayedToolbarBlacklist}\r\n        });\r\n      }\r\n\r\n      // Masking the toolbar items in the toolbar extension area of tabbed perspective\r\n      if ((Array.isArray(options.extensionToolbarBlacklist) &&\r\n           options.extensionToolbarBlacklist.length > 0) ||\r\n          (Array.isArray(options.extensionToolbarDelayedActionsBlacklist) &&\r\n           options.extensionToolbarDelayedActionsBlacklist.length > 0)) {\r\n        options.headerExtensionToolbarItemsMask = new HeaderToolbarItemsMask({\r\n          \"rightToolbar\": {blacklist: options.extensionToolbarBlacklist},\r\n          \"delayedActionsToolbar\": {blacklist: options.extensionToolbarDelayedActionsBlacklist}\r\n        });\r\n      }\r\n\r\n      options.workspaceNode = options.workspaceContext.getModel(NodeModelFactory);\r\n\r\n      // wire models and collections also to the parent view\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n      // listen to the window resize event\r\n      $(window).on('resize', _.bind(this.onWindowResize, this));\r\n      this.model.fetched = false;\r\n      // changes of the header model are rendered immediately\r\n      this.listenTo(this.model, 'change', _.bind(function () {\r\n        this.model.fetched = true;\r\n        this.render();\r\n      }, this));\r\n\r\n      // create an icon model and listen on changes\r\n      this.iconModel = new HeaderIconModel({},\r\n          {connector: this.model.connector, node: this.model});\r\n      this.listenTo(this.iconModel, 'icon:change', this.onIconChanged);\r\n\r\n      if (this.hasChildView()) {\r\n        var widget = this.options.data.widget;\r\n        if (widget.type === constants.activityfeedwidget) {\r\n          // because nodeid is part of id of activity feed factory/model in context, we must create\r\n          // the widget every time the id changes. and we must do it before render,\r\n          // so it is fetched together with the other nodes, to get smooth animations.\r\n          this._makeActivityWidget();\r\n          this.listenTo(this.model.node, 'change:id', this._makeActivityWidget);\r\n        }\r\n      }\r\n\r\n      this.options.workspaceNode.nonPromotedActionCommands = this.getDelayedHeaderViewActions();\r\n      // Render toolbar items (comments, favorites) as an extension in tab links section of tabbed perspective\r\n      if (!this.options.hideToolbarExtension) {\r\n\r\n        this.tabBarRightExtensionView = HeaderToolbarView;\r\n\r\n        this.tabBarRightExtensionViewOptions = {\r\n          context: this.options.context,\r\n          node: this.options.workspaceNode,\r\n          toolbarItems: this.options.headerExtensionToolbaritems || HeaderToolbarItems,\r\n          container: this.options.workspaceNode,\r\n          originatingView: this,\r\n          toolbarItemsMasks: this.options.headerExtensionToolbarItemsMask,\r\n          useIconsForDarkBackground: true,  // set to true if background is dark\r\n          customClass: \"conws-header-toolbar-extension conws-header-toolbar\"\r\n        };\r\n        // Not showing the extension in the condensed header\r\n        this.disableExtensionOnOtherTabs = true;\r\n      }\r\n\r\n      // listen to the dom:refresh event to do line clamping...\r\n      this.listenTo(this, 'dom:refresh', this.onDomRefresh);\r\n\r\n      this.listenTo(this, \"active:tab\", function () {\r\n        this.triggerMethod(\"adjust:toolbar\");\r\n      });\r\n      this.listenTo(this, \"render\", this.postCallbackFucntion);\r\n    },\r\n    postCallbackFucntion: function () {\r\n      // Render toolbar items (comments, favorites) in the header right section\r\n      // and additional toolbar for extension of other actions.\r\n\r\n      this.headerToolbarView = new HeaderToolbarView(\r\n          {\r\n            context: this.options.context,\r\n            node: this.options.workspaceNode,\r\n            toolbarItems: this.options.headertoolbaritems ? this.options.headertoolbaritems :\r\n                          HeaderToolbarItems,\r\n            toolbarItemsMasks: this.options.headerToolbarItemsMask,\r\n            container: this.options.workspaceNode,\r\n            originatingView: this,\r\n            hideToolbar: this.options.hideToolbar,\r\n            useIconsForDarkBackground: true,  // set to true if background is dark\r\n            statusIndicatorsView: this.options.statusIndicatorsView,\r\n            statusIndicatorsViewOptions: this.options.statusIndicatorsViewOptions,\r\n            enableCollapse: this.options.enableCollapse\r\n          });\r\n\r\n      this.toolBarRegion.show(this.headerToolbarView);\r\n    },\r\n\r\n    addActivityFeedClass: function () {\r\n      if (this.$el.find('#conws-header-childview').find('.esoc-activityfeed-contentwidget').has(\r\n              '.esoc-activityfeed-list-item').length) {\r\n        this.$el.parent().addClass('conws-activityfeed-configured').removeClass(\r\n            'conws-activityfeed-configured-nodata');\r\n      } else if (this.$el.find('#conws-header-childview').has(\r\n              '.esoc-activityfeed-contentwidget .esoc-empty-activityfeed-message').length) {\r\n        this.$el.parent().addClass('conws-activityfeed-configured-nodata').removeClass(\r\n            'conws-activityfeed-configured');\r\n      } else {\r\n        this.$el.parent().removeClass('conws-activityfeed-configured-nodata').removeClass(\r\n            'conws-activityfeed-configured');\r\n      }\r\n    },\r\n\r\n    onDomRefresh: function () {\r\n      this.addActivityFeedClass();\r\n      // line clamping\r\n      this._clampTexts();\r\n      // tab indexes are maintained in the 'dom:refresh' event. unfortunately the event isn't\r\n      // executed on nested views. therefore we have to manually trigger them on the nested views.\r\n      if (this.hasChildView()) {\r\n        this.childViewRegion.currentView &&\r\n        this.childViewRegion.currentView.triggerMethod('dom:refresh');\r\n      }\r\n\r\n      this.headerToolbarView.triggerMethod('dom:refresh');\r\n\r\n      if (!!this.descriptionView && this.descriptionView.ui.readMore.is(\":hidden\") &&\r\n          this.descriptionView.ui.showLess.is(\":visible\")) {\r\n        this.descriptionView.ui.showLess.click();\r\n        this.currentlyFocusedElement().trigger('focus');\r\n      }\r\n\r\n      this.isTabable() ? this.currentlyFocusedElement().attr(\"tabindex\", \"0\") :\r\n      this.currentlyFocusedElement().attr(\"tabindex\", \"-1\");\r\n\r\n    },\r\n\r\n    onWindowResize: function () {\r\n      // line clamping\r\n      this._clampTexts();\r\n    },\r\n\r\n    onDestroy: function () {\r\n      // unbind resize event\r\n      $(window).off('resize', this.onWindowResize);\r\n      // release the observer\r\n      if (this._observer) {\r\n        this._observer.disconnect();\r\n      }\r\n\r\n      if (this.headerToolbarView) {\r\n        this.headerToolbarView.destroy();\r\n      }\r\n    },\r\n\r\n    // Whenever the icon has changed, the model has to be re-fetched.\r\n    onIconChanged: function () {\r\n      this.model.fetch();\r\n    },\r\n\r\n    // Whenever the file input view element has changed, the selected image is either\r\n    // set initially or updated depending on the icon state.\r\n    onSetIcon: function (e) {\r\n      var files = $('.conws-header-icon-file')[0].files\r\n      if (this.getImageInfo().iconLocation === 'node') {\r\n        this.iconModel.update(files).fail(function (resp) {\r\n          var message = new base.RequestErrorMessage(resp).message ||\r\n                        lang.changeIconDialogDefaultError;\r\n          ModalAlert.showError(message);\r\n        });\r\n      } else {\r\n        this.iconModel.add(files).fail(function (resp) {\r\n          var message = new base.RequestErrorMessage(resp).message ||\r\n                        lang.changeIconDialogDefaultError;\r\n          ModalAlert.showError(message);\r\n        });\r\n      }\r\n    },\r\n\r\n    // Initializes the view displayed in the edit icon popover.\r\n    renderPopover: function () {\r\n      var imageInfo = this.getImageInfo();\r\n      var self = this;\r\n      var view = new EditIconView({\r\n        message: lang.changeIconDialogMessage.replace('%1',\r\n            base.getReadableFileSizeString(self.options.data.iconFileSize)),\r\n        resetButton: function () {\r\n          return imageInfo.iconLocation === 'node' && self.model.hasAction('delete-icon')\r\n        },\r\n        uploadButton: function () {\r\n          return imageInfo.iconLocation !== 'type' && self.model.hasAction('upload-icon')\r\n                 || imageInfo.iconLocation !== 'node' && self.model.hasAction('update-icon');\r\n\r\n        },\r\n        callback: _.bind(this.onClickPopover, this)\r\n      });\r\n      return view.render().el;\r\n    },\r\n\r\n    // Callback function that is executed from within the edit icon view buttons. Depending on the clicked\r\n    // button either the icon is reset or the file browser is opened.\r\n    onClickPopover: function (e) {\r\n      // close the popover\r\n      $('.conws-header-edit').binf_popover('hide');\r\n      // execute edit action\r\n      if (e === 'reset') {\r\n        // remove the custom workspace image\r\n        this.iconModel.remove().fail(function (resp) {\r\n          var message = new base.RequestErrorMessage(resp).message ||\r\n                        lang.changeIconDialogDefaultError;\r\n          ModalAlert.showError(message);\r\n        });\r\n      } else if (e === 'upload') {\r\n        // open the file browse to select a image file for upload\r\n        this.$('.conws-header-icon-file').trigger('click');\r\n        if (base.isTouchBrowser()) {\r\n          // not sure why this is required but due to some wiredness we have to trigger the\r\n          // click event twice to open the dialog on an IPAD browser.\r\n          this.$('.conws-header-icon-file').trigger('click');\r\n        }\r\n      }\r\n      // refocus header image\r\n      this.currentlyFocusedElement().trigger('focus');\r\n    },\r\n\r\n    onShow: function () {\r\n      var self = this;\r\n      // create observer ...\r\n      var perspective = $('.cs-perspective-panel');\r\n      if (perspective.length === 1) {\r\n        this._observer = new MutationObserver(function (mutations) {\r\n          mutations.forEach(function (mutation) {\r\n            var target = $(mutation.target);\r\n            if (target.hasClass('cs-tabbed-perspective')) {\r\n              self.titleClampLines = target.hasClass('cs-collapse') ? 1 : 2;\r\n              self._clampTexts();\r\n            }\r\n          });\r\n        });\r\n        // ... and observe\r\n        this._observer.observe(perspective[0],\r\n            {attributes: true, attributeFilter: ['class'], subtree: true});\r\n      }\r\n    },\r\n\r\n    // The view is rendered whenever the model changes.\r\n    onRender: function () {\r\n      if (this.model.fetched) {\r\n        this.$el.parent().addClass('conws-header-widget');\r\n        var self = this;\r\n        // initialize popover\r\n        var edit = this.$('.conws-header-edit');\r\n        edit.binf_popover({\r\n          container: '.conws-header-wrapper',\r\n          animation: true,\r\n          html: true,\r\n          content: _.bind(this.renderPopover, this)\r\n        });\r\n\r\n        if (this.hasChildView()) {\r\n          // Render activityfeed if necessary\r\n          if (!self.activityFeedContent) {\r\n            this._makeActivityWidget();\r\n          }\r\n          if (self.activityFeedContent) {\r\n            var listView = self.activityFeedContent.contentView.unblockActions();\r\n            self.childViewRegion.show(listView);\r\n            self.activityFeedContent = undefined;\r\n          }\r\n        }\r\n\r\n        // Render description\r\n        if (!this.options.hideDescription && !this.hasEmptyDescription()) {\r\n          var data = {\r\n            view: this,\r\n            complete_desc: this.resolveProperty('description'),\r\n            expandDescription: this.options.expandDescription\r\n          };\r\n          this.descriptionView = new DescriptionView(data);\r\n          this.descriptionRegion.show(this.descriptionView);\r\n          this.$el.parent().addClass('conws-description-available');\r\n        }\r\n      }\r\n\r\n    },\r\n\r\n    hasEmptyDescription: function () {\r\n      var description = this.resolveProperty('description');\r\n      return (description === \"\");\r\n    },\r\n\r\n    _clampTexts: function () {\r\n      // clear timer\r\n      if (this.resizeTimer) {\r\n        clearTimeout(this.resizeTimer);\r\n      }\r\n      // renew timer\r\n      this.resizeTimer = setTimeout(_.bind(function () {\r\n        // title\r\n        var title = $('.conws-header-title > p');\r\n        if (title.length !== 0) {\r\n          title.text(title.attr('title'));\r\n          this.clamp(title[0], title.parent().outerHeight());\r\n        }\r\n      }, this), 200);\r\n    },\r\n\r\n    // Get the header configuration property\r\n    _makeActivityWidget: function () {\r\n      // create activity widget if we have an id.\r\n      // set it to undefined, if we have no id or activityfeed is not configured.\r\n      this.activityFeedContent = undefined;\r\n      if (this.model.node.get('id')) {\r\n        var widget = (this.options.data && this.options.data.widget);\r\n        if (widget && widget.type === constants.activityfeedwidget) {\r\n          var widgetOptions = $.extend({}, widget.options, {\r\n            feedsize: 10,\r\n            feedtype: \"all\",\r\n            feedSettings: {\r\n              enableComments: true,\r\n              enableFilters: false\r\n            },\r\n            feedsource: {\r\n              source: 'pulsefrom',\r\n              id: this.model.node.get('id')\r\n            },\r\n            hideExpandIcon: true,\r\n            context: this.options.workspaceContext,\r\n            headerView: true\r\n          });\r\n          this.activityFeedContent = new ActivityFeedContent(widgetOptions);\r\n          this.listenTo(this.activityFeedContent.contentView.collection, 'sync', this.addActivityFeedClass);\r\n        }\r\n      }\r\n    },\r\n\r\n    // Get the header configuration property\r\n    configProperty: function (name) {\r\n      var props = (this.options.data && this.options.data.workspace &&\r\n                   this.options.data.workspace.properties) || {};\r\n      return props[name];\r\n    },\r\n\r\n    // Gets the widget properties from the view and resolves replacement tags if\r\n    // available.\r\n    resolveProperty: function (name) {\r\n      var ret = '';\r\n      // resolve widget property only in case the model is\r\n      // already a business workspace\r\n      if (this.model.isWorkspaceType()) {\r\n        // get the property from the widget workspace configuration\r\n        var prop = this.configProperty(name);\r\n        //for backword compatability\r\n        if (prop === '{business_properties.description}') {\r\n          prop = '{description}'\r\n        }\r\n        if (prop && (prop.length > 0)) {\r\n          // find placeholders in the format '{x}'\r\n          var tags = prop.match(/{(.*?)}/g);\r\n          if (tags) {\r\n            var self = this;\r\n            _.each(tags, function (tag) {\r\n              prop = prop.replace(tag, self.format(self.resolveModelValue(tag)).formatted || '');\r\n            });\r\n          }\r\n          ret = prop;\r\n        }\r\n      }\r\n      return ret;\r\n    },\r\n\r\n    // Gets properties from the model.\r\n    // - Supports node / category properties\r\n    // - Multi-value fields are supported, values are comma-separated.\r\n    // - Returns name, value and metadata information\r\n    resolveModelValue: function (name) {\r\n      // initialize return\r\n      var ret = {\r\n        name: name,\r\n        value: name,\r\n        metadata: undefined\r\n      };\r\n      // resolve the model value\r\n      if (name.indexOf('{') === 0) {\r\n        // set node values and split replacement tag\r\n        var value = this.model.attributes || {};\r\n        var metadata = this.model.metadata && this.model.metadata.properties || {};\r\n        var names = name.substring(1, name.length - 1).split('.');\r\n        var metadataNames = names;\r\n        // in case of categories replacement tag switch to categories\r\n        // object and adopt the replacement tag elements.\r\n        var section = (names.length > 1) ? names[0] : undefined;\r\n        if (section === 'categories') {\r\n          // set the categories value, metadata field\r\n          value = this.model.categories || {};\r\n          metadata = this.model.metadata && this.model.metadata.categories || {};\r\n          // extend array from [categories, catid_fieldid]\r\n          // to [categories, catid, catid_fieldid]\r\n          var parts = names[1].split('_');\r\n          names = [parts[0], names[1]];\r\n          //\r\n          if (parts.length > 2) {\r\n            parts[2] = 'x';\r\n          }\r\n          metadataNames = [parts[0], parts.join('_')];\r\n        } else if (section === 'business_properties') {\r\n          // set the business properties value, metadata field\r\n          value = this.model.business_properties || {};\r\n          metadata = {};\r\n          // remove 'business_properties' tag\r\n          names.splice(0, 1);\r\n        }\r\n        // find the replacement tag in the workspace\r\n        // information.\r\n        _.find(names, function (name) {\r\n          value = value[name];\r\n          if (value === undefined) {\r\n            return true;\r\n          }\r\n        });\r\n        // find the value metadata\r\n        _.find(metadataNames, function (name) {\r\n          metadata = metadata[name];\r\n          if (metadata === undefined) {\r\n            return true;\r\n          }\r\n        });\r\n        // expand the category values\r\n        if (section === 'categories') {\r\n          if (metadata && metadata.type_name === 'Integer') {\r\n            if (metadata.persona === 'user' || metadata.persona === 'group' ||\r\n                metadata.persona === 'member') {\r\n              this.model.expandMemberValue({name: names[1], value: value, metadata: metadata});\r\n            }\r\n          }\r\n        }\r\n        // return value\r\n        ret.name = name;\r\n        ret.value = value;\r\n        ret.metadata = metadata;\r\n      }\r\n      // return\r\n      return ret;\r\n    },\r\n\r\n    // returns a culture and type specifically formatted\r\n    // model value.\r\n    format: function (value) {\r\n      // format depending on metadata\r\n      var type = value.metadata && value.metadata.type_name;\r\n      switch (type) {\r\n      case 'Date':\r\n        // format date value\r\n        value.formatted = this.formatDate(value.value);\r\n        break;\r\n      case 'Integer':\r\n        // in case of integer the value could also represent a user/group id\r\n        var persona = value.metadata.persona;\r\n        switch (persona) {\r\n        case 'user':\r\n        case 'group':\r\n        case 'member':\r\n          // users and groups must be expanded before they are formatted\r\n          var expprop = '{' + value.name.substring(1, value.name.length - 1) + '_expand}';\r\n          var expval = this.resolveModelValue(expprop);\r\n          value.formatted = this.formatMember(expval.value);\r\n          break;\r\n        default:\r\n          // default integer values are displayed as they are\r\n          value.formatted = this.formatValue(value.value);\r\n          break;\r\n        }\r\n        break;\r\n      default:\r\n        // all other types are displayed as they are\r\n        value.formatted = this.formatValue(value.value);\r\n        break;\r\n      }\r\n\r\n      // return the value\r\n      return value;\r\n    },\r\n\r\n    formatDate: function (value) {\r\n      // ensure value is array\r\n      value = _.isArray(value) ? value : [value];\r\n      // return formatted string\r\n      return _.map(value, function (element) {\r\n        return base.formatDate(element);\r\n      }).join('; ');\r\n    },\r\n\r\n    formatMember: function (value) {\r\n      // ensure value is array\r\n      value = _.isArray(value) ? value : [value];\r\n      // return formatted string\r\n      var map = _.map(value, function (element) {\r\n        if (!element) {\r\n          return '';\r\n        } else if (element.display_name !== undefined) {\r\n          return element.display_name;\r\n        } else if (element.name_formatted !== undefined) {\r\n          return element.name_formatted;\r\n        } else {\r\n          return base.formatMemberName(element);\r\n        }\r\n      });\r\n      var mapstr = map.join('; ');\r\n      return mapstr;\r\n    },\r\n\r\n    formatValue: function (value) {\r\n      // ensure value is array\r\n      value = _.isArray(value) ? value : [value];\r\n      // return formatted string\r\n      return value.join('; ');\r\n    },\r\n\r\n    // Evaluates whether the header contains a child widget or not.\r\n    hasChildView: function () {\r\n      return !this.options.hideActivityFeed && (this.options.data && this.options.data.widget &&\r\n             this.options.data.widget.type && this.options.data.widget.type !== \"none\");\r\n    },\r\n\r\n    // Resolves the header image\r\n    // - either return the image data url\r\n    // - or return the sub-type sprite\r\n    getImageInfo: function () {\r\n      var ret;\r\n      var icon = this.model.icon;\r\n      if (icon && icon.location !== 'none') {\r\n        // workspace icon\r\n        ret = {\r\n          iconContent: icon.content,\r\n          iconLocation: icon.location,\r\n          iconClass: undefined\r\n        };\r\n      } else {\r\n        // default icon\r\n        ret = {\r\n          iconContent: this.blankImage,\r\n          iconLocation: 'none',\r\n          iconClass: NodeSpriteCollection.findByNode(this.model).get('className')\r\n        }\r\n      }\r\n\r\n      return ret;\r\n    },\r\n\r\n    clamp: function (elem, height) {\r\n\r\n      var truncChars = '...';\r\n      var splitChars = ['.', ',', ' '];\r\n      var splitChar = null;\r\n\r\n      var chunk = null;\r\n      var chunks = null;\r\n\r\n      function truncate(textElem) {\r\n\r\n        // get the value\r\n        var value = textElem.nodeValue.replace(truncChars, '');\r\n\r\n        // if no chunks exist get them\r\n        if (!chunks) {\r\n          // get the next splitchar\r\n          splitChar = splitChars.length ? splitChars.shift() : '';\r\n          // get the chunks\r\n          chunks = value.split(splitChar);\r\n        }\r\n\r\n        // chunks exist\r\n        if (chunks.length > 1) {\r\n          // remove last chunk\r\n          chunk = chunks.pop();\r\n          // assign new value\r\n          textElem.nodeValue = chunks.join(splitChar) + truncChars;\r\n        } else {\r\n          // reset chunks\r\n          chunks = null;\r\n        }\r\n\r\n        if (chunks) {\r\n          // if the text fits into the element we have to check if we\r\n          // can improve the result by splitting by the next character.\r\n          if (elem.clientHeight <= height) {\r\n            if (splitChars.length) {\r\n              // assign new value and additionally the last chunk that was\r\n              // removed. The actual chuck can split up into smaller parts.\r\n              textElem.nodeValue = chunks.join(splitChar) + splitChar + chunk;\r\n              // reset chunks\r\n              chunks = null;\r\n            } else {\r\n              // we're finished with truncating and can return\r\n              return;\r\n            }\r\n          }\r\n        } else {\r\n          // there are no valid chunks even when\r\n          // splitting by letters so we stop here\r\n          if (!truncChars.length) {\r\n            textElem.nodeValue = truncChars;\r\n            return;\r\n          }\r\n        }\r\n\r\n        // truncate remaining text\r\n        truncate(textElem);\r\n      }\r\n\r\n      // return if truncation isn't required.\r\n      if (elem.clientHeight <= height) {\r\n        return;\r\n      }\r\n      // truncate\r\n      truncate(elem.lastChild);\r\n    },\r\n\r\n    adjustToolbar: function () {\r\n      if (!this.options.hideToolbar) {\r\n        this.headerToolbarView.triggerMethod('dom:refresh');\r\n      }\r\n    },\r\n\r\n    getDelayedHeaderViewActions: function () {\r\n      var headerToolbarDelayedActions = (this.options.headertoolbaritems &&\r\n                                         this.options.headertoolbaritems['delayedActionsToolbar']) ?\r\n                                        this.options.headertoolbaritems['delayedActionsToolbar'].collection :\r\n                                        HeaderToolbarItems['delayedActionsToolbar'].collection;\r\n\r\n      return _.chain(headerToolbarDelayedActions.pluck('signature'))\r\n          .unique()\r\n          .value();\r\n    }\r\n  });\r\n\r\n  // return the initialized view\r\n  return HeaderView;\r\n});\r\n\n","// Expands the limited view by showing the full one in a modal dialog\r\ncsui.define('conws/utils/behaviors/expanding.behavior',['require', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/lib/marionette'\r\n], function (require, _, Backbone, Marionette) {\r\n\r\n  var ExpandingBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function ExpandingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      // The perspective begins to change with an animation before the\r\n      // previous one is destroyed; the expanded view should be hidden\r\n      // previous one is.\r\n      var destroyWithAnimation = _.bind(this._destroyExpandedView, this, false),\r\n          destroyImmediately = _.bind(this._destroyExpandedView, this, true),\r\n          context = view.options && view.options.context;\r\n      this.listenTo(this, 'before:destroy', destroyWithAnimation);\r\n      if (context) {\r\n        // The hiding animation finishes before the context is fetched\r\n        // and the page is re-rendered.  If it becomes problem, use\r\n        // destroyImmediately here.\r\n        this.listenTo(context, 'request', destroyWithAnimation)\r\n            .listenTo(context, 'request:perspective', destroyWithAnimation);\r\n      }\r\n    },\r\n\r\n    onExpand: function () {\r\n      // If the expanding event is triggered multiple times, it should be\r\n      // handled just once by showing the expanded view; it is likely, that\r\n      // the expanding button was clicked quickly twice\r\n      if (this.expanded) {\r\n        return;\r\n      }\r\n      // Do not use the later initialized this.dialog property; loading\r\n      // the modules with the expanded view below may take some time.\r\n      this.expanded = true;\r\n\r\n      var self = this;\r\n      // TODO: remove completeCollection and limiting behavior.  Both\r\n      // client- and server-side browsable collections should provide\r\n      // the same interface and use the according mixins.\r\n      var collection = this.view.completeCollection ?\r\n                       this.view.completeCollection.clone() :\r\n                       this.view.collection.clone();\r\n\r\n      // TODO: This prevents other components from reusing this object,\r\n      // I hope that the and-conditions are enough to allow it in most cases.\r\n      // Order and filter should be carried via the model/collection\r\n      // and not chewed here for the expanded view.\r\n\r\n      // capture the name filter value from the collapsed tile and pass to the expanded table\r\n      var filterBy;\r\n      var filterVal = this.view.completeCollection && this.view.options &&\r\n                      this.view.options.filterValue &&\r\n                      this.view.options.filterValue.toLowerCase();\r\n      if (this.view.completeCollection && filterVal && filterVal.length > 0) {\r\n        filterBy = {name: filterVal};\r\n        collection.setFilter(filterBy, {fetch: false});\r\n        // Our PM Franz had a good idea that the filter in the collapsed tile should be cleared\r\n        // after we show the expanded table\r\n        this.view.searchClicked();\r\n      }\r\n\r\n      var expandedViewValue = self.getOption('expandedView');\r\n      var expandedViewClass = expandedViewValue;\r\n      if (_.isString(expandedViewValue) !== true) {\r\n        expandedViewClass = expandedViewValue.prototype instanceof Backbone.View ?\r\n                            expandedViewValue :\r\n                            expandedViewValue.call(self.view);\r\n      }\r\n      var requiredModules = ['csui/controls/dialog/dialog.view'];\r\n      if (_.isString(expandedViewClass)) {\r\n        requiredModules.push(expandedViewClass);\r\n      }\r\n      require(requiredModules, function (DialogView) {\r\n        if (_.isString(expandedViewClass)) {\r\n          expandedViewClass = arguments[1];\r\n        }\r\n        var expandedViewOptions = getOption(self.options, 'expandedViewOptions', self.view);\r\n        self.expandedView = new expandedViewClass(_.extend({\r\n          context: self.view.options.context,\r\n          collection: collection,\r\n          orderBy: getOption(self.options, 'orderBy', self.view),\r\n          filterBy: filterBy,\r\n          limited: false\r\n        }, expandedViewOptions));\r\n        self.dialog = new DialogView({\r\n          iconLeft: getOption(self.options, 'titleBarIcon', self.view) ||\r\n                    getOption(self.view.options, 'titleBarIcon', self.view),\r\n          imageLeftUrl: getOption(self.options, 'titleBarImageUrl', self.view),\r\n          imageLeftClass: getOption(self.options, 'titleBarImageClass', self.view),\r\n          title: getOption(self.options, 'dialogTitle', self.view),\r\n          iconRight: getOption(self.options, 'dialogTitleIconRight', self.view),\r\n          className: getOption(self.options, 'dialogClassName', self.view),\r\n          headerControl: getOption(self.options, 'headerControl', self.view),\r\n          largeSize: true,\r\n          view: self.expandedView\r\n        });\r\n        self.listenTo(self.dialog, 'before:hide', self._expandOtherView)\r\n            .listenTo(self.dialog, 'destroy', self._enableExpandingAgain);\r\n        self._expandOtherView(false);\r\n        self.dialog.show();\r\n      }, function (error) {\r\n        // If the module from the csui base cannot be loaded, something is so\r\n        // rotten, that it does not make sense trying to load other module to\r\n        // show the error message.\r\n        // There will be more information on the browser console.\r\n        self.expanded = false;\r\n      });\r\n    },\r\n\r\n    _destroyExpandedView: function (immediately) {\r\n      if (this.dialog) {\r\n        var method = immediately ? 'kill' : 'destroy';\r\n        this.dialog[method]();\r\n        this.dialog = undefined;\r\n      }\r\n    },\r\n\r\n    _expandOtherView: function (expand) {\r\n      this.options.collapsedView && this.options.collapsedView.triggerMethod(\r\n          expand === false ? 'go:away' : 'go:back');\r\n    },\r\n\r\n    _enableExpandingAgain: function () {\r\n      this.expanded = false;\r\n      if (this.view.tabableRegionBehavior) {\r\n        var navigationBehavior = this.view.tabableRegionBehavior,\r\n          targetElement      = this.view.ui.tileExpand;\r\n        navigationBehavior.currentlyFocusedElement &&\r\n        navigationBehavior.currentlyFocusedElement.prop('tabindex', -1);\r\n        targetElement && targetElement.prop('tabindex', 0);\r\n        targetElement.trigger('focus');\r\n        navigationBehavior.setInitialTabIndex();\r\n        this.view.currentTabPosition = 2;\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for functiona objects too.\r\n  function getOption(object, property, context) {\r\n    if (object == null) {\r\n      return void 0;\r\n    }\r\n    var value = object[property];\r\n    return _.isFunction(value) ? object[property].call(context) : value;\r\n  }\r\n\r\n  return ExpandingBehavior;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/controls/teamheader/impl/teamheader',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"conws-teamheader-content\\\">\\r\\n  <div class=\\\"title primary-title\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.primaryTitle || (depth0 != null ? depth0.primaryTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"primaryTitle\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.primaryTitle || (depth0 != null ? depth0.primaryTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"primaryTitle\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n  <div class=\\\"title secondary-title\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.secondaryTitle || (depth0 != null ? depth0.secondaryTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"secondaryTitle\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.secondaryTitle || (depth0 != null ? depth0.secondaryTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"secondaryTitle\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_controls_teamheader_impl_teamheader', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/team/impl/controls/teamheader/impl/teamheader',[],function(){});\n","csui.define('conws/widgets/team/impl/controls/teamheader/teamheader.view',[\r\n    'csui/lib/underscore',\r\n    'csui/lib/jquery',\r\n    'csui/lib/marionette',\r\n    'i18n!conws/widgets/team/impl/nls/team.lang',\r\n    'hbs!conws/widgets/team/impl/controls/teamheader/impl/teamheader',\r\n    'css!conws/widgets/team/impl/controls/teamheader/impl/teamheader'\r\n], function(_, $, Marionette, lang, template){\r\n\r\n    var TeamHeaderView = Marionette.LayoutView.extend({\r\n\r\n        className: 'conws-teamheader',\r\n\r\n        template: template,\r\n\r\n        constructor: function TeamHeaderView(options){\r\n            Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n            // initialize team header view\r\n            options || (options = {});\r\n        },\r\n\r\n        templateHelpers: function(){\r\n            return {\r\n                primaryTitle: this.options.primaryTitle,\r\n                secondaryTitle: this.options.secondaryTitle\r\n            }\r\n        }\r\n    });\r\n\r\n    return TeamHeaderView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/team/impl/team.empty',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"conws-team emptyview cs-emptylist-text\\\">\\r\\n    <span>\"\n    + this.escapeExpression(((helper = (helper = helpers.noResultsPlaceholder || (depth0 != null ? depth0.noResultsPlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"noResultsPlaceholder\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_team_impl_team.empty', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// Shows a list of team members\r\ncsui.define('conws/widgets/team/team.view',['csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/controls/list/list.view',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/behaviors/limiting/limiting.behavior',\r\n  'conws/utils/behaviors/expanding.behavior',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/list/behaviors/list.view.keyboard.behavior',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/widgets/header/impl/header.model.factory',\r\n  'conws/widgets/team/impl/team.model.factory',\r\n  'conws/widgets/team/impl/teamtables.view',\r\n  'conws/widgets/team/impl/controls/teamheader/teamheader.view',\r\n  'csui/utils/base',\r\n  'csui/utils/nodesprites',\r\n  'csui/utils/contexts/factories/node',\r\n  'conws/widgets/team/impl/controls/listitem/listitemteammember.view',\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'hbs!conws/widgets/team/impl/team.empty',\r\n  'css!conws/widgets/team/impl/team'\r\n], function (_, Marionette, ListView, PerfectScrollingBehavior, LimitingBehavior, ExpandingBehavior,\r\n    TabableRegionBehavior, ListViewKeyboardBehavior, WorkspaceContextFactory, HeaderModelFactory,\r\n    TeamCollectionFactory, TeamTablesView, TeamHeaderView, BaseUtils, NodeSpriteCollection,\r\n    NodeModelFactory, ListItem, lang, TeamEmptyTemplate) {\r\n\r\n  // Empty team view\r\n  var TeamEmptyView = Marionette.ItemView.extend({\r\n\r\n    constructor: function TeamEmptyView(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    template: TeamEmptyTemplate\r\n  });\r\n\r\n  //\r\n  // Constructor options:\r\n  // - showTitleIcon: boolean to show or hide the icon in the title bar\r\n  //\r\n  var TeamView = ListView.extend({\r\n\r\n    className: 'conws-team ' + ListView.prototype.className,\r\n\r\n    constructor: function TeamView(options) {\r\n      // initialize team view\r\n      options || (options = {});\r\n      options.data || (options.data = {});\r\n      if (options.data.showTitleIcon === undefined) {\r\n        options.data.showTitleIcon = true;\r\n      }\r\n      if (options.data.showWorkspaceIcon === undefined) {\r\n        options.data.showWorkspaceIcon = false;\r\n      }\r\n      options.data.title || (options.data.title = lang.dialogTitle);\r\n\r\n      // get workspace context\r\n      if (!options.workspaceContext) {\r\n        options.workspaceContext = options.context.getObject(WorkspaceContextFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(HeaderModelFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(TeamCollectionFactory);\r\n      }\r\n\r\n      // apply properties to parent\r\n      ListView.prototype.constructor.apply(this, arguments);\r\n\r\n      // TODO: In terms of reusability the CONWS model factories should be moved to a common\r\n      // TODO: location in the CONWS source. Otherwise we have dependencies between the different\r\n      // TODO: widgets.\r\n      // get the header model\r\n      this.headerModel = options.workspaceContext.getObject(HeaderModelFactory);\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        searchAria: lang.searchAria,\r\n        expandAria: lang.expandAria,\r\n        title: BaseUtils.getClosestLocalizedString(this.options.data.title, lang.dialogTitle),\r\n        icon: this.options.data.titleBarIcon || 'title-icon title-team',\r\n        searchPlaceholder: _.str.sformat(lang.searchIconTooltip,\r\n            lang.rolesParticipantsColTooltip)\r\n      };\r\n    },\r\n\r\n    getEmptyView: function () {\r\n      return TeamEmptyView;\r\n    },\r\n\r\n    emptyViewOptions: {\r\n      templateHelpers: function () {\r\n        return {\r\n          noResultsPlaceholder: lang.noResultsPlaceholder\r\n        };\r\n      }\r\n    },\r\n\r\n    childView: ListItem,\r\n\r\n    childViewOptions: {\r\n      templateHelpers: function () {\r\n        return {\r\n          name: this.model.get('display_name'),\r\n          email: this.model.get('business_email'),\r\n          isUser: this.model.get('type') === 0,\r\n          stage: {\r\n            value: this.model.getLeadingRole(),\r\n            label: this.model.getRolesIndicator()\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    childEvents: {\r\n      'click:item': 'onClickItem'\r\n    },\r\n\r\n    onClickItem: function (target) {\r\n      return;\r\n    },\r\n\r\n    behaviors: {\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.tile-content',\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15\r\n      },\r\n\r\n      LimitedList: {\r\n        behaviorClass: LimitingBehavior,\r\n        completeCollection: function () {\r\n          return this.options.workspaceContext.getCollection(TeamCollectionFactory);\r\n        },\r\n        filterByProperty: 'display_name',\r\n        limit: 0\r\n      },\r\n\r\n      ExpandableList: {\r\n        behaviorClass: ExpandingBehavior,\r\n        expandedView: TeamTablesView,\r\n        expandedViewOptions: function () {\r\n          return {collapsedView: this}\r\n        },\r\n        dialogTitle: function () {\r\n          return this.headerModel.get('name');\r\n        },\r\n        headerControl: function () {\r\n          return new TeamHeaderView({\r\n            primaryTitle: this.headerModel.get('name'),\r\n            secondaryTitle: this.headerModel.get('workspace_type_name')\r\n          });\r\n        },\r\n        titleBarIcon: function () {\r\n          return this.getIconData().titleBarIcon;\r\n        },\r\n        titleBarImageUrl: function () {\r\n          return this.getIconData().titleBarImageUrl;\r\n        },\r\n        titleBarImageClass: function () {\r\n          return this.getIconData().titleBarImageClass;\r\n        },\r\n        dialogTitleIconRight: 'icon-tileCollapse',\r\n        dialogClassName: 'conws-team'\r\n      },\r\n\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n\r\n      ListViewKeyboardBehavior: {\r\n        behaviorClass: ListViewKeyboardBehavior\r\n      }\r\n    },\r\n\r\n    onClickHeader: function (target) {\r\n      this.triggerMethod('expand');\r\n    },\r\n\r\n    getIconData: function () {\r\n      var ret = {};\r\n      // show a title icon - default to team svg\r\n      if (this.options.data.showTitleIcon) {\r\n        ret.titleBarIcon = this.options.data.titleBarIcon || 'title-icon mime-team';\r\n        // show workspace icon\r\n        if (this.options.data.showWorkspaceIcon) {\r\n          // workspace contains icon information\r\n          if (this.headerModel.icon && this.headerModel.icon.location !== 'none') {\r\n            ret.titleBarIcon = undefined;\r\n            ret.titleBarImageUrl = this.headerModel.icon.content;\r\n          }\r\n          else {\r\n            ret.titleBarIcon = NodeSpriteCollection.findByNode(this.headerModel).get('className');\r\n          }\r\n        }\r\n      }\r\n      return ret;\r\n    },\r\n\r\n    // Event from the expanded view to refresh the displayed list\r\n    onRefreshList: function () {\r\n      if (!_.isUndefined(this.completeCollection)) {\r\n        this.completeCollection.fetch();\r\n      }\r\n    },\r\n\r\n    // return the jQuery list item element by index for keyboard navigation use\r\n    getElementByIndex: function (index) {\r\n      if (isNaN(index) || (index < 0)) {\r\n        return null;\r\n      }\r\n      var $item = this.$(_.str.sformat('.conws-item-member:nth-child({0})', index + 1));\r\n      return this.$($item[0]);\r\n    }\r\n  });\r\n\r\n  return TeamView;\r\n});\r\n\n","// Shows a list of links\r\ncsui.define('conws/widgets/myworkspaces/impl/myworkspaceslistitem.view',['csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/controls/listitem/listitemstandard.view',\r\n  'conws/utils/previewpane/previewpane.view',\r\n  'csui/behaviors/default.action/default.action.behavior'\r\n], function (_, $,\r\n    StandardListItem, PreviewPaneView,\r\n    DefaultActionBehavior) {\r\n\r\n  var MyWorkspacesListItem = StandardListItem.extend({\r\n\r\n    constructor: function MyWorkspacesListItem(options) {\r\n      StandardListItem.apply(this, arguments);\r\n\r\n      if (this.options && this.options.preview) {\r\n        this.previewPane = new PreviewPaneView({\r\n          parent: this,\r\n          context: this.options.context,\r\n          config: this.options.preview,\r\n          node: this.model\r\n        });\r\n      }\r\n    },\r\n\r\n    behaviors: {\r\n      DefaultAction: {\r\n        behaviorClass: DefaultActionBehavior\r\n      }\r\n    },\r\n\r\n    onBeforeDestroy: function(e) {\r\n      if (this.previewPane) {\r\n        this.previewPane.destroy();\r\n        delete this.previewPane;\r\n      }\r\n    },\r\n\r\n    onClickItem: function () {\r\n      this.triggerMethod('execute:DefaultAction', this.model);\r\n    }\r\n  });\r\n\r\n  return MyWorkspacesListItem;\r\n\r\n});\r\n\r\n\n","csui.define('conws/widgets/myworkspaces/impl/myworkspacestable.view',[\"module\", \"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n    \"csui/lib/marionette\", \"csui/utils/log\",\r\n    'conws/utils/workspaces/impl/workspaceutil',\r\n    'conws/utils/workspaces/workspacestable.view'\r\n], function (module, $, _, Backbone,\r\n             Marionette, log,\r\n             workspaceUtil, WorkspacesTableView) {\r\n\r\n    var MyWorkspacesTableView = WorkspacesTableView.extend({\r\n\r\n        constructor: function MyWorkspacesTableView(options) {\r\n            WorkspacesTableView.prototype.constructor.apply(this, arguments);\r\n        },\r\n\r\n        onRender: function () {\r\n            var collection = this.collection;\r\n\r\n            // Set order if passed as configuration, otherwise use default\r\n            if (!_.isUndefined(this.collection.options.myworkspaces.attributes.sortExpanded)) {\r\n                collection.orderBy = this.collection.options.myworkspaces.attributes.sortExpanded;\r\n            }else{\r\n              collection.orderBy = workspaceUtil.orderByAsString(this.options.data.orderBy);\r\n            }\r\n\r\n            this.doRender(collection);\r\n        },\r\n\r\n        _getCollectionUrlQuery: function () {\r\n            var query = {};\r\n\r\n            // only fetch specific properties for table view\r\n            query.fields = encodeURIComponent(\"properties{\" + this.getColumnsToFetch() + \"}\");\r\n            query.action = \"properties-properties\";\r\n\r\n            // Fetch all workspaces\r\n            query.expanded_view = \"true\";\r\n\r\n            // Fetch users expanded to show proper name\r\n            query.expand_users = \"true\";\r\n\r\n            return query;\r\n        }\r\n\r\n    });\r\n\r\n    return MyWorkspacesTableView;\r\n});\r\n\n","csui.define('conws/widgets/myworkspaces/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/widgets/myworkspaces/impl/nls/root/lang',{\r\n    dialogTitle: 'My workspaces',\r\n    searchPlaceholder: '%1',\r\n    noResultsPlaceholder: 'No recently accessed workspaces to display.'\r\n});\r\n\n","// Shows a list of my workspaces of a specific type\r\ncsui.define('conws/widgets/myworkspaces/myworkspaces.view',['csui/lib/marionette', 'module', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/jquery',\r\n    'conws/widgets/myworkspaces/impl/myworkspaceslistitem.view',\r\n    'conws/widgets/myworkspaces/impl/myworkspaces.model.factory',\r\n    'conws/widgets/myworkspaces/impl/myworkspacestable.view',\r\n    'i18n!conws/widgets/myworkspaces/impl/nls/lang',\r\n    'csui/utils/nodesprites',\r\n\t'csui/utils/base',\r\n    'conws/utils/workspaces/impl/workspaceutil',\r\n    'conws/utils/workspaces/workspaces.view'\r\n], function (Marionette, module, _, Backbone, $,\r\n             MyWorkspacesListItem,\r\n             MyWorkspacesCollectionFactory,\r\n             MyWorkspacesTableView,\r\n             lang,\r\n             NodeSpriteCollection,\r\n\t\t\t BaseUtils,\r\n             workspaceUtil,\r\n             WorkspacesView) {\r\n\r\n    var MyWorkspacesView = WorkspacesView.extend({\r\n\r\n        constructor: function MyWorkspacesView(options) {\r\n            this.viewClassName = 'conws-myworkspaces';\r\n\r\n            WorkspacesView.prototype.constructor.apply(this, arguments);\r\n\r\n            // Show expand icon always\r\n            this.limit = -1;\r\n        },\r\n\r\n        childView: MyWorkspacesListItem,\r\n\r\n        childViewOptions: function () {\r\n            return {\r\n                // page context needed for default action on child view\r\n                context: this.options.context,\r\n                preview: this.options.data                      &&\r\n                         this.options.data.collapsedView        &&\r\n                         this.options.data.collapsedView.preview,\r\n                templateHelpers: function () {\r\n                    return {\r\n                        name: this.model.get('name'),\r\n                        icon: NodeSpriteCollection.findClassByNode(this.model),\r\n                        enableIcon: true\r\n                    };\r\n                }\r\n            }\r\n        },\r\n\r\n        emptyViewOptions: {\r\n            templateHelpers: function () {\r\n                return {\r\n                    text: this._parent._getNoResultsPlaceholder()\r\n                };\r\n            }\r\n        },\r\n\r\n        workspacesCollectionFactory: MyWorkspacesCollectionFactory,\r\n        workspacesTableView: MyWorkspacesTableView,\r\n        dialogClassName: 'myworkspaces',\r\n        lang: lang,\r\n\r\n        // Attributes identify collection/models for widget\r\n        // In case two widgets has returns same attributes here, they share the collection!!\r\n        _getCollectionAttributes: function () {\r\n            var attributes = {\r\n                workspaceTypeId: this.options.data.workspaceTypeId,\r\n                sortExpanded: this.options.data.expandedView && workspaceUtil.orderByAsString(this.options.data.expandedView.orderBy),\r\n\t\t\t\ttitle:  BaseUtils.getClosestLocalizedString(this.options.data.title, lang.dialogTitle)\r\n            };\r\n            return attributes;\r\n        },\r\n\r\n        _getCollectionUrlQuery: function () {\r\n            var options = this.options.data,\r\n                query = {};\r\n            if (!_.isUndefined(options.workspaceTypeId)) {\r\n                query.where_workspace_type_id = options.workspaceTypeId;\r\n            }\r\n\r\n            // only fetch properties for limited view\r\n            query.fields = encodeURIComponent(\"properties{id,container,name,type}\");\r\n            query.action = \"properties-properties\";\r\n\r\n            // Fetch only recently accessed workspaces, which workspaces these are\r\n            // is defined by the server. Also the order is already set by server, this must not\r\n            // be done/passed from client to server\r\n            query.expanded_view = \"false\";\r\n\r\n            return _.isEmpty(query) ? undefined : query;\r\n        }\r\n\r\n    });\r\n\r\n    return MyWorkspacesView;\r\n});\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('conws/widgets/metadata/impl/nls/metadata.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('conws/widgets/metadata/impl/nls/root/metadata.lang',{\r\n  defaultMetadataWidgetTitle: 'Metadata',\r\n  noMetadataMessage: 'No data to display.'\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/metadata/impl/metadata',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"        <div class=\\\"tile-header\\\">\\r\\n\\r\\n            <div class=\\\"tile-type-icon\\\">\\r\\n                <div class=\\\"title-icon \"\n    + this.escapeExpression(((helper = (helper = helpers.icon || (depth0 != null ? depth0.icon : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"icon\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"tile-title\\\">\\r\\n                <h2 class=\\\"csui-heading\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\t\t\t\t<div class=\\\"form-metadata\"\n    + this.escapeExpression(((helper = (helper = helpers.index || (data && data.index)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"index\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\"/>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"conws-metadata tile content-tile\\\">\\r\\n\\r\\n\"\n    + ((stack1 = helpers.unless.call(depth0,(depth0 != null ? depth0.hideHeader : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\r\\n    <div class=\\\"tile-content metadata-tile-content\\\">\\r\\n\t\t<div class=\\\"form-metadata\\\">\\r\\n\"\n    + ((stack1 = helpers.each.call(depth0,(depth0 != null ? depth0.items : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\t\t</div>\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\";\n},\"useData\":true});\nHandlebars.registerPartial('conws_widgets_metadata_impl_metadata', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/metadata/impl/metadata',[],function(){});\n","// Business Workspace Metadata View\r\ncsui.define('conws/widgets/metadata/metadata.view',[\r\n  'require',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/lib/handlebars',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/utils/base',\r\n  'csui/utils/log',\r\n  'csui/utils/url',\r\n  'csui/utils/base',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/controls/list/emptylist.view',\r\n  'conws/controls/selectedmetadataform/selectedmetadataform.view',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/models/form',\r\n  'csui/models/node/node.model',\r\n  'conws/models/workspacecontext/workspacecontext.factory',\r\n  'conws/models/selectedmetadataform/selectedmetadataform.factory',\r\n  'i18n!conws/widgets/metadata/impl/nls/metadata.lang',\r\n  'hbs!conws/widgets/metadata/impl/metadata',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'css!conws/widgets/metadata/impl/metadata'\r\n], function (require, _, $, Backbone, Marionette, Handlebars, WidgetContainerBehavior,\r\n\t\t\t TabableRegionBehavior, base, log, Url, BaseUtils,\r\n\t\t\t NodeModelFactory, EmptyListView, SelectedMetadataFormView, PerfectScrollingBehavior, FormModel, NodeModel,\r\n\t\t\t WorkspaceContextFactory, SelectedMetadataFormFactory, lang, template, LayoutViewEventsPropagationMixin) {\r\n\r\n  // initialize the Metadata View\r\n  var MetadataView = Marionette.LayoutView.extend({\r\n\r\n    // CSS class names\r\n    className: 'conws-metadata',\r\n\r\n    // Template is used to render the HTML for the view\r\n    template: template,\r\n\r\n    // The template helpers are used to provide placeholders for the widget\r\n    templateHelpers: function (data) {\r\n      return {\r\n\t\titems: this._items,\r\n        hideHeader: this.hideHeader,\r\n        title: BaseUtils.getClosestLocalizedString(this.headerTitle, lang.defaultMetadataWidgetTitle),\r\n        icon: this.headerIcon\r\n      }\r\n    },\r\n\r\n    events: {\"keydown .form-metadata\": \"onKeyInView\"},\r\n\r\n    behaviors: {\r\n    \tPerfectScrolling: {\r\n    \t\tbehaviorClass: PerfectScrollingBehavior,\r\n    \t\tcontentParent: '.tile-content',\r\n    \t\tsuppressScrollX: true,\r\n    \t\tscrollYMarginOffset: 15\r\n    \t},\r\n    \tTabableRegion: {\r\n    \t\tbehaviorClass: TabableRegionBehavior\r\n    \t}\r\n    },\r\n\r\n\r\n    onKeyInView: function (event) {\r\n      // current focussed element in the view\r\n      var ActiveElementInView = document.activeElement,\r\n          Tabable_Elements = this.currentlyFocusedElement(),\r\n          Element_Index = 0;\r\n\r\n      if( ActiveElementInView.children.length > 0 ){\r\n        ActiveElementInView=ActiveElementInView.children[0];\r\n      }\r\n\r\n      if (event.keyCode === 9) {\r\n\r\n        if (event.shiftKey) {\r\n\r\n    \t  for(Element_Index=0;Element_Index<Tabable_Elements.length;Element_Index++){\r\n\r\n    \t    if(ActiveElementInView === Tabable_Elements[Element_Index]){\r\n\r\n    \t\t  // special-case only for User attribute\r\n    \t\t  if(ActiveElementInView.classList.contains(\"esoc-user-mini-profile\") || ActiveElementInView.classList.contains(\"reference-generate-number\") || (ActiveElementInView.classList.contains(\"cs-field-read-content\") && ActiveElementInView.classList.contains(\"placeholder\")) || Element_Index-1 < 0){\r\n\r\n    \t\t    break;\r\n    \t\t  }\r\n    \t\t  else{\r\n\r\n    \t\t    // focus the next element in the view\r\n    \t\t\tTabable_Elements[Element_Index-1].focus();\r\n    \t\t\tbreak;\r\n    \t\t  }\r\n    \t\t}\r\n    \t  }\r\n    \t} else {\r\n\r\n    \t\t// TAB (NO shift) -> put focus into table body view if in header   esoc-user-mini-profile   cs-field-read-content placeholder\r\n\r\n    \t\tfor(Element_Index=0;Element_Index<Tabable_Elements.length;Element_Index++){\r\n\r\n    \t\t  // special-case only for User attribute\r\n    \t\t  if(ActiveElementInView === Tabable_Elements[Element_Index] && Element_Index+1 < Tabable_Elements.length){\r\n\r\n    \t\t    if(ActiveElementInView.classList.contains(\"esoc-user-mini-profile\") || ActiveElementInView.classList.contains(\"reference-generate-number\") || (ActiveElementInView.classList.contains(\"cs-field-read-content\") && ActiveElementInView.classList.contains(\"placeholder\"))){\r\n\r\n    \t\t\t  break;\r\n    \t\t\t}\r\n    \t\t\telse{\r\n\r\n    \t\t\t  // focus the next element in the view\r\n    \t\t\t  Tabable_Elements[Element_Index+1].focus();\r\n    \t\t\t  break;\r\n    \t\t\t}\r\n    \t\t  }\t\t\t\t\r\n    \t    } \r\n    \t  } \r\n      }\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n    \tvar readonly    = !!this.$form && this.$form.find('.alpaca-readonly button'),\r\n    \t// tabable elements selector\r\n    \ttabElements = this.$('button,*[data-cstabindex],*[tabindex]');\r\n    \ttabElements=this.remove_Elements(tabElements);\r\n    \treturn tabElements;\r\n    },\r\n\r\n    remove_Elements: function (tabElements) {\r\n    \t// removing some unwanted elements which have tabindex\r\n    \tvar Class_List = [\"alpaca-array-actionbar-action\", \"typeahead\", \"cs-icon\", \"binf-hidden\", \"csui-icon-edit\", \"csui-bulk-edit\", \"icon-date_picker\"];\r\n\r\n    \tfor( var Element_Index = 0 ; Element_Index < tabElements.length ; Element_Index++ ){\r\n\r\n    \t\tfor( var Class_Index = 0 ; Class_Index < Class_List.length ; Class_Index++ ){\r\n\r\n    \t\t\tif(tabElements[Element_Index].classList.contains( Class_List[ Class_Index ] ) ){\r\n\r\n    \t\t\t\ttabElements.splice( Element_Index, 1 );\r\n    \t\t\t\tClass_Index = Class_List.length;\r\n    \t\t\t\tElement_Index = Element_Index - 1;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \treturn tabElements;\r\n    },\r\n\r\n    // The constructor gives an explicit name the the object in the debugger and\r\n    // can update the options for the parent view\r\n    constructor: function MetadataView(options) {\r\n\r\n      // context is required\r\n      options || (options = {});\r\n      if (!options.context) {\r\n        throw new Error('Context is missing in the constructor options');\r\n      }\r\n\r\n      _.defaults(options, {\r\n        searchTabContentForTabableElements: true\r\n      });\r\n\r\n      this.hideHeader = options.data && options.data.hideHeader;\r\n      this.headerTitle = options.data && options.data.title || lang.defaultMetadataWidgetTitle; // from perspective configuration\r\n      this.headerIcon = options.data && options.data.icon || \"category1\";   // from perspective configuration\r\n\r\n      this.noMetadataMessage = lang.noMetadataMessage;\r\n      if(options.data && options.data.noMetadataMessage) {\r\n        this.noMetadataMessage = base.getClosestLocalizedString(\r\n            options.data.noMetadataMessage, this.noMetadataMessage);\r\n      }\r\n\r\n      // get workspace context\r\n      if (!options.workspaceContext) {\r\n        options.workspaceContext = options.context.getObject(WorkspaceContextFactory);\r\n        options.workspaceContext.setWorkspaceSpecific(SelectedMetadataFormFactory);\r\n      }\r\n\t  //initially there are no form views.\r\n\t  this.formViewList = [];\r\n      // get model collection from the model factory\r\n      options.model = options.workspaceContext.getObject(SelectedMetadataFormFactory, {\r\n        metadataConfig: options.data,\r\n        unique: true\r\n      });\r\n\r\n      // wire models and collections also to the parent view\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n      // changes of the model are rendered immediately\r\n      this.listenTo(options.model, 'change', this.render);\r\n\r\n      this.propagateEventsToRegions();\r\n\t  if(typeof options.data === 'undefined'){\r\n\t    log.info(\"Metadata Not Set\") && console.log(log.last);\r\n\t  }\r\n\t  else if(typeof options.data.metadataConfig === 'undefined'){\r\n\t\tthis._setUpEmptyRegion();\r\n      }\r\n    },\r\n\r\n\tmodelEvents: {\r\n      change: 'modelChange'\r\n    },\r\n\t\r\n\tmodelChange: function () {\r\n      this._setUpRegions();\r\n      this._currentShortcutIndex = 0;\r\n    },\r\n\r\n\t/*\r\n\t *\tCreating a dedicated region for every element which is configured in the metadata widget\r\n\t*/\r\n\t_setUpRegions: function () {\r\n\t  var self = this;\r\n\t  var reg;\r\n\t  self._items = [];\r\n\t  _.each(this.options.model.metadataConfig, function (config,index) {\r\n        self._items[index] = {\"index\":index};\r\n\t    self.addRegion(\"Region\" + index, \".form-metadata\" + index);\r\n\t\treg = \"Region\" + index;\r\n\t\tself.regions[reg] = $.extend({}, self[reg]);\r\n\t  },this);\r\n    },\r\n\t\r\n\t/*\r\n\t *\tCreating a single region if no metadata is configured to display no metadata configured message\r\n\t*/\r\n\t_setUpEmptyRegion: function () {\r\n\t  var self = this;\r\n\t  var reg;\r\n\t  var index = 0;\r\n\t  self._items = [];\r\n\t  self._items[0] = {\"index\":0};\r\n\t  self.addRegion(\"Region\" + 0, \".form-metadata\" + 0);\r\n\t  reg = \"Region\" + 0;\r\n\t  self.regions[reg] = $.extend({}, self[reg]);\r\n    },\r\n\r\n    // The view is rendered whenever the model changes.\r\n    onRender: function () {\r\n      if (!_.isEmpty(this.model.attributes.data)) {\r\n\r\n\t\tvar attributeList = [];\r\n\t\tvar attributeDetails = {data:{},options:{fields:{}},schema:{properties:{}}}\r\n\t\tattributeDetails.data = $.extend({}, this.model.attributes.data);\r\n\t\tattributeDetails.options.fields = $.extend({}, this.model.attributes.options.fields);\r\n\t\tattributeDetails.schema.properties = $.extend({}, this.model.attributes.schema.properties);\r\n\r\n\t\t/*\r\n\t\t *\tfrom metadataConfig, \r\n\t\t *\tif the config type is a group, adding the group details to attributeList\r\n\t\t *\tif the config type is a category, search for all the category attributes and add details to attributeList at same index\r\n\t\t *  if the config type is a attribute, checking if it has a column and row ids and adding the details to atributeList\r\n\t\t *  ( As we add all the elements even group data is added in else part, hence it is further removed when groups are added individually )\r\n\t\t*/\r\n\r\n\t\t_.each(this.options.model.metadataConfig, function (config,index) {\r\n\t\t  if(config.type === 'group'){\r\n\t\t\tattributeList[index]={data:{},options:{},schema:{}};\r\n\t\t    attributeList[index].data = $.extend({},this.model.attributes.data[config.label]);\r\n\t\t    attributeList[index].options = $.extend({},this.model.attributes.options.fields[config.label]);\r\n\t\t    attributeList[index].schema = $.extend({},this.model.attributes.schema.properties[config.label]);\r\n\t\t  }\r\n\t\t  else if(config.type === 'category'){\r\n\t\t    attributeList[index]={data:{},options:{fields:{}},schema:{properties:{}}};\r\n\t\t\t_.each(this.model.attributes.data, function (data,key){\r\n\t\t\t  if(key.search(config.categoryId) === 0){\r\n\t\t\t    attributeList[index].data[key] = this.model.attributes.data[key];\r\n\t\t\t    attributeList[index].options.fields[key] = this.model.attributes.options.fields[key];\r\n\t\t\t    attributeList[index].schema.properties[key] = this.model.attributes.schema.properties[key];\r\n\t\t\t  }\r\n\t\t\t},this);\r\n\t\t  }\r\n\t\t  else if(config.type === 'attribute'){\r\n\t\t\tvar key = config.categoryId + \"_\" + config.attributeId\r\n\t\t\tif(typeof config.columnId !== 'undefined' && typeof config.rowId === 'undefined'){\r\n\t\t\t  key = key + \"_1_\" + config.columnId;\r\n\t\t\t}\r\n\t\t\telse if(typeof config.rowId !== 'undefined'){\r\n\t\t\t  key = key + \"_x_\" + config.columnId;\r\n\t\t\t}\r\n\t\t\tattributeList[index]={data:{},options:{fields:{}},schema:{properties:{}}};\r\n\t\t\tif(typeof this.model.attributes.data[key] !== 'undefined'){\r\n\t\t      attributeList[index].data[key] = this.model.attributes.data[key];\r\n\t\t\t  attributeList[index].options.fields[key] = this.model.attributes.options.fields[key];\r\n\t\t\t  attributeList[index].schema.properties[key] = this.model.attributes.schema.properties[key];\r\n\t\t\t}\r\n\t\t  }\r\n\t\t},this);\r\n\r\n\t\t/*\r\n\t\t *\tCreating and adding individual formViews for each region\r\n\t\t*/\r\n\r\n\t\tvar i = 0;\r\n\t    _.each(this.regions, function (region,index) {\r\n\t\t  this.model.attributes = attributeList[i];\r\n\t\t  this[\"formView\"+i] = new SelectedMetadataFormView({model: this.model, context: this.options.context, node:this.model.node});\r\n\t\t  /*\r\n\t\t   * Adding the metadataview to the created formView.\r\n\t\t   * this is done because every formView can be accessed from from all formViews.\r\n\t\t   * And a change in one formView can be used to modify in other.\r\n           *\r\n\t\t   * For Example:\r\n\t\t   *\r\n\t\t   * In a scenario when single attributes are configured in metadata widgets like id, old_reference, reference.\r\n\t\t   * Here, reference attribute depends on id and old_reference contains previous reference value.\r\n\t\t   * If we configure attributes to perspective we get equal number of form views. As we have dedicated regions and formViews for each single attribute configurations.\r\n\t\t   * As the user has configured 3 attributes (id,old_reference,reference) we get 3 formViews.\r\n\t\t   * Previously a change in reference could easily modify old_reference as they are in a single formView.\r\n\t\t   * but, now the Metadata Widget can have multiple formViews (Based on the configuration done in PMan).\r\n\t\t   * So, a new object 'formViewList' is introduced in MetadataView which will store all the formViews.\r\n\t\t   * And a new object metadataview is added to every formView which will store the reference to MetadataView.\r\n\t\t   *\r\n\t\t   */\r\n\t\t  this.formViewList[i] = this[\"formView\"+i]\r\n\t\t  this[\"formView\"+i].metadataview = this;\r\n          this[index].show(this[\"formView\"+i]);\r\n\t\t  i++;\r\n\t\t},this);\r\n\t\tthis.model.attributes = attributeDetails;\r\n\r\n      } else {\r\n\t\tthis.formView = new EmptyListView({text: this.noMetadataMessage});\r\n\t\t_.each(this.regions, function (region,index) {\r\n\t\t  this[index].show(this[\"formView\"]);\r\n\t\t},this);\r\n      }\r\n    }\r\n  });\r\n\r\n  _.extend(MetadataView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  // return the initialized view\r\n  return MetadataView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/wksp/impl/wksp',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\r\\n<div class=\\\"List-item\\\" >\\r\\n    <div class=\\\"listItemWksp wkspItem\\\"  id=\\\"wkspItem\\\" >\\r\\n        <span class=\\\"wksp-expand-icon\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\"><div id=\\\"toggleIcon\\\" tabindex=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.tabIndex || (depth0 != null ? depth0.tabIndex : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"tabIndex\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.toggleStatus || (depth0 != null ? depth0.toggleStatus : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"toggleStatus\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.typeName || (depth0 != null ? depth0.typeName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"typeName\",\"hash\":{}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\" /></span>\\r\\n        <span class=\\\"wkspItemIcon\\\"><div class=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.iconClass || (depth0 != null ? depth0.iconClass : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"iconClass\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.typeName || (depth0 != null ? depth0.typeName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"typeName\",\"hash\":{}}) : helper)))\n    + \"\\\"></div></span>\\r\\n        <div class=\\\"listItemWkspName wkspItemName\\\"  tabindex=\\\"0\\\" id=\\\"wkspNameDiv\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \" </div>\\r\\n        <div class=\\\"wkspFolder-actiondiv binf-fade\\\" style=\\\"display:none\\\">\\r\\n            <div id=\\\"wkspActionBar\\\" class=\\\"wkspFolder-actionbar wkspFolder-actionbar-bubble\\\" >\\r\\n                <ul class=\\\"wksptile-nav wkspnav wksptile-pills\\\">\\r\\n                    <li class=\\\"needsclick wkspActionButton wkspActionSaveButton\\\" id=\\\"wkspSaveMenuItem\\\" style=\\\"display:none\\\">\\r\\n                        <div>\\r\\n                            <a href=\\\"#\\\" id=\\\"saveEmailButton\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.saveButtonTitle || (depth0 != null ? depth0.saveButtonTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"saveButtonTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" >\\r\\n                                <div class=\\\"wkspIcon emailSaveIcon\\\" data-id=\\\"noToggle\\\" />\\r\\n                            </a>\\r\\n                        </div>\\r\\n                    </li>\\r\\n\\r\\n                    <li class=\\\"needsclick wkspActionButton\\\">\\r\\n                        <div>\\r\\n                            <a href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.linkToWS || (depth0 != null ? depth0.linkToWS : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"linkToWS\",\"hash\":{}}) : helper)))\n    + \"\\\" id=\\\"wkspOpenButton\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.openLinkTitle || (depth0 != null ? depth0.openLinkTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"openLinkTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.openLinkTitle || (depth0 != null ? depth0.openLinkTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"openLinkTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\" target=\\\"_blank\\\">\\r\\n                                <div class=\\\"wkspIcon wkspOpenIcon\\\" data-id=\\\"noToggle\\\" />\\r\\n                            </a>\\r\\n                        </div>\\r\\n                    </li>\\r\\n                </ul>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div id=\\\"subFolders\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_wksp_impl_wksp', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/utils/emailservice',['module',\r\n    'csui/lib/jquery',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'i18n!conws/widgets/outlook/impl/nls/lang'\r\n], function EmailSerivce(module, $, WkspUtil, lang) {\r\n\r\n        return {\r\n\r\n            constants : {\r\n                cs_config_missing: lang.config_CS_missing,\r\n                retrieve_email_error: lang.error_retrieve_email\r\n            },\r\n\r\n            getCurrentMailboxItem: getCurrentMailboxItem,\r\n            emailItemChanged: emailItemChanged\r\n    };\r\n\r\n        function getCurrentMailboxItem() {\r\n            var deferred = $.Deferred();\r\n\r\n            try {\r\n                var currentEmail = window.Office.cast.item.toItemRead(window.Office.context.mailbox.item);\r\n                var currentUser = window.Office.context.mailbox.userProfile.emailAddress;\r\n\r\n                currentEmail.archivableAttachments = [];\r\n                for (var i = 0; i < currentEmail.attachments.length; i++) {\r\n                    var attachment = currentEmail.attachments[i];\r\n                    if (attachment.attachmentType === window.Office.MailboxEnums.AttachmentType.File){\r\n                        currentEmail.archivableAttachments.push(attachment);\r\n                    }\r\n                }\r\n\r\n                deferred.resolve({\r\n                    currentEmail: currentEmail,\r\n                    currentUser: currentUser\r\n                });\r\n            } catch (error) {\r\n                deferred.reject(error);\r\n            }\r\n\r\n            return deferred.promise();\r\n        }\r\n\r\n        function emailItemChanged(eventArgs){\r\n            if (WkspUtil.SavingSubmitted){\r\n                WkspUtil.EmailChangedAfterSaving = true;\r\n                return;\r\n            } else {\r\n                WkspUtil.EmailChangedAfterSaving = false;\r\n            }\r\n\r\n            var item = window.Office.context.mailbox.item,\r\n                previousItem = window.CurrentEmailItem,\r\n                yPosition = window.pageYOffset;\r\n\r\n            if (previousItem.itemId === item.itemId){\r\n                return;\r\n            }\r\n            \r\n            var currentEmail = window.Office.cast.item.toItemRead(item);\r\n            currentEmail.archivableAttachments = [];\r\n            for (var i = 0; i < currentEmail.attachments.length; i++) {\r\n                var attachment = currentEmail.attachments[i];\r\n                if (attachment.attachmentType === window.Office.MailboxEnums.AttachmentType.File){\r\n                    currentEmail.archivableAttachments.push(attachment);\r\n                }\r\n            }\r\n            window.CurrentEmailItem = currentEmail;\r\n\r\n            if (previousItem === null){\r\n                return;\r\n            }\r\n\r\n            WkspUtil.writeTrace(\"Email has been switched. New email subject: \" + item.subject);\r\n\r\n            window.CurrentEmailItem = window.Office.cast.item.toItemRead(item);\r\n            WkspUtil.uiShow(WkspUtil.PreSaveSection);\r\n            if (WkspUtil.PreSaveSection === \"standardSections\"){\r\n                WkspUtil.uiShow(\"customSearchButton\");\r\n            }\r\n            \r\n            WkspUtil.uiHide(\"savePanel\");\r\n            if (WkspUtil.ScorllPositionBeforeSaving !== -1){\r\n                window.scrollTo(0, WkspUtil.ScorllPositionBeforeSaving);\r\n                WkspUtil.ScorllPositionBeforeSaving = -1;\r\n            } else {\r\n                window.scrollTo(0, yPosition);\r\n            }\r\n\r\n            if (WkspUtil.SuggestedWkspsView !== null){\r\n                WkspUtil.SuggestedWkspsView.refresh();\r\n            }\r\n        }\r\n\r\n    }\r\n);\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/folder/impl/folder',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\r\\n<div class=\\\"List-item\\\">\\r\\n    <div class=\\\"wkspItem listItemFolder\\\" id=\\\"wkspFolderItem\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n        <span class=\\\"wksp-expand-icon\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\"><div id=\\\"toggleIcon\\\" class=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.toggleStatus || (depth0 != null ? depth0.toggleStatus : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"toggleStatus\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.tabIndex || (depth0 != null ? depth0.tabIndex : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"tabIndex\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.typeName || (depth0 != null ? depth0.typeName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"typeName\",\"hash\":{}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\" /></span>\\r\\n        <span class=\\\"wkspItemIcon\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n            <div class=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.iconClass || (depth0 != null ? depth0.iconClass : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"iconClass\",\"hash\":{}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\"></div>\\r\\n        </span>\\r\\n        \\r\\n        <div data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"wkspItemName\\\"  tabindex=\\\"0\\\" id=\\\"folderNameDiv\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \" </div>\\r\\n        <div class=\\\"wkspFolder-actiondiv binf-fade\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\" style=\\\"display:none\\\">\\r\\n            <div id=\\\"folderActionBar\\\" class=\\\"wkspFolder-actionbar wkspFolder-actionbar-bubble\\\" >\\r\\n                <ul class=\\\"wksptile-nav wkspnav wksptile-pills\\\">\\r\\n                    \\r\\n                    <li class=\\\"needsclick\\\">\\r\\n                        <div >\\r\\n                            <a href=\\\"#\\\" id=\\\"saveEmailButton\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.saveTitle || (depth0 != null ? depth0.saveTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"saveTitle\",\"hash\":{}}) : helper)))\n    + \" \\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.saveTitle || (depth0 != null ? depth0.saveTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"saveTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\" >\\r\\n                                <div class=\\\"wkspIcon emailSaveIcon\\\" data-id=\\\"noToggle\\\" />\\r\\n                            </a>            \\r\\n                        </div>\\r\\n                    </li>\\r\\n                </ul>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div id=\\\"subFolders\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_folder_impl_folder', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/dialog/impl/logindialog',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\r\\n<div class=\\\"modal-dialog modal-sm load-container\\\">\\r\\n    <div class=\\\"binf-modal-dialog \\\">\\r\\n        <div class=\\\"binf-modal-content\\\">\\r\\n            <div class=\\\"binf-modal-header wksp-dialog-header\\\">\\r\\n                <img src=\\\"impl/images/headerbar_content_server.png\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.signInTitle || (depth0 != null ? depth0.signInTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"signInTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"signInImage\\\" />\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"wksp-dialog-body\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.signInTitle || (depth0 != null ? depth0.signInTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"signInTitle\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n                <div>\"\n    + this.escapeExpression(((helper = (helper = helpers.signInMessage || (depth0 != null ? depth0.signInMessage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"signInMessage\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n                <div class=\\\"errorMessage\\\" > </div>\\r\\n                <div>\\r\\n                    <label for=\\\"userName\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.usernameLabel || (depth0 != null ? depth0.usernameLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"usernameLabel\",\"hash\":{}}) : helper)))\n    + \"</label> <input class=\\\"wkspInput\\\" id=\\\"userName\\\" tabindex=\\\"0\\\"/>\\r\\n                </div>\\r\\n                <div>\\r\\n                    <label for=\\\"password\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.passwordLabel || (depth0 != null ? depth0.passwordLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"passwordLabel\",\"hash\":{}}) : helper)))\n    + \"</label> <input class=\\\"wkspInput\\\" id=\\\"password\\\" type=\\\"password\\\" tabindex=\\\"0\\\" />\\r\\n                </div>\\r\\n            </div>\\r\\n            \\r\\n            <div class=\\\"binf-modal-footer\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"binf-btn binf-btn-primary csui-yes csui-default\\\" tabindex=\\\"0\\\" >\\r\\n                    \"\n    + this.escapeExpression(((helper = (helper = helpers.signInButtonTitle || (depth0 != null ? depth0.signInButtonTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"signInButtonTitle\",\"hash\":{}}) : helper)))\n    + \"\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_dialog_impl_logindialog', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/dialog/authenticator',['module',\r\n    'csui/lib/underscore',\r\n    'csui/lib/jquery',\r\n    'csui/lib/marionette',\r\n    'csui/utils/log',\r\n    'csui/utils/base',\r\n    'csui/utils/url',\r\n\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'hbs!conws/widgets/outlook/impl/dialog/impl/logindialog',\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',\r\n    'csui/behaviors/keyboard.navigation/tabkey.behavior',\r\n    'csui/lib/binf/js/binf'\r\n], function (module, _, $, Marionette, log, base, Url, WkspUtil, template, lang, TabKeyBehavior) {\r\n\r\n    var Authenticator = Marionette.ItemView.extend({\r\n        className: function() {\r\n            var className = 'csui-alert binf-modal binf-fade';\r\n            if (this.options.modalClass) {\r\n                className += ' ' + this.options.modalClass;\r\n            }\r\n            return className;\r\n        },\r\n\r\n        template: template,\r\n\r\n        ui: {\r\n            errorMessage: '.errorMessagae',\r\n            userName: '#userName',\r\n            password: '#password'\r\n        },\r\n\r\n        triggers: {\r\n            'click .csui-yes': 'click:yes'\r\n        },\r\n\r\n        events: {\r\n            'shown.binf.modal': 'onShown',\r\n            'hide.binf.modal': 'onHiding',\r\n            'hidden.binf.modal': 'onHidden',\r\n            'keyup' : 'processKey'\r\n        },\r\n        behaviors: {\r\n            TabKeyBehavior: {\r\n                behaviorClass: TabKeyBehavior,\r\n                recursiveNavigation: true\r\n            }\r\n        },\r\n\r\n        constructor: function LoginDialogView(options) {\r\n            Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n            var connector = WkspUtil.getConnector(); \r\n            this.connector = connector;\r\n\r\n            var urlObj = new Url(connector.connection.url);\r\n            this.hostName = urlObj.getHost();\r\n            this.ticketCookieName = 'otcsTicket' + this.hostName.replace(/;/g, \"_\").replace(/=/g, \"_\").replace(/ /g, \"_\").replace(/,/g, \"_\").replace(/-/g, \"_\");\r\n            this._deferred = $.Deferred();\r\n            this.ssoDeferred = $.Deferred();\r\n\r\n            this.errorMessage = '';\r\n\r\n            this.llCookie = null;\r\n            this.isSSOMessageReceived = false;\r\n\r\n            this.beingAuthenticated = false;\r\n        },\r\n\r\n        templateHelpers: function() {\r\n            return {\r\n                signInButtonTitle: lang.signIn_button_Title,\r\n                usernameLabel: lang.signIn_username,\r\n                passwordLabel: lang.signIn_password,\r\n                signInMessage: _.str.sformat(lang.signIn_message, this.hostName),\r\n                signInTitle: lang.signIn_title\r\n            }\r\n        },\r\n\r\n        show: function () {\r\n            var self = this,\r\n                promise = self._deferred.promise();\r\n\r\n            WkspUtil.stopGlobalSpinner();\r\n\r\n            if (self.beingAuthenticated){\r\n                WkspUtil.writeTrace(\"Bing authenticated, so skip.\");\r\n                self._deferred.resolve(false);\r\n                self.beingAuthenticated = false;\r\n            } else{\r\n                self.beingAuthenticated = true;\r\n                WkspUtil.modalOpen();\r\n\r\n                this.render();\r\n                this.$el.attr('tabindex', 0);\r\n                if (this.errorMessage) {\r\n                    this.$('.errorMessage').html(this.errorMessage);\r\n                }\r\n                if (this.options.centerVertically) {\r\n                    this.centerVertically();\r\n                }\r\n\r\n                this.$el.binf_modal('show');\r\n                this.triggerMethod('show');\r\n    \r\n                promise.close = function () {\r\n                    //console.log(\"closing model------\");\r\n                    self.$el.binf_modal('hide');\r\n                    return promise;\r\n                };\r\n            }\r\n\r\n            return promise;\r\n        },\r\n\r\n        centerVertically: function() {\r\n            var $clone;\r\n            var top;\r\n\r\n            // add clone of modalAlert to document\r\n            $clone = this.$el.clone();\r\n            $clone.css('display', 'block');\r\n            $clone.appendTo($.fn.binf_modal.getDefaultContainer());\r\n\r\n            // calculate top of centered position\r\n            top = Math.round(($clone.height() - $clone.find('.binf-modal-content').height()) / 2);\r\n            top = top > 0 ? top : 0;\r\n\r\n            $clone.remove();\r\n\r\n            // set top of modalAlert\r\n            this.$el.find('.binf-modal-content').css(\"margin-top\", top);\r\n        },\r\n\r\n        onShown: function() {\r\n            this._deferred.notify({ state: 'shown' });\r\n            this.$('#userName').focus();\r\n        },\r\n\r\n        onHiding: function() {\r\n            this._deferred.notify({ state: 'hiding' });\r\n        },\r\n\r\n        onHidden: function (event) {\r\n            WkspUtil.modalClose();\r\n            this.destroy();\r\n            // Trigger callbacks and promises when the hiding animation ended\r\n            if (this.options.callback) {\r\n                this.options.callback(this._result);\r\n            }\r\n            if (this._result) {\r\n                this._deferred.resolve(this._result);\r\n            } else {\r\n                this._deferred.reject(this._result);\r\n            }\r\n        },\r\n\r\n        processKey: function(e) {\r\n            if (e.which === 13) {\r\n                this.onClickYes();\r\n            }\r\n        },\r\n\r\n        onClickYes: function() {\r\n            var self = this,\r\n                userName = self.$('#userName').val().trim(),\r\n                password = self.$('#password').val().trim(),\r\n                messageArea = self.$('.errorMessage');\r\n\r\n            messageArea.html('  ');\r\n            if (!userName || !password) {\r\n                messageArea.html(lang.signIn_required);\r\n                return;\r\n            }\r\n\r\n            this.connector.connection.credentials = {\r\n                username: userName,\r\n                password: password,\r\n                domain: ''\r\n            };\r\n            this.connector.confirmingReload = false;\r\n            var authenticator = this.connector.authenticator,\r\n                data = {\r\n                    type: 'POST',\r\n                    data: this.connector.connection.credentials,\r\n                    contentType: \"application/x-www-form-urlencoded\"\r\n                };\r\n\r\n            authenticator.login(data,\r\n                function(connection) {\r\n                    WkspUtil.writeTrace(\"Authenticated based on username & password.\");\r\n\r\n                    if (typeof self.connector.connection.session === 'undefined') {\r\n                        self.connector.connection.session = connection.session;\r\n                    }\r\n\r\n                    self.options.context.csUser = data.data.username;  \r\n                    WkspUtil.setPersistentSetting(self.ticketCookieName, connection.session.ticket, connection.session.expries);\r\n                    self.connector.timeoutProcessed = false;\r\n                    self._result = true;\r\n                    self.onHidden();\r\n                },\r\n                function(error) {\r\n                    self.connector.timeoutProcessed = false;\r\n                    self.$('.errorMessage').html(WkspUtil.getErrorMessage(error));\r\n                });\r\n\r\n        },\r\n\r\n        _setTabFocus: function() {\r\n            var tabElements = this.$('*[tabindex=0]'),\r\n                lastIndex = tabElements.length - 1,\r\n                tabShift = event.shiftKey,\r\n                i = this._getStartIndex(lastIndex, tabShift, tabElements);\r\n            if (lastIndex > -1) {\r\n                var activeIndex = (this.activeIndex !== undefined) ? this.activeIndex :\r\n                (tabShift ? 0 : lastIndex);\r\n                do {\r\n                    var $tabElem = $(tabElements[i]);\r\n                    if (base.isVisibleInWindowViewport($tabElem)) {\r\n                        this.activeIndex = i;\r\n                        $tabElem.focus();\r\n                        break;\r\n                    }\r\n                    if (tabShift) {\r\n                        i = (i === 0) ? lastIndex : i - 1;\r\n                    } else {\r\n                        i = (i === lastIndex) ? 0 : i + 1;\r\n                    }\r\n                } while (i !== activeIndex);\r\n            }\r\n            return false;\r\n        },\r\n        _getStartIndex: function(lastIndex, tabShift) {\r\n            var startIndex = 0,\r\n                activeIndex = this.activeIndex;\r\n            if (tabShift) {\r\n                startIndex = lastIndex;\r\n                if (activeIndex !== undefined && activeIndex > 0) {\r\n                    startIndex = this.activeIndex - 1;\r\n                }\r\n            } else {\r\n                if (activeIndex !== undefined && activeIndex < lastIndex) {\r\n                    startIndex = activeIndex + 1;\r\n                }\r\n            }\r\n            return startIndex;\r\n        },\r\n\r\n        authenticate: function(options) {\r\n            var self = this,\r\n                authPromise = self._deferred.promise(),\r\n                connection = self.connector.connection,\r\n                url = connection.url;\r\n\r\n            // fallback login function\r\n            var login = function(self, ticket) {\r\n                // get ticket from persistent setting if not passed in\r\n                var savedTicket = (typeof ticket === 'undefined') ? WkspUtil.getPersistentSetting(self.ticketCookieName) : ticket;\r\n                if (savedTicket && !self.connector.timeoutProcessed) {\r\n                    connection.session = { ticket: savedTicket };\r\n\r\n                    var verifyPromise = self.verifyAuthentication(self, connection);\r\n                    verifyPromise.done(function(result) {\r\n                        self.connector.authenticator.authenticate(options,\r\n                            function(data) {\r\n                                WkspUtil.setPersistentSetting(self.ticketCookieName, self.connector.authenticator.connection.session.ticket, self.connector.authenticator.connection.session.expries);\r\n                                self.connector.timeoutProcessed = false;\r\n                                self._result = true;\r\n                                self._deferred.resolve(self._result);\r\n                            },\r\n                            function(error) {\r\n                                return self.show();\r\n                            });\r\n                    });\r\n                    verifyPromise.fail(function(error) {\r\n                        if (WkspUtil.SSOEnabled) {\r\n                            self.getSSOTicket(self).then(\r\n                                function(data) {\r\n                                    self.connector.timeoutProcessed = false;\r\n                                    if (data) {\r\n                                        WkspUtil.writeTrace(\"Using existing ticket unsuccessful, renew ticket using SSO.\");\r\n                                        connection.session = { 'ticket': data };\r\n                                        self.traceLoginUser(self, connection);\r\n                                        self.connector.confirmingReload = false;\r\n                                        WkspUtil.stopGlobalSpinner();\r\n                                        WkspUtil.setPersistentSetting(self.ticketCookieName, connection.session.ticket, connection.session.expries);\r\n                                        self._result = true;\r\n                                        self._deferred.resolve(self._result);\r\n                                        return self._deferred.promise();\r\n                                    } else {\r\n                                        self.show();\r\n                                    }\r\n                                },\r\n                                function() {\r\n                                    self.show();\r\n                                });\r\n                        } else {\r\n                            self.show();\r\n                        }\r\n                    });\r\n\r\n                } else {\r\n                    return self.show();\r\n                }\r\n                return self._deferred.promise();\r\n            };\r\n\r\n            var existingTicket, ticketSource;\r\n            if (connection.session && connection.session.ticket) {\r\n                existingTicket = connection.session.ticket;\r\n                ticketSource = \"existing connection session\";\r\n            } else {\r\n                existingTicket = WkspUtil.getPersistentSetting(self.ticketCookieName);\r\n                ticketSource = \"persistent setting\"\r\n            }\r\n\r\n            if (!self.connector.timeoutProcessed && existingTicket) {\r\n                WkspUtil.writeTrace(\"Trying to authenticate based on \" + ticketSource);\r\n                return login(self, existingTicket);\r\n            }\r\n            else if (WkspUtil.SSOEnabled) {\r\n                WkspUtil.writeTrace(\"Trying SSO authentication\");\r\n                self.getSSOTicket(self).then(\r\n                    function (data) {\r\n                        self.connector.timeoutProcessed = false;\r\n                        if (data) {\r\n                            connection.session = { 'ticket': data };\r\n                            self.traceLoginUser(self, connection);\r\n                            self.connector.confirmingReload = false;\r\n                            WkspUtil.stopGlobalSpinner();\r\n                            WkspUtil.setPersistentSetting(self.ticketCookieName, connection.session.ticket, connection.session.expries);\r\n                            self._result = true;\r\n                            self._deferred.resolve(self._result);\r\n                            return self._deferred.promise();\r\n                        } else {\r\n                            return login(self);\r\n                        }\r\n                    },\r\n                    function () {\r\n                        return login(self);\r\n                    }\r\n                );\r\n            } else {\r\n                return login(self);\r\n            }\r\n\r\n            return authPromise;\r\n        },\r\n\r\n        getSSOTicket: function(self) {\r\n            if (!WkspUtil.getPersistentSetting(\"sso_error\")) {\r\n                setTimeout(function () {\r\n                    WkspUtil.startGlobalSpinner(true);\r\n                }, 500);\r\n\r\n                self.isSSOMessageReceived = false;\r\n                var originDomain = window.ServerOrigin;\r\n                self.messageListener = WkspUtil.registerMessageListener(function(message) { //register the listener to wait for the LLCookie from the child page\r\n                    if (!self.isSSOMessageReceived) {\r\n                        WkspUtil.writeTrace('Received SSO message from: ' + originDomain);\r\n                        self.isSSOMessageReceived = true;\r\n                        WkspUtil.detachMessageListener(self.messageListener, originDomain); //unregister the listener\r\n                        setTimeout(function() {\r\n                            WkspUtil.stopGlobalSpinner();\r\n                        }, 500);\r\n                        self.ssoDeferred.resolve(message.data);\r\n                    }\r\n                }, originDomain);\r\n\r\n                var dummyPara = \"&tick=\" + (new Date()).getTime(); //change the url so the iframe can refresh each time to get SSO message\r\n                var url = window.ServerCgiScript + WkspUtil.SSOLoginURL + dummyPara + \"#\";\r\n                var src = url + encodeURIComponent(document.location.href); //pass in the current domain\r\n                if (WkspUtil.isSafeURL(src)) {\r\n                    document.getElementById(\"ssoFrame\").src = src; //load the SSO authentication page in a hidden iFrame\r\n                    setTimeout(function() {\r\n                        if (self.isSSOMessageReceived === false) {\r\n                            WkspUtil.writeTrace('SSO timed out.');\r\n                            self.errorMessage = \"\"; //lang.ssoTimeout; don't show error message when SSO timed out\r\n                            document.getElementById(\"ssoFrame\").src = \"\";\r\n                            WkspUtil.detachMessageListener(self.messageListener);\r\n                            self.ssoDeferred.reject();\r\n                        }\r\n                    }, 6000);\r\n\r\n                    WkspUtil.writeTrace('SSO enabled and token being retrieved.');\r\n                } else {\r\n                    WkspUtil.writeTrace('Unsafe URL found: ' + src);\r\n                    self.ssoDeferred.reject();\r\n                }\r\n            } else {\r\n                self.ssoDeferred.reject();\r\n            }\r\n            return self.ssoDeferred.promise();\r\n        },\r\n\r\n        verifyAuthentication: function (self, connection) {\r\n            var defer = $.Deferred();\r\n\r\n            $.ajax({\r\n                type: \"GET\",\r\n                headers: {\r\n                    'otcsticket': connection.session.ticket\r\n                },\r\n                url: connection.url + \"/auth\",\r\n                success: function (data) {\r\n                    self.options.context.csUser = data.data.name;\r\n                    WkspUtil.writeTrace(\"Logged in as: \" + data.data.name);\r\n                    defer.resolve({ successful: true });\r\n                },\r\n                error: function (error) {\r\n                    defer.reject(error);\r\n                }\r\n            });\r\n\r\n            return defer.promise();\r\n        },\r\n\r\n        traceLoginUser: function(self, connection) {\r\n            if (WkspUtil.TraceEnabled) {\r\n                $.ajax({\r\n                    type: \"GET\",\r\n                    headers: {\r\n                        \"Content-Type\": undefined,\r\n                        'otcsticket': connection.session.ticket\r\n                    },\r\n                    url: connection.url + \"/auth\",\r\n                    success: function(data) {\r\n                        if (data && data.data && data.data.name) {\r\n                            self.options.context.csUser = data.data.name;\r\n                            WkspUtil.writeTrace(\"Logged in as: \" + data.data.name);\r\n                        } else {\r\n                            WkspUtil.writeTrace(\"Cannot get login user.\");\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }); \r\n\r\n    return Authenticator;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/dialog/impl/nameresolver',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\r\\n<div class=\\\"modal-dialog modal-sm load-container\\\">\\r\\n    <div class=\\\"binf-modal-dialog \\\">\\r\\n        <div class=\\\"binf-modal-content\\\">\\r\\n            <div class=\\\"binf-modal-header question-header\\\">\\r\\n                <h4 class=\\\"binf-modal-title\\\">\\r\\n                    <span class=\\\"icon csui-icon-notification-confirmation-white\\\"></span>\\r\\n                    <span class=\\\"title-text\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.titleSaveEmail || (depth0 != null ? depth0.titleSaveEmail : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"titleSaveEmail\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n                </h4>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"wksp-dialog-body\\\">\\r\\n                <div>\"\n    + this.escapeExpression(((helper = (helper = helpers.validationMessage || (depth0 != null ? depth0.validationMessage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"validationMessage\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n                <div class=\\\"errorMessage\\\"> </div>\\r\\n                <div>\\r\\n                    <span>\"\n    + this.escapeExpression(((helper = (helper = helpers.uniqueNameLabel || (depth0 != null ? depth0.uniqueNameLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"uniqueNameLabel\",\"hash\":{}}) : helper)))\n    + \"</span> \\r\\n                    <textarea class=\\\"wkspInput wkspEmailName\\\" id=\\\"fileName\\\" tabindex=\\\"0\\\"/>\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n            \\r\\n            <div class=\\\"binf-modal-footer\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"binf-btn binf-btn-primary csui-yes csui-default\\\" tabindex=\\\"0\\\" >\\r\\n                    \"\n    + this.escapeExpression(((helper = (helper = helpers.titleOk || (depth0 != null ? depth0.titleOk : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"titleOk\",\"hash\":{}}) : helper)))\n    + \"\\r\\n                </button>\\r\\n                <button type=\\\"button\\\" class=\\\"binf-btn binf-btn-default csui-cancel\\\" tabindex=\\\"0\\\"\\r\\n                        data-binf-dismiss=\\\"modal\\\">\\r\\n                    \"\n    + this.escapeExpression(((helper = (helper = helpers.titleCancel || (depth0 != null ? depth0.titleCancel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"titleCancel\",\"hash\":{}}) : helper)))\n    + \"\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_dialog_impl_nameresolver', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/dialog/nameresolver',['module',\r\n    'csui/lib/underscore',\r\n    'csui/lib/jquery',\r\n    'csui/lib/marionette',\r\n    'csui/utils/log',\r\n    'csui/utils/base',\r\n    'csui/utils/url',\r\n    'csui/utils/requestauthenticator',\r\n\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n\r\n    'hbs!conws/widgets/outlook/impl/dialog/impl/nameresolver', \r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',\r\n    'csui/behaviors/keyboard.navigation/tabkey.behavior',\r\n    'csui/lib/binf/js/binf'\r\n], function (module, _, $, Marionette, log, base, Url, RequestAuthenticator, WkspUtil, template, lang, TabKeyBehavior) {\r\n\r\n    var NameResolver = Marionette.ItemView.extend({\r\n        className: function () {\r\n            var className = 'csui-alert binf-modal binf-fade';\r\n            if (this.options.modalClass) {\r\n                className += ' ' + this.options.modalClass;\r\n            }\r\n            return className;\r\n        },\r\n\r\n        template: template,\r\n\r\n        ui: {\r\n            errorMessage: '.errorMessagae',\r\n            fileName: '#fileName'\r\n        },\r\n\r\n        triggers: {\r\n            'click .csui-yes': 'click:yes'\r\n        },\r\n\r\n        events: {\r\n            'shown.binf.modal': 'onShown',\r\n            'hide.binf.modal': 'onHiding',\r\n            'hidden.binf.modal': 'onHidden',\r\n            'keyup': 'processKey',\r\n            \"keyup #fileName\": \"emailNameTyping\"\r\n        },\r\n\r\n        behaviors: {\r\n            TabKeyBehavior: {\r\n                behaviorClass: TabKeyBehavior,\r\n                recursiveNavigation: true\r\n            }\r\n        },\r\n\r\n        constructor: function NameResolver(options) {\r\n            Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n            options = this.options;\r\n           \r\n            this.connector = options.connector;\r\n            this._deferred = $.Deferred();\r\n            this.folderId = options.folderId;\r\n\r\n            this.proposedName = WkspUtil.escapeNameToCreate(options.originalName);\r\n            this.originalName = this.proposedName;\r\n            this.folderName = options.folderName;\r\n            // url example: https://ecmlink18dev.opentext.net/otcs/cs.exe/api/v1/validation/nodes/names?body={\"parent_id\":7066352,\"names\":[\"RE_ Group project review\"]}\r\n            \r\n            this.url = Url.combine(this.connector.connection.url, 'validation/nodes/names');\r\n            this.bodyFormat = '{\"parent_id\":%d,\"names\":[\"%s\"]}';\r\n        },\r\n\r\n        templateHelpers: function () {\r\n            return {\r\n                validationMessage: this.originalName ? _.str.sformat(lang.validation_name_conflict, this.originalName, this.folderName) : lang.validation_no_subject,\r\n                titleSaveEmail: lang.title_save_email,\r\n                uniqueNameLabel: lang.save_nameNotUnique,\r\n                titleOk: lang.title_ok,\r\n                titleCancel: lang.title_cancel\r\n            }\r\n        },\r\n\r\n        show: function () {\r\n            WkspUtil.modalOpen();\r\n\r\n            this.render();\r\n            this.$el.attr('tabindex', 0);\r\n            if (this.options.centerVertically) {\r\n                this.centerVertically();\r\n            }\r\n            this.$el.binf_modal('show');\r\n            this.triggerMethod('show');\r\n\r\n            if (this.proposedName) {\r\n                this.$('#fileName').val(this.proposedName);\r\n            }\r\n            this.templateHelpers();\r\n\r\n            var promise = this._deferred.promise(),\r\n                self = this;\r\n            \r\n            // testable without this on the public interface?\r\n            promise.close = function () {\r\n                self.$el.binf_modal('hide');\r\n                return promise;\r\n            };\r\n\r\n            return promise;\r\n        },\r\n\r\n        centerVertically: function () {\r\n            var $clone;\r\n            var top;\r\n\r\n            // add clone of modalAlert to document\r\n            $clone = this.$el.clone();\r\n            $clone.css('display', 'block');\r\n            $clone.appendTo($.fn.binf_modal.getDefaultContainer());\r\n\r\n            // calculate top of centered position\r\n            top = Math.round(($clone.height() - $clone.find('.binf-modal-content').height()) / 2);\r\n            top = top > 0 ? top : 0;\r\n\r\n            $clone.remove();\r\n\r\n            // set top of modalAlert\r\n            this.$el.find('.binf-modal-content').css(\"margin-top\", top);\r\n        },\r\n\r\n        onShown: function () {\r\n            this._deferred.notify({ state: 'shown' });\r\n            this.$('#fileName').focus();\r\n\r\n            var nameInput = this.$('#fileName')[0];\r\n            nameInput.style.height = \"1px\";\r\n            nameInput.style.height = (nameInput.scrollHeight) + \"px\";\r\n        },\r\n\r\n        onHiding: function () {\r\n            this._deferred.notify({ state: 'hiding' });\r\n        },\r\n\r\n        onHidden: function (event) {\r\n            WkspUtil.modalClose();\r\n\r\n            this.destroy();\r\n            // Trigger callbacks and promises when the hiding animation ended\r\n            if (this.options.callback) {\r\n                this.options.callback(this._result);\r\n            }\r\n            if (this._result) {\r\n                this._deferred.resolve(this._result);\r\n            } else {\r\n                this._deferred.reject(this._result);\r\n            }\r\n        },\r\n\r\n        emailNameTyping: function(event) {\r\n            var inputs = this.$(\"#fileName\");\r\n            if (inputs.length === 0) {\r\n                return;\r\n            }\r\n\r\n            var nameInput = inputs[0];\r\n            nameInput.style.height = \"1px\";\r\n            nameInput.style.height = (nameInput.scrollHeight) + \"px\";\r\n        },\r\n\r\n        processKey: function (e) {\r\n            if (e.which === 13) {\r\n                this.onClickYes();\r\n            }\r\n        },\r\n\r\n        onClickNo: function () {\r\n            this._result = false;\r\n        },\r\n\r\n        onClickYes: function () {\r\n            var self = this,\r\n                fileName = WkspUtil.escapeNameToCreate(self.$('#fileName').val().trim()),\r\n                messageArea = self.$('.errorMessage');\r\n\r\n            messageArea.html('  ');\r\n\r\n            if (!fileName) {\r\n                messageArea.html(lang.save_enterName);\r\n            } else {\r\n                self.originalName = fileName;\r\n                self.proposedName = fileName;\r\n                self.validate()\r\n                    .done(function (data) {\r\n                        if (data.status) {\r\n                            self.destroy();\r\n                        }\r\n                    });\r\n            }\r\n        },\r\n\r\n        _setTabFocus: function () {\r\n            var tabElements = this.$('*[tabindex=0]'),\r\n                lastIndex = tabElements.length - 1,\r\n                tabShift = event.shiftKey,\r\n                i = this._getStartIndex(lastIndex, tabShift, tabElements);\r\n            if (lastIndex > -1) {\r\n                var activeIndex = (this.activeIndex !== undefined) ? this.activeIndex :\r\n                    (tabShift ? 0 : lastIndex);\r\n                do {\r\n                    var $tabElem = $(tabElements[i]);\r\n                    if (base.isVisibleInWindowViewport($tabElem)) {\r\n                        this.activeIndex = i;\r\n                        $tabElem.focus();\r\n                        break;\r\n                    }\r\n                    if (tabShift) {\r\n                        i = (i === 0) ? lastIndex : i - 1;\r\n                    } else {\r\n                        i = (i === lastIndex) ? 0 : i + 1;\r\n                    }\r\n                } while (i !== activeIndex);\r\n            }\r\n            return false;\r\n        },\r\n        _getStartIndex: function (lastIndex, tabShift) {\r\n            var startIndex = 0,\r\n                activeIndex = this.activeIndex;\r\n            if (tabShift) {\r\n                startIndex = lastIndex;\r\n                if (activeIndex !== undefined && activeIndex > 0) {\r\n                    startIndex = this.activeIndex - 1;\r\n                }\r\n            } else {\r\n                if (activeIndex !== undefined && activeIndex < lastIndex) {\r\n                    startIndex = activeIndex + 1;\r\n                }\r\n            }\r\n            return startIndex;\r\n        },\r\n\r\n        validate: function(options) {\r\n            var namePromise = this._deferred.promise(),\r\n                self = this,\r\n                url = self.url;\r\n\r\n            if (self.proposedName) {\r\n                WkspUtil.startGlobalSpinner();\r\n\r\n                var verifyingPromise = self.verifyName(url, self.proposedName);\r\n                verifyingPromise.done(function(data) {\r\n                    if (data.results && data.results.length === 0) {\r\n                        self._result = { success: true, name: self.proposedName };\r\n                        self.onHidden();\r\n                        //WkspUtil.stopGlobalSpinner();\r\n                        self._deferred.resolve(self._result);\r\n                    } else {\r\n                        var firstNewName = self.rename(self.proposedName);\r\n                        self.resolveName(firstNewName, function(newName) {\r\n                            self.proposedName = newName;\r\n                            WkspUtil.stopGlobalSpinner();\r\n                            self.show();\r\n                            self.onShown();\r\n                        });\r\n                    }\r\n\r\n                });\r\n                verifyingPromise.fail(function (error, errorText) {\r\n                    WkspUtil.stopGlobalSpinner();\r\n                    var errMsg = errorText;\r\n                    if (error) {\r\n                        errMsg = (error.responseJSON && error.responseJSON.error) ? error.responseJSON.error :\r\n                            error.responseText ? error.responseText :\r\n                            error.statusText ? error.statusText : JSON.stringify(error);\r\n                    }\r\n                    self.$('.errorMessage').html(errMsg);\r\n                    self._result = { success: false , status: error.status, errorMessage: errMsg};\r\n                    self._deferred.resolve(self._result);\r\n                });\r\n            } else {\r\n                self.show();\r\n            }\r\n\r\n            return namePromise;\r\n        },\r\n\r\n        verifyName: function (url, nameToVerify) {\r\n            var self = this,\r\n                ticket = self.connector.connection.session.ticket;\r\n\r\n            var body = _.str.sprintf(self.bodyFormat, self.folderId, WkspUtil.escapeNameToVerify(nameToVerify) + \".eml\"); \r\n\r\n            return $.ajax({\r\n                type: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    'OTCSTicket': ticket\r\n                },\r\n                url: url,\r\n                contentType: false,\r\n                data: {body: body}\r\n            });\r\n        },\r\n\r\n        resolveName: function(nameToResolve, callback) {\r\n            var self = this,\r\n                url = self.url;\r\n\r\n            var verifyingPromise = self.verifyName(url, nameToResolve);\r\n            verifyingPromise.done(function (data) {\r\n                if (data.results && data.results.length === 0) {\r\n                    callback(nameToResolve);\r\n                } else {\r\n                    var newName = self.rename(nameToResolve);\r\n                    self.resolveName(newName, callback);\r\n                }\r\n\r\n            });\r\n\r\n        },\r\n\r\n        rename: function(originalName) {\r\n            if (!originalName) {\r\n                return null;\r\n            }\r\n\r\n            var toRename = originalName.trim();\r\n            if (toRename[toRename.length - 1] === ')') {\r\n                var lastOpenParenthesis = toRename.lastIndexOf('(');\r\n                if (lastOpenParenthesis > 0 && lastOpenParenthesis < toRename.length-2) {\r\n                    var sequence = toRename.substring(lastOpenParenthesis + 1, toRename.length - 1),\r\n                        newSequence = parseInt(sequence, 10);\r\n                    if (sequence === String(newSequence)) {\r\n                        newSequence++;\r\n                        return toRename.substring(0, lastOpenParenthesis + 1) + newSequence + \")\";\r\n                    } \r\n                } \r\n            } \r\n\r\n            return toRename + \" (1)\";\r\n        }\r\n    });\r\n\r\n    return NameResolver;\r\n\r\n});\r\n\n","csui.define('conws/widgets/outlook/impl/utils/csservice',[\r\n    'csui/lib/underscore',\r\n    'csui/lib/jquery',\r\n    'csui/utils/url',\r\n    'csui/utils/contexts/page/page.context',\r\n    'csui/utils/contexts/factories/connector',\r\n    'csui/dialogs/modal.alert/modal.alert',\r\n    'conws/widgets/outlook/impl/utils/emailservice',\r\n    'conws/widgets/outlook/impl/dialog/authenticator',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/dialog/nameresolver',\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',\r\n    'i18n!csui/utils/impl/nls/lang'\r\n], function CsService(_, $, Url, PageContext, ConnectorFactory, ModalAlert, EmailService, Authenticator, WkspUtil, NameResolver, lang, csuiLang) {\r\n\r\n    return {\r\n        save: save,\r\n        confirmSaving: confirmSaving,\r\n        reauthenticate: reauthenticate,\r\n        getSuggestedWksps: getSuggestedWksps,\r\n        filterWksps: filterWksps,\r\n        searchWksps: searchWksps,\r\n        getWkspForEmail: getWkspForEmail,\r\n        getSuggestedWkspConfig: getSuggestedWkspConfig,\r\n        getSimpleSearchQueries: getSimpleSearchQueries,\r\n        getAddinConfig: getAddinConfig,\r\n        resolveNames: resolveNames,\r\n        resolveName: resolveName,\r\n        verifyName: verifyName,\r\n        prepareNames: prepareNames,\r\n        nameExists: nameExists\r\n} \r\n  \r\n    function save(connector, folderId, emailName, attachments, metadataValues){\r\n        var self = this,\r\n            emailItem = window.CurrentEmailItem,\r\n            saveEmail = emailName ? true : false,\r\n            attachmentNames = \"\",\r\n            attachmentIds = \"\",\r\n            attachmentTypes = \"\",\r\n            saveAttachment = false,\r\n            metadataValueString = metadataValues === undefined ?  \"\" : JSON.stringify(metadataValues),\r\n            defer = $.Deferred();\r\n\r\n            if (attachments != null && attachments.length > 0){\r\n                saveAttachment = true;\r\n                for(var i = 0; i < attachments.length; i++){\r\n                    attachmentNames += i === 0 ? '\"' + attachments[i].name + '\"' : ',\"' + attachments[i].name + '\"';\r\n                    attachmentIds += i === 0 ? '\"' + attachments[i].id + '\"' : ',\"' + attachments[i].id + '\"';\r\n                    attachmentTypes += i === 0 ? '\"' + attachments[i].mimeType + '\"' : ',\"' + attachments[i].mimeType + '\"';\r\n                }\r\n            }\r\n            attachmentNames = \"{\" + attachmentNames + \"}\";\r\n            attachmentIds = \"{\" + attachmentIds + \"}\";\r\n            attachmentTypes = \"{\" + attachmentTypes + \"}\";\r\n\r\n      \r\n            var saveSuccessful = \"\";\r\n            if (saveEmail && saveAttachment){\r\n                saveSuccessful = lang.save_successful_all;\r\n            } else if (saveEmail){\r\n                saveSuccessful = lang.save_successful_email;\r\n            } else if (saveAttachment){\r\n                if (attachments.length > 1){\r\n                    saveSuccessful = lang.save_successful_attachments;\r\n                } else {\r\n                    saveSuccessful = lang.save_successful_attachment;\r\n                }\r\n            }\r\n\r\n            WkspUtil.writeTrace(\"Ready to perform: saving email = \" + saveEmail + \", saving attachment(s) = \" + saveAttachment);\r\n\r\n            if (typeof window.Office === \"undefined\" || typeof window.Office.context === \"undefined\" ||\r\n                typeof window.Office.context.mailbox === \"undefined\"){\r\n                    defer.reject({errorMsg: lang.warning_no_outlook_context});\r\n                    WkspUtil.writeTrace(\"Could not save email because there is no Outlook context.\");\r\n\r\n                    return defer.promise();\r\n            }\r\n\r\n            window.Office.context.mailbox.getCallbackTokenAsync(function(tokenResult) {\r\n                if (tokenResult.status === 'succeeded') {\r\n                    var dummyEmailContent = \"From: Demo <demo@demo.com>\\nTo: Demo <demo@demo.com>\\nSubject: Content placeholder email\\nDate: 1 Jul 2017\";\r\n                    var dummyBlob = new Blob([dummyEmailContent], { type: 'message/rfc822' });\r\n                    var formData = new FormData();\r\n\r\n                    formData.append(\"parent_id\", folderId);\r\n                    formData.append(\"ewsUrl\", window.Office.context.mailbox.ewsUrl);\r\n                    formData.append(\"emailId\", emailItem.itemId);\r\n                    formData.append(\"accessToken\", tokenResult.value);\r\n                    formData.append(\"emailName\", emailName);\r\n                    formData.append(\"file\", dummyBlob);\r\n                    formData.append(\"body\", metadataValueString);\r\n                    if (saveAttachment){\r\n                        formData.append(\"attachmentNames\", attachmentNames);\r\n                        formData.append(\"attachmentIds\", attachmentIds);\r\n                        formData.append(\"attachmentTypes\", attachmentTypes);\r\n                    }\r\n\r\n                    WkspUtil.writeTrace(\"Calling CS REST to retrieve email content and attachment to save ...\");\r\n                    $.ajax({\r\n                        type: \"POST\",\r\n                        headers: {\r\n                            \"Content-Type\": undefined,\r\n                            'otcsticket': connector.connection.session.ticket\r\n                        },\r\n                        url: WkspUtil.v1ToV2(connector.connection.url) + \"businessworkspaces/outlookaddin/email\",\r\n                        contentType: false,\r\n                        data: formData,\r\n                        processData: false,\r\n                        success: function (data) {\r\n                            var successful = false,\r\n                                csRestMsg = \"\";\r\n                            if (data.results != null && data.results.length > 0) {\r\n                                successful = data.results[0].resultCode === \"Success\";\r\n                                csRestMsg = data.results[0].message;\r\n                            } else {\r\n                                csRestMsg = \"OutlookAddinRestFailed\";\r\n                            }\r\n\r\n                            if (successful) {\r\n                                defer.resolve({result: saveSuccessful});\r\n                                WkspUtil.writeTrace(\"Saving the email/attachment to Content Server completed.\");\r\n                            } else {\r\n                                defer.reject({errorMsg: _.str.sformat(lang.error_save_email, csRestMsg)});\r\n                                WkspUtil.writeTrace(\"Saving the email/attachment to Content Server failed with message: \" + csRestMsg);\r\n                            }\r\n                        },\r\n                        error: function (error, errorText, obj) {\r\n                            var errMsg = errorText;\r\n                            if (error) {\r\n                                errMsg = (error.responseJSON && error.responseJSON.error) ? error.responseJSON.error :\r\n                                    error.responseText ? error.responseText :\r\n                                        error.statusText ? error.statusText : JSON.stringify(error);\r\n                            }\r\n                            if (error.status === 401) {\r\n                                self.reauthenticate(lang.warning_session_expired);\r\n                            } else {\r\n                                defer.reject({errorMsg: _.str.sformat(lang.error_save_email, errMsg)});\r\n                                WkspUtil.writeTrace(\"Saving the email to Content Server failed with message: \" + errMsg);\r\n                            }\r\n                        }\r\n                    });\r\n                } else {\r\n                    // getCallbackTokenAsync unsuccessful \r\n                    //WkspUtil.stopGlobalSpinner();\r\n                    defer.reject({errorMsg: lang.error_retrieve_token});\r\n                    WkspUtil.writeTrace(\"Retrieving EWS access token failed.\");\r\n                }\r\n            });\r\n        return defer.promise();\r\n    }\r\n\r\n    function confirmSaving (needConfirmation, folderName) {\r\n        if (!needConfirmation) {\r\n            return $.Deferred().resolve(true);\r\n        } else {\r\n            WkspUtil.stopGlobalSpinner();\r\n            return ModalAlert.confirmQuestion(_.str.sformat(lang.info_confirm_saving, folderName),\r\n                lang.title_save_email, { buttons: ModalAlert.buttons.OkCancel });\r\n        }\r\n    }\r\n\r\n    function reauthenticate (message) {\r\n        var conn = WkspUtil.getConnector();\r\n        if (!conn.timeoutProcessed){\r\n            conn.timeoutProcessed = true;\r\n            WkspUtil.stopGlobalSpinner();\r\n            ModalAlert.showWarning(csuiLang.AuthenticationFailureDialogText, message, {\r\n                buttons: ModalAlert.buttons.Ok\r\n            })\r\n                .always(function () {\r\n                    var context = new PageContext(),\r\n                        connector = conn;\r\n\r\n                    context.connector = connector;\r\n                    var authenticator = new Authenticator({ context: context, centerVertically: true });\r\n                    authenticator.authenticate()\r\n                        .done(function(result){\r\n                            authenticator.beingAuthenticated = false;\r\n                        });\r\n                });\r\n        }\r\n    }\r\n\r\n    function getSuggestedWksps(connector, emailItem, config) {\r\n        var self = this,\r\n            processes = [],\r\n            defer = $.Deferred(),\r\n            i = 0;\r\n\r\n        // For testing without email context\r\n        var dummyEmailItem = null;\r\n        /*\r\n        {\r\n            subject: \"Order 155 from customer 0 requrest of product 508 for equipment building 200 from for client 0\", //\"test email\", //\r\n            sender: { displayName: \"Nathan\", emailAddress: \"nathan@SPDC1.com\" },\r\n            to: [\r\n                { displayName: \"Joe Doe\", emailAddress: \"joe@spdc1.com\" },\r\n                { displayName: \"Bill Whites\", emailAddress: \"bill@jasonwang.onmicrosoft.com\" }\r\n            ],\r\n            cc: [\r\n                { displayName: \"Derek Miller\", emailAddress: \"Derek@spdc1.com\" },\r\n                { displayName: \"Fiona Smith\", emailAddress: \"fiona@jasonwang.onmicrosoft.com\" }\r\n            ]\r\n        }; */\r\n        var email = emailItem != null ? emailItem : dummyEmailItem;\r\n\r\n        var filterConfig = WkspUtil.getSuggestedWkspFilters(email, config);\r\n        if (filterConfig != null && filterConfig.rules.length > 0) {\r\n            for (i = 0; i < filterConfig.rules.length; i++) {\r\n                var rule = filterConfig.rules[i];\r\n                var name = rule.filterName.trim();\r\n                if (name) {\r\n                    processes.push(self.filterWksps(connector, rule.typeId, rule.typeName.trim(), name, rule.weight));\r\n                }\r\n            }\r\n        }\r\n\r\n        var emailSearchConfig = WkspUtil.getSuggestedWkspEmailSearchConfig(email, config);\r\n        if (emailSearchConfig != null && emailSearchConfig.searchTerm.length > 0) {\r\n            for (i = 0; i < emailSearchConfig.searchTerm.length; i++) {\r\n                var term = emailSearchConfig.searchTerm[i];\r\n                if (term.region != null && term.searchTerm != null) {\r\n                    processes.push(self.searchWksps(connector, term.region, term.searchTerm, emailSearchConfig.sort, emailSearchConfig.weight));\r\n                }\r\n            }\r\n        }\r\n\r\n        if (processes.length === 0) {\r\n            setTimeout(function () {\r\n                defer.resolve({ results: [] });\r\n            });\r\n        } else {\r\n            //Promise.all(processes)\r\n            $.whenAll(processes)\r\n                .then(function (values) {\r\n                    var collection = [];\r\n                    var errors = [];\r\n                    for (i = 0; i < values.length; i++) {\r\n                        if (values[i].error != null) {\r\n                            errors.push(values[i].error);\r\n                        } else {\r\n                            Array.prototype.push.apply(collection, (values[i].results));\r\n                        }\r\n                    }\r\n                    // merge duplicates, then sort by suggestedWeight and last modified date\r\n                    var wksps = [];\r\n                    for (i = 0; i < collection.length; i++) {\r\n                        var wkspProp = collection[i].data.properties,\r\n                            foundDuplicate = false;\r\n                        for (var k = 0; k < wksps.length; k++) {\r\n                            if (wkspProp.id === wksps[k].data.properties.id) {\r\n                                wksps[k].data.properties.suggestedWeight += wkspProp.suggestedWeight;\r\n\r\n                                var kDate = new Date(wksps[k].data.properties.modifyDate),\r\n                                    iDate = new Date(wkspProp.modifyDate);\r\n                                if (iDate > kDate) {\r\n                                    wksps[k].data.properties.modifyDate = iDate;\r\n                                }\r\n\r\n                                foundDuplicate = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (foundDuplicate) {\r\n                            continue;\r\n                        } else {\r\n                            wksps.push(collection[i]);\r\n                        }\r\n                    }\r\n                    var compareWeight = function(a, b) {\r\n                        if (a.data.properties.suggestedWeight > b.data.properties.suggestedWeight) {\r\n                            return -1;\r\n                        }\r\n                        if (a.data.properties.suggestedWeight < b.data.properties.suggestedWeight) {\r\n                            return 1;\r\n                        }\r\n                        var aDate = new Date(a.data.properties.modifyDate),\r\n                            bDate = new Date(b.data.properties.modifyDate);\r\n                        if (aDate > bDate) {\r\n                            return -1;\r\n                        } else {\r\n                            return 1;\r\n                        }\r\n                    };\r\n                    wksps.sort(compareWeight);\r\n\r\n                    // Only return the configured number of suggested workspaces\r\n                    var maxNumber = config.general != null && config.general.count != null ? config.general.count : 5;\r\n                    var suggestWksps = wksps.slice(0, maxNumber);\r\n\r\n                    // Display error setting, default is false.\r\n                    var displayError = false;\r\n\r\n                    if (errors.length > 0) {\r\n                        for (var j = 0; j < errors.length; j++) {\r\n                            WkspUtil.writeTrace(\"Error reported in retrieving suggested workspace: \" + errors[j]);\r\n                        }\r\n                    }\r\n\r\n                    var reportedErrors = displayError ? errors : [];\r\n\r\n                    defer.resolve({ results: suggestWksps, errors: reportedErrors });\r\n                }, function (error) {\r\n                    defer.reject(WkspUtil.getErrorMessage(error));\r\n                });\r\n        }\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function filterWksps(connector, wkspType, wkspTypeName, wkspName, weight) {\r\n        var defer = $.Deferred(),\r\n            queryString;\r\n\r\n        if (wkspType !== -999){\r\n            WkspUtil.writeTrace(\"Suggested Wksp: filter wksps with typeID '\" + wkspType + \"' and name contains '\" + wkspName + \"'\");\r\n            queryString = 'where_workspace_type_id=' + wkspType + '&' + 'where_name=contains_' + encodeURIComponent(wkspName);\r\n        } else {\r\n            WkspUtil.writeTrace(\"Suggested Wksp: filter wksps with type name '\" + wkspTypeName + \"' and name contains '\" + wkspName + \"'\");\r\n            queryString = 'where_workspace_type_name=' + encodeURIComponent(wkspTypeName) + '&' + 'where_name=contains_' + encodeURIComponent(wkspName);\r\n        }\r\n        \r\n        var url = Url.combine(WkspUtil.v1ToV2(connector.connection.url), 'businessworkspaces?expanded_view=true&' + queryString);\r\n        $.ajax({\r\n            url: url,\r\n            type: \"GET\",\r\n            headers: {\r\n                'OTCSTicket': connector.connection.session.ticket\r\n            },\r\n            success: function (data) {\r\n                var wksps = [];\r\n                if (data != null && data.results != null && data.results.length > 0) {\r\n                    for (var i = 0; i < data.results.length; i++) {\r\n                        var props = data.results[i].data.properties;\r\n                        wksps.push({ data: { properties: { id: props.id, name: props.name, size: props.size, modifyDate: props.modify_date, suggestedWeight: weight, type: 848, container: true } } });\r\n                    }\r\n                }\r\n                defer.resolve({ results: wksps });\r\n            },\r\n            error: function (error) {\r\n                // Passing the error as a resolved result instead of rejecting it.\r\n                defer.resolve({ error: \"Filter: \" + WkspUtil.getErrorMessage(error) });\r\n            }\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function searchWksps(connector, region, searchTerm, sortBy, weight) {\r\n        var self = this,\r\n            defer = $.Deferred();\r\n\r\n        WkspUtil.writeTrace(\"Suggested Wksp: search emails with region '\" + region + \"' contains '\" + searchTerm + \"'\");\r\n        var queryString = 'search?where1=%22' + region + '%22:(*' + encodeURIComponent(searchTerm) + '*)&limit=50';\r\n        if (sortBy !== \"relevance\") {\r\n            queryString += \"&sort=desc_OTObjectDate\";\r\n        }\r\n        var url = Url.combine(WkspUtil.v1ToV2(connector.connection.url), queryString);\r\n        $.ajax({\r\n            url: url,\r\n            type: \"GET\",\r\n            headers: {\r\n                'OTCSTicket': connector.connection.session.ticket\r\n            },\r\n            success: function (data) {\r\n                var processes = [],\r\n                    wksps = [],\r\n                    i = 0;\r\n                if (data != null && data.results != null && data.results.length > 0) {\r\n                    for (i = 0; i < data.results.length; i++) {\r\n                        var props = data.results[i].data.properties;\r\n                        processes.push(self.getWkspForEmail(connector, props.id, props.modify_date,  weight));\r\n                    }\r\n\r\n                    ////Promise.all(processes)   // -- this is not working in IE\r\n                    //$.when.apply($, processes)   // -- this returns only one result\r\n                    //    .done(function (values) {\r\n                    //        for (i = 0; i < values.length; i++) {\r\n                    //            var value = values[i];\r\n                    //            if (value != null) {\r\n                    //                wksps.push(value);\r\n                    //            }\r\n                    //        }\r\n                    //        defer.resolve({ results: wksps });\r\n                    //    })\r\n                    //    .fail(function (error) {\r\n                    //        defer.reject(error);\r\n                    //    });\r\n\r\n\r\n                    $.whenAll(processes)\r\n                        .then(function(values) {\r\n                            for (i = 0; i < values.length; i++) {\r\n                                var value = values[i];\r\n                                if (value != null) {\r\n                                    wksps.push(value);\r\n                                }\r\n                            }\r\n                            defer.resolve({ results: wksps });\r\n                        }, function(error) {\r\n                            defer.reject(WkspUtil.getErrorMessage(error));\r\n                        });\r\n                } else {\r\n                    defer.resolve({ results: wksps });\r\n                }\r\n            },\r\n            error: function (error) {\r\n                // Passing the error as a resolved result instead of rejecting it.\r\n                defer.resolve({ error: \"Search: \" + WkspUtil.getErrorMessage(error) });\r\n            }\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function getWkspForEmail(connector, wkspId, modifyDate, weight) {\r\n        var defer = $.Deferred(),\r\n            url = Url.combine(connector.connection.url, \"nodes/\" + wkspId + \"/ancestors\");\r\n        $.ajax({\r\n            url: url,\r\n            type: \"GET\",\r\n            headers: {\r\n                'OTCSTicket': connector.connection.session.ticket\r\n            },\r\n            success: function (data) {\r\n                var wksp = null;\r\n                if (data != null && data.ancestors != null && data.ancestors.length >= 2) {\r\n                    for (var i = data.ancestors.length - 2; i >= 0; i--) {\r\n                        var node = data.ancestors[i];\r\n                        if (node.type === 848) {\r\n                            wksp = { data: { properties: { id: node.id, name: node.name, size: 1, modifyDate: modifyDate, suggestedWeight: weight, type: 848, container: true } } }; // size > 0 meaning has children.\r\n                            break;\r\n                        }\r\n                    }\r\n                    defer.resolve(wksp);\r\n                } else {\r\n                    defer.resolve(null);\r\n                }\r\n            },\r\n            error: function(error) {\r\n                defer.reject(WkspUtil.getErrorMessage(error));\r\n            }\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function getSuggestedWkspConfig(connector) {\r\n        var defer = $.Deferred(),\r\n            url = Url.combine(WkspUtil.v1ToV2(connector.connection.url), \"businessworkspaces/outlookaddin/suggestedworkspacesconfig\");\r\n        $.ajax({\r\n            url: url,\r\n            type: \"GET\",\r\n            headers: {\r\n                'OTCSTicket': connector.connection.session.ticket\r\n            },\r\n            success: function (data) {\r\n                if (data != null && data.results != null && data.results.resultCode === \"Success\") {\r\n                    defer.resolve(data.results.config);\r\n                } else if (data == null || data.results == null) {\r\n                    defer.reject(_.str.sformat(lang.error_retrieve_suggestedConfig, \"Null Configuration\"));\r\n                } else {\r\n                    defer.reject(_.str.sformat(lang.error_retrieve_suggestedConfig, data.results.message));\r\n                }\r\n            },\r\n            error: function (error) {\r\n                defer.reject(WkspUtil.getErrorMessage(error));\r\n            }\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function getSimpleSearchQueries(connector) {\r\n        var defer = $.Deferred(),\r\n            url = Url.combine(WkspUtil.v1ToV2(connector.connection.url), \"businessworkspaces/outlookaddin/simplesearchqueries\");\r\n        $.ajax({\r\n            url: url,\r\n            type: \"GET\",\r\n            headers: {\r\n                'OTCSTicket': connector.connection.session.ticket\r\n            },\r\n            success: function (data) {\r\n                if (data != null && data.results != null && data.results.resultCode === \"Success\") {\r\n                    defer.resolve(data.results.menuEntries);\r\n                } else if (data == null || data.results == null) {\r\n                    defer.reject(_.str.sformat(lang.error_retrieve_searchQueries, \"Null Configuration\"));\r\n                } else {\r\n                    defer.reject(_.str.sformat(lang.error_retrieve_searchQueries, data.results.message));\r\n                }\r\n            },\r\n            error: function (error) {\r\n                defer.reject(WkspUtil.getErrorMessage(error));\r\n            }\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function getAddinConfig(connector) {\r\n        var defer = $.Deferred(),\r\n            url = Url.combine(WkspUtil.v1ToV2(connector.connection.url), \"businessworkspaces/outlookaddin/config\");\r\n        $.ajax({\r\n            url: url,\r\n            type: \"GET\",\r\n            headers: {\r\n                'OTCSTicket': connector.connection.session.ticket\r\n            },\r\n            success: function (data) {\r\n                if (data != null && data.results != null && data.results.resultCode === \"Success\") {\r\n                    defer.resolve(data.results.config);\r\n                } else if (data == null || data.results == null) {\r\n                    defer.reject(_.str.sformat(lang.error_retrieve_config, \"Null Configuration\"));\r\n                } else {\r\n                    defer.reject(_.str.sformat(lang.error_retrieve_config, data.results.message));\r\n                }\r\n            },\r\n            error: function (error) {\r\n                defer.reject(_.str.sformat(lang.error_retrieve_config, WkspUtil.getErrorMessage(error)));\r\n            }\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function resolveNames(connector, folderId, emailTitleInfo, attachmentInfo){\r\n        var self = this,\r\n            namesToResolve = [],\r\n            resolvedNames = [],\r\n            defer = $.Deferred();\r\n\r\n        var url = Url.combine(connector.connection.url, 'validation/nodes/names'),\r\n            ticket = connector.connection.session.ticket;    \r\n        \r\n        if (emailTitleInfo.checked){\r\n            emailTitleInfo.isEmail = true;\r\n            namesToResolve.push(emailTitleInfo);\r\n        }\r\n        if (attachmentInfo != null && attachmentInfo.length ){\r\n            for (var i = 0; i < attachmentInfo.length; i++){\r\n                var info = attachmentInfo[i].data;\r\n                if (info.checked){\r\n                    info.isEmail = false;\r\n                    namesToResolve.push(info);\r\n                }\r\n            }\r\n        }\r\n\r\n        var looper = $.Deferred().resolve();\r\n        $.when.apply($, $.map(namesToResolve, function(item, i){\r\n            looper = looper.then(function(){\r\n                var nameToResolve = typeof item.isEmail === \"undefined\" || ! item.isEmail ? \r\n                                    item.suggestedName : item.suggestedName + \".eml\";\r\n\r\n                return self.resolveName(url, ticket, folderId, nameToResolve, item, resolvedNames)\r\n            });\r\n            return looper\r\n        })).then(function(){\r\n                defer.resolve();\r\n            },  function (error) {\r\n                // reject happens at the first fail, then ignore the reset\r\n                var err = Array.isArray(error) && error.length > 0 ? error[0] : error;\r\n                defer.reject(err);\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function verifyName(url, ticket, folderId, names) {\r\n        var bodyFormat = '{\"parent_id\":%d,\"names\":[%s]}';\r\n\r\n        var escapedNames = [];\r\n        for(var i = 0; i < names.length; i++){\r\n            escapedNames.push(WkspUtil.escapeNameToVerify(names[i]));\r\n        }\r\n        var nameString = '\"' + escapedNames.join('\",\"') + '\"';\r\n        var body = _.str.sprintf(bodyFormat, folderId, nameString); \r\n\r\n        return $.ajax({\r\n            type: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                'OTCSTicket': ticket\r\n            },\r\n            url: url,\r\n            contentType: false,\r\n            data: {body: body}\r\n        });\r\n    }\r\n\r\n    function resolveName(url, ticket, folderId, nameToResolve, nameInfo, resolvedNames) {\r\n        var self = this,\r\n            defer = $.Deferred();\r\n\r\n        var ensuredName = nameToResolve,\r\n            nameConflicted = false,\r\n            nameCandidates;\r\n        if (!Array.isArray(ensuredName) && resolvedNames.length > 0){\r\n            while (self.nameExists(resolvedNames, ensuredName)){\r\n                nameCandidates = self.prepareNames(ensuredName, 5, resolvedNames);\r\n                ensuredName = nameCandidates[1];\r\n                nameConflicted = true;\r\n            }\r\n        }\r\n        if (!nameConflicted){\r\n            nameCandidates = self.prepareNames(ensuredName, 5, resolvedNames);\r\n        }\r\n\r\n        var verifyingPromise = self.verifyName(url, ticket, folderId, nameCandidates);\r\n        verifyingPromise.done(function (data) {\r\n            if (data.results && data.results.length === 0) {\r\n                nameInfo.suggestedName = nameCandidates[0];\r\n                nameInfo.editable = nameConflicted || Array.isArray(ensuredName);\r\n                nameInfo.hasConflict = nameConflicted || Array.isArray(ensuredName);\r\n                resolvedNames.push(nameCandidates[0]);\r\n                defer.resolve();\r\n            } else if (data.results.length === nameCandidates.length) {\r\n                var subPromise = self.resolveName(url, ticket, folderId, nameCandidates, nameInfo, resolvedNames);\r\n                subPromise.done(function (result){\r\n                    defer.resolve();\r\n                });\r\n                subPromise.fail(function (error){\r\n                    defer.reject(error);\r\n                });\r\n            } \r\n            else {\r\n                for (var i = 0; i < nameCandidates.length; i++){\r\n                    var candidate = nameCandidates[i];\r\n                    var exist = false;\r\n                    for (var j = 0; j < data.results.length; j++){\r\n                        var existName = data.results[j].name;\r\n                        if (candidate.toUpperCase() === existName.toUpperCase()){\r\n                            exist = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (exist){\r\n                        continue;\r\n                    } else {\r\n                        nameInfo.suggestedName = candidate;\r\n                        nameInfo.editable = nameConflicted || i !== 0;\r\n                        nameInfo.hasConflict = nameConflicted || i !== 0;\r\n                        resolvedNames.push(candidate);\r\n                        break;\r\n                    }\r\n                }\r\n                defer.resolve();\r\n            }\r\n\r\n        });\r\n        verifyingPromise.fail(function (error, errorDetail) {\r\n            // test and verify session expire\r\n            if (error.status === 401) {\r\n                self.reauthenticate(lang.warning_session_expired);\r\n            } else {\r\n                // Passing the error as a resolved result instead of rejecting it.\r\n                defer.reject(_.str.sformat(lang.error_validate_name, WkspUtil.getErrorMessage(error)));\r\n            }\r\n        });\r\n\r\n        return defer.promise();\r\n    }\r\n\r\n    function prepareNames(name, nameCount, existingNames){\r\n        var initialRequest = Array.isArray(name) ? false : true;\r\n        var baseName = initialRequest ? name : name[name.length-1];\r\n\r\n        var ext = \"\",\r\n            namePart = baseName,\r\n            lastDot = baseName.lastIndexOf(\".\");\r\n\r\n        if (lastDot >= 0){\r\n            ext = baseName.substring(lastDot).trim();\r\n            namePart = baseName.substring(0, lastDot);\r\n        }\r\n\r\n        var regEx = /.*\\((\\d+)\\)$/g;\r\n        var match = regEx.exec(namePart);\r\n        var sequence = 1,\r\n            nameSeed = \"\",\r\n            hasSequence = false;\r\n\r\n        if (match !== null && match.length > 1){\r\n            sequence = parseInt(match[1], 10);\r\n            if (!initialRequest){\r\n                sequence++;\r\n            }\r\n            hasSequence = true;\r\n            nameSeed = namePart.substring(0, namePart.lastIndexOf(\"(\"));\r\n        } else {\r\n            nameSeed = namePart;\r\n        }\r\n        nameSeed = nameSeed.trim();\r\n        \r\n        // If not specified, generate 5 name candidates to reduce possible multiple calls\r\n        var count = typeof nameCount === \"undefined\" || nameCount < 1 ? 5 : nameCount;\r\n        var alreadyExistedNames = typeof existingNames === \"undefined\" ? [] : existingNames;\r\n\r\n        var candidates = [],\r\n            index = 0;\r\n        while (index < count){\r\n            var candidate;\r\n            if (initialRequest && !hasSequence){\r\n                candidate = nameSeed + ext;\r\n                initialRequest = false;\r\n            } else {\r\n                candidate = nameSeed + \" (\" + sequence + \")\" + ext;\r\n                sequence++;\r\n            }\r\n\r\n            if (!this.nameExists(alreadyExistedNames, candidate)){\r\n                candidates.push(candidate);\r\n                index++;\r\n            }\r\n        }\r\n\r\n        return candidates;\r\n    }\r\n\r\n    function nameExists(nameArray, name){\r\n        if (!Array.isArray(nameArray) || nameArray.length === 0){\r\n            return false;\r\n        }\r\n        for (var i = 0; i < nameArray.length; i++){\r\n            if (name.toUpperCase() === nameArray[i].toUpperCase()){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/dialog/impl/nameControl',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\r\\n<td id=\\\"checkboxTd\\\" class=\\\"emailSaveIconTd hiddenArea\\\">\\r\\n    <button type=\\\"button\\\" id=\\\"checkButton\\\" role=\\\"checkbox\\\" class=\\\"checkbox csui-control csui-checkbox\\\" tabindex=\\\"0\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.saveLabel || (depth0 != null ? depth0.saveLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"saveLabel\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n        <span class=\\\"checkboxIcon\\\" id=\\\"checkboxIcon\\\"></span>\\r\\n    </button>\\r\\n</td>\\r\\n<td id=\\\"itemIconTd\\\" class=\\\"emailSaveIconTd hiddenArea\\\"> \\r\\n    <span class=\\\"wkspItemIcon\\\"><div id=\\\"itemIcon\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.typeName || (depth0 != null ? depth0.typeName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"typeName\",\"hash\":{}}) : helper)))\n    + \"\\\"></div></span>\\r\\n</td>\\r\\n<td class=\\\"emailSaveNameTd\\\">\\r\\n    <div style=\\\"\\\" class=\\\"wkspInput nameBox textReadonly textNoWrap\\\" id=\\\"itemName\\\" tabindex=\\\"-1\\\"><span></span></div>\\r\\n</td>\\r\\n<td id=\\\"editButtonTd\\\" class=\\\"emailSaveIconTd hiddenArea\\\">\\r\\n    <span id=\\\"itemEditIcon\\\" class=\\\"nameEdit\\\" disabled tabindex=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.tabIndex || (depth0 != null ? depth0.tabIndex : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"tabIndex\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n</td>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_dialog_impl_nameControl', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!conws/widgets/outlook/impl/conwsoutlook',[],function(){});\n","csui.define('conws/widgets/outlook/impl/dialog/nameControl.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',                             \r\n    'csui/lib/marionette',                             \r\n    'csui/lib/backbone',\r\n    'csui/utils/contexts/page/page.context',\r\n    'csui/utils/nodesprites',\r\n\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/utils/csservice',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',       \r\n    'hbs!conws/widgets/outlook/impl/dialog/impl/nameControl',\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'         \r\n], function ($, _, Marionette, Backbone, PageContext, NodeSprites, WkspUtil, CSService, lang, template) {\r\n\r\n    var nameControlView = Marionette.CompositeView.extend({\r\n\r\n    tagName: \"tr\",\r\n\r\n    template: template,\r\n\r\n\r\n    ui: {\r\n        \r\n    },\r\n\r\n    events: {\r\n        'click #saveSelectionBack': 'backToPreSave',\r\n        'click #itemEditIcon': 'toggleEdit',\r\n        'click #checkButton': 'clickCheckbox',\r\n        'keyup #itemName': 'nameTyping',\r\n        'blur #itemName': 'ensureName',\r\n        'keyup #itemEditIcon': 'processKey'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n        return {\r\n            iconClass: this.mimeType,\r\n            tabIndex: this.checked ? \"0\" : \"-1\",\r\n            saveLabel: lang.save_label\r\n        }\r\n    },\r\n\r\n    initialize: function(options) {\r\n        \r\n    },\r\n\r\n    constructor: function nameControlView(options) {\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        var self = this;\r\n\r\n        var data = options.model != null ? options.model.get('data') : options.data;\r\n\r\n        if (data != null){\r\n            this.showOriginalName = data.showOriginalName != null ? data.showOriginalName : false;\r\n            this.hasConflict = data.hasConflict != null ? data.hasConflict : false;\r\n            var name = \"\";\r\n            if (this.showOriginalName && this.hasConflict){\r\n                name = data.name ? data.name : lang.name_untitled;\r\n            } else {\r\n                name = data.suggestedName ? data.suggestedName : (data.name ? data.name : lang.name_untitled);\r\n            }\r\n            this.name = name;\r\n\r\n            this.showCheckbox = data.showCheckbox != null ? data.showCheckbox : true;\r\n            this.checkboxDisabled = data.checkboxDisabled != null ? data.checkboxDisabled : false;\r\n            this.checked = data.checked != null ? data.checked : false;\r\n            this.showEditButton = data.showEditButton != null ? data.showEditButton : true;\r\n            this.editable = this.showEditButton ? (data.editable != null ? data.editable : false) : false;\r\n            this.showIcon = data.showIcon != null ? data.showIcon : true;\r\n            this.mimeType = data.mimeType ? data.mimeType : \"\";\r\n            this.wrapping = data.wrapping != null ? data.wrapping : false;\r\n            this.focus = this.editable && (data.hasConflict != null ? data.hasConflict : false);\r\n            this.avoidHighlight = data.avoidHighlight != null ? data.avoidHighlight : false;\r\n        }\r\n\r\n        self.renderForm();\r\n    },\r\n\r\n    processKey: function(e){\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"itemEditIcon\"){\r\n                this.toggleEdit(e);\r\n            }\r\n        }\r\n\r\n        //if (e.which === 9 && e.target.id === \"folderNameDiv\"){\r\n         //   this.showActionBar(e);\r\n        //}\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;\r\n        var msgArea = self.$('#saveMsgArea');\r\n\r\n        if (msg) {\r\n            msgArea.css(\"display\", \"block\");\r\n            msgArea.html(msg);\r\n        } else {\r\n            msgArea.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    renderForm: function (model, response, options) {\r\n        var self = this;\r\n        //self.render();\r\n\r\n        setTimeout(\r\n            function(){\r\n                self.$(\"#itemName\").text(self.name);\r\n                if (self.showCheckbox){\r\n                    self.$(\"#checkboxTd\").removeClass(\"hiddenArea\");\r\n                }\r\n                if (self.editable){\r\n                    self.$(\"#editButtonTd\").removeClass(\"hiddenArea\");\r\n                    self.switchEditMode(true, self.focus);\r\n                }\r\n                if (self.checked){\r\n                    // the edit button is clickable when this item is checked, even when the checkbox is hidden\r\n                    self.$(\"#checkboxIcon\").addClass(\"checkboxSelected\");\r\n                    self.$(\"#itemEditIcon\").removeAttr(\"disabled\");\r\n                }\r\n                if (self.checkboxDisabled){\r\n                    self.$(\"#checkboxIcon\").removeClass(\"checkboxSelected\");\r\n                    self.$(\"#checkboxIcon\").addClass(\"checkboxDisabled\");\r\n                } \r\n                if (self.showEditButton){\r\n                    self.$(\"#editButtonTd\").removeClass(\"hiddenArea\");\r\n                }\r\n                if (self.showIcon){\r\n                    self.$(\"#itemIconTd\").removeClass(\"hiddenArea\");\r\n\r\n                    var css = \"icon \" + NodeSprites.findClassByNode({mime_type: self.mimeType});\r\n                    self.$(\"#itemIcon\").addClass(css);\r\n                }\r\n                if (self.wrapping){\r\n                    var nameEditor = self.$(\"#itemName\");\r\n                    nameEditor.removeClass(\"textNoWrap\");\r\n                    //nameEditor[0].style.height = \"1px\";\r\n                    nameEditor[0].style.height = (nameEditor[0].scrollHeight) + \"px\";\r\n                } \r\n                \r\n            }\r\n        )\r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(msg);\r\n    },\r\n\r\n    toggleEdit: function (args){\r\n        var self = this;\r\n        var editable = args.target.classList.contains(\"editCancelIcon\");\r\n        self.switchEditMode(!editable, true);\r\n        self.avoidHighlight = false;\r\n    },\r\n\r\n    switchEditMode: function (editable, focus){\r\n        var self = this;\r\n        var nameEditor = self.$(\"#itemName\");\r\n        if (editable){\r\n            self.$(\"#itemEditIcon\").addClass(\"editCancelIcon\");\r\n            nameEditor.removeClass(\"textReadonly\");\r\n            nameEditor.prop(\"contenteditable\", true);\r\n            nameEditor.attr('tabindex', \"0\");\r\n\r\n            //if (!self.wrapping){\r\n                nameEditor.removeClass(\"textNoWrap\");\r\n                setTimeout(function(){\r\n                    if ( nameEditor[0].scrollHeight >= 30){\r\n                        nameEditor[0].style.height = ( nameEditor[0].scrollHeight) + \"px\";\r\n                    }\r\n                });\r\n                \r\n            //}\r\n\r\n            if (focus){\r\n                setTimeout(function(){\r\n                    self.highlightName();\r\n                });\r\n                \r\n            }\r\n        }else{\r\n            self.$(\"#itemEditIcon\").removeClass(\"editCancelIcon\");\r\n            nameEditor.addClass(\"textReadonly\");\r\n            nameEditor.prop(\"contenteditable\", false);\r\n            nameEditor.attr('tabindex', \"-1\");\r\n\r\n            if (!self.wrapping){\r\n                nameEditor.addClass(\"textNoWrap\");\r\n                nameEditor[0].style.removeProperty(\"height\");\r\n            }\r\n        }\r\n    },\r\n\r\n    clickCheckbox: function (args){\r\n        var self = this,\r\n            checkbox = self.$(\"#checkboxIcon\"),\r\n            edit = self.$(\"#itemEditIcon\");\r\n\r\n        if (checkbox.hasClass(\"checkboxDisabled\")){\r\n            return;\r\n        }\r\n\r\n        var checked = checkbox.hasClass(\"checkboxSelected\");\r\n        var tabIndex = \"-1\",\r\n            nameEditor = self.$(\"#itemName\");\r\n        if (checked){\r\n            checkbox.removeClass(\"checkboxSelected\");\r\n            edit.attr(\"disabled\", \"disabled\");\r\n            edit.removeClass(\"editCancelIcon\");\r\n            nameEditor.addClass(\"textReadonly\");\r\n            nameEditor.prop(\"contenteditable\", false);\r\n\r\n            if (!self.wrapping){\r\n                nameEditor.addClass(\"textNoWrap\");\r\n                nameEditor[0].style.removeProperty(\"height\");\r\n            }\r\n        } else{\r\n            checkbox.addClass(\"checkboxSelected\");\r\n            edit.removeAttr(\"disabled\");\r\n            tabIndex = \"0\";\r\n        }\r\n\r\n        edit.attr('tabindex', tabIndex);\r\n    },\r\n\r\n    nameTyping: function(event) {\r\n        var inputs = this.$(\"#itemName\");\r\n        if (inputs.length === 0) {\r\n            return;\r\n        }\r\n        if (inputs.hasClass(\"textReadonly\")){\r\n            return;\r\n        }\r\n        var nameInput = inputs[0];\r\n        if (nameInput.scrollHeight >= 30){\r\n            nameInput.style.height = \"1px\";\r\n            nameInput.style.height = (nameInput.scrollHeight) + \"px\";\r\n        }\r\n    },\r\n\r\n    ensureName: function(event){\r\n        var self = this;\r\n        if (!self.$(\"#itemName\").text().trim()){\r\n            self.$(\"#itemName\").text(lang.name_untitled);\r\n        }\r\n    },\r\n\r\n    backToPreSave: function(args){\r\n        WkspUtil.uiShow(WkspUtil.PreSaveSection);\r\n        if (WkspUtil.PreSaveSection === \"standardSections\"){\r\n            WkspUtil.uiShow(\"customSearchButton\");\r\n        }\r\n        WkspUtil.uiHide(\"saveSelectionPanel\");\r\n        WkspUtil.uiHide(\"savePanel\");\r\n    },\r\n\r\n    backToStandard: function(args){\r\n        WkspUtil.uiShow(\"standardSections\");\r\n        WkspUtil.uiShow(\"customSearchButton\");\r\n        WkspUtil.uiHide(\"customSearchSection\");\r\n    },\r\n\r\n    highlightName: function(){\r\n        var self = this;\r\n        var nameText = self.$(\"#itemName\")[0];\r\n\r\n        if (!self.avoidHighlight){\r\n            nameText.focus();\r\n\r\n            var range;\r\n            if (document.selection) { // IE\r\n                range = document.body.createTextRange();\r\n                range.moveToElementText(nameText);\r\n                range.select();\r\n            } else if (window.getSelection) {\r\n                range = document.createRange();\r\n                range.selectNodeContents(nameText);\r\n                window.getSelection().removeAllRanges();\r\n                window.getSelection().addRange(range);\r\n            }\r\n        }\r\n    }\r\n\r\n  });\r\n\r\n  return nameControlView;\r\n\r\n});\r\n\n","csui.define('conws/widgets/outlook/impl/metadata/impl/metadata.forms.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/widgets/metadata/metadata.forms',\r\n  'csui/utils/contexts/factories/connector'\r\n], function (module, _, Backbone, CollectionFactory, \r\n    CreateFormCollection, ConnectorFactory) {\r\n\r\n  var CreateFormCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'createForm',\r\n    widgetID: '',\r\n\r\n    constructor: function CreateFormCollectionFactory(context, options) {\r\n      options || (options = {});\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var createForms = {};\r\n      if (!(createForms instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config    = module.config();\r\n        createForms = new CreateFormCollection(createForms.models, _.extend({\r\n          connector: connector,\r\n          action: \"create\",\r\n          container: options.container,\r\n          node: options.node,\r\n          autoreset: true\r\n        }, createForms.options, config.options));\r\n      }\r\n      this.property = createForms;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(this.options);\r\n    }\r\n\r\n  });\r\n\r\n  return CreateFormCollectionFactory;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/metadata/impl/form.item',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"binf-panel-heading outlook-heading hiddenArea\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"\\\" id=\\\"propertyTitle\\\">\\r\\n    <span class=\\\"headerIcon sectionToggleIcon\\\" id=\\\"toggleIcon\\\" tabindex=\\\"0\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n    <span>\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n</div>\\r\\n<div id=\\\"propertyForm\\\" class=\\\"metadata-formitems\\\"></div>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_metadata_impl_form.item', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/metadata/form.item.view',['csui/lib/marionette',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n\r\n  'csui/controls/form/form.view',\r\n  'conws/widgets/outlook/impl/utils/utility',\r\n  'hbs!conws/widgets/outlook/impl/metadata/impl/form.item'\r\n], function (Marionette, _, $, FormView, WkspUtil, FormItemTemplate) {\r\n\r\n  var MetadataFormItemView = Marionette.ItemView.extend({\r\n    tag: 'div',\r\n    className: \"customsearch-attr-container\",  // Rely on custom view search widget styles to render the form, with minimum overwrites. \r\n\r\n    events: {\r\n      'click #toggleIcon': 'clickToggle',\r\n      'keyup #toggleIcon': 'processKeyUp'\r\n  },\r\n\r\n    templateHelpers: function () {\r\n      var roleName = this.model.get(\"role_name\"),\r\n          title = this.model.get(\"title\"),\r\n          id = this.model.get(\"id\");\r\n\r\n      return {\r\n        title: roleName === \"categories\" ? title : id,\r\n        toggleStatus: this.expended ? WkspUtil.ToggleStatusCollapse : WkspUtil.ToggleStatusExpand\r\n      }\r\n    },\r\n\r\n    constructor: function MetadataFormItemView(options) {\r\n      options || (options = {});\r\n      this.options = options;\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      this.model.on('error', this.errorHandle, this);\r\n      this.options.hideNotRequired = options.hideNotRequired || false;\r\n      this.expended = true;\r\n    },\r\n\r\n    template: FormItemTemplate,\r\n\r\n    onRender: function (e) {\r\n      var formItemRegion = new Marionette.Region({\r\n            el: this.$el.find('.metadata-formitems')\r\n          }),\r\n          formView = new FormView({\r\n            context: this.options.context,\r\n            model: this.model,\r\n            layoutMode: 'singleCol',\r\n            mode: 'create',\r\n            node: this.model.node,\r\n            templateId: this.model.attributes.data.templateId\r\n          });\r\n    \r\n      formItemRegion.show(formView);\r\n      formView.hideNotRequired(this.options.hideNotRequired); \r\n      if (this.options.hideNotRequired && !this.options.hasRequiredField){\r\n        this.$(\"#propertyTitle\").addClass(\"hiddenArea\");\r\n      } else {\r\n        this.$(\"#propertyTitle\").removeClass(\"hiddenArea\");\r\n      }\r\n\r\n      if (this.options.requiredFormCount === 1){\r\n        this.$(\"#toggleIcon\").css(\"display\", \"none\");\r\n      }\r\n      this.formView = formView;\r\n    },\r\n\r\n    onRenderForm: function () {\r\n      this.options.objectView.triggerMethod(\"render:form\");\r\n      return;\r\n    },\r\n\r\n    switchToHide: function(hide){\r\n      this.formView.hideNotRequired(hide);\r\n      if (hide && !this.options.hasRequiredField){\r\n        this.$(\"#propertyTitle\").addClass(\"hiddenArea\");\r\n      } else {\r\n        this.$(\"#propertyTitle\").removeClass(\"hiddenArea\");\r\n      }\r\n    },\r\n\r\n    clickToggle: function(e){\r\n      this.$(\"#toggleIcon\").toggleClass(\"sectionExpended\");\r\n      if (this.expended){\r\n        this.$(\"#propertyForm\").addClass(\"hiddenArea\");\r\n        this.expended = false;\r\n      } else {\r\n        this.$(\"#propertyForm\").removeClass(\"hiddenArea\");\r\n        this.expended = true;\r\n      }\r\n    },\r\n\r\n    processKeyUp: function(e){\r\n      if (e.which === 13) {\r\n          if (e.target.id === \"toggleIcon\"){\r\n              this.clickToggle(e);\r\n          }\r\n      }\r\n    },\r\n  });\r\n\r\n  return MetadataFormItemView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/metadata/impl/metadata.forms',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"csui-saved-search-form\\\" id=\\\"metadata-forms\\\"></div>\\r\\n<div class=\\\"header-right\\\">\\r\\n    <div class=\\\"required-field-switch\\\">\\r\\n        <span id=\\\"requiredFieldsLabelId\\\" class=\\\"only-required-fields-label\\\"\\r\\n              aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.requiredFieldsSwitchTitle || (depth0 != null ? depth0.requiredFieldsSwitchTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"requiredFieldsSwitchTitle\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.requiredFieldsSwitchTitle || (depth0 != null ? depth0.requiredFieldsSwitchTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"requiredFieldsSwitchTitle\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n              <div id=\\\"required-fields-switch\\\" class=\\\"required-fields-switch\\\"></div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_metadata_impl_metadata.forms', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/metadata/metadata.forms.view',['csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/backbone',\r\n  'csui/lib/jsonpath',\r\n  'csui/controls/tile/behaviors/blocking.behavior',\r\n    \r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/utils/contexts/page/page.context',\r\n  'csui/controls/form/fields/booleanfield.view',\r\n\r\n  'conws/widgets/outlook/impl/metadata/impl/metadata.forms.factory',\r\n  'conws/widgets/outlook/impl/metadata/form.item.view',\r\n  'conws/widgets/outlook/impl/utils/utility',\r\n\r\n  'i18n!conws/widgets/outlook/impl/nls/lang',\r\n  'hbs!conws/widgets/outlook/impl/metadata/impl/metadata.forms'\r\n], function (_, $, Marionette, Backbone, jsonPath, BlockingBehavior,\r\n    PerfectScrollingBehavior, NodeModelFactory, PageContext, BooleanFieldView,  \r\n    CreateFormsFactory, MetadataFormItemView, WkspUtil, lang, MetadataFormsTemplate) {\r\n\r\n  var MetadataFormsView = Marionette.LayoutView.extend({\r\n    className: \"csui-custom-view-search\", // Rely on custom view search widget styles to render the form, with minimum overwrites.\r\n\r\n    templateHelpers: function () {\r\n      var messages = {\r\n        requiredFieldsTitle: lang.required_fields_title, \r\n        requiredFieldsSwitchTitle: lang.required_fields_switchLabel\r\n      };\r\n      return messages;\r\n    },\r\n\r\n    behaviors: {\r\n      Blocking: {\r\n        behaviorClass: BlockingBehavior\r\n      },\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: \".csui-saved-search-form\",\r\n        scrollYMarginOffset: 15\r\n      }\r\n    },\r\n    regions: {\r\n      requiredSwitchRegion: \"#required-fields-switch\"\r\n    },\r\n\r\n    constructor: function MetadataFormsView(options) {\r\n      options = options || {};\r\n      options.data || (options.data = {});\r\n      this.context = options.context || (new PageContext());\r\n      this.parentView = options.parentView;\r\n\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n      \r\n      options.container = this.context.getModel(NodeModelFactory, {attributes: {id: options.parentId }, connector: WkspUtil.getConnector()});\r\n      options.node = this.context.getModel(NodeModelFactory, {attributes: {type: 144, docParentId: options.parentId}, connector: WkspUtil.getConnector()});\r\n     \r\n      this.model = this.context.getCollection(CreateFormsFactory, options);\r\n\r\n      this.options.context = this.context;\r\n\r\n      this.listenTo(this.model, \"sync\", this.renderForms);\r\n\r\n      this.categoryChecked = false;\r\n      this.hasRequired = false; // including all forms except the 'general' form\r\n      this.requiredFormCount = 0;\r\n\r\n      this.requiredFieldSwitchModel = new Backbone.Model({data: false});\r\n\r\n      this.$el.on({\r\n        \"change input\": _.bind(this._refreshDOM, this)\r\n      });\r\n\r\n      this.model.fetch();\r\n\r\n    },\r\n\r\n    _refreshDOM: function () {\r\n      setTimeout(_.bind(function() {\r\n        this.triggerMethod('dom:refresh');\r\n      }, this), 500);\r\n    },\r\n\r\n    template: MetadataFormsTemplate,\r\n\r\n    renderForms: function (e) {\r\n      var self = this;\r\n      if (self.model.length > 0){\r\n          self.checkRequired(self.model.models);\r\n          \r\n          self.formViews = [];\r\n          var formView;\r\n\r\n          for(var i = 0; i < self.model.length; i++){\r\n            var m = self.model.models[i];\r\n            if (m.id === \"general\"){\r\n              continue;\r\n            } else if (m.get(\"role_name\") === \"categories\"){\r\n              if (self.hasRequired){\r\n                // show all category forms as long as there is any required field, even it is not from a category.\r\n                formView = new MetadataFormItemView(_.extend(self.options, {model: m, hideNotRequired: false, hasRequiredField: m.attributes.hasRequiredField, requiredFormCount: self.requiredFormCount}));\r\n                self.formViews.push(formView);\r\n                self.appendView(\"view\" + i, formView);\r\n              }\r\n            } else {\r\n              if (m.attributes.hasRequiredField){\r\n                formView = new MetadataFormItemView(_.extend(self.options, {model: m, hideNotRequired: false, hasRequiredField: true, requiredFormCount: self.requiredFormCount}));\r\n                self.formViews.push(formView);\r\n                self.appendView(\"view\" + i, formView);\r\n              }\r\n            }\r\n          }\r\n\r\n          if (self.hasRequired){\r\n            self.requiredFieldSwitchView = new BooleanFieldView({\r\n              mode: 'writeonly',\r\n              model: self.requiredFieldSwitchModel,\r\n              labelId: 'requiredFieldsLabelId'\r\n            }); \r\n            self.getRegion(\"requiredSwitchRegion\").show(self.requiredFieldSwitchView);\r\n            self.listenTo(self.requiredFieldSwitchView, 'field:changed', function (event) {\r\n              self.toggleRequiredFields(event.fieldvalue);  \r\n            });\r\n          }\r\n\r\n          self.parentView.metadataFormRetrieved = true;\r\n          self.parentView.model.set(\"hasRequired\", self.hasRequired);\r\n\r\n          self.parentView.processMetadata();\r\n\r\n      }\r\n    },\r\n\r\n    checkRequired: function(models){\r\n      var self = this,\r\n          categoryFormCount = 0;\r\n\r\n      if (!self.categoryChecked){\r\n        self.categoryChecked = true;\r\n        for (var i = 0; i < models.length; i++){\r\n          var m = models[i];\r\n          if (m.id === \"general\"){\r\n            continue;\r\n          }\r\n          if (m.get(\"role_name\") === \"categories\"){\r\n            categoryFormCount++;\r\n          }\r\n\r\n          m.attributes.hasRequiredField = false;\r\n          var reqFields = jsonPath(m.attributes.schema.properties, \"$..[?(@.required===true)]\");\r\n          if (_.isArray(reqFields) && reqFields.length > 0){\r\n            self.hasRequired = true;\r\n            m.attributes.hasRequiredField = true;\r\n            if (m.get(\"role_name\") !== \"categories\"){\r\n              self.requiredFormCount++;\r\n            }\r\n          }\r\n        }\r\n        if (self.hasRequired){\r\n          self.requiredFormCount = self.requiredFormCount + categoryFormCount; // we only care of it is > 1 or not.\r\n        }\r\n      }\r\n    },\r\n\r\n    toggleRequiredFields: function(hideNotRequired){\r\n      _.each(this.formViews, function(view){\r\n        view.switchToHide(hideNotRequired);\r\n      })\r\n    },\r\n\r\n    getValuesToParent: function(e){\r\n      var allValid = true,\r\n          value = {roles: {categories:{}}};\r\n\r\n      _.each(this.formViews, function(view){\r\n        if (!view.formView.validate()){\r\n          allValid = false;\r\n          return;\r\n        }\r\n        var roleName = view.formView.model.get(\"role_name\");\r\n        if (roleName === \"categories\"){\r\n          value.roles.categories[view.formView.model.id] = view.formView.getValues();\r\n        } else {\r\n          value.roles[roleName] = view.formView.getValues();\r\n        }\r\n      })\r\n      if (allValid){\r\n        this.parentView.metadataValue = value;\r\n      }\r\n      return allValid;\r\n    },\r\n\r\n    appendView: function(viewId, newView){\r\n      var self = this;\r\n      self.$el.append('<div id=\"view' + viewId + '\">');\r\n      self.addRegion('view' + viewId, '#view' + viewId);\r\n      self['view' + viewId].show(newView);\r\n    },\r\n\r\n  });\r\n  return MetadataFormsView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/dialog/impl/saveSection',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div id=\\\"saveDisplayArea\\\" class=\\\"saveDisplayArea\\\">\\r\\n    <div id=\\\"saveSelectionPanel\\\" class=\\\"hiddenArea\\\">\\r\\n        <div class=\\\"binf-panel-heading outlook-heading\\\" >\\r\\n            <span class=\\\"headerIcon backwardIcon\\\" tabindex=\\\"0\\\" id=\\\"saveSectionBack\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.backLabel || (depth0 != null ? depth0.backLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"backLabel\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.backLabel || (depth0 != null ? depth0.backLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"backLabel\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n            <span id=\\\"saveSectionTitle\\\"></span>\\r\\n        </div>\\r\\n        <div class=\\\"infoMessage\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.saveInfo || (depth0 != null ? depth0.saveInfo : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"saveInfo\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n        \\r\\n        <div id=\\\"saveMessageArea\\\" class=\\\"hiddenArea warningMessage\\\">\\r\\n            <span class=\\\"headerIcon warningIcon\\\"></span>\\r\\n            <span id=\\\"saveMessage\\\" style=\\\"display: table;\\\"></span>\\r\\n        </div>\\r\\n        \\r\\n        <div id=\\\"saveEmailDiv\\\" style=\\\"padding: 5px 5px 5px 30px;\\\">\\r\\n            <div style=\\\"padding: 5px 0 5px 0\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.saveEmailText || (depth0 != null ? depth0.saveEmailText : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"saveEmailText\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            <table style=\\\"width:100%;\\\">\\r\\n                <tr>\\r\\n                    <td class=\\\"emailSaveNameTd\\\" style=\\\"padding: 0;\\\">\\r\\n                        <table id=\\\"emailName\\\" class=\\\"emailSaveTable\\\"></table>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </table>\\r\\n            \\r\\n        </div>\\r\\n        <div id=\\\"saveAttachmentDiv\\\" style=\\\"padding: 10px 5px 5px 30px;\\\">\\r\\n            <div style=\\\"padding: 5px 0 5px 0\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.saveAttachmentText || (depth0 != null ? depth0.saveAttachmentText : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"saveAttachmentText\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            <table style=\\\"width:100%;\\\">\\r\\n                <tr id=\\\"attachmentOptionTr\\\">\\r\\n                    <td class=\\\"emailSaveIconTd\\\">\\r\\n                        <button type=\\\"button\\\" id=\\\"saveAttachmentCheckbox\\\" role=\\\"checkbox\\\" class=\\\"checkbox csui-control csui-checkbox\\\" tabindex=\\\"0\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.saveLabel || (depth0 != null ? depth0.saveLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"saveLabel\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n                            <span class=\\\"checkboxIcon\\\" id=\\\"saveAttachmentCheckboxIcon\\\"></span>\\r\\n                        </button>\\r\\n                    </td>\\r\\n                    <td class=\\\"emailSaveNameTd\\\"> \\r\\n                        <span style=\\\"padding: 0 0 0 8px;\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.saveAttachmentOption || (depth0 != null ? depth0.saveAttachmentOption : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"saveAttachmentOption\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n                <tr>\\r\\n                    <td colspan=\\\"2\\\" class=\\\"emailSaveNameTd\\\" style=\\\"padding: 10px 3px 5px 0;\\\">\\r\\n                        <table id=\\\"emailAttachment\\\" class=\\\"emailSaveTable\\\"></table>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </table>\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <div id=\\\"metadataPanel\\\" class=\\\"hiddenArea metadataForm\\\">\\r\\n        <div class=\\\"binf-panel-heading outlook-heading\\\" >\\r\\n            <span class=\\\"headerIcon backwardIcon\\\" tabindex=\\\"0\\\" id=\\\"metadataFormBack\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.backLabel || (depth0 != null ? depth0.backLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"backLabel\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.backLabel || (depth0 != null ? depth0.backLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"backLabel\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n            <span>\"\n    + this.escapeExpression(((helper = (helper = helpers.requiredFieldsTitle || (depth0 != null ? depth0.requiredFieldsTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"requiredFieldsTitle\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n        </div>\\r\\n        <div class=\\\"infoMessage\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.saveInfo || (depth0 != null ? depth0.saveInfo : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"saveInfo\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n        <div id=\\\"metadataMessageArea\\\" class=\\\"hiddenArea warningMessage\\\">\\r\\n            <span class=\\\"headerIcon warningIcon\\\"></span>\\r\\n            <span id=\\\"metadataMessage\\\" style=\\\"display: table;\\\"></span>\\r\\n        </div>\\r\\n        <div id=\\\"metadataDiv\\\"></div>\\r\\n    </div>\\r\\n\\r\\n    <div id=\\\"saveResultPanel\\\" class=\\\"hiddenArea\\\">\\r\\n        <div class=\\\"binf-panel-heading outlook-heading\\\" >\\r\\n            <span id=\\\"saveResultTitle\\\"></span>\\r\\n        </div>    \\r\\n        <div id=\\\"saveResult\\\" style=\\\"position:relative; padding: 0 25px 0 25px; line-height: 150%\\\"></div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"wkspMessageArea\\\" id=\\\"saveMsgArea\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"saveSectionButton outlook-heading binf-panel-heading\\\" id=\\\"saveNextButton\\\" tabindex=\\\"0\\\"></div>\\r\\n\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_dialog_impl_saveSection', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/dialog/saveSection.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',                             \r\n    'csui/lib/marionette3',                             \r\n    'csui/lib/backbone',\r\n    'csui/utils/contexts/page/page.context',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/utils/csservice',\r\n    'conws/widgets/outlook/impl/utils/emailservice',\r\n    'conws/widgets/outlook/impl/dialog/nameControl.view',\r\n    'conws/widgets/outlook/impl/metadata/metadata.forms.view',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',       \r\n    'hbs!conws/widgets/outlook/impl/dialog/impl/saveSection',\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'         \r\n], function ($, _, Marionette, Backbone, PageContext, WkspUtil, CSService, EmailService, NameView, MetadataFormsView, lang, template) {\r\n\r\n    var saveSectionView = Marionette.CompositeView.extend({\r\n\r\n    template: template,\r\n\r\n    childView: NameView,\r\n    childEvents:{\r\n        'change:status': 'onStatusChange'\r\n    },\r\n\r\n\r\n    childViewContainer: '#emailAttachment',\r\n\r\n    events: {\r\n        'click #saveSectionBack': 'clickBack',\r\n        'click #saveEmailDiv #checkButton': 'clickSaveEmail',\r\n        'click #saveAttachmentCheckbox': 'clickSaveAttachment',\r\n        'click #saveAttachmentDiv #checkButton': 'clickOneAttachment',\r\n        'click #saveNextButton': 'clickNext',\r\n        'keyup #saveSectionBack, #saveNextButton, #metadataFormBack': 'processKey',\r\n        'click #metadataFormBack': 'clickMetadataBack'\r\n    },\r\n\r\n    templateContext: function () {\r\n        return {\r\n            saveEmailText: this.hasAttachment ? lang.save_email_text : lang.save_email_text_noAttachment,\r\n            saveAttachmentText: lang.save_attachment_text,\r\n            saveAttachmentOption: lang.save_attachment_option,\r\n            saveInfo: _.str.sformat(lang.save_email_info, this.folderName),\r\n            requiredFieldsTitle: lang.required_fields_title,\r\n            saveLabel: lang.save_label,\r\n            backLabel: lang.save_button_back\r\n        }\r\n    },\r\n\r\n    initialize: function(options) {\r\n        this.stageCode = {\r\n            initial: 1,\r\n            nameChecking: 2,\r\n            metadata: 3,\r\n            finished: 4\r\n        };\r\n        this.model = new Backbone.Model({});\r\n        //this.listenTo(this.model, 'change', this.processMetadata);\r\n    },\r\n\r\n    constructor: function saveSectionView(options) {\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        var self = this;\r\n        \r\n        self.connector = options.connector;\r\n        self.folderId = options.folderId;\r\n        self.folderName = options.folderName;\r\n\r\n        self.saveStage = self.stageCode.initial; // All saving stages: initial, nameChecking, metadata, finished \r\n        self.saveEmail = true;\r\n        self.nothingToSave = false;\r\n        self.hasAttachment = options.attachments != null && options.attachments.length > 0 ? true : false;\r\n        \r\n        self.attachments = options.attachments;\r\n        self.emailTitleInfo = {name: options.proposedEmailName,\r\n                        showCheckbox: self.hasAttachment,\r\n                        checkboxDisabled: false,\r\n                        editable: false,\r\n                        hasConflict: false,\r\n                        focus: false}\r\n\r\n        self.attachmentInfo = [];\r\n        if (self.attachments != null){\r\n            self.attachments.forEach(function(element){\r\n                self.attachmentInfo.push({\r\n                    data: {\r\n                        name: element.name, \r\n                        id: element.id, \r\n                        mimeType: element.contentType, \r\n                        attachmentType: element.attachmentType,\r\n                        checked: false,\r\n                        focus: false,\r\n                        hasConflict: false\r\n                    }\r\n                });\r\n            })\r\n        }\r\n\r\n        self.metadataFormView = null;\r\n        self.metadataFormRetrieved = false;\r\n        self.hasRequiredMetadata = false;\r\n        self.requiredMetadataResolved = false;\r\n        self.metadataValue = {};\r\n        self.previousStage = self.stageCode.initial;\r\n\r\n        self.saveFailed = false;\r\n        self.saveMessage = \"\";\r\n\r\n        if (self.hasAttachment){\r\n            self.collection = new Backbone.Collection(self.attachmentInfo);\r\n        }\r\n\r\n        self.renderForm();\r\n    },\r\n\r\n    processKey: function(e){\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"saveSectionBack\"){\r\n                this.clickBack(e);\r\n            } else if (e.target.id === \"saveNextButton\"){\r\n                this.clickNext(e);\r\n            } else if (e.target.id === \"metadataFormBack\"){\r\n                this.clickMetadataBack(e);\r\n            }\r\n        }\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;\r\n        var msgArea = self.$('#saveMsgArea');\r\n\r\n        if (msg) {\r\n            msgArea.css(\"display\", \"block\");\r\n            msgArea.html(msg);\r\n        } else {\r\n            msgArea.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    onStatusChange: function(model, value, options){\r\n        this.render();\r\n    },\r\n\r\n    renderForm: function (model, response, options) {\r\n        var self = this;\r\n\r\n       self.renderChildren();\r\n\r\n        if (self.saveStage === self.stageCode.initial){\r\n            WkspUtil.ConflictHighlighted = false;\r\n        }\r\n        \r\n        setTimeout(function(){ \r\n\r\n            $('#saveDisplayArea').css('height', 'calc(100vh - ' + (36 + WkspUtil.TraceAreaHeight) + 'px)');\r\n            $('#saveResult').css('top', 'calc(40vh - ' + (36 + WkspUtil.TraceAreaHeight/2) + 'px)');\r\n            \r\n            var emailNameRegion = new Marionette.Region({\r\n                el: '#emailName'\r\n            });\r\n            var emailTitle = \"\";\r\n            if (self.saveStage === self.stageCode.initial){\r\n                emailTitle = self.emailTitleInfo.name;\r\n            } else {\r\n                var pos = self.emailTitleInfo.suggestedName.lastIndexOf(\".eml\");\r\n                if (pos > 0){\r\n                    emailTitle = self.emailTitleInfo.suggestedName.substring(0, pos);\r\n                } else {\r\n                    emailTitle = self.emailTitleInfo.suggestedName;\r\n                }\r\n            }\r\n            emailNameRegion.show(new NameView({ \r\n                data: {context: self.context,\r\n                       name: self.emailTitleInfo.name,\r\n                       suggestedName: emailTitle,\r\n                       showIcon: false,\r\n                       showCheckbox: self.hasAttachment,\r\n                       checkboxDisabled: !self.hasAttachment,\r\n                       checked: self.saveEmail,\r\n                       wrapping: true,\r\n                       showOriginalName: self.emailTitleInfo.showOriginalName,\r\n                       hasConflict: self.emailTitleInfo.hasConflict,\r\n                       editable: self.emailTitleInfo.editable,\r\n                       focus: self.emailTitleInfo.focus }}));\r\n            \r\n            WkspUtil.uiShow(\"saveSelectionPanel\");\r\n\r\n            self.$(\"#saveNextButton\").text(lang.save_button_next);\r\n            if (self.saveStage === self.stageCode.initial){\r\n                WkspUtil.uiHide(WkspUtil.PreSaveSection);\r\n                if (WkspUtil.PreSaveSection === \"standardSections\"){\r\n                    WkspUtil.uiHide(\"customSearchButton\");\r\n                }\r\n                WkspUtil.uiShow(\"savePanel\");\r\n                WkspUtil.uiShow(\"saveSelectionPanel\");\r\n                self.$(\"#saveSectionTitle\").text(lang.title_save_email);\r\n                WkspUtil.uiHide(\"metadataPanel\");\r\n                WkspUtil.uiHide(\"saveMessageArea\");\r\n            } else if (self.saveStage === self.stageCode.nameChecking) {\r\n                self.$(\"#saveSectionTitle\").text(lang.save_selection_conflict);\r\n                WkspUtil.uiShow(\"saveMessageArea\");\r\n                self.$(\"#saveMessage\").html(lang.save_selection_conflict_msg);\r\n            } else if (self.saveStage === self.stageCode.metadata){\r\n                self.$(\"#saveSectionTitle\").text(lang.required_fields_title);\r\n                WkspUtil.uiShow(\"metadataPanel\");\r\n                WkspUtil.uiHide(\"saveSelectionPanel\");\r\n                WkspUtil.uiHide(\"saveResultPanel\");\r\n            } else if (self.saveStage === self.stageCode.finished){\r\n                WkspUtil.uiHide(\"saveSelectionPanel\");\r\n                WkspUtil.uiHide(\"metadataPanel\");\r\n                WkspUtil.uiShow(\"saveResultPanel\");\r\n                self.$(\"#saveNextButton\").text(lang.save_button_close);\r\n                self.$(\"#saveResult\").text(self.saveMessage);\r\n                self.$(\"#saveResultTitle\").text(self.saveTitle);\r\n            }\r\n            \r\n            var attachmentOption = 0; // 0 unchecked, 1 checked, 2 mixed\r\n            for(var i = 0; i < self.attachmentInfo.length; i++){\r\n                var info = self.attachmentInfo[i].data;\r\n                if (i === 0){\r\n                    attachmentOption = info.checked ? 1 : 0;\r\n                } else if ((info.checked && attachmentOption === 0) ||\r\n                           (!info.checked && attachmentOption === 1)){\r\n                        attachmentOption = 2;\r\n                        break;\r\n                }\r\n            }\r\n            self.$(\"#saveAttachmentCheckboxIcon\").removeClass(\"checkboxSelected checkboxMixed\");\r\n            var attachmentClass = attachmentOption === 1 ? \"checkboxSelected\" : (attachmentOption === 2 ? \"checkboxMixed\" : \"\" );\r\n            self.$(\"#saveAttachmentCheckboxIcon\").addClass(attachmentClass);\r\n\r\n            if (!self.hasAttachment){\r\n                WkspUtil.uiHide(\"saveAttachmentDiv\");\r\n            } else if (self.attachments.length === 1){\r\n                WkspUtil.uiHide(\"attachmentOptionTr\");\r\n            }\r\n\r\n            if (self.nothingToSave){\r\n                WkspUtil.uiShow(\"saveMessageArea\");\r\n                self.$(\"#saveNextButton\").addClass(\"buttonDisabled\");\r\n                self.$(\"#saveMessage\").html(lang.save_noSelection);\r\n            }\r\n        });\r\n        \r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(msg);\r\n    },\r\n\r\n\r\n    clickBack: function(args){\r\n        var self = this;\r\n        if (self.saveStage === self.stageCode.initial){\r\n            WkspUtil.uiShow(WkspUtil.PreSaveSection);\r\n            if (WkspUtil.PreSaveSection === \"standardSections\"){\r\n                WkspUtil.uiShow(\"customSearchButton\");\r\n            }\r\n            WkspUtil.uiHide(\"saveSelectionPanel\");\r\n            WkspUtil.uiHide(\"savePanel\");\r\n            window.scrollTo(0, WkspUtil.ScorllPositionBeforeSaving);\r\n            WkspUtil.ScorllPositionBeforeSaving = -1;\r\n        } else if (self.saveStage === self.stageCode.nameChecking){\r\n            self.emailTitleInfo.showOriginalName = true;\r\n            self.emailTitleInfo.editable = false;\r\n            for (var i = 0; i < self.attachmentInfo.length; i++){\r\n                var info = self.attachmentInfo[i].data;\r\n                info.showOriginalName = true;\r\n                info.editable = false;\r\n            }\r\n            self.saveStage = self.stageCode.initial;\r\n            self.renderForm();\r\n        } else if (self.saveStage === self.stageCode.metadata){\r\n            self.saveStage = self.previousStage;\r\n            self.renderForm();\r\n        }\r\n        $(\"#conwsoutlook-body\").focus();\r\n    },\r\n\r\n    backToStandard: function(args){\r\n        WkspUtil.uiShow(\"standardSections\");\r\n        WkspUtil.uiShow(\"customSearchButton\");\r\n        WkspUtil.uiHide(\"customSearchSection\");\r\n    },\r\n\r\n    clickMetadataBack: function(args){\r\n        WkspUtil.uiShow(\"saveSelectionPanel\");\r\n        WkspUtil.uiHide(\"metadataPanel\");\r\n        this.saveStage = this.previousStage;\r\n        this.$(\"#saveSectionBack\").focus();\r\n    },\r\n\r\n    clickSaveAttachment: function(args){\r\n        var self = this,\r\n            icon = self.$(\"#saveAttachmentCheckboxIcon\");\r\n        var checked = icon.hasClass(\"checkboxSelected\");\r\n        icon.removeClass(\"checkboxMixed\");\r\n        if (checked){\r\n            icon.removeClass(\"checkboxSelected\");\r\n        } else{\r\n            icon.addClass(\"checkboxSelected\");\r\n            if (self.$(\"#saveNextButton\").hasClass(\"buttonDisabled\")){\r\n                self.$(\"#saveNextButton\").removeClass(\"buttonDisabled\");\r\n                WkspUtil.uiHide(\"saveMessageArea\");\r\n            }\r\n        }\r\n\r\n        self.$(\"#saveAttachmentDiv #checkboxIcon\").each(function(i, obj){\r\n            if (checked){\r\n                $(obj).removeClass(\"checkboxSelected\");\r\n            } else{\r\n                $(obj).addClass(\"checkboxSelected\");\r\n            }\r\n        });\r\n\r\n        self.$(\"#saveAttachmentDiv #itemEditIcon\").each(function(i, obj){\r\n            if (checked){\r\n                $(obj).attr(\"disabled\", \"disabled\");\r\n                $(obj).removeClass(\"editCancelIcon\");\r\n                $(obj).attr(\"tabindex\", \"-1\");\r\n            } else{\r\n                $(obj).removeAttr(\"disabled\");\r\n                $(obj).attr(\"tabindex\", \"0\");\r\n            }\r\n        });\r\n\r\n        self.$(\"#saveAttachmentDiv #itemName\").each(function(i, obj){\r\n            if (checked){\r\n                $(obj).addClass(\"textReadonly\");\r\n                $(obj).prop(\"contenteditable\", false);\r\n\r\n                $(obj).addClass(\"textNoWrap\");\r\n                obj.style.removeProperty(\"height\");\r\n            } \r\n        });\r\n    },\r\n\r\n    clickOneAttachment: function(args){\r\n        var self = this;\r\n        var thisCheckbox = args.target; \r\n        if (args.target.id === \"checkButton\"){\r\n            thisCheckbox = args.target.querySelector(\"span\");\r\n        }\r\n        var allBox = self.$(\"#saveAttachmentCheckboxIcon\");\r\n        var attachmentBoxes = self.$(\"#saveAttachmentDiv #checkboxIcon\");\r\n\r\n\r\n        var changeToSelected = thisCheckbox.classList.contains(\"checkboxSelected\") ? true : false;\r\n        var changeToMix = false;\r\n        attachmentBoxes.each(function(i, obj){\r\n            if (obj !== thisCheckbox){\r\n                if (obj.classList.contains(\"checkboxSelected\") !== changeToSelected){\r\n                    changeToMix = true;\r\n                    return false; // 'break' for jQuery loop\r\n                }\r\n            }\r\n        });\r\n\r\n        if (changeToMix) {\r\n            allBox.removeClass(\"checkboxSelected\");\r\n            allBox.addClass(\"checkboxMixed\");\r\n        } else{\r\n            allBox.removeClass(\"checkboxMixed\");\r\n            if (changeToSelected){\r\n                allBox.addClass(\"checkboxSelected\");\r\n            } else {\r\n                allBox.removeClass(\"checkboxSelected\");\r\n            }\r\n        }\r\n\r\n        if (changeToSelected && self.$(\"#saveNextButton\").hasClass(\"buttonDisabled\")){\r\n            self.$(\"#saveNextButton\").removeClass(\"buttonDisabled\");\r\n            WkspUtil.uiHide(\"saveMessageArea\");\r\n        }\r\n    },\r\n\r\n    clickSaveEmail: function(args){\r\n        var self = this;\r\n        if (!self.$(\"#saveEmailDiv #checkButton\").hasClass(\"checkboxSelected\") && \r\n            self.$(\"#saveNextButton\").hasClass(\"buttonDisabled\")){\r\n            self.$(\"#saveNextButton\").removeClass(\"buttonDisabled\");\r\n            WkspUtil.uiHide(\"saveMessageArea\");\r\n        }\r\n    },\r\n\r\n    clickNext: function(args){\r\n        var self = this;\r\n\r\n        if (self.$(\"#saveNextButton\").hasClass(\"buttonDisabled\")){\r\n            return;\r\n        }\r\n\r\n        if (self.saveStage === self.stageCode.initial || self.saveStage === self.stageCode.nameChecking){\r\n            self.previousStage = self.saveStage;\r\n            self.collectInfo();\r\n\r\n            if (self.nothingToSave){\r\n                self.renderForm();\r\n            } else {\r\n                WkspUtil.startGlobalSpinner();\r\n                self.saveStage = self.stageCode.nameChecking;\r\n\r\n                var nameResolvingPromise = CSService.resolveNames(self.connector, self.folderId, self.emailTitleInfo, self.attachmentInfo);\r\n                nameResolvingPromise.done(function(result){\r\n                    var nameCheckingPassed = true;\r\n                    self.savingEmailName = self.emailTitleInfo.checked ? self.emailTitleInfo.suggestedName : \"\";\r\n                    self.savingAttachments = [];\r\n\r\n                    if (self.emailTitleInfo.hasConflict){\r\n                        nameCheckingPassed = false;\r\n                    }\r\n                    \r\n                    for (var i = 0; i < self.attachmentInfo.length; i++){\r\n                        var info = self.attachmentInfo[i].data;\r\n                        if (!nameCheckingPassed){\r\n                            info.avoidHighlight = true;\r\n                        }\r\n                        if (info.hasConflict){\r\n                            nameCheckingPassed = false;\r\n                        }\r\n\r\n                        if (info.checked){\r\n                            self.savingAttachments.push({name: info.suggestedName,\r\n                                                    id: info.id,\r\n                                                    mimeType: info.mimeType})\r\n                        }\r\n                    }\r\n\r\n                    if (nameCheckingPassed) {\r\n                        self.saveStage = self.stageCode.metadata;\r\n                        var metadataRegion = new Marionette.Region({\r\n                            el: '#metadataDiv'\r\n                        });\r\n\r\n                        // Verify if there are required metadata. If there is none, then the metadata form won't show up.\r\n                        if (!self.metadataFormRetrieved){\r\n                            self.metadataFormView = new MetadataFormsView({ \r\n                                parentId: self.folderId,\r\n                                parentView: self\r\n                            });\r\n                            metadataRegion.show(self.metadataFormView);\r\n                        } else if (self.hasRequiredMetadata){\r\n                            WkspUtil.uiHide(\"saveSelectionPanel\");\r\n                            WkspUtil.uiShow(\"metadataPanel\");\r\n                            WkspUtil.stopGlobalSpinner();\r\n                        } else {\r\n                            self.processMetadata();\r\n                        }\r\n\r\n                    } else {\r\n                        //self.collection = new Backbone.Collection(self.attachmentInfo);\r\n                        WkspUtil.stopGlobalSpinner();\r\n                        self.renderForm();\r\n                    }\r\n                });\r\n                nameResolvingPromise.fail(function(error){\r\n                    // Go to saving stage, set the stage to \"finished\", and display the name resolving error message.\r\n                    self.saveStage = self.stageCode.finished;\r\n                    self.saveFailed = true;\r\n                    self.saveMessage = WkspUtil.getErrorMessage(error);\r\n                    self.saveTitle = lang.title_save_error;\r\n                    WkspUtil.stopGlobalSpinner();\r\n                    self.renderForm();\r\n                });\r\n            }\r\n        } else if (self.saveStage === self.stageCode.metadata) {\r\n            var allValid = self.metadataFormView.getValuesToParent();\r\n            if (allValid){\r\n                WkspUtil.startGlobalSpinner();\r\n                WkspUtil.uiHide(\"metadataMessageArea\");\r\n                self.processSave();\r\n            } else {\r\n                WkspUtil.uiShow(\"metadataMessageArea\");\r\n                self.$(\"#metadataMessage\").html(lang.save_metadate_form_invalid);\r\n            }\r\n        } else if (self.saveStage === self.stageCode.finished){\r\n            WkspUtil.SavingSubmitted = false;\r\n            if (WkspUtil.EmailChangedAfterSaving){\r\n                EmailService.emailItemChanged({});\r\n            } else {\r\n                WkspUtil.uiShow(WkspUtil.PreSaveSection);\r\n                if (WkspUtil.PreSaveSection === \"standardSections\"){\r\n                    WkspUtil.uiShow(\"customSearchButton\");\r\n                }\r\n                WkspUtil.uiHide(\"savePanel\");\r\n                window.scrollTo(0, WkspUtil.ScorllPositionBeforeSaving);\r\n                WkspUtil.ScorllPositionBeforeSaving = -1;\r\n            }\r\n        }\r\n        $(\"#conwsoutlook-body\").focus();\r\n    },\r\n\r\n    processMetadata: function(){\r\n        var self = this;\r\n\r\n        self.hasRequiredMetadata = self.model.get('hasRequired') || false;\r\n\r\n        if (!self.metadataFormRetrieved && !self.hasRequiredMetadata){\r\n            self.metadataFormRetrieved = true;\r\n            return;\r\n        }\r\n        self.metadataFormRetrieved = true;\r\n        if (!self.hasRequiredMetadata){\r\n            // Go to saving stage\r\n            self.processSave();\r\n        } else {\r\n            WkspUtil.stopGlobalSpinner();\r\n            WkspUtil.uiHide(\"saveSelectionPanel\");\r\n            WkspUtil.uiShow(\"metadataPanel\");\r\n        }\r\n    },\r\n\r\n    processSave: function () {\r\n        var self = this;\r\n        self.saveStage = self.stageCode.finished;\r\n\r\n        WkspUtil.SavingSubmitted = true;\r\n\r\n        var savePromise = CSService.save(self.connector, self.folderId, self.savingEmailName, self.savingAttachments, self.metadataValue);\r\n        savePromise.done(function (result) {\r\n            self.saveFailed = false;\r\n            self.saveMessage = result.result;\r\n            self.saveTitle = lang.title_save_success;\r\n            WkspUtil.stopGlobalSpinner();\r\n            self.renderForm();\r\n        });\r\n        savePromise.fail(function (error) {\r\n            self.saveFailed = true;\r\n            self.saveMessage = error.errorMsg;\r\n            self.saveTitle = lang.title_save_error;\r\n            WkspUtil.stopGlobalSpinner();\r\n            self.renderForm();\r\n        });\r\n    },\r\n\r\n    collectInfo: function(){\r\n        var self = this;\r\n        self.nothingToSave = true;\r\n        self.emailTitleInfo.suggestedName = WkspUtil.escapeNameToCreate(self.$(\"#emailName #itemName\").text().trim());\r\n        self.emailTitleInfo.showOriginalName = false;\r\n        // When there is no attachment, the email saving check box is disabled.\r\n        self.saveEmail = self.$(\"#saveEmailDiv #checkboxIcon\").hasClass(\"checkboxSelected\") ||\r\n                        self.$(\"#saveEmailDiv #checkboxIcon\").hasClass(\"checkboxDisabled\");\r\n        self.emailTitleInfo.checked = self.saveEmail;\r\n        if (!self.saveEmail){\r\n            self.emailTitleInfo.editable = false;\r\n            self.emailTitleInfo.hasConflict = false;\r\n            self.emailTitleInfo.focus = false;\r\n            \r\n        } else {\r\n            self.nothingToSave = false;\r\n        }\r\n\r\n        var attachmentBoxes = self.$(\"#saveAttachmentDiv #checkboxIcon\");\r\n        var attachmentNames = self.$(\"#saveAttachmentDiv #itemName\");\r\n\r\n        for(var i=0; i < self.attachmentInfo.length; i++){\r\n            var info = self.attachmentInfo[i].data;\r\n            info.checked = attachmentBoxes.eq(i).hasClass(\"checkboxSelected\");\r\n            if (self.nothingToSave && info.checked){\r\n                self.nothingToSave = false;\r\n            }\r\n            info.suggestedName = WkspUtil.escapeNameToCreate(attachmentNames.eq(i).text().trim());\r\n            info.editable = !attachmentNames.eq(i).hasClass(\"textReadonly\");\r\n            info.showOriginalName = false;\r\n            info.avoidHighlight = false;\r\n            info.hasConflict = false;\r\n            //info.focus = true;\r\n        }\r\n        \r\n        //var resolvePromise = \r\n    }\r\n\r\n  });\r\n\r\n  return saveSectionView;\r\n\r\n});\r\n\n","csui.define('conws/widgets/outlook/impl/folder/folder.view',[\r\n    'csui/lib/underscore',\r\n    \"csui/lib/jquery\",\r\n    'csui/lib/backbone',\r\n    'csui/lib/marionette',\r\n    'csui/utils/contexts/page/page.context',\r\n    'csui/dialogs/modal.alert/modal.alert',\r\n\r\n    'conws/widgets/outlook/impl/utils/emailservice',\r\n    'hbs!conws/widgets/outlook/impl/folder/impl/folder',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/dialog/saveSection.view',\r\n    'i18n!conws/widgets/outlook/impl/nls/lang', \r\n    'css!conws/widgets/outlook/impl/conwsoutlook' \r\n\r\n], function (_, $, Backbone, Marionette, PageContext, ModalAlert, EmailService, template, WkspUtil, SaveView, lang) {\r\n    var FolderView = Marionette.LayoutView.extend({\r\n        className: 'FolderItem',\r\n\r\n        template: template,\r\n\r\n        templateHelpers: function () {\r\n            return {\r\n                serverOrigin: window.ServerOrigin,\r\n                supportFolder: window.ContentServerSupportPath,\r\n                iconClass: this.iconClass,         \r\n                id: this.id,\r\n                name: this.name,\r\n                typeName: this.typeName,\r\n                toggleStatus: this.hasChild ? WkspUtil.ToggleStatusExpand : WkspUtil.ToggleStatusEmpty,\r\n                tabIndex: this.hasChild ? \"0\" : \"-1\",\r\n                saveTitle: lang.title_save_email\r\n            }\r\n        },\r\n\r\n        regions: {\r\n            subFolders: '#subFolders'\r\n        },\r\n\r\n        ui: {\r\n            $actionBar: '.wkspFolder-actiondiv',\r\n            $toggleIcon: '#toggleIcon'\r\n        },\r\n\r\n        events: {\r\n            'click .listItemFolder': 'clickFolder',\r\n            'mouseenter #wkspFolderItem': 'showActionBar',\r\n            'mouseleave #wkspFolderItem': 'hideActionBar',\r\n            'click #saveEmailButton': 'saveEmail',\r\n            'focusin #saveEmailButton': 'buttonFocused',\r\n            'focusout #saveEmailButton, #folderNameDiv': 'buttonFocusOut',\r\n            'keyup #toggleIcon, #folderNameDiv, #saveEmailButton': 'processKeyUp',\r\n            'keydown #folderNameDiv, #saveEmailButton': 'processKeyDown'\r\n        },\r\n\r\n        initialize: function (options) {\r\n            this.listenTo(this.model, 'change', this.renderToggleIcon);\r\n        },\r\n\r\n        constructor: function FolderView(options) {\r\n            this.model = options.model;\r\n            this.name = options.model.get('data').properties.name;\r\n            this.id = options.model.get('data').properties.id;\r\n            this.type = options.model.get('data').properties.type;\r\n            this.typeName = options.model.get('data').properties.type_name;\r\n            this.hasChild = options.model.get('data').properties.container_size > 0;\r\n            this.connector = WkspUtil.getConnector();\r\n\r\n            this.folderRetrieved = false;\r\n            this.folderExpended = false;\r\n\r\n            this.iconClass = \"wkspFolderIcon\";\r\n            if (this.type === 751){\r\n                this.iconClass = \"wkspEmailFolderIcon\";\r\n            } else if (this.type === 136){\r\n                this.iconClass = \"csui-icon compound_document listItemIcon\";\r\n            }\r\n\r\n            Marionette.LayoutView.prototype.constructor.call(this, options);\r\n        },\r\n\r\n        clickFolder: function (e) {\r\n            if (event.target.id === \"saveEmailButton\"){\r\n                return;\r\n            }\r\n\r\n            var self = this;\r\n\r\n            if (!self.hasChild) {\r\n                return;\r\n            }\r\n\r\n            var targetId = $(e.target).data(\"id\");\r\n\r\n            if (targetId !== self.id || targetId === \"noToggle\") {\r\n                return;\r\n            }\r\n\r\n            // This might cause issue in unit test. Revisit later for better solution\r\n            var FoldersView = (window.csui) ? window.csui.require('conws/widgets/outlook/impl/folder/folders.view') :\r\n                window.require('conws/widgets/outlook/impl/folder/folders.view');\r\n\r\n            if (!self.folderRetrieved) {\r\n                var foldersView = new FoldersView({\r\n                    connector: self.connector,\r\n                    id: self.id,\r\n                    parentNode: self,\r\n                    pageSize: WkspUtil.pageSize,\r\n                    pageNo: 1\r\n                });\r\n                self.getRegion('subFolders').show(foldersView);\r\n                //toggle icon and the flags are set in the FoldersView\r\n            } else if (self.folderExpended) {\r\n                self.getRegion('subFolders').$el.hide();\r\n                self.folderExpended = false;\r\n                self.toggleStatus = WkspUtil.ToggleStatusExpand;\r\n            } else {\r\n                self.getRegion('subFolders').$el.show();\r\n                self.folderExpended = true;\r\n                self.toggleStatus = WkspUtil.ToggleStatusCollapse;\r\n            }\r\n\r\n            var toggleIcon = this.ui.$toggleIcon;\r\n            toggleIcon.attr('class', self.toggleStatus);\r\n        },\r\n\r\n        renderToggleIcon: function () {\r\n            this.hasChild = this.model.get('hasChild');\r\n            var toggleIcon = this.ui.$toggleIcon;\r\n            if (!this.hasChild) {\r\n                this.toggleStatus = WkspUtil.ToggleStatusEmpty;\r\n            }\r\n            toggleIcon.attr('class', this.toggleStatus);\r\n            var tabIndex = this.toggleStatus === WkspUtil.ToggleStatusEmpty ? \"-1\" : \"0\";\r\n            toggleIcon.attr('tabindex', tabIndex);\r\n            if (tabIndex === \"-1\"){\r\n                $(\"#conwsoutlook-body\").focus();\r\n            }\r\n        },\r\n\r\n        showActionBar: function (e) {\r\n            var self = this;\r\n            var targetId = $(e.currentTarget).data(\"id\");\r\n            if (targetId !== self.id) {\r\n                return;\r\n            }\r\n\r\n            if (self.type !== 751 && WkspUtil.emailSavingConfig.onlySaveToEmailFolder) {\r\n                return;\r\n            }\r\n\r\n            var bar = this.ui.$actionBar;\r\n            bar.css(\"display\", \"block\");\r\n            setTimeout(function () {\r\n                bar.addClass(\"binf-in\");\r\n            }, 300);\r\n        },\r\n\r\n        hideActionBar: function (e) {\r\n            var self = this;\r\n            if (self.type === 0 && WkspUtil.emailSavingConfig.onlySaveToEmailFolder) {\r\n                return;\r\n            }\r\n\r\n            var bar = this.ui.$actionBar;\r\n            bar.css(\"display\", \"none\");\r\n            bar.removeClass(\"binf-in\");\r\n        },\r\n\r\n        processKeyUp: function(e){\r\n            if ($(e.target).data(\"id\") !== this.id){\r\n                return;\r\n            }\r\n\r\n            if (e.which === 13 || e.which === 32) {\r\n                if (e.target.id === \"toggleIcon\"){\r\n                    this.clickFolder(e);\r\n                } else if (e.target.id === \"saveEmailButton\"){\r\n                    this.saveEmail(e);\r\n                    this.hideActionBar(e);\r\n                }\r\n            }\r\n\r\n            if (e.which === 9 && e.target.id === \"folderNameDiv\"){\r\n                this.showActionBar(e);\r\n            }\r\n        },\r\n\r\n        processKeyDown: function(e){\r\n            if ($(e.target).data(\"id\") !== this.id){\r\n                return;\r\n            }\r\n\r\n            if (e.which !== 9){\r\n                return;\r\n            }\r\n            if ((e.shiftKey && e.target.id === \"folderNameDiv\") ||\r\n                (!e.shiftKey && e.target.id === \"saveEmailButton\")){\r\n                    this.hideActionBar(e);\r\n                }\r\n        },\r\n\r\n        buttonFocused: function(e){\r\n            if (e.target.id !== \"saveEmailButton\"){\r\n                return;\r\n            }\r\n            var div = e.target.querySelector(\"div\");\r\n            if (div !== null){\r\n                $(div).css(\"outline\", \"1px dotted grey\");\r\n                $(div).css(\"outline-offset\", \"2px\");\r\n            }\r\n        },\r\n\r\n        buttonFocusOut: function(e){\r\n            if (e.target.id !== \"saveEmailButton\" && e.target.id !== \"folderNameDiv\"){\r\n                return;\r\n            }\r\n\r\n            var self = this;\r\n            setTimeout(function(e){\r\n                var focusId = document.activeElement.id;\r\n                if (focusId !== \"saveEmailButton\" && focusId !== \"folderNameDiv\"){\r\n                    self.hideActionBar(e);\r\n                }\r\n            }, 50);\r\n\r\n            var div = e.target.querySelector(\"div\");\r\n            if (div !== null){\r\n                $(div).css(\"outline\", \"\");\r\n                $(div).css(\"outline-offset\", \"\");\r\n            }\r\n        },\r\n\r\n        saveEmail: function(e) {\r\n            var self = this;\r\n            var targetId = $(e.currentTarget).data(\"id\");\r\n            if (targetId !== self.id) {\r\n                return;\r\n            }\r\n\r\n            if (window.CurrentEmailItem == null) {\r\n                ModalAlert.showWarning(lang.warning_no_outlook_context);\r\n                return;\r\n            }\r\n\r\n            var folderId = self.id,\r\n                folderName = self.name,\r\n                connector = self.connector,\r\n                emailItem = window.CurrentEmailItem;\r\n            \r\n            WkspUtil.ScorllPositionBeforeSaving = window.pageYOffset;\r\n\r\n            var saveRegion = new Marionette.Region({\r\n                el: '#savePanel'\r\n            });\r\n            var saveEmailView = new SaveView({\r\n                connector: connector, \r\n                folderId: folderId,\r\n                folderName: folderName,\r\n                proposedEmailName: emailItem.subject,\r\n                attachments: emailItem.archivableAttachments\r\n            });\r\n            saveRegion.show(saveEmailView);\r\n            $(\"#conwsoutlook-body\").focus();\r\n        }\r\n    });\r\n\r\n    return FolderView;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/folder/impl/folders',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\r\\n<div id=\\\"folders-list\\\" style=\\\"padding-left: 22px\\\"></div>\\r\\n<div class=\\\"listItemFolder\\\"><a href=\\\"javascript:;\\\" id=\\\"moreLink\\\" class=\\\"moreLink\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.showMoreFoldersTitle || (depth0 != null ? depth0.showMoreFoldersTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"showMoreFoldersTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\"  tabindex=\\\"0\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.showMoreLink || (depth0 != null ? depth0.showMoreLink : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"showMoreLink\",\"hash\":{}}) : helper)))\n    + \"</a></div>\\r\\n\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_folder_impl_folders', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/folder/folders.view',[\r\n    'csui/lib/underscore',\r\n    \"csui/lib/jquery\",\r\n    'csui/lib/marionette',\r\n    'csui/lib/backbone',\r\n\r\n    'conws/widgets/outlook/impl/folder/impl/folders.model',\r\n    'conws/widgets/outlook/impl/folder/folder.view',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',\r\n    'hbs!conws/widgets/outlook/impl/folder/impl/folders',\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'\r\n], function (_, $, Marionette, Backbone, FoldersModel, FolderView, WkspUtil, lang, template) {\r\n    var foldersView = Marionette.CompositeView.extend({\r\n        className: 'folders-conwsoutlook',\r\n\r\n        template: template,\r\n\r\n        childView: FolderView,\r\n        \r\n        childViewContainer: '#folders-list',\r\n\r\n        templateHelpers: function () {\r\n            return {\r\n                id: this.id,\r\n                showMoreLink: lang.showMore_link,\r\n                showMoreFoldersTitle: lang.showMore_folders\r\n            };\r\n        },\r\n\r\n        events: {\r\n            'click #moreLink': 'retrieveNextPage'\r\n        },\r\n\r\n        initialize: function (options) {\r\n\r\n        },\r\n\r\n        constructor: function foldersView(options) {\r\n            options.model = new FoldersModel({}, options);\r\n            this.parentNode = options.parentNode;\r\n            this.id = options.id;\r\n            this.pageNo = options.pageNo;\r\n\r\n            Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n            this.listenTo(this.model, 'sync', this.renderFolders);\r\n            options.model.fetch();\r\n        },\r\n\r\n        retrieveNextPage: function (options) {\r\n            var targetId = $(options.currentTarget).data(\"id\");\r\n            if (targetId !== this.id) {\r\n                return;\r\n            }\r\n            var collection = this.model.get('collection'),\r\n                paging = collection ? collection.paging : null;\r\n            if (paging && paging.links && paging.links.data && paging.links.data.next && paging.links.data.next.href) {\r\n                this.model.nextPageUrl = paging.links.data.next.href;\r\n                this.model.fetch();\r\n            }\r\n        },\r\n\r\n        renderFolders: function (model, response, options) {\r\n            var self = this,\r\n                collection = model.get('collection'),\r\n                paging = collection ? collection.paging : null;\r\n\r\n            var isFirstPage = paging == null || paging.links == null || paging.links.data == null || paging.links.data.previous == null;\r\n            var values = model.get('results');\r\n\r\n            if (isFirstPage) {\r\n                self.parentNode.folderRetrieved = true;\r\n                self.parentNode.toggleStatus = WkspUtil.ToggleStatusCollapse;\r\n                self.parentNode.folderExpended = true;\r\n                if (values.length === 0) {\r\n                    self.parentNode.model.set(\"hasChild\", false);\r\n                } else {\r\n                    self.parentNode.model.set(\"hasChild\", true);\r\n                }\r\n            }\r\n\r\n            if (values.length !== 0 || !isFirstPage) {\r\n                if (self.collection == null) {\r\n                    self.collection = new Backbone.Collection(values);\r\n                    self.render();\r\n                } else {\r\n                    var origLength = self.collection.length; //original length before addition\r\n                    self.collection.add((new Backbone.Collection(values)).toJSON());\r\n                    self._addItems(self.collection.slice(origLength), origLength); //get latest added models   \r\n                }\r\n            }\r\n\r\n            self.$('.moreLink').each(function() {\r\n                var button = $(this);\r\n                if (button.data('id') === self.id) {\r\n                    if (paging && paging.links && paging.links.data && paging.links.data.next && paging.links.data.next.href) {\r\n                        button.css(\"display\", \"block\");\r\n                    } else {\r\n                        button.css(\"display\", \"none\");\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n        _addItems: function (models, collIndex) {\r\n            var self = this,\r\n                ChildView;\r\n\r\n            _.each(models, function (model, index) {\r\n                ChildView = self.getChildView(model);\r\n                self._addChild(model, ChildView, collIndex + index);\r\n            });\r\n        },\r\n\r\n        _addChild: function (child, ChildView, index) {\r\n            return Backbone.Marionette.CompositeView.prototype.addChild.apply(this, arguments);\r\n        }\r\n\r\n    });\r\n\r\n    return foldersView;\r\n\r\n});\r\n\n","csui.define('conws/widgets/outlook/impl/wksp/wksp.view',[\r\n    'csui/lib/underscore',\r\n    \"csui/lib/jquery\",\r\n    'csui/lib/backbone',\r\n    'csui/lib/marionette',\r\n    'csui/utils/url',\r\n    'csui/dialogs/modal.alert/modal.alert',\r\n    'csui/utils/nodesprites',\r\n    'hbs!conws/widgets/outlook/impl/wksp/impl/wksp',\r\n    'conws/widgets/outlook/impl/folder/folders.view',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/utils/csservice',\r\n    'conws/widgets/outlook/impl/dialog/saveSection.view',\r\n    'conws/widgets/outlook/impl/wksp/impl/wksp.model',\r\n    'i18n!conws/widgets/outlook/impl/nls/lang'\r\n], function (_, $, Backbone, Marionette, Url, ModalAlert, NodeSprites, template, FoldersView, WkspUtil, CSService, SaveView, WkspModel, lang) {\r\n\r\n    var WkspView = Marionette.LayoutView.extend({\r\n\r\n        className: 'ListItem', \r\n\r\n        template: template,\r\n\r\n        templateHelpers: function() {\r\n            return {\r\n                id: this.id,\r\n                name: this.name,\r\n                iconClass: this.getIconClass(),\r\n                typeName: this.typeName,\r\n                toggleStatus: this.hasChild && this.expendable ? WkspUtil.ToggleStatusExpand : WkspUtil.ToggleStatusEmpty,\r\n                openLinkTitle: lang.wksp_open_link,\r\n                linkToWS: Url.combine((new Url(this.connector.connection.url)).getCgiScript(), 'app/nodes', this.id),\r\n                tabIndex: this.hasChild ? \"0\" : \"-1\",\r\n                saveButtonTitle: lang.save_action_email\r\n            }\r\n        },\r\n\r\n        regions: {\r\n            subFolders: '#subFolders'\r\n        },\r\n\r\n        ui: {\r\n            $actionBar: '.wkspFolder-actiondiv',\r\n            $toggleIcon: '#toggleIcon',\r\n            $saveMenuItem: '#wkspSaveMenuItem',\r\n            $saveButton: '#saveEmailButton'\r\n        },\r\n\r\n        events: {\r\n            'click .listItemWksp': 'clickWksp',\r\n            'mouseenter #wkspItem': 'showActionBar',\r\n            'mouseleave #wkspItem': 'hideActionBar',\r\n            'click #saveEmailButton': 'saveEmail',\r\n            'focusin #saveEmailButton, #wkspOpenButton': 'buttonFocused',\r\n            'focusout #saveEmailButton, #wkspOpenButton, #wkspNameDiv': 'buttonFocusOut',\r\n            'keyup #toggleIcon, #wkspNameDiv, #saveEmailButton': 'processKeyUp',\r\n            'keydown #wkspNameDiv, #wkspOpenButton': 'processKeyDown'\r\n        },\r\n\r\n        initialize: function (options) {\r\n            this.listenTo(this.model, 'change', this.renderToggleIcon);\r\n        },\r\n\r\n        constructor: function WkspView(options) {\r\n            this.model = options.model;\r\n            var props = options.model.get('data').properties;\r\n            this.name = props.name;\r\n            this.id = props.id;\r\n\r\n            this.typeName = props.type_name;\r\n            this.type = props.type;\r\n            // only workspaces are expendable\r\n            this.hasChild = props.container && props.size > 0 && props.type === 848;\r\n            this.connector = WkspUtil.getConnector(); \r\n\r\n            var enableEmailSaving = this.model.get('enableEmailSaving');\r\n            //if email saving is disabled do not expand workspaces\r\n            this.expendable = (enableEmailSaving !== undefined ? enableEmailSaving : true) && WkspUtil.emailSavingConfig.allowExpandWorkspace;            \r\n            \r\n            this.folderRetrieved = false;\r\n            this.folderExpended = false;\r\n\r\n            var self = this;\r\n\r\n            //update pre config folder only when email saving is enabled\r\n            if (enableEmailSaving === undefined || enableEmailSaving){\r\n                this.updateModelForPreConfigFolder(self);\r\n            }\r\n\r\n            Marionette.LayoutView.prototype.constructor.call(this, options);\r\n        },\r\n\r\n        processKeyUp: function(e){\r\n            if ($(e.target).data(\"id\") !== this.id){\r\n                return;\r\n            }\r\n\r\n            if (e.which === 13 || e.which === 32) {\r\n                if (e.target.id === \"toggleIcon\"){\r\n                    this.clickWksp(e);\r\n                } \r\n                else if (e.target.id === \"saveEmailButton\"){\r\n                    this.saveEmail(e);\r\n                }\r\n            } else if (e.which === 9 && e.target.id === \"wkspNameDiv\"){\r\n                this.showActionBar(e);\r\n            }\r\n        },\r\n\r\n        processKeyDown: function(e){\r\n            if (e.which !== 9){\r\n                return;\r\n            }\r\n            if ((!e.shiftKey && e.target.id === \"wkspOpenButton\") ||\r\n                (e.shiftKey && e.target.id === \"wkspNameDiv\") ){\r\n                    this.hideActionBar(e);\r\n                }\r\n        },\r\n\r\n        buttonFocused: function(e){\r\n            if (e.target.id !== \"saveEmailButton\" && e.target.id !== \"wkspOpenButton\"){\r\n                return;\r\n            }\r\n            var div = e.target.querySelector(\"div\");\r\n            if (div !== null){\r\n                $(div).css(\"outline\", \"1px dotted grey\");\r\n                $(div).css(\"outline-offset\", \"2px\");\r\n            }\r\n        },\r\n\r\n        buttonFocusOut: function(e){\r\n            var self = this;\r\n            if (e.target.id === \"saveEmailButton\" || e.target.id === \"wkspOpenButton\" || e.target.id === \"wkspNameDiv\"){\r\n                setTimeout(function(e){\r\n                    var focusId = document.activeElement.id;\r\n                    if (focusId !== \"saveEmailButton\" && focusId !== \"wkspOpenButton\" && focusId !== \"wkspNameDiv\"){\r\n                        self.hideActionBar(e);\r\n                    }\r\n                }, 50);\r\n\r\n                if (e.target.id !== \"wkspNameDiv\") {\r\n                    var div = e.target.querySelector(\"div\");\r\n                    if (div !== null){\r\n                        $(div).css(\"outline\", \"\");\r\n                        $(div).css(\"outline-offset\", \"\");\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        clickWksp: function(event) {\r\n            if (event.target.id === \"saveEmailButton\" || event.target.id === \"wkspOpenButton\"){\r\n                return;\r\n            }\r\n\r\n            var self = this;\r\n\r\n            //do not expand it if it is disabled because enableEmailSaving flag is false\r\n            if (!self.expendable){\r\n                return;\r\n            }\r\n\r\n            if (!self.expendable || !self.hasChild) {\r\n                return;\r\n            }\r\n\r\n            var toToggle = $(event.target).data(\"id\");\r\n            if (toToggle && toToggle === \"noToggle\") {\r\n                return;\r\n            }\r\n\r\n            if (!self.folderRetrieved) {\r\n                var foldersView = new FoldersView({\r\n                    connector: this.connector,\r\n                    id: self.id,\r\n                    parentNode: self,\r\n                    pageSize: WkspUtil.pageSize,\r\n                    pageNo: 1\r\n                });\r\n                self.getRegion('subFolders').show(foldersView);\r\n                //toggle icon and the flags are set in the FoldersView\r\n            } else if (self.folderExpended) {\r\n                self.getRegion('subFolders').$el.hide();\r\n                self.folderExpended = false;\r\n                self.toggleStatus = WkspUtil.ToggleStatusExpand;\r\n            } else {\r\n                self.getRegion('subFolders').$el.show();\r\n                self.folderExpended = true;\r\n                self.toggleStatus = WkspUtil.ToggleStatusCollapse;\r\n            }\r\n\r\n            var toggleIcon = this.ui.$toggleIcon;\r\n            toggleIcon.attr('class', self.toggleStatus);\r\n        },\r\n\r\n        saveEmail: function(event) {\r\n            var self = this;\r\n            var targetId = $(event.currentTarget).data(\"id\");\r\n            if (targetId !== self.id) {\r\n                return;\r\n            }\r\n\r\n            if (window.CurrentEmailItem == null) {\r\n                ModalAlert.showWarning(lang.warning_no_outlook_context);\r\n                return;\r\n            }\r\n\r\n            var folderId = self.saveFolderId,\r\n                folderName = self.saveFolderName,\r\n                connector = self.connector,\r\n                emailItem = window.CurrentEmailItem;\r\n            \r\n            WkspUtil.ScorllPositionBeforeSaving = window.pageYOffset;\r\n            \r\n            var saveRegion = new Marionette.Region({\r\n                    el: '#savePanel'\r\n            });\r\n            var saveEmailView = new SaveView({\r\n                connector: connector, \r\n                folderId: folderId,\r\n                folderName: folderName,\r\n                proposedEmailName: emailItem.subject,\r\n                attachments: emailItem.archivableAttachments\r\n            });\r\n            saveRegion.show(saveEmailView);\r\n\r\n            $(\"#conwsoutlook-body\").focus();\r\n        },\r\n\r\n        keyEnterWksp: function(event) {\r\n            if (event.keyCode === 13 || event.keyCode === 27) {\r\n                this.$(\".listItemWkspName\").click();\r\n            }\r\n        },\r\n\r\n        showActionBar: function () {\r\n            var bar = this.ui.$actionBar;\r\n            bar.css(\"display\", \"block\");\r\n            setTimeout(function () {\r\n                bar.addClass(\"binf-in\");\r\n            }, 300);\r\n        },\r\n\r\n        hideActionBar: function () {\r\n            var bar = this.ui.$actionBar;\r\n            bar.css(\"display\", \"none\");\r\n            bar.removeClass(\"binf-in\");\r\n        },\r\n\r\n        renderToggleIcon: function () {\r\n            this.hasChild = this.model.get('hasChild');\r\n            var toggleIcon = this.ui.$toggleIcon;\r\n            if (!this.hasChild || !this.expendable) {\r\n                this.toggleStatus = WkspUtil.ToggleStatusEmpty;\r\n            }\r\n\r\n            toggleIcon.attr('class', this.toggleStatus);\r\n            var tabIndex = this.toggleStatus === WkspUtil.ToggleStatusEmpty ? \"-1\" : \"0\";\r\n            toggleIcon.attr('tabindex', tabIndex);\r\n            if (tabIndex === \"-1\"){\r\n                $(\"#conwsoutlook-body\").focus();\r\n            }\r\n        },\r\n\r\n        updateModelForPreConfigFolder: function (self) {\r\n            if (!WkspUtil.emailSavingConfig.preConfigFolderToSave.enabled) {\r\n                return;\r\n            }\r\n\r\n            var wkspModel = new WkspModel({ id: self.id }, {connector: self.connector});\r\n\r\n            var fetchPromise = wkspModel.getPreConfigFolder();\r\n            fetchPromise.done(function (result) {\r\n                var saveMenuItem = self.ui.$saveMenuItem,\r\n                    saveButton = self.ui.$saveButton;\r\n                    \r\n                if (result.hasPreConfigFolder) {\r\n                    //self.model.set(\"preConfigFolder\", { folderId: result.folderId, folderName: result.folderName });\r\n                    self.saveFolderId = result.folderId;\r\n                    self.saveFolderName = result.folderName;\r\n                    saveMenuItem.css(\"display\", \"inline-block\");\r\n                    saveButton.attr(\"title\", lang.title_save_email_to + result.folderName);\r\n                } else {\r\n                    saveMenuItem.css(\"display\", \"none\");\r\n                }\r\n            });\r\n        },\r\n\r\n        getIconClass: function() {\r\n            var self = this,\r\n                atts = self.model.attributes,\r\n                node = {type: self.type};\r\n            if (atts != null && atts.data != null && atts.data.properties != null) {\r\n                node = atts.data.properties;\r\n            }\r\n            return \"icon \" + NodeSprites.findClassByNode(node);\r\n        }\r\n    });\r\n\r\n    return WkspView;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/recentwksps/impl/recentwksps',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\r\\n<div class=\\\"binf-panel-heading outlook-heading\\\">\\r\\n    <span class=\\\"headerIcon sectionToggleIcon\\\" id=\\\"recentToggleIcon\\\" tabindex=\\\"0\\\"></span>\\r\\n    <span >\"\n    + this.escapeExpression(((helper = (helper = helpers.sectionTitle || (depth0 != null ? depth0.sectionTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"sectionTitle\",\"hash\":{}}) : helper)))\n    + \"</span> <span id=\\\"recentCount\\\"></span>\\r\\n</div>\\r\\n<div id=\\\"recentSection\\\">\\r\\n    <div id=\\\"recent-list\\\" class=\\\"\\\"></div>\\r\\n    <div class=\\\"listItemWksp\\\"><a href=\\\"javascript:;\\\" id=\\\"moreRecentWksp\\\" class=\\\"moreLinkWksp\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.showMoreWkspTitle || (depth0 != null ? depth0.showMoreWkspTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"showMoreWkspTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.showMoreLink || (depth0 != null ? depth0.showMoreLink : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"showMoreLink\",\"hash\":{}}) : helper)))\n    + \"</a></div>\\r\\n    <div class=\\\"wkspMessageArea\\\" id=\\\"recentWkspMsgArea\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_recentwksps_impl_recentwksps', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/recentwksps/recentwksps.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',\r\n    'csui/lib/marionette',\r\n    'csui/lib/backbone',\r\n\r\n    'conws/widgets/outlook/impl/recentwksps/impl/recentwksps.model.factory',\r\n    'conws/widgets/outlook/impl/wksp/wksp.view',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',      \r\n    'hbs!conws/widgets/outlook/impl/recentwksps/impl/recentwksps',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'\r\n], function ($, _, Marionette, Backbone, recentwkspsModelFactory, WkspView, lang, template, WkspUtil) {\r\n  var recentwkspsView = Marionette.CompositeView.extend({\r\n    className: 'recentWksps-conwsoutlook panel panel-default',\r\n\r\n    template: template,\r\n\r\n    childView: WkspView,\r\n\r\n    childViewContainer: '#recent-list',\r\n\r\n    templateHelpers: function() {\r\n        return {\r\n            sectionTitle: lang.sectionTitle_recent,\r\n            showMoreLink: lang.showMore_link,\r\n            showMoreWkspTitle: lang.showMore_wksp\r\n        }\r\n    },\r\n\r\n    events: {\r\n        'click #moreRecentWksp': 'retrieveNextPage',\r\n        'click #recentToggleIcon': 'toggleIconClicked',\r\n        'keyup' : 'processKey'\r\n    },\r\n\r\n    constructor: function recentwkspsView(options) {\r\n        options.model = options.context.getModel(recentwkspsModelFactory);\r\n\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        this.listenTo(this.model, 'change', this.renderWksps);\r\n        this.listenTo(this.model, 'error', this.renderError);\r\n    },\r\n\r\n    renderWksps: function (model, response, options) {\r\n        WkspUtil.stopGlobalSpinner();\r\n\r\n        var self = this,\r\n            values = model.get('results'),\r\n            paging = model.get('paging');\r\n\r\n        var isFirstPage = paging == null || paging.actions == null || paging.actions.previous;\r\n\r\n        if (values.length === 0 && isFirstPage) {\r\n            if (paging && paging.page === 1) {\r\n                self.renderMessage(lang.noWksp_recent);\r\n                $(\"#recentToggleIcon\").click();\r\n            }\r\n        } else {\r\n            if (self.collection == null) {\r\n                self.collection = new Backbone.Collection(values);\r\n                self.render();\r\n            } else {\r\n                var origLength = self.collection.length; //original length before addition\r\n                self.collection.add((new Backbone.Collection(values)).toJSON());\r\n                self._addItems(self.collection.slice(origLength), origLength); //get latest added models\r\n            }\r\n        }\r\n        $(\"#recentCount\").html(\"(\" + paging.total_count + \")\");\r\n\r\n        var nextButton = self.$('#moreRecentWksp');\r\n        if (paging && paging.actions && paging.actions.next && paging.actions.next.href) {\r\n            nextButton.css(\"display\", \"block\");\r\n        } else {\r\n            nextButton.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    retrieveNextPage: function (options) {\r\n        var paging = this.model.get(\"paging\");\r\n        if (paging && paging.actions && paging.actions.next && paging.actions.next.href) {\r\n            WkspUtil.startGlobalSpinner();\r\n            this.model.nextPageUrl = paging.actions.next.href;\r\n            this.model.fetch();\r\n        }\r\n    },\r\n\r\n    _addItems: function (models, collIndex) {\r\n        var self = this,\r\n            ChildView;\r\n\r\n        _.each(models, function (model, index) {\r\n            ChildView = self.getChildView(model);\r\n            self._addChild(model, ChildView, collIndex + index);\r\n        });\r\n    },\r\n\r\n    _addChild: function (child, ChildView, index) {\r\n        return Backbone.Marionette.CompositeView.prototype.addChild.apply(this, arguments);\r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        WkspUtil.stopGlobalSpinner();\r\n\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(_.str.sformat(lang.error_retrieve_recent, msg));\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;\r\n        var msgArea = self.$('#recentWkspMsgArea');\r\n\r\n        if (msg) {\r\n            msgArea.css(\"display\", \"block\");\r\n            msgArea.html(msg);\r\n        } else {\r\n            msgArea.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    processKey: function(e) {\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"recentToggleIcon\"){\r\n                this.toggleIconClicked(e);\r\n            } \r\n        }\r\n    },\r\n\r\n    toggleIconClicked: function(args){\r\n        WkspUtil.collapsibleClicked(\"recent\");\r\n    }\r\n\r\n  });\r\n\r\n  return recentwkspsView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/favoritewksps/impl/favoritewksps',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"binf-panel-heading outlook-heading\\\">\\r\\n    <span class=\\\"headerIcon sectionToggleIcon\\\" id=\\\"favoriteToggleIcon\\\" tabindex=\\\"0\\\"></span>\\r\\n    <span >\"\n    + this.escapeExpression(((helper = (helper = helpers.sectionTitle || (depth0 != null ? depth0.sectionTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"sectionTitle\",\"hash\":{}}) : helper)))\n    + \"</span> <span id=\\\"favoriteCount\\\"></span>\\r\\n</div>\\r\\n<div id=\\\"favoriteSection\\\">\\r\\n    <div id=\\\"favorite-list\\\" class=\\\"panel panel-default\\\"></div>\\r\\n    <div class=\\\"listItemWksp\\\"><a href=\\\"javascript:;\\\" id=\\\"moreFavoriteWksp\\\" class=\\\"moreLinkWksp\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.showMoreWkspTitle || (depth0 != null ? depth0.showMoreWkspTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"showMoreWkspTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.showMoreLink || (depth0 != null ? depth0.showMoreLink : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"showMoreLink\",\"hash\":{}}) : helper)))\n    + \"</a></div>\\r\\n    <div class=\\\"wkspMessageArea\\\" id=\\\"recentWkspMsgArea\\\"></div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_favoritewksps_impl_favoritewksps', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\r\ncsui.define('conws/widgets/outlook/impl/favoritewksps/favoritewksps.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',\r\n    'csui/lib/marionette',\r\n    'csui/lib/backbone',\r\n\r\n    'conws/widgets/outlook/impl/favoritewksps/impl/favoritewksps.model.factory',\r\n    'conws/widgets/outlook/impl/wksp/wksp.view',\r\n    'conws/widgets/outlook/impl/wksp/impl/wksp.model',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',       \r\n    'hbs!conws/widgets/outlook/impl/favoritewksps/impl/favoritewksps',\r\n   'css!conws/widgets/outlook/impl/conwsoutlook'         \r\n], function ($, _, Marionette, Backbone, favoritewkspsModelFactory, WkspView, WkspModel, WkspUtil, lang, template) {\r\n  var favoritewkspsView = Marionette.CompositeView.extend({\r\n\r\n    className: 'favoriteWksps-conwsoutlook panel panel-default',\r\n\r\n    template: template,\r\n\r\n    childView: WkspView,\r\n\r\n    childViewContainer: '#favorite-list',\r\n\r\n    templateHelpers: function () {\r\n        return {\r\n            sectionTitle: lang.sectionTitle_favorite,\r\n            showMoreLink: lang.showMore_link,\r\n            showMoreWkspTitle: lang.showMore_wksp\r\n        }\r\n    },\r\n\r\n    events: {\r\n        'click #moreFavoriteWksp': 'retrieveNextPage',\r\n        'click #favoriteToggleIcon': 'toggleIconClicked',\r\n        'keyup' : 'processKey'\r\n    },\r\n\r\n    initialize: function(options) {\r\n\r\n    },\r\n\r\n    constructor: function favoritewkspsView(options) {\r\n        options.model = options.context.getModel(favoritewkspsModelFactory);\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        this.pageIndex = 0;\r\n        this.pageSize = WkspUtil.pageSize;\r\n\r\n        this.listenTo(this.model, 'change', this.renderWksps);\r\n        this.listenTo(this.model, 'error', this.renderError);\r\n    },\r\n\r\n    renderWksps: function (model, response, options) {\r\n        var self = this;\r\n        var values = model.get('results'),\r\n            totalCount = values.length;\r\n\r\n        if (totalCount === 0) {\r\n            self.renderMessage(lang.noWksp_favorite);\r\n            $(\"#favoriteToggleIcon\").click();\r\n        } else {\r\n            var end;\r\n            if (self.pageIndex === 0){\r\n                end = totalCount > self.pageSize ? self.pageSize : totalCount;\r\n                self.collection = new Backbone.Collection(values.slice(0, end));\r\n                self.render();\r\n            } else {\r\n                var start = self.pageIndex * self.pageSize,\r\n                    fullPageCount = (self.pageIndex + 1) * self.pageSize,\r\n                    origLength = self.collection.length; //original length before addition;\r\n                \r\n                end = totalCount > fullPageCount ? fullPageCount : totalCount,\r\n\r\n                self.collection.add((new Backbone.Collection(values.slice(start, end))).toJSON());\r\n                self._addItems(self.collection.slice(origLength), origLength); //get latest added models    \r\n            }\r\n        }\r\n\r\n        $(\"#favoriteCount\").html(\"(\" + totalCount + \")\");\r\n        \r\n        var nextButton = self.$('#moreFavoriteWksp'),\r\n            display = (self.pageIndex + 1) * self.pageSize < totalCount ? \"block\" : \"none\"; \r\n        nextButton.css(\"display\", display);\r\n    },\r\n\r\n    retrieveNextPage: function (options) {\r\n        var self = this;\r\n        self.pageIndex++;\r\n        self.renderWksps(self.model);\r\n    },\r\n\r\n    _addItems: function (models, collIndex) {\r\n        var self = this,\r\n            ChildView;\r\n\r\n        _.each(models, function (model, index) {\r\n            ChildView = self.getChildView(model);\r\n            self._addChild(model, ChildView, collIndex + index);\r\n        });\r\n    },\r\n\r\n    _addChild: function (child, ChildView, index) {\r\n        return Backbone.Marionette.CompositeView.prototype.addChild.apply(this, arguments);\r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(_.str.sformat(lang.error_retrieve_favorite, msg));\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;\r\n        var msgArea = self.$('#recentWkspMsgArea');\r\n\r\n        if (msg) {\r\n            msgArea.css(\"display\", \"block\");\r\n            msgArea.html(msg);\r\n        } else {\r\n            msgArea.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    processKey: function(e) {\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"favoriteToggleIcon\"){\r\n                this.toggleIconClicked(e);\r\n            } \r\n        }\r\n    },\r\n\r\n    toggleIconClicked: function(args){\r\n        WkspUtil.collapsibleClicked(\"favorite\");\r\n    }\r\n\r\n  });\r\n\r\n  return favoritewkspsView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/searchwksps/impl/searchresult',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\r\\n<div id=\\\"searchresult-list\\\" ></div>\\r\\n<div class=\\\"listItemWksp\\\"><a href=\\\"javascript:;\\\" id=\\\"moreSearchWksp\\\" class=\\\"moreLinkWksp\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.showMoreWkspTitle || (depth0 != null ? depth0.showMoreWkspTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"showMoreWkspTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.showMoreLink || (depth0 != null ? depth0.showMoreLink : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"showMoreLink\",\"hash\":{}}) : helper)))\n    + \"</a></div>\\r\\n<div class=\\\"wkspMessageArea\\\" id=\\\"searchResultMsgArea\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_searchwksps_impl_searchresult', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// An application widget is exposed via a RequireJS module\r\ncsui.define('conws/widgets/outlook/impl/searchwksps/searchresult.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',                             \r\n    'csui/lib/marionette',                             \r\n    'csui/lib/backbone',\r\n\r\n    'conws/widgets/outlook/impl/searchwksps/impl/searchresult.model', \r\n    'conws/widgets/outlook/impl/wksp/wksp.view',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',       \r\n    'hbs!conws/widgets/outlook/impl/searchwksps/impl/searchresult',        \r\n    'css!conws/widgets/outlook/impl/conwsoutlook'       \r\n], function ($, _, Marionette, Backbone, SearchResultModel, WkspView, WkspUtil, lang, template) {\r\n\r\n    var searchresultView = Marionette.CompositeView.extend({\r\n\r\n    className: 'wksp-srch-results',\r\n\r\n    template: template,\r\n\r\n    childView: WkspView,\r\n\r\n    childViewContainer: '#searchresult-list',\r\n\r\n    templateHelpers: function () {\r\n        return {\r\n            showMoreLink: lang.showMore_link,\r\n            showMoreWkspTitle: lang.showMore_wksp\r\n        }\r\n    },\r\n\r\n    ui: {\r\n        srchResultMessage: '#searchResultMsgArea',\r\n        srchResultList: '#searchresult-list'\r\n    },\r\n\r\n    events: {\r\n        'click #moreSearchWksp': 'retrieveNextPage'\r\n    },\r\n\r\n    initialize: function(options) {\r\n        //var wksps = options.model.get('results');\r\n        //this.collection = new Backbone.Collection(wksps);\r\n    },\r\n\r\n    constructor: function searchresultView(options) {\r\n        options.model = new SearchResultModel({}, options);\r\n        this.enableEmailSaving = options.enableEmailSaving;\r\n\r\n        this.typeAhead = options.typeAhead;\r\n        this.wkspName = options.wkspName;\r\n        this.pageNo = options.pageNo;\r\n        \r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        this.listenTo(this.model, 'change', this.renderWksps);\r\n        this.listenTo(this.model, 'error', this.renderError);\r\n        options.model.fetch();    \r\n    },\r\n\r\n    retrieveNextPage: function (options) {\r\n        var paging = this.model.get(\"paging\");\r\n        if (paging && paging.actions && paging.actions.next && paging.actions.next.href) {\r\n            WkspUtil.startGlobalSpinner();\r\n            this.model.nextPageUrl = paging.actions.next.href;\r\n            this.model.fetch();\r\n        }\r\n    },\r\n\r\n    renderWksps: function (model, response, options) {\r\n        WkspUtil.stopGlobalSpinner();\r\n\r\n        var self = this,\r\n            paging = model.get('paging');\r\n        var isFirstPage = paging == null || paging.actions == null || paging.actions.previous;\r\n        var values = model.get('results');\r\n        //append enableEmailSaving flag to the collection\r\n        _.each(values, function (value){\r\n            value.enableEmailSaving = self.enableEmailSaving;\r\n        });\r\n\r\n        if (values.length === 0 && isFirstPage) {\r\n            if (self.pageNo === 1) {\r\n                self.renderMessage(lang.noWksp_search);\r\n            }\r\n        } else {\r\n            if (self.collection == null) {\r\n                self.collection = new Backbone.Collection(values);\r\n                self.render();\r\n            } else {\r\n                var origLength = self.collection.length; //original length before addition\r\n                self.collection.add((new Backbone.Collection(values)).toJSON());\r\n                self._addItems(self.collection.slice(origLength), origLength); //get latest added models\r\n            }\r\n            if (self.typeAhead) {\r\n                self.highlight(self, self.wkspName);\r\n            }\r\n        }\r\n\r\n        var nextButton = self.$('#moreSearchWksp');\r\n        if (paging && paging.actions && paging.actions.next && paging.actions.next.href) {\r\n            nextButton.css(\"display\", \"block\");\r\n        } else {\r\n            nextButton.css(\"display\", \"none\");\r\n        }\r\n\r\n    },\r\n\r\n    _addItems: function (models, collIndex) {\r\n        var self = this,\r\n            ChildView;\r\n\r\n        _.each(models, function (model, index) {\r\n            ChildView = self.getChildView(model);\r\n            self._addChild(model, ChildView, collIndex + index);\r\n        });\r\n    },\r\n\r\n    _addChild: function (child, ChildView, index) {\r\n        return Backbone.Marionette.CompositeView.prototype.addChild.apply(this, arguments);\r\n    },\r\n\r\n    highlight: function(view, name) {\r\n        if (name){\r\n            var regex = RegExp(name, 'gi'),\r\n                replacement = \"<u style='font-weight: bold'>$&</u>\"; // need to use inline style, otherwise it will be overridden. \r\n            view.$('div.listItemWkspName').each(function() {\r\n                $(this).html($(this).html().replace(regex, replacement));\r\n            });\r\n        }\r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        WkspUtil.stopGlobalSpinner();\r\n\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(_.str.sformat(lang.error_retrieve_search, msg));\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;        \r\n\r\n        if (msg) {\r\n            //show message\r\n            self.ui.srchResultMessage.text(msg);\r\n            self.ui.srchResultMessage.css(\"display\", \"block\");\r\n            //hide search results div\r\n            self.ui.srchResultList.css(\"display\", \"none\");\r\n        } else {\r\n             self.ui.srchResultMessage.css(\"display\", \"none\");\r\n             //show search results div\r\n            self.ui.srchResultList.css(\"display\", \"block\");\r\n        }\r\n    }\r\n  });\r\n\r\n  return searchresultView;\r\n\r\n});\r\n\n","csui.define('conws/widgets/outlook/impl/searchwksps/simplesearch.view',[\r\n    'csui/lib/underscore',\r\n    'csui/lib/handlebars',\r\n    'csui/lib/marionette',\r\n    'csui/lib/jquery',\r\n    'csui/widgets/search.custom/search.custom.view',\r\n\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'i18n!conws/widgets/outlook/impl/nls/lang'\r\n], function(_, Handlebars, Marionette, $, CustomSearchWidgetView, WkspUtil, lang) {\r\n\r\n    var simpleSearchView = CustomSearchWidgetView.extend({\r\n        constructor: function simpleSearchView(options) {\r\n            options || (options = {});\r\n\r\n            CustomSearchWidgetView.prototype.constructor.call(this, options);\r\n\r\n            this.context = options.context;\r\n            this.options = options;\r\n            this.options.parentView = this;\r\n            this.contentViewOptions = this.options;\r\n\r\n            WkspUtil.startGlobalSpinner();\r\n        },\r\n        initialize: function () {\r\n            _.bindAll(this, 'render', 'afterRender');\r\n            var self = this;\r\n            this.render = _.wrap(this.render, function (render) {\r\n                render();\r\n                self.afterRender();\r\n                return self;\r\n            }); \r\n        },\r\n\r\n        afterRender: function () {\r\n            this.verifyForm();\r\n        },\r\n\r\n        verifyForm: function() {\r\n            setTimeout(function checking() {\r\n                var att = $(\".customsearch-attr-container\");\r\n                if (att.length === 0) {\r\n                    setTimeout(checking, 100);\r\n                } else {\r\n                    WkspUtil.stopGlobalSpinner();\r\n\r\n                    var occupied = (WkspUtil.SearchFormBottomPadding + WkspUtil.TraceAreaHeight) + \"px\";\r\n                    $(\".tile-content\").css(\"height\", \"calc(100vh - \" + occupied +\")\");\r\n                }\r\n            }, 20);\r\n        }\r\n\r\n\r\n    });\r\n    return simpleSearchView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/searchwksps/impl/wksptype',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<option value=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.value || (depth0 != null ? depth0.value : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"value\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</option>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_searchwksps_impl_wksptype', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/searchwksps/wksptypes.view',[\r\n    'csui/lib/underscore',\r\n    \"csui/lib/jquery\",\r\n    'csui/lib/backbone',\r\n    'csui/lib/marionette',\r\n    'hbs!conws/widgets/outlook/impl/searchwksps/impl/wksptype' \r\n], function (_, $, Backbone, Marionette, template) {\r\n\r\n    var WkspTypesView = Marionette.LayoutView.extend({\r\n        tagName: 'option',\r\n\r\n        template: template,\r\n\r\n        templateHelpers: function () {\r\n            return {\r\n                value: this.id,\r\n                name: this.name\r\n            }\r\n        },\r\n\r\n        initialize: function (options) {\r\n            var wkspTypes = options.model.get('results');\r\n            this.collection = new Backbone.Collection(wkspTypes);\r\n        },\r\n\r\n        constructor: function WkspTypesView(options) {\r\n            this.model = options.model;\r\n            this.name = options.model.get('data').properties.wksp_type_name;\r\n            this.id = options.model.get('data').properties.wksp_type_id;\r\n\r\n            Marionette.LayoutView.prototype.constructor.call(this, options);\r\n        },\r\n\r\n        onRender: function () {\r\n            // Get rid of that pesky wrapping-div.\r\n            // Assumes 1 child element present in template.\r\n            this.$el = this.$el.children();\r\n            // Unwrap the element to prevent infinitely \r\n            // nesting elements during re-render.\r\n            this.$el.unwrap();\r\n            this.setElement(this.$el);\r\n        }\r\n    });\r\n\r\n    return WkspTypesView;\r\n\r\n});\n","csui.define('conws/widgets/outlook/impl/searchwksps/impl/simplesearchresult.model',[\r\n    'csui/lib/backbone',   \r\n    'csui/utils/url',      \r\n    'conws/widgets/outlook/impl/utils/utility'\r\n], function (Backbone, Url, WkspUtil) {\r\n\r\n    var simpleSearchresultModel = Backbone.Model.extend({\r\n\r\n        defaults: {\r\n            name: 'Unnamed'\r\n        },\r\n\r\n        constructor: function searchresultModel(attributes, options) {\r\n            Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n            if (options && options.context.connector) {\r\n                options.context.connector.assignTo(this);\r\n\r\n                this.pageSize = options.pageSize;\r\n                this.pageNo = options.pageNo;\r\n\r\n                this.nextPageUrl = \"\";\r\n                this.query = options.query;\r\n            }\r\n        },\r\n\r\n        url: function() {\r\n            var url = WkspUtil.v1ToV2(this.connector.connection.url),\r\n                query = this.query.toJSON(),\r\n                cacheId = \"\",\r\n                pagingString = \"\";\r\n\r\n            if (this.nextPageUrl) {\r\n                this.pageNo++;\r\n                var regEx = /cache_id=\\d+/g;\r\n                var cacheIdEx = regEx.exec(this.nextPageUrl);\r\n                cacheId = cacheIdEx.length > 0 ? cacheIdEx[0] : \"\";\r\n            }\r\n\r\n            pagingString = 'page=' + this.pageNo + '&limit=' + this.pageSize;\r\n            query = Url.combineQueryString(query, pagingString, cacheId);\r\n\r\n            return Url.combine(url, 'search?' + query);\r\n\r\n        }\r\n\r\n    });\r\n\r\n    return simpleSearchresultModel;\r\n\r\n});\r\n\n","csui.define('conws/widgets/outlook/impl/searchwksps/simplesearchresult.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',\r\n    'csui/lib/marionette',\r\n    'csui/lib/backbone',\r\n\r\n    'csui/utils/contexts/factories/search.query.factory',\r\n    'csui/utils/contexts/factories/search.results.factory',\r\n\r\n    'conws/widgets/outlook/impl/searchwksps/impl/simplesearchresult.model', \r\n\r\n    'conws/widgets/outlook/impl/wksp/wksp.view',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',       \r\n    'hbs!conws/widgets/outlook/impl/searchwksps/impl/searchresult',\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'       \r\n], function ($, _, Marionette, Backbone, SearchQueryModelFactory,\r\n    SearchResultsCollectionFactory, SimpleSearchResultModel, WkspView, WkspUtil, lang, template) {\r\n\r\n  var simpleSearchresultView = Marionette.CompositeView.extend({\r\n\r\n    className: 'wksp-srch-results',\r\n\r\n    template: template,\r\n\r\n    childView: WkspView,\r\n\r\n    childViewContainer: '#searchresult-list',\r\n\r\n    templateHelpers: function () {\r\n        return {\r\n            showMoreLink: lang.showMore_link,\r\n            showMoreWkspTitle: lang.showMore_wksp\r\n        }\r\n    },\r\n\r\n    ui: {\r\n        srchResultMessage: '#searchResultMsgArea',\r\n        srchResultList: '#searchresult-list'\r\n    },\r\n\r\n    events: {\r\n        'click #moreSearchWksp': 'retrieveNextPage'\r\n    },\r\n\r\n    constructor: function simpleSearchresultView(options) {\r\n\r\n        this.enableEmailSaving = options.enableEmailSaving;\r\n        this.pageNo = options.pageNo;\r\n        this.pageSize = options.pageSize;\r\n        this.context = options.context;\r\n\r\n        if (!options.query) {\r\n            options.query = this.context.getModel(SearchQueryModelFactory);\r\n        }\r\n\r\n        options.model = new SimpleSearchResultModel({}, options);\r\n        this.model = options.model;\r\n\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        // Whenever properties of the model change, re-render the view\r\n        this.listenTo(this.model, 'change', this.renderWksps);\r\n        //this.listenTo(this.model, 'sync', this.renderWksps);\r\n        this.listenTo(this.model, 'error', this.renderError);\r\n\r\n        this.model.fetch();\r\n    },\r\n\r\n    retrieveNextPage: function (options) {\r\n        var collection = this.model.get('collection');\r\n        var paging = collection.paging == null ? null : collection.paging;\r\n        if (paging && paging.links && paging.links.next && paging.links.next.href) {\r\n            WkspUtil.startGlobalSpinner();\r\n            this.model.nextPageUrl = paging.links.next.href;\r\n            this.model.fetch();\r\n        }\r\n    },\r\n\r\n    renderWksps: function (model, response, options) {\r\n        WkspUtil.stopGlobalSpinner();\r\n\r\n        var self = this,\r\n            collection = model.get('collection');\r\n        var paging = collection.paging == null ? null : collection.paging;\r\n        var isFirstPage = paging == null || paging.actions == null || paging.actions.previous;\r\n        var values = model.get('results');\r\n        //append enableEmailSaving flag to the collection\r\n        _.each(values, function (value){\r\n            value.enableEmailSaving = self.enableEmailSaving;\r\n        });\r\n\r\n        if (values.length === 0 && isFirstPage) {\r\n            if (self.pageNo === 1) {\r\n                self.renderMessage(lang.noWksp_search);\r\n            }\r\n        } else {\r\n            if (self.collection == null) {\r\n                self.collection = new Backbone.Collection(values);\r\n                self.render();\r\n            } else {\r\n                var origLength = self.collection.length; //original length before addition\r\n                self.collection.add((new Backbone.Collection(values)).toJSON());\r\n                self._addItems(self.collection.slice(origLength), origLength); //get latest added models\r\n            }\r\n        }\r\n\r\n        var nextButton = self.$('#moreSearchWksp');\r\n        if (paging && paging.links && paging.links.next && paging.links.next.href) {\r\n            nextButton.css(\"display\", \"block\");\r\n        } else {\r\n            nextButton.css(\"display\", \"none\");\r\n        }\r\n\r\n    },\r\n\r\n    _addItems: function (models, collIndex) {\r\n        var self = this,\r\n            ChildView;\r\n\r\n        _.each(models, function (model, index) {\r\n            ChildView = self.getChildView(model);\r\n            self._addChild(model, ChildView, collIndex + index);\r\n        });\r\n    },\r\n\r\n    _addChild: function (child, ChildView, index) {\r\n        return Backbone.Marionette.CompositeView.prototype.addChild.apply(this, arguments);\r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        WkspUtil.stopGlobalSpinner();\r\n\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(_.str.sformat(lang.error_retrieve_search, msg));\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;        \r\n\r\n        if (msg) {\r\n            //show message\r\n            self.ui.srchResultMessage.text(msg);\r\n            self.ui.srchResultMessage.css(\"display\", \"block\");\r\n            //hide search results div\r\n            self.ui.srchResultList.css(\"display\", \"none\");\r\n        } else {\r\n             self.ui.srchResultMessage.css(\"display\", \"none\");\r\n             //show search results div\r\n            self.ui.srchResultList.css(\"display\", \"block\");\r\n        }\r\n    }\r\n  });\r\n\r\n  return simpleSearchresultView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/searchwksps/impl/searchwksps',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\r\\n<div class=\\\"binf-panel-heading outlook-heading\\\" >\"\n    + this.escapeExpression(((helper = (helper = helpers.sectionTitle || (depth0 != null ? depth0.sectionTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"sectionTitle\",\"hash\":{}}) : helper)))\n    + \" \\r\\n    <!--<img src=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.serverOrigin || (depth0 != null ? depth0.serverOrigin : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"serverOrigin\",\"hash\":{}}) : helper)))\n    + \"/\"\n    + this.escapeExpression(((helper = (helper = helpers.supportFolder || (depth0 != null ? depth0.supportFolder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"supportFolder\",\"hash\":{}}) : helper)))\n    + \"/csui/themes/carbonfiber/image/icons/help_mo.svg\\\" class=\\\"wkspHelpIcon\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.helpTooltip || (depth0 != null ? depth0.helpTooltip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"helpTooltip\",\"hash\":{}}) : helper)))\n    + \"\\\" />-->\\r\\n</div>\\r\\n<div class=\\\"wkspSearch\\\">\\r\\n    <div class=\\\"wkspSearchInputName\\\">\\r\\n        <table class=\\\"wkspNameBox\\\">\\r\\n            <tr>\\r\\n                <td class=\\\"wkspInputWithClear\\\">\\r\\n                    <input class=\\\"wkspInput wkspSearchInput wkspSearchName\\\" id=\\\"wkspName\\\" type=\\\"search\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.wkspNamePlaceholder || (depth0 != null ? depth0.wkspNamePlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"wkspNamePlaceholder\",\"hash\":{}}) : helper)))\n    + \"\\\" placeholder=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.wkspNamePlaceholder || (depth0 != null ? depth0.wkspNamePlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"wkspNamePlaceholder\",\"hash\":{}}) : helper)))\n    + \"\\\" />\\r\\n                    <span class=\\\"searchClear wkspIcon\\\" id=\\\"searchClearButton\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.searchClearTooltip || (depth0 != null ? depth0.searchClearTooltip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"searchClearTooltip\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\"></span>\\r\\n                </td>\\r\\n                <td class=\\\"wkspSearchButton\\\">\\r\\n                    <span id=\\\"wkspTypeButton\\\" class=\\\"wkspIcon searchTypeIcon\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.selectWkspType || (depth0 != null ? depth0.selectWkspType : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"selectWkspType\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\"></span>\\r\\n                    <table class=\\\"wkspTypeDropdownTable\\\"><tr>\\r\\n                        <td>\\r\\n                            <div id=\\\"typeDropdown\\\" class=\\\"wkspTypeDropdown saveDisplayArea hiddenArea\\\"></div>\\r\\n                        </td>\\r\\n                    </tr></table>\\r\\n                </td>\\r\\n                <td class=\\\"wkspSearchButton\\\">\\r\\n                    <span id=\\\"searchButton\\\" class=\\\"wkspIcon searchIcon\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.searchTooltip || (depth0 != null ? depth0.searchTooltip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"searchTooltip\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\"></span>\\r\\n                </td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n                <td colspan=\\\"3\\\">\\r\\n                    <div id=\\\"wkspTypeMsg\\\" class=\\\"wkspTypeMsg hiddenArea\\\"></div>\\r\\n                </td>\\r\\n            </tr>\\r\\n        </table>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"binf-panel-heading outlook-heading hiddenArea\\\" id=\\\"searchResultHeading\\\">\\r\\n    <span class=\\\"headerIcon backwardIcon\\\" tabindex=\\\"0\\\" id=\\\"searchResultBackButton\\\"></span>\\r\\n    <span >\"\n    + this.escapeExpression(((helper = (helper = helpers.resultTitle || (depth0 != null ? depth0.resultTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"resultTitle\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n</div> \\r\\n<div id=\\\"search-result\\\"></div>\\r\\n\\r\\n<div class=\\\"wkspMessageArea\\\" id=\\\"searchMsgArea\\\"></div>\\r\\n\\r\\n\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_searchwksps_impl_searchwksps', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/searchwksps/searchwksps.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',                             \r\n    'csui/lib/marionette',                             \r\n    'csui/lib/backbone',\r\n    'csui/utils/contexts/page/page.context',\r\n    'csui/widgets/search.custom/search.custom.view',\r\n    'csui/utils/contexts/factories/search.query.factory',\r\n    'csui/utils/contexts/factories/next.node',\r\n\r\n    'conws/widgets/outlook/impl/searchwksps/impl/searchwksps.model.factory', \r\n    'conws/widgets/outlook/impl/searchwksps/searchresult.view',\r\n    'conws/widgets/outlook/impl/searchwksps/simplesearch.view',\r\n    'conws/widgets/outlook/impl/searchwksps/wksptypes.view',\r\n    'conws/widgets/outlook/impl/searchwksps/simplesearchresult.view',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/utils/csservice',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',       \r\n    'hbs!conws/widgets/outlook/impl/searchwksps/impl/searchwksps',        // Template to render the HTML\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'         \r\n], function ($, _, Marionette, Backbone, PageContext, CustomViewSearch, SearchQueryModelFactory, NextNodeModelFactory, searchwkspsModelFactory, SearchResultView, SimpleSearchView, WkspTypesView, SimpleSearchResultView, WkspUtil, CSService, lang, template) {\r\n\r\n    window.wkspTypeSelected = function(wkspId, wkspName){\r\n        $(\"#typeDropdown\").addClass(\"hiddenArea\");\r\n        if (wkspId === -100){\r\n            $(\"#wkspTypeMsg\").addClass(\"hiddenArea\");\r\n            $(\"#wkspTypeMsg\").removeClass(\"wkspTypeMsgDisplay\");\r\n            $(\"#wkspTypeMsg\").html(\"\");\r\n        } else{\r\n            $(\"#wkspTypeMsg\").removeClass(\"hiddenArea\");\r\n            $(\"#wkspTypeMsg\").addClass(\"wkspTypeMsgDisplay\");\r\n            $(\"#wkspTypeMsg\").html(lang.search_selected_wksp_type + \": <span style='font-weight: bold' title='\" + wkspName + \"'>\" + wkspName + \"</span>\");\r\n        }\r\n        WkspUtil.SelectedWkspTypeId = wkspId;\r\n        if (WkspUtil.WkspSearchPerformed){\r\n            $(\"#searchButton\").click();\r\n        }\r\n    }\r\n\r\n    var searchwkspsView = Marionette.CompositeView.extend({\r\n\r\n    className: 'searchWksps-conwsoutlook panel panel-default',\r\n\r\n    template: template,\r\n\r\n    ui: {\r\n        wkspNameBox: '#wkspName',\r\n        searchButton: '#searchButton',\r\n        searchClearButton: '#searchClearButton',\r\n        searchFormDropdown: '#searchFormDropdown'\r\n    },\r\n\r\n    events: {\r\n        'click #searchButton': 'searchWksps',\r\n        'keyup #wkspName': 'searchWkspsTyping',\r\n        'click #searchClearButton': 'clearSearch',\r\n        'click #searchResultBackButton': 'clearSearch',\r\n        'click #wkspTypeButton': 'openWkspTypeSelection',\r\n        'keyup' : 'processKey',\r\n        'focusin #searchButton': 'searchButtonFocused'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n        return {\r\n            serverOrigin: window.ServerOrigin,\r\n            supportFolder: window.ContentServerSupportPath,\r\n            sectionTitle: lang.sectionTitle_search,\r\n            helpTooltip: lang.help_button_tooltip,\r\n            searchTooltip: lang.search_button_tooltip,\r\n            searchClearTooltip: lang.search_clear_button_tooltip,\r\n            wkspNamePlaceholder: lang.search_wkspName_placeholder,\r\n            selectWkspType: lang.search_select_wksp_type,\r\n            resultTitle: lang.search_result_title\r\n        }\r\n    },\r\n\r\n    initialize: function(options) {\r\n        \r\n    },\r\n\r\n    constructor: function searchwkspsView(options) {\r\n        options.model = options.context.getModel(searchwkspsModelFactory);\r\n        this.pageSize = options.pageSize ? options.pageSize : WkspUtil.pageSize;\r\n        this.enableEmailSaving = options.enableEmailSaving;\r\n        this.showSearchForm = options.showSearchFormSelection ? options.showSearchFormSelection : false;\r\n        this.previousFormId = -1;\r\n\r\n        this.context = options.context;\r\n\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        this.listenTo(this.model, 'change', this.renderSearchForm);\r\n        this.listenTo(this.model, 'error', this.renderError);\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;\r\n        var msgArea = self.$('#searchMsgArea');\r\n\r\n        if (msg) {\r\n            msgArea.css(\"display\", \"block\");\r\n            msgArea.html(msg);\r\n        } else {\r\n            msgArea.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    renderSearchForm: function (model, response, options) {\r\n        var self = this;\r\n        var values = model.get('results');\r\n        self.render();\r\n\r\n        var wkspTypeSelection = \"\",\r\n            selectionFormat = \"<a href=\\\"javascript:wkspTypeSelected({0},'{1}');\\\" title='{1}' style='width:80vw; white-space:nowrap; overflow-x:hidden; text-overflow:ellipsis; display:flow-root list-item;'><div style='display:inline'>{1}</div></a>\";\r\n        for (var i = 0; i < values.length; i++){\r\n            var val = values[i];\r\n            var name = val.data.properties.wksp_type_name,\r\n                id = val.data.properties.wksp_type_id;\r\n            wkspTypeSelection += _.str.sformat(selectionFormat, id, name);\r\n        }\r\n        self.$('#typeDropdown').html(wkspTypeSelection);\r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(msg);\r\n    },\r\n\r\n    processKey: function(e) {\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"wkspTypeButton\"){\r\n                this.openWkspTypeSelection(e);\r\n            } else if (e.target.id === \"searchButton\"){\r\n                this.searchWksps(e);\r\n            } else if (e.target.id === \"searchClearButton\" || e.target.id === \"searchResultBackButton\"){\r\n                this.clearSearch(e);\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    searchButtonFocused: function(e){\r\n        $(\"#typeDropdown\").addClass(\"hiddenArea\");\r\n    },\r\n\r\n    searchWksps: function(args) {\r\n        var self = this,\r\n            wkspName = self.$('#wkspName').val(),\r\n            wkspTypeId = WkspUtil.SelectedWkspTypeId,\r\n            searchClearButton = self.$('#searchClearButton'),\r\n            msg = '';\r\n\r\n        WkspUtil.uiShow(\"searchResultHeading\");\r\n        WkspUtil.uiHide(\"nonSearchSections\");\r\n\r\n        searchClearButton.css(\"display\", \"block\");\r\n        var resultRegion = new Marionette.Region({\r\n            el: '#search-result'\r\n        });\r\n\r\n        if (wkspTypeId === -100 && wkspName === \"\") {\r\n            msg = lang.search_noCondition;\r\n            resultRegion.$el.hide();\r\n        } else {\r\n            msg = '';\r\n            resultRegion.$el.show();\r\n            var typeAhead = args.target.id === \"wkspName\";\r\n            var resultView = new SearchResultView({\r\n                connector: this.model.connector,\r\n                wkspTypeId: wkspTypeId,\r\n                wkspName: wkspName,\r\n                typeAhead: typeAhead,\r\n                pageSize: this.pageSize,\r\n                pageNo: 1,\r\n                enableEmailSaving: this.enableEmailSaving\r\n            });\r\n\r\n            WkspUtil.WkspSearchPerformed = true;\r\n            resultRegion.show(resultView);\r\n            // start the spinner\r\n            WkspUtil.startGlobalSpinner();\r\n        }\r\n        this.renderMessage(msg);\r\n    },\r\n\r\n    clearSearch: function(args) {\r\n        var self = this,\r\n            wkspName = self.$('#wkspName'),\r\n            searchClearButton = self.$('#searchClearButton'),\r\n            resultRegion = new Marionette.Region({\r\n                el: '#search-result'\r\n            });\r\n\r\n        wkspName.val('');\r\n        searchClearButton.css(\"display\", \"none\");\r\n        resultRegion.$el.hide();\r\n\r\n        WkspUtil.uiHide(\"searchResultHeading\");\r\n        WkspUtil.uiShow(\"nonSearchSections\");\r\n\r\n        WkspUtil.SelectedWkspTypeId = -100;\r\n        WkspUtil.WkspSearchPerformed = false;\r\n        WkspUtil.uiHide(\"wkspTypeMsg\");\r\n        $(\"#wkspTypeMsg\").removeClass(\"wkspTypeMsgDisplay\");\r\n        $(\"#wkspTypeMsg\").html(\"\");\r\n\r\n        this.renderMessage('');\r\n        $(\"#conwsoutlook-body\").focus();\r\n    },\r\n\r\n    searchWkspsTyping: function (args) {\r\n        var view = this,\r\n            wkspName = view.$('#wkspName').val();\r\n        if (wkspName.length >= 2) {\r\n            this.searchWksps(args);\r\n        }\r\n    },\r\n\r\n    openWkspTypeSelection: function() {\r\n        $(\"#typeDropdown\").toggleClass(\"hiddenArea\");\r\n    }\r\n\r\n  });\r\n\r\n  return searchwkspsView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/suggestedwksps/impl/suggestedwksps',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\r\\n<div class=\\\"binf-panel-heading outlook-heading\\\">\\r\\n    \\r\\n    <span class=\\\"headerIcon sectionToggleIcon\\\" id=\\\"suggestedToggleIcon\\\" tabindex=\\\"0\\\"></span>\\r\\n    <span >\"\n    + this.escapeExpression(((helper = (helper = helpers.sectionTitle || (depth0 != null ? depth0.sectionTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"sectionTitle\",\"hash\":{}}) : helper)))\n    + \"</span> <span id=\\\"suggestedCount\\\"></span>\\r\\n    \\r\\n    <span style=\\\"float: right\\\">\\r\\n    <div id=\\\"suggestedWkspSpinner\\\" class=\\\"load-container binf-hidden\\\">\\r\\n        <div class=\\\"outer-border wksp-outer-border\\\">\\r\\n            <div class=\\\"loader wksp-loader\\\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n    </span>    \\r\\n</div>\\r\\n<div id=\\\"suggestedSection\\\">\\r\\n    <div id=\\\"suggested-list\\\"></div>\\r\\n    <div class=\\\"wkspMessageArea\\\" id=\\\"suggestedWkspMsgArea\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_suggestedwksps_impl_suggestedwksps', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/suggestedwksps/suggestedwksps.view',[\r\n  'csui/lib/jquery',  \r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/lib/backbone',\r\n\r\n  'conws/widgets/outlook/impl/wksp/wksp.view',\r\n\r\n  'i18n!conws/widgets/outlook/impl/nls/lang',      \r\n   'hbs!conws/widgets/outlook/impl/suggestedwksps/impl/suggestedwksps',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/utils/csservice',\r\n   'css!conws/widgets/outlook/impl/conwsoutlook'\r\n    \r\n], function ($, _, Marionette, Backbone, WkspView, lang, template, WkspUtil, CSService) {\r\n  var suggestedwkspsView = Marionette.CompositeView.extend({\r\n    className: 'suggestedWksps-conwsoutlook panel panel-default',\r\n\r\n    template: template,\r\n\r\n    childView: WkspView,\r\n\r\n    childViewContainer: '#suggested-list',\r\n\r\n    templateHelpers: function() {\r\n        return {\r\n            sectionTitle: lang.sectionTitle_suggested\r\n        }\r\n    },\r\n\r\n    events: {\r\n        'click #suggestedToggleIcon': 'toggleIconClicked',\r\n        'keyup' : 'processKey'\r\n    },\r\n\r\n    constructor: function suggestedwkspsView(options) {\r\n        var self = this;\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        self.error = options.error;\r\n        self.config = options.config;\r\n        self.connector = options.context.connector;\r\n\r\n        setTimeout(function() {\r\n            WkspUtil.startLocalSpinner('suggestedWkspSpinner');\r\n            self.renderMessage(self, lang.info_retrieving);\r\n        });\r\n\r\n        if (options.error) {\r\n            setTimeout(function () {\r\n                WkspUtil.stopLocalSpinner('suggestedWkspSpinner');\r\n                self.renderError(options.error);\r\n            });\r\n        } else {\r\n            var promise = CSService.getSuggestedWksps(options.context.connector, window.CurrentEmailItem, options.config);\r\n            promise.done(function (data) { self.renderWksps(data) });\r\n            promise.fail(function (error) { self.renderError(error) });        \r\n        }\r\n    },\r\n\r\n    renderWksps: function (data) {\r\n        WkspUtil.stopLocalSpinner('suggestedWkspSpinner');\r\n\r\n        var self = this;\r\n        self.collection = new Backbone.Collection(data.results);\r\n        self.render();\r\n        var msg = \"\";\r\n        if (self.collection.length === 0) {\r\n            msg = lang.noWksp_suggested;\r\n\r\n            $(\"#suggestedToggleIcon\").click();\r\n        }\r\n\r\n        $(\"#suggestedCount\").html(\"(\" + self.collection.length + \")\");\r\n\r\n        if (data.errors != null && data.errors.length > 0) {\r\n            var errorMsg = data.errors.join(\"<br/>\");\r\n            errorMsg = _.str.sformat(lang.error_retrieve_suggested, errorMsg);\r\n            msg = msg === \"\" ? errorMsg : msg + \"<br/>\" + errorMsg;\r\n        }\r\n\r\n        if (msg !== \"\") {\r\n            self.renderMessage(self, msg);\r\n        }\r\n    },\r\n\r\n    refresh: function(){\r\n        var self = this;\r\n        if (self.error){\r\n            return;\r\n        }\r\n\r\n        WkspUtil.writeTrace(\"The suggested workspaces is being refreshed....\");\r\n        \r\n        setTimeout(function() {\r\n            WkspUtil.startLocalSpinner('suggestedWkspSpinner');\r\n            self.renderMessage(self, lang.info_retrieving);\r\n        });\r\n        var promise = CSService.getSuggestedWksps(self.connector, window.CurrentEmailItem, self.config);\r\n        promise.done(function (data) { self.renderWksps(data) });\r\n        promise.fail(function (error) { self.renderError(error) });        \r\n    },\r\n\r\n    renderError: function (error) {\r\n        WkspUtil.stopLocalSpinner('suggestedWkspSpinner');\r\n        var self = this;\r\n        var msg = error.responseJSON != null ? error.responseJSON.error : error;\r\n        \r\n        self.renderMessage(self, _.str.sformat(lang.error_retrieve_suggested, msg));\r\n    },\r\n\r\n    renderMessage: function (self, msg) {\r\n        var msgArea = self.$('#suggestedWkspMsgArea');\r\n\r\n        if (msg) {\r\n            msgArea.css(\"display\", \"block\");\r\n            msgArea.html(msg);\r\n        } else {\r\n            msgArea.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    processKey: function(e) {\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"suggestedToggleIcon\"){\r\n                this.toggleIconClicked(e);\r\n            } \r\n        }\r\n    },\r\n\r\n    toggleIconClicked: function(args){\r\n        WkspUtil.collapsibleClicked(\"suggested\");\r\n    }\r\n  });\r\n\r\n  return suggestedwkspsView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/searchwksps/impl/customsearch',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\r\\n<div id=\\\"customSearchFormArea\\\">\\r\\n    <div class=\\\"binf-panel-heading outlook-heading\\\" >\\r\\n        <span class=\\\"headerIcon backwardIcon\\\" tabindex=\\\"0\\\" id=\\\"customSearchBack\\\"></span>\\r\\n        <span >\"\n    + this.escapeExpression(((helper = (helper = helpers.sectionTitle || (depth0 != null ? depth0.sectionTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"sectionTitle\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n    </div>    \\r\\n    <div class=\\\"wkspSearch\\\">\\r\\n\\r\\n        <div class=\\\"wkspSearchForm\\\" id=\\\"searchFormListDiv\\\">\\r\\n            <label class=\\\"searchFormLabel\\\" for=\\\"searchFormDW\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.selectSearchForm || (depth0 != null ? depth0.selectSearchForm : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"selectSearchForm\",\"hash\":{}}) : helper)))\n    + \"</label>\\r\\n            <select class=\\\"wkspInput wkspSearchInput wkspSearchSelect\\\" id=\\\"searchFormDW\\\" onmousedown=\\\"document.getElementById('searchFormDW').focus();\\\"></select>\\r\\n        </div>\\r\\n\\r\\n        <div id=\\\"searchFormDiv\\\"></div>\\r\\n    </div>\\r\\n    <div class=\\\"wkspMessageArea\\\" id=\\\"searchMsgArea\\\"></div>\\r\\n</div>\\r\\n\\r\\n<div id=\\\"customSearchResultArea\\\" class=\\\"hiddenArea\\\">\\r\\n    <div class=\\\"binf-panel-heading outlook-heading\\\" >\\r\\n        <span class=\\\"headerIcon backwardIcon\\\" tabindex=\\\"0\\\" id=\\\"customSearchResultBack\\\"></span>\\r\\n        <span >\"\n    + this.escapeExpression(((helper = (helper = helpers.resultTitle || (depth0 != null ? depth0.resultTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"resultTitle\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n    </div>    \\r\\n    <div id=\\\"customSearchResult\\\"></div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_searchwksps_impl_customsearch', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/impl/searchwksps/customSearchSection.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',                             \r\n    'csui/lib/marionette',                             \r\n    'csui/lib/backbone',\r\n    'csui/utils/contexts/page/page.context',\r\n    'csui/widgets/search.custom/search.custom.view',\r\n    'csui/utils/contexts/factories/search.query.factory',\r\n    'csui/utils/contexts/factories/next.node',\r\n\r\n    'conws/widgets/outlook/impl/searchwksps/impl/searchwksps.model.factory', \r\n    'conws/widgets/outlook/impl/searchwksps/searchresult.view',\r\n    'conws/widgets/outlook/impl/searchwksps/simplesearch.view',\r\n    'conws/widgets/outlook/impl/searchwksps/wksptypes.view',\r\n    'conws/widgets/outlook/impl/searchwksps/simplesearchresult.view',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/utils/csservice',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',       \r\n    'hbs!conws/widgets/outlook/impl/searchwksps/impl/customsearch',        // Template to render the HTML\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'         \r\n], function ($, _, Marionette, Backbone, PageContext, CustomViewSearch, SearchQueryModelFactory, NextNodeModelFactory, searchwkspsModelFactory, SearchResultView, SimpleSearchView, WkspTypesView, SimpleSearchResultView, WkspUtil, CSService, lang, template) {\r\n\r\n    var customSearchSectionView = Marionette.CompositeView.extend({\r\n\r\n    className: 'searchWksps-conwsoutlook panel panel-default',\r\n\r\n    template: template,\r\n\r\n\r\n    ui: {\r\n        searchFormDW: '#searchFormDW'\r\n    },\r\n\r\n    events: {\r\n        'change #searchFormDW': 'searchFormChange',\r\n        'click #customSearchResultBack': 'backToSearchForm',\r\n        'click #customSearchBack': 'backToStandard',\r\n        'keyup #customSearchBack, #customSearchResultBack': 'processKey'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n        return {\r\n            serverOrigin: window.ServerOrigin,\r\n            supportFolder: window.ContentServerSupportPath,\r\n            sectionTitle: lang.sectionTitle_customSearch,\r\n            selectSearchForm: lang.search_select_form,\r\n            resultTitle: lang.search_result_title\r\n        }\r\n    },\r\n\r\n    initialize: function(options) {\r\n        \r\n    },\r\n\r\n    constructor: function searchwkspsView(options) {\r\n        this.pageSize = options.pageSize ? options.pageSize : WkspUtil.pageSize;\r\n        this.enableEmailSaving = options.enableEmailSaving;\r\n        this.showSearchForm = options.showSearchFormSelection ? options.showSearchFormSelection : false;\r\n        this.previousFormId = -1;\r\n        this.queries = options.queries;\r\n\r\n        this.context = options.context;\r\n\r\n        Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n        var self = this;\r\n        setTimeout(function(){self.renderSearchForm();});\r\n\r\n    },\r\n\r\n    renderMessage: function (msg) {\r\n        var self = this;\r\n        var msgArea = self.$('#searchMsgArea');\r\n\r\n        if (msg) {\r\n            msgArea.css(\"display\", \"block\");\r\n            msgArea.html(msg);\r\n        } else {\r\n            msgArea.css(\"display\", \"none\");\r\n        }\r\n    },\r\n\r\n    renderSearchForm: function (model, response, options) {\r\n        var self = this;\r\n        self.render();\r\n\r\n        if (self.queries != null && self.queries.length !== 0) {\r\n            self.$('#searchFormListDiv').css(\"display\", \"block\");\r\n            var optionFormat = \"<option value='{0}'>{1}</option>\";\r\n            var formOptions = \"\"; // = _.str.sformat(optionFormat, -1, lang.search_wksp_typeName);\r\n            for (var i = 0; i < self.queries.length; i++) {\r\n                var query = self.queries[i];\r\n                formOptions = formOptions + _.str.sformat(optionFormat, query[1], query[0]);\r\n            }\r\n            self.$('#searchFormDW').html(formOptions);\r\n\r\n            var context = new PageContext({ factories: { connector: self.options.context.connector } });\r\n            context.connector = self.options.context.connector;\r\n\r\n            var searchFormRegion = new Marionette.Region({\r\n                    el: '#searchFormDiv'\r\n            });\r\n            WkspUtil.writeTrace(\"Showing custom search view for ID: .\" + self.queries[0][1]);\r\n            var queryView = new SimpleSearchView({ context: context, savedSearchQueryId: self.queries[0][1] });\r\n            searchFormRegion.show(queryView);\r\n            self.refreshQueryModel(context);\r\n            context.fetch();\r\n        }\r\n    },\r\n\r\n    renderError: function (model, response, options) {\r\n        var self = this;\r\n        var msg = model.get('error');\r\n        if (!msg) {\r\n            msg = typeof (response) !== 'object' ? JSON.parse(response).error : response.responseJSON ? response.responseJSON.error : response.error;\r\n        }\r\n\r\n        self.renderMessage(msg);\r\n    },\r\n\r\n    processKey: function(e){\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"customSearchBack\"){\r\n                this.backToStandard(e);\r\n            } else if(e.target.id === \"customSearchResultBack\"){\r\n                this.backToSearchForm(e);\r\n            }\r\n        }\r\n    },\r\n\r\n    searchFormChange: function (args) {\r\n        var self = this,\r\n            formId = self.$('#searchFormDW').val();\r\n\r\n        this.renderMessage('');\r\n        var resultRegion = new Marionette.Region({ el: '#customSearchResult' });\r\n        resultRegion.$el.empty();\r\n\r\n        // if token expired, the search is not properly rendered. But the search button is disabled.\r\n        var forceRender = $('#csui-custom-search-form-submit').hasClass('csui-search-form-submit-disabled');\r\n\r\n        if (formId === \"-1\") {\r\n            self.$('#searchFormWkspTypeName').css(\"display\", \"block\");\r\n            self.$('#searchFormDiv').css(\"display\", \"none\");\r\n        } else {\r\n            self.$('#searchFormWkspTypeName').css(\"display\", \"none\");\r\n            self.$('#searchFormDiv').css(\"display\", \"block\");\r\n            if (forceRender || self.previousFormId !== formId) {\r\n                WkspUtil.startGlobalSpinner();\r\n                self.previousFormId = formId;\r\n\r\n                var context = new PageContext({ factories: { connector: self.options.context.connector } });\r\n                context.connector = self.options.context.connector;\r\n\r\n                var searchFormRegion = new Marionette.Region({\r\n                        el: '#searchFormDiv'\r\n                });\r\n                WkspUtil.writeTrace(\"Showing custom search view for ID: .\" + formId);\r\n                var queryView = new SimpleSearchView({ context: context, savedSearchQueryId: formId });\r\n                searchFormRegion.show(queryView);\r\n                self.refreshQueryModel(context);\r\n                context.fetch();\r\n            }\r\n        }\r\n    },\r\n\r\n    refreshQueryModel: function (context) {\r\n        var self = this;\r\n        var queryModel = context.getModel(SearchQueryModelFactory);\r\n\r\n        // Office.js set history.pushState to null which breaks cs.ui functionality. In Outlook add-in, we don't really need to\r\n        // save the history state, so it's safe to set this function to empty. This won't affect cs.ui functions outside of Outlook add-in. \r\n        history.pushState = function() {};\r\n\r\n        queryModel.on('change', Function.createDelegate(this,  //The search button is clicked\r\n            function (event) {\r\n                var searchResultsRegion = new Marionette.Region({el: '#customSearchResult'});\r\n                var searchResultsView = new SimpleSearchResultView({\r\n                        context: context,\r\n                        pageSize: self.pageSize,\r\n                        pageNo: 1,\r\n                        enableEmailSaving: self.enableEmailSaving\r\n                    });\r\n                WkspUtil.startGlobalSpinner();\r\n                WkspUtil.uiHide(\"customSearchFormArea\");\r\n                WkspUtil.uiShow(\"customSearchResultArea\");\r\n                searchResultsRegion.show(searchResultsView);\r\n            }));\r\n\r\n        context.fetch();\r\n    },\r\n\r\n    backToSearchForm: function(args){\r\n        WkspUtil.uiShow(\"customSearchFormArea\");\r\n        WkspUtil.uiHide(\"customSearchResultArea\");\r\n        $(\"#conwsoutlook-body\").focus();\r\n    },\r\n\r\n    backToStandard: function(args){\r\n        WkspUtil.uiShow(\"standardSections\");\r\n        WkspUtil.uiShow(\"customSearchButton\");\r\n        WkspUtil.uiHide(\"customSearchSection\");\r\n\r\n        WkspUtil.PreSaveSection = \"standardSections\";\r\n        $(\"#conwsoutlook-body\").focus();\r\n    }\r\n\r\n  });\r\n\r\n  return customSearchSectionView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!conws/widgets/outlook/impl/conwsoutlook',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"outlook-container\\\" >\\r\\n\\r\\n    <div class=\\\"mainPageContent\\\" id=\\\"standardSections\\\">\\r\\n        <div class=\\\"outlook-col\\\" id=\\\"searchRegion\\\" ></div>\\r\\n        <div id=\\\"nonSearchSections\\\">\\r\\n            <div class=\\\"outlook-col\\\" id=\\\"suggestedRegion\\\" ></div>\\r\\n            <div class=\\\"outlook-col\\\" id=\\\"favoriteRegion\\\" ></div>\\r\\n            <div class=\\\"outlook-col\\\" id=\\\"recentRegion\\\" ></div>\\r\\n        </div>\\r\\n    </div>  \\r\\n\\r\\n    <div id=\\\"customSearchSection\\\" class=\\\"hiddenArea\\\"></div>\\r\\n    <div id=\\\"savePanel\\\" class=\\\"hiddenArea\\\"></div>\\r\\n\\r\\n    <div class=\\\"customSearchButton outlook-heading binf-panel-heading hiddenArea\\\" id=\\\"customSearchButton\\\">\\r\\n        <span class=\\\"headerIcon forwardIcon\\\" id=\\\"customerSearchButtonIcon\\\" tabindex=\\\"0\\\"></span>\\r\\n        <span >\"\n    + this.escapeExpression(((helper = (helper = helpers.customSearchLabel || (depth0 != null ? depth0.customSearchLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"customSearchLabel\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n    \\r\\n    <div id=\\\"dialogRegion\\\"></div>\\r\\n\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('conws_widgets_outlook_impl_conwsoutlook', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('conws/widgets/outlook/conwsoutlook.view',[\r\n    'csui/lib/jquery',\r\n    'csui/lib/underscore',\r\n    'csui/lib/marionette',\r\n    'csui/lib/backbone',\r\n    'csui/utils/contexts/page/page.context',\r\n    'csui/utils/contexts/factories/connector',\r\n    'csui/utils/authenticators/request.authenticator',\r\n    'csui/utils/url',\r\n    'csui/utils/nodesprites',\r\n    'conws/utils/icons/icons',\r\n    'conws/widgets/outlook/impl/recentwksps/recentwksps.view',\r\n    'conws/widgets/outlook/impl/favoritewksps/favoritewksps.view',\r\n    'conws/widgets/outlook/impl/searchwksps/searchwksps.view',\r\n    'conws/widgets/outlook/impl/suggestedwksps/suggestedwksps.view',\r\n    'conws/widgets/outlook/impl/searchwksps/customSearchSection.view',\r\n    'conws/widgets/outlook/impl/dialog/authenticator',\r\n    'conws/widgets/outlook/impl/utils/utility',\r\n    'conws/widgets/outlook/impl/utils/csservice',\r\n\r\n    'conws/widgets/outlook/impl/metadata/metadata.forms.view',\r\n    'csui/utils/contexts/factories/node',\r\n\r\n    'i18n!conws/widgets/outlook/impl/nls/lang',\r\n    'hbs!conws/widgets/outlook/impl/conwsoutlook',\r\n    'css!conws/widgets/outlook/impl/conwsoutlook'\r\n], function ($, _, Marionette, Backbone, PageContext, ConnectorFactory, RequestAuthenticator, Url, NodeSprites, ConwsIcons, RecentWkspsView, FavoriteWkspsView, SearchWkspsView, SuggestedWkspsView, CustomSearchSectionView, Authenticator, WkspUtil, CSService, MetadataFormsView, NodeModelFactory, lang, template) {\r\n\r\n    var conwsoutlookView = Marionette.LayoutView.extend({\r\n\r\n    className: 'conwsoutlook ',\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n        searchRegion: '#searchRegion',\r\n        favoriteRegion: '#favoriteRegion',\r\n        recentRegion: '#recentRegion',\r\n        suggestedRegion: '#suggestedRegion',\r\n        customSearchRegion: \"#customSearchSection\",\r\n        customViewSearchResultRegion: \"#customViewSearchResultRegion\",\r\n        dialogRegion: '#dialogRegion'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n        return {\r\n            customSearchLabel: lang.search_custom_button_label\r\n        }\r\n    },\r\n\r\n    events: {\r\n        'click #customSearchButton': 'showCustomSearch',\r\n        'keyup': 'processKey'\r\n    },\r\n\r\n    initialize: function(options) {\r\n        this.context = this.options.context;\r\n\r\n        var paras = {\r\n            authenticator: new RequestAuthenticator({})\r\n        };\r\n        this.connector = this.context.getObject(ConnectorFactory, paras);\r\n        WkspUtil.setConnector(this.connector);\r\n\r\n        var self = this,\r\n            urlObj = new Url(this.connector.connection.url);\r\n\r\n        this.connector.timeoutProcessed = false;\r\n\r\n        this.connector.authenticator.on(\"loggedOut\", function (args) {\r\n            WkspUtil.stopGlobalSpinner();\r\n            if (!self.connector.timeoutProcessed) {\r\n                WkspUtil.writeTrace(\"Session logged out.\");\r\n                WkspUtil.disableSimpleSearch();\r\n                self.connector.timeoutProcessed = true;\r\n                var authenticator = new Authenticator({ context: self.context, centerVertically: true });\r\n                authenticator.authenticate()\r\n                    .done(function(result){\r\n                        authenticator.beingAuthenticated = false;\r\n                    });\r\n            }\r\n        });\r\n\r\n        window.ServerOrigin = urlObj.getOrigin();\r\n        window.ServerCgiScript = urlObj.getCgiScript();\r\n\r\n        // Register CONWS icons\r\n        NodeSprites.add(ConwsIcons);\r\n\r\n        // extend a whenAll method\r\n        var rawWhen = $.when;\r\n        $.whenAll = function (promise) {\r\n            if ($.isArray(promise)) {\r\n                var dfd = new $.Deferred();\r\n                rawWhen.apply($, promise).done(function () {\r\n                    dfd.resolve(Array.prototype.slice.call(arguments));\r\n                }).fail(function () {\r\n                    dfd.reject(Array.prototype.slice.call(arguments));\r\n                });\r\n                return dfd.promise();\r\n            } else {\r\n                return rawWhen.apply($, arguments);\r\n            }\r\n        }\r\n    },\r\n\r\n    onBeforeShow: function (options) {\r\n        var self = this;\r\n\r\n        var authenticator = new Authenticator({ context: self.context, centerVertically: true });\r\n        WkspUtil.startGlobalSpinner();\r\n        authenticator.authenticate()\r\n            .done(function (result) {\r\n                WkspUtil.stopGlobalSpinner();\r\n                authenticator.beingAuthenticated = false;\r\n                if (result) {\r\n                    self.context.connector = WkspUtil.getConnector();\r\n                    var addinConfigPromise = CSService.getAddinConfig(self.context.connector);\r\n                    addinConfigPromise.done(function (config) {\r\n                        WkspUtil.setConfig(config, self.context.csUser);\r\n                        \r\n                        self.getRegion('recentRegion').show(new RecentWkspsView({ context: self.context }));\r\n                        self.getRegion('favoriteRegion').show(new FavoriteWkspsView({ context: self.context }));\r\n                        self.getRegion('searchRegion').show(new SearchWkspsView({ context: self.context, enableEmailSaving: true, showSearchFormSelection: WkspUtil.ShowSearchFormSelection }));\r\n\r\n                        var wkspConfigPromise = CSService.getSuggestedWkspConfig(self.context.connector);\r\n                        wkspConfigPromise.done(function (wkspConfig) {\r\n                            if (wkspConfig == null || wkspConfig.general == null) {\r\n                                WkspUtil.SuggestedWkspsView = new SuggestedWkspsView({ error: \"NoConfiguration\" });\r\n                                self.getRegion('suggestedRegion').show(WkspUtil.SuggestedWkspsView);\r\n                            } else if (wkspConfig.general.showSection) {\r\n                                WkspUtil.SuggestedWkspsView = new SuggestedWkspsView({ context: self.context, config: wkspConfig });\r\n                                self.getRegion('suggestedRegion').show(WkspUtil.SuggestedWkspsView);\r\n                            } else {\r\n                                self.getRegion('suggestedRegion').$el.css(\"display\", \"none\");\r\n                            }\r\n                        });\r\n                        wkspConfigPromise.fail(function(error) {\r\n                            WkspUtil.SuggestedWkspsView = new SuggestedWkspsView({ error: error });\r\n                            self.getRegion('suggestedRegion').show(WkspUtil.SuggestedWkspsView);\r\n                        });\r\n\r\n                        // Show the custom search button and custom search region\r\n                        if (config.searchForm.enabled){\r\n                            var queriesPromise = CSService.getSimpleSearchQueries(self.context.connector);\r\n                            queriesPromise.done(function (queries) {\r\n                                if (queries != null && queries.length !== 0) {\r\n                                    WkspUtil.uiShow('customSearchButton');\r\n                                    var top = 'calc(100vh - ' + (WkspUtil.SearchButtonHeight + WkspUtil.TraceAreaHeight) + 'px)';\r\n                                    $('#customSearchButton').css('top', top);\r\n                                    self.getRegion('customSearchRegion').show(new CustomSearchSectionView({ context: self.context, queries: queries }));\r\n\r\n                                    // override the hide method to resume the search button position and searc form height after clicking trace hide button\r\n                                    if (WkspUtil.TraceAreaHeight > 0){\r\n                                        var frames = document.querySelectorAll('iframe[id^=\"log4javascript_\"]');\r\n                                        if (frames.length > 0){\r\n                                            var hideFunc = frames[0].contentWindow.hide;\r\n\r\n                                            if (typeof hideFunc === \"function\"){\r\n                                                frames[0].contentWindow.hide = function(){\r\n                                                    $('#customSearchButton').css('top', 'calc(100vh - ' + WkspUtil.SearchButtonHeight + 'px)');\r\n                                                    $(\".tile-content\").css('height', 'calc(100vh - ' + WkspUtil.SearchFormBottomPadding +'px)');\r\n                                                    $('#saveDisplayArea').css('height', 'calc(100vh - 32px');\r\n                                                    WkspUtil.TraceAreaHeight = 0;\r\n                                                    hideFunc();\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                            queriesPromise.fail(function (error) {\r\n                                $('#topMessage').html(WkspUtil.getErrorMessage(error));\r\n                            });\r\n                        }\r\n                        \r\n                        self.context.fetch();\r\n                    });\r\n                    addinConfigPromise.fail(function(errMsg) {\r\n                        $('#topMessage').html(errMsg);\r\n                    });\r\n                }\r\n            });\r\n        $(\"#conwsoutlook-body\").focus();\r\n    },\r\n\r\n    constructor: function conwsoutlookView(options) {\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    processKey: function(e){\r\n        if (e.which === 13 || e.which === 32) {\r\n            if (e.target.id === \"customerSearchButtonIcon\"){\r\n                this.showCustomSearch(e);\r\n            } \r\n        }\r\n    },\r\n\r\n    showCustomSearch: function(){\r\n        WkspUtil.uiHide(\"standardSections\");\r\n        WkspUtil.uiHide(\"customSearchButton\");\r\n        WkspUtil.uiShow(\"customSearchSection\");\r\n\r\n        WkspUtil.PreSaveSection = \"customSearchSection\";\r\n        $(\"#conwsoutlook-body\").focus();\r\n    }\r\n\r\n  });\r\n\r\n  return conwsoutlookView;\r\n\r\n});\r\n\n","csui.define('conws/widgets/configurationvolume/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/widgets/configurationvolume/impl/nls/root/lang',{\r\n  emptyResultsText: 'There are no items to display.'\r\n});\r\n\n","\ncsui.define('css!conws/widgets/configurationvolume/impl/configurationvolume',[],function(){});\n","// Shows the Shortcuts widget of specific nodes\r\ncsui.define('conws/widgets/configurationvolume/configurationvolume.view',[\r\n  \"csui/lib/underscore\",\r\n  \"csui/lib/jquery\",\r\n  \"csui/lib/backbone\",\r\n  \"csui/lib/marionette\",\r\n  \"csui/widgets/shortcuts/shortcuts.view\",\r\n  \"csui/controls/tile/behaviors/perfect.scrolling.behavior\",\r\n  \"csui/behaviors/keyboard.navigation/tabable.region.behavior\",\r\n  \"conws/models/configurationvolume/configurationvolume.factory\",\r\n  \"i18n!conws/widgets/configurationvolume/impl/nls/lang\",\r\n  \"css!conws/widgets/configurationvolume/impl/configurationvolume\"\r\n], function (_,\r\n    $,\r\n    Backbone,\r\n    Marionette,\r\n    ShortcutsView,\r\n    PerfectScrollingBehavior,\r\n    TabableRegionBehavior,\r\n    ConfigurationVolumeFactory,\r\n    lang) {\r\n\r\n  var EmptyVolumeView = Marionette.View.extend({\r\n    className: \"conws-empty-configurevolume-container\",\r\n    onShow: function() {\r\n      this.$el.text(lang.emptyResultsText);\r\n    }\r\n  });\r\n\r\n  var THEME_SUFFIX = [\"shade1\", \"shade2\", \"shade3\", \"shade4\"];\r\n\r\n  var ConfigurationVolumeView = ShortcutsView.extend({\r\n\r\n    // CSS class names\r\n    className: 'conws-volumeshortcut-container csui-shortcut-container tile',\r\n\r\n    attributes: {\r\n      role: 'menu'\r\n    },\r\n\r\n    constructor: function ConfigurationVolumeView(options) {\r\n      options || (options = {});\r\n      options.data || (options.data = {});\r\n      options.perspectiveMode = false;\r\n      options.model = options.context.getModel(ConfigurationVolumeFactory, {});\r\n      ShortcutsView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    emptyView: EmptyVolumeView,\r\n\r\n    buildChildView: function (child, ChildViewClass, childViewOptions) {\r\n      if (ChildViewClass === EmptyVolumeView) {\r\n        return Marionette.CollectionView.prototype.buildChildView.call(this, child, ChildViewClass,\r\n          childViewOptions);\r\n      }\r\n      return ShortcutsView.prototype.buildChildView.apply(this, arguments);\r\n    },\r\n\r\n    modelEvents: {\r\n      change: 'modelChange'\r\n    },\r\n\r\n    childEvents: _.extend(ShortcutsView.prototype.childEvents, {\r\n      'render': 'onChildViewRender'\r\n    }),\r\n\r\n    onChildViewRender: function(childView) {\r\n      childView.$el.addClass('csui-configurationvolume-container');\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      var currentItem = this.children.findByIndex(this._currentShortcutIndex);\r\n      return currentItem && currentItem.$el;\r\n    },\r\n\r\n    modelChange: function () {\r\n      this.collection.set(this.model.get('shortcutItems'));\r\n      this._currentShortcutIndex = 0;\r\n    },\r\n\r\n    _getShortcutTheme: function (itemIndex, numberOfItems) {\r\n      var theme = this.options.data.shortcutTheme ? this.options.data.shortcutTheme :\r\n                  \"csui-shortcut-theme-grey\";\r\n      if (numberOfItems > 1) {\r\n        var numOfShades = THEME_SUFFIX.length;\r\n        //Getting the theme shades indexes from right to left\r\n        theme += \"-\" + THEME_SUFFIX[(numOfShades - 1) - (itemIndex % numOfShades)];\r\n      }\r\n\r\n      return theme;\r\n    },\r\n\r\n    behaviors: {\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15\r\n      },\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    }\r\n  })\r\n\r\n  return ConfigurationVolumeView;\r\n\r\n});\r\n\n","\ncsui.define('json!conws/widgets/relatedworkspaces/relatedworkspaces.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{widgetTitle}}\",\r\n  \"description\": \"{{widgetDescription}}\",\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"title\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{tileTitle}}\",\r\n        \"description\": \"{{tileDescription}}\"\r\n      },\r\n      \"workspaceTypeId\": {\r\n        \"type\": \"integer\",\r\n        \"title\": \"{{workspacetypeTitle}}\",\r\n        \"description\": \"{{workspacetypeDescription}}\"\r\n      },\r\n      \"relationType\": {\r\n        \"type\": \"string\",\r\n        \"enum\": [ \"child\", \"parent\" ],\r\n        \"title\": \"{{relationTypeTitle}}\",\r\n        \"description\": \"{{relationTypeDescription}}\"\r\n      },\r\n      \"collapsedView\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{collapsedViewTitle}}\",\r\n        \"description\": \"{{collapsedViewDescription}}\",\r\n        \"properties\": {\r\n          \"noResultsPlaceholder\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{noResultsPlaceholderTitle}}\",\r\n            \"description\": \"{{noResultsPlaceholderDescription}}\"\r\n          },\r\n          \"preview\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{previewPaneTitle}}\",\r\n            \"description\": \"{{previewPaneDescription}}\",\r\n            \"properties\": {\r\n              \"typeName\": {\r\n                \"type\": \"object\",\r\n                \"title\": \"{{previewTitle}}\",\r\n                \"description\": \"{{previewDescription}}\"\r\n              },\r\n              \"noMetadataMessage\": {\r\n                \"type\": \"object\",\r\n                \"title\": \"{{noMetadataMessageTitle}}\",\r\n                \"description\": \"{{noMetadataMessageDescription}}\"\r\n              },\r\n              \"roleId\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{roleTitle}}\",\r\n                \"description\": \"{{roleDescription}}\"\r\n              },\r\n              \"noRoleMembersMessage\": {\r\n                \"type\": \"object\",\r\n                \"title\": \"{{noRoleMembersMessageTitle}}\",\r\n                \"description\": \"{{noRoleMembersMessageDesc}}\"\r\n              },\r\n              \"metadata\": {\r\n                \"type\": \"array\",\r\n                \"title\": \"{{metadataTitle}}\",\r\n                \"description\": \"{{metadataDescription}}\",\r\n                \"items\": {\r\n                  \"type\": \"object\",\r\n                  \"title\": \"{{CategoryOrAttributeTitle}}\",\r\n                  \"description\": \"{{CategoryOrAttributeDesc}}\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"orderBy\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{orderTitle}}\",\r\n            \"description\": \"{{orderDescription}}\",\r\n            \"properties\": {\r\n              \"sortColumn\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{sortColumnTitle}}\",\r\n                \"description\": \"{{sortColumnDescription}}\"\r\n              },\r\n              \"sortOrder\": {\r\n                \"type\": \"string\",\r\n                \"enum\": [ \"asc\", \"desc\" ],\r\n                \"title\": \"{{sortOrderTitle}}\",\r\n                \"description\": \"{{sortOrderDescription}}\"\r\n              }\r\n            }\r\n          },\r\n          \"title\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{relatedWorkspaceTitle}}\",\r\n            \"description\": \"{{relatedWorkspaceDesc}}\",\r\n            \"properties\": {\r\n              \"value\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{valueTitle}}\",\r\n                \"description\": \"{{valueDescription}}\"\r\n              }\r\n            }\r\n          },\r\n          \"description\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{descriptionSectionTitle}}\",\r\n            \"description\": \"{{descriptionSectionDesc}}\",\r\n            \"properties\": {\r\n              \"value\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{descriptionValueTitle}}\",\r\n                \"description\": \"{{descriptionFieldValue}}\"\r\n              }\r\n            }\r\n          },\r\n          \"topRight\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{topRightSectionTitle}}\",\r\n            \"description\": \"{{topRightSectionDescription}}\",\r\n            \"properties\": {\r\n              \"label\": {\r\n                \"type\": \"object\",\r\n                \"title\": \"{{topRightLabel}}\",\r\n                \"description\": \"{{topRightLabelDesc}}\"\r\n              },\r\n              \"value\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{topRightValue}}\",\r\n                \"description\": \"{{topRightValueDesc}}\"\r\n              }\r\n            }\r\n          },\r\n          \"bottomLeft\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{bottomLeftTitle}}\",\r\n            \"description\": \"{{bottomLeftTitleDesc}}\",\r\n            \"properties\": {\r\n              \"label\": {\r\n                \"type\": \"object\",\r\n                \"title\": \"{{bottomLeftLabelTitle}}\",\r\n                \"description\": \"{{bottomLeftLabelDesc}}\"\r\n              },\r\n              \"value\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{bottomLeftValue}}\",\r\n                \"description\": \"{{bottomLeftValueDesc}}\"\r\n              }\r\n            }\r\n          },\r\n          \"bottomRight\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{bottomRightTitle}}\",\r\n            \"description\": \"{{bottomRightTitleDesc}}\",\r\n            \"properties\": {\r\n              \"label\": {\r\n                \"type\": \"object\",\r\n                \"title\": \"{{bottomRightLabel}}\",\r\n                \"description\": \"{{bottomRightLabelDesc}}\"\r\n              },\r\n              \"value\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{bottomRightValue}}\",\r\n                \"description\": \"{{bottomRightValueDesc}}\"\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      \"expandedView\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{expandedViewSectionTitle}}\",\r\n        \"description\": \"{{expandedViewSectionDesc}}\",\r\n        \"properties\": {\r\n          \"orderBy\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{expandedViewOrderByTitle}}\",\r\n            \"description\": \"{{expandedViewOrderByDesc}}\",\r\n            \"properties\": {\r\n              \"sortColumn\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{expandedViewSortColumnTitle}}\",\r\n                \"description\": \"{{expandedViewSortColumnDesc}}\"\r\n              },\r\n              \"sortOrder\": {\r\n                \"type\": \"string\",\r\n                \"enum\": [ \"asc\", \"desc\" ],\r\n                \"title\": \"Sort order\",\r\n                \"description\": \"{{expandedViewSortOrderDesc}}\"\r\n              }\r\n            }\r\n          },\r\n          \"customColumns\": {\r\n            \"type\": \"array\",\r\n            \"title\": \"{{customColumnsSectionTitle}}\",\r\n            \"description\": \"{{customColumnsSectionDesc}}\",\r\n            \"items\": {\r\n              \"type\": \"object\",\r\n              \"title\": \"{{customColumnsItemsTitle}}\",\r\n              \"description\": \"{{customColumnsItemsDesc}}\",\r\n              \"properties\": {\r\n                \"key\": {\r\n                  \"type\": \"string\",\r\n                  \"title\": \"{{customColumnsPropertiesTitle}}\",\r\n                  \"description\": \"{{customColumnsPropertiesDesc}}\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"options\": {\r\n    \"fields\": {\r\n      \"title\": {\r\n        \"type\": \"otcs_multilingual_string\"\r\n      },\r\n      \"workspaceTypeId\": {\r\n        \"type\": \"otconws_workspacetype_id\"\r\n      },\r\n      \"relationType\": {\r\n        \"type\": \"select\",\r\n        \"optionLabels\": [ \"Child\", \"Parent\" ]\r\n      },\r\n      \"collapsedView\": {\r\n        \"fields\": {\r\n          \"noResultsPlaceholder\": {\r\n            \"type\": \"otcs_multilingual_string\"\r\n          },\r\n          \"preview\": {\r\n            \"fields\": {\r\n              \"typeName\": {\r\n                \"type\": \"otcs_multilingual_string\"\r\n              },\r\n              \"noMetadataMessage\": {\r\n                \"type\": \"otcs_multilingual_string\"\r\n              },\r\n              \"noRoleMembersMessage\": {\r\n                \"type\": \"otcs_multilingual_string\"\r\n              },\r\n              \"metadata\": {\r\n                \"fields\": {\r\n                  \"item\": {\r\n                    \"type\": \"otconws_metadata\"\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"orderBy\": {\r\n            \"fields\": {\r\n              \"sortColumn\": {\r\n                \"type\": \"otconws_customcolumn\"\r\n              },\r\n              \"sortOrder\": {\r\n                \"type\": \"select\",\r\n                \"optionLabels\": [ \"Ascending\", \"Descending\" ]\r\n              }\r\n            }\r\n          },\r\n          \"title\": {\r\n            \"fields\": {\r\n              \"value\": {\r\n                \"type\": \"otconws_customcolumn\"\r\n              }\r\n            }\r\n          },\r\n          \"description\": {\r\n            \"fields\": {\r\n              \"value\": {\r\n                \"type\": \"otconws_customcolumn\"\r\n              }\r\n            }\r\n          },\r\n          \"topRight\": {\r\n            \"fields\": {\r\n              \"label\": {\r\n                \"type\": \"otcs_multilingual_string\"\r\n              },\r\n              \"value\": {\r\n                \"type\": \"otconws_customcolumn\"\r\n              }\r\n            }\r\n          },\r\n          \"bottomLeft\": {\r\n            \"fields\": {\r\n              \"label\": {\r\n                \"type\": \"otcs_multilingual_string\"\r\n              },\r\n              \"value\": {\r\n                \"type\": \"otconws_customcolumn\"\r\n              }\r\n            }\r\n          },\r\n          \"bottomRight\": {\r\n            \"fields\": {\r\n              \"label\": {\r\n                \"type\": \"otcs_multilingual_string\"\r\n              },\r\n              \"value\": {\r\n                \"type\": \"otconws_customcolumn\"\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      \"expandedView\": {\r\n        \"fields\": {\r\n          \"orderBy\": {\r\n            \"fields\": {\r\n              \"sortColumn\": {\r\n                \"type\": \"otconws_customcolumn\"\r\n              },\r\n              \"sortOrder\": {\r\n                \"type\": \"select\",\r\n                \"optionLabels\": [ \"Ascending\", \"Descending\" ]\r\n              }\r\n            }\r\n          },\r\n          \"customColumns\": {\r\n            \"items\": {\r\n              \"fields\": {\r\n                \"key\": {\r\n                  \"type\": \"otconws_customcolumn\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n);\n\n","\ncsui.define('json!conws/widgets/header/header.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{tileTitle}}\",\r\n  \"description\": \"{{tileDescription}}\",\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"workspace\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{workspaceTitle}}\",\r\n        \"description\": \"{{workspaceDescription}}\",\r\n        \"properties\": {\r\n          \"properties\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"Properties\",\r\n            \"description\": \"{{workspacePropertiesDesc}}\",\r\n            \"properties\": {\r\n              \"title\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{businessworkspaceTitle}}\",\r\n                \"default\": \"{name}\",\r\n                \"description\": \"{{businessworkspaceDesc}}\"\r\n              },\r\n              \"type\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{workspaceTypeTitle}}\",\r\n                \"default\": \"{business_properties.workspace_type_name}\",\r\n                \"description\": \"{{workspaceTypeDesc}}\"\r\n              },\r\n              \"description\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{descriptionSectionTitle}}\",\r\n                \"default\": \"{description}\",\r\n                \"description\": \"{{descriptionSection}}\"\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      \"widget\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{widgetTitle}}\",\r\n        \"description\": \"{{widgetDescription}}\",\r\n        \"properties\": {\r\n          \"type\": {\r\n            \"type\": \"string\",\r\n            \"enum\": [\r\n              \"none\",\r\n              \"activityfeed\"\r\n            ],\r\n            \"title\": \"{{embedWidgetSectionTitle}}\",\r\n            \"description\": \"{{embedWidgetSectionDesc}}\"\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"options\": {\r\n    \"fields\": {\r\n      \"workspace\": {\r\n        \"fields\": {\r\n          \"properties\": {\r\n            \"fields\": {\r\n              \"title\": {\r\n                \"type\": \"otconws_metadata_string\"\r\n              },\r\n              \"type\": {\r\n                \"type\": \"otconws_metadata_string\"\r\n              },\r\n              \"description\": {\r\n                \"type\": \"otconws_metadata_string\"\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      \"widget\": {\r\n        \"fields\": {\r\n          \"type\": {\r\n            \"type\": \"select\",\r\n            \"optionLabels\": [\r\n              \"None\",\r\n              \"Activity Feed\"\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\n\n","\ncsui.define('json!conws/widgets/team/team.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{widgetTitle}}\",\r\n  \"description\": \"{{widgetDescription}}\",\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"title\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{tileTitle}}\",\r\n        \"description\": \"{{tileDescription}}\"\r\n      }\r\n    }\r\n  },\r\n  \"options\": {\r\n    \"fields\": {\r\n      \"title\": {\r\n        \"type\": \"otcs_multilingual_string\"\r\n      }\r\n    }\r\n  }\r\n});\n\n","\ncsui.define('json!conws/widgets/myworkspaces/myworkspaces.manifest.json',{\r\n\t\"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n\t\"title\": \"{{tileTitle}}\",\r\n\t\"description\": \"{{tileDescription}}\",\r\n\t\"schema\": {\r\n\t\t\"type\": \"object\",\r\n\t\t\"properties\": {\r\n      \"title\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{titleSection}}\",\r\n        \"description\": \"{{titleDescription}}\"\r\n      },\r\n      \"workspaceTypeId\": {\r\n        \"type\": \"integer\",\r\n        \"title\": \"Workspace type\",\r\n        \"description\": \"{{WorkspaceTypeDesc}}\"\r\n      },\r\n      \"collapsedView\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{collapsedViewTitle}}\",\r\n        \"description\": \"{{collapsedViewDesc}}\",\r\n        \"properties\": {\r\n          \"noResultsPlaceholder\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"Message for empty result\",\r\n            \"description\": \"{{noResultsPlaceholderDesc}}\"\r\n          }\r\n        }\r\n      },\r\n      \"expandedView\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"{{expandedViewTitle}}\",\r\n        \"description\": \"{{expandedViewDesc}}\",\r\n        \"properties\": {\r\n          \"orderBy\": {\r\n            \"type\": \"object\",\r\n            \"title\": \"{{orderBySectionTitle}}\",\r\n            \"description\": \"{{orderBySectionDesc}}\",\r\n            \"properties\": {\r\n              \"sortColumn\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"{{sortColumnSectionTitle}}\",\r\n                \"description\": \"{{sortColumnSectionDesc}}\"\r\n              },\r\n              \"sortOrder\": {\r\n                \"type\": \"string\",\r\n                \"enum\": [ \"asc\", \"desc\" ],\r\n                \"title\": \"{{sortOrderSectionTitle}}\",\r\n                \"description\": \"{{sortOrderSectionDesc}}\"\r\n              }\r\n            }\r\n          },\r\n          \"customColumns\": {\r\n            \"type\": \"array\",\r\n            \"title\": \"{{customColumnsTitle}}\",\r\n            \"description\": \"{{customColumnsDesc}}\",\r\n            \"items\": {\r\n              \"type\": \"object\",\r\n              \"title\": \"{{itemsSectionTitle}}\",\r\n              \"description\": \"{{itemsSectionDesc}}\",\r\n              \"properties\": {\r\n                \"key\": {\r\n                  \"type\": \"string\",\r\n                  \"title\": \"{{keyTitle}}\",\r\n                  \"description\": \"{{keyDescription}}\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\t},\r\n  \"options\": {\r\n    \"fields\": {\r\n      \"title\": {\r\n        \"type\": \"otcs_multilingual_string\"\r\n      },\r\n      \"workspaceTypeId\": {\r\n        \"type\": \"otconws_workspacetype_id\"\r\n      },\r\n      \"collapsedView\": {\r\n        \"fields\": {\r\n          \"noResultsPlaceholder\": {\r\n            \"type\": \"otcs_multilingual_string\"\r\n          }\r\n        }\r\n      },\r\n      \"expandedView\": {\r\n        \"fields\": {\r\n          \"orderBy\": {\r\n            \"fields\": {\r\n              \"sortColumn\": {\r\n                \"type\": \"otconws_customcolumn\"\r\n              },\r\n              \"sortOrder\": {\r\n                \"type\": \"select\",\r\n                \"optionLabels\": [ \"Ascending\", \"Descending\" ]\r\n              }\r\n            }\r\n          },\r\n          \"customColumns\": {\r\n            \"items\": {\r\n              \"fields\": {\r\n                \"key\": {\r\n                  \"type\": \"otconws_customcolumn\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\n\n","\ncsui.define('json!conws/widgets/metadata/metadata.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{widgetTitle}}\",\r\n  \"description\": \"{{widgetDescription}}\",\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"title\": {\r\n        \"type\": \"object\",\r\n        \"title\":  \"{{tileTitle}}\",\r\n        \"description\": \"{{tiledescription}}\"\r\n      },\r\n      \"hideEmptyFields\": {\r\n        \"type\": \"boolean\",\r\n        \"enum\": [true, false],\r\n        \"default\": false,\r\n        \"title\": \"{{hideEmptyFieldsTitle}}\",\r\n        \"description\": \"{{hideEmptyFieldsDescription}}\"\r\n      },\r\n      \"metadata\": {\r\n        \"type\": \"array\",\r\n        \"title\": \"{{metadataSectionTitle}}\",\r\n        \"description\": \"{{metadataSectionDescription}}\",\r\n        \"items\": {\r\n          \"type\": \"object\",\r\n          \"title\": \"{{categoryOrAttributeTitle}}\",\r\n          \"description\": \"{{categoryOrAttributeDescription}}\"\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"options\": {\r\n    \"fields\": {\r\n      \"title\": {\r\n        \"type\": \"otcs_multilingual_string\"\r\n      },\r\n    \"metadata\": {\r\n        \"fields\": {\r\n          \"item\": {\r\n            \"type\": \"otconws_metadata\"\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\n\n","\ncsui.define('json!conws/widgets/configurationvolume/configurationvolume.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{widgetTitle}}\",\r\n  \"description\": \"{{widgetDescription}}\",\r\n  \"kind\": \"tile\",\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"shortcutTheme\": {\r\n        \"title\": \"{{shortcutThemeTitle}}\",\r\n        \"description\": \"{{shortcutThemeDescription}}\",\r\n        \"type\": \"string\",\r\n        \"enum\": [\r\n          \"csui-shortcut-theme-stone1\",\r\n          \"csui-shortcut-theme-stone2\",\r\n          \"csui-shortcut-theme-teal1\",\r\n          \"csui-shortcut-theme-teal2\",\r\n          \"csui-shortcut-theme-pink1\",\r\n          \"csui-shortcut-theme-pink2\",\r\n          \"csui-shortcut-theme-indigo1\",\r\n          \"csui-shortcut-theme-indigo2\"\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  \"options\": {\r\n    \"fields\": {\r\n      \"shortcutTheme\": {\r\n        \"type\": \"select\",\r\n        \"optionLabels\": [\r\n          \"{{shortcutThemeStone1}}\",\r\n          \"{{shortcutThemeStone2}}\",\r\n          \"{{shortcutThemeTeal1}}\",\r\n          \"{{shortcutThemeTeal2}}\",\r\n          \"{{shortcutThemePink1}}\",\r\n          \"{{shortcutThemePink2}}\",\r\n          \"{{shortcutThemeIndigo1}}\",\r\n          \"{{shortcutThemeIndigo2}}\"\r\n        ]\r\n      }\r\n    }\r\n  }\r\n});\n\n","csui.define('conws/widgets/configurationvolume/impl/nls/configurationvolume.manifest',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('conws/widgets/configurationvolume/impl/nls/root/configurationvolume.manifest',{\r\n  \"widgetTitle\": \"Configuration Volume\",\r\n  \"widgetDescription\": \"Tile representing hyperlinks to volumes; it navigates to its page when\" +\r\n                       \" clicked\",\r\n  \"shortcutThemeTitle\": \"Theme\",\r\n  \"shortcutThemeDescription\": \"Styling of the volumes\",\r\n  \"shortcutThemeStone1\": \"Stone Group 1\",\r\n  \"shortcutThemeStone2\": \"Stone Group 2\",\r\n  \"shortcutThemeTeal1\": \"Teal Group 1\",\r\n  \"shortcutThemeTeal2\": \"Teal Group 2\",\r\n  \"shortcutThemePink1\": \"Pink Group 1\",\r\n  \"shortcutThemePink2\": \"Pink Group 2\",\r\n  \"shortcutThemeIndigo1\": \"Indigo Group 1\",\r\n  \"shortcutThemeIndigo2\": \"Indigo Group 2\"\r\n});\r\n\n","\n","csui.define('conws/widgets/team/impl/nls/team.manifest',{\r\n\t// Always load the root bundle for the default locale (en-us)\r\n\t\"root\": true,\r\n\t// Do not load English locale bundle provided by the root bundle\r\n\t\"en-us\": false,\r\n\t\"en\": false\r\n});\r\n\n","csui.define('conws/widgets/team/impl/nls/root/team.manifest',{\r\n\t\"tileTitle\": \"Title\",\r\n\t\"tileDescription\": \"Title in collapsed view\",\r\n\t\"widgetTitle\": \"Team\",\r\n\t\"widgetDescription\": \"Shows the team members of a business workspace\"\r\n});\n","csui.define('conws/widgets/metadata/impl/nls/metadata.manifest',{\r\n\t// Always load the root bundle for the default locale (en-us)\r\n\t\"root\": true,\r\n\t// Do not load English locale bundle provided by the root bundle\r\n\t\"en-us\": false,\r\n\t\"en\": false\r\n});\r\n\n","\n","csui.define('conws/widgets/metadata/impl/nls/root/metadata.manifest',{\r\n\t\"tileTitle\": \"Title\",\r\n\t\"tiledescription\": \"Title of the Metadata widget\",\r\n\t\"widgetTitle\": \"Metadata\",\r\n\t\"widgetDescription\": \"Shows metadata for a business workspace\",\r\n\t\"hideEmptyFieldsTitle\": \"Hide empty fields\",\r\n\t\"hideEmptyFieldsDescription\": \"Display only fields with values\",\r\n\t\"metadataSectionTitle\" : \"Metadata\",\r\n\t\"metadataSectionDescription\": \"Metadata displayed in Metadata widget\",\r\n\t\"categoryOrAttributeTitle\": \"Category or attribute\",\r\n\t\"categoryOrAttributeDescription\": \"Category or attribute with metadata\"\r\n\r\n});\n","csui.define('conws/widgets/relatedworkspaces/impl/nls/relatedworkspaces.manifest',{\r\n\t// Always load the root bundle for the default locale (en-us)\r\n\t\"root\": true,\r\n\t// Do not load English locale bundle provided by the root bundle\r\n\t\"en-us\": false,\r\n\t\"en\": false\r\n});\r\n\n","csui.define('conws/widgets/relatedworkspaces/impl/nls/root/relatedworkspaces.manifest',{\r\n\t\"widgetTitle\": \"Related Workspaces\",\r\n\t\"widgetDescription\": \"Shows the related business workspaces for a business workspace\",\r\n\t\"tileTitle\": \"Title\",\r\n\t\"tileDescription\": \"Title of the Related Workspaces widget\",\r\n\t\"workspacetypeTitle\": \"Workspace type\",\r\n\t\"workspacetypeDescription\": \"Workspace type displayed in this widget\",\r\n\t\"relationTypeTitle\": \"Relation type\",\r\n\t\"relationTypeDescription\": \"Relation type of the related workspaces\",\r\n\t\"collapsedViewTitle\": \"Collapsed view\",\r\n\t\"collapsedViewDescription\": \"Options for the collapsed view of this widget\",\r\n\t\"noResultsPlaceholderTitle\": \"Message for empty result\",\r\n\t\"noResultsPlaceholderDescription\": \"Message if there are no related business workspaces to display\",\r\n\t\"previewPaneTitle\": \"Preview pane\",\r\n\t\"previewPaneDescription\": \"Options for the preview pane\",\r\n\t\"previewTitle\": \"Preview title\",\r\n\t\"previewDescription\": \"Title of the preview pane\",\r\n\t\"noMetadataMessageTitle\": \"Message for empty metadata\",\r\n\t\"noMetadataMessageDescription\": \"Message if there is no metadata to display\",\r\n\t\"roleTitle\": \"Name of role\",\r\n\t\"roleDescription\": \"The members of the specified role are displayed in the preview\",\r\n\t\"noRoleMembersMessageTitle\": \"Message for empty role\",\r\n\t\"noRoleMembersMessageDesc\": \"Message if there are no role members assigned to the specified role\",\r\n\t\"metadataTitle\": \"Metadata in preview pane\",\r\n\t\"metadataDescription\": \"Metadata displayed in preview pane\",\r\n\t\"CategoryOrAttributeTitle\": \"Category or attribute\",\r\n\t\"CategoryOrAttributeDesc\": \"Category or attribute with metadata\",\r\n\t\"orderTitle\": \"Order by\",\r\n\t\"orderDescription\": \"Sort order of the displayed business workspaces\",\r\n\t\"sortColumnTitle\": \"Column\",\r\n\t\"sortColumnDescription\": \"Column to order by\",\r\n\t\"sortOrderTitle\": \"Sort order\",\r\n\t\"sortOrderDescription\": \"Sort order to be used\",\r\n\t\"relatedWorkspaceTitle\": \"Related workspace title\",\r\n\t\"relatedWorkspaceDesc\": \"Title of the related workspace in collapsed view\",\r\n\t\"valueTitle\": \"Title\",\r\n\t\"valueDescription\": \"Value for the Title field\",\r\n\t\"descriptionSectionTitle\": \"Related workspace description\",\r\n\t\"descriptionSectionDesc\": \"Description of the related workspace in collapsed view\",\r\n\t\"descriptionValueTitle\": \"Description\",\r\n\t\"descriptionFieldValue\": \"Value for the description field\",\r\n\t\"topRightSectionTitle\": \"Top right metadata field\",\r\n\t\"topRightSectionDescription\": \"Metadata displayed in top right  metadata field in collapsed view\",\r\n\t\"topRightLabel\": \"Label\",\r\n\t\"topRightLabelDesc\": \"Label for the metadata field\",\r\n\t\"topRightValue\": \"Value\",\r\n\t\"topRightValueDesc\": \"Value for the top right metadata field\",\r\n\t\"bottomLeftTitle\": \"Bottom left  metadata field\",\r\n\t\"bottomLeftTitleDesc\": \"Metadata displayed in bottom left  metadata field in collapsed view\",\r\n\t\"bottomLeftLabelTitle\": \"Label\",\r\n\t\"bottomLeftLabelDesc\": \"Label for the metadata field\",\r\n\t\"bottomLeftValue\": \"Value\",\r\n\t\"bottomLeftValueDesc\": \"Value for the bottom left metadata  metadata field\",\r\n\t\"bottomRightTitle\": \"Bottom right  metadata field\",\r\n\t\"bottomRightTitleDesc\": \"Metadata displayed in bottom right  metadata field in collapsed view\",\r\n\t\"bottomRightLabel\": \"Label\",\r\n\t\"bottomRightLabelDesc\": \"Label for the metadata field\",\r\n\t\"bottomRightValue\": \"Value\",\r\n\t\"bottomRightValueDesc\": \"Value for the bottom right metadata  metadata field\",\r\n\t\"expandedViewSectionTitle\": \"Expanded view\",\r\n\t\"expandedViewSectionDesc\": \"Options for the expanded view of this widget\",\r\n\t\"expandedViewOrderByTitle\": \"Order by\",\r\n\t\"expandedViewOrderByDesc\": \"Sort order of the displayed business workspaces\",\r\n\t\"expandedViewSortColumnTitle\": \"Column\",\r\n\t\"expandedViewSortColumnDesc\": \"Column to order by\",\r\n\t\"expandedViewSortOrderTitle\": \"Sort order\",\r\n\t\"expandedViewSortOrderDesc\": \"Sort order to be used\",\r\n\t\"customColumnsSectionTitle\": \"Custom columns\",\r\n\t\"customColumnsSectionDesc\": \"Columns displayed in expanded view\",\r\n\t\"customColumnsItemsTitle\": \"Column description\",\r\n\t\"customColumnsItemsDesc\": \"Column displayed in expanded view\",\r\n\t\"customColumnsPropertiesTitle\": \"Column\",\r\n\t\"customColumnsPropertiesDesc\": \"Name of the custom column\"\r\n\t\r\n});\n","csui.define('conws/widgets/header/impl/nls/header.manifest',{\r\n\t// Always load the root bundle for the default locale (en-us)\r\n\t\"root\": true,\r\n\t// Do not load English locale bundle provided by the root bundle\r\n\t\"en-us\": false,\r\n\t\"en\": false\r\n});\r\n\n","\n","csui.define('conws/widgets/header/impl/nls/root/header.manifest',{\r\n\t\"tileTitle\": \"Header\",\r\n\t\"tileDescription\": \"Header widget for business workspaces\",\r\n\t\"workspaceTitle\": \"Workspace\",\r\n\t\"workspaceDescription\": \"Workspace specific options\",\r\n\t\"workspacePropertiesTitle\": \"Properties\",\r\n\t\"workspacePropertiesDesc\": \"Configuration properties\",\r\n\t\"businessworkspaceTitle\": \"Title\",\r\n\t\"businessworkspaceDesc\": \"Name of the business workspace\",\r\n\t\"workspaceTypeTitle\": \"Type\",\r\n\t\"workspaceTypeDesc\": \"Name of the workspace type\",\r\n\t\"descriptionSectionTitle\": \"Description\",\r\n\t\"descriptionSection\": \"Description of the business workspace\",\r\n\t\"widgetTitle\": \"Widget\",\r\n\t\"widgetDescription\": \"Additional widget that can be embedded in the header widget\",\r\n\t\"embedWidgetSectionTitle\": \"Embed widget\",\r\n\t\"embedWidgetSectionDesc\": \"Widget to be embedded in the header widget\"\r\n});\n","\n","csui.define('conws/widgets/myworkspaces/impl/nls/myworkspaces.manifest',{\r\n\t// Always load the root bundle for the default locale (en-us)\r\n\t\"root\": true,\r\n\t// Do not load English locale bundle provided by the root bundle\r\n\t\"en-us\": false,\r\n\t\"en\": false\r\n});\r\n\n","csui.define('conws/widgets/myworkspaces/impl/nls/root/myworkspaces.manifest',{\r\n\t\"tileTitle\": \"Workspaces\",\r\n\t\"tileDescription\": \"Shows business workspaces that are relevant in this perspective and role\",\r\n\t\"titleSection\": \"Title\",\r\n\t\"titleDescription\": \"Title of the Workspaces widget\",\r\n\t\"WorkspaceTypeTitle\": \"Workspace type\",\r\n\t\"WorkspaceTypeDesc\": \"Workspace type displayed in this widget\",\r\n\t\"collapsedViewTitle\": \"Collapsed view\",\r\n\t\"collapsedViewDesc\": \"Options for the collapsed view of the widget\",\r\n\t\"noResultsPlaceholderTitle\": \"Message for empty result\",\r\n\t\"noResultsPlaceholderDesc\": \"Message if there are no business workspaces to display\",\r\n\t\"expandedViewTitle\": \"Expanded view\",\r\n\t\"expandedViewDesc\": \"Options for the expanded view of this widget\",\r\n\t\"orderBySectionTitle\": \"Order by\",\r\n\t\"orderBySectionDesc\": \"Sort order of the displayed business workspaces\",\r\n\t\"sortColumnSectionTitle\": \"Column\",\r\n\t\"sortColumnSectionDesc\": \"Column to order by\",\r\n\t\"sortOrderSectionTitle\": \"Sort order\",\r\n\t\"sortOrderSectionDesc\": \"Sort order to be used\",\r\n\t\"customColumnsTitle\": \"Custom columns\",\r\n\t\"customColumnsDesc\": \"Columns displayed in expanded view\",\r\n\t\"itemsSectionTitle\": \"Column description\",\r\n\t\"itemsSectionDesc\": \"Column displayed in expanded view\",\r\n\t\"keyTitle\": \"Column\",\r\n\t\"keyDescription\": \"Name of the custom column\"\r\n});\n","// Placeholder for the build target file; the name must be the same,\r\n// include public modules from this component\r\n\r\ncsui.define('bundles/conws-app',[\r\n  // Icons for additional subtypes\r\n  'conws/utils/icons/icons',\r\n\r\n  // Public controls\r\n  'conws/controls/inlineforms/workspace/workspace.view',\r\n  'conws/controls/inlineforms/conwstemplate/conwstemplate.view',\r\n  'conws/controls/form/fields/alpaca/referencefield',\r\n  'conws/controls/description/description.view',\r\n  'conws/controls/lazyactions/lazyToolbar.view',\r\n  'conws/controls/selectedmetadataform/selectedmetadataform.view',\r\n  'conws/controls/table/cells/role/role.view',\r\n  'conws/controls/table/cells/permission/role.permission.level.view',\r\n  'conws/controls/userpicker/role.view',\r\n\r\n  // Dialogs\r\n  'conws/dialogs/addoreditrole/addoreditrole.wizard',\r\n  'conws/dialogs/applyrolepermissions/apply.role.permissions.view',\r\n  'conws/dialogs/applyrolepermissions/impl/header/apply.role.permissions.header.view',\r\n\r\n  // Toolbar extensions\r\n  'conws/utils/commands/tabletoolbar.extension',\r\n  'conws/utils/commands/permissions/permissions.dropdown.menu.items.extension',\r\n  'conws/utils/commands/permissions/permissions.list.toolbaritems.extension',  \r\n\r\n  // Tool items mask\r\n  'conws/widgets/header/impl/headertoolbaritems.masks',\r\n\r\n  // Public commands\r\n  'conws/utils/commands/addconws',\r\n  'conws/utils/commands/addconwstemplate',\r\n  'conws/utils/commands/delete',\r\n  'conws/utils/commands/permissions/addoreditrole',\r\n  'conws/utils/commands/addrelateditem',\r\n  'conws/utils/commands/deleterelateditem',\r\n  'conws/utils/commands/permissions/deleterole',\r\n  'conws/utils/commands/permissions/edit.role.permissions',\r\n  'conws/utils/commands/permissions/edit.role.permission.helper',\r\n  'conws/utils/dragndrop/dragndrop.subtypes',\r\n\r\n  // Classes needed public, to be dynamically loaded.\r\n  'conws/widgets/relatedworkspaces/addrelatedworkspaces.search',\r\n\r\n  // Public widgets\r\n  'conws/widgets/relatedworkspaces/relatedworkspaces.view',\r\n  'conws/widgets/header/header.view',\r\n  'conws/widgets/team/team.view',\r\n  'conws/widgets/myworkspaces/myworkspaces.view',\r\n  'conws/widgets/metadata/metadata.view',\r\n  'conws/widgets/outlook/conwsoutlook.view',\r\n  'conws/widgets/configurationvolume/configurationvolume.view',\r\n\r\n  // Application widgets manifests\r\n  'json!conws/widgets/relatedworkspaces/relatedworkspaces.manifest.json',\r\n  'json!conws/widgets/header/header.manifest.json',\r\n  'json!conws/widgets/team/team.manifest.json',\r\n  'json!conws/widgets/myworkspaces/myworkspaces.manifest.json',\r\n  'json!conws/widgets/metadata/metadata.manifest.json',\r\n  'json!conws/widgets/configurationvolume/configurationvolume.manifest.json',\r\n\r\n  // workspace reference, moved to xecmpf\r\n\r\n  // Public library for Outlook integration email service\r\n  'conws/widgets/outlook/impl/utils/emailservice',\r\n  'conws/widgets/outlook/impl/utils/utility',\r\n\r\n  // TODO : Why we need to add these here\r\n  'i18n!conws/widgets/team/impl/nls/team.lang',\r\n  'i18n!conws/utils/previewpane/impl/nls/previewpane.lang',\r\n  'i18n!conws/widgets/outlook/impl/nls/lang',\r\n  'i18n!conws/widgets/configurationvolume/impl/nls/lang',\r\n  'i18n!conws/widgets/configurationvolume/impl/nls/configurationvolume.manifest',\r\n  'i18n!conws/widgets/team/impl/nls/team.manifest',\r\n  'i18n!conws/widgets/metadata/impl/nls/metadata.manifest',\r\n  'i18n!conws/widgets/relatedworkspaces/impl/nls/relatedworkspaces.manifest',\r\n  'i18n!conws/widgets/header/impl/nls/header.manifest',\r\n  'i18n!conws/widgets/myworkspaces/impl/nls/myworkspaces.manifest'\r\n\r\n], {});\r\n\r\ncsui.require(['require', 'css'], function (require, css) {\r\n\r\n    css.styleLoad(require, 'conws/bundles/conws-app', true);\r\n\r\n});\r\n\n"]}