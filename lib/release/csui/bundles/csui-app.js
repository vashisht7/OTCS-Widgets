csui.define("csui/behaviors/dropdown.menu/dropdown.menu.behavior",["csui/lib/jquery","csui/lib/underscore","csui/lib/marionette","csui/utils/base"],function(e,t,i,s){"use strict";return i.Behavior.extend({"ui":{"dropdownMenu":".binf-dropdown"},"events":{"show.binf.dropdown":"onShowDropdownRefilterMenuItems","keydown":"onKeyInMenuView","keyup":"onKeyUpMenuView"},"constructor":function(e,s){e=t.defaults(e,{"refilterOnShow":!0}),i.Behavior.prototype.constructor.apply(this,arguments),this.view=s,this.view.dropdownMenuBehavior=this,this.listenTo(this,"refresh:dropdown",this.onDomRefresh)},"onRender":function(){this.onDomRefresh()},"onDomRefresh":function(){this.$dropdown=this.$el,this.options.dropdownSelector&&(this.$dropdown=this.$el.find(this.options.dropdownSelector)),this.$dropdownToggle=this.$dropdown.find(".binf-dropdown-toggle")},"onShowDropdownRefilterMenuItems":function(){this.options.refilterOnShow&&this.view.options.collection.refilter&&this.view.options.collection.refilter()},"onKeyUpMenuView":function(e){s.isFirefox()&&32===e.keyCode&&(e.preventDefault(),e.stopPropagation()),27===e.keyCode&&this._closeMenu(e)},"onKeyInMenuView":function(t){switch(t.keyCode){case 9:this._closeMenu();break;case 13:case 32:t.preventDefault(),t.stopPropagation(),e(t.target).trigger("click");break;case 27:(this.$dropdown.hasClass("binf-open")||this.ui.dropdownMenu.hasClass("binf-open"))&&(t.preventDefault(),t.stopPropagation())}},"_closeMenu":function(e){(this.$dropdown.hasClass("binf-open")||this.ui.dropdownMenu.hasClass("binf-open"))&&(e&&e.preventDefault(),e&&e.stopPropagation(),this.$dropdownToggle.binf_dropdown("toggle"),this.$dropdownToggle.trigger("focus"))}})}),csui.define("csui/behaviors/expanding/expanding.behavior",["require","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette"],function(e,t,i,s){function n(e,i,s){if(null!=e){var n=e[i];return t.isFunction(n)?e[i].call(s):n}}function o(e,t,i){var s=n(e,t,i);return s?s+=" csui-expanded":s="csui-expanded",s}return s.Behavior.extend({"constructor":function(e,i){s.Behavior.prototype.constructor.apply(this,arguments);var n=t.bind(this._destroyExpandedView,this,!1),o=(t.bind(this._destroyExpandedView,this,!0),i.options&&i.options.context);this.listenTo(this,"before:destroy",n),o&&this.listenTo(o,"request",n).listenTo(o,"request:perspective",n)},"onExpand":function(){if(!this.expanded){this.expanded=!0;var s=this,r=this.view.completeCollection?this.view.completeCollection.clone():this.view.collection.clone();void 0!==this.view.currentFilter&&r.setFilter(this.view.currentFilter,{"fetch":!1}),this.view.isSearchOpen()&&this.view.searchClicked();var a=s.getOption("expandedView"),l=a;!0!==t.isString(a)&&(l=a.prototype instanceof i.View?a:a.call(s.view));var c=["csui/controls/dialog/dialog.view"];t.isString(l)&&c.push(l),e(c,function(e){t.isString(l)&&(l=arguments[1]);var i=n(s.options,"expandedViewOptions",s.view);s.expandedView=new l(t.extend({"context":s.view.options.context,"collection":r,"orderBy":n(s.options,"orderBy",s.view),"filterBy":s.view.currentFilter,"limited":!1,"isExpandedView":!0},i)),s.dialog=new e({"iconLeft":n(s.options,"titleBarIcon",s.view)||n(s.view.options,"titleBarIcon",s.view),"actionIconLeft":n(s.options,"actionTitleBarIcon",s.view)||n(s.view.options,"actionTitleBarIcon",s.view),"imageLeftUrl":n(s.options,"titleBarImageUrl",s.view),"imageLeftClass":n(s.options,"titleBarImageClass",s.view),"title":n(s.options,"dialogTitle",s.view),"iconRight":n(s.options,"dialogTitleIconRight",s.view),"className":o(s.options,"dialogClassName",s.view),"largeSize":!0,"view":s.expandedView,"headerView":n(s.options,"headerView",s.view)}),s.listenTo(s.dialog,"before:hide",s._expandOtherView).listenTo(s.dialog,"destroy",s._enableExpandingAgain),s._expandOtherView(!1),s.dialog.show()},function(e){s.expanded=!1})}},"_destroyExpandedView":function(e){if(this.dialog){var t=e?"kill":"destroy";this.dialog[t](),this.dialog=void 0}},"_expandOtherView":function(e){this.options.collapsedView&&this.options.collapsedView.triggerMethod(!1===e?"go:away":"go:back")},"_enableExpandingAgain":function(){if(this.expanded=!1,this.view.tabableRegionBehavior){var e=this.view.tabableRegionBehavior,t=this.view.ui.tileExpand;e.currentlyFocusedElement&&e.currentlyFocusedElement.prop("tabindex",-1),t&&t.prop("tabindex",0),t.trigger("focus"),e.setInitialTabIndex(),this.view.currentTabPosition=2}}})}),csui.define("csui/behaviors/item.error/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/behaviors/item.error/impl/nls/root/lang",{"itemCannotBeAccessed":"Item cannot be accessed."}),csui.define("csui/behaviors/item.error/item.error.behavior",["csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/controls/error/error.view","i18n!csui/behaviors/item.error/impl/nls/lang","csui/lib/binf/js/binf"],function(e,t,i,s,n){"use strict";function o(t){var i=this.getOption(t);return e.isFunction(i)?i.call(this.view):i}return i.Behavior.extend({"constructor":function(r,a){i.Behavior.prototype.constructor.apply(this,arguments),this.view=a;var l=o.call(this,"model")||a.model||a.options.model;this._setupErrorHandling(l);var c=this.getOption("errorView");!e.isFunction(c)||c.prototype instanceof t.View||(c=c.call(a)),c||(c=s);var u=a.getTemplate,d=this;a.getTemplate=function(){if(this.model&&this.model.error){if("string"!=typeof o.call(d,"el")&&!o.call(d,"region"))return!1}return u.apply(a,arguments)};var h;this.listenTo(a,"render",function(){var s=this.model&&this.model.error;if(s){if(h&&h.empty(),!(h=o.call(this,"region"))){var r=o.call(this,"el")||a.el;"string"==typeof r&&(r=a.$(r)),h=new i.Region({"el":r})}h.show(new c(e.extend({"model":new t.Model({"message":n.itemCannotBeAccessed,"title":s.message})},o.call(this,"errorViewOptions"))))}}).listenTo(a,"before:destroy",function(){h&&h.empty()}).listenTo(a,"update:model",this._setupErrorHandling)},"_setupErrorHandling":function(e){this.model&&this.stopListening(this.model),this.model=e,this.listenTo(this.model,"error",function(){this.view.render()})}})}),csui.define("hbs!csui/behaviors/item.state/impl/item.state",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return this.escapeExpression((n=null!=(n=t.message||(null!=e?e.message:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"message","hash":{}}):n))+"\r\n"}});return i.registerPartial("csui_behaviors_item.state_impl_item.state",s),s}),csui.define("csui/behaviors/item.state/item.state.view",["csui/lib/underscore","csui/lib/marionette","hbs!csui/behaviors/item.state/impl/item.state"],function(e,t,i){"use strict";return t.ItemView.extend({"className":"csui-item-state","template":i,"constructor":function(){t.ItemView.prototype.constructor.apply(this,arguments),this.listenTo(this.model,"change:state",this.render).listenTo(this,"render",this._updateClasses)},"serializeData":function(){return e.extend(this.model.toJSON(),{"message":this.options.stateMessages[this.model.get("state")]})},"_updateClasses":function(){this.$el.removeClass("csui-state-loading csui-state-failed").addClass("csui-state-"+this.model.get("state"))}})}),csui.define("csui/behaviors/item.state/item.state.behavior",["csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/behaviors/item.state/item.state.view"],function(e,t,i,s){"use strict";function n(t){var i=this.getOption(t);return e.isFunction(i)?i.call(this.view):i}return i.Behavior.extend({"constructor":function(o,r){i.Behavior.prototype.constructor.apply(this,arguments),this.view=r;var a=n.call(this,"model")||r.model||r.options.model;this.listenTo(a,"request",this._fetchingCollectionStarted).listenTo(a,"sync",this._fetchingCollectionSucceeded).listenTo(a,"error",this._fetchingCollectionFailed),this.itemState=new t.Model({"state":a.fetching?"loading":a.error?"failed":"loaded"});var l=this.getOption("stateView");!e.isFunction(l)||l.prototype instanceof t.View||(l=l.call(r)),this.stateView=l||s;var c=r.getTemplate,u=this;r.getTemplate=function(){if(!a.fetched){if("string"!=typeof n.call(u,"el")&&!n.call(u,"region"))return!1}return c.apply(r,arguments)};var d;this.listenTo(r,"render",function(){if(!a.fetched){if(d&&d.empty(),!(d=n.call(this,"region"))){var t=n.call(this,"el")||r.el;"string"==typeof t&&(t=r.$(t)),d=new i.Region({"el":t})}d.show(new this.stateView(e.extend({"model":this.itemState,"stateMessages":n.call(this,"stateMessages")||{}},n.call(this,"stateViewOptions"))))}}).listenTo(r,"before:destroy",function(){d&&d.empty()})},"_fetchingCollectionStarted":function(){this.itemState.set("state","loading"),this.view.render(),this.view.blockWithoutIndicator&&this.view.blockWithoutIndicator()},"_fetchingCollectionSucceeded":function(e){this.itemState.set("state","loaded"),this.view.unblockActions&&this.view.unblockActions()},"_fetchingCollectionFailed":function(){this.itemState.set("state","failed"),this.view.unblockActions&&this.view.unblockActions()}})}),csui.define("csui/behaviors/limiting/limiting.behavior",["csui/lib/underscore","csui/lib/backbone","csui/lib/marionette"],function(e,t,i){"use strict";function s(t,i,s){if(null!=t){var n=t[i];return e.isFunction(n)?t[i].call(s):n}}return i.Behavior.extend({"defaults":{"limit":6,"filterByProperty":"name"},"collectionEvents":{"reset":"enableMoreLink"},"events":{"click .cs-more":"onMoreLinkClick","click .tile-expand":"onMoreLinkClick"},"ui":{"moreLink":".cs-more"},"constructor":function(e,t){i.Behavior.prototype.constructor.apply(this,arguments)},"initialize":function(e,i){if(!1!==i.options.limited){var s,n=i.collection;n||(n=this.getOption("completeCollection"))instanceof t.Collection||(s=this.getOption("completeCollectionOptions"),n.prototype instanceof t.Collection?n=new n(void 0,s):(n=n.call(i))instanceof t.Collection||(n=new n(void 0,s))),i.options.orderBy&&n.setOrder(i.options.orderBy,!1),this.listenTo(n,"add",this._addItem).listenTo(n,"remove",this._removeItem).listenTo(n,"reset",this.enableMoreLink).listenTo(n,"sync",function(e){e instanceof t.Collection&&this.synchronizeCollections()}),i.completeCollection=n;var o=t.Collection.extend(n?{"model":n.model}:{});i.collection=new o,this.synchronizeCollections(),this.listenTo(i,"change:filterValue",this.synchronizeCollections)}},"synchronizeCollections":function(){var t;if(this.view.options.filterValue&&this.view.options.filterValue.length>0){var i=this.view.options.filterValue.toLowerCase().split(" "),n=s(this.options,"filterByProperty",this.view);this.view.currentFilter={},this.view.currentFilter[n]=this.view.options.filterValue.toLowerCase(),t=this.view.completeCollection.filter(function(t){var s,o=t.get(n);return o&&(o=o.trim().toLowerCase(),s=e.reduce(i,function(e,t){return e&&o.indexOf(t)>=0},!0)),s})}else this.view.currentFilter=void 0,t=this.view.completeCollection.models;this.view.collection.reset(t)},"enableMoreLink":function(){var e=s(this.options,"limit",this.view),t=this.view.completeCollection&&this.view.completeCollection.length>e;this.ui.moreLink[t?"removeClass":"addClass"]("binf-hidden")},"onMoreLinkClick":function(e){e.preventDefault(),e.stopPropagation(),this.view.triggerMethod("expand")},"_addItem":function(e){var t=this.view.completeCollection.indexOf(e);this.view.collection.add(e,{"at":t})},"_removeItem":function(e){this.view.collection.remove(e)}})}),csui.define("hbs!csui/controls/tile/behaviors/impl/expanding.behavior",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<div class="cs-more tile-expand">\r\n  <div class="icon circular icon-tileExpand" title="'+this.escapeExpression((n=null!=(n=t.expandIconTitle||(null!=e?e.expandIconTitle:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"expandIconTitle","hash":{}}):n))+'" aria-label="'+this.escapeExpression((n=null!=(n=t.expandIconAria||(null!=e?e.expandIconAria:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"expandIconAria","hash":{}}):n))+'" role="button"></div>\r\n</div>\r\n'}});return i.registerPartial("csui_controls_tile_behaviors_impl_expanding.behavior",s),s}),csui.define("csui/controls/tile/behaviors/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/controls/tile/behaviors/impl/nls/root/lang",{"expandIconTooltip":"Expand","expandIconAria":"Expand {0} widget"}),csui.define("csui/controls/tile/behaviors/expanding.behavior",["require","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","hbs!csui/controls/tile/behaviors/impl/expanding.behavior","i18n!csui/controls/tile/behaviors/impl/nls/lang"],function(e,t,i,s,n,o){"use strict";function r(e){var i=this.options||{},s=i[e];return t.isFunction(s)?i[e].call(this.view):s}return s.Behavior.extend({"defaults":{"expandButton":".tile-footer"},"triggers":{"click .cs-more":"expand","click .tile-header":"expand"},"constructor":function(e,i){s.Behavior.prototype.constructor.apply(this,arguments),this.listenTo(i,"render",this._renderExpandButton),this.listenTo(i,"expand",this._expand);var n=t.bind(this._destroyExpandedView,this,!1),o=(t.bind(this._destroyExpandedView,this,!0),i.options&&i.options.context);this.listenTo(this,"before:destroy",n),o&&this.listenTo(o,"request",n).listenTo(o,"request:perspective",n)},"_renderExpandButton":function(){var e=r.call(this,"expandButton"),i=this.view.$(e),s=r.call(this,"expandIconTitle"),a=s||o.expandIconTooltip,l=r.call(this,"dialogTitle"),c=r.call(this,"expandIconAria"),u=c||t.str.sformat(o.expandIconAria,l),d={"expandIconTitle":a,"expandIconAria":u};i.html(n(d))},"_expand":function(){if(!this.expanded){this.expanded=!0;var s=this.getOption("expandedView"),n=s.prototype instanceof i.View?s:s.call(this.view),o=["csui/controls/dialog/dialog.view"],a=this;t.isString(n)&&o.push(n),e(o,function(e){t.isString(n)&&(n=arguments[1]);var i=r.call(a,"expandedViewOptions"),s=new n(i);a._dialog=new e({"iconLeft":r.call(a,"titleBarIcon"),"imageLeftUrl":r.call(a,"titleBarImageUrl"),"imageLeftClass":r.call(a,"titleBarImageClass"),"title":r.call(a,"dialogTitle"),"iconRight":r.call(a,"dialogTitleIconRight"),"className":"cs-expanded "+(r.call(a,"dialogClassName")||""),"largeSize":!0,"view":s}),a.listenTo(a._dialog,"hide",function(){a.triggerMethod("collapse")}).listenTo(a._dialog,"destroy",a._enableExpandingAgain),a._dialog.show()})}},"_enableExpandingAgain":function(){this.expanded=!1},"_destroyExpandedView":function(){this._dialog&&(this._dialog.destroy(),this._dialog=void 0)}})}),csui.define("hbs!csui/controls/tile/impl/tile",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"1":function(e,t,i,s){var n;return'    <div class="tile-type-icon">\r\n      <span class="icon title-icon '+this.escapeExpression((n=null!=(n=t.icon||(null!=e?e.icon:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"icon","hash":{}}):n))+'" aria-hidden="true"></span>\r\n    </div>\r\n'},"3":function(e,t,i,s){var n;return null!=(n=t.if.call(e,null!=e?e.imageUrl:e,{"name":"if","hash":{},"fn":this.program(4,s,0),"inverse":this.noop}))?n:""},"4":function(e,t,i,s){var n;return'      <div class="tile-type-image '+this.escapeExpression((n=null!=(n=t.imageClass||(null!=e?e.imageClass:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"imageClass","hash":{}}):n))+'">\r\n        <span class="tile-type-icon tile-type-icon-img"><img src="'+this.escapeExpression((n=null!=(n=t.imageUrl||(null!=e?e.imageUrl:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"imageUrl","hash":{}}):n))+'" alt="" aria-hidden="true"></span>\r\n      </div>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n,o;return'<div class="tile-header">\r\n\r\n'+(null!=(n=t.if.call(e,null!=e?e.icon:e,{"name":"if","hash":{},"fn":this.program(1,s,0),"inverse":this.program(3,s,0)}))?n:"")+'\r\n  <div class="tile-title" >\r\n    <h2 class="csui-heading">'+this.escapeExpression((o=null!=(o=t.title||(null!=e?e.title:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"title","hash":{}}):o))+'</h2>\r\n  </div>\r\n\r\n  <div class="tile-controls" title="'+this.escapeExpression((o=null!=(o=t.title||(null!=e?e.title:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"title","hash":{}}):o))+'"></div>\r\n\r\n</div>\r\n\r\n<div class="tile-content"></div>\r\n\r\n<div class="tile-footer"></div>\r\n'}});return i.registerPartial("csui_controls_tile_impl_tile",s),s}),csui.define("css!csui/controls/tile/impl/tile",[],function(){}),csui.define("csui/controls/tile/tile.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","hbs!csui/controls/tile/impl/tile","css!csui/controls/list/impl/list","css!csui/controls/tile/impl/tile"],function(e,t,i,s,n,o){function r(t,s){var n;return s?n=s[t]:void 0===(n=r.call(this,t,this.options||{}))&&(n=this[t]),!e.isFunction(n)||n.prototype instanceof i.View?n:n.call(this)}var a=s.LayoutView.extend({"className":"cs-tile cs-list tile content-tile","template":o,"regions":{"headerControls":".tile-controls","content":".tile-content","footer":".tile-footer"},"constructor":function(){s.LayoutView.prototype.constructor.apply(this,arguments),this.listenTo(this,"render",this._renderContentView)},"serializeData":function(){return e.reduce(["icon","imageUrl","imageClass","title"],function(e,t){return e[t]=r.call(this,t),e},{},this)},"_renderContentView":function(){var e=r.call(this,"contentView");if(!e)throw new s.Error({"name":"NoContentViewError","message":'A "contentView" must be specified'});var t=r.call(this,"contentViewOptions");this.contentView=new e(t),this.propagateEventsToViews(this.contentView),this.content.show(this.contentView)}});return e.extend(a.prototype,n),a}),csui.define("csui/controls/iconpreload/icon.preload.view",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/utils/non-emptying.region/non-emptying.region","csui/lib/binf/js/binf"],function(e,t,i,s,n){"use strict";var o=e.config().iconClasses||{};o=Array.prototype.concat.apply([],t.values(o));var r=s.ItemView.extend({"id":"csui-icon-preload","template":!1,"onRender":function(){this._preloadIcons()},"constructor":function(e){s.ItemView.prototype.constructor.apply(this,arguments)},"_preloadIcons":function(){t.each(o,function(e){this.$el.append('<span class="csui-icon '+e+'" style="position:fixed;top:-100px;left:-100px;"></span>')},this)}});return r.ensureOnThePage=function(){if(!i("#csui-icon-preload").length){var e=new r,t=i.fn.binf_modal.getDefaultContainer();new n({"el":t}).show(e)}},r}),csui.define("csui/widgets/html.editor/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/html.editor/impl/nls/root/lang",{"ConfirmQuestionMessage":"Are you sure to leave this page?","ConfirmQuestionTitle":"Cancel edits?","CancelConfirmMessage":"Are you sure you want to cancel?","cancelTitle":"Cancel","cancelAria":"Cancel edit","saveTitle":"Save","saveAria":"Save contents","moreActionsAria":"{0} actions menu","PageDefaultContent":"your content goes here","noWikiPageFound":"This content no longer exists","RestoreDialogMessage":"You have unsaved changes. Do you want to restore changes and continue editing?","RestoreDiaglogTitle":"Restore changes","reservedBy":"Reserved by {0}\n{1}","more":"more","properties":"Properties","permissions":"View permissions","Edit":"Edit","unreserve":"Unreserve","Continue":"Continue","Discard":"Discard","insertContentServerLink":"Insert Content Server Link","contentServerLink":"Content Server Link","versionDifferenceConfirmMessage":"Another user has saved an alternate version of this page. Do you still want to add a new version?","versionDifferenceConfirmTitle":"Intermediate version added","brokenLinkMessage":"Sorry, the item you requested could not be accessed. Either it does not exist, or you do not have permission to access it. If you were sent a link to this item, please contact the sender for assistance.","goToTooltip":"go to {0}","previewUnavailable":"Preview Unavailable","cannotFindObject":"Cannot find object"}),csui.define("csui/controls/rich.text.editor/impl/rich.text.util",["csui/lib/underscore","csui/lib/jquery","csui/utils/url","csui/models/node/node.model","csui/utils/base","csui/utils/commands","i18n!csui/widgets/html.editor/impl/nls/lang","csui/utils/log"],function(e,t,i,s,n,o,r,a){return{"isEmptyContentElement":function(e){return t.trim(t(e).text())},"checkDomain":function(e,t){var i=e.connector.connection.url,s=t.target.href;return e.options.isSameDomain=-1!==s.search(new RegExp(i.split("/api")[0],"i")),e.options.isSameDomain},"getUrl":function(e,s){var n=t.Deferred();if(s.target.href){var o,r=s.target.href.match(/^.*\/app\/(.+)$/i),a=new i(s.target.href).isAbsolute(),l=!a||this.checkDomain(e,s),c=s.target.href.match(/^.*\/wiki\/(.+)$/i),u=s.target.href.match(/^.*\/open\/(.+)$/i)||s.target.href.match(/^.*\/nodes\/(.+)$/i),d=s.target.href.match(/^.*objId\=(.+)$/i),h=this;!r&&l?c||d?h.renderLinks({"event":s,"connector":e.connector,"callingViewInstance":e}).done(function(){n.resolve()}):u?(o=u[1],this.updateLink(s,o),n.resolve()):n.resolve():n.resolve()}return n.promise()},"renderLinks":function(e){var i,s=t.Deferred(),n=e.event.target.href?t(e.event.target):t(e.event.target).parents("a"),o=(e.callingViewInstance,this);if(e.event.target=n[0],e.event.target.href.match(/^.*\/wiki\/[0-9]+\/(.+)$/i)||e.event.target.href.match(/^.*\/wiki\/[0-9]+$/i))e.event.stopPropagation(),e.event.preventDefault(),e.event.target.href.match(/^.*\/wiki\/[0-9]+\/(.+)$/i)?(i=e.event.target.href.match(/^.*\/wiki\/(.+)\/(.+)$/i),i=parseInt(i[1]),o._getWikiPageId(e,i,e.event.target.href).done(function(t,i){o.id=t,i?o.updateLink(e.event,i.id):a.info(r.brokenLinkMessage),s.resolve()})):e.event.target.href.match(/^.*\/wiki\/[0-9]+$/i)&&(i=e.event.target.href.match(/^.*\/wiki\/(.+)$/i),i=parseInt(i[1]),o.updateLink(e.event,i),s.resolve());else if(e.event.target.href.match(/^.*objId\=(.+)$/)){e.event.stopPropagation(),e.event.preventDefault();var l=e.event.target.href.match(/^.*objId\=(.+)$/)[1];-1!==l&&(i=this.getNewNodeModel({"attributes":{"id":parseInt(l)},"connector":e.connector}),o.updateLink(e.event,i.attributes.id)),s.resolve()}return s.promise()},"getNewNodeModel":function(e){return new s(e.attributes,{"connector":e.connector,"commands":o.getAllSignatures(),"fields":e.fields||{},"expand":e.expand||{}})},"updateLink":function(e,t){var i=/^.*\/(cs\.\w{3}|livelink\.\w{3}|llisapi\.\w{3}|llisapi|cs|livelink).*$/,s=!!t&&t,n=e.target.href.match(i),o=!!n&&n.length&&e.target.href.substring(0,e.target.href.indexOf("/".concat(n[1]))+"/".concat(n[1]).length);e.target.href=o&&o.length?o.concat("/app/nodes/",s):e.target.href},"_getWikiPageId":function(e,i,s){var n=decodeURIComponent(s.substring(s.lastIndexOf("/")+1,s.length)),o=t.Deferred(),r=e.connector,a={"url":this._getWikiContainerUrl(e,i),"type":"GET"};return r.makeAjaxCall(a).done(function(e){e.targetWikiPageNode=e.results.find(function(e){if(e.name===n)return e}),e.targetWikiPageNode&&e.targetWikiPageNode.id?o.resolve(e.targetWikiPageNode.id,e.targetWikiPageNode):o.resolve(-1)}).fail(function(e){o.reject(e)}),o.promise()},"_getWikiContainerUrl":function(e,t){return i.combine(e.connector.getConnectionUrl().getApiBase("v2"),"/wiki/"+t+"/wikipages")},"_getNicknameId":function(e,s){var n=t.Deferred(),o={"url":i.combine(e.connector.getConnectionUrl().getApiBase("v2"),"/wiki/nickname/"+s+"?actions=open"),"requestType":"nickname","view":this,"type":"GET"};return s&&e.connector.makeAjaxCall(o).done(function(e){n.resolve(e)}).fail(function(){n.reject()}),n.promise()}}}),csui.define("css!csui/widgets/html.editor/impl/html.editor",[],function(){}),csui.define("css!csui/lib/ckeditor/plugins/cssyntaxhighlight/styles/shCoreDefault",[],function(){}),csui.define("csui/controls/rich.text.editor/rich.text.editor",["csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/ckeditor/ckeditor","csui/controls/rich.text.editor/impl/rich.text.util","css!csui/widgets/html.editor/impl/html.editor","css!csui/lib/ckeditor/plugins/cssyntaxhighlight/styles/shCoreDefault"],function(e,t,i,s,n){"use strict";var o=function(e){var t=window.CKEDITOR.skin["ua_"+e],i=window.CKEDITOR.env;if(t){t=t.split(",").sort(function(e,t){return e>t?-1:1});for(var s,n=0;n<t.length;n++)if(s=t[n],i.ie&&(s.replace(/^ie/,"")==i.version||i.quirks&&"iequirks"==s)&&(s="ie"),i[s]){e+="_"+t[n];break}}return e+".css"};return{"getRichTextEditor":function(i){i=i||{},t.each(s.instances,function(e){e.destroy()});var n={"custcsuiimage_imageExtensions":"gif|jpeg|jpg|png","skin":"otskin","format_tags":"p;h1;h2;h3;h4;h5","allowedContent":!0,"disableAutoInline":!0,"autoHideToolbar":!1,"title":!1,"cs_syntaxhighlight_hideGutter":!0,"enterMode":s.ENTER_P,"extraPlugins":"filebrowser,find,panelbutton,colorbutton,font,selectall,smiley,dialog,sourcedialog,print,preview,justify,otsave,cancel,cssyntaxhighlight,cslink","toolbar":[["Undo","Redo","-","Font","FontSize","-","Styles","Format","TextColor"],"/",["Bold","Italic","Blockquote","-","Replace","-","NumberedList","BulletedList","-","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight","-","Link","cslink","-","Image","Table","Sourcedialog"]]};if(i.externalPlugins){if(!t.isArray(i.externalPlugins))throw TypeError("externalPlugins must be array type");if(!i.externalPluginsBasePath||"string"!=typeof i.externalPluginsBasePath)throw Error("externalPluginsBasePath option missing or is not a string");"/"!==i.externalPluginsBasePath.charAt(i.externalPluginsBasePath.length-1)&&(i.externalPluginsBasePath+="/");var r=[];i.externalPlugins.map(function(e){s.plugins.addExternal(e,i.externalPluginsBasePath+e+"/","plugin.js"),r.push(e)}),delete i.externalPlugins,delete i.externalPluginsBasePath,r=r.join(),i.extraPlugins?(i.extraPlugins.length&&(r=i.externalPlugins+","+r),i.extraPlugins=r):n.extraPlugins+=","+r}i=t.defaults(i,n,s.config),s.config=i,s.on("dialogDefinition",function(e){var t=e.data.name,s=e.data.definition;if(e.data.definition.dialog.getElement().addClass("csui-ckeditor-control-dialog"),e.data.definition.dialog.getElement().addClass("csui-ckeditor-dialog-"+t),"link"==t&&!i.linkShowUploadTab){s.getContents("upload").hidden=!0}});var a=i.skin.split(","),l=o("dialog"),c=o("editor");return e('head link[href*="ckeditor/skins/'+a[0]+"/"+c+'"], head link[href*="ckeditor/skins/'+a[0]+"/"+l+'"]').remove(),window.CKEDITOR.document.appendStyleSheet(a[1]+c),window.CKEDITOR.document.appendStyleSheet(a[1]+l),s},"getRichTextEditorUtils":function(){return n},"isEmptyContent":function(e){return!!e&&e.getData().replace(/<\/div>|<div>|<\/p>|<p>|&nbsp;|<br \/>|\s/g,"")}}}),csui.define("hbs!csui/controls/selected.count/impl/selected.count",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<div class="csui-selected-counter-region">\r\n  <button type="button" class="binf-btn binf-btn-primary"\r\n          aria-label="'+this.escapeExpression((n=null!=(n=t.selectedLabel||(null!=e?e.selectedLabel:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"selectedLabel","hash":{}}):n))+" "+this.escapeExpression((n=null!=(n=t.selectedCount||(null!=e?e.selectedCount:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"selectedCount","hash":{}}):n))+'"\r\n          title="'+this.escapeExpression((n=null!=(n=t.selectedLabel||(null!=e?e.selectedLabel:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"selectedLabel","hash":{}}):n))+" "+this.escapeExpression((n=null!=(n=t.selectedCount||(null!=e?e.selectedCount:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"selectedCount","hash":{}}):n))+'"><span\r\n      class="csui-selected-counter-label">'+this.escapeExpression((n=null!=(n=t.selectedLabel||(null!=e?e.selectedLabel:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"selectedLabel","hash":{}}):n))+'</span><span\r\n      class="binf-badge binf-badge-light csui-selected-counter-value">'+this.escapeExpression((n=null!=(n=t.selectedCount||(null!=e?e.selectedCount:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"selectedCount","hash":{}}):n))+'</span>\r\n  </button>\r\n</div>\r\n<div class="csui-dropmenu-container">\r\n  <span class="csui-selected-count-clearall binf-hidden"><span\r\n      class="csui-selected-count-clearall-label" aria-label="'+this.escapeExpression((n=null!=(n=t.clearall||(null!=e?e.clearall:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"clearall","hash":{}}):n))+'" title="'+this.escapeExpression((n=null!=(n=t.clearall||(null!=e?e.clearall:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"clearall","hash":{}}):n))+'"\r\n      role="button" tabindex="0">'+this.escapeExpression((n=null!=(n=t.clearall||(null!=e?e.clearall:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"clearall","hash":{}}):n))+'</span></span>\r\n\r\n  <ul class="csui-selected-items-dropdown" role="menu"></ul>\r\n</div>\r\n'}});return i.registerPartial("csui_controls_selected.count_impl_selected.count",s),s}),csui.define("hbs!csui/controls/selected.count/impl/selected.list.item",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<span class="csui-selected-list-item-icon  csui-type-icon" />\r\n<div class="csui-selected-list-item-name-wrapper">\r\n    <span class="csui-selected-list-item-name" aria-label="'+this.escapeExpression((n=null!=(n=t.name||(null!=e?e.name:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"name","hash":{}}):n))+'"\r\n          title="'+this.escapeExpression((n=null!=(n=t.name||(null!=e?e.name:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"name","hash":{}}):n))+'">'+this.escapeExpression((n=null!=(n=t.name||(null!=e?e.name:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"name","hash":{}}):n))+'</span>\r\n  <span class="csui-icon formfield_clear csui-deselcted-icon" aria-label="'+this.escapeExpression((n=null!=(n=t.clearItem||(null!=e?e.clearItem:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"clearItem","hash":{}}):n))+'"\r\n  title="'+this.escapeExpression((n=null!=(n=t.clearItem||(null!=e?e.clearItem:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"clearItem","hash":{}}):n))+'" />\r\n  </span>\r\n</div>'}});return i.registerPartial("csui_controls_selected.count_impl_selected.list.item",s),s}),csui.define("csui/controls/selected.count/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/controls/selected.count/impl/nls/root/lang",{"clearall":"Clear all","selectedLabel":"Selected","selectedTitle":"Selected {0}","clearItem":"Clear item","dialogTitle":"Clear all","dialogTemplate":"Do you want to clear your selection?","parentName":"/{0}"}),csui.define("css!csui/controls/selected.count/impl/selected.count",[],function(){}),csui.define("csui/controls/selected.count/selected.count.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/controls/node-type.icon/node-type.icon.view","csui/controls/tile/behaviors/perfect.scrolling.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/dialogs/modal.alert/modal.alert","csui/utils/base","hbs!csui/controls/selected.count/impl/selected.count","hbs!csui/controls/selected.count/impl/selected.list.item","i18n!csui/controls/selected.count/impl/nls/lang","css!csui/controls/selected.count/impl/selected.count"],function(e,t,i,s,n,o,r,a,l,c,u,d){"use strict";var h=s.ItemView.extend({"className":"csui-selected-item","template":u,"tagName":"li","events":{"keydown":"onKeyInView"},"modelEvents":{"change":"onModelChange"},"triggers":{"click .csui-deselcted-icon":"remove:selected:item"},"templateHelpers":function(){return{"name":this.options.model.get("name"),"clearItem":d.clearItem}},"constructor":function(e){this.model=e.model,
s.ItemView.prototype.constructor.apply(this,arguments)},"onRender":function(){this._nodeIconView=new n({"el":this.$(".csui-type-icon").get(0),"node":this.model}),this._nodeIconView.render(),this.$el.attr("tabindex","-1"),this.$el.attr("role","menuitem")},"onModelChange":function(){this.render()},"onKeyInView":function(e){this.trigger("keydown:item",e)}});return s.CompositeView.extend({"className":"csui-selected-count","template":c,"templateHelpers":function(){return{"selectedCount":this.collection&&this.collection.length,"clearall":d.clearall,"selectedLabel":d.selectedLabel}},"childViewContainer":".csui-selected-items-dropdown","childView":h,"childEvents":{"remove:selected:item":"onRemoveSelectedItem","keydown:item":"onKeydownItem"},"ui":{"selectedCountButton":".csui-selected-counter-region button","selectedCountValue":".csui-selected-counter-region .csui-selected-counter-value","dropdownContainer":".csui-dropmenu-container","clearAll":".csui-selected-count-clearall","ClearAllButton":".csui-selected-count-clearall > span"},"events":{"click @ui.selectedCountButton":"onClickSelectedCount","click @ui.ClearAllButton":"onClickClearAll","mouseenter @ui.selectedCountButton":"onMouseEnterSelectedCounterView","mouseleave @ui.selectedCountButton":"onMouseLeaveSelectedCounterView","mouseenter @ui.dropdownContainer":"onMouseEnterSelectedCounterView","mouseleave @ui.dropdownContainer":"onMouseLeaveSelectedCounterView","mouseup @ui.clearAll":"onMouseUpClearAll","blur  @ui.selectedCountButton":"onBlurSelectedCountButton","blur @ui.dropdownContainer":"onBlurSelectedCounterView","keydown":"onKeydownSelectedCount","keyup":"onKeyupItem"},"behaviors":{"TabableRegion":{"behaviorClass":r},"PerfectScrolling":{"behaviorClass":o,"contentParent":".csui-selected-items-dropdown","suppressScrollX":!0,"scrollYMarginOffset":5}},"currentlyFocusedElement":function(){return this.ui.selectedCountButton},"constructor":function(i){this.collection=i.collection,s.CompositeView.prototype.constructor.apply(this,i),this.showClearAll=!1,this.selectedItemInFocus=!1,this.scrollableParent=i.scrollableParent,this.listenTo(this.collection,"reset remove add",function(){!this.isDestroyed&&this.onCollectionUpdate()}),this.selectedCount=this.collection.length,this.scrollableParent&&(this.windowResizeHandler=e.bind(this.setDropdownCss,this),t(window).on("resize",this.windowResizeHandler))},"onRender":function(){this.selectedCount?(this.ui.dropdownContainer.addClass("binf-hidden"),t(document).off("mouseup.csui.select.count")):this.$el.addClass("binf-hidden")},"onDestroy":function(){this.stopListening(this.collection,"reset remove add"),this.windowResizeHandler&&t(window).off("resize",this.windowResizeHandler)},"onClickClearAll":function(t){this.selectedItemInFocus=!0,a.confirmQuestion(e.str.sformat(d.dialogTemplate,d.dialogTitle),d.dialogTitle,{}).always(e.bind(function(e){e?this.collection.reset([]):(this.ui.ClearAllButton.trigger("focus"),this._moveTabindexToFocusedElement()),this.selectedItemInFocus=!1},this))},"onMouseUpClearAll":function(e){e.preventDefault(),e.stopPropagation(),this.ui.ClearAllButton.trigger("focus")},"isDDOpen":function(){return this.ui.dropdownContainer.is(":visible")},"_focusOnSelectedCountButton":function(){this.ui.selectedCountButton.trigger("focus"),this.selectedCountViewInFocus=!0},"onMouseEnterSelectedCounterView":function(){this.selectedCountViewInFocus=!0},"onMouseLeaveSelectedCounterView":function(){!1===this.selectedItemInFocus&&(this.selectedCountViewInFocus=!1)},"onClickSelectedCount":function(e){e.preventDefault(),e.stopPropagation();var i=t(".binf-open>.binf-dropdown-toggle");i.length>0&&i.binf_dropdown("toggle"),this.ui.dropdownContainer.hasClass("binf-hidden")?this._showItemView():this._hideItemView()},"_showItemView":function(){this.selectedCountViewInFocus=!0,this.ui.dropdownContainer.removeClass("binf-hidden"),this.ui.selectedCountButton.addClass("binf-open"),this.ui.selectedCountButton.attr("aria-expanded","true"),this.selectedCount>4&&(this.showClearAll=!0,this.ui.clearAll.removeClass("binf-hidden")),this.scrollableParent&&this.setDropdownCss(),this.perfectScrollingEnabled||(this.triggerMethod("ensure:scrollbar"),this.perfectScrollingEnabled=!0),this.ui.clearAll.hasClass("binf-hidden")?this.ui.dropdownContainer.find(".csui-selected-item:first").trigger("focus"):this.ui.clearAll.find(".csui-selected-count-clearall-label").trigger("focus"),t(document).on("mouseup.csui.select.count",e.bind(this.onDocumentClick,this))},"onDocumentClick":function(e){this.$el[0]===e.target||this.$el.has(e.target).length||this.selectedItemInFocus||this._hideItemView()},"setDropdownCss":function(){var e,i,s,n=this.ui.dropdownContainer.find(".csui-selected-items-dropdown"),o=t(this.scrollableParent);if(o&&o.length>0){i=o.height(),s=parseInt(o.css("margin-top"))+parseInt(o.css("margin-bottom")),e=n.offset().top-o.offset().top;var r=Math.abs(i-s);n.css({"max-height":r-(24+e)+"px"}),this.trigger("dom:refresh")}},"_hideItemView":function(e){this.selectedCountViewInFocus=!1,this.ui.dropdownContainer.addClass("binf-hidden"),this.ui.selectedCountButton.removeClass("binf-open"),this.ui.selectedCountButton.attr("aria-expanded","false"),t(document).off("mouseup.csui.select.count")},"onRemoveSelectedItem":function(t){var i,s=t._index;this.selectedCountViewInFocus=!0,this.collection.remove(t.model),i=e.sortBy(this.children.toArray(),"cid"),s===this.selectedCount?i[s-1]&&i[s-1].$el.trigger("focus"):i[s]&&i[s].$el.trigger("focus")},"onCollectionUpdate":function(){this.selectedCount=this.collection.length,this.selectedCount&&!this.isDDOpen()?(this.$el.removeClass("binf-hidden"),this.ui.dropdownContainer.addClass("binf-hidden"),this.trigger("show:counter",!0)):this.selectedCount||(this.ui.selectedCountButton.removeClass("binf-open"),this.$el.addClass("binf-hidden"),t(document).off("mouseup.csui.select.count"),this.trigger("show:counter",!1)),this.ui.selectedCountValue.text(this.selectedCount);var i=e.str.sformat(d.selectedTitle,this.selectedCount);this.ui.selectedCountButton.attr("aria-label",i),this.ui.selectedCountButton.attr("title",i),!this.showClearAll&&this.selectedCount>4?(this.showClearAll=!0,this.ui.clearAll.removeClass("binf-hidden")):this.selectedCount<=4&&this.showClearAll&&(this.showClearAll=!1,this.ui.clearAll.addClass("binf-hidden")),this.selectedCount>0&&this._moveTabindexToFocusedElement()},"_moveTabindexToFocusedElement":function(){this._focusableElements=l.findFocusables(this.el);for(var e=0;e<this._focusableElements.length;e++)this._focusableElements[e].setAttribute("tabindex","0")},"onBlurSelectedCountButton":function(e){this.selectedCountViewInFocus||this._hideItemView()},"onBlurSelectedCounterView":function(e){this.selectedCountViewInFocus||this._hideItemView()},"onKeydownSelectedCount":function(t){switch(t.keyCode){case 9:this.ui.selectedCountButton.is(":not(:focus)")&&(t.preventDefault(),t.stopPropagation()),this.selectedCountViewInFocus=!1,this.ui.selectedCountButton.trigger("focus");break;case 13:case 32:this.ui.selectedCountButton.is(":focus")&&(this.selectedCountViewInFocus=!0,this.onClickSelectedCount(t));break;case 46:this.ui.ClearAllButton.is(":focus")&&(this.selectedCountViewInFocus=!0,this.onClickClearAll(t));break;case 40:var i=e.sortBy(this.children.toArray(),"cid");this.selectedCountViewInFocus=!0,t.preventDefault(),this.ui.ClearAllButton.is(":focus")&&i[0].$el.trigger("focus");break;case 37:case 39:t.stopPropagation()}},"onKeydownItem":function(t,i){var s=e.sortBy(this.children.toArray(),"cid");switch(i.preventDefault(),i.keyCode){case 46:this.onRemoveSelectedItem(t),i.stopPropagation();break;case 40:this.selectedCountViewInFocus=!0,t._index===this.selectedCount-1?s[t._index].$el.trigger("focus"):s[t._index+1].$el.trigger("focus"),i.stopPropagation();break;case 38:this.selectedCountViewInFocus=!0,t._index?s[t._index-1].$el.trigger("focus"):this.ui.ClearAllButton.trigger("focus"),i.stopPropagation();break;case 37:case 39:i.stopPropagation()}},"onKeyupItem":function(e){27===e.keyCode&&this.isDDOpen()&&(e.preventDefault(),e.stopPropagation(),this._hideItemView(),this._focusOnSelectedCountButton())}})}),csui.define("csui/lib/jquery.mockjax",["module","csui/lib/jquery"],function(e,t){"use strict";function i(e){void 0===window.DOMParser&&window.ActiveXObject&&(window.DOMParser=function(){},DOMParser.prototype.parseFromString=function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t});try{var i=(new DOMParser).parseFromString(e,"text/xml");if(!t.isXMLDoc(i))throw new Error("Unable to parse XML");if(1===t("parsererror",i).length)throw new Error("Error: "+t(i).text());return i}catch(e){var s=void 0===e.name?e:e.name+": "+e.message;return void t(document).trigger("xmlParseError",[s])}}function s(e,i){S.debug(e,["Checking mock data against request data",e,i]);var o=!0;if(t.isFunction(e))return!!e(i);if("string"==typeof i){if(t.isFunction(e.test))return e.test(i);if("object"!=typeof e)return e===i;i=n(i)}return t.each(e,function(n){if(void 0===i[n])return o=!1;"object"==typeof i[n]&&null!==i[n]?(o&&t.isArray(i[n])&&(o=t.isArray(e[n])&&i[n].length===e[n].length),o=o&&s(e[n],i[n])):o=e[n]&&t.isFunction(e[n].test)?o&&e[n].test(i[n]):o&&e[n]===i[n]}),o}function n(e){var t,i,s,n,o={},r=String(e).split(/&/);for(t=0,i=r.length;t<i;++t){s=r[t];try{s=decodeURIComponent(s.replace(/\+/g," ")),s=s.split(/=/)}catch(e){continue}o[s[0]]?(o[s[0]].splice||(n=o[s[0]],o[s[0]]=[],o[s[0]].push(n)),o[s[0]].push(s[1])):o[s[0]]=s[1]}return S.debug(null,["Getting query params from string",e,o]),o}function o(e,i){return e[i]===t.mockjaxSettings[i]}function r(e,i){if(t.isFunction(e))return e(i);if(t.isFunction(e.url.test)){if(!e.url.test(i.url))return null}else{var n=e.namespace||t.mockjaxSettings.namespace;if(n){var o=[n,e.url].join("/");o=o.replace(/(\/+)/g,"/"),e.url=o}var r=e.url.indexOf("*");if(e.url!==i.url&&-1===r||!new RegExp(e.url.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace(/\*/g,".+")).test(i.url))return null}if(e.requestHeaders){if(void 0===i.headers)return null;var a=!1;if(t.each(e.requestHeaders,function(e,t){if(i.headers[e]!==t)return a=!0,!1}),a)return null}return!e.data||i.data&&s(e.data,i.data)?e&&e.type&&e.type.toLowerCase()!==i.type.toLowerCase()?null:e:null}function a(e){return"number"==typeof e&&e>=0}function l(e){if(t.isArray(e)&&2===e.length){var i=e[0],s=e[1];if(a(i)&&a(s))return Math.floor(Math.random()*(s-i))+i}else if(a(e))return e;return E}function c(e,s,n){S.debug(e,["Sending fake XHR request",e,s,n]);var r=function(o){return function(){return function(){this.status=e.status,this.statusText=e.statusText,this.readyState=1;var r=function(){this.readyState=4;var n;"json"===s.dataType&&"object"==typeof e.responseText?this.responseText=JSON.stringify(e.responseText):"xml"===s.dataType?"string"==typeof e.responseXML?(this.responseXML=i(e.responseXML),this.responseText=e.responseXML):this.responseXML=e.responseXML:"object"==typeof e.responseText&&null!==e.responseText?(e.contentType="application/json",this.responseText=JSON.stringify(e.responseText)):this.responseText=e.responseText,"number"!=typeof e.status&&"string"!=typeof e.status||(this.status=e.status),"string"==typeof e.statusText&&(this.statusText=e.statusText),n=this.onload||this.onreadystatechange,t.isFunction(n)?(e.isTimeout&&(this.status=-1),n.call(this,e.isTimeout?"timeout":void 0)):e.isTimeout&&(this.status=-1)};if(t.isFunction(e.response)){if(2===e.response.length)return void e.response(n,function(){r.call(o)});e.response(n)}r.call(o)}.apply(o)}}(this);e.proxy?(S.info(e,["Retrieving proxy file: "+e.proxy,e]),x({"global":!1,"url":e.proxy,"type":e.proxyType,"data":e.data,"async":s.async,"dataType":"script"===s.dataType?"text/plain":s.dataType,"complete":function(t){e.responseXML=e.responseText=t.responseText,o(e,"status")&&(e.status=t.status),o(e,"statusText")&&(e.statusText=t.statusText),!1===s.async?r():this.responseTimer=setTimeout(r,l(e.responseTime))}})):!1===s.async?r():this.responseTimer=setTimeout(r,l(e.responseTime))}function u(e,i,s,n){return S.debug(e,["Creating new mock XHR object",e,i,s,n]),e=t.extend(!0,{},t.mockjaxSettings,e),void 0===e.headers&&(e.headers={}),void 0===i.headers&&(i.headers={}),e.contentType&&(e.headers["content-type"]=e.contentType),{"status":e.status,"statusText":e.statusText,"readyState":1,"open":function(){},"send":function(){n.fired=!0,c.call(this,e,i,s)},"abort":function(){clearTimeout(this.responseTimer)},"setRequestHeader":function(e,t){i.headers[e]=t},"getResponseHeader":function(t){return e.headers&&e.headers[t]?e.headers[t]:"last-modified"===t.toLowerCase()?e.lastModified||(new Date).toString():"etag"===t.toLowerCase()?e.etag||"":"content-type"===t.toLowerCase()?e.contentType||"text/plain":void 0},"getAllResponseHeaders":function(){var i="";return e.contentType&&(e.headers["Content-Type"]=e.contentType),t.each(e.headers,function(e,t){i+=e+": "+t+"\n"}),i}}}function d(e,t,i){if(h(e),e.dataType="json",e.data&&T.test(e.data)||T.test(e.url)){g(e,t,i);var s=/^(\w+:)?\/\/([^\/?#]+)/,n=s.exec(e.url),o=n&&(n[1]&&n[1]!==location.protocol||n[2]!==location.host);if(e.dataType="script","GET"===e.type.toUpperCase()&&o){var r=p(e,t,i);return r||!0}}return null}function h(e){"GET"===e.type.toUpperCase()?T.test(e.url)||(e.url+=(/\?/.test(e.url)?"&":"?")+(e.jsonp||"callback")+"=?"):e.data&&T.test(e.data)||(e.data=(e.data?e.data+"&":"")+(e.jsonp||"callback")+"=?")}function p(e,i,s){S.debug(i,["Performing JSONP request",i,e,s]);var n=s&&s.context||e,o=t.Deferred?new t.Deferred:null;if(i.response&&t.isFunction(i.response))i.response(s);else if("object"==typeof i.responseText)t.globalEval("("+JSON.stringify(i.responseText)+")");else{if(i.proxy)return S.info(i,["Performing JSONP proxy request: "+i.proxy,i]),x({"global":!1,"url":i.proxy,"type":i.proxyType,"data":i.data,"dataType":"script"===e.dataType?"text/plain":e.dataType,"complete":function(s){t.globalEval("("+s.responseText+")"),m(e,i,n,o)}}),o;t.globalEval("("+("string"==typeof i.responseText?'"'+i.responseText+'"':i.responseText)+")")}return m(e,i,n,o),o}function m(e,i,s,n){var o;setTimeout(function(){if(f(e,s,i),v(e,s),n){try{o=t.parseJSON(i.responseText)}catch(e){}n.resolveWith(s,[o||i.responseText]),S.log(i,["JSONP mock call complete",i,n])}},l(i.responseTime))}function g(e,t,i){var s=i&&i.context||e,n="string"==typeof e.jsonpCallback&&e.jsonpCallback||"jsonp"+I++;e.data&&(e.data=(e.data+"").replace(T,"="+n+"$1")),e.url=e.url.replace(T,"="+n+"$1"),window[n]=window[n]||function(){f(e,s,t),v(e,s),window[n]=void 0;try{delete window[n]}catch(e){}},e.jsonpCallback=n}function f(e,i,s){e.success&&e.success.call(i,s.responseText||"","success",{}),e.global&&(e.context?t(e.context):t.event).trigger("ajaxSuccess",[{},e])}function v(e,i){e.complete&&e.complete.call(i,{"statusText":"success","status":200},"success"),e.global&&(e.context?t(e.context):t.event).trigger("ajaxComplete",[{},e]),e.global&&!--t.active&&t.event.trigger("ajaxStop")}function b(e,i){var s,n,o,a;S.debug(null,["Ajax call intercepted",e,i]),"object"==typeof e?(i=e,e=void 0):(i=i||{},i.url=e||i.url),n=t.ajaxSetup({},i),n.type=n.method=n.method||n.type,a=function(e,s){var n=i[e.toLowerCase()];return function(){t.isFunction(n)&&n.apply(this,[].slice.call(arguments)),s["onAfter"+e]()}};for(var l=0;l<C.length;l++)if(C[l]){if(o=r(C[l],n))return t.mockjaxSettings.retainAjaxCalls&&k.push(n),S.info(o,["MOCK "+n.type.toUpperCase()+": "+n.url,t.ajaxSetup({},n)]),n.dataType&&"JSONP"===n.dataType.toUpperCase()&&(s=d(n,o,i))?s:(i.crossDomain=!1,o.cache=n.cache,o.timeout=n.timeout,o.global=n.global,o.isTimeout&&(o.responseTime>1?i.timeout=o.responseTime-1:(o.responseTime=2,i.timeout=1)),t.isFunction(o.onAfterSuccess)&&(i.success=a("Success",o)),t.isFunction(o.onAfterError)&&(i.error=a("Error",o)),t.isFunction(o.onAfterComplete)&&(i.complete=a("Complete",o)),w(o,i),function(e,i,n,o){s=x.call(t,t.extend(!0,{},n,{"xhr":function(){return u(e,i,n,o)}}))}(o,n,i,C[l]),s);S.debug(C[l],["Mock does not match request",e,n])}if(S.log(null,["No mock matched to request",e,i]),t.mockjaxSettings.retainAjaxCalls&&_.push(i),!0===t.mockjaxSettings.throwUnmocked)throw console.error("AJAX not mocked: "+i.url+" Stack: "+(new Error).stack),new Error("AJAX call failed: "+i.url);return x.apply(t,[i])}function w(e,t){if(e.url instanceof RegExp&&e.hasOwnProperty("urlParams")){var i=e.url.exec(t.url);if(1!==i.length){i.shift();var s=0,n=i.length,o=e.urlParams.length,r=Math.min(n,o),a={};for(s;s<r;s++){a[e.urlParams[s]]=i[s]}t.urlParams=a}}}function y(e){var t,i,s,n=[],o=e instanceof RegExp?function(t){return e.test(t)}:function(t){return e===t};for(t=0,i=C.length;t<i;t++)s=C[t],o(s.url)?S.log(s,["Clearing mock: "+(s&&s.url),s]):n.push(s);return n}var x=t.ajax,C=[],k=[],_=[],T=/=\?(&|$)/,I=(new Date).getTime(),E=500;t.extend({"ajax":b});var S={"_log":function(e,i,s){var n=t.mockjaxSettings.logging;if(e&&void 0!==e.logging&&(n=e.logging),s=0===s?s:s||D.LOG,i=i.splice?i:[i],!(!1===n||n<s))return t.mockjaxSettings.log?t.mockjaxSettings.log(e,i[1]||i[0]):t.mockjaxSettings.logger&&t.mockjaxSettings.logger[t.mockjaxSettings.logLevelMethods[s]]?t.mockjaxSettings.logger[t.mockjaxSettings.logLevelMethods[s]].apply(t.mockjaxSettings.logger,i):void 0},"debug":function(e,t){return S._log(e,t,D.DEBUG)},"log":function(e,t){return S._log(e,t,D.LOG)},"info":function(e,t){return S._log(e,t,D.INFO)},"warn":function(e,t){return S._log(e,t,D.WARN)},"error":function(e,t){return S._log(e,t,D.ERROR)}},D={"DEBUG":4,"LOG":3,"INFO":2,"WARN":1,"ERROR":0};return t.mockjaxSettings={"log":null,"logger":window.console,"logging":2,"logLevelMethods":["error","warn","info","log","debug"],"namespace":null,"status":200,"statusText":"OK","responseTime":E,"isTimeout":!1,"throwUnmocked":!1,"retainAjaxCalls":!0,"contentType":"text/plain","response":"","responseText":"","responseXML":"","proxy":"","proxyType":"GET","lastModified":null,"etag":"","headers":{"etag":"IJF@H#@923uf8023hFO@I#H#","content-type":"text/plain"}},t.mockjax=function(e){if(t.isArray(e))return t.map(e,function(e){return t.mockjax(e)});var i=C.length;return C[i]=e,S.log(e,["Created new mock handler",e]),i},t.mockjax._logger=S,t.mockjax.clear=function(e){"string"==typeof e||e instanceof RegExp?C=y(e):e||0===e?(S.log(C[e],["Clearing mock: "+(C[e]&&C[e].url),C[e]]),C[e]=null):(S.log(null,"Clearing all mocks"),C=[]),k=[],_=[]},t.mockjax.clearRetainedAjaxCalls=function(){k=[],_=[],S.debug(null,"Cleared retained ajax calls")},t.mockjax.handler=function(e){if(1===arguments.length)return C[e]},t.mockjax.mockedAjaxCalls=function(){return k},t.mockjax.unfiredHandlers=function(){for(var e=[],t=0,i=C.length;t<i;t++){var s=C[t];null===s||s.fired||e.push(s)}return e},t.mockjax.unmockedAjaxCalls=function(){return _},t.mockjax.publishHandlers=function(){for(var e=0,t=C.length;e<t;e++){var i=C[e];if(i){var s="Handler "+i.name+":\nurl"+i.url;console.log(s)}}},t.extend(!0,t.mockjaxSettings,e.config().settings),t.mockjax}),csui.define("csui/lib/jquery.simulate",["module","csui/lib/jquery"],function(e,t){!function(e,t){"use strict";function i(e){return l.test(Object.prototype.toString.call(e))}function s(e){for(var t=0;t<window.frames.length;t+=1)if(window.frames[t]&&window.frames[t].document===e)return window.frames[t];return window}function n(t){var s,n,o=e(t);return i(o[0])?(n=o,s={"left":0,"top":0}):(n=e(o[0].ownerDocument||document),s=o.offset()),{"x":s.left+o.outerWidth()/2-n.scrollLeft(),"y":s.top+o.outerHeight()/2-n.scrollTop()}}function o(t){var s,n=e(t);return i(n[0])?(n,s={"left":0,"top":0}):(e(n[0].ownerDocument||document),s=n.offset()),{"x":s.left-document.scrollLeft(),"y":s.top-document.scrollTop()}}var r=/^key/,a=/^(?:mouse|contextmenu)|click/,l=/\[object (?:HTML)?Document\]/;e.fn.simulate=function(t,i){return this.each(function(){new e.simulate(this,t,i)})},e.simulate=function(t,i,s){var n=e.camelCase("simulate-"+i);this.target=t,this.options=s||{},this[n]?this[n]():this.simulateEvent(t,i,this.options)},e.extend(e.simulate,{"keyCode":{"BACKSPACE":8,"COMMA":188,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"LEFT":37,"NUMPAD_ADD":107,"NUMPAD_DECIMAL":110,"NUMPAD_DIVIDE":111,"NUMPAD_ENTER":108,"NUMPAD_MULTIPLY":106,"NUMPAD_SUBTRACT":109,"PAGE_DOWN":34,"PAGE_UP":33,"PERIOD":190,"RIGHT":39,"SPACE":32,"TAB":9,"UP":38},"buttonCode":{"LEFT":0,"MIDDLE":1,"RIGHT":2}}),e.extend(e.simulate.prototype,{"simulateEvent":function(e,t,i){var s=this.createEvent(t,i);this.dispatchEvent(e,t,s,i)},"createEvent":function(e,t){return r.test(e)?this.keyEvent(e,t):a.test(e)?this.mouseEvent(e,t):void 0},"mouseEvent":function(t,n){var o,r,a,l,c=i(this.target)?this.target:this.target.ownerDocument||document;return n=e.extend({"bubbles":!0,"cancelable":"mousemove"!==t,"view":s(c),"detail":0,"screenX":0,"screenY":0,"clientX":1,"clientY":1,"ctrlKey":!1,"altKey":!1,"shiftKey":!1,"metaKey":!1,"button":0,"relatedTarget":void 0},n),c.createEvent?(o=c.createEvent("MouseEvents"),o.initMouseEvent(t,n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget||c.body.parentNode),0===o.pageX&&0===o.pageY&&Object.defineProperty&&(r=i(o.relatedTarget)?o.relatedTarget:o.relatedTarget.ownerDocument||document,a=r.documentElement,l=r.body,Object.defineProperty(o,"pageX",{"get":function(){return n.clientX+(a&&a.scrollLeft||l&&l.scrollLeft||0)-(a&&a.clientLeft||l&&l.clientLeft||0)}}),Object.defineProperty(o,"pageY",{"get":function(){return n.clientY+(a&&a.scrollTop||l&&l.scrollTop||0)-(a&&a.clientTop||l&&l.clientTop||0)}}))):c.createEventObject&&(o=c.createEventObject(),e.extend(o,n),o.button={"0":1,"1":4,"2":2}[o.button]||o.button),o},"keyEvent":function(t,n){var o,r;if(n=e.extend({"bubbles":!0,"cancelable":!0,"view":s(r),"ctrlKey":!1,"altKey":!1,"shiftKey":!1,"metaKey":!1,"keyCode":0,"charCode":void 0},n),r=i(this.target)?this.target:this.target.ownerDocument||document,r.createEvent)try{o=r.createEvent("KeyEvents"),o.initKeyEvent(t,n.bubbles,n.cancelable,n.view,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.keyCode,n.charCode)}catch(i){o=r.createEvent("Events"),o.initEvent(t,n.bubbles,n.cancelable),e.extend(o,{"view":n.view,"ctrlKey":n.ctrlKey,"altKey":n.altKey,"shiftKey":n.shiftKey,"metaKey":n.metaKey,"keyCode":n.keyCode,"charCode":n.charCode})}else r.createEventObject&&(o=r.createEventObject(),e.extend(o,n));return(/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())||"[object Opera]"==={}.toString.call(window.opera))&&(o.keyCode=n.charCode>0?n.charCode:n.keyCode,o.charCode=void 0),o},"dispatchEvent":function(t,i,s,n){!0===n.jQueryTrigger?e(t).trigger(e.extend({},s,n,{"type":i})):t.dispatchEvent?t.dispatchEvent(s):t.fireEvent&&t.fireEvent("on"+i,s)},"simulateFocus":function(){function t(){s=!0}var i,s=!1,n=e(this.target);n.on("focus",t),n.first().trigger("focus"),s||(i=e.Event("focusin"),i.preventDefault(),n.trigger(i),n.triggerHandler("focus")),n.unbind("focus",t)},"simulateBlur":function(){function t(){s=!0}var i,s=!1,n=e(this.target);n.on("blur",t),n.first().trigger("blur"),setTimeout(function(){n[0].ownerDocument.activeElement===n[0]&&e(n[0].ownerDocument.body).trigger("focus"),s||(i=e.Event("focusout"),i.preventDefault(),n.trigger(i),n.triggerHandler("blur")),n.off("blur",t)},1)}}),e.extend(e.simulate.prototype,{"simulateDrag":function(){var t=0,i=this.target,s=this.options,r="corner"===s.handle?o(i):n(i),a=Math.floor(r.x),l=Math.floor(r.y),c={"clientX":a,"clientY":l},u=s.dx||(void 0!==s.x?s.x-a:0),d=s.dy||(void 0!==s.y?s.y-l:0),h=s.moves||3;for(this.simulateEvent(i,"mousedown",c);t<h;t++)a+=u/h,l+=d/h,c={"clientX":Math.round(a),"clientY":Math.round(l)},this.simulateEvent(i.ownerDocument,"mousemove",c);e.contains(document,i)?(this.simulateEvent(i,"mouseup",c),this.simulateEvent(i,"click",c)):this.simulateEvent(document,"mouseup",c)}})}(t)}),csui.define("csui/lib/othelp",["module"],function(e){var t=function(e){var t="product",s="version",n="http://docsapi.opentext.com/mapperpi",o={"tboolean":"touch bookmarks toc bookmarkEntries sectionNumbers caseSensitive highContrast".split(" "),"nameValuePair":{"find":["anyWord","allWords","exactWord"],"search":["allModules","document","section","page"],"sort":["match","divisions"]},"tstring":"query"};Array.isArray||(Array.isArray=function(e){return e instanceof Array}),void 0===String.prototype.endsWith&&(String.prototype.endsWith=function(e){return this.lastIndexOf(e)==this.length-e.length}),"undefined"==typeof debug&&(debug=!1),"undefined"==typeof trace&&(trace=!1),e&&(t=e.product||t,s=e.version||s,n=e.urlRoot||n);try{console||(console={"error":function(){},"log":function(){},"warn":function(){}})}catch(e){console={"error":function(){},"log":function(){},"warn":function(){}}}return{"buildHelpUrl":function(e,t,i){if(!e||!t)return console.error("Please specify 'locale' and 'context'"),"";if("string"==typeof e&&0>e.indexOf(",")&&"string"==typeof t)return this._.generateSixParam(e,t,i);var s=null,s="string"==typeof e&&-1<e.indexOf(",")?e.split(","):"string"==typeof e?[e]:e;return this._.generateComplexParam(s,t,i)},"optionConstants":o,"_":{"generateComplexParam":function(e,t,i){var s,r,a,l,c,u,d,h,p,m,g,f,v=[],b=[],w=null,w=!1,y=[],x=[];if(!e||!t)return console.error("Missing parameter!, Please specify 'locale', and 'context', not:",e,t,i),"";if("object"!=typeof e||"object"!=typeof t||i&&"object"!=typeof i)return console.error("Invalid parameter!:",e,t,i,"are not objects. Parameter order should be ([],{},{})"),"";c=i?i.tenant:null,u=i?i.type||"ofh1":"ofh1",d=function(e,t){if(e){p=!1;for(m in t)p|=t[m]==e;p||t.push(e)}},s="";for(l in t.documents)h=t.documents[l],h.active&&!0===h.active&&(w&&delete h.active,w=!0),!0===h.exclude&&v.push(h),this.fixApp(h),d(h.version,x),h.err||y.push(h);if("object"==typeof i&&i.options){debug&&console.log("Complex params options: ",i.options),w={"find":1,"search":10,"sort":100},h=0,g=1;for(l in o.tboolean)m=o.tboolean[l],m=i.options[m],"boolean"==typeof m&&(h+=m?g:0),g*=2;h=h.toString(16),"0"!=h&&(s+=2>h.length?"0"+h:h),h=0;for(l in i.options)if(m=o.nameValuePair[l])for(g=i.options[l],f=0;f<m.length;f++)if(m[f]==g){h+=(f+1)*w[l];break}if(0<h&&121!=h&&(h=h.toString(16),s+=(0===s.length?"00":"")+(2>h.length?"0"+h:h)),"string"==typeof i.options.query&&(s+="S"+encodeURI(i.options.query)),i.options.flags&&(r=(""+i.options.flags).replace(/[^a-zA-Z0-9]/g,"")),i.options.custom)for(h in a="",i.options.custom)0<=",ml,t,o,f,key,type,".indexOf(","+h+",")||(m=h.replace(/[^a-zA-Z0-9]/g,"")+"="+encodeURIComponent(i.options.custom[h]),a+="&"+m)}for(debug&&console.log("Complex params: ",c,u,JSON.stringify(y),s),i=n+"?ml=",i+=this.altArray(e),1==x.length&&(i=i+","+x[0]),l=0;l<y.length;l++)w=y[l].module,y[l].version&&(w+=y[l].version),y[l].release&&(w+="-"+y[l].release),y[l].help&&(w+="-"+y[l].help),y[l].docType&&(w+="-"+y[l].docType),y[l].locale&&(w+="-"+y[l].locale),y[l].PageID&&(w+="."+y[l].PageID),y[l].exclude&&(w+="_"),y[l].active&&(w+="~"),d(w,b);return debug&&(console.log("Complex params: ",x,i,JSON.stringify(v)),console.log("Compressable: ",JSON.stringify(b))),w=this.compress({"docs":b,"preserve":t.preserve,"locale":e},e[0]),debug&&console.log("Compressed:",w),c&&(w+="&t="+encodeURIComponent(c)),s&&(0<parseInt(s,16)||0<=s.indexOf("S"))&&(w+="&o="+s),r&&(w+="&f="+r),a&&(w+=a),e=this.generateKey(),n+"?type="+u+"&ml="+w+"&key="+e},"compress":function(e,t){var i,s,n=e.locale;i=null;var o,r,a=[],l="NotAPossibleValue",c=l,u=!0,d=l,h=!0;n||(n=t),n&&null!==n||(n="en"),i=e.docs,!0!==e.preserve&&(i=i.sort()),s=this.altArray(n),a=[],o=null,c=l="NotAPossibleValue",u=!0,d=l,h=!0;for(r in i)o=this.parseRevnum(i[r]),a.push(o),u&&c!=o.help&&(c==l?c=o.help:c!=o.help&&(u=!1)),h&&d!=o.release&&(d==l?d=o.release:d!=o.release&&(h=!1));2>i.length&&(h=u=!1),h&&null!==d&&(s=s+"-"+d.toUpperCase()),u&&null!==c&&(s+="-",s+=c),c=l=r=null;for(o in a)i=a[o],null===r||r!=i.product?(s+="$",r=i.product,l=c=null,s+=r):s+=",",d=i.version,h||null===i.release||i.release&&(d+="-"+i.release.toUpperCase()),null!==l&&l==d||(s+=d,l=d,c=null),d="",i.docType&&(d+=i.docType),null!==i.locale&&n!=i.locale&&(d+="-",d+=i.locale),null!==i.PageID&&0<i.PageID.length&&(d+=".",d+=window.encodeURIComponent(i.PageID)),null!==c&&c==d||(null!==c&&","!=s.substring(s.length-1)&&(s+=","),c=d,u||null===i.help||(s+=i.help,s+="-"),s+=c),null!==i.flag&&(s+=i.flag);return s},"fixApp":function(e){var t,i=null;if(e){if(e.version||(i=this.parseRevnum(e.module),e.module=i.product,e.version=i.version&&0<i.version.length?i.version:"0",e.release=i.release&&0<i.release.length?i.release:null,e.docType=i.docType,e.help=i.help,e.err=i.err),"v"==e.version[0]&&(e.version=e.version.substring(1)),-1<e.module.indexOf("-")){for(i=e.module.split(/(?=-)/),i[0]=i[0].split(/\d+$/)[0],e.module=i[0]+e.version,t=1;t<i.length;t++)e.module+=i[t];i=this.parseRevnum(e.module),e.module=i.product,e.version=i.version,e.release=i.release,e.docType=i.docType,e.help=i.help,e.err=i.err}i||(i=this.parseRevnum(e.module)),e.locale=i.locale&&0<i.locale.length&&!e.locale?i.locale:e.locale,e.PageID=i.PageID&&0<i.PageID.length&&!e.topic?i.PageID:e.topic,e.module=e.module.split(/\d+$/)[0]}},"generateSixParam":function(e,i,o){var r,a=null,l=null,c=null,u=null;if(o&&(a=o.product,l=o.version,c=o.module,u=o.type),"string"==typeof u&&0===u.length&&(u=null),o=this.generateKey(),a=a||t,l=l||s,r=n,"string"!=typeof c&&"string"!=typeof u&&0<r.indexOf("mapperpi")&&(r=r.substring(0,r.length-2)),r=r+"?product="+encodeURIComponent(a),r+="&version="+encodeURIComponent(l),r+="&locale="+encodeURIComponent(e),r+="&context="+encodeURIComponent(i),"string"==typeof c&&"string"==typeof u)r+="&module="+encodeURIComponent(c),r+="&type="+encodeURIComponent(u);else if(!c&&u||!u&&c)return console.error("'module' and 'type' need to be either BOTH or NEITHER defined"),"";return r+="&key="+o,debug&&console.log(r),r},"generateKey":function(){var e=this.generatePassPhrase();return this.encryptByDES("Vignette",e)},"parseRevnum":function(e){var t,i=null;if(i=e.match(/^([a-zA-Z]+)(\d+(-\d+\w*)?)((-[a-z])?)(-[a-z]+)?(-[_a-z]+)?(-\d+)?(\.([a-zA-Z0-9#.\_\-]+))?([\_\~])?$/i)){e=i[2],i[3]&&"-"==i[3][0]&&(e=e.substring(0,e.length-i[3].length)),i={"product":i[1],"version":e,"release":i[3],"help":i[4],"docType":i[6],"locale":i[7],"revision":i[8],"PageID":i[10],"flag":i[11]};for(t in i)i[t]&&"-"==i[t][0]?i[t]=i[t].substring(1):i[t]||(i[t]=null);null!==i.PageID&&null===i.flag&&i.PageID.endsWith("_")&&(i.flag="_",i.PageID=i.PageID.substring(0,i.PageID.length-1))}else i={"product":e,"version":null,"release":null,"help":null,"docType":null,"locale":null,"revision":null,"PageID":null,"flag":null,"err":!0};return i},"generatePassPhrase":function(){var e=new Date,t=e.getFullYear(),i=e.getMonth(),e=e.getDate(),s=""+i,n=""+e;return 10>i&&(s="0"+s),10>e&&(n="0"+n),t+s+n},"encryptByDES":function(e,t){var s;s=i.enc.Utf8.parse(t);var n=i.enc.Hex.parse(i.enc.Utf8.parse("ruhulio!").toString(i.enc.Hex));return trace&&(console.log(i.enc.Utf8.stringify(s),i.enc.Hex.stringify(s)),console.log(i.enc.Hex.parse(i.enc.Utf8.parse(t).toString(i.enc.Hex)))),s=i.DES.encrypt(e,s,{"iv":n,"mode":i.mode.CBC,"padding":i.pad.Pkcs7}),trace&&(console.log("encrypted.toString()  -> base64(ciphertext)  :",s.toString()),console.log("base64(ciphertext)    <- encrypted.toString():",s.ciphertext.toString(i.enc.Base64)),console.log("ciphertext.toString() -> ciphertext hex      :",s.ciphertext.toString())),s.ciphertext.toString()},"altArray":function(e){var t,i,s="";if(Array.isArray(e)){for(t=0;t<e.length;t++)i=e[t],s=0==t%2?s+i.toLowerCase():s+i.toUpperCase();return s}return e}}}},i=i||function(e,t){var i={},s=i.lib={},n=function(){},o=s.Base={"extend":function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},"create":function(){var e=this.extend();return e.init.apply(e,arguments),e},"init":function(){},"mixIn":function(e){
for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},"clone":function(){return this.init.prototype.extend(this)}},r=s.WordArray=o.extend({"init":function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},"toString":function(e){return(e||l).stringify(this)},"concat":function(e){var t=this.words,i=e.words,s=this.sigBytes;if(e=e.sigBytes,this.clamp(),s%4)for(var n=0;n<e;n++)t[s+n>>>2]|=(i[n>>>2]>>>24-n%4*8&255)<<24-(s+n)%4*8;else if(65535<i.length)for(n=0;n<e;n+=4)t[s+n>>>2]=i[n>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},"clamp":function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},"clone":function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},"random":function(t){for(var i=[],s=0;s<t;s+=4)i.push(4294967296*e.random()|0);return new r.init(i,t)}}),a=i.enc={},l=a.Hex={"stringify":function(e){var t=e.words;e=e.sigBytes;for(var i=[],s=0;s<e;s++){var n=t[s>>>2]>>>24-s%4*8&255;i.push((n>>>4).toString(16)),i.push((15&n).toString(16))}return i.join("")},"parse":function(e){for(var t=e.length,i=[],s=0;s<t;s+=2)i[s>>>3]|=parseInt(e.substr(s,2),16)<<24-s%8*4;return new r.init(i,t/2)}},c=a.Latin1={"stringify":function(e){var t=e.words;e=e.sigBytes;for(var i=[],s=0;s<e;s++)i.push(String.fromCharCode(t[s>>>2]>>>24-s%4*8&255));return i.join("")},"parse":function(e){for(var t=e.length,i=[],s=0;s<t;s++)i[s>>>2]|=(255&e.charCodeAt(s))<<24-s%4*8;return new r.init(i,t)}},u=a.Utf8={"stringify":function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},"parse":function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=s.BufferedBlockAlgorithm=o.extend({"reset":function(){this._data=new r.init,this._nDataBytes=0},"_append":function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},"_process":function(t){var i=this._data,s=i.words,n=i.sigBytes,o=this.blockSize,a=n/(4*o),a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0);if(t=a*o,n=e.min(4*t,n),t){for(var l=0;l<t;l+=o)this._doProcessBlock(s,l);l=s.splice(0,t),i.sigBytes-=n}return new r.init(l,n)},"clone":function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},"_minBufferSize":0});s.Hasher=d.extend({"cfg":o.extend(),"init":function(e){this.cfg=this.cfg.extend(e),this.reset()},"reset":function(){d.reset.call(this),this._doReset()},"update":function(e){return this._append(e),this._process(),this},"finalize":function(e){return e&&this._append(e),this._doFinalize()},"blockSize":16,"_createHelper":function(e){return function(t,i){return new e.init(i).finalize(t)}},"_createHmacHelper":function(e){return function(t,i){return new h.HMAC.init(e,i).finalize(t)}}});var h=i.algo={};return i}(Math);return function(){var e=i,t=e.lib.WordArray;e.enc.Base64={"stringify":function(e){var t=e.words,i=e.sigBytes,s=this._map;e.clamp(),e=[];for(var n=0;n<i;n+=3)for(var o=(t[n>>>2]>>>24-n%4*8&255)<<16|(t[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|t[n+2>>>2]>>>24-(n+2)%4*8&255,r=0;4>r&&n+.75*r<i;r++)e.push(s.charAt(o>>>6*(3-r)&63));if(t=s.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},"parse":function(e){var i=e.length,s=this._map,n=s.charAt(64);n&&-1!=(n=e.indexOf(n))&&(i=n);for(var n=[],o=0,r=0;r<i;r++)if(r%4){var a=s.indexOf(e.charAt(r-1))<<r%4*2,l=s.indexOf(e.charAt(r))>>>6-r%4*2;n[o>>>2]|=(a|l)<<24-o%4*8,o++}return t.create(n,o)},"_map":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,i,s,n,o,r){return((e=e+(t&i|~t&s)+n+r)<<o|e>>>32-o)+t}function s(e,t,i,s,n,o,r){return((e=e+(t&s|i&~s)+n+r)<<o|e>>>32-o)+t}function n(e,t,i,s,n,o,r){return((e=e+(t^i^s)+n+r)<<o|e>>>32-o)+t}function o(e,t,i,s,n,o,r){return((e=e+(i^(t|~s))+n+r)<<o|e>>>32-o)+t}for(var r=i,a=r.lib,l=a.WordArray,c=a.Hasher,a=r.algo,u=[],d=0;64>d;d++)u[d]=4294967296*e.abs(e.sin(d+1))|0;a=a.MD5=c.extend({"_doReset":function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},"_doProcessBlock":function(e,i){for(var r=0;16>r;r++){var a=i+r,l=e[a];e[a]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var r=this._hash.words,a=e[i+0],l=e[i+1],c=e[i+2],d=e[i+3],h=e[i+4],p=e[i+5],m=e[i+6],g=e[i+7],f=e[i+8],v=e[i+9],b=e[i+10],w=e[i+11],y=e[i+12],x=e[i+13],C=e[i+14],k=e[i+15],_=r[0],T=r[1],I=r[2],E=r[3],_=t(_,T,I,E,a,7,u[0]),E=t(E,_,T,I,l,12,u[1]),I=t(I,E,_,T,c,17,u[2]),T=t(T,I,E,_,d,22,u[3]),_=t(_,T,I,E,h,7,u[4]),E=t(E,_,T,I,p,12,u[5]),I=t(I,E,_,T,m,17,u[6]),T=t(T,I,E,_,g,22,u[7]),_=t(_,T,I,E,f,7,u[8]),E=t(E,_,T,I,v,12,u[9]),I=t(I,E,_,T,b,17,u[10]),T=t(T,I,E,_,w,22,u[11]),_=t(_,T,I,E,y,7,u[12]),E=t(E,_,T,I,x,12,u[13]),I=t(I,E,_,T,C,17,u[14]),T=t(T,I,E,_,k,22,u[15]),_=s(_,T,I,E,l,5,u[16]),E=s(E,_,T,I,m,9,u[17]),I=s(I,E,_,T,w,14,u[18]),T=s(T,I,E,_,a,20,u[19]),_=s(_,T,I,E,p,5,u[20]),E=s(E,_,T,I,b,9,u[21]),I=s(I,E,_,T,k,14,u[22]),T=s(T,I,E,_,h,20,u[23]),_=s(_,T,I,E,v,5,u[24]),E=s(E,_,T,I,C,9,u[25]),I=s(I,E,_,T,d,14,u[26]),T=s(T,I,E,_,f,20,u[27]),_=s(_,T,I,E,x,5,u[28]),E=s(E,_,T,I,c,9,u[29]),I=s(I,E,_,T,g,14,u[30]),T=s(T,I,E,_,y,20,u[31]),_=n(_,T,I,E,p,4,u[32]),E=n(E,_,T,I,f,11,u[33]),I=n(I,E,_,T,w,16,u[34]),T=n(T,I,E,_,C,23,u[35]),_=n(_,T,I,E,l,4,u[36]),E=n(E,_,T,I,h,11,u[37]),I=n(I,E,_,T,g,16,u[38]),T=n(T,I,E,_,b,23,u[39]),_=n(_,T,I,E,x,4,u[40]),E=n(E,_,T,I,a,11,u[41]),I=n(I,E,_,T,d,16,u[42]),T=n(T,I,E,_,m,23,u[43]),_=n(_,T,I,E,v,4,u[44]),E=n(E,_,T,I,y,11,u[45]),I=n(I,E,_,T,k,16,u[46]),T=n(T,I,E,_,c,23,u[47]),_=o(_,T,I,E,a,6,u[48]),E=o(E,_,T,I,g,10,u[49]),I=o(I,E,_,T,C,15,u[50]),T=o(T,I,E,_,p,21,u[51]),_=o(_,T,I,E,y,6,u[52]),E=o(E,_,T,I,d,10,u[53]),I=o(I,E,_,T,b,15,u[54]),T=o(T,I,E,_,l,21,u[55]),_=o(_,T,I,E,f,6,u[56]),E=o(E,_,T,I,k,10,u[57]),I=o(I,E,_,T,m,15,u[58]),T=o(T,I,E,_,x,21,u[59]),_=o(_,T,I,E,h,6,u[60]),E=o(E,_,T,I,w,10,u[61]),I=o(I,E,_,T,c,15,u[62]),T=o(T,I,E,_,v,21,u[63]);r[0]=r[0]+_|0,r[1]=r[1]+T|0,r[2]=r[2]+I|0,r[3]=r[3]+E|0},"_doFinalize":function(){var t=this._data,i=t.words,s=8*this._nDataBytes,n=8*t.sigBytes;i[n>>>5]|=128<<24-n%32;var o=e.floor(s/4294967296);for(i[15+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[14+(n+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(i.length+1),this._process(),t=this._hash,i=t.words,s=0;4>s;s++)n=i[s],i[s]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return t},"clone":function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e}}),r.MD5=c._createHelper(a),r.HmacMD5=c._createHmacHelper(a)}(Math),function(){var e=i,t=e.lib,s=t.Base,n=t.WordArray,t=e.algo,o=t.EvpKDF=s.extend({"cfg":s.extend({"keySize":4,"hasher":t.MD5,"iterations":1}),"init":function(e){this.cfg=this.cfg.extend(e)},"compute":function(e,t){for(var i=this.cfg,s=i.hasher.create(),o=n.create(),r=o.words,a=i.keySize,i=i.iterations;r.length<a;){l&&s.update(l);var l=s.update(e).finalize(t);s.reset();for(var c=1;c<i;c++)l=s.finalize(l),s.reset();o.concat(l)}return o.sigBytes=4*a,o}});e.EvpKDF=function(e,t,i){return o.create(i).compute(e,t)}}(),i.lib.Cipher||function(e){var t=i,s=t.lib,n=s.Base,o=s.WordArray,r=s.BufferedBlockAlgorithm,a=t.enc.Base64,l=t.algo.EvpKDF,c=s.Cipher=r.extend({"cfg":n.extend(),"createEncryptor":function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},"createDecryptor":function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},"init":function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},"reset":function(){r.reset.call(this),this._doReset()},"process":function(e){return this._append(e),this._process()},"finalize":function(e){return e&&this._append(e),this._doFinalize()},"keySize":4,"ivSize":4,"_ENC_XFORM_MODE":1,"_DEC_XFORM_MODE":2,"_createHelper":function(e){return{"encrypt":function(t,i,s){return("string"==typeof i?g:m).encrypt(e,t,i,s)},"decrypt":function(t,i,s){return("string"==typeof i?g:m).decrypt(e,t,i,s)}}}});s.StreamCipher=c.extend({"_doFinalize":function(){return this._process(!0)},"blockSize":1});var u=t.mode={},d=function(e,t,i){var s=this._iv;s?this._iv=void 0:s=this._prevBlock;for(var n=0;n<i;n++)e[t+n]^=s[n]},h=(s.BlockCipherMode=n.extend({"createEncryptor":function(e,t){return this.Encryptor.create(e,t)},"createDecryptor":function(e,t){return this.Decryptor.create(e,t)},"init":function(e,t){this._cipher=e,this._iv=t}})).extend();h.Encryptor=h.extend({"processBlock":function(e,t){var i=this._cipher,s=i.blockSize;d.call(this,e,t,s),i.encryptBlock(e,t),this._prevBlock=e.slice(t,t+s)}}),h.Decryptor=h.extend({"processBlock":function(e,t){var i=this._cipher,s=i.blockSize,n=e.slice(t,t+s);i.decryptBlock(e,t),d.call(this,e,t,s),this._prevBlock=n}}),u=u.CBC=h,h=(t.pad={}).Pkcs7={"pad":function(e,t){for(var i=4*t,i=i-e.sigBytes%i,s=i<<24|i<<16|i<<8|i,n=[],r=0;r<i;r+=4)n.push(s);i=o.create(n,i),e.concat(i)},"unpad":function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},s.BlockCipher=c.extend({"cfg":c.cfg.extend({"mode":u,"padding":h}),"reset":function(){c.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=e.createEncryptor;else i=e.createDecryptor,this._minBufferSize=1;this._mode=i.call(e,this,t&&t.words)},"_doProcessBlock":function(e,t){this._mode.processBlock(e,t)},"_doFinalize":function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},"blockSize":4});var p=s.CipherParams=n.extend({"init":function(e){this.mixIn(e)},"toString":function(e){return(e||this.formatter).stringify(this)}}),u=(t.format={}).OpenSSL={"stringify":function(e){var t=e.ciphertext;return e=e.salt,(e?o.create([1398893684,1701076831]).concat(e).concat(t):t).toString(a)},"parse":function(e){e=a.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var i=o.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return p.create({"ciphertext":e,"salt":i})}},m=s.SerializableCipher=n.extend({"cfg":n.extend({"format":u}),"encrypt":function(e,t,i,s){s=this.cfg.extend(s);var n=e.createEncryptor(i,s);return t=n.finalize(t),n=n.cfg,p.create({"ciphertext":t,"key":i,"iv":n.iv,"algorithm":e,"mode":n.mode,"padding":n.padding,"blockSize":e.blockSize,"formatter":s.format})},"decrypt":function(e,t,i,s){return s=this.cfg.extend(s),t=this._parse(t,s.format),e.createDecryptor(i,s).finalize(t.ciphertext)},"_parse":function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={"execute":function(e,t,i,s){return s||(s=o.random(8)),e=l.create({"keySize":t+i}).compute(e,s),i=o.create(e.words.slice(t),4*i),e.sigBytes=4*t,p.create({"key":e,"iv":i,"salt":s})}},g=s.PasswordBasedCipher=m.extend({"cfg":m.cfg.extend({"kdf":t}),"encrypt":function(e,t,i,s){return s=this.cfg.extend(s),i=s.kdf.execute(i,e.keySize,e.ivSize),s.iv=i.iv,e=m.encrypt.call(this,e,t,i.key,s),e.mixIn(i),e},"decrypt":function(e,t,i,s){return s=this.cfg.extend(s),t=this._parse(t,s.format),i=s.kdf.execute(i,e.keySize,e.ivSize,t.salt),s.iv=i.iv,m.decrypt.call(this,e,t,i.key,s)}})}(),function(){function e(e,t){var i=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=i,this._lBlock^=i<<e}function t(e,t){var i=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=i,this._rBlock^=i<<e}var s=i,n=s.lib,o=n.WordArray,n=n.BlockCipher,r=s.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{"0":8421888,"268435456":32768,"536870912":8421378,"805306368":2,"1073741824":512,"1342177280":8421890,"1610612736":8389122,"1879048192":8388608,"2147483648":514,"2415919104":8389120,"2684354560":33280,"2952790016":8421376,"3221225472":32770,"3489660928":8388610,"3758096384":0,"4026531840":33282,"134217728":0,"402653184":8421890,"671088640":33282,"939524096":32768,"1207959552":8421888,"1476395008":512,"1744830464":8421378,"2013265920":2,"2281701376":8389120,"2550136832":33280,"2818572288":8421376,"3087007744":8389122,"3355443200":8388610,"3623878656":32770,"3892314112":514,"4160749568":8388608,"1":32768,"268435457":2,"536870913":8421888,"805306369":8388608,"1073741825":8421378,"1342177281":33280,"1610612737":512,"1879048193":8389122,"2147483649":8421890,"2415919105":8421376,"2684354561":8388610,"2952790017":33282,"3221225473":514,"3489660929":8389120,"3758096385":32770,"4026531841":0,"134217729":8421890,"402653185":8421376,"671088641":8388608,"939524097":512,"1207959553":32768,"1476395009":8388610,"1744830465":2,"2013265921":33282,"2281701377":32770,"2550136833":8389122,"2818572289":514,"3087007745":8421888,"3355443201":8389120,"3623878657":0,"3892314113":33280,"4160749569":8421378},{"0":1074282512,"16777216":16384,"33554432":524288,"50331648":1074266128,"67108864":1073741840,"83886080":1074282496,"100663296":1073758208,"117440512":16,"134217728":540672,"150994944":1073758224,"167772160":1073741824,"184549376":540688,"201326592":524304,"218103808":0,"234881024":16400,"251658240":1074266112,"8388608":1073758208,"25165824":540688,"41943040":16,"58720256":1073758224,"75497472":1074282512,"92274688":1073741824,"109051904":524288,"125829120":1074266128,"142606336":524304,"159383552":0,"176160768":16384,"192937984":1074266112,"209715200":1073741840,"226492416":540672,"243269632":1074282496,"260046848":16400,"268435456":0,"285212672":1074266128,"301989888":1073758224,"318767104":1074282496,"335544320":1074266112,"352321536":16,"369098752":540688,"385875968":16384,"402653184":16400,"419430400":524288,"436207616":524304,"452984832":1073741840,"469762048":540672,"486539264":1073758208,"503316480":1073741824,"520093696":1074282512,"276824064":540688,"293601280":524288,"310378496":1074266112,"327155712":16384,"343932928":1073758208,"360710144":1074282512,"377487360":16,"394264576":1073741824,"411041792":1074282496,"427819008":1073741840,"444596224":1073758224,"461373440":524304,"478150656":0,"494927872":16400,"511705088":1074266128,"528482304":540672},{"0":260,"1048576":0,"2097152":67109120,"3145728":65796,"4194304":65540,"5242880":67108868,"6291456":67174660,"7340032":67174400,"8388608":67108864,"9437184":67174656,"10485760":65792,"11534336":67174404,"12582912":67109124,"13631488":65536,"14680064":4,"15728640":256,"524288":67174656,"1572864":67174404,"2621440":0,"3670016":67109120,"4718592":67108868,"5767168":65536,"6815744":65540,"7864320":260,"8912896":4,"9961472":256,"11010048":67174400,"12058624":65796,"13107200":65792,"14155776":67109124,"15204352":67174660,"16252928":67108864,"16777216":67174656,"17825792":65540,"18874368":65536,"19922944":67109120,"20971520":256,"22020096":67174660,"23068672":67108868,"24117248":0,"25165824":67109124,"26214400":67108864,"27262976":4,"28311552":65792,"29360128":67174400,"30408704":260,"31457280":65796,"32505856":67174404,"17301504":67108864,"18350080":260,"19398656":67174656,"20447232":0,"21495808":65540,"22544384":67109120,"23592960":256,"24641536":67174404,"25690112":65536,"26738688":67174660,"27787264":65796,"28835840":67108868,"29884416":67109124,"30932992":67174400,"31981568":4,"33030144":65792},{"0":2151682048,"65536":2147487808,"131072":4198464,"196608":2151677952,"262144":0,"327680":4198400,"393216":2147483712,"458752":4194368,"524288":2147483648,"589824":4194304,"655360":64,"720896":2147487744,"786432":2151678016,"851968":4160,"917504":4096,"983040":2151682112,"32768":2147487808,"98304":64,"163840":2151678016,"229376":2147487744,"294912":4198400,"360448":2151682112,"425984":0,"491520":2151677952,"557056":4096,"622592":2151682048,"688128":4194304,"753664":4160,"819200":2147483648,"884736":4194368,"950272":4198464,"1015808":2147483712,"1048576":4194368,"1114112":4198400,"1179648":2147483712,"1245184":0,"1310720":4160,"1376256":2151678016,"1441792":2151682048,"1507328":2147487808,"1572864":2151682112,"1638400":2147483648,"1703936":2151677952,"1769472":4198464,"1835008":2147487744,"1900544":4194304,"1966080":64,"2031616":4096,"1081344":2151677952,"1146880":2151682112,"1212416":0,"1277952":4198400,"1343488":4194368,"1409024":2147483648,"1474560":2147487808,"1540096":64,"1605632":2147483712,"1671168":4096,"1736704":2147487744,"1802240":2151678016,"1867776":4160,"1933312":2151682048,"1998848":4194304,"2064384":4198464},{"0":128,"4096":17039360,"8192":262144,"12288":536870912,"16384":537133184,"20480":16777344,"24576":553648256,"28672":262272,"32768":16777216,"36864":537133056,"40960":536871040,"45056":553910400,"49152":553910272,"53248":0,"57344":17039488,"61440":553648128,"2048":17039488,"6144":553648256,"10240":128,"14336":17039360,"18432":262144,"22528":537133184,"26624":553910272,"30720":536870912,"34816":537133056,"38912":0,"43008":553910400,"47104":16777344,"51200":536871040,"55296":553648128,"59392":16777216,"63488":262272,"65536":262144,"69632":128,"73728":536870912,"77824":553648256,"81920":16777344,"86016":553910272,"90112":537133184,"94208":16777216,"98304":553910400,"102400":553648128,"106496":17039360,"110592":537133056,"114688":262272,"118784":536871040,"122880":0,"126976":17039488,"67584":553648256,"71680":16777216,"75776":17039360,"79872":537133184,"83968":536870912,"88064":17039488,"92160":128,"96256":553910272,"100352":262272,"104448":553910400,"108544":0,"112640":553648128,"116736":16777344,"120832":262144,"124928":537133056,"129024":536871040},{"0":268435464,"256":8192,"512":270532608,"768":270540808,"1024":268443648,"1280":2097152,"1536":2097160,"1792":268435456,"2048":0,"2304":268443656,"2560":2105344,"2816":8,"3072":270532616,"3328":2105352,"3584":8200,"3840":270540800,"128":270532608,"384":270540808,"640":8,"896":2097152,"1152":2105352,"1408":268435464,"1664":268443648,"1920":8200,"2176":2097160,"2432":8192,"2688":268443656,"2944":270532616,"3200":0,"3456":270540800,"3712":2105344,"3968":268435456,"4096":268443648,"4352":270532616,"4608":270540808,"4864":8200,"5120":2097152,"5376":268435456,"5632":268435464,"5888":2105344,"6144":2105352,"6400":0,"6656":8,"6912":270532608,"7168":8192,"7424":268443656,"7680":270540800,"7936":2097160,"4224":8,"4480":2105344,"4736":2097152,"4992":268435464,"5248":268443648,"5504":8200,"5760":270540808,"6016":270532608,"6272":270540800,"6528":270532616,"6784":8192,"7040":2105352,"7296":2097160,"7552":0,"7808":268435456,"8064":268443656},{"0":1048576,"16":33555457,"32":1024,"48":1049601,"64":34604033,"80":0,"96":1,"112":34603009,"128":33555456,"144":1048577,"160":33554433,"176":34604032,"192":34603008,"208":1025,"224":1049600,"240":33554432,"8":34603009,"24":0,"40":33555457,"56":34604032,"72":1048576,"88":33554433,"104":33554432,"120":1025,"136":1049601,"152":33555456,"168":34603008,"184":1048577,"200":1024,"216":34604033,"232":1,"248":1049600,"256":33554432,"272":1048576,"288":33555457,"304":34603009,"320":1048577,"336":33555456,"352":34604032,"368":1049601,"384":1025,"400":34604033,"416":1049600,"432":1,"448":0,"464":34603008,"480":33554433,"496":1024,"264":1049600,"280":33555457,"296":34603009,"312":1,"328":33554432,"344":1048576,"360":1025,"376":34604032,"392":33554433,"408":34603008,"424":0,"440":34604033,"456":1049601,"472":1024,"488":33555456,"504":1048577},{"0":134219808,"1":131072,"2":134217728,"3":32,"4":131104,"5":134350880,"6":134350848,"7":2048,"8":134348800,"9":134219776,"10":133120,"11":134348832,"12":2080,"13":0,"14":134217760,"15":133152,"2147483648":2048,"2147483649":134350880,"2147483650":134219808,"2147483651":134217728,"2147483652":134348800,"2147483653":133120,"2147483654":133152,"2147483655":32,"2147483656":134217760,"2147483657":2080,"2147483658":131104,"2147483659":134350848,"2147483660":0,"2147483661":134348832,"2147483662":134219776,"2147483663":131072,"16":133152,"17":134350848,"18":32,"19":2048,"20":134219776,"21":134217760,"22":134348832,"23":131072,"24":0,"25":131104,"26":134348800,"27":134219808,"28":134350880,"29":133120,"30":2080,"31":134217728,"2147483664":131072,"2147483665":2048,"2147483666":134348832,"2147483667":133152,"2147483668":32,"2147483669":134348800,"2147483670":134217728,"2147483671":134219808,"2147483672":134350880,"2147483673":134217760,"2147483674":134219776,"2147483675":0,"2147483676":133120,"2147483677":2080,"2147483678":131104,"2147483679":134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=r.DES=n.extend({"_doReset":function(){for(var e=this._key.words,t=[],i=0;56>i;i++){var s=a[i]-1;t[i]=e[s>>>5]>>>31-s%32&1}for(e=this._subKeys=[],s=0;16>s;s++){for(var n=e[s]=[],o=c[s],i=0;24>i;i++)n[i/6|0]|=t[(l[i]-1+o)%28]<<31-i%6,n[4+(i/6|0)]|=t[28+(l[i+24]-1+o)%28]<<31-i%6;for(n[0]=n[0]<<1|n[0]>>>31,i=1;7>i;i++)n[i]>>>=4*(i-1)+3;n[7]=n[7]<<5|n[7]>>>27}for(t=this._invSubKeys=[],i=0;16>i;i++)t[i]=e[15-i]},"encryptBlock":function(e,t){this._doCryptBlock(e,t,this._subKeys)},"decryptBlock":function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},"_doCryptBlock":function(i,s,n){this._lBlock=i[s],this._rBlock=i[s+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var o=0;16>o;o++){for(var r=n[o],a=this._lBlock,l=this._rBlock,c=0,h=0;8>h;h++)c|=u[h][((l^r[h])&d[h])>>>0];this._lBlock=l,this._rBlock=a^c}n=this._lBlock,this._lBlock=this._rBlock,this._rBlock=n,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),i[s]=this._lBlock,i[s+1]=this._rBlock},"keySize":2,"ivSize":2,"blockSize":2});s.DES=n._createHelper(h),r=r.TripleDES=n.extend({"_doReset":function(){var e=this._key.words;this._des1=h.createEncryptor(o.create(e.slice(0,2))),this._des2=h.createEncryptor(o.create(e.slice(2,4))),this._des3=h.createEncryptor(o.create(e.slice(4,6)))},"encryptBlock":function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},"decryptBlock":function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},"keySize":6,"ivSize":2,"blockSize":2}),s.TripleDES=n._createHelper(r)}(),t}),csui.define("csui/models/expandable",["module","csui/lib/underscore","csui/utils/log"],function(e,t,i){"use strict";function s(e){var i={"makeExpandable":function(e){var t=e&&e.expand;return"string"==typeof t&&(t=t.split(",")),this.expand=t||[],this},"setExpand":function(e){t.isArray(e)||(e=e.split(",")),t.each(e,function(e){t.contains(this.expand,e)||this.expand.push(e)},this)},"resetExpand":function(e){e?(t.isArray(e)||(e=e.split(",")),t.each(e,function(e){var i=t.indexOf(this.expand,e);i>=0&&this.expand.splice(i,1)},this)):this.expand=[]},"getExpandableResourcesUrlQuery":function(){return{"expand":this.expand}}};return i.Expandable=t.clone(i),i}return i=i(e.id),s}),csui.define("css!csui/widgets/navigation.header/impl/navigation.header.controls",[],function(){}),csui.define("csui/widgets/navigation.header/navigation.header.controls",["module","csui/lib/underscore","csui/lib/backbone","css!csui/widgets/navigation.header/impl/navigation.header.controls"],function(e,t,i){"use strict";function s(e){return!t.contains(l.blacklist,e.id)&&(!l.whitelist.length||t.contains(l.whitelist,e.id))}var n=e.config(),o=new i.Model(t.extend({"location":"center"},n.logo)),r=new i.Collection([{"id":"csui/widgets/navigation.header/controls/help/help.view","sequence":100,"parentClassName":"csui-help"},{"id":"csui/widgets/navigation.header/controls/home/home.view","sequence":200,"parentClassName":"csui-home-item"},{"id":"csui/widgets/navigation.header/controls/breadcrumbs/breadcrumbs.view","sequence":300,"parentClassName":"tile-breadcrumb"}],{"comparator":"sequence"}),a=new i.Collection([{"id":"csui/widgets/navigation.header/controls/progressbar.maximize/progressbar.maximize.view","sequence":100,"parentClassName":"csui-progressbar-maximize"},{"id":"csui/widgets/navigation.header/controls/search/search.view","sequence":100,"parentClassName":"csui-search"},{"id":"csui/widgets/navigation.header/controls/favorites/favorites.view","sequence":200,"parentClassName":"csui-favorites"},{"id":"csui/widgets/navigation.header/controls/user.profile/user.profile.view","sequence":300,"parentClassName":"csui-profile"}],{"comparator":"sequence"}),l=t.reduce(t.values(n.masks||{}),function(e,t){return{"blacklist":e.blacklist.concat(t.blacklist||[]),"whitelist":e.whitelist.concat(t.whitelist||[])}},{"blacklist":[],"whitelist":[]});return l={"blacklist":t.unique(l.blacklist),"whitelist":t.unique(l.whitelist)},r.remove(r.reject(s)),a.remove(a.reject(s)),{"logo":o,"leftSide":r,"rightSide":a}}),csui.define("hbs!csui/pages/start/impl/navigationheader/impl/navigationheader",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<div class="csui-global-message"></div>\r\n<nav class="csui-navbar binf-navbar binf-navbar-default zero-gutter" aria-label="'+this.escapeExpression((n=null!=(n=t.mainNavigationAria||(null!=e?e.mainNavigationAria:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"mainNavigationAria","hash":{}}):n))+'">\r\n  <div class="binf-container-fluid" role="menubar">\r\n    <span class="binf-navbar-brand binf-collapse binf-navbar-collapse">\r\n      <span class="csui-logo binf-hidden-xs">\r\n        <span class="csui-logo-image"></span>\r\n      </span>\r\n    </span>\r\n    <div class="binf-nav binf-navbar-nav binf-navbar-left"></div>\r\n    <div class="binf-nav binf-navbar-nav binf-navbar-right" ></div>\r\n    <div class="binf-nav binf-navbar-nav csui-navbar-message"></div>\r\n  </div>\r\n</nav>\r\n'}});return i.registerPartial("csui_pages_start_impl_navigationheader_impl_navigationheader",s),s}),csui.define("css!csui/pages/start/impl/navigationheader/impl/navigationheader",[],function(){}),csui.define("csui/pages/start/impl/navigationheader/navigationheader.view",["require","module","csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/controls/globalmessage/globalmessage","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","csui/widgets/navigation.header/navigation.header.controls","hbs!csui/pages/start/impl/navigationheader/impl/navigationheader","i18n!csui/pages/start/impl/nls/lang","css!csui/pages/start/impl/navigationheader/impl/navigationheader","csui/lib/jquery.when.all"],function(e,t,i,s,n,o,r,a,l,c,u){"use strict";var d=t.config();i.defaults(d,{"enableMinimiseButtonOnProgressPanel":!0});var h=o.LayoutView.extend({"template":c,"regions":{"messageRegion":".csui-navbar-message"},"ui":{"branding":".binf-navbar-brand","logo":".csui-logo","left":".binf-navbar-left","right":".binf-navbar-right"},"templateHelpers":function(){return{"mainNavigationAria":u.mainNavigationAria}},"constructor":function(e){o.LayoutView.call(this,e),this.propagateEventsToRegions()},"onRender":function(){function e(e,o){var r=o.get("view");if(r){var a=s("<div>").addClass(o.get("parentClassName")).appendTo(e).attr("role","menuitem"),l=n.addRegion(i.uniqueId("csui:navigation.header.control"),{"selector":a}),c=new r({"context":t,"parentView":n});l.show(c)}}var t=this.options.context,n=this;r.setMessageRegionView(this,{"classes":"csui-global-message","enableMinimiseButtonOnProgressPanel":d.enableMinimiseButtonOnProgressPanel});var o=l.logo.get("location");"none"===o?this.ui.logo.addClass("binf-hidden"):this.ui.branding.addClass("csui-logo-"+o),this._resolveComponents().done(function(){n.trigger("before:render:controls",n),l.leftSide.each(e.bind(n,n.ui.left)),l.rightSide.each(e.bind(n,n.ui.right)),n.trigger("render:controls",n)})},"_resolveComponents":function(){function t(t){var i=s.Deferred();return e([t],i.resolve,i.reject),i.promise()}if(this._controlsResolved)return this._controlsResolved;var i=l.leftSide.models.concat(l.rightSide.models),n=i.map(function(e){return t(e.id)}),o=s.Deferred();return s.whenAll.apply(s,n).always(function(e){e.forEach(function(e,t){i[t].set("view",e)}),o.resolve()}),this._controlsResolved=o.promise(),this._controlsResolved}});return i.extend(h.prototype,a),h}),csui.define("css!csui/pages/start/impl/start.page",[],function(){}),csui.define("csui/pages/start/start.page.view",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/utils/routing","csui/utils/contexts/perspective/perspective.context","csui/utils/contexts/factories/connector","csui/pages/start/perspective.routing","csui/utils/base","csui/pages/start/impl/navigationheader/navigationheader.view","csui/controls/perspective.panel/perspective.panel.view","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","csui/behaviors/keyboard.navigation/tabables.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/utils/non-emptying.region/non-emptying.region","csui/utils/non-attaching.region/non-attaching.region","csui/utils/page.leaving.blocker","csui/controls/iconpreload/icon.preload.view","css!csui/pages/start/impl/start.page"],function(e,t,i,s,n,o,r,a,l,c,u,d,h,p,m,g,f,v){var b=t.extend({"signInPageUrl":"signin.html","redirectToSignInPage":!n.routesWithSlashes()},e.config()),w=s.ItemView.extend({"template":!1,"behaviors":{"TabablesBehavior":{"behaviorClass":h}},"constructor":function(e){e||(e={}),e.el=document.body,s.View.prototype.constructor.call(this,e);var t=new o,n=t.getObject(r);if(!(n.connection.credentials||n.authenticator.isAuthenticated()||n.authenticator.syncStorage().isAuthenticated()||n.authenticator.interactive))return void this._navigateToSignIn();n.authenticator.on("loggedOut",function(e){"failed"===e.reason&&this._navigateToSignIn(),t.viewStateModel&&t.viewStateModel.clean()},this),this.navigationHeader=new c({"context":t,"signInPageUrl":this.options.signInPageUrl}),this.context=t,this.perspectivePanel=new u({"context":t}),this.propagateEventsToViews(this.navigationHeader,this.perspectivePanel),a.getInstance({"context":t}).start(),this.$el.addClass("binf-widgets"),l.isAppleMobile()&&this.$el.addClass("csui-on-ipad"),i(window).on("unload",function(){})},"onRender":function(){if(this._redirecting)return this;v.ensureOnThePage(),this._appendView(this.navigationHeader),i(this.$el.children()[0]).attr("role","banner"),this._appendView(this.perspectivePanel),i(this.$el.children()[2]).attr("role","main"),setTimeout(t.bind(function(){new g({"el":this.el}).show(this,{"render":!1})},this)),this.$el.on("globalmessage.shown",function(e,t){new p(t.options,t)})},"onBeforeDestroy":function(){this.navigationHeader&&this.navigationHeader.destroy(),this.perspectivePanel&&this.perspectivePanel.destroy()},"_appendView":function(e){new m({"el":this.el}).show(e)},"_navigateToSignIn":function(){if(b.redirectToSignInPage){var e=this.options.signInPageUrl||b.signInPageUrl,t=location.search;t+=t?"&":"?",t+="nextUrl="+encodeURIComponent(location.pathname),location.href=e+t+location.hash}else f.forceDisable(),location.reload();this._redirecting=!0}});return t.extend(w.prototype,d),w}),csui.define("csui/widgets/navigation.header/controls/help/impl/nls/localized.strings",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/navigation.header/controls/help/impl/nls/root/localized.strings",{"HelpIconTitle":"Help","HelpIconAria":"Help pages"}),csui.define("hbs!csui/widgets/navigation.header/controls/help/impl/help",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<div class="icon-help" title="'+this.escapeExpression((n=null!=(n=t.title||(null!=e?e.title:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"title","hash":{}}):n))+'"></div>'}});return i.registerPartial("csui_widgets_navigation.header_controls_help_impl_help",s),s}),
csui.define("csui/widgets/navigation.header/controls/help/help.view",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","i18n!csui/widgets/navigation.header/controls/help/impl/nls/localized.strings","i18n","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/models/server.module/server.module.collection","csui/lib/othelp","hbs!csui/widgets/navigation.header/controls/help/impl/help"],function(e,t,i,s,n,o,r,a,l,c){"use strict";var u=window.csui.requirejs.s.contexts._.config.config["csui/pages/start/impl/navigationheader/navigationheader.view"]||{};return t.extend(u,e.config()),u.help||(u.help={}),t.defaults(u.help,{"language":o.settings.locale.replace(/[-_]\w+$/,""),"preserve":!0}),""===u.help.urlRoot&&(u.help.urlRoot=void 0),""===u.help.tenant&&(u.help.tenant=void 0),""===u.help.type&&(u.help.type=void 0),s.ItemView.extend({"tagName":"a","attributes":{"href":"#","title":n.HelpIconTitle,"aria-label":n.HelpIconAria},"template":c,"templateHelpers":function(){return{"title":n.HelpIconTitle}},"behaviors":{"TabableRegion":{"behaviorClass":r,"initialActivationWeight":50}},"currentlyFocusedElement":function(){return this.$el},"constructor":function(e){s.ItemView.call(this,e),this.listenTo(this,"click:help",this._onClick)},"onRender":function(){var e=this;this.$el.on("click",function(){e.triggerMethod("click:help")}),this.$el.on("keydown",function(t){32===t.keyCode&&(t.preventDefault(),e.triggerMethod("click:help"))})},"_onClick":function(){var e=new a;e.fetch().then(function(){var i,s,n,o,r;i=e.filter(function(e){return!!e.get("helpDocId")}),s=new l({"urlRoot":u.help.urlRoot}),n={"preserve":u.help.preserve,"documents":[]},t.each(i,function(e,t){var i=e.get("helpDocId");n.documents.push({"module":i,"active":0===t,"topic":0===i.indexOf("cssui")?"sui-overview-bg":void 0})}),o=s.buildHelpUrl(u.help.language,n,{"tenant":u.help.tenant,"type":u.help.type,"options":{"search":"allModules"}}),r=window.open(o,"_blank"),r.focus()},function(e){console.error(e)})}})}),csui.define("csui/widgets/navigation.header/controls/home/impl/nls/localized.strings",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/navigation.header/controls/home/impl/nls/root/localized.strings",{"HomeIconTitle":"Home","HomeIconAria":"Home page"}),csui.define("hbs!csui/widgets/navigation.header/controls/home/impl/home",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<div class="csui-icon-home" title="'+this.escapeExpression((n=null!=(n=t.title||(null!=e?e.title:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"title","hash":{}}):n))+'"></div>'}});return i.registerPartial("csui_widgets_navigation.header_controls_home_impl_home",s),s}),csui.define("csui/widgets/navigation.header/controls/home/home.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","i18n!csui/widgets/navigation.header/controls/home/impl/nls/localized.strings","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/utils/contexts/factories/application.scope.factory","hbs!csui/widgets/navigation.header/controls/home/impl/home"],function(e,t,i,s,n,o,r){"use strict";return i.ItemView.extend({"tagName":"a","className":"csui-home binf-hidden","attributes":{"href":"#","title":s.HomeIconTitle,"aria-label":s.HomeIconAria},"ui":{"homeButton":".csui-icon-home"},"events":{"click .csui-icon-home":"onClickHomeIcon"},"template":r,"templateHelpers":function(){return{"title":s.HomeIconTitle}},"behaviors":{"TabableRegion":{"behaviorClass":n}},"currentlyFocusedElement":function(){return this.$el},"constructor":function(e){i.ItemView.call(this,e),this.listenTo(e.context,"sync error",this._toggleVisibility),this.applicationScope=e.context.getModel(o),this.listenTo(this,"click:home",this._onClick)},"onRender":function(){var e=this;this.$el.on("click",function(){e.triggerMethod("click:home")}),this.$el.on("keydown",function(t){32===t.keyCode&&(t.preventDefault(),e.triggerMethod("click:home"))})},"onClickHomeIcon":function(e){e.preventDefault()},"_toggleVisibility":function(){this._isRendered&&(this.applicationScope.id?this.$el.removeClass("binf-hidden"):this.$el.addClass("binf-hidden"))},"_onClick":function(){this.applicationScope.set("id","")}})}),csui.define("csui/widgets/navigation.header/controls/breadcrumbs/impl/nls/localized.strings",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/navigation.header/controls/breadcrumbs/impl/nls/root/localized.strings",{"ShowBreadcrumbs":"Show Breadcrumbs","HideBreadcrumbs":"Hide Breadcrumbs"}),csui.define("hbs!csui/widgets/navigation.header/controls/breadcrumbs/impl/breadcrumbs",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<button type="button" class="binf-btn csui-breadcrumb-handle-caret caret-show-breadcrumb"\r\n        aria-label="'+this.escapeExpression((n=null!=(n=t.showBreadcrumbsAria||(null!=e?e.showBreadcrumbsAria:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"showBreadcrumbsAria","hash":{}}):n))+'">\r\n  <span class="csui-button-icon icon-expandArrowDown"></span>\r\n</button>\r\n<button type="button" class="binf-btn csui-breadcrumb-handle-caret caret-hide-breadcrumb"\r\n        aria-label="'+this.escapeExpression((n=null!=(n=t.hideBreadcrumbsAria||(null!=e?e.hideBreadcrumbsAria:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"hideBreadcrumbsAria","hash":{}}):n))+'">\r\n  <span class="csui-button-icon icon-expandArrowUp"></span>\r\n</button>\r\n<button type="button" class="binf-btn binf-btn-default csui-breadcrumb-handle-btn\r\nbtn-show-breadcrumb" aria-label="'+this.escapeExpression((n=null!=(n=t.showBreadcrumbsAria||(null!=e?e.showBreadcrumbsAria:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"showBreadcrumbsAria","hash":{}}):n))+'" aria-pressed="false">\r\n  <span class="csui-button-icon icon-expandArrowDown"></span> '+this.escapeExpression((n=null!=(n=t.showBreadcrumbs||(null!=e?e.showBreadcrumbs:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"showBreadcrumbs","hash":{}}):n))+'\r\n</button>\r\n<button type="button" class="binf-btn binf-btn-default csui-breadcrumb-handle-btn\r\nbtn-hide-breadcrumb" aria-label="'+this.escapeExpression((n=null!=(n=t.hideBreadcrumbsAria||(null!=e?e.hideBreadcrumbsAria:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"hideBreadcrumbsAria","hash":{}}):n))+'" aria-pressed="true">\r\n  <span class="csui-button-icon icon-expandArrowUp"></span> '+this.escapeExpression((n=null!=(n=t.hideBreadcrumbs||(null!=e?e.hideBreadcrumbs:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"hideBreadcrumbs","hash":{}}):n))+"\r\n</button>\r\n"}});return i.registerPartial("csui_widgets_navigation.header_controls_breadcrumbs_impl_breadcrumbs",s),s}),csui.define("css!csui/widgets/navigation.header/controls/breadcrumbs/impl/breadcrumbs",[],function(){}),csui.define("csui/widgets/navigation.header/controls/breadcrumbs/breadcrumbs.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","i18n!csui/widgets/navigation.header/controls/breadcrumbs/impl/nls/localized.strings","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/utils/contexts/factories/ancestors","csui/utils/contexts/factories/application.scope.factory","hbs!csui/widgets/navigation.header/controls/breadcrumbs/impl/breadcrumbs","css!csui/widgets/navigation.header/controls/breadcrumbs/impl/breadcrumbs"],function(e,t,i,s,n,o,r,a){"use strict";return i.ItemView.extend({"tagName":"div","className":"breadcrumbs-handle","ui":{"caretShowBreadcrumbs":".caret-show-breadcrumb","btnShowBreadcrumbs":".btn-show-breadcrumb","caretHideBreadcrumbs":".caret-hide-breadcrumb","btnHideBreadcrumbs":".btn-hide-breadcrumb"},"serializeData":function(){return{"showBreadcrumbs":s.ShowBreadcrumbs,"showBreadcrumbsAria":s.ShowBreadcrumbs,"hideBreadcrumbs":s.HideBreadcrumbs,"hideBreadcrumbsAria":s.HideBreadcrumbs}},"template":a,"events":{"keydown":"onKeyInView","click @ui.caretShowBreadcrumbs":"_showBreadcrumbs","click @ui.btnShowBreadcrumbs":"_showBreadcrumbs","click @ui.caretHideBreadcrumbs":"_hideBreadcrumbs","click @ui.btnHideBreadcrumbs":"_hideBreadcrumbs"},"behaviors":{"TabableRegion":{"behaviorClass":n}},"currentlyFocusedElement":function(){if(this._breadcrumbsVisible)return this.$el},"onRender":function(){matchMedia&&(this._mq=window.matchMedia("(max-width: 1024px)"),this._mq.addListener(e.bind(this._windowsWidthChange,this)),this._windowsWidthChange(this._mq))},"constructor":function(e){i.ItemView.call(this,e),this.applicationScope=e.context.getModel(r),this.listenTo(this.applicationScope,"change:breadcrumbsVisible",this._breadcrumbVisibilityChanged),this.listenTo(this.applicationScope,"change:breadcrumbsAvailable",this._breadcrumbAvailabilityChanged),this._breadcrumbVisibilityChanged(),this._breadcrumbAvailabilityChanged()},"_breadcrumbVisibilityChanged":function(){this._breadcrumbsVisible=this.applicationScope.get("breadcrumbsVisible"),this._breadcrumbsVisible?(this.$el.removeClass("csui-breadcrumbs-hidden"),this.triggerMethod("refresh:tabindexes")):this.$el.addClass("csui-breadcrumbs-hidden")},"_breadcrumbAvailabilityChanged":function(){this._breadcrumbsAvailable=this.applicationScope.get("breadcrumbsAvailable"),this._breadcrumbsAvailable?(this.$el.removeClass("csui-breadcrumbs-not-available"),this.triggerMethod("refresh:tabindexes")):this.$el.addClass("csui-breadcrumbs-not-available")},"_showBreadcrumbs":function(){this.applicationScope.set("breadcrumbsVisible",!0)},"_hideBreadcrumbs":function(){this.applicationScope.set("breadcrumbsVisible",!1)},"_windowsWidthChange":function(e){e.matches?(this._previousBreadcrumbState=this.applicationScope.get("breadcrumbsVisible"),this.applicationScope.set("breadcrumbsVisible",!0)):this.applicationScope.set("breadcrumbsVisible",this._previousBreadcrumbState)},"onKeyInView":function(e){switch(e.keyCode){case 9:this.ignoreFocusBlur=!1;break;case 13:case 32:this.ignoreFocusBlur=!1,this.applicationScope.set("breadcrumbsVisible",!this._breadcrumbsVisible)}}})}),csui.define("csui/widgets/search.box/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/search.box/impl/nls/root/lang",{"placeholder":"Search","clearerTitle":"Clear keywords","searchBoxTitle":"Enter your search term","searchOptionsTitle":"Show search options","searchOptionsHideTitle":"Hide search options","searchFromHere":"Search from here","searchIconTitle":"Search","searchIconAria":"Search in Content Server","searchOptionTooltip":"Select: {0}","startSearch":"Start search","searchLandmarkAria":"Global content search"}),csui.define("hbs!csui/widgets/search.box/impl/search.box",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"1":function(e,t,i,s){var n;return'      <button type="button" class="icon-expandArrowDown csui-search-box-slice-popover"\r\n              data-binf-toggle="popover" data-placement="bottom"\r\n              title="'+this.escapeExpression(this.lambda(null!=(n=null!=e?e.messages:e)?n.searchOptionsTitle:n,e))+'" aria-label="'+this.escapeExpression(this.lambda(null!=(n=null!=e?e.messages:e)?n.searchOptionsTitle:n,e))+'"\r\n              aria-haspopup="true" aria-expanded="false"></button>\r\n'},"3":function(e,t,i,s){return'        <div class="csui-search-options-dropdown binf-hidden"></div>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<div class="search-bar" role="dialog">\r\n  <div class="search-bar-content">\r\n'+(null!=(n=t.if.call(e,null!=(n=null!=e?e.messages:e)?n.showOptionsDropDown:n,{"name":"if","hash":{},"fn":this.program(1,s,0),"inverse":this.noop}))?n:"")+'    <div class="csui-search-input-container">\r\n      <input type="search" class="csui-input" placeholder="'+this.escapeExpression(this.lambda(null!=(n=null!=e?e.messages:e)?n.placeholder:n,e))+'"\r\n             title="'+this.escapeExpression(this.lambda(null!=(n=null!=e?e.messages:e)?n.searchBoxTitle:n,e))+'" aria-label="'+this.escapeExpression(this.lambda(null!=(n=null!=e?e.messages:e)?n.searchBoxTitle:n,e))+'">\r\n'+(null!=(n=t.if.call(e,null!=(n=null!=e?e.messages:e)?n.showOptionsDropDown:n,{"name":"if","hash":{},"fn":this.program(3,s,0),"inverse":this.noop}))?n:"")+'    </div>\r\n    <span class="csui-clearer formfield_clear" title="'+this.escapeExpression(this.lambda(null!=(n=null!=e?e.messages:e)?n.clearerTitle:n,e))+'"\r\n          aria-label="'+this.escapeExpression(this.lambda(null!=(n=null!=e?e.messages:e)?n.clearerTitle:n,e))+'" role="button"></span>\r\n  </div>\r\n</div>\r\n<div role="search" aria-label="'+this.escapeExpression(this.lambda(null!=(n=null!=e?e.messages:e)?n.searchLandmarkAria:n,e))+'" class="search-icon">\r\n  <a href="javascript:void(0);"\r\n     class="icon icon-global-search icon-header-search csui-header-search-icon csui-acc-focusable"\r\n     title="'+this.escapeExpression(this.lambda(null!=(n=null!=e?e.messages:e)?n.searchIconTitle:n,e))+'" aria-label="'+this.escapeExpression(this.lambda(null!=(n=null!=e?e.messages:e)?n.searchIconAria:n,e))+'"\r\n     aria-expanded="false"></a>\r\n</div>'}});return i.registerPartial("csui_widgets_search.box_impl_search.box",s),s}),csui.define("hbs!csui/widgets/search.box/impl/search.slices.popover",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"1":function(e,t,i,s){return'    <div class="csui-search-popover-row" data-sliceid="'+this.escapeExpression(this.lambda(null!=e?e.sliceId:e,e))+'"\r\n         title="'+this.escapeExpression(this.lambda(null!=e?e.sliceTooltip:e,e))+'" role="radio" aria-checked="false" tabindex="-1">\r\n      <div class="csui-search-popover-row-body" data-sliceid="'+this.escapeExpression(this.lambda(null!=e?e.sliceId:e,e))+'">\r\n        <div class="csui-search-popover-checked" data-sliceid="'+this.escapeExpression(this.lambda(null!=e?e.sliceId:e,e))+'" id="'+this.escapeExpression(this.lambda(null!=e?e.sliceId:e,e))+'"></div>\r\n        <div class="csui-search-popover-label" data-sliceid="'+this.escapeExpression(this.lambda(null!=e?e.sliceId:e,e))+'">'+this.escapeExpression(this.lambda(null!=e?e.sliceDisplayName:e,e))+"</div>\r\n      </div>\r\n    </div>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<div class="csui-search-slice-container" role="radiogroup">\r\n  <div class="csui-search-slice-container-first" role="presentation"></div>\r\n'+(null!=(n=t.each.call(e,null!=e?e.slices:e,{"name":"each","hash":{},"fn":this.program(1,s,0),"inverse":this.noop}))?n:"")+'  <div class="csui-search-slice-container-last" role="presentation"></div>\r\n</div>\r\n'}});return i.registerPartial("csui_widgets_search.box_impl_search.slices.popover",s),s}),csui.define("hbs!csui/widgets/search.box/impl/search.slice.dropdown",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"1":function(e,t,i,s){return" icon-checkbox-selected "},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n,o;return'<div class="csui-selected-checkbox csui-slice-checkbox csui-checkbox-primary">\r\n  <input type="checkbox" '+this.escapeExpression((o=null!=(o=t.checked||(null!=e?e.checked:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"checked","hash":{}}):o))+' class="csui-searchbox-option" name="'+this.escapeExpression(this.lambda(null!=e?e.nodeId:e,e))+'" id="'+this.escapeExpression(this.lambda(null!=e?e.nodeIdSO:e,e))+'"\r\n         value="'+this.escapeExpression(this.lambda(null!=e?e.nodeId:e,e))+'">\r\n  <label class="csui-search-slice-name csui-selectlabel" for="'+this.escapeExpression(this.lambda(null!=e?e.nodeIdSO:e,e))+'"\r\n         title="'+this.escapeExpression(this.lambda(null!=e?e.fromHere:e,e))+" "+this.escapeExpression(this.lambda(null!=e?e.nodeName:e,e))+'">\r\n          <span role="checkbox" aria-checked="true" class="csui-control">\r\n            <span class="csui-icon icon-checkbox'+(null!=(n=t.if.call(e,null!=e?e.checked:e,{"name":"if","hash":{},"fn":this.program(1,s,0),"inverse":this.noop}))?n:"")+'"></span>\r\n          </span>\r\n          <span class="cs-ellipsis">'+this.escapeExpression(this.lambda(null!=e?e.fromHere:e,e))+" "+this.escapeExpression(this.lambda(null!=e?e.nodeName:e,e))+"</span>\r\n  </label>\r\n</div>\r\n"}});return i.registerPartial("csui_widgets_search.box_impl_search.slice.dropdown",s),s}),csui.define("css!csui/widgets/search.box/impl/search.box",[],function(){}),csui.define("csui/widgets/search.box/search.box.view",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/models/node/node.model","csui/utils/contexts/factories/search.box.factory","csui/utils/contexts/factories/search.query.factory","csui/utils/contexts/factories/application.scope.factory","csui/behaviors/keyboard.navigation/tabable.region.behavior","i18n!csui/widgets/search.box/impl/nls/lang","csui/utils/namedsessionstorage","hbs!csui/widgets/search.box/impl/search.box","hbs!csui/widgets/search.box/impl/search.slices.popover","hbs!csui/widgets/search.box/impl/search.slice.dropdown","i18n","csui/utils/base","css!csui/widgets/search.box/impl/search.box","csui/lib/jquery.ui/js/jquery-ui","csui/lib/binf/js/binf"],function(e,t,i,s,n,o,r,a,l,c,u,d,h,p,m,g){"use strict";var f=t.defaults({},e.config(),{"showOptionsDropDown":!0,"showSearchInput":!1,"showInput":!1,"inputValue":"","slice":"","nodeId":"","nodeName":"","searchFromHere":!0,"customSearchIconClass":"icon-header-search","customSearchIconNoHoverClass":"icon-header-search-nohover","customSearchIconEnabledClass":"icon-header-search_enabled"});return s.ItemView.extend({"className":"csui-search-box","template":d,"templateHelpers":function(){return{"messages":{"showOptionsDropDown":this.options.data.showOptionsDropDown,"placeholder":this.options.data.placeholder||c.placeholder,"clearerTitle":c.clearerTitle,"searchIconTitle":c.searchIconTitle,"searchIconAria":c.searchIconAria,"searchBoxTitle":c.searchBoxTitle,"searchOptionsTitle":c.searchOptionsTitle,"startSearch":c.startSearch,"searchLandmarkAria":c.searchLandmarkAria}}},"slicePopOverTemplate":h,"sliceDropDownTemplate":p,"namedSessionStorage":new u,"ui":{"input":".csui-input","clearer":".csui-clearer","searchIcon":".csui-header-search-icon","downCaret":".csui-search-box-slice-popover","dropDown":".csui-search-options-dropdown"},"events":{"click @ui.searchIcon":"searchIconClicked","keydown .csui-header-search-icon":"searchIconKeyPressed","click @ui.input":"hidePopover","keydown @ui.input":"inputTyped","keyup @ui.input":"inputChanged","paste @ui.input":"inputChanged","change @ui.input":"inputChanged","click @ui.clearer":"clearerClicked","keydown @ui.clearer":"keyDownOnClear","click .csui-search-popover-row":"setSlices","click .csui-searchbox-option":"selectSearchOption","click .csui-search-box-slice-popover":"prepareSlicepopover","focusout .csui-search-box-slice-popover":"focusOutSlicePopover","keydown .csui-search-box-slice-popover":"accessibility","keydown .csui-search-popover-row":"accessibility","focusout @ui.input":"hideSearchOptionsDropDown","focusout .csui-search-popover-row":"focusOutSlicePopoverRow","mouseup .csui-search-popover-row":"togglePopover","touchend .csui-search-popover-row":"togglePopover","focusout .csui-searchbox-option":"hideSearchOptionsDropDown","mouseleave @ui.dropDown":"hideSearchOptionsDropDown"},"currentlyFocusedElement":"a.csui-acc-focusable","behaviors":{"TabableRegion":{"behaviorClass":l}},"constructor":function(e){e||(e={}),e.data=t.defaults({},e.data,f),this.direction=m.settings.rtl?"left":"right";var n=e.context;e.model||(e.model=n.getModel(r)),this.applicationScope=n.getModel(a),s.ItemView.prototype.constructor.apply(this,arguments),this.listenTo(this.model,"change:where",this._updateInput),this.options.data.showOptionsDropDown&&(this.searchBoxFactory=n.getFactory(o),this.searchboxModel=this.searchBoxFactory.property,this.listenTo(n,"sync:perspective",this._perspectiveSynced),this.listenTo(n,"sync error",this._dataSynced),this.listenTo(n,"change:current:node",this._currentNodeChanged),this.listenTo(this.searchboxModel,"change",this.prepareSlicepopover),this.listenTo(this.searchboxModel,"change",this.prepareOptionsdropdown),this.listenTo(this.searchboxModel,"change",this.searchIconToggle)),(this.model.get("where")||this.options.data.showSearchInput)&&i(document).on("click."+this.cid+" keydown."+this.cid,this,this._hideSearchBar),i(document).on("keydown."+this.cid,this,this._shortcutToQuery)},"_shortcutToQuery":function(e){if(e.ctrlKey&&114==e.keyCode){var t=e.data;t.isSearchInputVisible()?t.ui.input.trigger("focus"):t.searchIconClicked()}},"onBeforeDestroy":function(){i(document).off("click."+this.cid).off("keydown."+this.cid)},"isSearchbarVisible":function(){return this.$(".search-bar").is(":visible")},"isSearchInputVisible":function(){return this.$(".csui-input").is(":visible")},"focusOutSlicePopover":function(e){0===this.$(".binf-popover").find(e.relatedTarget).length&&this.$el.find(".csui-search-box-slice-popover").binf_popover("hide"),this.toggleIcon(e)},"focusOutSlicePopoverRow":function(e){0===this.$(".binf-popover").find(e.relatedTarget).length&&e.relatedTarget&&!e.relatedTarget.classList.contains("csui-search-box-slice-popover")&&this.$el.find(".csui-search-box-slice-popover").binf_popover("hide")},"_perspectiveSynced":function(e,t){this._currentNodeChanged(t)},"_currentNodeChanged":function(e){e instanceof n&&e.get("container")?(this.searchboxModel.nodeId=e.get("id"),this.searchboxModel.nodeName=e.get("name"),this.namedSessionStorage.set(this.searchboxModel.nodeId,this.searchboxModel.nodeName),this.searchboxModel.trigger("change")):(this.searchboxModel.nodeId=void 0,this.searchboxModel.nodeName=void 0,this.searchboxModel.trigger("change"))},"_dataSynced":function(e,t){this.searchboxModel.fetched||this.searchBoxFactory.fetch()},"onRender":function(e){this.options.data.showSearchInput&&(this.$el.find(".search-bar").show(),this.searchIconToggle());var t=this.options.data.inputValue||this.model.get("where");this.slice=this.options.data.slice||this.model.get("slice"),t&&(this._setInputValue(t),this.$el.find(".search-bar").show()),(this.options.data.showInput||t)&&(this.triggerMethod("before:show:input",this),this.ui.input.show(),this.triggerMethod("show:input",this)),e&&e.data&&this.$el.find(".csui-search-box .csui-header-search-icon").removeClass(e.data.options.data.customSearchIconEnabledClass).addClass(e.data.options.data.customSearchIconClass)},"prepareSlicepopover":function(e){if(this.options.data.showOptionsDropDown){if(this.searchboxModel.attributes.slices){for(var s in this.searchboxModel.attributes.slices)if(this.searchboxModel.attributes.slices.hasOwnProperty(s)){var n=this.searchboxModel.attributes.slices[s].sliceDisplayName;this.searchboxModel.attributes.slices[s].sliceTooltip=t.str.sformat(c.searchOptionTooltip,n)}this.$el.find(".csui-search-box-slice-popover").binf_popover({"content":this.slicePopOverTemplate(this.searchboxModel.attributes),"html":!0});var o=this.$el.find(".csui-search-box-slice-popover").attr("data-original-title");o||(o=c.searchOptionsTitle),this.$el.find(".csui-search-box-slice-popover").attr("title",o),!this.slice&&this.options.model&&this.options.model.get("slice")&&(this.slice=this.options.model.get("slice"),this.options.sliceString=this.slice),this.slice&&this._setSliceValue(this.slice)}i(".search-bar").is(":visible")&&i(".binf-navbar-brand").removeClass("binf-navbar-collapse")}this.toggleIcon(e)},"toggleIcon":function(e,t){e&&"click"===e.type&&this.ui.downCaret.hasClass("dropup")||e&&"focusout"===e.type&&0===this.$(".binf-popover").find(e.relatedTarget).length||t?(this.ui.downCaret.removeClass("dropup"),this.ui.downCaret.attr("aria-expanded","false"),this.ui.downCaret.attr("title",c.searchOptionsTitle)):i(".search-bar-content .binf-popover").is(":visible")&&(this.ui.downCaret.addClass("dropup"),this.ui.downCaret.attr("aria-expanded","true"),this.ui.downCaret.attr("title",c.searchOptionsHideTitle))},"accessibility":function(e){var t=this.$el.find(".csui-search-slice-container"),s=t.children(".csui-search-popover-row"),n=s.index(s.filter(".active"));13===e.keyCode&&i(s[n]).hasClass("active")?(i(s[n]).trigger("click"),this.togglePopover(e)):32===e.keyCode&&this.$el.find(document.activeElement).is(".csui-search-box-slice-popover")?(e.preventDefault(),this.ui.downCaret.trigger("click")):9===e.keyCode||27===e.keyCode?(i(".csui-search-box-slice-popover").binf_popover("hide"),this.ui.downCaret.trigger("focus"),this.toggleIcon(e,!0)):38!==e.keyCode&&40!==e.keyCode||(i(s).removeClass("active"),e.preventDefault(),38===e.keyCode&&(n=-1===n?s.length-1:n-1),40===e.keyCode&&(n=n===s.length-1?-1:n+1),-1===n?this.ui.downCaret.trigger("focus"):i(s[n]).addClass("active").trigger("focus"))},"togglePopover":function(e){var t=this;setTimeout(function(){var s=t.$el.find(document.activeElement).is(".csui-search-popover-row,.csui-search-box-slice-popover"),n=13===e.keyCode||"mouseup"===e.type||"touchend"===e.type;(s||n)&&i(".csui-search-box-slice-popover").binf_popover("hide"),n&&t.ui.downCaret.trigger("focus")},100),this.toggleIcon(e,!0)},"hidePopover":function(e){this.options.data.showOptionsDropDown&&("none"!==i(".csui-search-box-slice-popover").css("display")&&i(".csui-search-box-slice-popover").binf_popover("hide"),this.showOptionsDropdown(e))},"resetPageDefaults":function(e){this.model.resetDefaults=!0},"searchIconKeyPressed":function(e){32===e.keyCode&&(e.preventDefault(),this.searchIconClicked(e))},"searchIconClicked":function(e){if(this.$el.parent().addClass("search-input-open"),this.ui.searchIcon.attr("aria-expanded","true"),i(document).on("click."+this.cid+" keydown."+this.cid,this,this._hideSearchBar),this.resetPageDefaults(e),this.options.data.showOptionsDropDown&&void 0!==this.searchboxModel.nodeId&&(this.$el.find(".csui-searchbox-option")[0].checked=this.options.data.searchFromHere),i(".search-bar").is(":visible")){var t=this.ui.input.val().trim();t&&(this._setInputValue(t),i(e.currentTarget).attr("title",c.startSearch),this.trigger("hide:breadcrumbspanel"));var s="",n=this.$el.find(".csui-searchbox-option:checked");this.options.data.showOptionsDropDown?n&&(s=n.val()):s=this.options.data.nodeId,history.state&&history.state.search&&(this.previousState=history.state.search),t&&(this._setSearchQuery(t,this.options.sliceString,s,e),this._updateInput(),this.options.data.searchFromHere||this.destroyOptionspopover(),this.options.data.searchFromHere=!0),this.previousState&&(this.model.prevSearchState=this.previousState)}else{var o=this;this.$el.addClass("csui-search-expanded"),g.onTransitionEnd(this.$el.parent(),function(){this.isDestroyed||(o.ui.input.trigger("focus"),o.ui.input.prop("tabindex",0),o.ui.downCaret.prop("tabindex",0),o.$el.addClass("csui-searchbox-ready"))},this),this._updateInput(),i(".binf-navbar-brand").removeClass("binf-navbar-collapse"),this.options.data.showOptionsDropDown&&this.prepareSlicepopover(),""===this.model.attributes.where&&(e.currentTarget.title="",i(e.currentTarget).addClass(this.options.data.customSearchIconNoHoverClass))}},"_setSliceValue":function(e){"none"!==i('[id^="popover"]').css("display")&&e&&"{}"!==e&&this.$el.find("#"+e.substring(1,e.length-1)).addClass("icon-listview-checkmark").parents(".csui-search-popover-row").attr("aria-checked","true")},"inputTyped":function(e){var t=this.ui.input.val().trim();13===e.which?(e.preventDefault(),e.stopPropagation(),this._setInputValue(t),t&&this.searchIconClicked(e),this.previousValue!=t&&(this.previousValue=t)):40===e.which&&this.ui.dropDown.is(":visible")?this.$el.find(".csui-searchbox-option").trigger("focus"):this.inputChanged(e)},"inputChanged":function(e){var t=this.ui.input.val();this.ui.clearer.prop("tabindex",""!==t?0:-1),this.searchIconToggle(),this.ui.clearer.toggle(!!t.length),this.options.data.showOptionsDropDown&&this.showOptionsDropdown(e)},"showOptionsDropdown":function(e){if(this.options.data.showOptionsDropDown){var t=e||window.event;this.searchboxModel.nodeId&&27!==t.keyCode&&("search"!==this.applicationScope.get("id")||this.model.get("location_id1"))&&(this.ui.dropDown.removeClass("binf-hidden"),this.$el.find(".csui-searchbox-option")[0].checked=this.options.data.searchFromHere)}},"prepareOptionsdropdown":function(e){if(this.options.data.showOptionsDropDown)if(!this.searchboxModel.nodeId&&this.model.get("location_id1")&&(this.searchboxModel.nodeId=this.model.get("location_id1"),this.namedSessionStorage.get(this.searchboxModel.nodeId)&&(this.searchboxModel.nodeName=this.namedSessionStorage.get(this.searchboxModel.nodeId))),this.searchboxModel.nodeId){this.searchOptions={},this.searchOptions.nodeId=this.searchboxModel.nodeId,this.searchOptions.nodeIdSO=t.uniqueId("csui-so-"+this.searchboxModel.nodeId),!this.searchboxModel.nodeName&&this.options.data.nodeName&&(this.searchboxModel.nodeName=this.options.data.nodeName),this.searchboxModel.nodeName&&(this.searchOptions.nodeName=" ("+this.searchboxModel.nodeName+")"),this.searchOptions.select=c.searchOptionsSelect,this.searchOptions.fromHere=c.searchFromHere,this.searchOptions.checked=this.options.data.searchFromHere?"checked":"";var i=this.sliceDropDownTemplate(this.searchOptions);this.ui.dropDown.html(i),this.hideSearchOptionsDropDown()}else this.destroyOptionspopover()},"destroyOptionspopover":function(e){this.ui.dropDown.html(""),this.ui.dropDown.addClass("binf-hidden")},"selectSearchOption":function(e){this.$el.find(".csui-searchbox-option:checked").length>0?(this.options.data.searchFromHere=!0,this.$el.find(".csui-icon").addClass("icon-checkbox-selected")):(this.options.data.searchFromHere=!1,this.$el.find(".csui-icon").removeClass("icon-checkbox-selected"))},"hideSearchOptionsDropDown":function(){var e=this;setTimeout(function(){if(e.$el.find(".csui-searchbox-option")[0]===document.activeElement)return!1;if(e.options.data.showOptionsDropDown){var t=e;return e.popoverTimer&&clearTimeout(e.popoverTimer),e.popoverTimer=setTimeout(function(){t.showSearchOptionDropDown()},800),!0}},100)},"showSearchOptionDropDown":function(){this.options.data.showOptionsDropDown&&(this.ui.dropDown.is(":hover")?this.popoverTimer&&clearTimeout(this.popoverTimer):this.ui.dropDown.addClass("binf-hidden"))},"keyDownOnClear":function(e){13===e.keyCode&&this.clearerClicked(e)},"clearerClicked":function(e){e.preventDefault(),e.stopPropagation(),this._setInputValue(""),this.ui.searchIcon.removeClass(this.options.data.customSearchIconEnabledClass).addClass(this.options.data.customSearchIconClass),this.hidePopover(e),this.ui.input.trigger("focus")},"_setSearchQuery":function(e,t,i,s){this.model.clear({"silent":!0});var n={};t&&(n.slice=t),i&&(n.location_id1=i),e&&(n.where=e),this.model.set(n),this.hidePopover(s)},"setSlices":function(e){e.preventDefault(),e.stopPropagation();var t=i(e.target).data("sliceid"),s=this.$el.find(".csui-search-popover-checked"),n=this.$el.find(".icon-listview-checkmark"),o=n.length>0&&n.attr("id")===i(e.target).data("sliceid")+"";this.options.sliceString="",i(s).removeClass("icon-listview-checkmark").parents(".csui-search-popover-row").attr("aria-checked","false"),o||(i("#"+t).addClass("icon-listview-checkmark").parents(".csui-search-popover-row").attr("aria-checked","true"),this.options.sliceString="{"+t+"}"),this.slice=this.options.sliceString},"_hideSearchBar":function(e){var t=e||window.event,s=i(".search-bar"),n=e.data,o=n.$el.parent();if(s.is(":visible")&&("keydown"===t.type&&(27===t.keyCode||27===t.which)&&!i(".search-bar-content .binf-popover").is(":visible")||!i(t.target).closest(s).length&&"click"===t.type&&!i(t.target).closest(".csui-header-search-icon").length&&!i(t.target).closest(".esoc-activityfeed-invisiblebutton").length)){i(this).find("."+e.data.options.data.customSearchIconNoHoverClass).removeClass(e.data.options.data.customSearchIconNoHoverClass),i(this).find(".csui-input").val(""),o.removeClass("search-input-open"),g.onTransitionEnd(o,function(){
this.isDestroyed||(i(".binf-navbar-brand").addClass("binf-navbar-collapse"),n.$el.removeClass("csui-searchbox-ready").removeClass("csui-search-expanded"))},this),i(this).find(".csui-search-box-slice-popover").binf_popover("hide"),i(this).find(".csui-search-box .csui-header-search-icon")[0].title=c.searchIconTitle,i(i(this).find(".csui-search-box .csui-header-search-icon")[0]).attr("aria-expanded","false"),e.data.slice=e.data.model.get("slice"),e.data.options.data.searchFromHere=!0,e.data.ui.dropDown.addClass("binf-hidden"),i(this).find(".csui-search-box .csui-header-search-icon").removeClass(e.data.options.data.customSearchIconEnabledClass).addClass(e.data.options.data.customSearchIconClass),i(document).off("click."+this.cid+" keydown."+this.cid);e.data.trigger("hide:searchbar"),i(".csui-search-box-slice-popover").prop("tabindex",-1),i(".csui-input").prop("tabindex",-1)}},"_updateInput":function(){if(this._isRendered){var e=this.model.get("where")||"";this._setInputValue(e)}},"_setInputValue":function(e){this.ui.input.val(e),this.ui.clearer.toggle(!!e.length),this.searchIconToggle(),this.options.data.showOptionsDropDown&&(this.options.data.nodeName=this.searchboxModel.nodeName)},"searchIconToggle":function(){this.ui.input.val().trim()?(this.ui.searchIcon.removeClass(this.options.data.customSearchIconClass).addClass(this.options.data.customSearchIconEnabledClass),this.ui.input.addClass("csui-input-focus"),i(this.ui.searchIcon).attr("title",c.startSearch),i(this.ui.searchIcon).removeClass(this.options.data.customSearchIconNoHoverClass)):(this.ui.searchIcon.removeClass(this.options.data.customSearchIconEnabledClass).addClass(this.options.data.customSearchIconClass),this.ui.input.removeClass("csui-input-focus"),i(".search-bar").is(":visible")&&i(this.ui.searchIcon).attr("title",c.searchBoxTitle).addClass(this.options.data.customSearchIconNoHoverClass))}})}),csui.define("csui/widgets/navigation.header/controls/search/search.view",["csui/widgets/search.box/search.box.view","csui/utils/contexts/factories/search.query.factory","csui/controls/globalmessage/globalmessage"],function(e,t,i){"use strict";return e.extend({"constructor":function(i){e.call(this,i),this.searchQuery=i.context.getModel(t)},"onRender":function(){var e=function(){i.trigger("resize")};this.listenTo(this,"hide:input",e),this.listenTo(this,"show:input",e)}})}),csui.define("csui/widgets/navigation.header/controls/favorites/impl/nls/localized.strings",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/navigation.header/controls/favorites/impl/nls/root/localized.strings",{"FavoritesIconTitle":"Favorites","FavoritesTitleAria":"Content Server Favorites"}),csui.define("hbs!csui/widgets/navigation.header/controls/favorites/impl/favorites",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<div class="csui-favorites-icon-container" title="'+this.escapeExpression((n=null!=(n=t.title||(null!=e?e.title:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"title","hash":{}}):n))+'" aria-label="'+this.escapeExpression((n=null!=(n=t.favoritesTitleAria||(null!=e?e.favoritesTitleAria:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"favoritesTitleAria","hash":{}}):n))+'" role="button" aria-haspopup="true" aria-expanded="false">\r\n  <span class="csui-icon-favorites favorite_header_icon"></span>\r\n</div>\r\n<div class="csui-favorites-view-container"></div>\r\n'}});return i.registerPartial("csui_widgets_navigation.header_controls_favorites_impl_favorites",s),s}),csui.define("csui/controls/tabletoolbar/impl/nls/localized.strings",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/controls/tabletoolbar/impl/nls/root/localized.strings",{"ToolbarAria":"Table toolbar","ToolbarItemFilter":"Show filters","ToolbarItemFilterAria":"Show filter panel","ToolbarItemOpen":"Open","ToolbarItemDownload":"Download","ToolbarItemBrowse":"Browse","ToolbarItemCopy":"Copy","ToolbarItemEmailLink":"Mail as link","ToolbarItemEmailLinkShort":"Mail as link","ToolbarItemPaste":"Paste","ToolbarItemMove":"Move","ToolbarItemShare":"Share","ToolbarItemSendTo":"Send to","ToolbarItemNavigate":"Visit","ToolbarItemViewProperties":"Properties","ToolbarItemVersionHistory":"Version history","ToolbarItemDelete":"Delete","ToolbarItemReserve":"Reserve","ToolbarItemUnreserve":"Unreserve","ToolbarItemEdit":"Edit","ToolbarItemRename":"Rename","ToolbarItemRenameFavorite":"Rename Favorite","ToolbarItemOpenSavedQuery":"Open","ToolbarItemExecuteSavedQuery":"Execute","ToolbarItemInfo":"Properties","ToolbarItemTimeline":"Timeline","ToolbarItemToggleTableLayout":"Toggle layout","ToolbarItemSettings":"Settings","ToolbarItemAddFolder":"Folder","ToolbarItemAddDocument":"Document","ToolbarItemAdd":"Add","ToolbarItemAddItem":"Add Item","ToolbarItemAddVersion":"Add version","ToolbarItemAddCategories":"Add Categories","ToolbarItemMore":"More actions","ToolbarItemPrint":"Print","ToolbarItemOriginalEdit":"Edit original","ToolbarItemOriginalShare":"Share original","ToolbarItemOriginalReserve":"Reserve original","ToolbarItemOriginalUnreserve":"Unreserve original","ToolbarItemOriginalCopy":"Copy original","ToolbarItemOriginalMove":"Move original","ToolbarItemOriginalDownload":"Download original","ToolbarItemOriginalDelete":"Delete original","ToolbarItemCopyLink":"Copy link","ToolbarItemOriginalCopyLink":"Copy link original","ToolbarItemPermissions":"View permissions","ToolbarItemDeletePermission":"Remove from list","ToolbarItemEditPermission":"Edit permissions","ToolbarItemApplyPermission":"Apply permissions to sub-items","ToolbarItemChangeOwnerPermission":"Change owner","ToolbarItemRemoveCollectionItems":"Remove from collection","ToolbarItemInformation":"Properties","ToolbarGoToLocation":"Go to location","ToolbarCollect":"Collect","ToolbarItemZipAndDownload":"Download","MenuItemUploadFile":"Upload file","MenuItemAddNewFolder":"Add new Folder","MenuItemZipAndDownload":"Download","MenuItemCopy":"Copy","MenuItemMove":"Move","MenuItemEmailLink":"Email link","MenuItemShare":"Share","MenuItemReserve":"Reserve","MenuItemUnreserve":"Unreserve","MenuItemDelete":"Delete","MenuItemSendToDevice":"Send to device","MenuItemRename":"Rename","MenuItemTimeline":"Timeline","MenuItemInformation":"Properties","MenuItemCopyLink":"Copy link","ToolbarItemComment":"Comment","ToolbarItemShowDescription":"Show description","ToolbarItemConfiguration":"Configuration","ToolbarItemMaximizeWidgetView":"Maximize widget view","ToolbarItemRestoreWidgetViewSize":"Restore widget view size","AddUserOrGroups":"Add user or groups","AddOwnerOrGroup":"Add owner or owner group","RestorePublicAccess":"Restore public access","AddToolbarItemsTitle":"Add {0}","ToolbarItemThumbnail":"Grid view","ToolbarItemListView":"List view","ThumbnailTitle":"Grid view","ListViewTitle":"List view"}),csui.define("csui/widgets/favorites/tileview.toolbaritems",["csui/lib/underscore","i18n!csui/controls/tabletoolbar/impl/nls/localized.strings","csui/controls/toolbar/toolitems.factory","csui/controls/toolbar/toolitem.model","csui-ext!csui/widgets/recentlyaccessed/tileview.toolbaritems"],function(e,t,i,s,n){"use strict";var o={"inlineActionbar":new i({"info":[{"signature":"Properties","name":t.ToolbarItemInfo,"commandData":{"dialogView":!0}}],"share":[{"signature":"CopyLink","name":t.ToolbarItemCopyLink}],"edit":[{"signature":"Edit","name":t.ToolbarItemEdit}],"other":[{"signature":"Download","name":t.ToolbarItemDownload},{"signature":"goToLocation","name":t.ToolbarGoToLocation}]},{"maxItemsShown":1,"dropDownText":t.ToolbarItemMore,"dropDownIcon":"icon icon-toolbar-more","dropDownSvgId":"themes--carbonfiber--image--generated_icons--action_more32"})};return n&&function(t){e.each(t,function(t){e.each(t,function(t,i){var n=o[i];if(!n)throw new Error("Invalid target toolbar: "+i);e.each(t,function(e){e=new s(e),n.addItem(e)})})})}(n),o}),csui.define("csui/widgets/favorites/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/favorites/impl/nls/root/lang",{"dialogTitle":"Favorites","searchTitle":"Search Favorites","searchPlaceholder":"Favorites","searchAria":"Search for favorites","expandAria":"Expand the Favorites widget","emptyGroupDefaultText":"This group is empty.","emptyListText":"There are no items to display.","loadingListText":"Loading results...","failedListText":"Loading results failed.","favoritesGroupAria":"{0}, Favorites Group","favoritesEmptyGroupAria":"{0}, Empty Favorites Group","addFav":"Add Favorite","removeFav":"Remove Favorite","addFavoriteNameLabel":"Favorite name","addFavoriteNamePlaceHolder":"Enter name","addFavoriteGroupLabel":"Group","addFavoriteAddButtonLabel":"Add","addFavoriteCancelButtonLabel":"Cancel","nameErrorMaxLengthExceed":"Name cannot be longer than 248 characters.","nameErrorContainSemiColon":"Name cannot contain a colon.","updateFavoriteFailMessage":'Failed to update Favorite for node "{0}". \n\n{1}',"openFavoritesView":"Open favorites view"}),csui.define("css!csui/widgets/favorites/impl/favorites.view",[],function(){}),csui.define("csui/widgets/favorites/favorites.view",["module","csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/contexts/factories/favorites2","csui/controls/list/list.view","csui/controls/listitem/listitemstandard.view","csui/controls/listitem/simpletreelistitem.view","csui/behaviors/expanding/expanding.behavior","csui/behaviors/default.action/default.action.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/controls/list/behaviors/list.view.keyboard.behavior","csui/behaviors/collection.state/collection.state.behavior","csui/controls/list/list.state.view","csui/utils/contexts/factories/favorite2groups","csui/utils/contexts/factories/application.scope.factory","csui/models/favorites2","csui/controls/node-type.icon/node-type.icon.view","csui/controls/progressblocker/blocker","csui/widgets/favorites/tileview.toolbaritems","csui/utils/commands","i18n!csui/widgets/favorites/impl/nls/lang","i18n!csui/controls/listitem/impl/nls/lang","css!csui/widgets/favorites/impl/favorites.view"],function(e,t,i,s,n,o,r,a,l,c,u,d,h,p,m,g,f,v,b,w,y,x,C,k){"use strict";var _=i.defaults({},e.config(),{"openInPerspective":!0});return r.extend({"templateHelpers":function(){return{"title":this.options.data.title||C.dialogTitle,"icon":this.options.data.titleBarIcon,"searchPlaceholder":C.searchPlaceholder,"searchTitle":C.searchTitle,"searchAria":C.searchAria,"expandAria":C.expandAria,"openPerspectiveAria":C.openFavoritesView,"openPerspectiveTooltip":C.openFavoritesView,"enableOpenPerspective":this._enableOpenPerspective}},"events":{"click .tile-expand":"onMoreLinkClick"},"behaviors":{"ExpandableList":{"behaviorClass":c,"expandedView":"csui/widgets/favorites2.table/favorites2.table.view","orderBy":function(){return this.options.orderBy},"titleBarIcon":function(){return this.options.data.titleBarIcon},"dialogTitle":C.dialogTitle,"dialogTitleIconRight":"icon-tileCollapse","dialogClassName":"favorites"},"DefaultAction":{"behaviorClass":u},"TabableRegion":{"behaviorClass":d},"ListViewKeyboardBehavior":{"behaviorClass":h},"CollectionState":{"behaviorClass":p,"collection":function(){return this.completeCollection},"stateView":m,"stateMessages":{"empty":C.emptyListText,"loading":C.loadingListText,"failed":C.failedListText}}},"getChildView":function(e){return this.showFlatList?a:l},"childViewOptions":function(){return{"templateHelpers":function(){if(this instanceof a)return{"name":this.model.get("favorite_name"),"enableIcon":!0,"showInlineActionBar":this.showInlineActionBar,"itemLabel":i.str.sformat(k.itemTitleLabel,this.model.get("favorite_name"))};var e,t=this.model.get("name");return e=this.model.childrenCollection&&0===this.model.childrenCollection.length?i.str.sformat(C.favoritesEmptyGroupAria,t):i.str.sformat(C.favoritesGroupAria,t),{"icon":"mime_fav_group32","name":t,"ariaName":e,"expand":this.model.searchMode}},"childViewTemplateHelpers":function(){return{"icon":this.model.get("icon"),"name":this.model.get("favorite_name"),"text":C.emptyGroupDefaultText,"showInlineActionBar":this.showInlineActionBar,"itemLabel":i.str.sformat(k.itemTitleLabel,this.model.get("favorite_name"))}},"checkDefaultAction":!0,"context":this.context,"toolbarData":this.toolbarData}},"childEvents":{"click:item":"_onClickItem","click:tree:item":"_onClickTreeItem","click:tree:header":"_onClickTreeHeader","render":"onRenderItem","before:destroy":"onBeforeDestroyItem","changed:focus":"onChangedfocus"},"constructor":function(e){e||(e={}),i.defaults(e,{"orderBy":"favorite_name asc"}),e.data||(e.data={}),e.data.titleBarIcon=!1===e.data.showTitleIcon?void 0:"title-icon title-favourites";var t=x.getSignatures(y);this.completeCollection=e.collection||e.context.getCollection(g,{"detached":!0,"permanent":!0,"favorites":{"options":{"promotedActionCommands":[],"nonPromotedActionCommands":t}}});var n=o.getLimitedResourceScope();this.completeCollection.favorites.setResourceScope(n);var a=s.Collection.extend({"model":this.completeCollection.model});e.collection=new a,this.showInlineActionBar=!1!==e.showInlineActionBar||e.showInlineActionBar;var l=e.context,c=l&&l.viewStateModel;this._enableOpenPerspective=_.openInPerspective&&c&&c.get("history"),r.prototype.constructor.apply(this,arguments),w.imbue(this),this.listenTo(this.completeCollection,"update sync",i.bind(this._synchronizeCollections,this)),this._synchronizeCollections(),this.listenTo(this,"render",this._onRender),this.listenTo(this,"change:filterValue",this._synchronizeCollections),this.showInlineActionBar&&(e.tileViewToolbarItems=y,this.context=l,this.toolbarData={"toolbaritems":y,"collection":this.completeCollection.favorites}),this.applicationScope=e.context.getModel(f)},"_onRender":function(){this.$el.addClass("cs-favorites"),this.completeCollection.ensureFetched(),this.$el.on("keydown",i.bind(this.onKeyDown,this)),this._updateAccAttributes()},"_updateAccAttributes":function(){this.$el.find(".tile-content").removeAttr("role aria-expanded"),this.$el.find(".tile-content > .binf-list-group").removeAttr("role"),this.showFlatList?this.$el.find(".tile-content > .binf-list-group").attr("role","listbox"):this.$el.find(".tile-content > .binf-list-group").attr("role","tree")},"onRenderCollection":function(){this._updateAccAttributes()},"onRenderItem":function(e){this.showFlatList&&(e._nodeIconView=new b({"el":e.$(".csui-type-icon").get(0),"node":e.model}),e._nodeIconView.render(),e.$el.attr("role","option"),e.$el.attr("aria-label",i.str.sformat(k.typeAndNameAria,e._nodeIconView.model.get("title"),e.model.get("favorite_name"))))},"onBeforeDestroyItem":function(e){this.showFlatList&&e._nodeIconView&&e._nodeIconView.destroy()},"onChangedfocus":function(){this.trigger("changed:focus")},"_onClickItem":function(e){this.triggerMethod("execute:defaultAction",e.model)},"_onClickTreeItem":function(e,t){this.triggerMethod("execute:defaultAction",t.model)},"_onClickTreeHeader":function(e){this.trigger("update:scrollbar")},"onClickHeader":function(e){this.options.avoidOpenPerspectiveOnHeader||this.onClickOpenPerspective(e)},"onClickOpenPerspective":function(e){this.applicationScope.set("id","favorites"),this.trigger("open:favorites:perspective")},"onMoreLinkClick":function(e){e.preventDefault(),e.stopPropagation(),this.triggerMethod("expand")},"_synchronizeCollections":function(){var e,n=this,o=this.completeCollection.at(0),r={"connector":this.completeCollection.connector},a={"favorite_name":this.options.filterValue};if(1===this.completeCollection.length&&-1===o.get("tab_id"))this.showFlatList=!0,e=new v(void 0,r),e.reset(o.favorites&&o.favorites.models||[]),e.setFilter(a),n.options.filterValue&&0!==n.options.filterValue.length?n.listenTo(e,"sync",function(){n.collection.reset(e.models)}):n.collection.reset(e.models);else{n.showFlatList=!1;var l=this.isSearchOpen(),c=new s.Collection,u=[];i.each(this.completeCollection.models,function(i){e=new v(void 0,r),e.reset(i.favorites.models),e.setFilter(a);var o=new s.Model(i.attributes);if(o.childrenCollection=e,o.searchMode=l,-1===o.get("tab_id")&&o.set("flatten",!0),c.add(o),n.options.filterValue&&n.options.filterValue.length>0){var d=t.Deferred();u.push(d.promise()),n.listenTo(e,"sync",function(){0===o.childrenCollection.length&&c.remove(o),d.resolve()})}}),n.options.filterValue&&n.options.filterValue.length>0?t.when.apply(t,u).then(function(){n.collection.reset(c.models)}):n.collection.reset(c.models)}},"getElementByIndex":function(e,t){if(this.showFlatList)return r.prototype.getElementByIndex.call(this,e);if(isNaN(e)||e<0)return null;var i=this.children.findByIndex(e);return i&&i.currentlyFocusedElement?i.currentlyFocusedElement(t):null}})}),csui.define("css!csui/widgets/navigation.header/controls/favorites/impl/favorites",[],function(){}),csui.define("csui/widgets/navigation.header/controls/favorites/favorites.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","i18n!csui/widgets/navigation.header/controls/favorites/impl/nls/localized.strings","csui/behaviors/keyboard.navigation/tabable.region.behavior","hbs!csui/widgets/navigation.header/controls/favorites/impl/favorites","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","csui/widgets/favorites/favorites.view","csui/utils/contexts/factories/favorites2","css!csui/widgets/navigation.header/controls/favorites/impl/favorites"],function(e,t,i,s,n,o,r,a){"use strict";var l=i.LayoutView.extend({"className":"csui-favorites-view","template":o,"templateHelpers":function(){return{"title":s.FavoritesIconTitle,"favoritesTitleAria":s.FavoritesTitleAria}},"regions":{"favoritesViewContainerRegion":".csui-favorites-view-container"},"ui":{"favoritesButtonContainer":".csui-favorites-icon-container","favoritesViewContainer":".csui-favorites-view-container"},"events":{"dragenter":"_hideFavoritesView","keydown":"onKeyInView","mouseenter .csui-favorites-view-container":"onMouseEnterFavoritesView","mouseenter .csui-favorites-icon-container":"onMouseEnterFavoritesView","mouseleave .csui-favorites-view-container":"onMouseLeaveFavoritesView","mouseleave .csui-favorites-icon-container":"onMouseLeaveFavoritesView","mouseenter .clicked-no-hover":"onMouseEnterClickedNoHoverItem","focus .csui-favorites-icon-container":"onFocusButton","blur .csui-favorites-icon-container":"onBlurButton","blur .csui-favorites-view-container":"onBlurFavoritesViewContainer","click .csui-favorites-icon-container":"onClickFavoritesIcon"},"behaviors":{"TabableRegionBehavior":{"behaviorClass":n}},"currentlyFocusedElement":function(e){var t=this.ui.favoritesViewContainer.find(".content-tile .cs-search-button");return e.shiftKey&&t.length>0?this.favoritesView._focusSearchButton():this.ui.favoritesButtonContainer},"constructor":function(e){i.LayoutView.call(this,e),this.propagateEventsToRegions(),this.listenTo(e.context,"change:perspective",this._hideFavoritesView)},"onBeforeDestroy":function(){this.favoritesView&&this.favoritesView.destroy()},"onRender":function(){this.ui.favoritesViewContainer.addClass("binf-hidden")},"onFocusButton":function(){this.$el.find(".csui-icon-favorites").addClass("fav_header42_mo")},"onBlurButton":function(){this.$el.find(".csui-icon-favorites").removeClass("fav_header42_mo"),!0!==this.favoritesViewInFocus&&document.activeElement!==this.ui.favoritesButtonContainer[0]&&this._hideFavoritesView()},"onBlurFavoritesViewContainer":function(e){!0!==this.favoritesViewInFocus&&!0!==this.keyboardAction&&this._hideFavoritesView()},"onMouseEnterFavoritesView":function(){this.favoritesViewInFocus=!0},"onMouseLeaveFavoritesView":function(){this.favoritesViewInFocus=!1},"onMouseEnterClickedNoHoverItem":function(e){e&&e.target&&t(e.target).removeClass("clicked-no-hover")},"onKeyInView":function(e){switch(e.keyCode){case 9:var i=this.ui.favoritesButtonContainer.is(":focus");i&&!0!==e.shiftKey&&!this.ui.favoritesViewContainer.hasClass("binf-hidden")?this._focusOnFavoriteSearch(e):!i&&e.shiftKey?(e.preventDefault(),e.stopPropagation(),this._focusOnFavoriteButton()):t(e.target).closest(".tile-header").length||this._hideFavoritesView();break;case 13:case 32:t(e.target).closest(".tile-header").length||(this.triggerMethod("click:favorites:icon",e),this.ui.favoritesViewContainer.hasClass("binf-hidden")||this._focusOnFavoriteSearch(e));break;case 40:!this.favoritesView||this.ui.favoritesViewContainer.hasClass("binf-hidden")?(this.triggerMethod("click:favorites:icon",e),this._focusOnFavoriteSearch(e)):!0!==this.favoritesViewInFocus&&this._focusOnFavoriteSearch(e);break;case 27:this._focusOnFavoriteButton(),this._hideFavoritesView()}},"_focusOnFavoriteButton":function(){this.ui.favoritesButtonContainer.trigger("focus"),this.favoritesViewInFocus=!1},"_focusOnFavoriteSearch":function(e){this.ui.favoritesViewContainer.find(".content-tile .cs-search-button").length>0&&(e.preventDefault(),e.stopPropagation(),this.favoritesViewInFocus=!0,this.favoritesView._moveTo(e,this.favoritesView._focusSearchButton()))},"_focusOnFavoriteList":function(e){var t=this.ui.favoritesViewContainer.find("> .content-tile > .tile-content > .binf-list-group");(this.favoritesView.showFlatList?t.find("> .binf-list-group-item"):t.find("> .cs-simpletreelistitem")).length>0&&(e.preventDefault(),e.stopPropagation(),this.favoritesViewInFocus=!0,this.favoritesView._moveTo(e,this.favoritesView._focusList()))},"_handleClickEvent":function(e){t(e.target).parents(".csui-favorites-view-container").length||t(e.target).parents(".csui-favorites-icon-container").length||this._hideFavoritesView()},"_toggleFavoritesView":function(){this.ui.favoritesViewContainer.hasClass("binf-hidden")?this._showFavoritesView():this._hideFavoritesView()},"_showFavoritesView":function(){this.ui.favoritesViewContainer.removeClass("binf-hidden"),this.ui.favoritesButtonContainer.attr("aria-expanded","true"),this.$el.addClass("showing-favorites-view"),this.favoritesViewContainerRegion.show(this.favoritesView),t(document).off("click."+this.cid).on("click."+this.cid,e.bind(this._handleClickEvent,this))},"_hideFavoritesView":function(){t(document).off("click."+this.cid),this.favoritesView&&this.favoritesView.isSearchOpen()&&this.favoritesView.searchClicked(event),this.favoritesViewInFocus=!1,this.ui.favoritesViewContainer.addClass("binf-hidden"),this.ui.favoritesButtonContainer.attr("aria-expanded","false"),this.$el.removeClass("showing-favorites-view")},"onClickFavoritesIcon":function(e){e.preventDefault(),e.stopPropagation();var i=t(".binf-open>.binf-dropdown-toggle");i.length>0&&i.binf_dropdown("toggle"),this._ensureFavoritesView(),this._toggleFavoritesView(),this._focusOnFavoriteSearch(e)},"_ensureFavoritesView":function(){if(!this.favoritesView){var t=this,i=e.extend(this.options,{"showInlineActionBar":!0,"avoidOpenPerspectiveOnHeader":!0});this.favoritesView=new a(i),this.listenTo(this.favoritesView,"childview:click:tree:item",function(e,i){i.$el&&i.$el.addClass("clicked-no-hover"),t._hideFavoritesView(),t._focusOnFavoriteButton()}),this.listenTo(this.favoritesView,"childview:click:item",function(e){e.$el&&e.$el.addClass("clicked-no-hover"),t._hideFavoritesView(),t._focusOnFavoriteButton()}),this.listenTo(this.favoritesView,"childview:before:execute:command",function(e){t._hideFavoritesView(),t._focusOnFavoriteButton()}),this.listenTo(this.favoritesView,"before:keyboard:change:focus childview:before:keyboard:change:focus",function(){t.keyboardAction=!0}),this.listenTo(this.favoritesView,"after:keyboard:change:focus childview:after:keyboard:change:focus",function(){t.keyboardAction=!1}),this.listenTo(this.favoritesView,"open:favorites:perspective",function(){this._hideFavoritesView()})}}});return e.extend(l.prototype,r),l}),csui.define("csui/widgets/navigation.header/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/navigation.header/impl/nls/root/lang",{"profileMenuItemLabel":"Profile","switchToClassicMenuItemLabel":"Classic View","signOutMenuItemLabel":"Sign out","EditPerspective":"Edit page","CreatePerspective":"Edit page","personalizePage":"Personalize page"}),csui.define("csui/widgets/navigation.header/profile.menuitems",["csui/lib/underscore","i18n!csui/widgets/navigation.header/impl/nls/lang","csui/controls/toolbar/toolitems.factory","csui/controls/toolbar/toolitem.model","csui-ext!csui/widgets/navigation.header/profile.menuitems"],function(e,t,i,s,n){"use strict";var o={"profileMenu":new i({"profile":[{"signature":"UserProfile","name":t.profileMenuItemLabel}],"others":[{"signature":"SwitchToClassic","name":t.switchToClassicMenuItemLabel},{"signature":"EditPerspective","name":t.EditPerspective}],"signout":[{"signature":"SignOut","name":t.signOutMenuItemLabel}]},{"maxItemsShown":0,"dropDownIcon":"icon icon-expandArrowDown","dropDownSvgId":"themes--carbonfiber--image--generated_icons--action_caret_down32"})};return n&&e.each(n,function(t){e.each(t,function(t,i){var n=o[i];if(!n)throw new Error("Invalid target toolbar: "+i);e.each(t,function(e){e=new s(e),n.addItem(e)})})}),o}),csui.define("csui/widgets/navigation.header/profile.menuitems.mask",["module","csui/lib/underscore","csui/controls/toolbar/toolitems.mask","csui/utils/toolitem.masks/global.toolitems.mask"],function(e,t,i,s){"use strict";return i.extend({"constructor":function(){var n=e.config(),o=new s;i.prototype.constructor.call(this,o,{"normalize":!1}),t.each(n,function(e,t){this.extendMask(e)},this),this.storeMask()}})}),csui.define("hbs!csui/widgets/navigation.header/controls/user.profile/impl/user.profile",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<a href="#" data-binf-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true"\r\n   class="binf-dropdown-toggle nav-profile csui-navbar-icons csui-acc-focusable" title="'+this.escapeExpression((n=null!=(n=t.profileMenuTitle||(null!=e?e.profileMenuTitle:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"profileMenuTitle","hash":{}}):n))+'" aria-label="'+this.escapeExpression((n=null!=(n=t.profileMenuAria||(null!=e?e.profileMenuAria:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"profileMenuAria","hash":{}}):n))+'">\r\n  <span class="csui-profile-default-image image_user_placeholder">'+this.escapeExpression((n=null!=(n=t.initials||(null!=e?e.initials:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"initials","hash":{}}):n))+'</span>\r\n  <img class="csui-profile-image binf-img-circle binf-hidden" role="presentation" alt="'+this.escapeExpression((n=null!=(n=t.profileImageAlt||(null!=e?e.profileImageAlt:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"profileImageAlt","hash":{}}):n))+'" src="'+this.escapeExpression((n=null!=(n=t.imgSrc||(null!=e?e.imgSrc:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"imgSrc","hash":{}}):n))+'">\r\n</a>\r\n<ul class="binf-dropdown-menu csui-profile-dropdown" role="menu"></ul>'}});return i.registerPartial("csui_widgets_navigation.header_controls_user.profile_impl_user.profile",s),s}),csui.define("css!csui/widgets/navigation.header/controls/user.profile/impl/user.profile",[],function(){}),csui.define("csui/widgets/navigation.header/controls/user.profile/user.profile.view",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/utils/url","csui/utils/log","csui/utils/base","csui/utils/commands","csui/utils/contexts/factories/connector","csui/utils/contexts/factories/user","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/controls/toolbar/toolitems.filtered.model","csui/controls/toolbar/toolitem.view","csui/widgets/navigation.header/profile.menuitems","csui/widgets/navigation.header/profile.menuitems.mask","csui/utils/user.avatar.color","csui/controls/globalmessage/globalmessage","hbs!csui/widgets/navigation.header/controls/user.profile/impl/user.profile","csui-ext!csui/widgets/navigation.header/controls/user.profile/user.profile.view","i18n!csui/pages/start/impl/nls/lang","css!csui/widgets/navigation.header/controls/user.profile/impl/user.profile","csui/lib/jquery.binary.ajax"],function(e,t,i,s,n,o,r,a,l,c,u,d,h,p,m,g,f,v,b,w,y){"use strict";return r=r(e.id),n.CompositeView.extend({"classname":"binf-dropdown","template":b,"templateHelpers":function(){var e=a.formatMemberName(this.model);return{"profileMenuTitle":y.profileMenuTitle,"profileMenuAria":t.str.sformat(y.profileMenuAria,e),"profileImageAlt":t.str.sformat(y.profileImageAlt,e),"imgSrc":"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=","initials":this.options.model.attributes.initials}},"serializeData":function(){return{"items":this.collection.toJSON()}},"childView":p,"childViewContainer":"> .csui-profile-dropdown","ui":{"userProfileMenu":"> .csui-profile-dropdown","userProfileMenuHandle":"> a","personalizedImage":".csui-profile-image","defaultImage":".csui-profile-default-image","profileDropdownToggler":"> .nav-profile"},"events":{"keydown @ui.profileDropdownToggler":"_showDropdown","keydown @ui.userProfileMenu":"_showDropdown","focusout @ui.profileDropdownToggler":"_toggleDropdown","focusout @ui.userProfileMenu":"_toggleDropdown"},"behaviors":{"TabableRegion":{"behaviorClass":d}},"currentlyFocusedElement":"> .csui-acc-focusable","constructor":function(e){e||(e={}),this._ensureModels(e),n.CompositeView.prototype.constructor.call(this,e),this.connector=this.options.context.getModel(c),this.listenTo(this.model,"change",this._refreshUser).listenTo(e.context,"sync error",this._refreshActions).listenTo(this,"render",this._displayUser).listenTo(this,"destroy",this._releasePhotoUrl).listenTo(this,"childview:toolitem:action",this._triggerMenuItemAction).listenTo(s,"closeToggleAction",this._closeToggle)},"_ensureModels":function(e){var t=e.context,i=t.getModel(u);this.username="ensured",this.staticMenuItems=m.profileMenu.collection.toJSON(),e.model=i,e.collection=new h(m.profileMenu,{"status":{"context":t},"commands":l,"mask":new g})},"_refreshUser":function(){this._isRendered&&!this.isDestroyed&&this.render()},"_refreshActions":function(){if(this._isRendered&&!this.isDestroyed)if(w){var e={"context":this.options.context},s=t.chain(w).flatten(!0).map(function(t){return t(e)}).value(),n=this;i.whenAll.apply(i,s).always(function(e){var i=new g;e=t.chain(e).flatten().pluck("profileMenu").flatten().value(),e=n.staticMenuItems.concat(e),e=i.maskItems(e),m.profileMenu.reset(e)})}else this.collection.refilter()},"_triggerMenuItemAction":function(e,t){this.ui.profileDropdownToggler.binf_dropdown("toggle"),this._executeAction(t.toolItem)},"_executeAction":function(e){var t=e.get("signature"),i=l.findWhere({"signature":t}),s=this.options.context,n={"context":s,"toolItem":e,"data":e.get("commandData")},o=this;try{if(!i)throw new Error('Command "'+t+'" not found.');this.$el.addClass("binf-disabled"),i.execute(n).done(function(e){}).fail(function(e){e&&(e=new a.Error(e),v.showMessage("error",e.message,e.errorDetails))}).always(function(){o.$el.removeClass("binf-disabled")})}catch(e){r.warn('Executing the command "{0}" failed.\n{1}',i.get("signature"),e.message)&&console.warn(r.last)}},"_displayUser":function(){this.model.get("id")&&(this._displayProfileImage(),this._assignUserColor())},"_displayProfileImage":function(){var e=this._getUserPhotoUrl();if(e){var i={"url":e,"dataType":"binary"};this.connector.makeAjaxCall(i).always(t.bind(function(e,t,i){200===i.status?this._showPersonalizedImage(e):this._showDefaultImage()},this))}else this._showDefaultImage()},"_getUserPhotoUrl":function(){var e=this.connector.connection,t=new o(e.url).getCgiScript(),i=this.model.get("photo_url");if(i&&i.indexOf("?")>0)return o.combine(t,i)},"_showPersonalizedImage":function(e){this._releasePhotoUrl(),this._photoUrl=URL.createObjectURL(e),this.ui.defaultImage.addClass("binf-hidden"),this.ui.personalizedImage.attr("src",this._photoUrl).removeClass("binf-hidden"),
this.$el.parents().find(".esoc-userprofile-pic-actions img").length&&this.$el.parents().find(".esoc-userprofile-pic-actions img").trigger("focus")},"_showDefaultImage":function(e){this._releasePhotoUrl(),this.ui.personalizedImage.addClass("binf-hidden"),this.ui.defaultImage[0].innerText=this.options.model.attributes.initials,this.ui.defaultImage.removeClass("binf-hidden"),this.$el.parents().find(" span.esoc-full-profile-avatar-cursor").length&&this.$el.parents().find(" span.esoc-full-profile-avatar-cursor").trigger("focus")},"_releasePhotoUrl":function(){this._photoUrl&&(URL.revokeObjectURL(this._photoUrl),this._photoUrl=void 0)},"_closeToggle":function(){this.$el.hasClass("binf-open")&&this.ui.userProfileMenuHandle.trigger("click")},"_showDropdown":function(e){var t=this.ui.userProfileMenu.find("> li > a"),s=0,n=this.$el.find(document.activeElement);n.length>0&&(s=t.index(n[0]),38===e.keyCode||40===e.keyCode?(e.preventDefault(),38===e.keyCode&&(s=-1===s?t.length-1:s-1),40===e.keyCode&&(s=s===t.length-1?-1:s+1),-1===s?this.ui.profileDropdownToggler.trigger("focus"):i(t[s]).trigger("focus")):27===e.keyCode&&i(n).closest("ul").is(".csui-profile-dropdown")?(e.stopPropagation(),this.ui.profileDropdownToggler.trigger("click").trigger("focus")):32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),e.stopPropagation(),i(n).trigger("click")))},"_toggleDropdown":function(e){var t=this;setTimeout(function(){document.activeElement.offsetParent&&!document.activeElement.offsetParent.classList.contains("csui-profile-dropdown")&&document.activeElement!==t.ui.profileDropdownToggler[0]&&t.ui.userProfileMenu.is(":visible")&&i(t.ui.profileDropdownToggler).trigger("click")},100)},"_assignUserColor":function(){var e=f.getUserAvatarColor(this.model.attributes);this.ui.defaultImage.css("background",e)}})}),csui.define("csui/widgets/navigation.header/controls/progressbar.maximize/impl/nls/progressbar-maximize.lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/navigation.header/controls/progressbar.maximize/impl/nls/root/progressbar-maximize.lang",{"maximize":"Show message banner","maximizeAria":"Show message banner"}),csui.define("hbs!csui/widgets/navigation.header/controls/progressbar.maximize/impl/progressbar.maximize",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<div class="csui-maximize">\r\n<div class="icon-progresspanel-pending csui-button-icon binf-btn-default"\r\n    aria-label="'+this.escapeExpression((n=null!=(n=t.maximizeAria||(null!=e?e.maximizeAria:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"maximizeAria","hash":{}}):n))+'" title="'+this.escapeExpression((n=null!=(n=t.maximize||(null!=e?e.maximize:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"maximize","hash":{}}):n))+'" tabindex="0">\r\n    <div class="csui-progressbar-animation">\r\n    \x3c!--<span class="icon-progresspanel-maximize-arrow binf-glyphicon binf-glyphicon-open"></span>--\x3e\r\n      <div class="csui-progressbar-pie-wrapper progress progressbar">\r\n        <div class="csui-progressbar-pie">\r\n          <div class="csui-progressbar-left-side csui-progressbar-half-circle"></div>\r\n          <div class="csui-progressbar-right-side csui-progressbar-half-circle"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}});return i.registerPartial("csui_widgets_navigation.header_controls_progressbar.maximize_impl_progressbar.maximize",s),s}),csui.define("css!csui/widgets/navigation.header/controls/progressbar.maximize/impl/progressbar-maximize",[],function(){}),csui.define("csui/widgets/navigation.header/controls/progressbar.maximize/progressbar.maximize.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/controls/globalmessage/globalmessage","i18n!csui/widgets/navigation.header/controls/progressbar.maximize/impl/nls/progressbar-maximize.lang","hbs!csui/widgets/navigation.header/controls/progressbar.maximize/impl/progressbar.maximize","css!csui/widgets/navigation.header/controls/progressbar.maximize/impl/progressbar-maximize"],function(e,t,i,s,n,o){"use strict";return i.ItemView.extend({"className":"csui-progressbar-maximize-view binf-hidden","template":o,"templateHelpers":function(){return{"maximize":n.maximize,"maximizeAria":n.maximizeAria}},"ui":{"favoritesButtonContainer":".csui-favorites-icon-container","favoritesViewContainer":".csui-favorites-view-container","progresspanelMaximize":".csui-maximize .csui-button-icon","progressRight":".csui-progressbar-pie .csui-progressbar-right-side","progressLeft":".csui-progressbar-pie .csui-progressbar-left-side","wrapper":".csui-progressbar-pie-wrapper.progress .csui-progressbar-pie"},"events":{"click":"_onClick","keydown @ui.progresspanelMaximize":"onKeyInView"},"constructor":function(e){i.ItemView.prototype.constructor.apply(this,arguments),this.listenTo(e.parentView,"processbar:minimize",this._doProcessbarMaximize),this.listenTo(e.parentView,"processbar:update",this._doProgressbarAnimation),this.listenTo(e.parentView,"processbar:finished",this._doFinishedProgressbar),this.listenTo(e.parentView,"processing:completed",this._onClick),this.listenTo(e.parentView,"processing:error",this._doFailedProgressbar)},"_doProcessbarMaximize":function(){this.$el.removeClass("binf-hidden"),this.$el.find(".csui-progressbar-animation").removeClass("binf-hidden"),this.ui.progresspanelMaximize.removeClass("icon-progresspanel-success"),this.ui.progresspanelMaximize.removeClass("icon-progresspanel-error"),this.ui.progresspanelMaximize.trigger("focus")},"onKeyInView":function(e){if(13===e.keyCode||32===e.keyCode)return this._onClick(),!1},"_doFailedProgressbar":function(){this.ui.progresspanelMaximize.addClass("icon-progresspanel-error"),this.ui.progresspanelMaximize.removeClass("icon-progresspanel-success")},"_doFinishedProgressbar":function(){this.ui.wrapper.css("clip","rect(0, 1em, 1em, 0.5em)"),this.ui.progressLeft.css("transform","rotate(360deg)"),this.ui.progressRight.css("transform","rotate(0deg)"),this.$el.addClass("binf-hidden")},"_doProgressbarAnimation":function(e){var t=Math.round(3.6*e);e<=50&&(this.ui.wrapper.css("clip","rect(0, 1em, 1em, 0.5em)"),this.ui.progressLeft.css("transform","rotate(360deg)"),this.ui.progressRight.css("transform","rotate("+t+"deg)")),e>=50&&e<=100&&(this.ui.wrapper.css("clip","rect(auto, auto, auto, auto)"),this.ui.progressRight.css("transform","rotate(180deg)"),this.ui.progressLeft.css("transform","rotate("+t+"deg)"))},"_onClick":function(){this.$el.addClass("binf-hidden"),this.options.parentView.trigger("processbar:maximize")},"onRender":function(){}})}),csui.define("json!csui/utils/contexts/perspective/impl/perspectives/error.global.json",{"type":"grid","options":{"rows":[{"columns":[{"sizes":{"md":12},"heights":{"xs":"full"},"widget":{"type":"csui/widgets/error.global","options":{}}}]}]}}),csui.define("hbs!csui/widgets/error.global/impl/error.global",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"1":function(e,t,i,s){var n;return' aria-describedby="'+this.escapeExpression((n=null!=(n=t.msgId||(null!=e?e.msgId:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"msgId","hash":{}}):n))+'" '},"3":function(e,t,i,s){var n;return"        <div class='server-error-message-wrapper'>\r\n          <div class='server-error-message horizontal-center-align'>\r\n            <span id=\""+this.escapeExpression((n=null!=(n=t.msgId||(null!=e?e.msgId:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"msgId","hash":{}}):n))+"\" class='csui-acc-focusable'>"+this.escapeExpression((n=null!=(n=t.message||(null!=e?e.message:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"message","hash":{}}):n))+"</span>\r\n          </div>\r\n        </div>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n,o;return"<div class='main-area-container'>\r\n  <div class='main-area-group'>\r\n    <div class='error-message-area'>\r\n      <div class='error-message-wrapper'>\r\n        <h2 class='error-message horizontal-center-align' "+(null!=(n=t.if.call(e,null!=e?e.message:e,{"name":"if","hash":{},"fn":this.program(1,s,0),"inverse":this.noop}))?n:"")+" >\r\n          <span class='csui-acc-focusable'>"+this.escapeExpression((o=null!=(o=t.errorMessage||(null!=e?e.errorMessage:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"errorMessage","hash":{}}):o))+"</span>\r\n        </h2>\r\n      </div>\r\n"+(null!=(n=t.if.call(e,null!=e?e.message:e,{"name":"if","hash":{},"fn":this.program(3,s,0),"inverse":this.noop}))?n:"")+"    </div>\r\n\r\n    <div class='navigation-area horizontal-center-align'>\r\n      <div class='navigation-control-container'>\r\n        <a class='go-back-button circle-border horizontal-center-align' href=\"#\"\r\n          title='"+this.escapeExpression((o=null!=(o=t.backTooltip||(null!=e?e.backTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"backTooltip","hash":{}}):o))+"' aria-label='"+this.escapeExpression((o=null!=(o=t.backTooltip||(null!=e?e.backTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"backTooltip","hash":{}}):o))+"' class='csui-acc-focusable'>\r\n            <span class='icon icon-back'></span>\r\n        </a>\r\n        <div class='go-back-text button-text horizontal-center-align' title='"+this.escapeExpression((o=null!=(o=t.backTooltip||(null!=e?e.backTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"backTooltip","hash":{}}):o))+"'>\r\n            <span>"+this.escapeExpression((o=null!=(o=t.backText||(null!=e?e.backText:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"backText","hash":{}}):o))+"</span>\r\n        </div>\r\n      </div>\r\n      <div class='navigation-control-container'>\r\n        <a class='go-home-button circle-border horizontal-center-align' href=\"#\"\r\n          title='"+this.escapeExpression((o=null!=(o=t.homeTooltip||(null!=e?e.homeTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"homeTooltip","hash":{}}):o))+"' aria-label='"+this.escapeExpression((o=null!=(o=t.homeTooltip||(null!=e?e.homeTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"homeTooltip","hash":{}}):o))+"' class='csui-acc-focusable'>\r\n            <span class='icon icon-home'></span>\r\n        </a>\r\n        <div class='go-home-text button-text horizontal-center-align' title='"+this.escapeExpression((o=null!=(o=t.homeTooltip||(null!=e?e.homeTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"homeTooltip","hash":{}}):o))+"'>\r\n            <span>"+this.escapeExpression((o=null!=(o=t.homeText||(null!=e?e.homeText:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"homeText","hash":{}}):o))+"</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"}});return i.registerPartial("csui_widgets_error.global_impl_error.global",s),s}),csui.define("csui/widgets/error.global/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/error.global/impl/nls/root/lang",{"errorMessage":"There was a problem serving the requested page.","backText":"Go back","backTooltip":"Navigate back to previous URL","homeText":"Home","homeTooltip":"Navigate to landing page"}),csui.define("css!csui/widgets/error.global/impl/error.global",[],function(){}),csui.define("csui/widgets/error.global/error.global.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/utils/base","csui/utils/contexts/factories/global.error","csui/utils/contexts/factories/application.scope.factory","csui/behaviors/keyboard.navigation/tabable.region.behavior","hbs!csui/widgets/error.global/impl/error.global","i18n!csui/widgets/error.global/impl/nls/lang","css!csui/widgets/error.global/impl/error.global"],function(e,t,i,s,n,o,r,a,l){"use strict";return i.ItemView.extend({"className":"csui-global-error","template":a,"templateHelpers":function(){return{"errorMessage":l.errorMessage,"backText":l.backText,"backTooltip":l.backTooltip,"homeText":l.homeText,"homeTooltip":l.homeTooltip,"msgId":e.uniqueId("msg")}},"TabableRegion":{"behaviorClass":r,"initialActivationWeight":100},"ui":{"errorMessage":".error-message > span"},"events":{"keydown":"onKeyInView","click .go-home-button":"onClickHome","click .go-home-text":"onClickHome","click .go-back-button":"onClickBack","click .go-back-text":"onClickBack"},"constructor":function(e){if(i.ItemView.prototype.constructor.apply(this,arguments),this.model||(this.model=e.context.getModel(n,e)),this.applicationScope=e.context.getModel(o),s.isIE11()){var r=this,a=function(){r.render()};t(window).on("resize",a),this.once("before:destroy",function(){t(window).off("resize",a)})}},"currentlyFocusedElement":function(e){return this.ui.errorMessage},"onKeyInView":function(e){32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),e.stopPropagation(),t(e.target).trigger("click"))},"onClickHome":function(e){e.preventDefault(),e.stopPropagation(),this.applicationScope&&this.applicationScope.set("id","")},"onClickBack":function(e){e.preventDefault(),e.stopPropagation(),window.history.back()}})}),csui.define("csui/widgets/myassignments/myassignments.columns",["csui/lib/backbone"],function(e){var t=e.Model.extend({"idAttribute":"key","defaults":{"key":null,"sequence":0}}),i=e.Collection.extend({"model":t,"comparator":"sequence","getColumnKeys":function(){return this.pluck("key")},"deepClone":function(){return new i(this.map(function(e){return e.attributes}))}});return new i([{"key":"type","titleIconInHeader":"mime_type","sequence":10},{"key":"name","sequence":20},{"key":"location_id","sequence":30},{"key":"date_due","sequence":40},{"key":"priority","sequence":50},{"key":"status","sequence":60},{"key":"from_user_name","sequence":70}])}),csui.define("csui/widgets/myassignments/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/myassignments/impl/nls/root/lang",{"dialogTitle":"My Assignments","searchTitle":"Search My Assignments","searchPlaceholder":"My Assignments","searchAria":"Search for assignments","expandAria":"Expand the My Assignments widget","emptyListText":"No item to display.","loadingListText":"Loading results...","failedListText":"Loading results failed.","openMyAssignmentsView":"Open my assignments view"}),csui.define("css!csui/widgets/myassignments/impl/myassignments",[],function(){}),csui.define("csui/widgets/myassignments/myassignments.view",["module","csui/lib/underscore","csui/utils/base","csui/lib/marionette","csui/controls/list/list.view","csui/controls/listitem/listitemstateful.view","csui/behaviors/limiting/limiting.behavior","csui/behaviors/expanding/expanding.behavior","csui/behaviors/default.action/default.action.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/controls/list/behaviors/list.view.keyboard.behavior","csui/behaviors/collection.state/collection.state.behavior","csui/controls/list/list.state.view","csui/utils/contexts/factories/myassignments","csui/utils/contexts/factories/application.scope.factory","csui/controls/node-type.icon/node-type.icon.view","csui/controls/progressblocker/blocker","i18n!csui/widgets/myassignments/impl/nls/lang","css!csui/widgets/myassignments/impl/myassignments"],function(e,t,i,s,n,o,r,a,l,c,u,d,h,p,m,g,f,v){"use strict";var b=t.defaults({},e.config(),{"openInPerspective":!0});return n.extend({"constructor":function(e){e||(e={}),t.defaults(e,{"orderBy":"date_due asc"}),e.data||(e.data={}),e.data.titleBarIcon=!1===e.data.showTitleIcon?void 0:"title-icon title-assignments";var i=e.context,s=i&&i.viewStateModel;this._enableOpenPerspective=b.openInPerspective&&s&&s.get("history"),n.prototype.constructor.apply(this,arguments),f.imbue(this),this.context=i,this.applicationScope=this.context.getModel(m)},"childEvents":{"click:item":"onClickItem","render":"onRenderItem","before:destroy":"onBeforeDestroyItem"},"templateHelpers":function(){return{"title":this.options.data.title||v.dialogTitle,"icon":this.options.data.titleBarIcon,"searchPlaceholder":v.searchPlaceholder,"searchTitle":v.searchTitle,"searchAria":v.searchAria,"expandAria":v.expandAria,"openPerspectiveAria":v.openMyAssignmentsView,"openPerspectiveTooltip":v.openMyAssignmentsView,"enableOpenPerspective":this._enableOpenPerspective}},"childView":o,"childViewOptions":{"templateHelpers":function(){var e=this.model.get("date_due"),t=new Date(e),s=new Date,n=t<s?"Warning":"Success",o=i.formatFriendlyDate(e),r=this.model.get("description"),a=this.model.get("location_name")||this.model.get("type_name");return a||(a="Workflow"),r||(r=a),{"name":this.model.get("short_name"),"enableIcon":!0,"description":r,"info":o,"infoState":n,"type":a}},"checkDefaultAction":!0},"behaviors":{"LimitedList":{"behaviorClass":r,"completeCollection":function(){var e=this.options.collection||this.options.context.getCollection(p);return e.excludeResources(),e.resetFields(),e.setFields({"assignments":[]}),e.resetExpand(),e},"limit":0},"ExpandableList":{"behaviorClass":a,"expandedView":"csui/widgets/myassignmentstable/myassignmentstable.view","orderBy":function(){return this.options.orderBy},"titleBarIcon":function(){return this.options.data.titleBarIcon},"dialogTitle":v.dialogTitle,"dialogTitleIconRight":"icon-tileCollapse","dialogClassName":"assignments"},"DefaultAction":{"behaviorClass":l},"TabableRegion":{"behaviorClass":c},"ListViewKeyboardBehavior":{"behaviorClass":u},"CollectionState":{"behaviorClass":d,"collection":function(){return this.completeCollection},"stateView":h,"stateMessages":{"empty":v.emptyListText,"loading":v.loadingListText,"failed":v.failedListText}}},"onRender":function(){n.prototype.onRender.apply(this,arguments),this.$el.addClass("cs-assignments")},"onRenderItem":function(e){e._nodeIconView=new g({"el":e.$(".csui-type-icon").get(0),"node":e.model}),e._nodeIconView.render(),e.$el.attr("role","option")},"onBeforeDestroyItem":function(e){e._nodeIconView&&e._nodeIconView.destroy()},"onClickItem":function(e){this.triggerMethod("execute:defaultAction",e.model)},"onClickHeader":function(e){this.onClickOpenPerspective(e)},"onClickOpenPerspective":function(e){this.applicationScope.set("id","myassignments"),this.trigger("open:myassignments:perspective")}})}),csui.define("hbs!csui/widgets/placeholder/impl/placeholder",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return this.escapeExpression((n=null!=(n=t.label||(null!=e?e.label:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"label","hash":{}}):n))+"\r\n"}});return i.registerPartial("csui_widgets_placeholder_impl_placeholder",s),s}),csui.define("css!csui/widgets/placeholder/impl/placeholder",[],function(){}),csui.define("csui/widgets/placeholder/placeholder.view",["csui/lib/backbone","csui/lib/marionette","hbs!./impl/placeholder","css!./impl/placeholder"],function(e,t,i){return t.ItemView.extend({"className":"cs-placeholder tile","template":i,"constructor":function(i){i||(i={}),i.data||(i.data={}),i.model||(i.model=new e.Model({"label":i.data.label,"bgcolor":i.data.bgcolor,"color":i.data.color})),t.ItemView.prototype.constructor.call(this,i)},"onRender":function(){this.$el.css({"color":this.model.get("color"),"backgroundColor":this.model.get("bgcolor")})}})}),csui.define("csui/widgets/recentlyaccessed/recentlyaccessed.columns",["csui/lib/backbone"],function(e){var t=e.Model.extend({"idAttribute":"key","defaults":{"key":null,"sequence":0}}),i=e.Collection.extend({"model":t,"comparator":"sequence","getColumnKeys":function(){return this.pluck("key")},"deepClone":function(){return new i(this.map(function(e){return e.attributes}))}});return new i([{"key":"type","titleIconInHeader":"mime_type","sequence":10},{"key":"name","sequence":20},{"key":"reserved","sequence":30,"noTitleInHeader":!0},{"key":"parent_id","sequence":40},{"key":"access_date_last","sequence":50},{"key":"size","sequence":60},{"key":"modify_date","sequence":70},{"key":"favorite","sequence":910,"noTitleInHeader":!0,"permanentColumn":!0}])}),csui.define("csui/widgets/recentlyaccessed/tileview.toolbaritems",["csui/lib/underscore","i18n!csui/controls/tabletoolbar/impl/nls/localized.strings","csui/controls/toolbar/toolitems.factory","csui/controls/toolbar/toolitem.model","csui-ext!csui/widgets/recentlyaccessed/tileview.toolbaritems"],function(e,t,i,s,n){"use strict";var o={"inlineActionbar":new i({"info":[{"signature":"Properties","name":t.ToolbarItemInfo,"commandData":{"dialogView":!0}}],"share":[{"signature":"CopyLink","name":t.ToolbarItemCopyLink}],"edit":[{"signature":"Edit","name":t.ToolbarItemEdit}],"other":[{"signature":"Download","name":t.ToolbarItemDownload},{"signature":"goToLocation","name":t.ToolbarGoToLocation}]},{"maxItemsShown":1,"dropDownText":t.ToolbarItemMore,"dropDownIcon":"icon icon-toolbar-more","dropDownSvgId":"themes--carbonfiber--image--generated_icons--action_more32"})};return n&&function(t){e.each(t,function(t){e.each(t,function(t,i){var n=o[i];if(!n)throw new Error("Invalid target toolbar: "+i);e.each(t,function(e){e=new s(e),n.addItem(e)})})})}(n),o}),csui.define("csui/widgets/recentlyaccessed/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/recentlyaccessed/impl/nls/root/lang",{"dialogTitle":"Recently Accessed","searchTitle":"Search Recently Accessed","searchPlaceholder":"Recently Accessed","searchAria":"Search for recently accessed objects","expandAria":"Expand the Recently Accessed widget","emptyListText":"There are no items to display.","loadingListText":"Loading results...","failedListText":"Loading results failed.","access_date_last":"Last Accessed","parent_id":"Location","openRecentlyAccessedView":"Open recently accessed view"}),csui.define("css!csui/widgets/recentlyaccessed/impl/recentlyaccessed",[],function(){}),csui.define("csui/widgets/recentlyaccessed/recentlyaccessed.view",["module","csui/lib/underscore","csui/lib/marionette","csui/controls/list/list.view","csui/controls/listitem/listitemstandard.view","csui/behaviors/limiting/limiting.behavior","csui/behaviors/expanding/expanding.behavior","csui/behaviors/default.action/default.action.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/controls/list/behaviors/list.view.keyboard.behavior","csui/behaviors/collection.state/collection.state.behavior","csui/controls/list/list.state.view","csui/utils/contexts/factories/recentlyaccessed","csui/controls/node-type.icon/node-type.icon.view","csui/controls/progressblocker/blocker","csui/utils/contexts/factories/application.scope.factory","csui/utils/commands","csui/widgets/recentlyaccessed/tileview.toolbaritems","csui/controls/globalmessage/globalmessage","csui/utils/base","i18n!csui/widgets/recentlyaccessed/impl/nls/lang","i18n!csui/controls/listitem/impl/nls/lang","css!csui/widgets/recentlyaccessed/impl/recentlyaccessed"],function(e,t,i,s,n,o,r,a,l,c,u,d,h,p,m,g,f,v,b,w,y,x){"use strict";var C=t.defaults({},e.config(),{"openInPerspective":!0});return s.extend({"constructor":function(e){e||(e={}),t.defaults(e,{"orderBy":"access_date_last desc"}),e.data||(e.data={}),e.data.titleBarIcon=!1===e.data.showTitleIcon?void 0:"title-icon title-recentlyaccessed",e.tileViewToolbarItems=v,this.context=e.context,this.showInlineActionBar=!1!==e.showInlineActionBar||e.showInlineActionBar;var i=e.context,n=i&&i.viewStateModel;this._enableOpenPerspective=C.openInPerspective&&n&&n.get("history"),s.prototype.constructor.call(this,e),m.imbue(this),this.applicationScope=e.context.getModel(g)},"childEvents":{"click:item":"onClickItem","render":"onRenderItem","before:destroy":"onBeforeDestroyItem"},"templateHelpers":function(){return{"title":this.options.data.title||y.dialogTitle,"icon":this.options.data.titleBarIcon,"searchPlaceholder":y.searchPlaceholder,"searchTitle":y.searchTitle,"searchAria":y.searchAria,"expandAria":y.expandAria,"openPerspectiveAria":y.openRecentlyAccessedView,"openPerspectiveTooltip":y.openRecentlyAccessedView,"enableOpenPerspective":this._enableOpenPerspective}},"childView":n,"childViewOptions":function(){var e=this.showInlineActionBar?{"toolbaritems":this.options.tileViewToolbarItems,"collection":this.completeCollection}:void 0;return{"templateHelpers":function(){return{"name":this.model.get("short_name"),"enableIcon":!0,"showInlineActionBar":this.showInlineActionBar,"itemLabel":t.str.sformat(x.itemTitleLabel,this.model.get("short_name"))}},"context":this.context,"checkDefaultAction":!0,"toolbarData":e}},"behaviors":{"LimitedList":{"behaviorClass":o,"completeCollection":function(){var e=f.getSignatures(v),t=this.options.collection||this.options.context.getCollection(h,{"options":{"promotedActionCommands":[],"nonPromotedActionCommands":e}}),i=h.getLimitedResourceScope();return t.setResourceScope(i),t.setEnabledDelayRestCommands(!1),t.setEnabledLazyActionCommands(!1),t},"limit":0},"ExpandableList":{"behaviorClass":r,"expandedView":"csui/widgets/recentlyaccessedtable/recentlyaccessedtable.view","orderBy":function(){return this.options.orderBy},"titleBarIcon":function(){return this.options.data.titleBarIcon},"dialogTitle":y.dialogTitle,"dialogTitleIconRight":"icon-tileCollapse","dialogClassName":"recentlyaccessed"},"DefaultAction":{"behaviorClass":a},"TabableRegion":{"behaviorClass":l},"ListViewKeyboardBehavior":{"behaviorClass":c},"CollectionState":{"behaviorClass":u,"collection":function(){return this.completeCollection},"stateView":d,"stateMessages":{"empty":y.emptyListText,"loading":y.loadingListText,"failed":y.failedListText}}},"onRender":function(){s.prototype.onRender.apply(this,arguments),this.$el.addClass("cs-recentlyaccessed"),this.completeCollection.delayedActions&&this.listenTo(this.completeCollection.delayedActions,"error",function(e,t,i){var s=new w.Error(t);b.showMessage("error",s.message)})},"onRenderItem":function(e){e._nodeIconView=new p({"el":e.$(".csui-type-icon").get(0),"node":e.model}),e._nodeIconView.render(),e.$el.attr("role","option"),e.$el.attr("aria-label",t.str.sformat(x.typeAndNameAria,e._nodeIconView.model.get("title"),e.model.get("short_name")))},"onBeforeDestroyItem":function(e){e._nodeIconView&&e._nodeIconView.destroy()},"onClickItem":function(e){this.triggerMethod("execute:defaultAction",e.model)},"onClickHeader":function(e){this.onClickOpenPerspective(e)},"onClickOpenPerspective":function(e){this.applicationScope.set("id","recentlyaccessed"),this.trigger("open:recentlyaccessed:perspective")}})}),csui.define("hbs!csui/widgets/shortcut/impl/shortcut",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<div class="tile-header">\r\n  <div class="tile-title">\r\n    <h2 class="csui-heading">'+this.escapeExpression((n=null!=(n=t.short_name||(null!=e?e.short_name:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"short_name","hash":{}}):n))+'</h2>\r\n  </div>\r\n</div>\r\n\r\n<div class="tile-icon">\r\n  <div class="icon '+this.escapeExpression((n=null!=(n=t.icon||(null!=e?e.icon:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"icon","hash":{}}):n))+'" title="'+this.escapeExpression((n=null!=(n=t.title||(null!=e?e.title:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"title","hash":{}}):n))+'"></div>\r\n</div>\r\n'}});return i.registerPartial("csui_widgets_shortcut_impl_shortcut",s),s}),csui.define("csui/widgets/shortcut/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/shortcut/impl/nls/root/lang",{"loadingText":"Loading..."}),csui.define("css!csui/widgets/shortcut/impl/shortcut",[],function(){}),csui.define("csui/widgets/shortcut/shortcut.view",["csui/lib/backbone","csui/lib/marionette","csui/behaviors/default.action/default.action.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/behaviors/item.error/item.error.behavior","csui/utils/contexts/factories/node","csui/utils/node.links/node.links","csui/utils/defaultactionitems","csui/utils/commands","hbs!csui/widgets/shortcut/impl/shortcut","i18n!csui/widgets/shortcut/impl/nls/lang","css!csui/widgets/shortcut/impl/shortcut"],function(e,t,i,s,n,o,r,a,l,c,u){"use strict";return t.ItemView.extend({"tagName":"a","attributes":{"href":"#"},"className":function(){return"cs-shortcut tile "+(this.options.data.background||"cs-tile-background-default")},"modelEvents":{"change":"render"},"triggers":{"click":"click:link"},"template":c,"templateHelpers":function(){var e,t,i;return this.model.fetched?(e=this.getName(),t=e.length>38?e.substr(0,38)+"...":e,i=t.indexOf(" "),t.length>=20&&(i<0||i>20)&&(t=t.substr(0,18)+"...")):t=u.loadingText,{"short_name":t,"icon":this.options.data.icon||"icon-folder","title":e}},"behaviors":{"DefaultAction":{"behaviorClass":i},"TabableRegion":{"behaviorClass":s},"ItemError":{"behaviorClass":n}},"events":{"keydown":"onKeyInView"},"currentlyFocusedElement":function(){return this.$el},"onKeyInView":function(e){32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),e.stopPropagation(),this.triggerMethod("click:link"))},"constructor":function(e){e||(e={}),e.data||(e.data={}),e.model||(e.model=e.context.getModel(o,{"attributes":{"id":e.data.id||"volume","type":e.data.type}})),t.ItemView.prototype.constructor.call(this,e),this.model.excludeResources(),this.model.resetFields(),this.model.setFields({"properties":["container","id","name","original_id","type"],"versions.element(0)":["mime_type"]}),this.model.resetExpand(),this.model.setExpand({"properties":["original_id"]}),this.model.resetCommands(),this.model.setCommands(a.getAllCommandSignatures(l))},"onRender":function(){var e=!this.model.fetched||!this.defaultActionController.hasAction(this.model);this.$el[e?"addClass":"removeClass"]("csui-disabled"),this.$el.attr("href",r.getUrl(this.model)||"#")},"getName":function(){return(this.options.data.displayName||"").trim().length>0?this.options.data.displayName:this.model.get("name")||""},"onClickLink":function(){this.triggerMethod("execute:defaultAction",this.model)}})}),csui.define("hbs!csui/widgets/shortcuts/impl/shortcut/impl/small.shortcut",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<div class="csui-details">\r\n    <div class="tile-icon">\r\n        <div class="icon '+this.escapeExpression((n=null!=(n=t.icon||(null!=e?e.icon:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"icon","hash":{}}):n))+'" title="'+this.escapeExpression((n=null!=(n=t.name||(null!=e?e.name:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"name","hash":{}}):n))+'" aria-hidden="true"></div>\r\n    </div>\r\n\r\n    <div class="tile-title">\r\n        <span class="csui-heading" aria-label="'+this.escapeExpression((n=null!=(n=t.shortcutAria||(null!=e?e.shortcutAria:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"shortcutAria","hash":{}}):n))+'">'+this.escapeExpression((n=null!=(n=t.name||(null!=e?e.name:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"name","hash":{}}):n))+"</span>\r\n    </div>\r\n</div>\r\n"}});return i.registerPartial("csui_widgets_shortcuts_impl_shortcut_impl_small.shortcut",s),s}),csui.define("hbs!csui/widgets/shortcuts/impl/shortcut/impl/medium.shortcut",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<div class="csui-details">\r\n    <div class="tile-icon">\r\n        <div class="icon '+this.escapeExpression((n=null!=(n=t.icon||(null!=e?e.icon:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"icon","hash":{}}):n))+'" title="'+this.escapeExpression((n=null!=(n=t.name||(null!=e?e.name:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"name","hash":{}
}):n))+'" aria-hidden="true"></div>\r\n    </div>\r\n\r\n    <div class="tile-title">\r\n        <span class="csui-heading" aria-label="'+this.escapeExpression((n=null!=(n=t.shortcutAria||(null!=e?e.shortcutAria:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"shortcutAria","hash":{}}):n))+'">'+this.escapeExpression((n=null!=(n=t.name||(null!=e?e.name:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"name","hash":{}}):n))+"</span>\r\n    </div>\r\n</div>\r\n"}});return i.registerPartial("csui_widgets_shortcuts_impl_shortcut_impl_medium.shortcut",s),s}),csui.define("hbs!csui/widgets/shortcuts/impl/shortcut/impl/large.shortcut",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<div class="tile-group">\r\n    <div class="tile-icon">\r\n        <div class="icon '+this.escapeExpression((n=null!=(n=t.icon||(null!=e?e.icon:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"icon","hash":{}}):n))+'" title="'+this.escapeExpression((n=null!=(n=t.name||(null!=e?e.name:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"name","hash":{}}):n))+'" aria-hidden="true"></div>\r\n    </div>\r\n    <div class="tile-title">\r\n        <span class="csui-heading" aria-label="'+this.escapeExpression((n=null!=(n=t.shortcutAria||(null!=e?e.shortcutAria:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"shortcutAria","hash":{}}):n))+'">'+this.escapeExpression((n=null!=(n=t.name||(null!=e?e.name:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"name","hash":{}}):n))+"</span>\r\n    </div>\r\n</div>\r\n"}});return i.registerPartial("csui_widgets_shortcuts_impl_shortcut_impl_large.shortcut",s),s}),csui.define("csui/widgets/shortcuts/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/shortcuts/impl/nls/root/lang",{"loadingText":"Loading...","shortcutPrefixAria":"Shortcut to","addShortcut":"Add shortcut","removeShortcut":"Remove shortcut","removeShortcutCnfrmMsg":"Shortcut will be removed from the group.","groupAria":"Shortcut Group"}),csui.define("css!csui/widgets/shortcuts/impl/shortcut/impl/shortcut",[],function(){}),csui.define("css!csui/widgets/shortcuts/impl/shortcut/impl/small.shortcut",[],function(){}),csui.define("css!csui/widgets/shortcuts/impl/shortcut/impl/medium.shortcut",[],function(){}),csui.define("css!csui/widgets/shortcuts/impl/shortcut/impl/large.shortcut",[],function(){}),csui.define("csui/widgets/shortcuts/impl/shortcut/shortcut.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/utils/base","csui/behaviors/default.action/default.action.behavior","csui/behaviors/item.error/item.error.behavior","csui/utils/contexts/factories/node","csui/utils/defaultactionitems","csui/utils/commands","csui/utils/node.links/node.links","hbs!csui/widgets/shortcuts/impl/shortcut/impl/small.shortcut","hbs!csui/widgets/shortcuts/impl/shortcut/impl/medium.shortcut","hbs!csui/widgets/shortcuts/impl/shortcut/impl/large.shortcut","i18n!csui/widgets/shortcuts/impl/nls/lang","css!csui/widgets/shortcuts/impl/shortcut/impl/shortcut","css!csui/widgets/shortcuts/impl/shortcut/impl/small.shortcut","css!csui/widgets/shortcuts/impl/shortcut/impl/medium.shortcut","css!csui/widgets/shortcuts/impl/shortcut/impl/large.shortcut"],function(e,t,i,s,n,o,r,a,l,c,u,d,h,p,m){"use strict";var g=s.ItemView.extend({"constructor":function(n){n||(n={}),n.model=n.model||new i.Model,n.model.set(e.defaults(n.model.attributes,{"icon":g.DEFAULT_ICON,"theme":"csui-shortcut-theme-grey-shade1","layout":"small","id":"","displayName":""})),s.ItemView.prototype.constructor.call(this,n),this.node=this.model.get("node"),this.node||this._ensureNode(),this._ensureNodeFetched(),t(window).on("resize."+this.cid,this._applyEllipsis.bind(this))},"tagName":"a","className":function(){var e=[];return e.push("csui-shortcut-item"),e.push("csui-acc-focusable"),e.push(this.model.get("theme")),e.push("csui-"+this.model.get("layout")),e.join(" ")},"getTemplate":function(){switch(this.model.get("layout")){case"small":return d;case"medium":return h;default:return p}},"templateHelpers":function(){var e=this.getName();return{"icon":this.model.get("icon")||g.DEFAULT_ICON,"name":e,"shortcutAria":m.shortcutPrefixAria+" "+e}},"behaviors":{"DefaultAction":{"behaviorClass":o},"ItemError":{"behaviorClass":r,"model":function(){return this.options.model.get("node")},"errorViewOptions":function(){return{"low":"small"===this.model.get("layout")}}}},"modelEvents":{"change":"render","change:shortcutTheme":"_onThemeChange","change:id":"_ensureNode","change:type":"_ensureNode"},"events":{"click":"onClicked"},"onRender":function(){this._updateElement(),this._updateNodeState()},"_updateElement":function(){this.node&&this.$el.attr("href",u.getUrl(this.node)),this.$el.attr("class",e.result(this,"className"))},"onDomRefresh":function(){this._applyEllipsis()},"_applyEllipsis":function(){var e=this.$el.find(".tile-title");n.applyEllipsis(e,2)},"onDestroy":function(){t(window).off("resize."+this.cid,this._applyEllipsis.bind(this))},"_onThemeChange":function(){this.trigger("change:shortcutTheme")},"onClicked":function(e){e.preventDefault(),this.triggerMethod("execute:defaultAction",this.node)},"getName":function(){return(this.model.get("displayName")||"").trim().length>0?this.model.get("displayName"):this.node.fetched?this.node.get("name"):m.loadingText},"_ensureNode":function(){this.node=this.options.context.getModel(a,{"attributes":{"id":this.options.model.get("id")||"volume","type":this.options.model.get("type")||141}}),g.prepareModelToFetch(this.node),this.model.set("node",this.node,{"silent":!0}),this.trigger("update:model",this.node),this._ensureNodeFetched()},"_ensureNodeFetched":function(){this.listenToOnce(this.node,"change",this.render),this.node.ensureFetched({"suppressError":!0})},"_updateErrorState":function(){this.node.error?this.$el.addClass("csui-failed"):this.$el.removeClass("csui-failed")},"_updateNodeState":function(){this.node.fetched&&this.defaultActionController.hasAction(this.node)?this.$el.removeClass("csui-disabled"):this.$el.addClass("csui-disabled"),this._updateErrorState()}},{"prepareModelToFetch":function(e){e.excludeResources(),e.resetFields(),e.setFields({"properties":["container","id","name","original_id","type","custom_view_search"],"versions.element(0)":["mime_type"]}),e.resetExpand(),e.setExpand({"properties":["original_id"]}),e.resetCommands(),e.setCommands(l.getAllCommandSignatures(c))},"DEFAULT_ICON":"icon-folder"});return g}),csui.define("csui/widgets/shortcuts/impl/nls/shortcuts.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/shortcuts/impl/nls/root/shortcuts.manifest",{"widgetTitle":"Shortcut Group","shortcutWidgetTitle":"Shortcut","widgetDescription":"Tile representing a hyperlink to an object; it navigates to its page when clicked","shortcutItemsTitle":"Shortcut Items","shortcutItemsDescription":"Shortcut Items description","idTitle":"Target object","idDescription":"An object to open by this shortcut","typeTitle":"Volume fallback","typeDescription":"Sub-type number of a global volume to open by this shortcut if no object has been selected","displayNameTitle":"Display name","shortcutThemeTitle":"Theme","shortcutThemeDescription":"Styling of the shortcuts","typeEnterpriseVolume":"Enterprise","typePersonalVolume":"Personal","typeCategoryVolume":"Categories","shortcutThemeStone1":"Stone Group 1","shortcutThemeStone2":"Stone Group 2","shortcutThemeTeal1":"Teal Group 1","shortcutThemeTeal2":"Teal Group 2","shortcutThemePink1":"Pink Group 1","shortcutThemePink2":"Pink Group 2","shortcutThemeIndigo1":"Indigo Group 1","shortcutThemeIndigo2":"Indigo Group 2"}),csui.define("json!csui/widgets/shortcuts/impl/shortcut/shortcut.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{shortcutWidgetTitle}}","description":"{{widgetDescription}}","kind":"tile","schema":{"type":"object","properties":{"shortcutTheme":{"title":"{{shortcutThemeTitle}}","description":"{{shortcutThemeDescription}}","type":"string","enum":["csui-shortcut-theme-stone1","csui-shortcut-theme-stone2","csui-shortcut-theme-teal1","csui-shortcut-theme-teal2","csui-shortcut-theme-pink1","csui-shortcut-theme-pink2","csui-shortcut-theme-indigo1","csui-shortcut-theme-indigo2"]},"id":{"title":"{{idTitle}}","description":"{{idDescription}}","type":"integer"},"type":{"title":"{{typeTitle}}","description":"{{typeDescription}}","type":"integer","enum":[141,142,133]},"displayName":{"title":"{{displayNameTitle}}","type":"string"}}},"options":{"fields":{"shortcutTheme":{"type":"select","optionLabels":["{{shortcutThemeStone1}}","{{shortcutThemeStone2}}","{{shortcutThemeTeal1}}","{{shortcutThemeTeal2}}","{{shortcutThemePink1}}","{{shortcutThemePink2}}","{{shortcutThemeIndigo1}}","{{shortcutThemeIndigo2}}"]},"id":{"type":"otcs_node_picker","type_control":{"parameters":{"select_types":[]}}},"type":{"type":"select","optionLabels":["{{typeEnterpriseVolume}}","{{typePersonalVolume}}","{{typeCategoryVolume}}"]}}}}),csui.define("csui/widgets/shortcuts/impl/shortcut/editable.shortcut.view",["require","csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/widgets/shortcuts/impl/shortcut/shortcut.view","csui/models/widget/widget.model","i18n!csui/widgets/shortcuts/impl/nls/lang","i18n!csui/widgets/shortcuts/impl/nls/shortcuts.manifest","json!csui/widgets/shortcuts/impl/shortcut/shortcut.manifest.json"],function(e,t,i,s,n,o,r,a,l,c){"use strict";return c=r.resolveLocalizedManifest("shortcut.manifest",c,l),o.extend({"constructor":function(e){e||(e={}),e.model=e.model||new s.Model,this._injectConfigurationBehaviour(e),e.container.options.data.___pman_isdropped&&0===e.collection.getShortcuts().length&&e.model.set("___pman_opencallout",!0,{"silent":!0}),o.prototype.constructor.apply(this,arguments),this._registerEventHandlers()},"tagName":"div","modelEvents":t.defaults({"refresh:mask":"onRefreshMask"},t.result(o.prototype,"modelEvents")),"onRefreshMask":function(){var e=this._getDefaultWidgetConfig();this.trigger("refresh:mask",e)},"attachElContent":function(e){return this.$el.find(".csui-configure-perspective-widget .pman-widget-popover").length?(this.$el.children().not(".csui-configure-perspective-widget").remove(),this.$el.prepend(i(e))):this.$el.html(e),!0},"_getDefaultWidgetConfig":function(e){e||(e=this.options);var i={"allowReplace":!1,"notifyUpdatesImmediatly":!0};return e.collection.getShortcuts().length>1&&(i=t.extend(i,{"removeConfirmTitle":a.removeShortcut,"removeConfirmMsg":a.removeShortcutCnfrmMsg,"confirmOnRemove":!1})),i},"_injectConfigurationBehaviour":function(i){var s=this._getDefaultWidgetConfig(i);this.behaviors=t.defaults({"PerspectiveWidgetConfig":t.extend({"behaviorClass":e("csui/perspective.manage/behaviours/pman.widget.config.behaviour"),"widgetConfig":function(){return{"options":i.model.attributes}},"manifest":c},s)},this.behaviors)},"isShortcutValid":function(e){var t=!0;return 0===this.collection.getShortcuts().length&&"edit"===this.options.perspectiveMode&&(t=this.isOptionsValid(e)),t},"validateConfiguration":function(e){var t=this.isShortcutValid(e),i=t?"removeClass":"addClass";return this.$el.find(".tile-group")[i]("binf-hidden"),this.$el[i]("csui-pman-shortcut-error"),t},"isOptionsValid":function(e){return!!e.id||!!e.type},"_updateShortcut":function(e){this.isShortcutValid(e.options)&&this.$el.find(".csui-configure-perspective-widget").removeClass("binf-perspective-has-error")},"_registerEventHandlers":function(){this.listenTo(this,"delete:widget",function(){delete this.options.container.options.data.___pman_opencallout}),this.listenTo(this,"update:widget:options",this._updateShortcut)},"_updateElement":function(){this.$el.attr("class",t.result(this,"className"))},"_ensureNode":function(){this._isNewPlaceholder()?this.node=new s.Model:o.prototype._ensureNode.apply(this,arguments)},"_ensureNodeFetched":function(){this._isNewPlaceholder()||(this.isUpdating=!0,o.prototype._ensureNodeFetched.apply(this,arguments),delete this.isUpdating)},"_updateNodeState":function(){this._isNewPlaceholder()||o.prototype._updateErrorState.apply(this,arguments)},"getName":function(){return this._isNewPlaceholder()?a.addShortcut:o.prototype.getName.apply(this,arguments)},"onRender":function(){o.prototype.onRender.apply(this,arguments),this._isNewPlaceholder()&&this.$el.addClass("csui-pman-shortcut-new"),this.$el.addClass("csui-pman-editable-widget")},"onClicked":function(e){e.preventDefault(),this.$el.find(".pman-widget-popover").has(e.target).length||e.stopPropagation()},"_isNewPlaceholder":function(e){return(e||this.options).model.isAddShortcut()}})}),csui.define("css!csui/widgets/shortcuts/impl/shortcuts",[],function(){}),csui.define("csui/widgets/shortcuts/shortcuts.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/widgets/shortcuts/impl/shortcut/shortcut.view","csui/widgets/shortcuts/impl/shortcut/editable.shortcut.view","csui/utils/contexts/factories/node","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","csui/utils/perspective/perspective.util","i18n!csui/widgets/shortcuts/impl/nls/lang","css!csui/widgets/shortcuts/impl/shortcuts"],function(e,t,i,s,n,o,r,a,l,c,u){"use strict";var d=["shade1","shade2","shade3","shade4"],h=i.Model.extend({"idAttribute":"shortcutItemId","isAddShortcut":function(){return!0===this.get("isAddNew")}}),p=i.Collection.extend({"constructor":function(t,s){s||(s={}),e.defaults(s,{"model":h,"comparator":function(e,t){return t.get("isAddNew")?-1:0}}),this.options=s,i.Collection.prototype.constructor.call(this,t,s)},"getShortcuts":function(){return this.filter(function(e){return!e.isAddShortcut()})},"evaluateAddNewExistence":function(){var e=this.options[c.KEY_WIDGET_ID];if(this.options.perspectiveMode!==c.MODE_PERSONALIZE||!e||c.isPersonalWidgetId(e)){var t=this.where(function(e){return e.isAddShortcut()});return this.length<4&&0===t.length?(this.add({"id":"","isAddNew":!0,"icon":"icon-new","displayName":""}),!0):this.length>4&&t.length>0&&(this.remove(t),!0)}}}),m=s.CollectionView.extend({"constructor":function(t){t||(t={}),t.data||(t.data={}),t=e.defaults(t,{"reorderOnSort":!0,"widgetContainer":this}),t.data=this._normalizeData(t.data),t.collection=t.collection||new p([],e.pick(t,"perspectiveMode",c.KEY_WIDGET_ID)),s.CollectionView.prototype.constructor.call(this,t)},"tagName":"div","className":"csui-shortcut-container tile csui-shortcut-group-container","attributes":{"role":"navigation","aria-label":u.groupAria},"regions":{"shortcut0":".shortcut-region-0","shortcut1":".shortcut-region-1","shortcut2":".shortcut-region-2","shortcut3":".shortcut-region-3"},"behaviors":{"TabableRegion":{"behaviorClass":n}},"events":function(){var t={"keydown":"onKeyInView"};return this._isInlineEditMode()&&(t=e.extend(t,{"drop":"onDrop","dragover":"onDragOver","dragenter":"onDragEnter"})),t},"childView":o,"childEvents":{"change:shortcutTheme":"_onChangeTheme","add:shortcut":"_onAddShortcut","delete:widget":"_onRemoveShortcut","update:widget:options":"_updateShortcutOptions"},"childViewOptions":function(e,t){return{"context":this.options.context,"collection":this.options.collection,"container":this,"perspectiveMode":this.options.perspectiveMode}},"buildChildView":function(e,t,i){return t=this._isInlineEditMode()?r:o,s.CollectionView.prototype.buildChildView.call(this,e,t,i)},"_normalizeData":function(e){return e||(e={"shortcutItems":[]}),e.shortcutTheme||(e.shortcutTheme=""),e},"initialize":function(){this.listenTo(this.collection,"add",this._onCollectionChange).listenTo(this.collection,"remove",this._onCollectionChange).listenTo(this.collection,"reset",this._onCollectionChange),this._isInlineEditMode()&&this.listenTo(this.collection,"add",this._onCollectionInlineAdd).listenTo(this.collection,"remove",this._onCollectionInlineRemove);var t=e.map(e.first(this.options.data.shortcutItems||[],4),e.clone);this._fetchModels(t).always(e.bind(function(){this._setupCollection(t)},this)),this._currentShortcutIndex=0,this.listenTo(this,"add:child",this.propagateEventsToViews)},"_fetchModels":function(i){var s=this,n=e.map(i,function(e){e.id=e.id||e.launchButtonID;var t=s.options.context.getModel(a,{"attributes":{"id":e.id||e.launchButtonID||"volume","type":e.type}});return o.prepareModelToFetch(t),t}),r=e.map(n,function(e){return e.fetch({"suppressError":!0})}),l=t.whenAll.apply(t,r);return l.always(function(){e.each(i,function(e,t){e.node=n[t]})}),l},"_setupCollection":function(t){if(!this._isInlineEditMode()){var i=e.filter(t,function(e){return!e.node.error});t=i.length>0?i:e.first(t,1)}t=t||[],this.collection.reset(t)},"_isInlineEditMode":function(){return!!this.options.perspectiveMode},"_onCollectionChange":function(){this._isInlineEditMode()&&this.collection.evaluateAddNewExistence(),this._updateShortcutStyles()},"_onCollectionInlineAdd":function(){this.collection.each(function(e){e.trigger("refresh:mask")})},"_onCollectionInlineRemove":function(){this.collection.each(function(e){e.trigger("refresh:mask")})},"_getLayout":function(e){var t="small";return 1===e?t="large":2===e&&(t="medium"),t},"_getShortcutTheme":function(e,t){var i=this.options.data.shortcutTheme?this.options.data.shortcutTheme:"csui-shortcut-theme-grey";return t>1&&(e+=4-t,i+="-"+d[e]),i},"_updateShortcutOptions":function(e,t){var i=e.model;if(i.get("isAddNew")){if(t.softUpdate)return;if(!t.isValid||!e.isOptionsValid(t.options))return void("edit"===this.options.perspectiveMode&&this._notifyOptionsChange(!e.isShortcutValid(t.options)));i.set({"isAddNew":void 0,"displayName":void 0,"icon":void 0},{"silent":!0,"unset":!0})}e.isUpdating=!0,i.set(t.options),this._notifyOptionsChange();var s=this.collection.evaluateAddNewExistence();delete e.isUpdating,s||(this._updateShortcutStyles(),e.model.trigger("refresh:mask"))},"_onRemoveShortcut":function(e){this.collection.remove(e.model),0===this.collection.getShortcuts().length?this.options.widgetContainer.trigger("remove:widget"):this._notifyOptionsChange()},"_notifyOptionsChange":function(e){var t=this.collection.getShortcuts().map(function(e){return{"id":e.get("id"),"type":e.get("type"),"displayName":e.get("displayName")}});this.options.widgetContainer.trigger("update:widget:options",{"shortcutTheme":this.collection.first().get("shortcutTheme"),"shortcutItems":t,"isValid":!e})},"_onChangeTheme":function(e){this.options.data.shortcutTheme=e.model.get("shortcutTheme"),this._updateShortcutStyles()},"_onAddShortcut":function(e,t){this.collection.add({"id":"","icon":"","displayName":"","type":141,"shortcutTheme":this.options.data.shortcutTheme},{"at":this.collection.length-1}),this.collection.sort(),this._notifyOptionsChange()},"_updateShortcutStyles":function(){var e=this.options.data.shortcutTheme,t=this._getLayout(this.collection.length);this.collection.each(function(i,s){var n=this._isInlineEditMode()?this.collection.getShortcuts().length:this.collection.length,o=this._getShortcutTheme(s,n);i.set({"layout":t,"theme":o,"shortcutTheme":e})},this)},"onDrop":function(e){this.options.widgetContainer.trigger("replace:widget",e)},"onDragOver":function(e){e.preventDefault()},"onDragEnter":function(e){e.preventDefault()},"currentlyFocusedElement":function(){var e=this.children.findByIndex(this._currentShortcutIndex);return e&&e.$el},"onKeyInView":function(e){this._isInlineEditMode()||(38===e.keyCode?this._selectPreviousShortcut():40===e.keyCode?this._selectNextShortcut():32!==e.keyCode&&13!==e.keyCode||this.currentlyFocusedElement().trigger("click"))},"_selectNextShortcut":function(){var e=Math.min(this._currentShortcutIndex+1,this.collection.length-1);this._selectShortcut(e)},"_selectPreviousShortcut":function(){var e=Math.max(this._currentShortcutIndex-1,0);this._selectShortcut(e)},"_selectShortcut":function(e){e!==this._currentShortcutIndex&&(this._currentShortcutIndex=e,this.trigger("changed:focus",this),this.currentlyFocusedElement().trigger("focus"))}},{"migrateSingleShortcut":function(e){var t;switch(e.background){case"cs-tile-background1":t="csui-shortcut-theme-stone1";break;case"cs-tile-background2":t="csui-shortcut-theme-teal2";break;case"cs-tile-background3":t="csui-shortcut-theme-pink1"}return{"shortcutItems":[e],"shortcutTheme":t}},"migrateData":function(e,t){switch(e){case"shortcut":case"csui/widgets/shortcut":return m.migrateSingleShortcut(t);default:return t}}});return e.extend(m.prototype,l),m}),csui.define("csui/widgets/welcome.placeholder/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/welcome.placeholder/impl/nls/root/lang",{"greetingWithName":"Hello {0}","greetingWithoutName":"Hello","greetingMorning":"Good morning, {0}!","greetingAfternoon":"Good afternoon, {0}!","greetingEvening":"Good evening, {0}!","videoLabel":"Smart UI introduction video","videoSrc":"//sunnyside.vidavee.com/opentext/rest/file/GetFileAsset/EBC85A92D0C5DE3A272CC1C165E85A78/introVideo_2020.mp4","videoPoster":"//sunnyside.vidavee.com/opentext/rest/file/GetFileThumbnail/EBC85A92D0C5DE3A272CC1C165E85A78/thumbnail.jpg","message":"As a foundational technology in the Digital Workplace, OpenText Content Suite will pave the way to personal productivity, seamless collaboration, and integration with business processes."}),csui.define("hbs!csui/widgets/welcome.placeholder/impl/welcome.video/welcome.video",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'\r\n  <div class="binf-modal-dialog">\r\n    <div class="binf-modal-content csui-video">\r\n      <video  preload="none"\r\n             poster="'+this.escapeExpression((n=null!=(n=t.videoPoster||(null!=e?e.videoPoster:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"videoPoster","hash":{}}):n))+'"\r\n             controls="controls">\r\n        <source\r\n          src="'+this.escapeExpression((n=null!=(n=t.videoSrc||(null!=e?e.videoSrc:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"videoSrc","hash":{}}):n))+'"\r\n          type="video/mp4">\r\n        </source>\r\n      </video>\r\n\r\n    </div>\r\n  </div>\r\n'}});return i.registerPartial("csui_widgets_welcome.placeholder_impl_welcome.video_welcome.video",s),s}),csui.define("css!csui/widgets/welcome.placeholder/impl/welcome.video/welcome.video",[],function(){}),csui.define("csui/widgets/welcome.placeholder/impl/welcome.video/welcome.video.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/utils/base","csui/utils/url","csui/utils/contexts/factories/node","i18n!csui/widgets/welcome.placeholder/impl/nls/lang","csui/behaviors/keyboard.navigation/tabables.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","hbs!csui/widgets/welcome.placeholder/impl/welcome.video/welcome.video","css!csui/widgets/welcome.placeholder/impl/welcome.video/welcome.video","csui/lib/binf/js/binf"],function(e,t,i,s,n,o,r,a,l,c){return i.ItemView.extend({"_dataDefaults":{"videoSrc":r.videoSrc,"videoPoster":r.videoPoster},"className":"cs-dialog welcome-video binf-modal binf-fade","template":c,"events":{"hide.binf.modal":"onDestroy","hidden.binf.modal":"onDestroy","keydown video":"onKeyDown","shown.binf.modal":"onShown"},"templateHelpers":function(){var e=this.options.data;return{"videoSrc":e.videoSrc,"videoPoster":e.videoPoster}},"behaviors":{"TabablesBehavior":{"behaviorClass":a,"recursiveNavigation":!0,"containTabFocus":!0},"TabableRegion":{"behaviorClass":l}},"currentlyFocusedElement":function(){return this.$el},"constructor":function(t){t||(t={}),t.data||(t.data={}),e.each(this._dataDefaults,function(e,i){t.data[i]||(t.data[i]=e)}),i.ItemView.prototype.constructor.apply(this,arguments),this.connection=t.context.getModel(o).connector.connection},"onKeyDown":function(e){27===e.keyCode&&this.destroy()},"onDestroy":function(){a.popTabableHandler(),this.$el.remove()},"show":function(){this.render(),s.isAppleMobile()&&this.$el.addClass("mobile"),this.$el.binf_modal("show")},"onShown":function(){this.$("video").trigger("focus")}})}),csui.define("hbs!csui/widgets/welcome.placeholder/impl/welcome.placeholder",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"1":function(e,t,i,s){var n;return'    <button class="csui-videoButton" aria-label="'+this.escapeExpression((n=null!=(n=t.videoLabel||(null!=e?e.videoLabel:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"videoLabel","hash":{}}):n))+'"></button>\r\n'},"3":function(e,t,i,s){var n;return'    <div class="csui-message">\r\n      <p title="'+this.escapeExpression((n=null!=(n=t.message||(null!=e?e.message:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"message","hash":{}}):n))+'">'+this.escapeExpression((n=null!=(n=t.message||(null!=e?e.message:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"message","hash":{}}):n))+"</p>\r\n    </div>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n,o;return'\r\n<div class="csui-hero-tile">\r\n  <div class="csui-hero-left">\r\n    <div class="csui-greeting">'+this.escapeExpression((o=null!=(o=t.greeting||(null!=e?e.greeting:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"greeting","hash":{}}):o))+'</div>\r\n    <span class="csui-date">'+this.escapeExpression((o=null!=(o=t.date||(null!=e?e.date:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"date","hash":{}}):o))+'</span>\r\n  </div>\r\n    <div class="csui-hero-right">\r\n'+(null!=(n=t.if.call(e,null!=e?e.includeVideo:e,{"name":"if","hash":{},"fn":this.program(1,s,0),"inverse":this.noop}))?n:"")+(null!=(n=t.if.call(e,null!=e?e.includeMessage:e,{"name":"if","hash":{},"fn":this.program(3,s,0),"inverse":this.noop}))?n:"")+"  </div>\r\n\r\n</div>"}});return i.registerPartial("csui_widgets_welcome.placeholder_impl_welcome.placeholder",s),s}),csui.define("css!csui/widgets/welcome.placeholder/impl/welcome.placeholder",[],function(){}),csui.define("csui/widgets/welcome.placeholder/welcome.placeholder.view",["csui/lib/jquery","csui/lib/underscore","csui/lib/marionette","csui/utils/base","csui/utils/contexts/factories/user","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/widgets/welcome.placeholder/impl/welcome.video/welcome.video.view","i18n!csui/widgets/welcome.placeholder/impl/nls/lang","hbs!csui/widgets/welcome.placeholder/impl/welcome.placeholder","css!csui/widgets/welcome.placeholder/impl/welcome.placeholder"],function(e,t,i,s,n,o,r,a,l){return i.ItemView.extend({"_dataDefaults":{"includeMessage":!0,"includeVideo":!0,"message":a.message},"className":"tile hero","template":l,"ui":{"welcomeMessageContainer":"> .csui-hero-tile .csui-message","welcomeMessage":"> .csui-hero-tile .csui-message > p"},"behaviors":{"TabableRegion":{"behaviorClass":o}},"triggers":{"click .csui-hero-tile":"show:video"},"templateHelpers":function(){var e=this.options.data,i=this.user.get("first_name"),s=new Date,n=s.getHours(),o=n<12?a.greetingMorning:n<18?a.greetingAfternoon:a.greetingEvening;return o=i?t.str.sformat(o,i):o.replace(/, |\{0\}/g,""),{"videoSrc":e.videoSrc,"videoPoster":e.videoPoster,"includeMessage":e.includeMessage,"includeVideo":e.includeVideo,"greeting":o,"message":e.message,"videoLabel":a.videoLabel,"date":s.toLocaleString(void 0,{"year":"numeric","month":"long","day":"numeric"})}},"events":{"keydown":"onKeyInView"},"currentlyFocusedElement":function(){return this.$el},"onKeyInView":function(e){32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),e.stopPropagation(),this.triggerMethod("show:video"))},"constructor":function(s){s||(s={}),s.data||(s.data={}),t.each(this._dataDefaults,function(e,t){var i=s.data[t];null!=i&&""!==i||(s.data[t]=e)}),i.ItemView.call(this,s),this.user=s.context.getModel(n),this.listenTo(this.user,"change",this._displayUsername),e(window).on("resize.app",this.render),this.listenTo(this,"dom:refresh",this._setTextEllipse)},"onRender":function(){var e=this.templateHelpers();e.includeVideo&&this.$el.attr("aria-label",e.greeting+" "+e.videoLabel)},"onDestroy":function(){e(window).off("resize.app",this.render)},"onShowVideo":function(){new r(this.options).show()},"_setTextEllipse":function(){var e=this.ui.welcomeMessage,t=this.ui.welcomeMessageContainer.height();if(parseInt(e.css("line-height"),10)+2<t){for(;e.outerHeight()>t;){var i=e.text(),s=i.replace(/\W*\s(\S)*$/,"...");if(!(s.length<i.length))break;e.text(s)}this.ui.welcomeMessageContainer.removeClass("binf-hidden")}else this.ui.welcomeMessageContainer.addClass("binf-hidden")}})}),csui.define("hbs!csui/widgets/html.editor/impl/cslink.preview/cslink.preview",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"1":function(e,t,i,s){return'      <div id="cs-link-content" class="cs-link-content"></div>\r\n'},"3":function(e,t,i,s){var n,o;return'      <div id="cs-link-image" class="cs-link-image">'+(null!=(o=null!=(o=t.LinkPreviewImage||(null!=e?e.LinkPreviewImage:e))?o:t.helperMissing,n="function"==typeof o?o.call(e,{"name":"LinkPreviewImage","hash":{}}):o)?n:"")+"</div>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n,o;return'<div id="cs-link" class="cs-link">\r\n  <div class="cs-link-popoverhead">\r\n    <div id="cs-link-heading" class="cs-link-heading">'+this.escapeExpression((o=null!=(o=t.LinkHeading||(null!=e?e.LinkHeading:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"LinkHeading","hash":{}}):o))+'</div>\r\n    <div id="cs-link-expand" class="cs-link-expand cs-link-expand-icon"></div>\r\n  </div>\r\n  <div class="cs-link-preview-content">\r\n'+(null!=(n=t.if.call(e,null!=e?e.isPreviewContent:e,{"name":"if","hash":{},"fn":this.program(1,s,0),"inverse":this.noop}))?n:"")+(null!=(n=t.if.call(e,null!=e?e.isLinkPreviewImage:e,{"name":"if","hash":{},"fn":this.program(3,s,0),"inverse":this.noop}))?n:"")+"  </div>\r\n</div>"}});return i.registerPartial("csui_widgets_html.editor_impl_cslink.preview_cslink.preview",s),s}),csui.define("css!csui/widgets/html.editor/impl/cslink.preview/cslink.preview",[],function(){}),csui.define("csui/widgets/html.editor/impl/cslink.preview/cslink.preview.view",["csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/behaviors/default.action/default.action.behavior","csui/controls/rich.text.editor/impl/rich.text.util","csui/models/node/node.model","csui/utils/commands","csui/utils/url","hbs!csui/widgets/html.editor/impl/cslink.preview/cslink.preview","i18n!csui/widgets/html.editor/impl/nls/lang","css!csui/widgets/html.editor/impl/cslink.preview/cslink.preview"],function(e,t,i,s,n,o,r,a,l,c,u){return s.ItemView.extend({"template":c,"className":"cs-link","behaviors":{"DefaultAction":{"behaviorClass":n}},"subTypeName":"wiki","constructor":function(e){e||(e={}),s.ItemView.prototype.constructor.call(this,e),this.options=e,this.subTypeName=e.subTypeName||this.subTypeName,this.modelFetched=!1,this.linkPreviewContent=null,this.linkPreviewImage=null;var t=this;this._obtainId().done(function(){t._executeProcess()})},"_obtainId":function(){this.id=this.options.objId||-1;var t=this.options.targetEle,i=t.href||t.closest("a").href,s=i.match(/^.*\/open\/(.+)$/i)||i.match(/^.*\/nodes\/(.+)$/i),n=e.Deferred(),r=this,a=!0;if(this.options.isSameDomain&&s)if(isNaN(parseInt(s[1]))){a=!1;var l,c=this.options.targetEle.href&&this.options.targetEle.href.substring(this.options.targetEle.href.lastIndexOf("/")+1,this.options.targetEle.href.length);o._getNicknameId(r.options,c).done(function(e){l=o.getNewNodeModel({},{"connector":r.options.connector}),l.attributes=l.parse(e),l=o.getNewNodeModel({"attributes":l.attributes},{"connector":r.options.connector}),r.model=l,r.id=r.model.get("id"),n.resolve()}).fail(function(){e(r.options.targetEle).attr("title",u.cannotFindObject)})}else this.id=s[1];return a&&n.resolve(),n.promise()},"_executeProcess":function(){
-1!==this.id?(this.model=new r({"id":this.id},{"connector":this.options.connector,"commands":a.getAllSignatures(),"fields":this.options.fields||{},"expand":this.options.expand||{}}),this.model.fetch().fail(t.bind(function(){e(this.options.targetEle).attr("title",u.cannotFindObject)},this)),this.listenTo(this.model,"sync",function(i){this.linkHeading=this.model.attributes.name;var s=this;this._getContent().done(function(i){5574===s.model.get("type")?s._callbackExecuteProcess(i):e(s.options.targetEle).attr("title",t.str.sformat(u.goToTooltip,s.model.get("name")))})})):e(this.options.targetEle).attr("title",u.previewUnavailable)},"_getContent":function(){var t=e.Deferred(),i=this.options.connector,s={"url":this._getUrl(),"type":"GET"};return i.makeAjaxCall(s).done(function(e){t.resolve(e)}).fail(function(e){t.reject(e)}),t.promise()},"_getUrl":function(){return l.combine(this.options.connector.getConnectionUrl().getApiBase("v2"),"/"+this.subTypeName+"/"+this.id+"/previewcontent")},"_callbackExecuteProcess":function(i){this.modelFetched=!0,this.linkPreviewImage=i.results.data.firstImage,this.linkPreviewContent=i.results.data.previewContent;var s=e("<div>"+this.linkPreviewContent+"</div>").find("*").text().trim();this.isEmptyContent=""===s||s===u.pageDefaultContent,this.isDestroyed||(e(this.options.targetEle).attr({"title":"","data-binf-original-title":""}),null!==this.linkPreviewContent&&!this.isEmptyContent||null!==this.linkPreviewImage?(this.render(),e(this.options.targetEle).binf_popover("show"),null===this.linkPreviewContent||this.isEmptyContent?e(".cs-link-preview-content").addClass("cs-link-image-only"):e(".cs-link-content").html(this.linkPreviewContent),this.eventHandlers()):e(this.options.targetEle).attr("title",t.str.sformat(u.goToTooltip,this.model.get("name"))))},"onDestroy":function(){this.hidePopover()},"eventHandlers":function(){var t=this;e(".cs-link-popover").on("mouseleave",function(i){e("#"+i.target.id).attr("aria-describedby")!==e(t.options.targetEle).attr("aria-describedby")&&t.hidePopover()}),e(".cs-link-expand").on("click",function(e){t.expandLinkView()})},"hidePopover":function(){e(this.options.targetEle).binf_popover("hide"),e(this.options.targetEle).binf_popover("destroy")},"expandLinkView":function(){this.triggerMethod("execute:defaultAction",this.model)},"onRender":function(){var t=this;if(this.modelFetched){var i=this.options.targetEle,s={"LinkHeading":this.linkHeading,"isLinkPreviewImage":null!==this.linkPreviewImage,"LinkPreviewImage":this.linkPreviewImage,"isPreviewContent":!this.isEmptyContent,"linkPreviewContent":this.linkPreviewContent},n=this.template(s);e(i).binf_popover({"html":!0,"trigger":"manual","content":n,"container":e.fn.binf_modal.getDefaultContainer(),"placement":function(s){e(s).addClass("cs-link-popover");var n=e("<div/>").attr("style","display:none").addClass("cs-link-popover binf-popover cs-link-popover-temp-div").append(c);e(i).append(n),(null===t.linkPreviewImage||null===t.linkPreviewContent||t.isEmptyContent)&&e(s).addClass("cs-link-preview-width");var o=e(".cs-link-popover-temp-div").height()+40,r=e(".cs-link-popover-temp-div").width()+40;n.remove();var a=e(i),l=a.offset(),u=l.left,d=l.top,h=e(window).width()-(u+a.outerWidth());return e(window).height()-(d+a.outerHeight(!0))>o?(t.popoverPosition="bottom","bottom"):d>o?(t.popoverPosition="top","top"):h>r?(t.popoverPosition="right","right"):u>r?(t.popoverPosition="left","left"):(t.popoverPosition="auto","auto")}})}e("*").one("scroll",function(){t.destroy()}),e(this.options.targetEle).one("remove",function(){t.destroy()}),e(this.options.targetEle).off("mouseleave").on("mouseleave",function(i){setTimeout(function(){0===e(".cs-link-popover:hover").length&&t.destroy()},10)})}})}),csui.define("csui/widgets/html.editor/impl/html.editor.model",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/utils/url","csui/models/node/node.model"],function(e,t,i,s,n){"use strict";var o=n.extend({"constructor":function(e){this.options=e||(e={}),i.Model.prototype.constructor.call(this,e),this.makeConnectable(e).makeFetchable(e)}});return e.extend(o.prototype,{"isFetchable":function(){return!!this.options},"url":function(){return s.combine(this.options.connector.connection.url,"nodes/"+this.options.id+"/content")},"parse":function(e){return{"data":e,"oldData":e}}}),o}),csui.define("hbs!csui/widgets/html.editor/impl/html.editor",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n,o;return"<div class='csui-richtext-message-wrapper'>\r\n  <div id=\"csui-richtext-content-body-"+this.escapeExpression((o=null!=(o=t.id||(null!=e?e.id:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"id","hash":{}}):o))+'" class="csui-richtext-message"\r\n       contentEditable="false" data-placeholder = "'+this.escapeExpression((o=null!=(o=t.placeholder||(null!=e?e.placeholder:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"placeholder","hash":{}}):o))+'">\r\n    '+(null!=(o=null!=(o=t.data||(null!=e?e.data:e))?o:t.helperMissing,n="function"==typeof o?o.call(e,{"name":"data","hash":{}}):o)?n:"")+"\r\n  </div>\r\n</div>\r\n"}});return i.registerPartial("csui_widgets_html.editor_impl_html.editor",s),s}),csui.define("hbs!csui/widgets/html.editor/impl/dropdown.menu/dropdown.menu",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"1":function(e,t,i,s){var n,o;return'  <div class="binf-dropdown">\r\n    <a tabindex="-1" title="'+this.escapeExpression((o=null!=(o=t.tooltip||(null!=e?e.tooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"tooltip","hash":{}}):o))+'" class="binf-dropdown-toggle csui-html-editor-control"\r\n       href="#" data-binf-toggle="dropdown" role="button" aria-label="'+this.escapeExpression((o=null!=(o=t.moreActionsAria||(null!=e?e.moreActionsAria:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"moreActionsAria","hash":{}}):o))+'"\r\n       aria-expanded="false">\r\n      <span class="csui-icon '+(null!=(n=t.if.call(e,null!=e?e.reserved:e,{"name":"if","hash":{},"fn":this.program(2,s,0),"inverse":this.noop}))?n:"")+" "+this.escapeExpression((o=null!=(o=t.iconClass||(null!=e?e.iconClass:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"iconClass","hash":{}}):o))+'">\r\n      </span>\r\n    </a>\r\n    <ul class="binf-dropdown-menu" role="menu"></ul>\r\n  </div>\r\n'},"2":function(e,t,i,s){return" csui-html-editor-reserved-icon "},"4":function(e,t,i,s){var n;return null!=(n=t.if.call(e,null!=e?e.reserved:e,{"name":"if","hash":{},"fn":this.program(5,s,0),"inverse":this.noop}))?n:""},"5":function(e,t,i,s){var n;return'    <span class="csui-icon csui-html-editor-reserved-readonly '+this.escapeExpression((n=null!=(n=t.iconClass||(null!=e?e.iconClass:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"iconClass","hash":{}}):n))+'" title="'+this.escapeExpression((n=null!=(n=t.tooltip||(null!=e?e.tooltip:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"tooltip","hash":{}}):n))+'">\r\n    </span>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return null!=(n=t.if.call(e,null!=e?e.haveEditPermission:e,{"name":"if","hash":{},"fn":this.program(1,s,0),"inverse":this.program(4,s,0)}))?n:""}});return i.registerPartial("csui_widgets_html.editor_impl_dropdown.menu_dropdown.menu",s),s}),csui.define("hbs!csui/widgets/html.editor/impl/dropdown.menu/dropdown.option",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<a tabindex="-1" title="'+this.escapeExpression((n=null!=(n=t.actionName||(null!=e?e.actionName:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"actionName","hash":{}}):n))+'">\r\n  '+this.escapeExpression((n=null!=(n=t.actionName||(null!=e?e.actionName:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"actionName","hash":{}}):n))+"\r\n</a>"}});return i.registerPartial("csui_widgets_html.editor_impl_dropdown.menu_dropdown.option",s),s}),csui.define("csui/widgets/html.editor/impl/dropdown.menu/dropdown.menu.view",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/models/nodes","csui/utils/commands","csui/utils/contexts/factories/member","csui/utils/base","i18n!csui/widgets/html.editor/impl/nls/lang","hbs!csui/widgets/html.editor/impl/dropdown.menu/dropdown.menu","hbs!csui/widgets/html.editor/impl/dropdown.menu/dropdown.option"],function(e,t,i,s,n,o,r,a,l,c,u,d){"use strict";var h=n.ItemView.extend({"tagName":"li","template":d,"events":{"click a":"_executeAction","keyup a":"onKeyUp"},"templateHelpers":function(){return{"actionName":c[this.model.get("signature")||this.model.get("name")]}},"constructor":function(e){n.ItemView.prototype.constructor.apply(this,arguments)},"_executeAction":function(){if(this.options.openForEdit)this.options.openForEdit();else{var e=this.options.command.execute(this.options.status);e.always(t.bind(function(){this.trigger("csui.command.executed",e)},this))}},"onKeyUp":function(e){-1!==[13,32].indexOf(e.keyCode)&&this._executeAction()}});return n.CompositeView.extend({"className":"csui-html-editor-dropdown","template":u,"childView":h,"childViewContainer":"ul.binf-dropdown-menu","childEvents":{"csui.command.executed":"afterCommandExecution"},"ui":{"dropdownMenu":".binf-dropdown-menu"},"childViewOptions":function(e){var t=e.get("openForEdit")?"HTMLEdit":e.get("signature"),i={"status":this.status,"node":this.options.node};return"HTMLEdit"===t?i.openForEdit=this.options.openForEdit:("properties"===t?t="Properties":-1!==["reserve","unreserve"].indexOf(t)&&(t="unreserve"===t?"Unreserve":"Reserve",t+="Doc"),i.command=r.get(t)),i},"templateHelpers":function(){var e={"haveEditPermission":this.haveEditPermissions,"tooltip":c.more,"iconClass":"icon-html-edit-toolbar-more","reserved":this.node.get("reserved"),"moreActionsAria":t.str.sformat(c.moreActionsAria,this.parentView.options.title?this.parentView.options.title:"")};if(e.reserved){var i=this.node.get("reserved_user_id")===this.user.get("id");i||(e.tooltip=t.str.sformat(c.reservedBy,this.node.get("reserved_user_id"),l.formatExactDate(this.node.get("reserved_date")))),e.iconClass=i?"icon-html-editor-reserved-owned":"icon-html-editor-reserved_other"}return e},"constructor":function(e){this.parentView=e.parentView,this.node=e.node,this.user=e.user,this.haveEditPermissions=!(!e.node.actions.get("reserve")&&!e.node.actions.get("unreserve")),e.collection=this.buildCollection(),n.CompositeView.prototype.constructor.apply(this,arguments),this.listenTo(this.options.node,"change",this.updateActionCollection),this.status={"context":this.options.context,"container":this.options.node,"nodes":new o([this.options.node])},this.node.get("reserved")&&this.node.get("reserved_user_id")!==this.user.get("id")&&(this.reservedByUserModel=this.options.context.getModel(a,{"attributes":{"id":this.node.get("reserved_user_id")}}))},"buildCollection":function(){var e=new s.Collection;if(this.haveEditPermissions){this.node.get("reserved")&&this.node.get("reserved_user_id")!==this.user.get("id")||e.add(new s.Model({"openForEdit":!0,"name":"Edit"}));var t=this;["properties","permissions","unreserve"].map(function(i){(i=t.node.actions.get(i))&&e.add(i)})}return e},"updateActionCollection":function(){this.haveEditPermissions=!(!this.options.node.actions.get("reserve")&&!this.options.node.actions.get("unreserve")),this.collection=this.buildCollection(),this.render()},"afterCommandExecution":function(e,i){i.fail(t.bind(function(){"Unreserve"===e.model.get("name")&&this.node.fetch()},this))},"adjustDropdownMenu":function(){if("rtl"===document.dir)return!1;this.ui.dropdownMenu.removeClass("csui-html-editor-floating-dd-menu"),this.ui.dropdownMenu.offset().left+2*this.ui.dropdownMenu.outerWidth()<=document.body.scrollWidth&&this.ui.dropdownMenu.addClass("csui-html-editor-floating-dd-menu")},"onRender":function(){var e=this.$el.find(".binf-dropdown");e.on("binf.dropdown.before.show",t.bind(function(){e.on("binf.dropdown.after.show",this.adjustDropdownMenu.bind(this)),i(window).on("resize.html.editor.dropdown.menu",this.adjustDropdownMenu.bind(this))},this)),e.on("hide.binf.dropdown",t.bind(function(){e.off("binf.dropdown.after.show"),i(window).off("resize.html.editor.dropdown.menu")})),this.reservedByUserModel&&!this.reservedByUserModel.fetched&&this.reservedByUserModel.fetch().done(t.bind(function(e){this.$el.find(".binf-dropdown-toggle.csui-html-editor-control, .csui-html-editor-reserved-readonly").attr("title",t.str.sformat(c.reservedBy,e.data.display_name,l.formatExactDate(this.node.get("reserved_date"))))},this))}})}),csui.define("hbs!csui/widgets/html.editor/impl/edit.icon",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<span class="csui-rich-text-edit-icon-wrapper csui-rich-text-edit-icon-wrapper-'+this.escapeExpression((n=null!=(n=t.id||(null!=e?e.id:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"id","hash":{}}):n))+'">\r\n  <span title="'+this.escapeExpression((n=null!=(n=t.editLable||(null!=e?e.editLable:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"editLable","hash":{}}):n))+'" class="icon icon-edit icon-edit-'+this.escapeExpression((n=null!=(n=t.id||(null!=e?e.id:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"id","hash":{}}):n))+'"></span>\r\n</span>'}});return i.registerPartial("csui_widgets_html.editor_impl_edit.icon",s),s}),csui.define("hbs!csui/widgets/html.editor/impl/html.editor.action.buttons",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<div class="csui-html-editor-action-buttons">\r\n  <button type="button" title="'+this.escapeExpression((n=null!=(n=t.saveLabel||(null!=e?e.saveLabel:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"saveLabel","hash":{}}):n))+'" role="button" data-cstabindex="-1" tabindex="-1"\r\n          aria-label="'+this.escapeExpression((n=null!=(n=t.saveAria||(null!=e?e.saveAria:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"saveAria","hash":{}}):n))+'"\r\n          class="icon circular csui-html-edit-icon csui-html-edit-save"></button>\r\n  <button type="button" title="'+this.escapeExpression((n=null!=(n=t.cancelLabel||(null!=e?e.cancelLabel:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"cancelLabel","hash":{}}):n))+'" role="button" data-cstabindex="-1" tabindex="-1"\r\n          aria-label="'+this.escapeExpression((n=null!=(n=t.cancelAria||(null!=e?e.cancelAria:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"cancelAria","hash":{}}):n))+'"\r\n          class="icon circular csui-html-edit-icon csui-html-edit-cancel"></button>\r\n</div>\r\n</div>'}});return i.registerPartial("csui_widgets_html.editor_impl_html.editor.action.buttons",s),s}),csui.define("csui/widgets/html.editor/impl/html.editor.content.view",["csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/contexts/factories/connector","csui/utils/url","csui/utils/base","csui/models/node/node.model","csui/utils/contexts/factories/user","csui/widgets/html.editor/impl/html.editor.model","hbs!csui/widgets/html.editor/impl/html.editor","csui/dialogs/modal.alert/modal.alert","csui/controls/progressblocker/blocker","csui/controls/error/error.view","csui/widgets/html.editor/impl/cslink.preview/cslink.preview.view","csui/controls/rich.text.editor/rich.text.editor","csui/widgets/html.editor/impl/dropdown.menu/dropdown.menu.view","csui/controls/globalmessage/globalmessage","csui/utils/node.links/node.links","i18n!csui/widgets/html.editor/impl/nls/lang","hbs!csui/widgets/html.editor/impl/edit.icon","hbs!csui/widgets/html.editor/impl/html.editor.action.buttons","css!csui/widgets/html.editor/impl/html.editor"],function(e,t,i,s,n,o,r,a,l,c,u,d,h,p,m,g,f,v,b,w,y,x){"use strict";return s.ItemView.extend({"className":"csui-html-editor-wrapper","modelEvents":{"change":"render","error":"render"},"ui":{"richText":".csui-richtext-message"},"events":{'mouseenter .csui-richtext-message[contenteditable="false"] a':"_showPreview",'focusin .csui-richtext-message[contenteditable="true"]':"_actionButtonsPositionInEdge",'focusin .csui-richtext-message[contenteditable="false"] a':"_updateUrl","keyup":"_validateState"},"getTemplate":function(){return!this.model.error&&u},"templateHelpers":function(){return{"placeholder":w.PageDefaultContent,"id":this.model.get("id"),"data":this.model.get("data")}},"constructor":function(e){if(e||(e={}),e.id=e.wikiPageId,e=t.extend(e,e.data={}),this.parentView=e.parentView,this.ui.richTextEle="#csui-richtext-content-body"+e.id,h.imbue(this),this.context=e.context,this.connector=this.context.getObject(n),this.node=new a({"id":e.id},{"connector":this.connector,"expand":{"properties":["original_id","parent_id"]},"commands":["permissions","properties","reserve","unreserve","addcategory"]}),this.user=this.context.getModel(l),!e.model){e.model=new c({"connector":this.connector,"context":this.context,"id":e.id});var i=o.combine(this.connector.connection.url,"nodes/"+e.id+"/content");e.model.fetch({"url":i,"success":e.model.fetchSuccess,"error":e.model.fetchError,"dataType":"text"}).done(t.bind(function(e){this._getLatestVersion().done(t.bind(function(){this.oldVersion=this.model.get("version")},this))},this))}e.richTextElementId="csui-richtext-content-body-"+e.id,s.ItemView.prototype.constructor.call(this,e),this._errorRegion=new s.Region({"el":this.el}),this.listenTo(this.model,"sync",t.bind(function(){this.model.error||this.user.ensureFetched().done(this._renderActionsDropdown.bind(this))},this)),this.mode="read",this.utils=g.getRichTextEditorUtils(),this.enableSaveButton=!1},"onRender":function(){var e=this.model.error;this.$el[e?"addClass":"removeClass"]("csui-disabled"),e&&this._errorRegion.show(new p({"model":new i.Model({"message":w.noWikiPageFound})})),this.$el.addClass(this.options.header?"":"csui-html-editor-no-header"),this.$el.parent().addClass(this.options.header||e?"":"tile"),this.filterHtmlContent(),this.refreshTabableElements()},"filterHtmlContent":function(){this.$el.find("table").each(function(t,i){e(i).css({"border":i.getAttribute("border")+"px solid","borderSpacing":i.getAttribute("cellspacing")+"px","text-align":i.getAttribute("align")}).removeAttr("cellpadding cellspacing border align"),e(i).find("th,td").css("padding",i.getAttribute("cellpadding")+"px")}),this.$el.find("big").each(function(t,i){e(i).replaceWith('<span class="csui-big">'+e(i).html()+"</span>")})},"refreshTabableElements":function(){"read"===this.mode?this.tabableElements=this.$el.find("a").toArray():(this.tabableElements=[],this.tabableElements.push(this.editorInstance.element.$),this.tabableElements=this.tabableElements.concat(e("#cke_"+this.options.richTextElementId+" .csui-html-editor-action-buttons > button:not([disabled])").toArray())),this.currentlyFocusedElementIndex=-1},"moveTab":function(i){if(this.currentlyFocusedElementIndex=this.tabableElements.indexOf(i.target),-1===this.currentlyFocusedElementIndex)return!1;var s=e(this.tabableElements[this.currentlyFocusedElementIndex]),n=!1;9===i.keyCode&&(i.shiftKey?this.currentlyFocusedElementIndex>0?(this.currentlyFocusedElementIndex-=1,e(this.tabableElements[this.currentlyFocusedElementIndex]).trigger("focus"),i.stopPropagation(),i.preventDefault()):n=!0:this.currentlyFocusedElementIndex<this.tabableElements.length-1?(this.currentlyFocusedElementIndex+=1,e(this.tabableElements[this.currentlyFocusedElementIndex]).prop("tabindex",0).trigger("focus"),i.stopPropagation(),i.preventDefault()):n=!0,n&&("write"===this.mode?(i.shiftKey?this.currentlyFocusedElementIndex=this.tabableElements.length-1:this.currentlyFocusedElementIndex=0,e(this.tabableElements[this.currentlyFocusedElementIndex]).trigger("focus")):s.on("focusout",t.bind(function(){s.off("focusout"),this.currentlyFocusedElementIndex=-1},this))),"write"===this.mode&&(i.stopPropagation(),i.preventDefault()))},"_showPreview":function(e){this.utils.getUrl(this,e).done(t.bind(function(){this.options.targetEle=e.target,this.options.connector=this.connector,new m(this.options).render()},this))},"_updateUrl":function(e){this.utils.getUrl(this,e)},"_renderActionsDropdown":function(){this.node.fetch().done(t.bind(function(e){if(this.dropdownMenu=new f({"openForEdit":this._openForEdit.bind(this),"node":this.node,"user":this.user,"context":this.options.context,"parentView":this}),new s.Region({"el":this.parentView.$el.find(".tile-controls")}).show(this.dropdownMenu),this.grandParentEle=this.$el.closest(".csui-html-editor-grand-parent"),this.listenTo(this.dropdownMenu,"render",t.bind(function(){this.refreshTabableElements(),this.trigger("refresh:tabindexes")},this)),this.editIconEle=this.parentView.$el.find(".tile-controls"),this.options.header){var i=this.options.titlefield||"";this.editIconEle.closest(".tile-header").attr({"title":i,"aria-label":i})}},this))},"editModeAccessibility":function(){e(document).on("keydown.html.editor",t.bind(function(t){e.contains(e("#cke_"+this.options.richTextElementId+".csui-rich-text-editor-toolbar .cke_inner")[0],t.target)||(9===t.keyCode?this.moveTab(t):-1!==[13,32].indexOf(t.keyCode)&&e(t.target).hasClass("csui-html-edit-icon")&&(e(t.target).trigger("click"),t.preventDefault()))},this))},"removeEditModeAccessibility":function(){e(document).off("keydown.html.editor")},"_openForEdit":function(){this.editModeAccessibility(),this.blockActions(),this._getLatestVersion().done(t.bind(function(){this._toggleReserve(!0).done(t.bind(function(){this.oldVersion===this.model.get("version")?this._getLatestContent().done(t.bind(function(){this._editContent()},this)):d.confirmQuestion(t.bind(function(e){e?(this._editContent(),this.enableSaveButton=!0):this._getLatestContent().done(t.bind(function(){this._editContent(),this.oldVersion=this.model.get("version"),this.enableSaveButton=!1},this)),this.alreadyTriggered=!0},this),w.versionDifferenceConfirmMessage,w.versionDifferenceConfirmTitle)},this)).fail(this.unblockActions.bind(this))},this)).fail(this.unblockActions.bind(this)),r.isAppleMobile()&&this.$el.find(".csui-richtext-message").attr("contenteditable",!0).trigger("focus")},"_editContent":function(){var i=this,s=this.connector.connection.url,n={"skin":"otskin,"+this.connector.connection.supportPath+"/csui/lib/ckeditor/skins/otskin/","custcsuiimage_imageExtensions":"gif|jpeg|jpg|png","filebrowserUploadUrl":s.substring(0,s.indexOf("api")),"floatingWrapper":this.grandParentEle,"extraPlugins":"csfloatingspace,filebrowser,custimage,custcsuiimage,find,panelbutton,colorbutton,font,selectall,smiley,dialog,sourcedialog,print,preview,justify,otsave,cancel,cssyntaxhighlight,cslink","removePlugins":"image,floatingspace","cancel":{"label":"Cancel","onCancel":function(s){i.blockActions();var n=i.editorInstance;(s.getData().length?n.checkDirty():i.model.get("data")!==w.PageDefaultContent)?d.confirmQuestion(function(n){n?i._getLatestVersion().done(function(){i.oldVersion!==i.model.get("version")?i._getLatestContent().done(t.bind(function(){i.oldVersion=this.model.get("version"),s.setData(i.model.get("oldData"))},i)):s.setData(i.model.get("oldData")),i.trigger("updateScrollbar"),a(s),i.autoSaved&&i.deleteAutoSavedContent({"connector":i.connector,"wikiId":i.node.get("parent_id"),"pageId":i.model.get("id")}),i._toggleReserve()}):(e(i.options.richTextElementId).trigger("focus"),i.unblockActions())},w.CancelConfirmMessage,w.cancelTitle):i._getLatestVersion().done(function(){i.oldVersion!==i.model.get("version")?i._getLatestContent().done(t.bind(function(){i.oldVersion=this.model.get("version"),s.setData(i.model.get("oldData"))},i)):s.setData(i.model.get("oldData")),a(s),i._toggleReserve()})}},"otsave":{"label":"Save","url":i.connector.connection.url+"/nodes/"+i.options.id,"type":"PUT","useJSON":!1,"ticket":i.connector.connection.session.ticket,"postData":function(e){return{"TextField":e.getData()}},"onSave":function(t){i.blockActions(),i._getLatestVersion().done(function(){i.alreadyTriggered||i.oldVersion===i.model.get("version")?(i.enableSaveButton=!1,i.alreadyTriggered=!1,i._saveContent(t)):d.confirmQuestion(function(s){s?(i.enableSaveButton=!1,i._saveContent(t)):(e(i.options.richTextElementId).trigger("focus"),i.unblockActions())},w.versionDifferenceConfirmMessage,w.versionDifferenceConfirmTitle)})},"onSuccess":function(e,t){i.model.set({"data":e.getData(),"oldData":e.getData()}),i._getLatestVersion().done(function(){i.oldVersion=i.model.get("version"),a(e)})},"onFailure":function(e,t,s){a(e),i.render(),i.trigger("updateScrollbar")}},"image":{"url":i.connector.connection.url.replace("/api/v1","")},"addimage":{"url":function(){return s+"/nodes"},"imageBrowseEnabled":function(){return i.node.get("parent_id_expand").imagebrowseenabled},"parent_id":i.node.get("parent_id_expand").image_folder_id,"type":"POST","documentType":144,"ticket":i.connector.connection.session.ticket}},o=g.getRichTextEditor(n),a=function(t){e(".csui-rich-text-mask").remove(),e(".csui-html-editor-zindex").removeClass("csui-html-editor-zindex"),e("#csui-richtext-sharedspace").remove(),e(".cui-rich-editor-widget-wrapper").removeAttr("style"),i.editIconEle.removeClass("binf-hidden"),i.$el.find(".csui-richtext-message").attr("contenteditable",!1),t.destroy(),i.unblockActions(),i._unbindEvents(),i.parentView.$el.find(".csui-html-editor-action-buttons").remove(),e(window).off("resize"),i.removeEditModeAccessibility(),i.mode="read",i.refreshTabableElements(),e(".csui-html-editor-zero-zindex").removeClass("csui-html-editor-zero-zindex")},c=i.$("#"+this.options.richTextElementId);c.attr("contenteditable",!0),this.editIconEle.addClass("binf-hidden");var u=document.createElement("div"),h=document.createElement("div"),p=e.fn.binf_modal.getDefaultContainer();u.className="csui-rich-text-mask",h.className="csui-rich-text-mask csui-rich-text-body-mask",i.grandParentEle.before(u),e(p).append(h),r.isMSBrowser()&&!!e("#breadcrumb-wrap")&&e("#breadcrumb-wrap").addClass("csui-html-editor-zero-zindex");var m=e(u),f=e(h),v=this.grandParentEle.find(".csui-html-editor-no-header").length>0?5:80,y=function(){c.closest(".ps-container").scrollTop(0),f.css("height","0px"),m.css("top","0px");var t=c.offset().top-e(u).offset().top-v,i=c.offset().top-v;i=t<0?i+-t:i,t=t<0?0:t,f.css("height",i+"px"),m.css({"height":document.body.scrollHeight-h.offsetHeight,"top":t}),e(u).parent().addClass("csui-html-editor-zindex")};y(),e(window).on("resize",y),e(".csui-richtext-message").on("change",y),window.onbeforeunload=function(e){return!1},csui.require(["csui/dialogs/node.picker/node.picker"],function(e){o.config.csLink={"lang":{"insertContentServerLink":w.insertContentServerLink},"nodeLink":b,"nodePicker":function(){return new e({"connector":i.connector,"dialogTitle":w.contentServerLink,"context":i.options.context,"resolveShortcuts":!0,"resultOriginalNode":!1,"currentUser":i.options.context.getModel(l)})},"enableSaveButton":function(){i._enableSaveButton()}}}),i.editorInstance=o.inline(this.options.richTextElementId,{"toolbar":[["Undo","Redo","-","FontSize","-","Styles","Format","TextColor","-","Bold","Italic"],"/",["Replace","-","NumberedList","BulletedList","-","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight","-","Link","cslink","-","addImage","Table","Sourcedialog"]]}),o.once("instanceReady",function(s){i.ui.richText.text().trim()===w.PageDefaultContent&&i.ui.richText.empty(),i.mode="write",e("#cke_"+i.options.richTextElementId).addClass("csui-rich-text-editor-toolbar"),i.unblockActions(),i._appendActionButtons(),e(s.editor).trigger("focus"),i.$el.find(".csui-richtext-message").trigger("focus"),i.editorInstance.on("change",t.throttle(function(){i._autoSaveContent(o)},i.options.autosaveInterval,{"leading":!1})),i.editorInstance.on("change",function(){i._validateState()}),i._actionButtonsPosition(),i._actionButtonsPositionInEdge(),i.refreshTabableElements(),i.autoSaved&&i.deleteAutoSavedContent({"connector":i.connector,"wikiId":i.node.get("parent_id"),"pageId":i.model.get("id")})})},"_saveContent":function(e){e.config.otsave.request.send(e.config.otsave.json),this.autoSaved&&this.deleteAutoSavedContent({"connector":this.connector,"wikiId":this.node.get("parent_id"),"pageId":this.model.get("id")}),this._toggleReserve()},"_disableSaveButton":function(){var t=e("#cke_csui-richtext-content-body-"+this.id),i=t.find(".csui-html-edit-save");i.length&&(i[0].disabled=!0)},"_enableSaveButton":function(){var t=e("#cke_csui-richtext-content-body-"+this.id),i=t.find(".csui-html-edit-save");i.length&&(i[0].disabled=!1)},"_toggleReserve":function(t){var i=e.Deferred();if(t&&this.node.get("reserved")&&this.node.get("reserved_user_id")===this.user.get("id"))return i.resolve(),i;var s=this.connector.connection.url+"/nodes/"+this.node.get("id"),n=this,o=new FormData;return t?!this.node.get("reserved")&&o.append("reserved_user_id",this.user.get("id")):this.node.get("reserved")&&o.append("reserved_user_id",null),this.updateAjaxCall({"url":s,"connector":this.connector,"data":o,"type":"PUT"}).done(function(){i.resolve()}).fail(function(e){i.reject()}).always(function(){n.node.fetch()}),i},"_autoSaveContent":function(e){var t=this.editorInstance;if(t&&t.checkDirty()){t.resetDirty();var i=t.getData(),s=new FormData;s.append("wikiId",this.node.get("parent_id")),s.append("pageId",this.model.get("id")),s.append("source",i),this.updateAjaxCall({"connector":this.connector,"url":o.combine(this.connector.getConnectionUrl().getApiBase("v2"),"/wiki/autosave"),"type":"POST","data":s,"view":this}),this.autoSaved=!0}},"_getLatestContent":function(){var e={"url":o.combine(this.connector.getConnectionUrl().getApiBase("v2"),"/wiki/"+this.model.get("id")+"/autosave"),"type":"GET","requestType":"getContent","connector":this.connector,"view":this};return this.updateAjaxCall(e)},"_getLatestVersion":function(){var e={"url":o.combine(this.connector.getConnectionUrl().getApiBase("v2"),"/nodes/"+this.model.get("id")),"type":"GET","requestType":"versions-reserve","connector":this.connector,"view":this};return this.updateAjaxCall(e)},"_validateState":function(){this.utils=this.utils||g.getRichTextEditorUtils();var e=g.isEmptyContent(this.editorInstance);this.editorInstance&&this.editorInstance.checkDirty()&&e!==w.PageDefaultContent&&0!==e.length?(this._enableSaveButton(),this.refreshTabableElements()):(this._disableSaveButton(),this.refreshTabableElements())},"_appendActionButtons":function(){var i=e("#cke_csui-richtext-content-body-"+this.id),s={"saveLabel":w.saveTitle,"cancelLabel":w.cancelTitle,"cancelAria":w.cancelAria,"saveAria":w.saveAria};i.append(x(s)),i.find(".csui-html-edit-save").on("click",t.bind(function(){this.editorInstance.execCommand("otsave")},this)),i.find(".csui-html-edit-cancel").on("click",t.bind(function(){this.editorInstance.execCommand("cancel")},this))},"_actionButtonsPosition":function(){this.enableSaveButton?(this._enableSaveButton(),this.refreshTabableElements()):(this._disableSaveButton(),this.refreshTabableElements())},"_actionButtonsPositionInEdge":function(){var t=e("#cke_csui-richtext-content-body-"+this.id);r.isEdge()&&-1!==t.attr("style").indexOf("right")&&t.find(".cke_inner").css("float","right")},"_unbindEvents":function(){window.onbeforeunload=null},"updateAjaxCall":function(t){var i=e.Deferred(),s=t.url,n=t.data,o=t.type,r=t.connector,a=t.view,l=t.requestType;return r.makeAjaxCall({"url":s,"type":o,"data":n,"contentType":!1,"crossDomain":!0,"processData":!1,"success":function(e,t,s){switch(l){case"getContent":e.results.data.autoSaved?(a.autoSaved=!0,d.confirmQuestion(function(t){var s=e.results.data.content;t?(s=e.results.data.autoSaved,a.enableSaveButton=!0):a.enableSaveButton=!1,a.model.set({"data":s}),i.resolve()
},w.RestoreDialogMessage,w.RestoreDiaglogTitle,d.buttonLabels.Yes=w.Continue,d.buttonLabels.No=w.Discard)):(a.model.set({"data":e.results.data.content,"oldData":e.results.data.content}),i.resolve());break;case"versions-reserve":a.model.attributes.version=e.results.data.versions.length,a.node.set({"reserved":e.results.data.properties.reserved,"reserved_user_id":e.results.data.properties.reserved_user_id}),i.resolve();break;default:i.resolve(e)}},"error":function(e,t,s){i.reject(e)}}),i.promise()},"deleteAutoSavedContent":function(e){this.autoSaved&&(e.type="DELETE",e.url=o.combine(e.connector.getConnectionUrl().getApiBase("v2"),"/wiki/"+e.wikiId+"/autosave/"+e.pageId),this.updateAjaxCall(e),this.autoSaved=!1),window.clearInterval(this.intervalId)}})}),csui.define("hbs!csui/widgets/html.editor/impl/html.editor.wrapper.template",["module","hbs","csui/lib/handlebars"],function(e,t,i){var s=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,s){var n;return'<div class="csui-html-editor-tile-controls tile-controls"></div>\r\n<div class="csui-html-editor-wrapper-parent cui-rich-editor-widget-wrapper\r\ncsui-html-editor-wrapper-parent-'+this.escapeExpression((n=null!=(n=t.id||(null!=e?e.id:e))?n:t.helperMissing,"function"==typeof n?n.call(e,{"name":"id","hash":{}}):n))+'">\r\n</div>'}});return i.registerPartial("csui_widgets_html.editor_impl_html.editor.wrapper.template",s),s}),csui.define("csui/widgets/html.editor/html.editor.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/handlebars","csui/lib/marionette","csui/controls/tile/tile.view","csui/controls/tile/behaviors/perfect.scrolling.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/widgets/html.editor/impl/html.editor.content.view","hbs!csui/widgets/html.editor/impl/html.editor.wrapper.template","i18n!csui/widgets/html.editor/impl/nls/lang"],function(e,t,i,s,n,o,r,a,l,c){var u=n.extend({"constructor":function(t){t||(t={}),t.icon="cs-wiki-icon-wiki",this.context=t.context,t.id="csui-html-tile-wrapper-"+t.wikiPageId,n.prototype.constructor.call(this,t),t=t.data?e.extend(t,t.data):t,this.options=t,this.options.parentView=this,this.contentViewOptions=this.options},"contentView":a,"contentViewOptions":function(){e.extend(this.options,{"parentView":this})},"onShow":function(){this.$el.addClass("cui-rich-editor-widget-wrapper cui-rich-editor-widget-wrapper-"+this.options.wikiPageId)}});return s.CompositeView.extend({"tagName":"div","className":"csui-html-editor-grand-parent","templateHelpers":function(){return{}},"template":l,"ui":{"editIcon":".tile-controls"},"events":{"keydown":"onKeyInView"},"constructor":function(t){t=t||{},t.data||(t.data={}),e.extend(t,t.data),t.wikiPageId=t.wikipageid||t.id,t.id="csui-html-editor-grand-parent-"+t.wikiPageId,t.title=t.titlefield||t.title,t.header=!!t.title,t.scrollableParent=t.header?".tile-content":".csui-html-editor-wrapper-parent",this.context=t.context,s.CompositeView.prototype.constructor.apply(this,arguments)},"behaviors":{"PerfectScrolling":{"behaviorClass":o,"contentParent":function(){return this.options.scrollableParent},"suppressScrollX":!0},"TabableRegionBehavior":{"behaviorClass":r}},"currentlyFocusedElement":function(){return this.htmlEditorContentView.dropdownMenu&&!this.htmlEditorContentView.dropdownMenu.haveEditPermissions?this.htmlEditorContentView.$el.find("a:first"):this.$el.find(".csui-html-editor-dropdown .csui-html-editor-control")},"onKeyInView":function(e){"read"===this.htmlEditorContentView.mode&&this.htmlEditorContentView.moveTab(e)},"onRender":function(t){var i;this.options.autosaveInterval=6e4,void 0===this.options.header||this.options.header?(i=new u(this.options),this.listenToOnce(i,"show",e.bind(function(){this.htmlEditorContentView=i.getChildView("content")},this))):(this.options.parentView=this,i=new a(this.options),this.htmlEditorContentView=i),new s.Region({"el":this.$el.find(".csui-html-editor-wrapper-parent")}).show(i),this._triggerView=this,this.listenTo(this.htmlEditorContentView,"refresh:tabindexes",e.bind(function(){this.trigger("refresh:tabindexes")},this)).listenTo(this.htmlEditorContentView,"updateScrollbar",e.bind(function(){this.trigger("dom:refresh")},this))}})}),csui.define("json!csui/widgets/error.global/error.global.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}","description":"{{widgetDescription}}","kind":"fullpage","schema":{"type":"object","properties":{"serverError":{"title":"{{serverErrorTitle}}","description":"{{serverErrorDescription}}","type":"string"}}},"options":{}}),csui.define("json!csui/widgets/favorites/favorites.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{title}}","description":"{{description}}","kind":"tile","schema":{"type":"object","properties":{}},"actions":[{"toolItems":"csui/widgets/favorites2.table/toolbaritems","toolItemMasks":"csui/widgets/favorites2.table/toolbaritems.masks","toolbars":[{"id":"tableHeaderToolbar","title":"{{tableHeaderToolbarTitle}}","description":"{{tableHeaderToolbarDescription}}"},{"id":"inlineActionbar","title":"{{inlineActionbarTitle}}","description":"{{inlineActionbarDescription}}"}]}]}),csui.define("json!csui/widgets/myassignments/myassignments.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{title}}","description":"{{description}}","kind":"tile","schema":{"type":"object","properties":{}}}),csui.define("json!csui/widgets/placeholder/placeholder.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}","description":"{{widgetDescription}}","kind":"tile","supportedKinds":["tile","header","fullpage"],"schema":{"type":"object","properties":{"label":{"title":"{{labelTitle}}","description":"{{labelDescription}}","type":"string"},"color":{"title":"{{foregroundColorTitle}}","description":"{{foregroundColorDescription}}","type":"string"},"bgcolor":{"title":"{{backgroundColorTitle}}","description":"{{backgroundColorDescription}}","type":"string"}}}}),csui.define("json!csui/widgets/recentlyaccessed/recentlyaccessed.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{title}}","description":"{{description}}","kind":"tile","schema":{"type":"object","properties":{}},"actions":[{"toolItems":"csui/widgets/recentlyaccessedtable/toolbaritems","toolItemMasks":"csui/widgets/recentlyaccessedtable/toolbaritems.masks","toolbars":[{"id":"tableHeaderToolbar","title":"{{tableHeaderToolbarTitle}}","description":"{{tableHeaderToolbarDescription}}"},{"id":"inlineActionbar","title":"{{inlineActionbarTitle}}","description":"{{inlineActionbarDescription}}"}]}]}),csui.define("json!csui/widgets/shortcut/shortcut.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}","description":"{{widgetDescription}}","kind":"tile","deprecated":!0,"useInstead":"csui/widgets/shortcuts","schema":{"type":"object","properties":{"id":{"title":"{{idTitle}}","description":"{{idDescription}}","type":"integer"},"type":{"title":"{{typeTitle}}","description":"{{typeDescription}}","type":"integer","enum":[141,142,133],"default":141},"background":{"title":"{{backgroundTitle}}","description":"{{backgroundDescription}}","type":"string","enum":["cs-tile-background1","cs-tile-background2","cs-tile-background3"]},"displayName":{"title":"{{displayNameTitle}}","type":"string"}},"oneOf":[{"required":["id"]},{"required":["type"]}]},"options":{"fields":{"id":{"type":"otcs_node_picker","type_control":{"parameters":{"select_types":[]}}},"type":{"type":"select","optionLabels":["{{typeEnterpriseVolume}}","{{typePersonalVolume}}","{{typeCategoryVolume}}"]},"background":{"type":"select","optionLabels":["{{backgroundGrey}}","{{backgroundGreen}}","{{backgroundOrange}}"]}}}}),csui.define("json!csui/widgets/shortcuts/shortcuts.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}","description":"{{widgetDescription}}","kind":"tile","selfConfigurable":!0,"schema":{"type":"object","properties":{"shortcutTheme":{"title":"{{shortcutThemeTitle}}","description":"{{shortcutThemeDescription}}","type":"string","enum":["csui-shortcut-theme-stone1","csui-shortcut-theme-stone2","csui-shortcut-theme-teal1","csui-shortcut-theme-teal2","csui-shortcut-theme-pink1","csui-shortcut-theme-pink2","csui-shortcut-theme-indigo1","csui-shortcut-theme-indigo2"]},"shortcutItems":{"title":"{{shortcutItemsTitle}}","description":"{{shortcutItemsDescription}}","type":"array","minItems":1,"maxItems":4,"items":{"type":"object","properties":{"id":{"title":"{{idTitle}}","description":"{{idDescription}}","type":"integer"},"type":{"title":"{{typeTitle}}","description":"{{typeDescription}}","type":"integer","enum":[141,142,133]},"displayName":{"title":"{{displayNameTitle}}","type":"string"}},"oneOf":[{"required":["id"]},{"required":["type"]}]}}}},"options":{"fields":{"shortcutItems":{"items":{"fields":{"id":{"type":"otcs_node_picker","type_control":{"parameters":{"select_types":[]}}},"type":{"type":"select","optionLabels":["{{typeEnterpriseVolume}}","{{typePersonalVolume}}","{{typeCategoryVolume}}"]}}}},"shortcutTheme":{"type":"select","optionLabels":["{{shortcutThemeStone1}}","{{shortcutThemeStone2}}","{{shortcutThemeTeal1}}","{{shortcutThemeTeal2}}","{{shortcutThemePink1}}","{{shortcutThemePink2}}","{{shortcutThemeIndigo1}}","{{shortcutThemeIndigo2}}"]}}}}),csui.define("json!csui/widgets/welcome.placeholder/welcome.placeholder.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}","description":"{{widgetDescription}}","kind":"header","schema":{"type":"object","properties":{"message":{"title":"{{messageTitle}}","description":"{{messageDescription}}","type":"string"},"videoPoster":{"title":"{{videoPosterTitle}}","description":"{{videoPosterDescription}}","type":"string"},"videoSrc":{"title":"{{videoSourceTitle}}","description":"{{videoSourceDescription}}","type":"string"}}}}),csui.define("json!csui/widgets/html.editor/html.editor.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{title}}","description":"{{description}}","kind":"tile","supportedKinds":["tile","header","fullpage"],"schema":{"type":"object","properties":{"titlefield":{"title":"{{titleLabel}}","description":"{{titleDesc}}","type":"string","default":""},"wikicontainerid":{"title":"{{wikiContainerID}}","description":"{{wikiContainerIDDesc}}","type":"integer"},"wikitemplateid":{"title":"{{wikiTemplateID}}","description":"{{wikiTemplateIDDesc}}","type":"integer"},"wikiid":{"title":"{{wikiContainerID}}","description":"{{wikiContainerIDDesc}}","type":"integer"},"wikipageid":{"title":"{{wikiTemplateID}}","description":"{{wikiTemplateIDDesc}}","type":"integer"}}},"options":{"fields":{"wikicontainerid":{"type":"otcs_node_picker","type_control":{"parameters":{"select_types":[5573]}}},"wikitemplateid":{"type":"otcs_node_picker","type_control":{"parameters":{"select_types":[5574],"startLocation":"csui/dialogs/node.picker/start.locations/perspective.assets.volume"}}},"wikipageid":{"type":"otcs_node_picker","hidden":!0,"type_control":{"parameters":{"select_types":[5574]}}},"wikiid":{"type":"otcs_node_picker","hidden":!0,"type_control":{"parameters":{"select_types":[5573]}}},"width":{"type":"select","optionLabels":["{{default}}","{{full}}","{{half}}","{{quarter}}"]}}},"callback":"wiki/callbacks/wikiHookCallback"}),csui.define("csui/widgets/favorites/impl/nls/favorites.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/favorites/impl/nls/root/favorites.manifest",{"title":"Favorites","description":"Shows favorite objects of the current user.","tableHeaderToolbarTitle":"Table Header Toolbar","tableHeaderToolbarDescription":"Toolbar, which is activated in the table header, once a table row is selected.","inlineActionbarTitle":"Inline Action Bar","inlineActionbarDescription":"Toolbar, which is displayed inside a table row, when the mouse cursor is moving above it."}),csui.define("csui/widgets/myassignments/impl/nls/myassignments.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/myassignments/impl/nls/root/myassignments.manifest",{"title":"My Assignments","description":"Shows personal assignments of the current user."}),csui.define("csui/widgets/placeholder/impl/nls/placeholder.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/placeholder/impl/nls/root/placeholder.manifest",{"widgetTitle":"Placeholder","widgetDescription":"Shows a colorful tile taking the space instead of a real widget.","labelTitle":"Label","labelDescription":"Label of the tile","foregroundColorTitle":"Foreground color","foregroundColorDescription":"Color for the label of the tile","backgroundColorTitle":"Background color","backgroundColorDescription":"Color for the background of the tile"}),csui.define("csui/widgets/recentlyaccessed/impl/nls/recentlyaccessed.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/recentlyaccessed/impl/nls/root/recentlyaccessed.manifest",{"title":"Recently Accessed","description":"Shows documents accessed recently by the current user.","tableHeaderToolbarTitle":"Table Header Toolbar","tableHeaderToolbarDescription":"Toolbar, which is activated in the table header, once a table row is selected.","inlineActionbarTitle":"Inline Action Bar","inlineActionbarDescription":"Toolbar, which is displayed inside a table row, when the mouse cursor is moving above it."}),csui.define("csui/widgets/shortcut/impl/nls/shortcut.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/shortcut/impl/nls/root/shortcut.manifest",{"widgetTitle":"Single Shortcut","widgetDescription":"Tile representing a hyperlink to an object; it navigates to its page when clicked","idTitle":"Target object","idDescription":"An object to open by this shortcut","typeTitle":"Volume fallback","typeDescription":"Sub-type number of a global volume to open by this shortcut if no object has been selected","backgroundTitle":"Background","backgroundDescription":"Styling of the background below the shortcut tile","typeEnterpriseVolume":"Enterprise","typePersonalVolume":"Personal","typeCategoryVolume":"Categories","displayNameTitle":"Display name","backgroundGrey":"Grey","backgroundGreen":"Green","backgroundOrange":"Orange"}),csui.define("csui/widgets/welcome.placeholder/impl/nls/welcome.placeholder.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/welcome.placeholder/impl/nls/root/welcome.placeholder.manifest",{"widgetTitle":"Welcome Header","widgetDescription":"Shows a wide widget with initial information for the user home page.","messageTitle":"Display message","messageDescription":"Message to be displayed at the bottom of the tile","videoPosterTitle":"Video thumbnail","videoPosterDescription":"Web address of the poster to show when the video is not playing","videoSourceTitle":"Video location","videoSourceDescription":"Web address of the video to play"}),csui.define("csui/widgets/html.editor/impl/nls/html.editor.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/html.editor/impl/nls/root/html.editor.manifest",{"title":"HTML Tile","description":"Returns the HTML output of an object and inserts it into a tile.","widthLabel":"Width","widthDesc":"The maximum width on the largest screen-size.","default":"Default","full":"Full","half":"Half","quarter":"Quarter","titleLabel":"Title","titleDesc":"Title for the tile","objIdLabel":"Object ID","objIdDesc":"Object ID for which we have to render and allow users to edit rich text content.","wikiContainerID":"Target wiki for HTML Content (optional)","wikiTemplateID":"Template wiki page (optional)","wikiContainerIDDesc":"If not specified, a target wiki will be created automatically in perspective asset volume","wikiTemplateIDDesc":"If not specified, a target wiki template will be pointed automatically from perspective asset folder"}),csui.define("bundles/csui-app",["csui/behaviors/dropdown.menu/dropdown.menu.behavior","csui/behaviors/expanding/expanding.behavior","csui/behaviors/item.error/item.error.behavior","csui/behaviors/item.state/item.state.behavior","csui/behaviors/item.state/item.state.view","csui/behaviors/limiting/limiting.behavior","csui/controls/tile/behaviors/expanding.behavior","csui/controls/tile/tile.view","csui/controls/iconpreload/icon.preload.view","csui/controls/rich.text.editor/rich.text.editor","csui/controls/selected.count/selected.count.view","csui/lib/jquery.mockjax","csui/lib/jquery.simulate","csui/lib/othelp","csui/models/expandable","csui/pages/start/start.page.view","csui/widgets/navigation.header/controls/help/help.view","csui/widgets/navigation.header/controls/home/home.view","csui/widgets/navigation.header/controls/breadcrumbs/breadcrumbs.view","csui/widgets/navigation.header/controls/search/search.view","csui/widgets/navigation.header/controls/favorites/favorites.view","csui/widgets/navigation.header/controls/user.profile/user.profile.view","csui/widgets/navigation.header/controls/progressbar.maximize/progressbar.maximize.view","i18n!csui/controls/tabletoolbar/impl/nls/localized.strings","csui/controls/tabletoolbar/impl/nls/localized.strings","json!csui/utils/contexts/perspective/impl/perspectives/error.global.json","csui/widgets/error.global/error.global.view","csui/widgets/favorites/favorites.view","csui/widgets/favorites/tileview.toolbaritems","csui/widgets/myassignments/myassignments.columns","csui/widgets/myassignments/myassignments.view","csui/widgets/navigation.header/profile.menuitems","csui/widgets/navigation.header/profile.menuitems.mask","csui/widgets/placeholder/placeholder.view","csui/widgets/recentlyaccessed/recentlyaccessed.columns","csui/widgets/recentlyaccessed/recentlyaccessed.view","csui/widgets/recentlyaccessed/tileview.toolbaritems","csui/widgets/search.box/search.box.view","csui/widgets/shortcut/shortcut.view","csui/widgets/shortcuts/shortcuts.view","csui/widgets/welcome.placeholder/welcome.placeholder.view","csui/widgets/html.editor/impl/cslink.preview/cslink.preview.view","csui/widgets/html.editor/html.editor.view","json!csui/widgets/error.global/error.global.manifest.json","json!csui/widgets/favorites/favorites.manifest.json","json!csui/widgets/myassignments/myassignments.manifest.json","json!csui/widgets/placeholder/placeholder.manifest.json","json!csui/widgets/recentlyaccessed/recentlyaccessed.manifest.json","json!csui/widgets/shortcut/shortcut.manifest.json","json!csui/widgets/shortcuts/shortcuts.manifest.json","json!csui/widgets/welcome.placeholder/welcome.placeholder.manifest.json","json!csui/widgets/html.editor/html.editor.manifest.json","i18n!csui/widgets/favorites/impl/nls/favorites.manifest","i18n!csui/widgets/myassignments/impl/nls/myassignments.manifest","i18n!csui/widgets/placeholder/impl/nls/placeholder.manifest","i18n!csui/widgets/recentlyaccessed/impl/nls/recentlyaccessed.manifest","i18n!csui/widgets/shortcut/impl/nls/shortcut.manifest","i18n!csui/widgets/shortcuts/impl/nls/shortcuts.manifest","i18n!csui/widgets/welcome.placeholder/impl/nls/welcome.placeholder.manifest","i18n!csui/widgets/html.editor/impl/nls/html.editor.manifest","i18n!csui/widgets/favorites/impl/nls/lang","i18n!csui/widgets/myassignments/impl/nls/lang","i18n!csui/widgets/recentlyaccessed/impl/nls/lang"],{}),csui.require(["require","css"],function(e,t){t.styleLoad(e,"csui/bundles/csui-app",!0)});
//# sourceMappingURL=csui-app.js.map