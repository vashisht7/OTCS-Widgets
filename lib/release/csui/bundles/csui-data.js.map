{"version":3,"sources":["../../src/utils/contexts/factories/factory.js","../../src/utils/contexts/factories/connector.js","../../src/utils/contexts/factories/next.node.js","../../src/utils/contexts/factories/search.query.factory.js","../../src/controls/tile/behaviors/impl/perfect.scrolling!css","../../src/controls/tile/behaviors/perfect.scrolling.behavior.js","../../src/behaviors/keyboard.navigation/tabables.behavior.js","../../src/behaviors/keyboard.navigation/tabable.region.behavior.js","../../src/controls/globalmessage/impl/progresspanel/impl/nls/progresspanel.lang.js","../../src/controls/globalmessage/impl/progresspanel/impl/nls/root/progresspanel.lang.js","../../src/controls/globalmessage/impl/progresspanel/impl/progresspanel!hbs","../../src/controls/globalmessage/impl/progresspanel/impl/progressbar!hbs","../../src/controls/globalmessage/impl/progresspanel/impl/progresspanel!css","../../src/controls/globalmessage/globalmessage_icons!css","../../src/controls/globalmessage/impl/progresspanel/progresspanel.view.js","../../src/controls/globalmessage/impl/nls/globalmessage.lang.js","../../src/controls/globalmessage/impl/nls/root/globalmessage.lang.js","../../src/controls/globalmessage/impl/messagedialog!hbs","../../src/controls/globalmessage/impl/messagedialog!css","../../src/controls/globalmessage/impl/messagedialog.view.js","../../src/controls/globalmessage/impl/custom.wrapper.view.js","../../src/controls/globalmessage/impl/loaderpanel/impl/loaderpanel!hbs","../../src/controls/globalmessage/impl/loaderpanel/impl/loaderpanel!css","../../src/controls/globalmessage/impl/loaderpanel/loaderpanel.view.js","../../src/dialogs/modal.alert/impl/modal.alert!hbs","../../src/dialogs/modal.alert/impl/nls/lang.js","../../src/dialogs/modal.alert/impl/nls/root/lang.js","../../src/dialogs/modal.alert/impl/nls/lang!i18n","../../src/behaviors/keyboard.navigation/tabkey.behavior.js","../../src/dialogs/modal.alert/impl/modal.alert!css","../../src/dialogs/modal.alert/modal.alert.js","../../src/controls/globalmessage/globalmessage.js","../../src/behaviors/default.action/impl/command.js","../../src/behaviors/default.action/impl/defaultaction.js","../../src/behaviors/default.action/default.action.behavior.js","../../src/behaviors/keyboard.navigation/retainfocus.behavior.js","../../src/controls/error/impl/error!hbs","../../src/controls/error/impl/error!css","../../src/controls/error/error.view.js","../../src/widgets/error/error.view.js","../../src/behaviors/widget.container/impl/nls/lang.js","../../src/behaviors/widget.container/impl/nls/root/lang.js","../../src/behaviors/widget.container/widget.container.behavior.js","../../src/controls/mixins/view.events.propagation/view.events.propagation.mixin.js","../../src/controls/grid/grid.view.js","../../src/controls/node-type.icon/impl/nls/lang.js","../../src/controls/node-type.icon/impl/nls/root/lang.js","hbs!csui/controls/node-type.icon/node-type.icon","../../src/controls/node-type.icon/node-type.icon.view.js","../../src/controls/progressblocker/impl/nls/lang.js","../../src/controls/progressblocker/impl/nls/root/lang.js","../../src/controls/progressblocker/impl/blocker!hbs","../../src/controls/progressblocker/impl/blocker!css","../../src/controls/progressblocker/blocker.js","../../src/controls/perspective.panel/perspective.animator.js","../../src/controls/perspective.panel/perspective.factory.js","../../src/utils/contexts/factories/user.js","../../src/utils/contexts/factories/application.scope.factory.js","../../src/utils/contexts/factories/node.js","../../src/utils/contexts/factories/ancestors.js","../../src/controls/breadcrumbs/impl/breadcrumb/impl/breadcrumb!hbs","../../src/controls/breadcrumbs/impl/breadcrumb/impl/nls/lang.js","../../src/controls/breadcrumbs/impl/breadcrumb/impl/nls/root/lang.js","../../src/controls/breadcrumbs/impl/breadcrumb/impl/nls/lang!i18n","../../src/controls/breadcrumbs/impl/breadcrumb/breadcrumb.view.js","../../src/controls/breadcrumbs/breadcrumbs.view.js","../../src/controls/breadcrumbspanel/impl/breadcrumbspanel!hbs","../../src/controls/breadcrumbspanel/impl/breadcrumbspanel!css","../../src/controls/breadcrumbspanel/breadcrumbspanel.view.js","../../src/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin.js","../../src/controls/perspective.panel/impl/perspective.with.breadcrumb!hbs","../../src/controls/perspective.panel/impl/perspective.with.breadcrumb.view.js","../../src/controls/perspective.panel/perspective.with.breadcrumb.factory.js","../../src/controls/perspective.panel/impl/perspective.panel!css","../../src/controls/perspective.panel/perspective.panel.view.js","../../src/controls/form/pub.sub.js","../../src/controls/mixins/keyboard.navigation/modal.keyboard.navigation.mixin.js","../../src/controls/tab.panel/impl/tab.links!hbs","../../src/controls/tab.panel/impl/tab.link!hbs","../../src/utils/handlebars/l10n.js","../../src/controls/tab.panel/impl/tab.link.view.js","../../src/controls/tab.panel/behaviors/common.keyboard.behavior.mixin.js","../../src/controls/tab.panel/behaviors/tab.links.keyboard.behavior.js","../../src/controls/tab.panel/impl/tab.links.view.js","../../src/controls/tab.panel/impl/tab.content.view.js","../../src/controls/tab.panel/behaviors/tab.contents.keyboard.behavior.js","../../src/controls/tab.panel/behaviors/tab.contents.proxy.keyboard.behavior.js","../../src/controls/tab.panel/impl/tab.contents.view.js","../../src/controls/tab.panel/behaviors/tab.panel.keyboard.behavior.js","../../src/utils/non-emptying.region/non-emptying.region.js","../../src/controls/tab.panel/tab.panel.view.js","../../src/controls/tab.panel/impl/nls/lang.js","../../src/controls/tab.panel/impl/nls/root/lang.js","../../src/controls/tab.panel/impl/nls/lang!i18n","../../src/controls/tab.panel/tab.links.ext.scroll.mixin.js","../../src/controls/tab.panel/impl/tab.links.ext!hbs","../../src/controls/tab.panel/impl/tab.link.ext!hbs","../../src/controls/tab.panel/impl/tab.link.ext.view.js","../../src/controls/tab.panel/tab.links.ext.view.js","../../src/controls/tab.panel/behaviors/tab.links.dropdown.keyboard.behavior.js","../../src/controls/mixins/global.alert/global.alert.mixin.js","../../src/utils/contexts/factories/metadata.factory.js","../../src/controls/mixins/view.state/metadata.view.state.mixin.js","../../src/controls/mixins/view.state/node.view.state.mixin.js","../../src/controls/tile/behaviors/blocking.behavior.js","../../src/controls/tile/behaviors/infinite.scrolling.behavior.js","../../src/controls/tile/behaviors/parent.scrollbar.updating.behavior.js","../../src/controls/tile/behaviors/impl/searching.behavior!hbs","../../src/controls/tile/behaviors/searching.behavior.js","../../src/behaviors/drag.drop/dnd.item.behaviour.js","../../src/behaviors/drag.drop/dnd.container.behaviour.js","../../src/perspectives/impl/nls/lang.js","../../src/perspectives/impl/nls/root/lang.js","../../src/perspectives/impl/nls/lang!i18n","../../src/perspectives/mixins/perspective.edit.mixin.js","../../src/perspectives/flow/impl/nls/lang.js","../../src/perspectives/flow/impl/nls/root/lang.js","../../src/perspectives/impl/perspective!css","../../src/perspectives/flow/impl/flow.perspective!css","../../src/perspectives/flow/flow.perspective.view.js","../../src/perspectives/grid/grid.perspective.view.js","../../src/perspectives/zone/impl/zone.perspective!css","../../src/perspectives/zone/zone.perspective.view.js","../../src/perspectives/left-center-right/left-center-right.perspective.view.js","../../src/perspectives/single/single.perspective.view.js","../../src/utils/contexts/factories/active.tab.factory.js","../../src/perspectives/tabbed/behaviors/tab.extensions.behavior.js","../../src/perspectives/tabbed/impl/tabbed.perspective!hbs","../../src/perspectives/tabbed/impl/tabbed.perspective!css","../../src/perspectives/tabbed/tabbed.perspective.view.js","hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links","hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link","../../src/perspectives/tabbed-flow/impl/nls/lang.js","../../src/perspectives/tabbed-flow/impl/nls/root/lang.js","css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link","../../src/perspectives/tabbed-flow/impl/edit.perspective/tab.link.view.js","css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links","../../src/perspectives/tabbed-flow/impl/edit.perspective/tab.links.view.js","../../src/perspectives/tabbed-flow/tabbed-flow.perspective.view.js","../../src/pages/start/impl/location.js","../../src/pages/start/perspective.router.js","../../src/pages/start/perspective.routing.js","../../src/pages/start/nls/lang.js","../../src/pages/start/nls/root/lang.js","../../src/pages/start/nls/lang!i18n","../../src/pages/start/impl/nls/lang.js","../../src/pages/start/impl/nls/root/lang.js","../../src/pages/start/impl/nls/lang!i18n","../../src/pages/start/impl/landing.perspective.router.js","../../src/pages/start/impl/node.perspective.router.js","../../src/pages/start/impl/search.perspective.router.js","../../src/pages/start/impl/metadata.perspective.router.js","../../src/pages/start/impl/root.perspective.router.js","../../src/utils/classic.nodes/impl/core.classic.nodes.js","../../src/utils/content.helper.js","../../src/utils/impl/core.defaultactionitems.js","../../src/utils/non-attaching.region/non-attaching.region.js","../../src/utils/script-executing.region/script-executing.region.js","../../src/utils/node.links/impl/core.node.links.js","../../src/utils/open.authenticated.page.js","../../src/utils/smart.nodes/impl/core.smart.nodes.js","../../src/utils/taskqueue.js","../../src/models/node/node.addable.type.factory.js","../../src/utils/contexts/context.js","../../src/utils/contexts/context.plugin.js","../../src/utils/contexts/impl/node.opening.context.js","../../src/utils/contexts/factories/previous.node.js","../../src/utils/contexts/impl/delayed.actions.for.node.js","../../src/utils/contexts/browsing/browsing.context!csui-ext","../../src/utils/contexts/browsing/browsing.context.js","../../src/utils/contexts/page/page.context!csui-ext","../../src/utils/contexts/page/page.context.js","../../src/utils/contexts/portal/portal.context!csui-ext","../../src/utils/contexts/portal/portal.context.js","../../src/utils/contexts/perspective/perspective.context.plugin.js","../../src/utils/contexts/perspective/landing.perspectives!csui-ext","../../src/utils/contexts/perspective/landing.perspectives.js","../../src/utils/contexts/perspective/impl/landing.perspective.context.plugin.js","../../src/utils/contexts/perspective/node.perspectives!csui-ext","../../src/utils/contexts/perspective/node.perspectives.js","../../src/utils/contexts/perspective/plugins/node/node.extra.data!csui-ext","../../src/utils/contexts/perspective/plugins/node/node.extra.data.js","../../src/utils/contexts/perspective/plugins/node/node.perspective.context.plugin.js","../../src/utils/contexts/perspective/search.perspectives!csui-ext","../../src/utils/contexts/perspective/search.perspectives.js","../../src/utils/contexts/perspective/impl/search.perspective.context.plugin.js","../../src/utils/contexts/perspective/impl/metadata.perspective.context.plugin.js","../../src/utils/contexts/perspective/impl/root.perspective.context.plugin.js","../../src/utils/contexts/perspective/plugins/node/impl/node.extra.data.js","../../src/utils/contexts/factories/global.error.js","../../src/utils/contexts/perspective/perspective.guide.js","../../src/utils/contexts/perspective/perspective.context!csui-ext","../../src/utils/contexts/perspective/perspective.context.js","../../src/utils/contexts/factories/appcontainer.js","../../src/utils/contexts/factories/children.js","../../src/utils/contexts/factories/children2.js","../../src/utils/contexts/factories/columns.js","../../src/utils/contexts/factories/columns2.js","../../src/utils/contexts/factories/usernodepermission.js","../../src/utils/contexts/factories/volume.js","../../src/models/widget/nls/lang.js","../../src/models/widget/nls/root/lang.js","../../src/models/widget/nls/lang!i18n","../../src/models/widget/favorites.model.js","../../src/utils/contexts/factories/favorites.js","../../src/utils/contexts/factories/favoritescolumns.js","../../src/utils/contexts/factories/favorites2.js","../../src/utils/contexts/factories/favorite2groups.js","../../src/utils/contexts/factories/favorite2columns.js","../../src/models/widget/myassignments.model.js","../../src/utils/contexts/factories/myassignments.js","../../src/utils/contexts/factories/myassignmentscolumns.js","../../src/models/widget/recentlyaccessed/server.adaptor.mixin.js","../../src/models/widget/recentlyaccessed.model.js","../../src/utils/contexts/factories/recentlyaccessed.js","../../src/utils/contexts/factories/recentlyaccessedcolumns.js","../../src/utils/contexts/factories/member.js","../../src/models/widget/search.results/search.metadata/search.metadata.mixin.js","../../src/models/widget/search.results/search.metadata/server.adaptor.mixin.js","../../src/models/widget/search.results/search.metadata/search.metadata.model.js","../../src/utils/contexts/factories/search.metadata.factory.js","../../src/utils/contexts/factories/task.queue.factory.js","../../src/utils/contexts/perspective/impl/perspectives/document.overview.json!json","../../src/utils/contexts/perspective/impl/perspectives/favorites2.table.json!json","../../src/utils/contexts/perspective/impl/perspectives/container.json!json","../../src/utils/contexts/perspective/impl/perspectives/metadata.json!json","../../src/utils/contexts/perspective/impl/perspectives/metadata.navigation.json!json","../../src/utils/contexts/perspective/impl/perspectives/myassignmentstable.json!json","../../src/utils/contexts/perspective/impl/perspectives/recentlyaccessedtable.json!json","../../src/utils/contexts/perspective/impl/perspectives/search.json!json","../../src/utils/contexts/perspective/impl/perspectives/saved.query.json!json","../../src/models/widget/search.box/server.adaptor.mixin.js","../../src/models/widget/search.box.model.js","../../src/utils/contexts/factories/search.box.factory.js","../../src/temporary/activeviews/icons/icons.js","../../src/temporary/appearances/icons/icons.js","../../src/temporary/cop/icons/icons!css","../../src/temporary/cop/icons/icons.js","csui-data.js","../../src/pages/start/impl/perspective.factory.js","../../src/pages/start/impl/perspective.router.js","../../src/pages/start/impl/perspective.panel/perspective.animator.js","../../src/pages/start/impl/perspective.panel/perspective.panel.view.js"],"names":["csui","define","Marionette","Controller","extend","constructor","context","options","this","propertyPrefix","module","_","ObjectFactory","Connector","prototype","apply","arguments","connector","config","connection","defaults","property","$","Backbone","ModelFactory","ConnectorFactory","NodeModel","commands","prefetch","exec","location","search","initialResourceFetched","nextNode","initialResponse","Model","fields","properties","versions.element(0)","expands","mapObject","val","key","union","expand","getObject","creationOptions","stateEnabled","getAllSignatures","attributes","isFetchable","fetch","promise","SearchQueryModel","__super__","toJSON","searchQuery","models","base","Accessibility","getOption","source","value","isFunction","call","view","usePerfectScrollbar","isAccessibleMode","defaultPluginOptions","minScrollbarLength","stopPropagationOnClick","PerfectScrollingRegion","Region","_swapping","listenTo","_requestScrollbarUpdate","_parent","trigger","PerfectScrollingBehavior","Behavior","contentParent","_applyClasses","_useScrollbar","_usePerfectScrollbar","updateOnWindowResize","_renderState","listenToOnce","$el","on","cid","bind","_updateScrollbarFromPropagation","window","_updateScrollbar","off","_ensureScrollbar","_destroyScrollbar","_refreshScrollbar","CollectionView","collection","_resetTriggered","classes","_contentParent","_getContentParent","suppressScrollX","suppressScrollY","addClass","Error","Object","getPrototypeOf","name","_perfectScrollbar","perfectScrollbar","reduce","result","_setClickEventFocus","yRail","find","xRail","isChrome","_setClickEventRailFocus","yScrollBar","xScrollBar","_setClickEventBarFocus","xyBar","xyRail","self","e","addXYFocus","removeClass","blur","length","event","stopPropagation","insertAfter","isElement","isTouchBrowser","isIE11","isEdge","log","id","TabablesBehavior","_pushTabableHandler","tabableRegions","mustSortTabableRegions","_registerEventHandlers","_popTabableHandler","setFocusInActiveTabableRegion","setTimeout","keyCode","_maintainTabFocus","_setFocusToNextRegion","registerTabableRegion","tabableRegion","contains","el","unregisterTabableRegionBehavior","push","debug","console","last","reject","trb","tabablesHandlers","topTabablesHandler","each","_unregisterEventHandlers","_clearTabIndexes","tabableHandlerToPop","stopListening","pop","topTabableHandler","setInitialTabIndex","_setFocusInActiveTabableRegion","_sortTabableRegions","sortedTabableRegions","index","_getNextActiveRegion","shiftTab","recursiveNavigate","i","regions","filter","region","hasClass","lastIndex","activeIndex","_getActiveIndex","elToFocus","getCurrentlyFocusedElementFromView","isTabable","isVisibleInWindowViewport","currentlyActiveTabableRegion","currentlyActive","_deactivateCurrentActiveTabableRegion","activeIdx","undefined","activeView","accDeactivateTabableRegion","ignoreFocusEvents","_setTabableRegionActive","accActivateTabableRegion","setFocus","tabableRegionsByWeight","sortBy","initialActivationWeight","preferredRegion","focusables","focusablesSelector","addBack","prop","shiftKey","activeRegion","onlastTabElement","nextActiveRegion","clearTabIndexes","tabablesBehavior","setTabableRegionActive","unregisterTabableRegion","popTabableHandler","TabableRegionBehavior","tabableRegionBehavior","onLastTabElement","_eventsRegistered","isRegistered","moveTabIndex","currentlyFocusedElement","focusEl","isString","notSetFocus","accessibilityActiveElementClass","warn","message","newlyFocusedElement","accessibilityRegionClass","accessibilityActiveRegionClass","accessibilityFocusableClass","root","en-us","en","BytesOfSize","UploadingItems","UploadingOneItem","UploadingSomeItems","UploadOneItemSuccessMessage","UploadManyItemsSuccessMessage","UploadOneItemFailMessage","UploadSomeItemsFailMessage","UploadManyItemsFailMessage","UploadSomeItemsFailMessage2","UploadManyItemsFailMessage2","UploadingSingleItem","FinalizingSingleItem","UploadingOneItemStopped","UploadingAllItemsStopped","UploadSomeItemsStopped","State_pending","State_processing","State_resolved","State_rejected","State_aborted","State_stopped","State_stopping","State_finalizing","StateAction_pending","StateAction_processing","StateAction_resolved","StateAction_rejected","StateAction_aborted","Cancel","CancelAria","StateAction_all_pending","StateAction_all_processing","StateAction_all_resolved","StateAction_all_rejected","StateAction_all_aborted","Expand","Collapse","Close","CloseAria","minimize","minimizeAria","UploadingLocation","UploadedLocation","Retry","RetryAll","GotoLocationLinkLabel","hbs","Handlebars","t","template","1","depth0","helpers","partials","data","helper","escapeExpression","stateaction_all_pending","helperMissing","hash","stateaction_pending","stateaction_all_processing","stateaction_processing","3","retryAll","5","7","9","targetLocationUrl","gotoLocation","compiler","main","stack1","progressTitleId","title","percentage","state_pending","state_processing","state_resolved","state_rejected","state_aborted","enableCancel","fn","program","inverse","noop","enableRetry","singleItem","collapse","closeAria","close","enableMinimiseButton","registerPartial","2","4","cancel","cancelAria","6","bundleDivider","type_icon_class","errorMessage","state_stopped","state_stopping","state_finalizing","error","8","10","12","14","retry","commandName","NodeSprites","i18n","Base","lang","panelTemplate","barTemplate","panelRefreshThrottle","BarStateValues","updateProgressArea","elem","info","errorElem","dynamic","state","progressBar","messageHelper","switchField","bytesOfSize","str","sformat","getReadableFileSizeString","count","total","text","attr","css","label","stateAriaLabel","getContainerName","model","container","uploadContainer","get","isMultiContainer","currentModel","nextmodel","ProgressBarView","ItemView","node","set","type","mime_type","silent","throttle","_updateItem","_computeProgress","Math","floor","not","is","ui","itemRow","oneFilePending","getItemLabel","className","templateHelpers","targetLocation","hideGotoLocationMultiSet","findClassByNode","forEach","url","onRender","pendingAction","processingAction","retryContainer","retryButton","gotoLocationElem","cancelButton","events","click @ui.pendingAction","click @ui.processingAction","keydown @ui.pendingAction","keydown @ui.processingAction","click @ui.retryButton","keydown @ui.retryButton","click @ui.gotoLocationElem","keydown","button","removeFocus","doCancel","abort","handleKeydownOnCancel","processRetry","showGotoLocationElem","showRetryElem","handleKeydownEvent","hanldleClickGotoLocation","preventDefault","handleProgressComplete","CompositeView","focusChildIndex","currentFocusIndex","loadingCount","oneFileSuccess","multiFileSuccess","oneFileFinalizing","multiFilePending","oneFileFailure","multiFileFailure","someFileSuccess","UploadSomeItemsSuccessMessage","someFilePending","someFileFailure","oneItemStopped","allItemsStopped","someItemsStopped","locationLabelPending","locationLabelCompleted","isLoadTimeAvailable","stoppingLabel","panelStateValues","nextNodeModelFactory","_nextNode","getModel","_updateHeader","setLocationName","originatingView","onDestroy","focusingOnList","allFailures","parentView","children","invoke","behaviors","PerfectScrolling","behaviorClass","TabableRegion","isProgressFailed","inArray","isProgressCompleted","isProgressFinalizing","getLocalizedLocation","langForStatus","bundleNumber","currentLocation","unset","reset","updateProgressPanel","failedCount","notificationIcon","closeAction","parent","header","_isRendered","sort","showretryAll","showretryAllElem","showProgressBar","show","loadingDots","_getFormatString","failed","expandIcon","allowMultipleInstances","minimizeButton","stateExpandCollapse","arrow","doExpand","doCollapse","isempty","str1","str2","formattedString","fileName","allDone","processing","allAborted","stopped","finalizing","aborted","item","sequence","childView","childViewContainer","childEvents","click:gotolocation","keydown:item","childViewOptions","reorderOnSort","hideGotoLocationSingleSet","uniqueId","comparator","nextModel","collapseAction","expandAction","childContainer","click @ui.closeAction","keydown @ui.closeAction","click @ui.collapseAction","click @ui.expandAction","keydown @ui.expandAction","click @ui.minimizeButton","keydown @ui.minimizeButton","keydown @ui.gotoLocationElem","click @ui.retryAll","keydown @ui.retryAll","animated","items","collapsePanel","expandPanel","one","transitionEnd","findByIndex","handleKeydownOnExpand","handleKeydownOnCollapse","onKeyInViewMinimize","_doProcessbarMinimize","onKeyInParentView","focusChanged","allFocusableElements","_getAllFocusableElements","currentlyFocusedElem","document","activeElement","has","target","nextFocus","onChildViewKeydown","childview","nextFocusIndex","doShow","relatedView","showPanel","isDestroyed","doResize","toArray","unshift","doClose","panel","csuiAfterHide","destroy","fadeoutPanel","handleKeydownOnClose","sizeToParentContainer","minWidth","parseInt","parentWidth","width","uncompressedMinWidth","newWidth","translateX","settings","rtl","transform","handleGotoLocationClick","navigateToLocation","chidlView","processRetryAll","FewerDetails","MoreDetails","CloseDialog","closeDialogAria","link_url","link_label","detailsId","details_text","action_moredetails","action_fewerdetails","headerId","header_text","closeDialog","message_with_link","messageClassMap","success","success_with_link","warning","none","stateIconClassMap","closeIconClassMap","stateIcon","closeIcon","messageLink","click @ui.messageLink","focusout @ui.closeIcon","_clearTimeout","details","detailsText","existingDialogs","existingDialogCount","top","margin","currentDialogDetailsWrapper","margin-right","margin-left","csuiAfterShow","_setTimeout","enablePermanentHeaderMessages","timeout","clearTimeout","targetFolder","onClickLink","stateClass","closeClass","replaceDummyBackImg","contentView","View","empty","click @ui.cancel","cancelAndHide","xhr","updateXHRReference","dialogSize","dlgTitleId","dlgMsgId","headerClass","showTitleCloseButton","showTitleIcon","closeButtonAria","titleCloseIcon","titleIcon","16","18","20","lambda","buttons","labelYes","22","labelNo","24","labelCancel","showHeader","showYes","showNo","showCancel","YesButtonLabel","NoButtonLabel","OkButtonLabel","CancelButtonLabel","CloseButtonLabel","CloseButtonAria","DefaultWarningTitle","DefaultInfoTitle","DefaultErrorTitle","DefaultSuccessTitle","DefaultMessageTitle","DefaultQuestionTitle","TabKeyBehavior","ModalAlertView","modalClass","defaultButton","triggers","click .csui-yes","click .csui-no","shown.binf.modal","hide.binf.modal","hidden.binf.modal","recursiveNavigation","buttonLabels","isEmpty","defaultOptions","Information","centerVertically","_deferred","Deferred","templateVals","clone","render","binf_modal","triggerMethod","$clone","appendTo","getDefaultContainer","round","height","remove","onShown","notify","_setTabFocus","onHiding","onHidden","callback","_result","resolve","onKeyDown","onClickYes","onClickNo","tabShift","tabElements","_getStartIndex","$tabElem","startIndex","Success","Warning","Message","Question","YesNoCancel","YesNo","OkCancel","Ok","Yes","No","showSuccess","_makeOptions","_show","showInfo","showInformation","showWarning","showError","showMessage","confirmSuccess","confirmInfo","getStackTrace","confirmInformation","confirmWarning","confirmError","confirmQuestion","confirmMessage","parameters","defaultButtons","MessageHelper","ProgressPanelView","MessageView","CustomWrapperView","LoaderPanelView","ModalAlert","hasDefaultRegion","globals","setMessageRegionView","messageRegionView","_cleanupPreviousMessageRegion","useClass","classNames","enableMinimiseButtonOnProgressPanel","fileUploadCollection","progressPanel","_makeProgressPanel","setFileUploadCollection","hideFileUploadProgress","showFileUploadProgress","showProgressPanel","actionType","add","relativeView","isActionInProgress","inProgress","showPermissionApplyingProgress","permissionAppliedCollection","__makePermissionProgressPanel","showLoader","loaderPanel","_makeLoaderPanel","args","always","resp","changeLoaderMessage","_showMessageView","showCustomView","customView","_ensureMessageRegion","messageView","activatePanel","createPanel","_addEventHandlers","resizeHandler","resizePanel","once","modalContainer","messageContainer","style","GlobalMessage","CommandHelper","CommandController","executeAction","action","status","signature","command","findWhere","promises","execute","isArray","when","fail","showOfflineMessage","NodeCollection","defaultActionItems","DefaultActionController","actionItems","shortcut","fakedActions","original","_fakeActions","getAction","nodes","_resetFakedActions","mobile","enabled","actionItem","hasAction","actions","map","getAllCommandSignatures","version","Url","NextNodeModelFactory","SearchQueryModelFactory","nodeLinks","_searchQuery","defaultActionController","onExecuteDefaultAction","can","JSON","stringify","pick","getDefaultActionNodeUrl","getUrl","lastIndexOf","substr","control","mousedown @ui.control","focusout @ui.control","keydown @ui.control","_isFocused","_isRendering","isRendered","controlEl","_reApplyFocus","_isActive","_startActive","_stopActive","suggestion","low","modelEvents","change","messageArea","mouseenter","mouseleave","canShowPopover","onShow","that","closest","binf_popover","content","html","placement","popOverSource","maxWidth","maxHeight","offset","window_left","left","window_top","window_right","outerWidth","window_bottom","outerHeight","showPopover","hidePopover","ErrorControlView","cvclass","loadingWidgetFailedMessage","loadingWidgetFailedSuggestion","require","ErrorView","WidgetContainerBehavior","widgetsResolved","_resolveWidgets","enumerateWidgets","widget","then","resolveWidget","whenAll","getErrorWidget","originalWidget","_loadWidget","Widget","path","deferred","lastSlash","substring","propagateEventsToViews","views","Array","slice","_eventsToPropagateToViews","_propagateEventToViews","cancelEventsToViewsPropagation","_cancelEventToViewsPropagation","_isShown","_isAttached","isNodeAttached","triggerMethodOn","ViewEventsPropagationMixin","ColumnView","_addSizeClasses","_addOffsetClasses","_addPullClasses","_addPushClasses","_addHeightClasses","unique","join","tmpAttributes","widgetType","data-csui-widget_type","data-csui-cell_address","cellAddress","cellBehaviours","_init","_createRows","_registerModelEvents","_createCell","cell","rows","_updateWidget","_updateSizes","newWidget","attrs","_renderContent","cellConstructionFailed","grid","onBeforeDestroy","_destroyContent","sizes","xs","sm","md","lg","xl","xxl","pulls","pushes","heights","RowsView","CellView","_getCellView","cellViewOptions","_getCellViewOptions","fullOptions","cellView","RowView","child","rowBehaviours","columns","GridRowView","_convertCollection","Collection","_convertRows","addressPrefix","row","rowIndex","_convertColumns","column","colIndex","shortcutTypeLabel","nodeTypeUnknown","imageUrl","mainSvgId","spritePath","mainClassName","blockParams","depths","overlaySvgIds","11","overlayClassNames","useDepths","nodeSpriteCollection","sprite","NodeTypeIconModel","_getAttributesFromNode","_updateModelFromNode","mimeTypeFromNodeSprite","exactNodeSprite","findByNode","exactClassName","exactSvgId","originalNodeSprite","getSpritePath","svgId","clear","tagName","class","aria-label","NodeTypeIconView","ownModel","_updateTitle","loadingText","suppressBlockingView","getObjectName","hideImage","suppressedViews","releaseBlockingViews","globalBlockingView","showImage","element","logParentBlockActions","indicator","blockingView","counter","logChildBlockActions","childWithBlockingView","toggleSuppression","suppress","method","delay","disableDelay","globalOnly","detachableBlockingView","enableDelay","BlockingView","serializeData","enable","local","_getGlobalBlockingView","disableTimeout","enableTimeout","disable","_hide","_clearTimeouts","_resetGlobalBlockingView","makeGlobal","detachable","ParentWithBlockingView","blockActions","_blockingCounter","blockWithoutIndicator","unblockActions","showBlockingView","append","destroyBlockingView","imbue","blockingPrototype","ChildWithBlockingView","suppressAll","resumeAll","delegate","childWithBlockingViewPrototype","PerspectiveAnimator","perspectivePanelView","effect","startAnimation","perspectiveView","redraw","swapPerspective","currentPerspectiveView","upcomingPerspectiveView","_insertPerspective","_transitionEnd","showPerspective","finishAnimation","transition","transitions","WebkitTransition","MozTransition","OTransition","createElement","PerspectiveFactory","createPerspective","_loadPerspective","PerspectiveView","AuthenticatedUserModel","user","authentication","done","authenticator","setUserId","ApplicationScopeModel","applicationScope","CollectionFactory","NodeModelFactory","NodeAncestorCollection","ancestors","autoreset","subcrumbTooltip","subcrumbs","inactive","hasSubCrumbs","breadcrumbAria","click a.csui-breadcrumb","_getModel","subCrumbs","isLastChild","getAncestorUrl","crumb","displayName","name_formatted","BreadCrumbItemView","childIndex","size","completeCollection","initialize","synchronizeCollections","stop","noOfItemsToShow","_startSubCrumbs","startSubCrumbs","_subCrumbsLength","accLastBreadcrumbElementFocused","accNthBreadcrumbElementFocused","resizeTimer","_onWindowResize","_adjustToFit","_breadcrumbSelector","breadcrumbElements","onKeyInView","allBreadcrumbElements","skipAdjustToFit","excerpt","_removeAncestorsFromStopPoint","_removeAncestorsToNumItemsToShow","_refreshBreadCrumbsDisplay","subCrumbsMenu","displayArr","range","rangeVal","splice","refresh","maxDisplayWidth","_getMaxDisplayWidth","_getDisplayWidth","_shrinkToFit","_expandToFit","tabEvent","Event","shrinkableItems","devicePixelRatio","_adjustSubCrumbsLengthBy","amt","min","offsetWidth","childs","displayWidth","click:ancestor","onClickAncestor","nodeId","viewStateModel","viewState","omit","BROWSING_TYPE","breadcrumbs","hide","hideBreadcrumb","classList","hideSubCrumbs","$subCrumb","updateStopId","newId","stopId","limit","AncestorCollectionFactory","ApplicationScopeModelFactory","BreadcrumbsView","BreadcrumbsPanelTemplate","LayoutView","tileBreadcrumb","breadcrumbsWrap","breadcrumbsInner","_showOrHideBreadcrumbs","getCollection","_breadcrumbsVisible","_breadcrumbsAvailable","fetchOnCollectionUpdate","hideBreadcrumbs","showBreadcrumbs","propagateEventsToRegions","_eventsToPropagateToRegions","_propagateEventToRegions","regionManager","getRegions","currentView","NamedLocalStorage","UserModelFactory","BreadcrumbsPanelView","LayoutViewEventsPropagationMixin","PerspectiveWithBreadcrumbView","breadcrumbRegion","perspectiveRegion","_supportMaximizeWidget","_supportMaximizeWidgetOnDisplay","serializePerspective","perspectiveModel","perspectiveMarginClass","perspectiveType","perspective","updateUserPreferences","breadcrumbsAvailable","breadcrumbsPanel","onDomRefresh","userId","userPreferences","prefVisible","_setBreadcrumbsVisibility","args1","args2","breadcrumbsVisible","visible","PerspectiveWithBreadcrumbFactory","supportMaximizeWidget","progressWheel","waitForData","perspectiveShowDelay","limitTimeToWaitForData","maximumTimeToWaitForData","pageUnloading","perspectiveFactory","perspectiveAnimator","_addMaximizedWidget","_removeMaximizedWidget","onChangePerspective","onEnterEditPerspective","onExitEditPerspective","onSerializePerspective","fetchTimeout","_startPerspectiveLoading","_finishPerspectiveLoading","onRendered","_maximizedWidgets","_currentPespectiveStack","_currentPerspectiveSignature","actionsBlocked","perspectiveToEdit","isSwitchingEditMode","doChangePerspective","_showModalError","targetPerspective","sourceModel","res","enableMaximizeButton","_setSupportMaximizeWidget","_swapPerspective","indexOf","_showError","_isInPerspectiveEditMode","perspectiveMode","_triggerDomRefreshOnCurrentPerspective","_setShowingMaximizedWidget","showingMaximizedWidget","ev","currentPerspective","_getCurrentPerspectiveSignature","maximizedWidgetInfo","perspectiveSignature","getCellAddress","_maximizeWidgetView","widgetView","_restoreWidgetViewSize","_getPerspectiveViewEl","cellSignatures","address","_resetWidgetMaximization","showTimeout","perspectiveShown","_showPerspective","fetchData","statusCode","href","scopeId","eventName","_showPerspectiveForEditMode","finishShowingPerspective","body","scrollTop","perViewIndex","oldPerspectiveView","newPerspectiveView","Events","mixin","_rebuildFocusableElements","focusableElements","findFocusables","_focusHolder","refreshFocusEngage","modalElement","currentIndex","focusableCount","cancelEvent","first","disengage","engageModalKeyboardFocusOnOpen","_allyHandles","disengageModalKeyboardFocusOnClose","hasEngagedModalKeyboardFocus","tab_type","uniqueTabId","linkId","selected","registerHelper","getClosestLocalizedString","tabLinkTemplate","_isOptionActiveTab","role","show.binf.tab > a","shown.binf.tab > a","link","active","activeTabIndex","activeTab","max","at","activate","removeAttr","binf_tab","isActive","onShowingTab","onShownTab","_findNextFocusableElementIndex","start","reverseDirection","tabElemId","elemsLength","keyboardBehavior","tabableElements","$currentElem","closestTabable","_findNextValidFocusableElementIndex","_setFirstAndLastFocusable","currentlyFocusedElementInternal","elementCursor","tabPanel","activatingTab","curPos","currentTabPosition","$elem","_autoScrollUntilElemIsVisible","_accSetFocusToPreviousOrNextElement","previous","newTabbedElement","containTargetElement","contain","pos","parents","isSameNode","numberOfTabableElements","tabable","KeyboardBehaviorMixin","refreshTabableElements","lastElemIndex","$tabLink","tabID","_isTablinkVisibleInParents","tabIndex","_findTabIndexByID","skipAutoScroll","csuiPromise","animationOff","_autoScrollTabTo","ret","keyboardActionDeleteTabPosition","_focusOnTabContent","hrefElem","$hrefElem","focusEvent","tabId","leftScroll","deleteEvent","tabLinksTemplate","TabLinkView","TabLinksKeyboardBehavior","mode","tabType","_updateActiveTab","onChildviewActivateTab","$link","linkView","_index","levels","percentX","percentY","isElementVisibleInParents","deleteTabById","TabContentView","contentRegion","delayTabContent","_createContent","_ensureContent","uTabId","aria-labelledby","_ensureViewIsIntact","tabContent","tabPane","tabLink","ContentView","_getContentView","contentViewOptions","_getContentViewOptions","containerCollection","alreadyRefreshedTabableElements","keyboardAction","refreshTabableElementsAndSetFocus","focusPos","foundFocusable","activeTabContent","alpaca","urlelem","click","searchTabContentForTabableElements","tabContentAccSelectors","currentTabPos","updateCurrentTabPosition","childTabPanelView","childTabPanel","activeTabLink","TabContentKeyboardBehavior","TabContentProxyKeyboardBehavior","TabContentCollectionView","implementTabContentsDefaultKeyboardHandling","reactToChildEvent","_setLastTabCssClass","targetSelector","binf_scrollspy","onReorder","onAddChild","onRemoveChild","lastChildView","getLastVisibleChild","lastModel","findByModel","getTabContentFirstFocusableELement","charAt","elems","tabLinkHref","tabLinks","tabLinksIndex","tabContents","tabContentIndex","_focusOnElement","_checkAndRefreshTabableElements","$focusElem","_moveTo","$focusingElem","isMSBrowser","srcElement","tabContentHeaderIndex","tabContentHeader","attachHtml","prependChild","insertBefore","childNodes","appendChild","preventDestroy","_destroyView","_isDestroyed","supportsDestroyLifecycle","TabLinkCollectionView","VersionModel","TabPanelKeyboardBehavior","NonEmptyingRegion","PubSub","TabPanelView","_generateUniqueTabId","initialPanel","initialTabIndex","findIndex","initialPanelModel","selectedTab","linksRegion","_setModelUniqueTabId","_scrollToActiveTab","extraTopOffset","hrefElems","tabPosTop","offsetTop","scrollspy","animate","newTabHeaderText","pubsubPostFix","objPubSubId","_bindingToEvents","TabLinkCollectionViewClass","TabContentCollectionViewClass","tabs","tab","deleteTooltip","deleteTabAria","gotoNextTooltip","gotoPreviousTooltip","requiredTooltip","showMore","_initializeToolbars","tabsSelector","tablinksToolbar","tooltip","leftToolbar","gotoPreviousPage","_gotoPreviousTabClick","_hideLeftToolbar","rightToolbar","gotoNextPage","_gotoNextTabClick","_listenToTabEvent","_listenToTabIdEvent","iTabs","scrollspyActivatingTab","scrollspyActivatingTabId","_beginTabHidden","tabHidden","tabVisible","_trailingTabHidden","_firstVisibleTabIndex","_lastVisibleTabIndex","_showLeftToolbar","_hideTabLinkByRequiredSwitch","$tab","_hideTab","tabDeleteIcon","_showTabLinkByRequiredSwitch","removeable","_showTab","_showLastTab","_enableToolbarState","toggle","_gotoPreviousTab","visibleIndex","nextIndex","_gotoNextTab","visibleTabIndex","lastTabIndex","defBeingHandled","$tab2","j","$tab1","duration","recurse","opts","autoScrollingLastTab","_autoScrollLastTab","_autoScrollFirstTabAsync","$tab0","iteration","iDeferred","iter","_autoScrollFirstTab","scrollOptions","firstVisibleIndex","lastVisibleIndex","_autoScrolling","iActive","toolbar","required_tooltip","delete_tooltip","delete_icon","required","allow_delete","tabLinkExtTemplate","focus .cs-delete-icon","blur .cs-delete-icon","click .cs-tablink-delete","deleteIcon","deleteIconParent","_setRemoveable","onFocusDeleteIcon","onBlurDeleteIcon","onDelete","deleteCurrentTab","TabLinkViewExt","TabLinkCollectionViewExt","click .left-toolbar","click .right-toolbar","onToolbarClicked","prepareForGlobalAlert","handleAlertInProgress","handleAlertComplete","disableCurrentFocusElementHandler","originalCurrentlyFocusedElement","MetadataModel","MetadataModelPrefix","metadataModel","MetadataModelFactory","getViewStateDropdown","getViewState","getDefaultViewStateDropdown","getDefaultViewState","setViewStateDropdown","default","setDefaultViewState","setViewState","setViewStateId","metadataInfo","getViewStateId","isMetadataNavigation","navigator","getThumbnailViewState","isThumbnailView","getViewStateSelectedProperty","selectedProperty","getViewStatePage","_parsePageInfo","getDefaultViewStatePage","page","split","skip","setViewStatePage","getViewStateOrderBy","uiState","orderBy","order_by","_formatOrderBy","replace","getDefaultViewStateOrderBy","setViewStateOrderBy","stateOrderBy","getViewStateFilter","setViewStateFilter","filtersString","encode","getViewStateTabIndex","setViewStateTabIndex","blockingParentView","fetchMoreItemsThreshold","_bindScrollingEvents","_unbindScrollingEvents","_checkScrollPosition","_content","contentH","sum","scrollableHeight","_checkScrollPositionFetch","totalCount","fetching","skipCount","setSkip","merge","triggerScrollbarUpdate","ParentScrollbarUpdatingRegion","searchPlaceholder","searchIconTitle","searchIconAria","headerTitle","searchButton","searchBox","searchInput","clearer","click .icon-search","_renderSearchButton","_toggleSearching","searchButtonSelector","iconTitle","iconAria","_bindUIElements","direction","DragAndDropItemBehaviour","_registerListeners","_initDnD","DRAGGABLE_CLASSNAME","DRAGGABLE_DATA_ATTR","DnDItemBehaviour","placeholder","handle","draggableItem","disableDraggable","over","receive","_initSorting","_getPlaceholder","currentItem","nodeName","toLowerCase","sortable","update","_onSortStart","_onSortStop","out","dragItemId","modelIndex","updatedIndex","invalidWidgetOptions","invalidWidget","widgetsMigrated","widgetValidationFailed","WidgetModel","PerspectiveUtil","CONSTANT_FIELD_TYPES","PerspectiveEditMixin","prepareForEditMode","isValid","_notifyAboutWidgetMigrations","widgets","resolveDeprecates","widgetModel","useInstead","migratedView","migrateData","uniqueWidgets","chain","pluck","allWidgets","w","_resolveWidget","resolvedWidgets","foundDeprecatedWidgets","byId","finalWidget","supressError","_errorHandler","_successHandler","manifest","deprecated","userInstead","serializeWidget","constantsDataSeed","getExtraWidgetKeys","___pman_opencallout","removeNullsInObject","widgetManifest","constantsData","collectionConstantData","constants","seed","isObject","executeCallbacks","MODE_PERSONALIZE","perspectiveWidgets","loadCallbacks","widgetsWithCallback","widgetWithCallback","initializeWidget","groupBy","deferredEach","widgetCallback","compact","results","priority","overrideType","scope","containerType","perspectiveParentId","overrideObjId","assetContainerId","previousPerspectiveWidgets","getPreviousWidgets","previousWidgets","callbackPromise","getHiddenWidgetOptions","responseParameters","deferredOptions","deferredContainer","widgetPromises","errors","ensureContainerPromise","useOverrideContainer","ensureContainer","response","isUndefined","ac","promiseBefore","defineWidgetOptionsCommon","commonOptions","newOptions","defineWidgetOptionsEach","errorMsg","now","random","toString","isNaN","perspectiveAssetsVolume","collectOptions","parent_id","responseJSON","makeAjaxCall","getEmptyPlaceholderWidget","getEmptyPlaceholderWidgetType","__isPlacehoder","isEmptyPlaceholder","validateAndGenerateWidgetId","hasWidgetId","KEY_WIDGET_ID","generateWidgetId","widgetIds","uniq","every","obj","_checkAndRemove","isNull","tileLabel","headerLabel","fullpageLabel","WidgetCollection","GridView","DnDContainerBehaviour","commonLang","defaultWidgetKind","widgetSizes","fullpage","widths","widetile","tile","FlowPerspectiveView","parentClassName","cellOptions","widgetContainer","errorWidget","_preInitialize","_postInitialize","_prepareOptionsForEditMode","isHiddenWidget","extWidgets","values","flatten","_wrapped","filterUnSupportedWidgets","_createCollection","_registerEditEvents","addCell","widgetConfig","newCell","_prepareGridCell","firstHiddenIdx","PerspectiveWidgetConfig","_createDnDPlaceholderWidget","_getDnDPlaceholder","popoverTarget","placeholderWidget","removeData","resolvedWidget","sender","position","preloadedWidgetView","isEligibleForLiveWidget","kind","pespectiveWidgetView","___pman_isdropped","_ensurePlaceholder","cells","placeholderCell","idealIndex","_getPlaceholderIdealIndex","currentPlaceIndex","MODE_EDIT_PERSPECTIVE","dndPlaceholderCell","dragEl","_replaceWidget","currentWidget","widgetToReplace","getPManPlaceholderWidget","widgetUpdates","firstRow","_createColumns","columnIndex","supportedKinds","getSupportedWidgetSizes","suppKind","widgetModels","constant_data","perspectiveResult","constant_extraction_mode","getPerspective","WidgetContainer","supportedWidgets","_enumerateWidgetRow","ZonePerspectiveView","zoneNames","unSupportedWidgets","layoutName","_getLayoutName","zoneLayouts","zoneLayout","zoneOrder","zone","zoneConfig","zoneSizes","zoneContent","deferreds","serializeOptions","layout","center","right","left-center","center-right","left-right","left-center-right","_prepareForEditMode","ActiveTabModel","renderExtension","destroyExtension","refreshTab","tabRightExtensionIndex","tabBarLeftExtensionViewClass","tabBarLeftExtensionViewOptions","tabBarRightExtensionViewClass","tabBarRightExtensionViewOptions","tabBarLeftExtensionsRegion","showExtension","tabBarRightExtensionsRegion","viewClass","viewOptions","viewRegion","tabBarExtensionView","customClass","ActiveTabModelFactory","TabLinksScrollMixin","TabExtensionsBehavior","NodeViewStateMixin","perspectiveTemplate","NODE_TYPES_TO_RESET_TAB","GridRowWidgetContainerView","TabWidgetContainerView","col","TabbedPerspectiveView","headerRegion","_initActiveTabFromViewState","CONSTANTS","ALLOW_WIDGET_URL_PARAMS","addUrlParameters","onViewStateChanged","_resetTab","_onPerspectiveRetainedOrChanged","navigationHeader","_createWidget","tabBarLeftExtensionView","tabBarRightExtensionView","disableExtensionOnFirstTab","disableExtensionOnOtherTabs","_updateToggleHeaderState","_onActiveTab","_notifyHeader","isCollapsed","onBeforeRender","forceActivation","isTabContentCreated","tabPanels","querySelectorAll","activateTabWhenReady","removeTab","deleteConfirmTitle","deleteConfirmMsg","newTabTitle","newTabInput","click @ui.link","dblclick @ui.tabLink","keydown @ui.editInput","keyup @ui.editInput","focusout @ui.editInput","click @ui.tabRemove","editInput","tabRemove","_onShowTab","_onTabRemove","alertDialog","yes","_doRemoveTab","_onTabClick","_editTab","_setEdit","isEdit","_onInputFocusOut","_onInputKeydown","which","_onInputKeyup","_setTabTitle","newTitle","addNewTab","before:edit","click @ui.addNewTab","remove:tab","enable:addTab","disable:addTab","_onRemoveTab","tabView","isDeletingActive","tabToActivate","_onAddNewTab","newTab","enableAddTab","disableAddTab","onBeforeEditTab","EditPerspectiveTabLinks","_initEditMode","perspectiveSelector","placeholderW","TabbedFlowPerspectiveView","_prepareCell","tabBarExtensionViewClass","tabBarExtensionViewOptions","enableExtensionOnFirstTab","HeaderView","PerspectiveWidgetConfigBehaviour","_handleReplaceWidget","_ensureRegion","headerContainer","getPManWidgetConfig","headerView","headerWidget","activeRouter","previousRouter","Router","_routeWithSlashes","routeWithSlashes","onOtherRoute","_restoreUrlParamsFromViewState","urlParams","URL_PARAMS","parse","getUrlParametersList","urlParameters","concat","_clearViewStateModel","keys","modified","getActiveRouter","getPreviousRouter","getInitialViewState","setDefault","restoring","_activeRouterChanged","isViewStateModelSupported","_initializeViewState","buildUrlParams","defaultViewState","paramsArray","initialUrlParams","entry","param","defaultValue","_addToParamsArray","object","found","some","restore","routerInfo","fragment","applicationScopeId","urlParam","CURRENT_ROUTER","LAST_ROUTER","navigate","history","back","initSessionViewState","SESSION_STATE","initDefaultViewState","DEFAULT_STATE","getUrlParamsNotInFragment","notInFragment","inUrl","allRoutersUrlParams","initViewStateFromUrlParams","query_string","parseParams","params","originalFragment","excludeUrlParams","urlParamsNotInfragment","appendQuery","mergeUrlParams","ViewStateConstants","viewStateCurrentRouter","newRouterInfo","router","navigateOptions","STATE","sessionState","defaultState","updateRoutingHistory","CURRENT_ROUTER_FRAGMENT","CURRENT_ROUTER_NAVIGATE_OPTIONS","CURRENT_ROUTER_SCOPE_ID","routing","extraRouters","PerspectiveRouting","DefaultRouters","Routers","isDefault","reverse","routesWithSlashes","_routers","_informOthers","_context","_originalHistoryLength","instance","handlerUrlPathSuffix","rootUrlPath","historyOptions","pushState","combine","pathname","getCgiScript","getPath","decodeFragment","hasRouted","restoreRouter","lastRouterInfo","getInstance","ProductName","UserTitle","NodeTitle","MetadataTitle","PermissionsTitle","SearchTitle","FavoritesTitle","MyAssignmentsTitle","RecentlyAccessedTitle","UserLoadingTitle","NodeLoadingTitle","Home","mainNavigationAria","profileMenuTitle","profileMenuAria","profileImageAlt","PerspectiveRouter","publicLang","routes","*other","_updateHomeUrl","_updatePageTitle","openLandingPerspective","formatMemberName","nodes/:id","nodes/:id(?*query_string)","_updateNodeUrl","openNodePerspective","usesIntegerId","setId","navigation","nextNodeId","uri","encodeURIComponent","_updateSessionState","newSessionState","showTitle","search/*path","_updateSearchUrl","openSearchPerspective","decodeURIComponent","trim","ensureFetched","routerURL","_extractParameters","route","MetadataFactory","nodes/:node_id/metadata","nodes/:node_id/metadata(?*query_string)","nodes/:node_id/metadata/navigator","nodes/:node_id/metadata/navigator(?*query_string)","_updateUrl","openMetadata","_open","openMetadataNavigator","metadata_info","dropdown","METADATA_CONTAINER","dropdownTitle","modelTitle","applicationScopes","myassignments","recentlyaccessed","favorites","myassignments(?*query_string)","recentlyaccessed(?*query_string)","favorites(?*query_string)","openRecentlyAccessedPerspective","openApplicationScope","openMyAssignmentsPerspective","openFavoritesPerspective","equals","forced","urlQuery","func","objAction","objId","nexturl","order","summaries","RS_FUNCTION","RSID","getContentPageUrl","cgiUrl","nodeid","vernum","combineQueryString","classicNodes","smartNodes","decides","isForced","isSupported","openAuthenticatedPage","createField","field","contentDocument","setAttribute","form","ticket","session","openInNewTab","open","submit","TaskQueue","parallelism","Infinity","pending","TaskCollection","Task","dequeue","task","shift","NodeAddableTypeCollection","addableTypes","Factory","_getFactory","hasObject","_factories","factories","internal","hasModel","hasCollection","getFactory","all","_destroyAllFactories","_destroyNonPermanentFactories","_destroyTemporaryFactories","factory","_isFetchable","clonedOptions","request","statusText","messageText","detached","temporary","permanent","_getPropertyName","stamp","createIfNotFound","objectOptions","nameOptions","factoryOptions","globalOptions","propertyName","factoryName","ContextPlugin","Context","nodeOptions","includeResources","onNextNodeChanged","openNodePage","delayCommands","resetCommands","resetDefaultActionCommands","setCommands","setDefaultActionCommands","setEnabledDelayRestCommands","relayActionEvents","delayRestCommands","delayedActions","relayRequestNodeActions","relaySyncNodeActions","relayErrorNodeActions","relayUpdateNodeActions","resumeRelayingActionEvents","relayingActionEvents","_fetchStarted","_fetchSucceeded","_fetchFailed","updateNodeActions","suppressRelayingActionEvents","NodeOpeningContext","PreviousNodeModelFactory","contextPlugins","_changeNode","previousNode","Plugins","plugins","_plugins","Plugin","plugin","enterContainer","openNewNodePage","_enteringContainer","continueFetching","onCreate","onApply","onClear","onRefresh","RulesMatchingMixin","extraPerspectives","UserPerspectiveModel","important","makeRulesMatching","UserPerspectiveCollection","findByUser","matchRules","userPerspectives","PerspectiveContextPlugin","landingPerspectives","PersonalizationModel","_fetchLandingPerspective","userFactory","_onUserFetchSuccess","rejectPerspective","loadPersonalization","_changePerspective","personalization","perspectiveModule","overridePerspective","applyPerspective","NodePerspectiveModel","NodePerspectiveCollection","nodePerspectives","persist","extraNodeData","getModelFields","modelFields","nodeData","getModelExpand","modelExpands","nodeExtraData","createNodeModel","sendOriginParams","nextNodeFactory","_fetchNodePerspective","_clearModels","recreateNode","clearCurrentNode","delayChangeEvents","triggerAllChanges","_onNodeFetchSuccess","headers","X-OriginParams","classicUrl","perspectiveCollection","SearchPerspectiveModel","SearchPerspectiveCollection","findByQuery","query","searchPerspectives","_fetchSearchPerspective","forcePerspectiveChange","loadPerspective","_fetchMetadataPerspective","_prepareContext","contextSync","containerNode","_syncContextToNode","_doneFetchingNode","_errorFetchingNode","_contextNodeIdChanged","parentNode","perspectiveName","supportedPerspectives","_fetchRootPerspective","loadingPerspective","GlobalError","globalError","PerspectiveGuide","sortKeys","a","isNew","oldPerspective","newPerspective","attributeA","attributeB","isEqual","GlobalErrorModelFactory","LandingPerspectiveContextPlugin","online","perspectiveGuide","_applicationScope","_user","fetchPerspective","forceChange","wrapperModel","_interceptApplyPerspective","_continueApplyingPerspective","informFailure","_informFailure","errorDetails","errorHandled","offlineErrorHandler","AppContainerMixin","NodeAncestorsFactory","adaptAddableType","ancestor","type_name","relayEvent","AppContainerFactory","ancestorFactory","makeAppContainer","queryparams","getResourceFieldsUrlQuery","getBrowsableUrlQuery","without","baseUrl","getApiBase","appUrl","prefetchedModels","textStatus","addableTypesPromise","prefetchOptions","contents","props","massageResponse","childrenPromise","links","ancestorsPromise","addMenu","add_menu","addable_node_types","errorThrown","NodeChildrenCollection","allCommands","NodeChildren2Collection","children2","useSpecialPaging","NodeChildrenFactory","NodeColumn2Collection","completeDefinitions","definitions","definitionMap","definition","column_key","default_action","contextual_menu","editable","filter_key","initialSortingDescending","sort_key","markDisplayableColumn","columnKey","formattedIndex","definitions_order","areDifferent","objects","expected","columnProperties","actual","Column2CollectionFactory","columns2","_resetColumns","AuthenticatedUserNodePermissionModel","userNodePermission","volume","setExpand","searchResults","ra_access_date_last","ra_parent_id","ra_size","ma_type","ma_name","ma_location_name","ma_date_due","ma_priority","ma_status","ma_from_user_name","fav_parent_id","fav_size","owner","created","createdBy","ConnectableMixin","FetchableMixin","AdditionalResourcesV2Mixin","FieldsV2Mixin","ExpandableV2Mixin","CommandableV2Mixin","ClientSideBrowsableMixin","BrowsableV2ResponseMixin","NodeChildrenColumnModel","NodeChildrenColumnCollection","FavoriteColumnModel","FavoriteColumnCollection","getColumnModels","columnKeys","FavoriteModel","fav","fav_version","versions","short_name","container_size","file_size","FavoriteCollection","makeConnectable","makeFetchable","makeAdditionalResourcesV2Mixin","makeFieldsV2","makeExpandableV2","makeCommandableV2","makeClientSideBrowsable","makeBrowsableV2Response","actualSkipCount","filteredCount","getConnectionUrl","getAdditionalResourcesUrlQuery","getExpandableResourcesUrlQuery","getRequestedCommandsUrlQuery","parseBrowsedState","resetColumnsV2","parseBrowsedItems","getResourceScope","deepClone","_additionalResources","setResourceScope","excludeResources","resetFields","setFields","resetExpand","FavoritesCollection","FavoritesCollectionFactory","getDefaultResourceScope","FavoriteCollectionFactory","Favorites2Collection","Favorite2CollectionFactory","getLimitedResourceScope","getDefaultsOnlyResourceScope","Favorite2GroupsCollection","Favorite2GroupsCollectionFactory","favoriteGroups","StateRequestorMixin","MyAssignmentColumnModel","MyAssignmentColumnCollection","getV2Columns","metadata","assignments","location_id_expand","from_user_id_expand","location_name","from_user_name","MyAssignmentModel","first_name","last_name","MyAssignmentCollection","makeStateRequestor","getStateEnablingUrlQuery","originalCompareValues","_compareValues","MyAssignmentCollectionFactory","fetched","MyAssignmentsCollectionFactory","makeServerAdaptor","_getSubtypesUrlQuery","where_types","recentlyAccessedSubtypes","DelayedCommandableV2Mixin","ServerAdaptorMixin","RecentlyAccessedColumnModel","RecentlyAccessedColumnCollection","access_date_last","modify_date","parent_name","RecentlyAccessedModel","ra","ra_version","ra_propertiesUser","ra_parentIdExpanded","properties_user","parent_id_expand","parent_id_expanded","RecentlyAccessedCollection","makeDelayedCommandableV2","_prepareModel","promotedActionCommands","nonPromotedActionCommands","topCount","filters","includeActions","includeCommands","defaultActionCommands","RecentlyAccessedCollectionFactory","recentlyAccessed","MemberModel","member","makeSearchMetadataResponse","parseSearchMetadataResponse","sync","SearchMetadataMixin","SearchMetadataItemModel","idAttribute","SearchMetadataItemsCollection","getColumnKeys","SearchMetadataModel","taskQueue","color","bgcolor","sliceLabels","optionLabels","sliceIds","schema","enum","returnData","slices","sliceIdx","sliceId","sliceDisplayName","SearchBoxModel","autofetch","styleLoad","PerspectivePanelView"],"mappings":"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","file":"csui-data.js","sourcesContent":["csui.define('csui/utils/contexts/factories/factory',['csui/lib/marionette'], function (Marionette) {\r\n\r\n  // These class is usually consumed under names ObjectFactory, ModelFactory or CollectionFactory,\r\n  // depending on the descendant object (see Context.getObject for more information)\r\n  var Factory = Marionette.Controller.extend({\r\n\r\n    constructor: function Factory(context, options) {\r\n      this.context = context;\r\n      this.options = options || {};\r\n    },\r\n\r\n    // Descendants must set a string ID, which will uniquely identify the model in the context\r\n    propertyPrefix: null\r\n\r\n  });\r\n\r\n  return Factory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/connector',['module', 'csui/lib/underscore', 'csui/utils/contexts/factories/factory',\r\n  'csui/utils/connector'\r\n], function (module, _, ObjectFactory, Connector) {\r\n\r\n  var ConnectorFactory = ObjectFactory.extend({\r\n\r\n    propertyPrefix: 'connector',\r\n\r\n    constructor: function ConnectorFactory(context, options) {\r\n      ObjectFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var connector = this.options.connector || {};\r\n      if (!(connector instanceof Connector)) {\r\n        var config = module.config(),\r\n            // The single connection object is used to share authentication\r\n            // among contexts if stored in config; it cannot be cloned\r\n            // TODO: Clone the connection. Modifying the global configuration\r\n            // makes it accessible globally and sensive data easier to steal.\r\n            connection = connector.connection || config.connection || {};\r\n        // The connection object can be merged from multiple sources, which\r\n        // may define connection and authentication parameters separately\r\n        _.defaults(connection, connector.connection, config.connection);\r\n        connector = new Connector(_.defaults({\r\n          connection: connection\r\n        }, connector, config));\r\n      }\r\n      this.property = connector;\r\n    }\r\n\r\n  });\r\n\r\n  return ConnectorFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/next.node',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector', 'csui/models/node/node.model',\r\n  'csui/utils/commands'\r\n], function (module, _, $, Backbone, ModelFactory, ConnectorFactory,\r\n    NodeModel, commands) {\r\n  'use strict';\r\n\r\n  var prefetch = /\\bprefetch(?:=([^&]*)?)/i.exec(location.search);\r\n  prefetch = !prefetch || prefetch[1] !== 'false';\r\n\r\n  var initialResourceFetched;\r\n\r\n  var NextNodeModelFactory = ModelFactory.extend({\r\n    propertyPrefix: 'nextNode',\r\n\r\n    constructor: function NextNodeModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var nextNode = this.options.nextNode || {},\r\n          config   = module.config();\r\n      if (prefetch) {\r\n        this.initialResponse = nextNode.initialResponse || config.initialResponse;\r\n      }\r\n      if (!(nextNode instanceof Backbone.Model)) {\r\n        var fields  = {\r\n              properties: [],\r\n              'versions.element(0)': ['owner_id']\r\n            },\r\n            expands = {\r\n              properties: ['original_id']\r\n            };\r\n        if (nextNode.options) {\r\n          // merge 'fields'\r\n          _.mapObject(nextNode.options.fields, function (val, key) {\r\n            fields[key] = _.union(fields[key], val);\r\n          });\r\n          // merge 'expand'\r\n          _.mapObject(nextNode.options.expand, function (val, key) {\r\n            expands[key] = _.union(expands[key], val);\r\n          });\r\n        }\r\n\r\n        var connector       = context.getObject(ConnectorFactory, options),\r\n            creationOptions = $.extend(true, {\r\n              connector: connector,\r\n              // Do not waste server resources; it returns all it can by default\r\n              fields: fields,\r\n              // Command enabling for shortcuts needs the original node info\r\n              expand: expands,\r\n              // Make sure, that the metadata token is returned for nodes\r\n              // requesated via this factory, because they are supposed to\r\n              // be shared and may be the subject of changes.\r\n              stateEnabled: true,\r\n              // Command enabling needs permitted actions\r\n              commands: commands.getAllSignatures()\r\n            }, config.options, nextNode.options);\r\n        // Next node can be fetshed just like node; keep their defaults in sync\r\n        nextNode = new NodeModel(nextNode.attributes || config.attributes,\r\n            creationOptions);\r\n      }\r\n      this.property = nextNode;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      if (this.initialResponse && !initialResourceFetched) {\r\n        var promise = this.property.prefetch(this.initialResponse, options);\r\n        initialResourceFetched = true;\r\n        return promise;\r\n      } else {\r\n        return this.property.fetch(options);\r\n      }\r\n    }\r\n  });\r\n\r\n  return NextNodeModelFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/search.query.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory'\r\n], function (module, _, Backbone, ModelFactory) {\r\n\r\n  var SearchQueryModel = Backbone.Model.extend({\r\n\r\n    constructor: function SearchQueryModel(attributes, options) {\r\n      SearchQueryModel.__super__.constructor.apply(this, arguments);\r\n    },\r\n\r\n    toJSON: function () {\r\n      return SearchQueryModel.__super__.toJSON.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var SearchQueryModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'searchQuery',\r\n\r\n    constructor: function SearchQueryModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var searchQuery = this.options.searchQuery || {};\r\n      if (!(searchQuery instanceof Backbone.Model)) {\r\n        var config = module.config();\r\n        searchQuery = new SearchQueryModel(searchQuery.models, _.extend({},\r\n            searchQuery.options, config.options));\r\n      }\r\n      this.property = searchQuery;\r\n    }\r\n\r\n  });\r\n\r\n  return SearchQueryModelFactory;\r\n\r\n});\r\n\n","\ncsui.define('css!csui/controls/tile/behaviors/impl/perfect.scrolling',[],function(){});\n","csui.define('csui/controls/tile/behaviors/perfect.scrolling.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/utils/base', 'csui/utils/accessibility',\r\n  'csui/lib/perfect-scrollbar',\r\n  'css!csui/controls/tile/behaviors/impl/perfect.scrolling'\r\n], function (module, _, $, Marionette, base, Accessibility) {\r\n  'use strict';\r\n\r\n  // Default static options for the behaviour object\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    usePerfectScrollbar: false\r\n  });\r\n  if (Accessibility.isAccessibleMode()) {\r\n    config.usePerfectScrollbar = false;\r\n  }\r\n\r\n  // Default options for the perfect scrollbar plugin to be created with\r\n  var defaultPluginOptions = {\r\n    minScrollbarLength: 32,\r\n    stopPropagationOnClick: false\r\n  };\r\n\r\n  var PerfectScrollingRegion = Marionette.Region.extend({\r\n    constructor: function PerfectScrollingRegion(options) {\r\n      Marionette.Region.prototype.constructor.apply(this, arguments);\r\n      // Set when before:swapOut is triggered and reset when its finishing\r\n      // counterpart is triggered to optimize the event handlers for view\r\n      // swapping in the region\r\n      this._swapping = false;\r\n\r\n      // Support scrollbar updates on populating and emptying regions\r\n      this\r\n          .listenTo(this, 'before:swapOut', function () {\r\n            this._swapping = true;\r\n          })\r\n          .listenTo(this, 'swapOut', function () {\r\n            this._swapping = false;\r\n          })\r\n          .listenTo(this, 'show', function () {\r\n            this._requestScrollbarUpdate();\r\n          })\r\n          .listenTo(this, 'empty', function () {\r\n            if (!this._swapping) {\r\n              this._requestScrollbarUpdate();\r\n            }\r\n          });\r\n    },\r\n\r\n    _requestScrollbarUpdate: function () {\r\n      // {this.region}.{owning region manager}.{owning layout view}\r\n      this._parent._parent.trigger('update:scrollbar');\r\n    }\r\n  });\r\n\r\n  var PerfectScrollingBehavior = Marionette.Behavior.extend({\r\n    defaults: {\r\n      contentParent: null\r\n    },\r\n\r\n    constructor: function PerfectScrollingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      this.listenTo(view, 'render', this._applyClasses);\r\n\r\n      if (this._useScrollbar() && this._usePerfectScrollbar()) {\r\n        var updateOnWindowResize = getOption.call(this, 'updateOnWindowResize');\r\n        // Increase when before:render and before:render:collection events\r\n        // are triggered and decrease, when their finishing counterparts are\r\n        // triggered to optimize the event handlers for single view adding\r\n        // or removal\r\n        this._renderState = 0;\r\n\r\n        this\r\n        // Bubbling from a child view with ParentScrollbarUpdatingBehavior\r\n        // and window resizing (if the view resizes itself by CSS only)\r\n            .listenToOnce(view, 'render', function () {\r\n              this.view.$el.on('csui:update:scrollbar.' + view.cid,\r\n                  _.bind(this._updateScrollbarFromPropagation, this));\r\n              if (updateOnWindowResize !== false) {\r\n                $(window).on('resize.' + view.cid, _.bind(this._updateScrollbar, this));\r\n              }\r\n            })\r\n            .listenToOnce(view, 'before:destroy', function () {\r\n              this.view.$el.off('csui:update:scrollbar.' + view.cid);\r\n              if (updateOnWindowResize !== false) {\r\n                $(window).off('resize.' + view.cid);\r\n              }\r\n            })\r\n            // Maintain the rendering state for the events triggered between\r\n            // before:render and render\r\n            .listenTo(view, 'before:render', function () {\r\n              this._renderState = 1;\r\n              // console.log('Perfect scrollbar expects render event',\r\n              //     Object.getPrototypeOf(this.view).constructor.name);\r\n            })\r\n            .listenTo(view, 'render', function () {\r\n              this._renderState = 0;\r\n            })\r\n            // Create and destroy the perfect scrollbar plugin\r\n            .listenTo(view, 'dom:refresh', this._ensureScrollbar)\r\n            .listenTo(view, 'ensure:scrollbar', this._ensureScrollbar)\r\n            .listenTo(view, 'before:render', this._destroyScrollbar)\r\n            .listenTo(view, 'before:destroy', this._destroyScrollbar)\r\n            // Listen to requests for an explicit scrollbar update\r\n            .listenTo(view, 'update:scrollbar', this._refreshScrollbar)\r\n            // Delay listening to the collection events; the collection may\r\n            // not be present in the view or its options yet\r\n            .listenToOnce(view, 'before:render', function () {\r\n              // Support optimized adding and removing child views\r\n              // in CollectionView, which does not call render\r\n              if (view instanceof Marionette.CollectionView && view.collection) {\r\n                this\r\n                    .listenTo(view.collection, 'reset', function () {\r\n                      this._resetTriggered = true;\r\n                      // console.log('Perfect scrollbar expects reset event processed',\r\n                      //     Object.getPrototypeOf(this.view).constructor.name);\r\n                    })\r\n                    .listenTo(view, 'before:render:collection', function () {\r\n                      ++this._renderState;\r\n                      // console.log('Perfect scrollbar expects render:collection event',\r\n                      //     Object.getPrototypeOf(this.view).constructor.name);\r\n                    })\r\n                    .listenTo(view, 'render:collection', function () {\r\n                      this._resetTriggered = false;\r\n                      --this._renderState;\r\n                      // console.log('Perfect scrollbar received render:collection event',\r\n                      //     Object.getPrototypeOf(this.view).constructor.name);\r\n                      // If the collection was re-rendered after catching the\r\n                      // 'reset' event, single child view updates were skipped\r\n                      if (!this._renderState) {\r\n                        // console.log('Perfect scrollbar got update from children reset');\r\n                        this._updateScrollbar();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'render:empty', function () {\r\n                      // If the collection was re-rendered after catching the\r\n                      // 'reset' event, no child view updates were performed\r\n                      if (this._resetTriggered || !this._renderState) {\r\n                        // console.log('Perfect scrollbar got update from children emptied');\r\n                        this._updateScrollbar();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'add:child', function () {\r\n                      // If a child view was added alone, otside the 'reset' event\r\n                      // handler and render() method call, request the update\r\n                      if (!this._renderState) {\r\n                        // console.log('Perfect scrollbar got update from child add');\r\n                        this._updateScrollbar();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'remove:child', function () {\r\n                      // If a child view was removed alone, otside the 'reset' event\r\n                      // handler and render() method call, request the update\r\n                      if (!this._resetTriggered && !this._renderState) {\r\n                        // console.log('Perfect scrollbar got update from child remove');\r\n                        this._updateScrollbar();\r\n                      }\r\n                    });\r\n              }\r\n            });\r\n      }\r\n    },\r\n\r\n    _applyClasses: function () {\r\n      // console.log('Perfect scrollbar got render in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      var classes;\r\n      this._contentParent = this._getContentParent();\r\n      if (this._useScrollbar()) {\r\n        if (this._usePerfectScrollbar()) {\r\n          classes = 'csui-perfect-scrolling';\r\n        } else {\r\n          var suppressScrollX = getOption.call(this, 'suppressScrollX'),\r\n              suppressScrollY = getOption.call(this, 'suppressScrollY');\r\n          classes = 'csui-normal-scrolling';\r\n          if (suppressScrollX) {\r\n            classes += ' csui-no-scroll-x';\r\n          }\r\n          if (suppressScrollY) {\r\n            classes += ' csui-no-scroll-y';\r\n          }\r\n        }\r\n      } else {\r\n        classes = 'csui-no-scrolling';\r\n      }\r\n      this._contentParent.addClass(classes);\r\n    },\r\n\r\n    _ensureScrollbar: function () {\r\n      // obtain content parent from options if it is available.\r\n      this._contentParent = !!this._contentParent ? this._contentParent : this._getContentParent();\r\n      // console.log('Perfect scrollbar got dom:refresh in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      if (!this._contentParent) {\r\n        throw new Error('The \"dom:refresh\"\" event was triggered earlier ' +\r\n                        'than the \"render\" event in view ' + this.view.cid +\r\n                        '(' + Object.getPrototypeOf(this.view).constructor.name + ')');\r\n      }\r\n      if (this._perfectScrollbar) {\r\n        //if (!this._contentParent.data('perfect-scrollbar')) { // 'ps-id' for 0.6.7\r\n        //  throw new Error('Uninitialized perfect-scrollbar in view ' + this.view.cid +\r\n        //                  '(' + Object.getPrototypeOf(this.view).constructor.name + ')');\r\n        //}\r\n        this._contentParent.perfectScrollbar('update');\r\n      } else {\r\n        var options = _.reduce(['suppressScrollX', 'suppressScrollY', 'scrollXMarginOffset',\r\n          'scrollYMarginOffset', 'maxScrollbarLength', 'minScrollbarLength', 'includePadding'\r\n        ], function (result, property) {\r\n          result[property] = getOption.call(this, property);\r\n          return result;\r\n        }, {}, this);\r\n        _.defaults(options, defaultPluginOptions);\r\n        this._contentParent.perfectScrollbar(options);\r\n        this._perfectScrollbar = true;\r\n\r\n        //Keep focus on scroll rail if focus was removed due to an inline click event.\r\n        this._setClickEventFocus();\r\n      }\r\n    },\r\n\r\n    _setClickEventFocus: function () {\r\n      var yRail = this._contentParent.find('.ps-scrollbar-y-rail');\r\n      var xRail = this._contentParent.find('.ps-scrollbar-x-rail');\r\n\r\n      //For chrome only, when you click within a rail to scroll, a mouseleave event is\r\n      //triggered removing focus and hover from the rail. To maintain hover status, a\r\n      //class is added to the scroll rail\r\n      if (base.isChrome()) {\r\n        this._setClickEventRailFocus(yRail);\r\n        this._setClickEventRailFocus(xRail);\r\n      }\r\n      //For FF and IE, when you click to drag a scrollbar, a mouseleave event is\r\n      //triggered removing focus and hover from the rail. To maintain hover status, a\r\n      //class is added to the scroll rail\r\n      else {\r\n        var yScrollBar = this._contentParent.find('.ps-scrollbar-y');\r\n        var xScrollBar = this._contentParent.find('.ps-scrollbar-x');\r\n        this._setClickEventBarFocus(yScrollBar, yRail);\r\n        this._setClickEventBarFocus(xScrollBar, xRail);\r\n      }\r\n    },\r\n\r\n    _setClickEventBarFocus: function (xyBar, xyRail) {\r\n      var self = this;\r\n      xyBar.on('mousedown', function (e) {\r\n        self.addXYFocus = true;\r\n        xyRail.addClass('binf-focus');\r\n      });\r\n      xyRail.on('mouseout', function (e) {\r\n        if (!self.addXYFocus) {\r\n          xyRail.removeClass('binf-focus');\r\n          xyRail.blur();\r\n        }\r\n        self.addXYFocus = false;\r\n      });\r\n    },\r\n\r\n    _setClickEventRailFocus: function (xyRail) {\r\n      var self = this;\r\n      if (xyRail.length > 0) {\r\n        xyRail.on('mouseup', function (e) {\r\n          $(this).addClass('binf-focus');\r\n          self.addXYFocus = true;\r\n        });\r\n        xyRail.on('mouseleave', function (e) {\r\n          if (!self.addXYFocus) {\r\n            $(this).removeClass('binf-focus');\r\n          }\r\n          self.addXYFocus = false;\r\n        });\r\n      }\r\n    },\r\n\r\n    _refreshScrollbar: function () {\r\n      // console.log('Perfect scrollbar was refreshed in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      if (this._contentParent && this._perfectScrollbar) {\r\n        // Workaround for broken views, which re-render their content\r\n        // but do not trigger the render event, like table view.\r\n        if (!(this._contentParent.find('.ps-scrollbar-y-rail').length ||\r\n            this._contentParent.find('.ps-scrollbar-x-rail').length)) {\r\n          this._destroyScrollbar();\r\n          this._ensureScrollbar();\r\n        } else {\r\n          this._updateScrollbar();\r\n        }\r\n      }\r\n    },\r\n\r\n    _updateScrollbar: function () {\r\n      // console.log('Perfect scrollbar got update in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      if (this._perfectScrollbar) {\r\n        this._contentParent.perfectScrollbar('update');\r\n      }\r\n    },\r\n\r\n    _updateScrollbarFromPropagation: function (event) {\r\n      // console.log('Perfect scrollbar got update from a child in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      event.stopPropagation();\r\n      this._updateScrollbar();\r\n    },\r\n\r\n    _destroyScrollbar: function () {\r\n      // console.log('Perfect scrollbar got destroy or re-render in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      if (this._perfectScrollbar) {\r\n        this._contentParent.perfectScrollbar('destroy');\r\n        this._contentParent.find('.ps-scrollbar-y-rail').off();\r\n        this._contentParent.find('.ps-scrollbar-x-rail').off();\r\n        this._perfectScrollbar = false;\r\n      }\r\n    },\r\n\r\n    _getContentParent: function () {\r\n      var contentParent = getOption.call(this, 'contentParent');\r\n      if (contentParent) {\r\n        if (contentParent.insertAfter) { // check for a jQuery object\r\n          return contentParent;\r\n        }\r\n        if (_.isElement(contentParent)) { // check for a HTML element\r\n          return $(contentParent);\r\n        }\r\n        return this.view.$(contentParent); // DOM selector\r\n      }\r\n      return this.view.$el; // use the view root element by default\r\n    },\r\n\r\n    _useScrollbar: function () {\r\n      var scrollingDisabled = getOption.call(this, 'scrollingDisabled') ||\r\n                              getOption.call(this, 'scrollingDisabled', this.view.options);\r\n      return !scrollingDisabled;\r\n    },\r\n\r\n    _usePerfectScrollbar: function () {\r\n      return PerfectScrollingBehavior.usePerfectScrollbar();\r\n    }\r\n  }, {\r\n    // Support showing and emptying regions in LayoutView,\r\n    // which does not call render\r\n    Region: PerfectScrollingRegion,\r\n\r\n    usePerfectScrollbar: function () {\r\n      return config.usePerfectScrollbar &&\r\n             !(base.isTouchBrowser() || base.isIE11() || base.isEdge());\r\n    }\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property, source) {\r\n    var options = source || this.options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return PerfectScrollingBehavior;\r\n});\r\n\n","csui.define('csui/behaviors/keyboard.navigation/tabables.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/utils/log', 'csui/utils/base'\r\n], function (module, _, $, Marionette, log, base) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  // Default static options for the behaviour object\r\n  var config = module.config();\r\n\r\n  var accessibilityRegionClass = 'csui-acc-tab-region';\r\n  var accessibilityActiveRegionClass = 'csui-acc-tab-region-active';\r\n\r\n  // FIXME: deprecated - Remove this behavior class.\r\n  // FIXME: deprecated - Remove this behavior class.\r\n  // FIXME: deprecated - Remove this behavior class.\r\n\r\n  // This behavior implements a controller for one or more views with the tabable.region.behavior\r\n  // applied.\r\n  var TabablesBehavior = Marionette.Behavior.extend({\r\n\r\n        constructor: function TabablesBehavior(options, view) {\r\n          Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n          var self = this;\r\n\r\n          this.view = view;\r\n          this._pushTabableHandler();\r\n\r\n          this.tabableRegions = [];\r\n          this.mustSortTabableRegions = false;\r\n\r\n          // Backbone/Marionette events (are removed in destroy)\r\n          this.listenTo(view, 'render', this._registerEventHandlers);\r\n          this.listenTo(view, 'destroy', this._popTabableHandler);\r\n          this.listenTo(view, 'dom:refresh', this.setFocusInActiveTabableRegion);\r\n\r\n          //In order to prevent tab from going outside a contained area (i.e. dialog),\r\n          //keydown is monitored on the behavioral view. The event listener will only prevent\r\n          //tab outside the behavior view if paramater \"containTabFocus' is set to true.\r\n          // LPAD-54770, Make sure that keydown event is registered only once after view creation\r\n          setTimeout(function () {\r\n            view.$el.on('keydown.csui-tabables', function (event) {\r\n              if (event.keyCode === 9 && getOption.call(self, 'containTabFocus')) {\r\n                return self._maintainTabFocus(event);\r\n              }\r\n            });\r\n          });\r\n\r\n          //Used for cases where focus should be removed from the active behavior region\r\n          //and placed in the text focusable region. For example when 'escape' is used to\r\n          //to move focus outside of a textbox area to the next tabable region.\r\n          this.listenTo(view, 'changed:focus', this._setFocusToNextRegion);\r\n        }, // constructor\r\n\r\n        registerTabableRegion: function (tabableRegion) {\r\n          if ($.contains(this.view.el, tabableRegion.view.el)) {\r\n            this.unregisterTabableRegionBehavior(tabableRegion);\r\n            this.tabableRegions.push(tabableRegion);\r\n            this.mustSortTabableRegions = true;\r\n            return true;\r\n          } else {\r\n            log.debug('registerTabableRegion: not registering non descendant view ' +\r\n                      tabableRegion.view.constructor.name) &&\r\n            console.log(log.last);\r\n            return false;\r\n          }\r\n        },\r\n\r\n        unregisterTabableRegionBehavior: function (tabableRegion) {\r\n          if (tabableRegion) {\r\n            if (_.contains(this.tabableRegions, tabableRegion)) {\r\n              // remove that tabableRegionBehavior from the tabableRegions array\r\n              log.debug('unregisterTabableRegion ' + tabableRegion.view.constructor.name) &&\r\n              console.log(log.last);\r\n\r\n              this.tabableRegions = _.reject(this.tabableRegions,\r\n                  function (trb) { return trb === tabableRegion; });\r\n\r\n              // log.debug(\"Unsorted tabable regions:\") && console.log(log.last);\r\n              // _.each(this.tabableRegions, function (tabableRegionBehavior) {\r\n              //   log.debug(\" \" + tabableRegionBehavior.view.constructor.name) &&\r\n              //   console.log(log.last);\r\n              // });\r\n\r\n            }\r\n          }\r\n        },\r\n\r\n        _pushTabableHandler: function () {\r\n          log.debug('_pushTabableHandler in view ' + this.view.constructor.name) &&\r\n          console.log(log.last);\r\n          if (TabablesBehavior.tabablesHandlers.length > 0) {\r\n            var topTabablesHandler = _.last(TabablesBehavior.tabablesHandlers);\r\n\r\n            /*\r\n                        var activeIdx = this._getActiveIndex();\r\n                        if (activeIdx !== undefined) {\r\n                          this.activeTabableRegionIndexBeforePush = activeIdx;\r\n                          var activeTabableRegion = this.tabableRegions[activeIdx];\r\n                          this.focusedElementBeforePush = activeTabableRegion.getCurrentlyFocusedElementFromView();\r\n                        } else {\r\n                          delete this.focusedElementBeforePush;\r\n                          delete this.activeTabableRegionIndexBeforePush;\r\n                        }\r\n            */\r\n\r\n            // invalidate all tabindexes in the current tabable regions before adding the new\r\n            // \"layer\" of tabable regions at the top of the stack.\r\n            // This prevents navigating by tab to any of this tabable regions.\r\n            _.each(topTabablesHandler.tabableRegions, function (tabableRegion) {\r\n              tabableRegion._unregisterEventHandlers.call(tabableRegion);\r\n              topTabablesHandler._clearTabIndexes.call(topTabablesHandler, tabableRegion.view);\r\n            }, this);\r\n\r\n          }\r\n          TabablesBehavior.tabablesHandlers.push(this);\r\n\r\n          // log.debug(\"Tabables after Push:\");\r\n          // _.each(TabablesBehavior.tabablesHandlers, function (tabableHandler) {\r\n          //   log.debug(\"    TabablesBehavior of view \" + tabableHandler.view.constructor.name);\r\n          // });\r\n        },\r\n\r\n        _popTabableHandler: function () {\r\n          if (TabablesBehavior.tabablesHandlers.length > 0) {\r\n\r\n            var tabableHandlerToPop = _.last(TabablesBehavior.tabablesHandlers);\r\n\r\n            log.debug('_popTabableHandler in view ' + tabableHandlerToPop.view.constructor.name) &&\r\n            console.log(log.last);\r\n\r\n            _.each(tabableHandlerToPop.tabableRegions, function (tabableRegion) {\r\n              tabableRegion._unregisterEventHandlers.call(tabableRegion);\r\n            });\r\n\r\n            // LPAD-54770. Remove keydown listener\r\n            tabableHandlerToPop.view.$el.off('keydown.csui-tabables');\r\n\r\n            tabableHandlerToPop.stopListening(tabableHandlerToPop.view);\r\n            TabablesBehavior.tabablesHandlers.pop();\r\n\r\n            // after removing the tabables handler from the stack let the tabable regions, that\r\n            // are now on top of the stack re-set its tabindex values to make it keyboard\r\n            // navigable again\r\n            if (TabablesBehavior.tabablesHandlers.length > 0) {\r\n              var topTabableHandler = _.last(TabablesBehavior.tabablesHandlers);\r\n              _.each(topTabableHandler.tabableRegions, function (tabableRegion) {\r\n                tabableRegion.setInitialTabIndex.call(tabableRegion);\r\n                tabableRegion._registerEventHandlers.call(tabableRegion);\r\n              });\r\n\r\n              topTabableHandler._setFocusInActiveTabableRegion();\r\n            }\r\n          }\r\n          // log.debug(\"Tabables after Pop:\") && console.log(log.last);\r\n          // _.each(TabablesBehavior.tabablesHandlers, function (tabableHandler) {\r\n          //   log.debug(\"    TabablesBehavior of view \" + tabableHandler.view.constructor.name) &&\r\n          //   console.log(log.last);\r\n          // });\r\n        },\r\n\r\n        _sortTabableRegions: function () {\r\n          var tabableRegions = this.tabableRegions;\r\n          var sortedTabableRegions = [];\r\n          var tabableRegionElements = this.view.$el.find('.' + accessibilityRegionClass);\r\n          tabableRegionElements.each(function (index, el) {\r\n            var trb = _.find(tabableRegions, function (tabableRegion) {\r\n              return tabableRegion.view.el === el;\r\n            });\r\n            if (trb) {\r\n              sortedTabableRegions.push(trb);\r\n            }\r\n          });\r\n          this.tabableRegions = sortedTabableRegions;\r\n          this.mustSortTabableRegions = false;\r\n\r\n          // log.debug(\"Sorted tabable regions:\") && console.log(log.last);\r\n          // _.each(this.tabableRegions, function (tabableRegion) {\r\n          //   log.debug(\"    \" + tabableRegion.view.constructor.name) && console.log(log.last);\r\n          // });\r\n        },\r\n\r\n        //Get the next tabable region with an accessible focusable element.\r\n        _getNextActiveRegion: function (shiftTab, recursiveNavigate) {\r\n          var regions = this.tabableRegions, i, tabableRegion;\r\n\r\n          // don't select regions for tabable which are hidden.\r\n          regions = _.filter(regions, function (region) {\r\n            return !region.$el.hasClass('binf-hidden');\r\n          });\r\n\r\n          var lastIndex   = regions.length - 1,\r\n              activeIndex = this._getActiveIndex(regions);\r\n\r\n          if (recursiveNavigate) {\r\n            i = shiftTab ? (activeIndex === 0 ? lastIndex : activeIndex - 1) :\r\n                (activeIndex === lastIndex ? 0 : activeIndex + 1);\r\n          } else {\r\n            i = shiftTab ? (activeIndex === 0 ? 0 : activeIndex - 1) :\r\n                (activeIndex === lastIndex ? lastIndex : activeIndex + 1);\r\n          }\r\n\r\n          // return tabableRegion if it has only one tabable element.\r\n          if (regions.length === 1) {\r\n            tabableRegion = regions[0];\r\n            return tabableRegion;\r\n          }\r\n\r\n          while (i != activeIndex) {\r\n            tabableRegion = regions[i];\r\n            var elToFocus = tabableRegion.getCurrentlyFocusedElementFromView(shiftTab);\r\n            if (tabableRegion.view.isTabable() && elToFocus &&\r\n                base.isVisibleInWindowViewport(elToFocus)) {\r\n              // Do not focus elements out of the visible viewport rectangle;\r\n              // it brings them to the visible screen, ignoring the absolute\r\n              // positioning or transforms, if they were applied earlier\r\n              return tabableRegion;\r\n            }\r\n\r\n            if (shiftTab) {\r\n              if (i === 0) {\r\n                i = recursiveNavigate ? lastIndex : activeIndex;\r\n              }\r\n              else if (i > 0) {\r\n                --i;\r\n              }\r\n            }\r\n            else {\r\n              if (i === lastIndex) {\r\n                i = recursiveNavigate ? 0 : activeIndex;\r\n              }\r\n              else if (i < lastIndex) {\r\n                ++i;\r\n              }\r\n            }\r\n          }\r\n        },\r\n        //Due to cases (like the target browser where regions are added and removed throughout a dialog\r\n        //display) where regions may be placed out of order due to views being dynamically added and removed\r\n        //throughout the life cycle of the parent container, sort order is reset on every index request.\r\n        _getActiveIndex: function (regions) {\r\n          if (this.currentlyActiveTabableRegion) {\r\n            this._sortTabableRegions();\r\n            var currentlyActive = this.currentlyActiveTabableRegion,\r\n              tabableRegions  = this.tabableRegions;\r\n            if (!!regions) {\r\n              tabableRegions = regions;\r\n            }\r\n            for (var i = 0; i < tabableRegions.length; i++) {\r\n              if (currentlyActive.view.cid === tabableRegions[i].view.cid) {\r\n                return i;\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        _deactivateCurrentActiveTabableRegion: function () {\r\n          var activeIdx = this._getActiveIndex();\r\n\r\n          if (activeIdx !== undefined && !!this.tabableRegions[activeIdx]) {\r\n            var activeView = this.tabableRegions[activeIdx].view;\r\n            var tabRegionEl = activeView.$el;\r\n\r\n            tabRegionEl.removeClass(accessibilityActiveRegionClass);\r\n            delete this.currentlyActiveTabableRegion;\r\n            if (activeView.accDeactivateTabableRegion) {\r\n              log.debug('deactivating tabable region ' + activeView.constructor.name) &&\r\n              console.log(log.last);\r\n\r\n              this.tabableRegions[activeIdx].ignoreFocusEvents = true;\r\n              activeView.accDeactivateTabableRegion.call(activeView);\r\n              this.tabableRegions[activeIdx].ignoreFocusEvents = false;\r\n            }\r\n          }\r\n          return activeIdx;\r\n        },\r\n\r\n        _setTabableRegionActive: function (tabableRegion, shiftTab) {\r\n          log.debug('activating ' + tabableRegion.view.constructor.name + ' as active tabable' +\r\n                    ' region') && console.log(log.last);\r\n\r\n          this._deactivateCurrentActiveTabableRegion();\r\n          tabableRegion.view.$el.addClass(accessibilityActiveRegionClass);\r\n          this.currentlyActiveTabableRegion = tabableRegion;\r\n          if (tabableRegion.view.accActivateTabableRegion) {\r\n            tabableRegion.ignoreFocusEvents = true;\r\n            tabableRegion.view.accActivateTabableRegion.call(tabableRegion.view, shiftTab);\r\n            tabableRegion.ignoreFocusEvents = false;\r\n          }\r\n        },\r\n\r\n        _setFocusInActiveTabableRegion: function (shiftTab) {\r\n          if (this.currentlyActiveTabableRegion) {\r\n            // this._setTabableRegionActive(this.currentlyActiveTabableRegion);\r\n            this.currentlyActiveTabableRegion.setFocus(shiftTab);\r\n          } else {\r\n            // try to focus on a preferred region if no one is known as the active region, but\r\n            // don't store it as the currently active one. This must be actively done by a\r\n            // tabable region.\r\n            var tabableRegionsByWeight = _.sortBy(this.tabableRegions, function (tabableRegion) {\r\n              return tabableRegion.view.options.initialActivationWeight;\r\n            });\r\n            var preferredRegion = _.last(tabableRegionsByWeight);\r\n            if (preferredRegion && preferredRegion.view.options.initialActivationWeight > 0) {\r\n              log.debug(\"setFocus: \" + preferredRegion.view.constructor.name) &&\r\n              console.log(log.last);\r\n              preferredRegion.setFocus(shiftTab);\r\n            }\r\n          }\r\n        },\r\n\r\n        _clearTabIndexes: function (view) {\r\n          // log.debug('_clearTabIndexes in view ' + view.constructor.name) && console.log(log.last);\r\n          // find tabable/focusable elements including the view.$el element\r\n          var focusables = view.$el.find(TabablesBehavior.focusablesSelector).addBack(\r\n              TabablesBehavior.focusablesSelector);\r\n          if (focusables.length) {\r\n            focusables.prop('tabindex', -1);\r\n          } else {\r\n            log.debug('_clearTabIndexes: no focusables found in ' + view.constructor.name) &&\r\n            console.log(log.last);\r\n          }\r\n        },\r\n\r\n        _maintainTabFocus: function (event) {\r\n          var shiftTab    = event.shiftKey,\r\n              activeIndex = this._getActiveIndex();\r\n          //If an activeIndex is not available it is because regional focus has not\r\n          //been set yet and this is the first tab request.\r\n          if (activeIndex !== undefined) {\r\n            var activeRegion = this.tabableRegions[activeIndex];\r\n            var recursiveNavigate = getOption.call(this, 'recursiveNavigation');\r\n            if (!!activeRegion && activeRegion.onlastTabElement(shiftTab, event)) {\r\n              var nextActiveRegion = this._getNextActiveRegion(shiftTab, false);\r\n              if (!nextActiveRegion) {\r\n                nextActiveRegion = this._getNextActiveRegion(shiftTab, recursiveNavigate);\r\n\r\n              }\r\n              if (nextActiveRegion) {\r\n                this._setTabableRegionActive(nextActiveRegion, shiftTab);\r\n                this._setFocusInActiveTabableRegion(shiftTab);\r\n              }\r\n              return false;\r\n            }\r\n          }\r\n          return true;\r\n        },\r\n\r\n        _setFocusToNextRegion: function setFocusToNextRegion(shiftTab) {\r\n          var recursiveNavigate = getOption.call(this, 'recursiveNavigation');\r\n          var nextActiveRegion = this._getNextActiveRegion(shiftTab, recursiveNavigate);\r\n          if (nextActiveRegion) {\r\n            this._setTabableRegionActive(nextActiveRegion);\r\n            this._setFocusInActiveTabableRegion();\r\n          }\r\n        }\r\n      },\r\n      {\r\n        // array with all TabablesBehavior instances\r\n        tabablesHandlers: [],\r\n\r\n        focusablesSelector: 'a[href], area[href], input, select, textarea, button,' +\r\n                            ' iframe, object, embed, *[tabindex], *[contenteditable]',\r\n\r\n        clearTabIndexes: function (view) {\r\n          var tabablesBehavior = _.last(TabablesBehavior.tabablesHandlers);\r\n          if (tabablesBehavior && $.contains(tabablesBehavior.view.el, view.el)) {\r\n            tabablesBehavior._clearTabIndexes.call(tabablesBehavior, view);\r\n          }\r\n        },\r\n\r\n        setTabableRegionActive: function (tabableRegion) {\r\n          var tabablesBehavior = _.last(TabablesBehavior.tabablesHandlers);\r\n          if (tabablesBehavior && $.contains(tabablesBehavior.view.el, tabableRegion.view.el)) {\r\n            tabablesBehavior._setTabableRegionActive.call(tabablesBehavior, tabableRegion);\r\n          }\r\n        },\r\n\r\n        registerTabableRegion: function (tabableRegion) {\r\n          log.debug('registerTabableRegion for view ' + tabableRegion.view.constructor.name) &&\r\n          console.log(log.last);\r\n\r\n          var tabablesBehavior = _.last(TabablesBehavior.tabablesHandlers);\r\n          if (tabablesBehavior) {\r\n            return tabablesBehavior.registerTabableRegion.call(tabablesBehavior, tabableRegion);\r\n          }\r\n        },\r\n\r\n        unregisterTabableRegion: function (tabableRegion) {\r\n          if (tabableRegion) {\r\n            // make it simple: don't search for the tabables behavior instance. Just remove it\r\n            // from everyone.\r\n            _.each(TabablesBehavior.tabablesHandlers, function (tabablesBehavior) {\r\n              tabablesBehavior.unregisterTabableRegionBehavior.call(tabablesBehavior,\r\n                  tabableRegion);\r\n            });\r\n          }\r\n        },\r\n\r\n        // Activate (set focus) of the region that has the highest weight value in the tabable\r\n        // region behavior options.\r\n        //  This should be called when regions are actually shown in the dom.\r\n        //  If a region is already active, skip initial activation.\r\n\r\n        setFocusInActiveTabableRegion: function activateInitialTabableRegion() {\r\n          var tabablesBehavior = _.last(TabablesBehavior.tabablesHandlers);\r\n          if (tabablesBehavior) {\r\n            tabablesBehavior._setFocusInActiveTabableRegion.call(tabablesBehavior);\r\n          }\r\n        },\r\n\r\n        popTabableHandler: function () {\r\n          var tabablesBehavior = _.last(TabablesBehavior.tabablesHandlers);\r\n          if (tabablesBehavior) {\r\n            tabablesBehavior._popTabableHandler();\r\n          }\r\n        }\r\n\r\n      });\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property, source) {\r\n    var options = source || this.options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return TabablesBehavior;\r\n});\r\n\n","csui.define('csui/behaviors/keyboard.navigation/tabable.region.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/utils/log', 'csui/utils/base',\r\n  'csui/behaviors/keyboard.navigation/tabables.behavior'\r\n], function (module, _, $, Marionette, log, base, TabablesBehavior) {\r\n  'use strict';\r\n\r\n\r\n  // FIXME: deprecated - Remove this behavior class.\r\n  // FIXME: deprecated - Remove this behavior class.\r\n  // FIXME: deprecated - Remove this behavior class.\r\n\r\n  var TabableRegionBehavior = Marionette.Behavior.extend({\r\n\r\n      defaults: {\r\n        initialActivationWeight: 0\r\n      },\r\n\r\n      constructor: function TabableRegionBehavior(options, view) {\r\n        Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n        this.view = view;\r\n        view.tabableRegionBehavior = this;\r\n\r\n        // merge behavior defaults into view\r\n        _.extend(view, this.defaults);\r\n\r\n        // add default implementation to view if it does not have one\r\n        _.defaults(view, {\r\n            // TODO remove use of isTabable because there is no code that gets called when the user\r\n            // presses the tab key\r\n            isTabable: function () {\r\n              return true;  // default: this view can be reached by tab\r\n            },\r\n            onLastTabElement: function () {\r\n              return true;  //most regions will only have one tab, with further navigation handled through arrow keys\r\n            }\r\n          }\r\n        );\r\n\r\n        if (view.options && !view.options.initialActivationWeight) {\r\n          view.options.initialActivationWeight = this.options.initialActivationWeight;\r\n        }\r\n\r\n        this._registerEventHandlers();\r\n\r\n      },\r\n\r\n      _registerEventHandlers: function () {\r\n        if (!this._eventsRegistered) {\r\n          var view = this.view;\r\n          var self = this;\r\n\r\n          // log.debug('_registerEventHandlers ' + view.constructor.name) && console.log(log.last);\r\n\r\n          this.listenTo(view, 'render', this._applyClasses);\r\n          this.listenTo(view, 'dom:refresh', function () {\r\n            TabablesBehavior.clearTabIndexes(view);\r\n            if (TabablesBehavior.registerTabableRegion(this)) {\r\n              self.isRegistered = true;\r\n              this.setInitialTabIndex();\r\n              TabablesBehavior.setFocusInActiveTabableRegion();\r\n            }\r\n          });\r\n          this.listenTo(view, 'refresh:tabindexes', function () {\r\n            TabablesBehavior.clearTabIndexes(view);\r\n            if (self.isRegistered) {\r\n              this.setInitialTabIndex();\r\n              TabablesBehavior.setFocusInActiveTabableRegion();\r\n            }\r\n          });\r\n\r\n          this.listenTo(view, 'destroy', function () {\r\n            TabablesBehavior.unregisterTabableRegion(this);\r\n            TabablesBehavior.clearTabIndexes(view);\r\n            self.isRegistered = false;\r\n          });\r\n          this.listenTo(view, 'tabable', function () {\r\n            TabablesBehavior.clearTabIndexes(view);\r\n            if (TabablesBehavior.registerTabableRegion(this)) {\r\n              this.setInitialTabIndex();\r\n              TabablesBehavior.setFocusInActiveTabableRegion();\r\n            }\r\n          });\r\n          this.listenTo(view, 'tabable:not', function () {\r\n            TabablesBehavior.unregisterTabableRegion(this);\r\n            TabablesBehavior.clearTabIndexes(view);\r\n            this.isRegistered = false;\r\n          });\r\n\r\n          this.listenTo(view, 'changed:focus', function () {\r\n            if (self.isRegistered) {\r\n              this.moveTabIndex();\r\n            }\r\n          });\r\n\r\n          this.listenTo(view, 'escaped:focus', function () {\r\n            TabablesBehavior.setFocusInActiveTabableRegion();\r\n          });\r\n          this._eventsRegistered = true;\r\n        }\r\n      },\r\n\r\n      _unregisterEventHandlers: function () {\r\n        var view = this.view;\r\n        // log.debug('_unregisterEventHandlers ' + view.constructor.name) && console.log(log.last);\r\n\r\n        this.stopListening(view);\r\n        this._eventsRegistered = false;\r\n      },\r\n\r\n      getCurrentlyFocusedElementFromView: function (shiftTab) {\r\n        if (_.isFunction(this.view.currentlyFocusedElement)) {\r\n          var focusEl = this.view.currentlyFocusedElement({shiftKey: shiftTab});\r\n          return (focusEl instanceof $ ? focusEl : $(focusEl));\r\n        } else {\r\n          if (_.isString(this.view.currentlyFocusedElement)) {\r\n            return this.view.$(this.view.currentlyFocusedElement);\r\n          } else {\r\n            log.debug('setInitialTabIndex: ' + this.view.constructor.name + ' does not have' +\r\n              ' currentlyFocusedElement -> not setting tabindex in that view ') &&\r\n            console.log(log.last);\r\n            return $();\r\n          }\r\n        }\r\n      },\r\n\r\n      onlastTabElement: function (shiftTab, event) {\r\n        return this.view.onLastTabElement(shiftTab, event);\r\n      },\r\n\r\n      setFocus: function (shiftTab) {\r\n        // Not set focus if the view is requested so that the behavior is not stealing the focus.\r\n        // After rendering, the view is setting focus on element at same location by itself.\r\n        if (this.options.notSetFocus) {\r\n          return;\r\n        }\r\n\r\n        var elToFocus = this.getCurrentlyFocusedElementFromView(shiftTab);\r\n        // Do not focus elements out of the visible viewport rectangle;\r\n        // it brings them to the visible screen, ignoring the absolute\r\n        // positioning or transforms, if they were applied earlier\r\n        if (elToFocus && base.isVisibleInWindowViewport(elToFocus)) {\r\n          this.ignoreFocusEvents = true;\r\n          elToFocus.trigger('focus');\r\n          this.ignoreFocusEvents = false;\r\n        }\r\n      },\r\n\r\n      setInitialTabIndex: function () {\r\n        // TabablesBehavior.clearTabIndexes(this.view);\r\n        if (this.currentlyFocusedElement) {\r\n          this.currentlyFocusedElement.off('focus.' + this.view.cid);\r\n        }\r\n        if (this.view.isTabable()) {\r\n          try {\r\n            this.currentlyFocusedElement = this.getCurrentlyFocusedElementFromView();\r\n            if (this.currentlyFocusedElement && this.currentlyFocusedElement.length > 0) {\r\n              var self = this;\r\n              this.currentlyFocusedElement.prop('tabindex', 0);\r\n              this.currentlyFocusedElement.addClass(\r\n                TabableRegionBehavior.accessibilityActiveElementClass);\r\n              this.currentlyFocusedElement.on('focus.' + this.view.cid, function () {\r\n                if (!self.ignoreFocusEvents) {\r\n                  TabablesBehavior.setTabableRegionActive(self);\r\n                }\r\n              });\r\n            }\r\n          } catch (e) {\r\n            console.warn('Could not set as active element: ', this.view.cid, e.message);\r\n          }\r\n\r\n        } else {\r\n          this.currentlyFocusedElement = $();\r\n        }\r\n      },\r\n\r\n      moveTabIndex: function () {\r\n        var self = this;\r\n        if (this.currentlyFocusedElement) {\r\n          this.currentlyFocusedElement.off('focus.' + this.view.cid);\r\n          this.currentlyFocusedElement.prop('tabindex', -1);\r\n          this.currentlyFocusedElement.removeClass(\r\n            TabableRegionBehavior.accessibilityActiveElementClass);\r\n          this.currentlyFocusedElement = $();\r\n\r\n        }\r\n        var newlyFocusedElement = this.getCurrentlyFocusedElementFromView();\r\n        newlyFocusedElement.prop('tabindex', 0);\r\n        this.currentlyFocusedElement = newlyFocusedElement;\r\n        this.currentlyFocusedElement.addClass(TabableRegionBehavior.accessibilityActiveElementClass);\r\n        this.currentlyFocusedElement.on('focus.' + this.view.cid, function () {\r\n          if (!self.ignoreFocusEvents) {\r\n            TabablesBehavior.setTabableRegionActive(self);\r\n          }\r\n        });\r\n      },\r\n\r\n      _applyClasses: function () {\r\n        this.$el.addClass(TabableRegionBehavior.accessibilityRegionClass);\r\n      }\r\n    },\r\n    {\r\n      accessibilityRegionClass: 'csui-acc-tab-region',\r\n      accessibilityActiveRegionClass: 'csui-acc-tab-region-active',\r\n      accessibilityFocusableClass: 'csui-acc-focusable',\r\n      accessibilityActiveElementClass: 'csui-acc-focusable-active'\r\n    }\r\n  );\r\n\r\n  return TabableRegionBehavior;\r\n});\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('csui/controls/globalmessage/impl/progresspanel/impl/nls/progresspanel.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/globalmessage/impl/progresspanel/impl/nls/root/progresspanel.lang',{\r\n  // Upload\r\n  BytesOfSize: '{0} of {1}',\r\n  UploadingItems: 'Uploading {0} items',\r\n  UploadingOneItem: 'Uploading item',\r\n  UploadingSomeItems: 'Uploading {0} items',\r\n  UploadOneItemSuccessMessage: '\"{0}\" uploaded',\r\n  UploadManyItemsSuccessMessage: \"Uploaded {0} items\",\r\n  UploadOneItemFailMessage: '\"{0}\" failed to upload',\r\n  UploadSomeItemsFailMessage: \"{0} items failed to upload\",\r\n  UploadManyItemsFailMessage: \"{0} items failed to upload\",\r\n  UploadSomeItemsFailMessage2: \"{2} items failed to upload\",   // {2} !!\r\n  UploadManyItemsFailMessage2: \"{2} items failed to upload\",   // {2} !!\r\n  UploadingSingleItem: 'Uploading \"{0}\"',\r\n  FinalizingSingleItem: 'Finalizing \"{0}\"',\r\n  UploadingOneItemStopped: '\"{0}\" stopped',\r\n  UploadingAllItemsStopped: \"{0} items stopped\",\r\n  UploadSomeItemsStopped: \"Upload completed\",\r\n\r\n  // states\r\n  State_pending: 'Waiting',\r\n  State_processing: 'Processing',\r\n  State_resolved: 'Done',\r\n  State_rejected: 'Failed',\r\n  State_aborted: 'Cancelled',\r\n  State_stopped: 'Stopped',\r\n  State_stopping: 'Stopping',\r\n  State_finalizing: 'Finalizing',\r\n  StateAction_pending: 'Waiting',\r\n  StateAction_processing: 'Stop',\r\n  StateAction_resolved: 'Done',\r\n  StateAction_rejected: 'Done',\r\n  StateAction_aborted: 'Done',\r\n  Cancel: 'Cancel',\r\n  CancelAria: 'Cancel upload of {0} item',\r\n  StateAction_all_pending: 'Waiting for upload of all items',\r\n  StateAction_all_processing: 'Stop upload of all items',\r\n  StateAction_all_resolved: 'All items uploaded',\r\n  StateAction_all_rejected: 'All items rejected to upload',\r\n  StateAction_all_aborted: 'All items aborted to upload',\r\n  Expand: 'Expand details',\r\n  Collapse: 'Collapse details',\r\n  Close: 'Close',\r\n  CloseAria: 'Close the progress panel',\r\n  minimize: 'Hide message banner ',\r\n  minimizeAria: 'Hide message banner',\r\n  UploadingLocation: 'Uploading to \"{0}\"',\r\n  UploadedLocation: 'Uploaded to \"{0}\"',\r\n  Retry: 'Retry',\r\n  RetryAll: 'Retry all',\r\n  GotoLocationLinkLabel: \"Go to location\"\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/globalmessage/impl/progresspanel/impl/progresspanel',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"      <div class=\\\"csui-stateaction csui-progresscell\\\">\\r\\n        <button type=\\\"button\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.stateaction_all_pending || (depth0 != null ? depth0.stateaction_all_pending : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stateaction_all_pending\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n                class=\\\"csui-stateaction-pending\\r\\n        csui-icon-like-btn binf-btn binf-btn-default\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.stateaction_pending || (depth0 != null ? depth0.stateaction_pending : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stateaction_pending\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n        <button type=\\\"button\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.stateaction_all_processing || (depth0 != null ? depth0.stateaction_all_processing : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stateaction_all_processing\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n                class=\\\"csui-stateaction-processing csui-icon-like-binf-btn binf-hidden binf-btn binf-btn-default\\\">\\r\\n            \"\n    + this.escapeExpression(((helper = (helper = helpers.stateaction_processing || (depth0 != null ? depth0.stateaction_processing : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stateaction_processing\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n      </div>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"        <div class=\\\"csui-show-retryAll binf-hidden\\\">\\r\\n          <button type=\\\"button\\\" class=\\\"csui-retry-all\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.retryAll || (depth0 != null ? depth0.retryAll : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"retryAll\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.retryAll || (depth0 != null ? depth0.retryAll : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"retryAll\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex='0'>\"\n    + this.escapeExpression(((helper = (helper = helpers.retryAll || (depth0 != null ? depth0.retryAll : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"retryAll\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n        </div>\\r\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n    return \"binf-hidden\";\n},\"7\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"      <div class=\\\"csui-minimize csui-minimizecell\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"icon-progresspanel-minimize binf-btn binf-btn-default\\\"\\r\\n                aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.minimizeAria || (depth0 != null ? depth0.minimizeAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"minimizeAria\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.minimize || (depth0 != null ? depth0.minimize : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"minimize\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\"></button>\\r\\n      </div>\\r\\n\";\n},\"9\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <a class=\\\"csui-gotolocation-url binf-hidden\\\" href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.targetLocationUrl || (depth0 != null ? depth0.targetLocationUrl : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"targetLocationUrl\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"button\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.gotoLocation || (depth0 != null ? depth0.gotoLocation : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"gotoLocation\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"csui-header\\\">\\r\\n  <div class=\\\"csui-progressrow csui-height-target\\\">\\r\\n    <div class=\\\"csui-names-progress\\\">\\r\\n      <div class=\\\"csui-names csui-progresscell\\\">\\r\\n        <div class=\\\"csui-header-icon csui-icon binf-hidden\\\"></div>\\r\\n        <div class=\\\"csui-title\\\" id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.progressTitleId || (depth0 != null ? depth0.progressTitleId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"progressTitleId\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n          \"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"csui-progress csui-progresscell\\\">\\r\\n        <div class=\\\"csui-progress-dynamic binf-hidden\\\">\\r\\n          <div class=\\\"csui-progress-textbar\\\">\\r\\n            <div class=\\\"binf-progress\\\">\\r\\n              <div class=\\\"binf-progress-bar\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.percentage || (depth0 != null ? depth0.percentage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"percentage\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n                   aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width:\"\n    + this.escapeExpression(((helper = (helper = helpers.percentage || (depth0 != null ? depth0.percentage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"percentage\",\"hash\":{}}) : helper)))\n    + \"%\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"loading-dots\\\">\\r\\n                <div class=\\\"csui-loading-parent-wrapper binf-disabled csui-disbaled\\\">\\r\\n                    <span class=\\\"csui-loading-dots-wrapper\\\">\\r\\n                        <span class=\\\"csui-loading-dot\\\"></span>\\r\\n                        <span class=\\\"csui-loading-dot\\\"></span>\\r\\n                        <span class=\\\"csui-loading-dot\\\"></span>\\r\\n                    </span>\\r\\n                </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"csui-progress-static\\\" aria-hidden=\\\"true\\\">\\r\\n          <div class=\\\"csui-progress-textbar\\\">\\r\\n            <div class=\\\"csui-progress-static-pending\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.state_pending || (depth0 != null ? depth0.state_pending : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_pending\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_pending || (depth0 != null ? depth0.state_pending : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_pending\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-processing binf-hidden\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.state_processing || (depth0 != null ? depth0.state_processing : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_processing\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_processing || (depth0 != null ? depth0.state_processing : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_processing\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-resolved binf-hidden\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.state_resolved || (depth0 != null ? depth0.state_resolved : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_resolved\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_resolved || (depth0 != null ? depth0.state_resolved : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_resolved\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-rejected binf-hidden\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.state_rejected || (depth0 != null ? depth0.state_rejected : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_rejected\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_rejected || (depth0 != null ? depth0.state_rejected : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_rejected\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-aborted binf-hidden\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.state_aborted || (depth0 != null ? depth0.state_aborted : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_aborted\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_aborted || (depth0 != null ? depth0.state_aborted : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_aborted\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n          </div>\\r\\n          <div class=\\\"csui-percent\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"csui-states-actions\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.enableCancel : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.enableRetry : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"      <div class=\\\"csui-expand csui-progresscell \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.singleItem : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(5, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"csui-expand-down binf-btn binf-btn-default\\\"\\r\\n                aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.expand || (depth0 != null ? depth0.expand : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"expand\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.expand || (depth0 != null ? depth0.expand : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"expand\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">\\r\\n          <span class=\\\"icon csui-icon icon-expandArrowDown\\\" /></button>\\r\\n          <button type=\\\"button\\\" class=\\\"csui-expand-up binf-hidden binf-btn binf-btn-default\\\"\\r\\n                aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.collapse || (depth0 != null ? depth0.collapse : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"collapse\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.collapse || (depth0 != null ? depth0.collapse : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"collapse\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">\\r\\n            <span class=\\\"icon csui-icon icon-expandArrowUp\\\" /></button>\\r\\n      </div>\\r\\n      <div class=\\\"csui-close csui-progresscell binf-hidden\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"binf-btn binf-btn-default\\\"\\r\\n                aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.closeAria || (depth0 != null ? depth0.closeAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"closeAria\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.close || (depth0 != null ? depth0.close : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"close\",\"hash\":{}}) : helper)))\n    + \"\\\" >\\r\\n          <span class=\\\"csui-action-close csui-icon\\\" /></button>\\r\\n      </div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.enableMinimiseButton : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(7, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n  </div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.targetLocationUrl : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(9, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n<div class=\\\"csui-items-wrapper\\\">\\r\\n  <div class=\\\"csui-items\\\" role=\\\"list\\\">\\r\\n  </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('csui_controls_globalmessage_impl_progresspanel_impl_progresspanel', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/globalmessage/impl/progresspanel/impl/progressbar',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"csui-progressbar csui-progressrow\\\" style=\\\"height:48px;\\\">\\r\\n  <div class=\\\"csui-name-status\\\" role=\\\"listitem\\\"  aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\"  tabindex=\\\"-1\\\">\\r\\n    <div class=\\\"csui-names-progress \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.singleItem : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n      <div class=\\\"csui-names csui-progresscell\\\">\\r\\n        <div class=\\\"csui-name csui-progresscell\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n          \"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"csui-states-actions\\\">\\r\\n        <div class=\\\"csui-stateaction csui-progresscell \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.singleItem : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.enableCancel : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(4, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"          <div\\r\\n               class=\\\"csui-stateaction-resolved binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-success\\\" />\\r\\n          <div\\r\\n               class=\\\"csui-stateaction-rejected binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-error\\\" />\\r\\n          <div class=\\\"csui-stateaction-aborted binf-hidden\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n},\"2\":function(depth0,helpers,partials,data) {\n    return \"binf-hidden\";\n},\"4\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"          <button type=\\\"button\\\" class=\\\"csui-stateaction-pending binf-btn binf-btn-default icon csui-icon\\r\\n                                       circle_delete\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancel || (depth0 != null ? depth0.cancel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancel\",\"hash\":{}}) : helper)))\n    + \"\\\" />\\r\\n          <button type=\\\"button\\\" class=\\\"csui-stateaction-processing binf-hidden binf-btn binf-btn-default icon\\r\\n                                       csui-icon circle_delete\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancelAria || (depth0 != null ? depth0.cancelAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancelAria\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancel || (depth0 != null ? depth0.cancel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancel\",\"hash\":{}}) : helper)))\n    + \"\\\" />\\r\\n\";\n},\"6\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.bundleDivider : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(7, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"<div class=\\\"csui-name-status\\\" role=\\\"listitem\\\"  aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"-1\\\">\\r\\n  <div class=\\\"csui-names-progress \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.singleItem : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n    <div class=\\\"csui-names csui-progresscell\\\">\\r\\n      <div class=\\\"csui-type \"\n    + this.escapeExpression(((helper = (helper = helpers.type_icon_class || (depth0 != null ? depth0.type_icon_class : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"type_icon_class\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n      </div>\\r\\n      <div class=\\\"csui-name\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n        \"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"csui-states-actions\\\">\\r\\n    <div class=\\\"csui-stateaction csui-progresscell \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.singleItem : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n      <div class=\\\"csui-stateaction-resolved binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-success\\\" />\\r\\n      <div class=\\\"csui-stateaction-rejected binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-error\\\" />\\r\\n      <div class=\\\"csui-stateaction-aborted binf-hidden\\\" />\\r\\n    </div>\\r\\n    <div class=\\\"csui-progress csui-progresscell\\\">\\r\\n      <div class=\\\"csui-progress-dynamic binf-hidden\\\" aria-hidden=\\\"true\\\">\\r\\n        <div class=\\\"csui-loading-parent-wrapper binf-disabled csui-disbaled\\\">\\r\\n          <span class=\\\"csui-loading-dots-wrapper\\\">\\r\\n            <span class=\\\"csui-loading-dot\\\">\\r\\n            </span>\\r\\n            <span class=\\\"csui-loading-dot\\\">\\r\\n            </span>\\r\\n            <span class=\\\"csui-loading-dot\\\">\\r\\n            </span>\\r\\n          </span>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"csui-progress-static\\\"  aria-hidden=\\\"true\\\">\\r\\n        <div class=\\\"csui-progress-textbar\\\">\\r\\n          <div class=\\\"csui-progress-static-pending\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.state_pending || (depth0 != null ? depth0.state_pending : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_pending\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_pending || (depth0 != null ? depth0.state_pending : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_pending\",\"hash\":{}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-processing binf-hidden\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.state_processing || (depth0 != null ? depth0.state_processing : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_processing\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_processing || (depth0 != null ? depth0.state_processing : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_processing\",\"hash\":{}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-resolved binf-hidden\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.state_resolved || (depth0 != null ? depth0.state_resolved : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_resolved\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_resolved || (depth0 != null ? depth0.state_resolved : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_resolved\",\"hash\":{}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-rejected binf-hidden\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.errorMessage || (depth0 != null ? depth0.errorMessage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"errorMessage\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.errorMessage || (depth0 != null ? depth0.errorMessage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"errorMessage\",\"hash\":{}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-aborted binf-hidden\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.state_aborted || (depth0 != null ? depth0.state_aborted : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_aborted\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_aborted || (depth0 != null ? depth0.state_aborted : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_aborted\",\"hash\":{}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-stopped binf-hidden\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.state_stopped || (depth0 != null ? depth0.state_stopped : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_stopped\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_stopped || (depth0 != null ? depth0.state_stopped : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_stopped\",\"hash\":{}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-stopping binf-hidden\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.state_stopping || (depth0 != null ? depth0.state_stopping : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_stopping\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_stopping || (depth0 != null ? depth0.state_stopping : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_stopping\",\"hash\":{}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n          <div class=\\\"csui-progress-static-finalizing binf-hidden\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.state_finalizing || (depth0 != null ? depth0.state_finalizing : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_finalizing\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_finalizing || (depth0 != null ? depth0.state_finalizing : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_finalizing\",\"hash\":{}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"csui-percent\\\">\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"Error-message binf-hidden\\\">\\r\\n      <div class=\\\"csui-error\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.error || (depth0 != null ? depth0.error : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"error\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n        \"\n    + this.escapeExpression(((helper = (helper = helpers.error || (depth0 != null ? depth0.error : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"error\",\"hash\":{}}) : helper)))\n    + \"\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"csui-stateaction csui-progress-cancel\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.enableCancel : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(12, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.enableRetry : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(14, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n  </div>\\r\\n</div>\\r\\n\";\n},\"7\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"csui-progresspanel-divider\\\">\\r\\n  \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.location : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(8, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n  \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.targetLocationUrl : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(10, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \" \\r\\n</div>\\r\\n\";\n},\"8\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \" <span class=\\\"csui-progresspanel-location binf-pull-left\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.location || (depth0 != null ? depth0.location : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"location\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.location || (depth0 != null ? depth0.location : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"location\",\"hash\":{}}) : helper)))\n    + \"</span>\";\n},\"10\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<a class=\\\"csui-gotolocation-url binf-hidden binf-pull-right\\\" href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.targetLocationUrl || (depth0 != null ? depth0.targetLocationUrl : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"targetLocationUrl\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"button\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.gotoLocation || (depth0 != null ? depth0.gotoLocation : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"gotoLocation\",\"hash\":{}}) : helper)))\n    + \"</a>\";\n},\"12\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"      <button type=\\\"button\\\" class=\\\"csui-stateaction-pending binf-btn binf-btn-default icon csui-icon\\r\\n                                   circle_delete\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancelAria || (depth0 != null ? depth0.cancelAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancelAria\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancel || (depth0 != null ? depth0.cancel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancel\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"-1\\\"/>\\r\\n      <button type=\\\"button\\\" class=\\\"csui-stateaction-processing binf-hidden binf-btn binf-btn-default icon\\r\\n                                   csui-icon circle_delete\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancelAria || (depth0 != null ? depth0.cancelAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancelAria\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancel || (depth0 != null ? depth0.cancel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancel\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"-1\\\" />\\r\\n      <div class=\\\"csui-stateaction-stopped binf-hidden\\\"></div>\\r\\n\";\n},\"14\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"      <div class=\\\"csui-show-retry binf-hidden\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"csui-showRetry\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.retry || (depth0 != null ? depth0.retry : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"retry\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.retry || (depth0 != null ? depth0.retry : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"retry\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex='-1'>\"\n    + this.escapeExpression(((helper = (helper = helpers.retry || (depth0 != null ? depth0.retry : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"retry\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n      </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.commandName : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(6, data, 0)})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_globalmessage_impl_progresspanel_impl_progressbar', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/globalmessage/impl/progresspanel/impl/progresspanel',[],function(){});\n","\ncsui.define('css!csui/controls/globalmessage/globalmessage_icons',[],function(){});\n","// An application widget is exposed via a RequireJS module\r\ncsui.define('csui/controls/globalmessage/impl/progresspanel/progresspanel.view',[\r\n  'csui/lib/underscore',                             // Cross-browser utility belt\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',                             // MVC application support\r\n  'csui/utils/nodesprites',\r\n  'i18n',\r\n  'module',\r\n  'csui/utils/base',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'i18n!csui/controls/globalmessage/impl/progresspanel/impl/nls/progresspanel.lang',  // Use localizable texts\r\n  'hbs!csui/controls/globalmessage/impl/progresspanel/impl/progresspanel',     // Template to render the HTML\r\n  'hbs!csui/controls/globalmessage/impl/progresspanel/impl/progressbar',       // Template to render the HTML\r\n  'css!csui/controls/globalmessage/impl/progresspanel/impl/progresspanel',            // Stylesheet needed for this view\r\n  'css!csui/controls/globalmessage/globalmessage_icons'\r\n],  function (_, $, Marionette, NodeSprites, i18n, module, Base, PerfectScrollingBehavior, TabableRegionBehavior,\r\n   lang, panelTemplate, barTemplate) {\r\n  'use strict';\r\n\r\n  var config = _.defaults({\r\n    panelRefreshThrottle : 400 // This delay is calculated considering slide-in animation delay of progress panel list view\r\n  }, module.config().csui);\r\n\r\n  var BarStateValues = [\"pending\", \"processing\", \"rejected\", \"resolved\", \"aborted\", \"stopped\", \"stopping\", \"finalizing\"];\r\n  \r\n  var updateProgressArea = function (elem, info) {\r\n    var errorElem = elem.find(\".csui-progress-static-rejected\");\r\n    // update progress indicator\r\n    if (info.dynamic === undefined ? info.state === \"processing\" : info.dynamic) {\r\n      var progressBar = elem.find(\".binf-progress-bar\");\r\n      this.options.messageHelper.switchField(elem, \".csui-progress\", \"dynamic\",\r\n          [\"static\", \"dynamic\"]);\r\n      // update progressbar\r\n      var bytesOfSize = _.str.sformat(lang.BytesOfSize,\r\n          Base.getReadableFileSizeString(info.count),\r\n          Base.getReadableFileSizeString(info.total));\r\n      elem.find(\".csui-progress-text\").text(bytesOfSize);\r\n      progressBar.attr(\"aria-valuenow\", info.percentage);\r\n      progressBar.css(\"width\", _.str.sformat(\"{0}%\", info.percentage));\r\n\r\n      // update percent field\r\n      elem.find(\".csui-progress-dynamic .csui-percent\").text(\r\n          _.str.sformat(\"{0}%\", info.percentage));\r\n      elem.find('.csui-title').attr('aria-label',\r\n          _.str.sformat(\"{0} {1}%\", info.label, info.percentage));\r\n\r\n    } else {\r\n      this.options.messageHelper.switchField(elem, \".csui-progress\", \"static\",\r\n          [\"static\", \"dynamic\"]);\r\n      // update state field\r\n      this.options.messageHelper.switchField(elem, \".csui-progress-static\", info.state,\r\n          BarStateValues);\r\n      var stateAriaLabel = _.str.sformat(\"{0} {1}\", info.label,\r\n          lang[\"State_\" + info.state]);\r\n      elem.find('.csui-title')\r\n          .attr('aria-label', stateAriaLabel);\r\n    }\r\n    \r\n    errorElem.text(info.errorMessage);\r\n    errorElem.attr(\"title\", info.errorMessage);\r\n    if (info.errorMessage) {\r\n      elem.addClass('csui-error');\r\n    }\r\n\r\n    // update action field\r\n    this.options.messageHelper.switchField(elem, \".csui-stateaction\", info.state,\r\n        BarStateValues);\r\n\r\n  };\r\n\r\n  var getContainerName = function (model) {\r\n    var container = model.uploadContainer || model.container;\r\n    return container && container.get('name');\r\n  };\r\n\r\n  // Returns true if the action (upload/copy/move/etc,.) performed on models have different container\r\n  var isMultiContainer = function (models) {\r\n    var firstFolder = getContainerName(models[0]),\r\n    lastFolder = getContainerName(models.reduce(function(currentModel, nextmodel) {\r\n      return (getContainerName(currentModel) === getContainerName(nextmodel)) ? currentModel : !nextmodel;\r\n    }));\r\n    return firstFolder !== lastFolder;\r\n  };\r\n\r\n  var ProgressBarView = Marionette.ItemView.extend({\r\n\r\n    // Constructor gives an explicit name to the object in the debugger and\r\n    // can update the options for the parent view, which `initialize` cannot\r\n    constructor: function ProgressBarView(options) {\r\n\r\n      // Models and collections passed via options to the parent constructor\r\n      // are wired to\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n\r\n      // TODO: Make the progressbar a reusable component; do not\r\n      // misuse the file-upload-progressbar for other scenarios.\r\n      // For upload, the model has the MIME type set from the file\r\n      // object available. For copy, delete and move commnds\r\n      // the model does not have it set and the node is complete\r\n      // by fetching it from the server.\r\n      var model = this.model;\r\n      if (!!model.node && model.node.get('mime_type') === undefined) {\r\n        model.node.set({\r\n          container: false,\r\n          // obtain type from model, which contains the actual type from /validations REST API response\r\n          // and keep the hardcoded existence sub-type (ie., 144)) in it's abscense to maintain backward compatibility.\r\n          type: model.node.get('type') || 144,\r\n          mime_type: model.get('mime_type') || model.get('type')\r\n        }, {silent: true});\r\n      }\r\n\r\n      // Whenever properties of the model change, re-render the view with throttle of 1 Sec\r\n      this.listenTo(this.model, 'change',  _.throttle(this._updateItem, config.panelRefreshThrottle));\r\n      this.listenTo(this.model, 'change:state', this._updateItem); //Update immediatly when state is changed\r\n    },\r\n\r\n    _updateItem: function () {\r\n      var info = this._computeProgress(),\r\n          elem = this.$el;\r\n      updateProgressArea.call(this, elem, info);\r\n    },\r\n\r\n    _computeProgress: function () {\r\n      var count      = this.model.get('count'),\r\n          total      = this.model.get('total'),\r\n          state      = this.model.get(\"state\"),\r\n          percentage = (total > 0 && count >= 0) ? Math.floor(count / total * 100) : 0;\r\n      // 100% will be reached, when the file gets uploaded, but then\r\n      // the server will start saving the document.  Do not show the\r\n      // end-user 100%, when they still need to wait.\r\n      if (percentage === 100 && state === 'processing') {\r\n        state = 'finalizing';\r\n        this.model.set({state : state});\r\n        if (this.$el.find('.csui-name-status button').not(\".binf-hidden\").is(':focus')) {\r\n          this.ui.itemRow.trigger('focus');\r\n        }\r\n        this.$el.find(\".csui-stateaction-processing\").addClass('binf-hidden');\r\n      }\r\n      return {\r\n        count: count,\r\n        total: total,\r\n        percentage: percentage,\r\n        state: state,\r\n        errorMessage: this.model.get(\"errorMessage\"),\r\n        label: _.str.sformat(\"{0} {1}\", this.options.oneFilePending, this.getItemLabel())\r\n      };\r\n    },\r\n\r\n    className: \"csui-progressbar csui-progressrow\",\r\n\r\n    template : barTemplate,\r\n    \r\n    getItemLabel: function () {\r\n      return this.model.get('newName') || this.model.get('name');\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      var info        = this._computeProgress(),\r\n          model       = this.model,\r\n          singleItem  = this.collection.length === 1,\r\n          name        = this.getItemLabel(),\r\n          cancelAria  = _.str.sformat(lang.CancelAria, name),\r\n          commandName = !!model.get('commandName') || model.get('commandName'),\r\n          targetLocation = !this.options.hideGotoLocationMultiSet && \r\n                            !!model.get('location') ? model.get('targetLocation') : undefined;\r\n      info.name = name;\r\n      info.enableCancel = this.options.enableCancel;\r\n      info.type_icon_class = this.model.node ? NodeSprites.findClassByNode(this.model.node) : \"\";\r\n      BarStateValues.forEach(function (value) {\r\n        info[\"state_\" + value] = lang[\"State_\" + value];\r\n      });\r\n      info.cancel = lang.Cancel;\r\n      info.cancelAria = cancelAria;\r\n      info.expand = lang.Expand;\r\n      info.collapse = lang.Collapse;\r\n      info.close = lang.Close;\r\n      info.singleItem = singleItem;\r\n      info.minimize = lang.minimize;\r\n      info.minimizeAria = lang.minimizeAria;\r\n      info.retry = lang.Retry;\r\n      info.gotoLocation = lang.GotoLocationLinkLabel;\r\n      info.targetLocationUrl = targetLocation ? targetLocation.url : undefined;\r\n      info.enableRetry = config.enableRetry;\r\n      return info;\r\n    },\r\n\r\n    onRender: function () {\r\n      this._updateItem();\r\n    },\r\n\r\n    ui: {\r\n      pendingAction: '.csui-stateaction-pending',\r\n      processingAction: '.csui-stateaction-processing',\r\n      error: '.csui-error',\r\n      retryContainer: '.csui-show-retry',\r\n      retryButton: '.csui-showRetry',\r\n      gotoLocationElem: '.csui-gotolocation-url',\r\n      cancelButton : '.csui-name-status button',\r\n      itemRow : '.csui-name-status'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.pendingAction': 'doCancel',\r\n      'click @ui.processingAction': 'doCancel',\r\n      'keydown @ui.pendingAction': 'handleKeydownOnCancel',\r\n      'keydown @ui.processingAction': 'handleKeydownOnCancel',\r\n      'click @ui.retryButton': 'processRetry',\r\n      'keydown @ui.retryButton': 'processRetry',\r\n      'click @ui.gotoLocationElem' : 'hanldleClickGotoLocation',\r\n      'keydown' : 'handleKeydownEvent'\r\n    },\r\n\r\n    setFocus: function () {\r\n      this.$el.addClass('focused-row');\r\n      var button = this.$el.find('button').not(\".binf-hidden\");\r\n      if (button.length !== 0) {\r\n        button.trigger('focus');\r\n        return button;\r\n      } else {\r\n        this.ui.itemRow.trigger('focus');\r\n        return this.ui.itemRow;\r\n      }\r\n    },\r\n\r\n    removeFocus: function () {\r\n      this.$el.removeClass('focused-row');\r\n    },\r\n\r\n    doCancel: function () {\r\n      this.model.abort();\r\n    },\r\n\r\n    handleKeydownOnCancel: function (event) {\r\n      if ((event.keyCode === 32 || event.keyCode === 13) && this.ui.cancelButton.not(\".binf-hidden\").is(':focus')) {\r\n        this.ui.itemRow.trigger('focus');\r\n        this.doCancel();\r\n      }\r\n    },\r\n\r\n    processRetry: function (event) {\r\n      if ((event.type === 'keydown' && (event.keyCode === 32 || event.keyCode === 13)) || (event.type === 'click')) {\r\n       this.model.trigger(\"try:again\");\r\n      }\r\n    },\r\n\r\n    showGotoLocationElem: function () {\r\n      this.ui.gotoLocationElem && this.ui.gotoLocationElem.removeClass(\"binf-hidden\");\r\n    },\r\n\r\n    showRetryElem: function () {\r\n      if (config.enableRetry && !!this.model.get('serverFailure')) {\r\n        this.ui.retryContainer.removeClass(\"binf-hidden\");\r\n      }\r\n    },\r\n\r\n    handleKeydownEvent: function (event) {\r\n      if (event.keyCode === 38 || event.keyCode === 40) {\r\n        this.trigger(\"keydown:item\", event);\r\n      }\r\n    },\r\n\r\n    hanldleClickGotoLocation: function(event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      this.trigger(\"click:gotolocation\");\r\n    },\r\n\r\n    handleProgressComplete : function () {\r\n      this.showGotoLocationElem();\r\n      this.showRetryElem();\r\n    }\r\n\r\n  });\r\n\r\n  var ProgressPanelView = Marionette.CompositeView.extend({\r\n\r\n    \r\n    // Constructor gives an explicit name to the object in the debugger and\r\n    // can update the options for the parent view, which `initialize` cannot\r\n    constructor: function ProgressPanelView(options) {\r\n      options || (options = {});\r\n      this.focusChildIndex = -1;\r\n      this.currentFocusIndex = 0;\r\n      this.loadingCount = 0;\r\n      _.defaults(options, {\r\n        oneFileSuccess: lang.UploadOneItemSuccessMessage,\r\n        multiFileSuccess: lang.UploadManyItemsSuccessMessage,\r\n        oneFilePending: lang.UploadingSingleItem,\r\n        oneFileFinalizing: lang.FinalizingSingleItem,\r\n        multiFilePending: lang.UploadingItems,\r\n        oneFileFailure: lang.UploadOneItemFailMessage,\r\n        multiFileFailure: lang.UploadManyItemsFailMessage,\r\n        someFileSuccess: lang.UploadSomeItemsSuccessMessage,\r\n        someFilePending: lang.UploadingSomeItems,\r\n        someFileFailure: lang.UploadSomeItemsFailMessage2,\r\n        oneItemStopped: lang.UploadingOneItemStopped,\r\n        allItemsStopped: lang.UploadingAllItemsStopped,\r\n        someItemsStopped: lang.UploadSomeItemsStopped,\r\n        locationLabelPending : lang.UploadingLocation,\r\n        locationLabelCompleted: lang.UploadedLocation,\r\n        enableCancel: true,\r\n        isLoadTimeAvailable: false,\r\n        stoppingLabel : lang.State_stopping\r\n      });\r\n      if (options.enableCancel) {\r\n        this.panelStateValues = [\"resolved\", \"rejected\", \"aborted\", \"processing\"];\r\n      }\r\n      else {\r\n        this.panelStateValues = [\"resolved\", \"rejected\", \"aborted\"];\r\n      }\r\n\r\n\r\n\r\n      // Models and collections passed via options to the parent constructor\r\n      // are wired to\r\n      Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n      if (options.context && options.nextNodeModelFactory) {\r\n        this._nextNode = options.context.getModel(options.nextNodeModelFactory);\r\n      }\r\n\r\n      // Whenever properties of the model change, re-render the view\r\n      this.listenTo(this.collection, 'change',  this._updateHeader);\r\n      this.listenTo(this.collection, 'sort', this.setLocationName);\r\n      this.originatingView = options.originatingView;\r\n      if (!!this.originatingView) {\r\n        this.originatingView.trigger('global.alert.inprogress');\r\n      }\r\n      this.isMultiContainer = isMultiContainer(this.collection.models);\r\n      this.setLocationName();\r\n    },\r\n\r\n    onDestroy: function () {\r\n      this.handleProgressComplete();\r\n      this.focusChildIndex = -1;\r\n      this.focusingOnList = false;\r\n      this.currentFocusIndex = 0;\r\n      this.trigger('tabable:not');\r\n    },\r\n\r\n    handleProgressComplete: function (allFailures) {\r\n      this.originatingView && this.originatingView.trigger('global.alert.completed');\r\n      this.parentView && this.parentView.trigger('processing:completed');\r\n      if (!allFailures) {\r\n        //For single set, Gotolocation element is shown on parent view\r\n        this.ui.gotoLocationElem && this.ui.gotoLocationElem.removeClass('binf-hidden');\r\n        //For multiple sets, Gotolocation elemnt is shown for each set seperatly on child view\r\n        this.children.invoke('showGotoLocationElem');\r\n      }\r\n      this.children.invoke('handleProgressComplete');\r\n      setTimeout(_.bind(function () {\r\n         $(this.$el).trigger('focus');\r\n      }, this), 10);\r\n      \r\n    },\r\n\r\n    behaviors: {\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '> .csui-items-wrapper',\r\n        suppressScrollX: true\r\n      },\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    isProgressFailed: function () {\r\n      return $.inArray(this.state, ['rejected']) !== -1;\r\n    },\r\n\r\n    isProgressCompleted: function () {\r\n      return $.inArray(this.state, ['resolved', 'rejected', 'aborted', 'stopped', 'stopping']) !== -1;\r\n    },\r\n\r\n    isProgressFinalizing: function () {\r\n      return $.inArray(this.state, ['stopping']) !== -1;\r\n    },\r\n\r\n    getLocalizedLocation: function(model) {\r\n      var langForStatus = this.isProgressCompleted() ? this.options.locationLabelCompleted : this.options.locationLabelPending;\r\n      return _.str.sformat(langForStatus, getContainerName(model));\r\n    },\r\n\r\n    setLocationName: function() {\r\n      var bundleNumber, location, currentLocation,\r\n      self = this;\r\n      this.collection.forEach(function(model) {\r\n        if (model.get('bundleNumber') === bundleNumber) {\r\n          model.unset('location');\r\n          model.unset('bundleDivider');\r\n        } else {\r\n          model.set({bundleDivider : true},{silent: true}); // Show seperation between every bundle\r\n          bundleNumber = model.get('bundleNumber');\r\n          currentLocation = getContainerName(model);\r\n          if (currentLocation === location) {\r\n            model.unset('location');\r\n          } else {\r\n            self.isMultiContainer && model.set({location : self.getLocalizedLocation(model)}, {silent: true}); //Location is shown only when upload is happening from multiple folder\r\n            location = currentLocation;\r\n          }\r\n        }\r\n      });\r\n      this.collection.reset(this.collection.models);\r\n    },\r\n\r\n    updateProgressPanel: function (failedCount) {\r\n      var notificationIcon, allFailures;      \r\n      if (this.isProgressFailed()) {\r\n        this.parentView && this.parentView.trigger('processing:error');\r\n        notificationIcon = 'csui-global-error';\r\n        allFailures = failedCount === this.collection.length;\r\n      } else {\r\n        notificationIcon = 'csui-global-success';\r\n      }\r\n      this.$el.addClass(notificationIcon);\r\n      this.ui.processingAction.addClass('binf-hidden');\r\n      this.ui.closeAction.parent('.csui-close').removeClass('binf-hidden');\r\n      this.ui.header.find('.csui-minimize').addClass('binf-hidden');\r\n      this.ui.header.find('.csui-progress').addClass('binf-hidden');\r\n      this._isRendered && this.collection.sort();\r\n      this.handleProgressComplete(allFailures);\r\n      this.showretryAll();\r\n      this.currentlyFocusedElement().trigger('focus');\r\n    },\r\n\r\n    showretryAll: function () {\r\n      if (config.enableRetry && this.showretryAllElem) {\r\n        this.ui.retryAll.removeClass('binf-hidden');\r\n      }\r\n    },\r\n\r\n    showProgressBar: function (show) {\r\n      // switch between progress bar / loading dots\r\n      if(show) {\r\n        this.ui.progressBar.removeClass('binf-hidden');\r\n        this.ui.loadingDots.addClass('binf-hidden');\r\n      } else {\r\n        this.ui.progressBar.addClass('binf-hidden');\r\n        this.ui.loadingDots.removeClass('binf-hidden');\r\n      }\r\n    },\r\n\r\n    _updateHeader: function () {\r\n      var info = this._computeProgress(),\r\n      options = this.options;\r\n      this.state = info.state;\r\n      this.showProgressBar(info.isLoadTimeAvailable);\r\n      // update title based on state\r\n      switch (info.state) {\r\n        case 'pending': \r\n        case 'processing':\r\n          info.label = this._getFormatString(options.oneFilePending, options.multiFilePending, this.collection.length);\r\n          break;\r\n        case 'resolved':\r\n          info.label = this._getFormatString(options.oneFileSuccess, options.multiFileSuccess, this.collection.length);\r\n          break;\r\n        case 'stopping':\r\n          info.label = options.stoppingLabel;\r\n          break;\r\n        case 'stopped':\r\n          info.label = this._getFormatString(options.oneItemStopped, options.someItemsStopped);\r\n          break;\r\n        case 'aborted':\r\n          info.label = this._getFormatString(options.oneItemStopped, options.allItemsStopped, this.collection.length);\r\n          break;\r\n        case 'finalizing':\r\n          info.label = this._getFormatString(options.oneFileFinalizing, options.multiFilePending, this.collection.length);\r\n          break;\r\n        default:\r\n          info.label = this._getFormatString(options.oneFileFailure, options.multiFileFailure, info.failed);\r\n      }\r\n      if (info.dynamic === undefined ? info.state === \"processing\" : info.dynamic) {\r\n        if (info.state === \"processing\") {\r\n         this.$el.attr('aria-label', _.str.sformat(\"{0} {1}%\", info.label, info.percentage));\r\n        } else {\r\n          this.$el.attr('aria-label', info.label);\r\n        }\r\n      } else {\r\n        var stateAriaLabel = _.str.sformat(\"{0} {1}\", info.label,\r\n        lang[\"State_\" + info.state]);\r\n        this.$el.attr('aria-label', stateAriaLabel);\r\n      }\r\n      this.ui.header.find(\".csui-title\").text(info.label);\r\n      !this.isProgressFinalizing() && this.isProgressCompleted() && this.updateProgressPanel(info.failed); // Apply styles for progressPanel progress completion\r\n      updateProgressArea.call(this, this.ui.header, info);\r\n      \r\n      if(this.collection.length === 1 && info.state === \"rejected\") {\r\n        this.ui.expandIcon.removeClass('binf-hidden');\r\n      } else {\r\n        this.$el.find(\".csui-items-wrapper .csui-names-progress\").removeClass('binf-hidden');\r\n      }\r\n    \r\n      if (!this.options.allowMultipleInstances) {\r\n        this.ui.minimizeButton.parent(\".csui-minimize\").addClass('binf-hidden');\r\n      } else {\r\n        if(this.parentView) {\r\n          this.parentView.trigger('processbar:update', info.percentage);\r\n        }\r\n        if (info.state === 'processing') {\r\n          this.ui.minimizeButton.parent(\".csui-minimize\").removeClass('binf-hidden');\r\n        }\r\n      }\r\n      \r\n      // update collapse/expand\r\n      if (!this.stateExpandCollapse) {\r\n        // only on initial rendering collapse/expand and take state from template\r\n        var arrow = this.ui.header.find(\".csui-expand\").find(\":not(.binf-hidden)\");\r\n        if (arrow.hasClass(\"csui-expand-up\")) {\r\n          this.doExpand(false);\r\n        } else if (arrow.hasClass(\"csui-expand-down\")) {\r\n          this.doCollapse(false);\r\n        }\r\n      }\r\n\r\n      // and for better layout possibilities, mark empty panel\r\n      var isempty = !this.collection || this.collection.length === 0;\r\n      if (this.$el.hasClass(\"csui-empty\")) {\r\n        if (!isempty) {\r\n          this.$el.removeClass(\"csui-empty\");\r\n        }\r\n      } else {\r\n        if (isempty) {\r\n          this.$el.addClass(\"csui-empty\");\r\n        }\r\n      }\r\n    },\r\n\r\n    _getFormatString: function (str1, str2, count) {\r\n      var formattedString, fileName;\r\n      if (this.collection.length === 1) {\r\n        fileName = this.collection.models[0].get('newName') || this.collection.models[0].get('name');\r\n        formattedString = _.str.sformat(str1, fileName);\r\n      } else {\r\n        formattedString = _.str.sformat(str2, count);\r\n      }\r\n      return formattedString;\r\n    },\r\n\r\n    _computeProgress: function () {\r\n      var allDone    = true,\r\n          processing = false,\r\n          allAborted = true,\r\n          stopped    = false,\r\n          finalizing = false,\r\n          failed     = 0,\r\n          aborted    = 0,\r\n          count      = 0,\r\n          total      = 0;\r\n      var self = this;\r\n      this.collection.forEach(function (item) {\r\n        count += item.get('count');\r\n        total += item.get('total');\r\n        \r\n        if (item.get(\"state\") === \"stopped\") {\r\n          stopped = true;\r\n        }\r\n        if (item.get(\"state\") === \"aborted\") {\r\n          ++aborted;\r\n        }\r\n        if (item.get(\"state\") === \"processing\") {\r\n          self.loadingCount += item.get('count');\r\n        }\r\n        if (item.get(\"state\") === \"pending\" || item.get(\"state\") === \"processing\" || item.get(\"state\") === \"finalizing\") {\r\n          allDone = false;\r\n        }\r\n        if (item.get(\"state\") !== \"pending\") {\r\n          processing = true;\r\n        }\r\n        if (item.get(\"state\") === \"rejected\") {\r\n          ++failed;\r\n          item.set({sequence : 2}, {silent: true});\r\n          self.showretryAllElem = !!item.get('serverFailure'); \r\n        }\r\n        if (item.get(\"state\") === \"resolved\" || item.get(\"state\") === \"rejected\") {\r\n          allAborted = false;\r\n        }\r\n      });\r\n      \r\n      var percentage = (total > 0) ? Math.floor(count / total * 100) : 0;\r\n      // 100% will be reached, when the file gets uploaded, but then\r\n      // the server will start saving the document.  Do not show the\r\n      // end-user 100%, when they still need to wait.\r\n      if (percentage === 100 && !allDone) {\r\n        percentage = 99;\r\n        finalizing = true;\r\n      }\r\n      var state   = allDone ? failed ? \"rejected\" : stopped || aborted ? allAborted ? \"aborted\" : \"stopped\" : \"resolved\" :\r\n                    stopped ? \"stopping\" : finalizing ? \"finalizing\" : processing ? \"processing\" : \"pending\",\r\n          dynamic = state !== \"pending\";\r\n      return {\r\n        count: count,\r\n        total: total,\r\n        failed: failed,\r\n        percentage: percentage,\r\n        state: state,\r\n        dynamic: dynamic,\r\n        isLoadTimeAvailable : this.loadingCount > 0\r\n      };\r\n    },\r\n\r\n    // Outermost parent element should contain a unique widget-specific class\r\n    className: 'csui-progresspanel',\r\n\r\n    childView: ProgressBarView,\r\n    childViewContainer: \".csui-items\",\r\n    childEvents: {\r\n      'click:gotolocation': 'navigateToLocation',\r\n      'keydown:item': 'onChildViewKeydown'\r\n    },\r\n    childViewOptions: function () {\r\n      return _.extend(this.options, {\r\n        enableCancel: this.options.enableCancel,\r\n        messageHelper: this.options.messageHelper,\r\n        reorderOnSort : true,\r\n        parentView: this\r\n      });\r\n    },\r\n\r\n    // Template method rendering the HTML for the view\r\n    template: panelTemplate,\r\n\r\n    templateHelpers: function () {\r\n      var targetLocation, \r\n      targetLocationUrl,\r\n      info = this._computeProgress(),\r\n      singleItem = this.collection.length === 1;\r\n      if (!this.options.hideGotoLocationSingleSet && !this.isMultiContainer) {\r\n        targetLocation = this.collection.models[0].get('targetLocation');\r\n        targetLocationUrl = targetLocation && targetLocation.url;\r\n      }\r\n      BarStateValues.forEach(function (value) {\r\n        info[\"state_\" + value] = lang[\"State_\" + value];\r\n      });\r\n      this.panelStateValues.forEach(function (value) {\r\n        info[\"stateaction_\" + value] = lang[\"StateAction_\" + value];\r\n        info[\"stateaction_all_\" + value] = lang[\"StateAction_all_\" + value];\r\n      });\r\n      info.cancel = lang.Cancel;\r\n      info.enableCancel = this.options.enableCancel,\r\n      info.expand = lang.Expand;\r\n      info.collapse = lang.Collapse;\r\n      info.close = lang.Close;\r\n      info.closeAria = lang.CloseAria;\r\n      info.processing = (info.state === \"processing\") ? true : false;\r\n      info.progressTitleId = _.uniqueId(\"progressTitle\");\r\n      info.singleItem = singleItem;\r\n      info.enableMinimiseButton = this.options.enableMinimiseButton;\r\n      info.minimize = lang.minimize;\r\n      info.minimizeAria = lang.minimizeAria;\r\n      info.gotoLocation = lang.GotoLocationLinkLabel;\r\n      info.retryAll = lang.RetryAll;\r\n      info.enableRetry = config.enableRetry;\r\n      return _.extend(info, {\r\n        targetLocationUrl: targetLocationUrl\r\n      });\r\n    },\r\n\r\n    onRender: function () {\r\n      this.$el.attr('tabindex','0');\r\n      this.$el.attr('role', 'dialog');\r\n      this.currentlyFocusedElement();\r\n      this._updateHeader();\r\n      this.collection.comparator = function (currentModel , nextModel) {\r\n        if(currentModel.get('bundleNumber') === nextModel.get('bundleNumber')) {\r\n          return nextModel.get('sequence') - currentModel.get('sequence');\r\n        }\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      header: '.csui-header',\r\n      progressBar : '.csui-header .binf-progress',\r\n      loadingDots : '.csui-header .loading-dots',\r\n      pendingAction: '.csui-header .csui-stateaction-pending',\r\n      processingAction: '.csui-header .csui-stateaction-processing',\r\n      closeAction: '.csui-header .csui-close button',\r\n      collapseAction: '.csui-header .csui-expand-up',\r\n      expandAction: '.csui-header .csui-expand-down',\r\n      minimizeButton: '.csui-header .csui-minimize .icon-progresspanel-minimize',\r\n      expandIcon: '.csui-header .csui-expand',\r\n      gotoLocationElem : '.csui-gotolocation-url',\r\n      retryAll: '.csui-show-retryAll',\r\n      childContainer: '.csui-items'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.pendingAction': 'doCancel',\r\n      'click @ui.processingAction': 'doCancel',\r\n      'click @ui.closeAction': 'doClose',\r\n      'keydown @ui.closeAction': 'handleKeydownOnClose',\r\n      'click @ui.collapseAction': 'doCollapse',\r\n      'click @ui.expandAction': 'doExpand',\r\n      'keydown @ui.expandAction': 'handleKeydownOnExpand',\r\n      'click @ui.minimizeButton': '_doProcessbarMinimize',\r\n      'keydown @ui.minimizeButton': 'onKeyInViewMinimize',  \r\n      'click @ui.gotoLocationElem': 'handleGotoLocationClick',\r\n      'keydown @ui.gotoLocationElem': 'handleGotoLocationClick',\r\n      'click @ui.retryAll': 'processRetryAll',\r\n      'keydown @ui.retryAll': 'processRetryAll',\r\n      'keydown': 'onKeyInParentView'\r\n    },\r\n\r\n    doCancel: function () {\r\n      //Set state to 'stopped' when aborted progress using stop button\r\n      this.collection.abort('stopped');\r\n      this.ui.processingAction.addClass('binf-hidden');\r\n    },\r\n\r\n    doCollapse: function (animated) {\r\n      this.$el.removeClass('csui-expanded');\r\n      animated = (animated === false) ? false : true;\r\n      var items = this.$el.find(\".csui-items\");\r\n      items.find('.focused-row').removeClass('focused-row');\r\n      this.options.messageHelper.switchField(this.$el.find(\".csui-header\"),\r\n        \".csui-expand\", \"down\",\r\n        [\"up\", \"down\"]);\r\n      this.options.messageHelper.collapsePanel(this, items, items, animated);\r\n      this.stateExpandCollapse = \"collapsed\";\r\n      this.$el.find('.csui-expand-down').trigger('focus');\r\n      this.focusChildIndex = -1;\r\n      this.focusingOnList = false;\r\n    },\r\n\r\n    doExpand: function (animated) {\r\n      var items = this.$el.find(\".csui-items\"),\r\n        event = animated,\r\n        self = this;\r\n      animated = (animated === false) ? false : true;\r\n      this.options.messageHelper.switchField(this.$el.find(\".csui-header\"),\r\n        \".csui-expand\", \"up\",\r\n        [\"up\", \"down\"]);\r\n      this.options.messageHelper.expandPanel(this, items, items, animated);\r\n      this.stateExpandCollapse = \"expanded\";\r\n      this.$el.one(this.options.messageHelper.transitionEnd(), function () {\r\n        // TODO: DOM refresh will remove focusable of progress element by setting tabindex -1\r\n        // self.trigger('dom:refresh');\r\n        // event to ensure perfect scrollbar after 'dom:refresh' event is commented out above\r\n        self.trigger('ensure:scrollbar');\r\n        self.$el.addClass('csui-expanded');\r\n      });\r\n      if (event.type === 'keydown' && (event.keyCode === 32 || event.keyCode === 13)) {\r\n        items.find('.focused-row').removeClass('focused-row');\r\n        setTimeout(function() {\r\n          self.children.findByIndex(0).setFocus();\r\n        });\r\n        this.focusChildIndex = 0;\r\n        this.focusingOnList = true;\r\n      } else {\r\n        this.ui.collapseAction.trigger('focus');\r\n      }\r\n    },\r\n\r\n    handleKeydownOnExpand: function (event) {\r\n      if(event.type === \"keydown\" && (event.keyCode === 13 || event.keyCode === 32)) {\r\n        this.doExpand(event);\r\n      }\r\n    },\r\n\r\n    handleKeydownOnCollapse: function (event) {\r\n      if(event.type === \"keydown\" && (event.keyCode === 13 || event.keyCode === 32)) {\r\n        this.doCollapse(event);\r\n      }\r\n    },\r\n\r\n    onKeyInViewMinimize: function (event) {\r\n      if (event.keyCode === 13 || event.keyCode === 32) {\r\n        // enter key(13) or space(32)\r\n        this._doProcessbarMinimize();\r\n      }\r\n    },\r\n\r\n    onKeyInParentView: function(event) {\r\n      var focusChanged = false;\r\n      switch(event.keyCode) {\r\n        case 9: // TAB\r\n        var allFocusableElements = this._getAllFocusableElements(),\r\n        activeElement = this.currentlyFocusedElem.length > 0 ? this.currentlyFocusedElem : document.activeElement;\r\n        if(activeElement === allFocusableElements[0][0]) {\r\n          this.currentFocusIndex = 0;\r\n        }\r\n        if (this.ui.childContainer.has(event.target).length) {\r\n          if (event.shiftKey) {\r\n            this.currentFocusIndex = allFocusableElements.length - 1;\r\n            this.focusingOnList = false;\r\n            focusChanged = true;\r\n          }\r\n        } else {\r\n          var nextFocus = this.currentFocusIndex;\r\n          if (event.shiftKey) {\r\n            nextFocus -- ;\r\n          } else {\r\n            nextFocus ++ ;\r\n          }\r\n          if (nextFocus >= 0 && nextFocus < allFocusableElements.length) {\r\n            this.currentFocusIndex = nextFocus;\r\n            focusChanged = true;\r\n          } else if (nextFocus === allFocusableElements.length && this.focusChildIndex >= 0) {\r\n            focusChanged = true;\r\n            this.focusingOnList = true;\r\n          }\r\n        }\r\n        break;\r\n      }\r\n\r\n      if (focusChanged) {\r\n        this.trigger('changed:focus', this);\r\n        this.currentlyFocusedElement();\r\n        $(this.currentlyFocusedElem).trigger('focus');\r\n        this.$el.find('.focused-row') && this.$el.find('.focused-row').removeClass('focused-row');\r\n        return false;\r\n      }\r\n    },\r\n\r\n    onChildViewKeydown: function (childview, event) {\r\n      var nextFocusIndex = this.focusChildIndex;\r\n      switch (event.keyCode) {\r\n        case 40: //arrow down\r\n        nextFocusIndex < (this.children.length - 1) && ++nextFocusIndex;\r\n          break;\r\n        case 38: //arrow up\r\n          nextFocusIndex > 0 && --nextFocusIndex;          \r\n          break;\r\n      }\r\n      if (nextFocusIndex < 0 || nextFocusIndex >= this.children.length) {\r\n        return;\r\n      }\r\n      if (this.focusChildIndex >= 0 ){\r\n        this.children.findByIndex(this.focusChildIndex).removeFocus();\r\n      }\r\n      this.focusChildIndex = nextFocusIndex;\r\n      this.children.findByIndex(this.focusChildIndex).setFocus();\r\n      this.trigger('changed:focus', this);\r\n      return false;\r\n    },\r\n\r\n    _doProcessbarMinimize: function () {\r\n      this.$el.addClass('binf-hidden');\r\n      this.parentView.trigger('processbar:minimize');\r\n    },\r\n\r\n    doShow: function (relatedView, parentView) {\r\n      this.options.messageHelper.showPanel(this, relatedView, parentView);\r\n      this.parentView = parentView;\r\n      this.parentView.trigger('processbar:finished');\r\n      this.listenTo(this.parentView, 'processbar:maximize', function () {\r\n        if (!this.isDestroyed) {\r\n          this.$el.removeClass('binf-hidden');\r\n          this.ui.minimizeButton.trigger(\"focus\");\r\n        }\r\n      });\r\n      this.doResize();\r\n      this.$el.trigger('globalmessage.shown', this);\r\n      this.trigger('dom:refresh');\r\n      this.$el.trigger('focus');\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n        if(this.isDestroyed){\r\n          return $();\r\n        }\r\n        if (this.focusingOnList && this.focusChildIndex >= 0) {\r\n          this.currentlyFocusedElem = this.children.findByIndex(this.focusChildIndex).setFocus();\r\n        } else  {\r\n          var allFocusableElements = this._getAllFocusableElements();\r\n          this.currentlyFocusedElem = $(allFocusableElements[this.currentFocusIndex]);\r\n        } \r\n        return this.currentlyFocusedElem;\r\n      },\r\n\r\n    _getAllFocusableElements: function() {\r\n      var allFocusableElements = this.ui.header.find(\"*[tabindex]:visible\").toArray();\r\n       allFocusableElements.unshift(this.$el);\r\n       return allFocusableElements;\r\n    },\r\n\r\n    doClose: function () {\r\n      var self = this, panel = _.extend({\r\n        csuiAfterHide: function () {\r\n          self.destroy();\r\n          // Set focus back to origin view only when progress failed.\r\n          // Otherwise, Success message will be showing and it will take care of preserving focus.\r\n          if (self.isProgressFailed()) {\r\n            // Set focus back to Origin element which trigger the alert\r\n            self.trigger('escaped:focus');\r\n          }\r\n          this.parentView.trigger('processbar:finished');\r\n        }\r\n      }, this);\r\n      this.options.messageHelper.fadeoutPanel(panel);\r\n    },\r\n\r\n    handleKeydownOnClose: function () {\r\n      if(event.type === \"keydown\" && (event.keyCode === 13 || event.keyCode === 32)) {\r\n        this.doClose(event);\r\n      }\r\n    },\r\n\r\n    doResize: function () {\r\n      if (this.options.sizeToParentContainer) {\r\n        var minWidth = parseInt(this.$el.css('min-width'), 10);\r\n        var width = this.$el.width();\r\n        var parentWidth = this.$el.parent().width();\r\n        this.uncompressedMinWidth || (this.uncompressedMinWidth = minWidth);\r\n        if (this.uncompressedMinWidth > parentWidth) {\r\n          this.$el.addClass('compressed');\r\n        }\r\n        else {\r\n          this.$el.removeClass('compressed');\r\n        }\r\n        var newWidth = this.$el.width();\r\n        var translateX = (parentWidth - newWidth) / 2;\r\n        translateX > 0 || (translateX = 0);\r\n        translateX = !!i18n.settings.rtl ? -translateX : translateX;\r\n        translateX = 'translateX(' + translateX + 'px)';\r\n        this.$el.css({'transform': translateX});\r\n      }\r\n    },\r\n\r\n    handleGotoLocationClick: function(event) {\r\n      if ((event.type === 'keydown' && (event.keyCode === 32 || event.keyCode === 13)) || (event.type === 'click')) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.navigateToLocation();\r\n      }\r\n    },\r\n\r\n    navigateToLocation: function (chidlView) {\r\n      var model = chidlView ? chidlView.model : this.collection.models[0];\r\n      var targetLocation = model.get('targetLocation');\r\n      if (targetLocation && this._nextNode) {\r\n        this._nextNode.set('id', targetLocation.id);\r\n      }\r\n      this.doCollapse();\r\n    },\r\n    processRetryAll: function (event) {\r\n      if ((event.type === 'keydown' && (event.keyCode === 32 || event.keyCode === 13)) || (event.type === 'click')) {\r\n        this.trigger('retry:all');\r\n      }\r\n    }\r\n  });\r\n  return ProgressPanelView;\r\n\r\n});\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('csui/controls/globalmessage/impl/nls/globalmessage.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/globalmessage/impl/nls/root/globalmessage.lang',{\r\n  FewerDetails: \"Fewer details\",\r\n  MoreDetails: \"More details...\",\r\n  GotoLocationLinkLabel: \"Go to location\",\r\n  CloseDialog: \"Close\",\r\n  closeDialogAria: \"Close message dialog\"\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/globalmessage/impl/messagedialog',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <div class=\\\"csui-message-link-div\\\">\\r\\n    <a href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.link_url || (depth0 != null ? depth0.link_url : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"link_url\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"csui-message-link\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.link_label || (depth0 != null ? depth0.link_label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"link_label\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n  </div>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"csui-details-wrapper\\\">\\r\\n  <div id=\\\"csui-message-details\\\" class=\\\"csui-details csui-minheight\\\">\\r\\n    <div class=\\\"csui-text binf-hidden\\\" id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.detailsId || (depth0 != null ? depth0.detailsId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"detailsId\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.details_text || (depth0 != null ? depth0.details_text : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"details_text\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"csui-action csui-message-details-heightsource\\\">\\r\\n      <a href=\\\"javascript:void(0);\\\" class=\\\"csui-action-moredetails\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.action_moredetails || (depth0 != null ? depth0.action_moredetails : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"action_moredetails\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n      <a href=\\\"javascript:void(0);\\\" class=\\\"csui-action-fewerdetails binf-hidden\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.action_fewerdetails || (depth0 != null ? depth0.action_fewerdetails : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"action_fewerdetails\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"csui-header csui-height-target\\\">\\r\\n    <div class=\\\"csui-state\\\">\\r\\n        <span class=\\\"csui-state-icon csui-icon\\\"></span>\\r\\n    </div>\\r\\n    <div class=\\\"csui-text\\\" id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.headerId || (depth0 != null ? depth0.headerId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"headerId\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.header_text || (depth0 != null ? depth0.header_text : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"header_text\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.header_text || (depth0 != null ? depth0.header_text : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"header_text\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"csui-action\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"csui-action-close binf-btn binf-btn-default csui-icon\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.closeDialog || (depth0 != null ? depth0.closeDialog : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"closeDialog\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.closeDialogAria || (depth0 != null ? depth0.closeDialogAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"closeDialogAria\",\"hash\":{}}) : helper)))\n    + \"\\\"/>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.message_with_link : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.details_text : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_globalmessage_impl_messagedialog', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/globalmessage/impl/messagedialog',[],function(){});\n","csui.define('csui/controls/globalmessage/impl/messagedialog.view',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette', 'i18n',\r\n  'i18n!csui/controls/globalmessage/impl/nls/globalmessage.lang',\r\n  'hbs!csui/controls/globalmessage/impl/messagedialog',\r\n  'css!csui/controls/globalmessage/impl/messagedialog',\r\n  'css!csui/controls/globalmessage/globalmessage_icons'\r\n], function (_, $, Marionette, i18n, lang, template, css) {\r\n  'use strict';\r\n\r\n  var messageClassMap = {\r\n    info: \"csui-info\",\r\n    success: \"csui-success\",\r\n    success_with_link: \"csui-success-with-link\",\r\n    warning: \"csui-warning\",\r\n    error: \"csui-error\",\r\n    processing: \"csui-processing\",\r\n    none: \"csui-none\"\r\n  };\r\n\r\n  var stateIconClassMap = {\r\n    info: \"csui-icon-notification-information-white\",\r\n    success: \"csui-icon-notification-success-white\",\r\n    success_with_link: \"csui-icon-notification-success-white\",\r\n    warning: \"csui-icon-notification-warning-white\",\r\n    error: \"csui-icon-notification-error-white\",\r\n    processing: null,\r\n    none: null\r\n  };\r\n\r\n  var closeIconClassMap = {\r\n    info: \"csui-icon-dismiss-white\",\r\n    success: \"csui-icon-dismiss-white\",\r\n    success_with_link: \"csui-icon-dismiss-white\",\r\n    warning: \"csui-icon-dismiss-white\",\r\n    error: \"csui-icon-dismiss-white\",\r\n    processing: null,\r\n    none: \"csui-icon-dismiss\"\r\n  };\r\n\r\n  var className = \"csui-messagepanel\";\r\n\r\n  var View = Marionette.ItemView.extend({\r\n\r\n    constructor: function MessageDialog(options) {\r\n      this.css = css;\r\n      options.info || (options.info = \"info\");\r\n      this.className = className + \" \" + messageClassMap[options.info];\r\n\r\n      if (options.context && options.nextNodeModelFactory) {\r\n        this._nextNode = options.context.getModel(options.nextNodeModelFactory);\r\n      }\r\n\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    className: className + \" \" + messageClassMap[\"info\"],\r\n    template: template,\r\n\r\n    ui: {\r\n      closeAction: '.csui-header .csui-action-close',\r\n      collapseAction: '.csui-details .csui-action-fewerdetails',\r\n      expandAction: '.csui-details .csui-action-moredetails',\r\n      stateIcon: '.csui-state-icon',\r\n      closeIcon: '.csui-action-close',\r\n      messageLink: '.csui-message-link'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.closeAction': 'doClose',\r\n      'click @ui.collapseAction': 'doCollapse',\r\n      'click @ui.expandAction': 'doExpand',\r\n      'click @ui.messageLink': 'onClickLink',\r\n      'focusout @ui.closeIcon': 'replaceDummyBackImg'\r\n    },\r\n\r\n    doResize: function () {\r\n      var header = this.$el.find(\".csui-header\");\r\n      var details = this.$el.find(\".csui-details\");\r\n      details.width(header.width());\r\n      if (this.options.sizeToParentContainer) {\r\n        var width = this.$el.width();\r\n        var parentWidth = this.$el.parent().width();\r\n        var translateX = (parentWidth - width) / 2;\r\n        translateX > 0 || (translateX = 0);\r\n        translateX = !!i18n.settings.rtl ? -translateX : translateX;\r\n        translateX = 'translateX(' + translateX + 'px)';\r\n        this.$el.css({'transform': translateX});\r\n      }\r\n    },\r\n\r\n    doCollapse: function (animated) {\r\n      this._clearTimeout();\r\n      animated = (animated === false) ? false : true;\r\n      var details = this.$el.find(\".csui-details\");\r\n      var detailsText = details.find(\".csui-text\");\r\n      this.options.messageHelper.switchField(details, \".csui-action\", \"moredetails\",\r\n          [\"moredetails\", \"fewerdetails\"]);\r\n      var panel = _.extend({csuiAfterHide: function () { details.css(\"width\", \"\"); }},\r\n          this);\r\n      this.options.messageHelper.collapsePanel(panel, details, detailsText, animated);\r\n      this.stateExpandCollapse = \"collapsed\";\r\n    },\r\n\r\n    doExpand: function (animated) {\r\n      this._clearTimeout();\r\n      animated = (animated === false) ? false : true;\r\n      var details = this.$el.find(\".csui-details\");\r\n      var detailsText = details.find(\".csui-text\");\r\n      this.options.messageHelper.switchField(details, \".csui-action\", \"fewerdetails\",\r\n          [\"moredetails\", \"fewerdetails\"]);\r\n      details.css(\"width\", this.$el.find(\".csui-header\").width());\r\n      this.options.messageHelper.expandPanel(this, details, detailsText, animated);\r\n      this.stateExpandCollapse = \"expanded\";\r\n    },\r\n\r\n    doShow: function (relatedView, parentView) {\r\n      var existingDialogs = parentView.$el.find('.csui-global-message.position-show');\r\n      if (existingDialogs.length) {\r\n        var latestDialog        = existingDialogs.last().find('.csui-header'),\r\n            existingDialogCount = existingDialogs.length,\r\n            currentDialogHeader = this.$el.find('.csui-header');\r\n        currentDialogHeader.css({\r\n          'top': 4 * existingDialogCount + 'px',\r\n          'margin': '0 ' + (-8 * existingDialogCount) + 'px'\r\n        });\r\n        var currentDialogDetailsWrapper = this.$el.find('.csui-details-wrapper');\r\n        if (currentDialogDetailsWrapper.length) {\r\n          currentDialogDetailsWrapper.css({\r\n            'margin-right': (-8 * existingDialogCount) + (-5) + 'px',\r\n            'margin-left': (-8 * existingDialogCount) + (-5) + 'px'\r\n          });\r\n        }\r\n      }\r\n      if (this.options.info === \"success\") {\r\n        var self = this;\r\n        var panel = _.extend({\r\n          csuiAfterShow: function () {\r\n            self.doResize();\r\n            self._setTimeout();\r\n          }\r\n        }, this);\r\n        this.options.messageHelper.showPanel(panel, relatedView, parentView);\r\n      } else {\r\n        this.options.messageHelper.showPanel(this, relatedView, parentView);\r\n      }\r\n      this.doResize();\r\n\r\n      // Fire message show to make this message dialog tabbale\r\n      this.$el.trigger('globalmessage.shown', this);\r\n      this.$el.find('.csui-action-close').trigger('focus');\r\n    },\r\n\r\n    doClose: function () {\r\n      this._clearTimeout();\r\n      var self = this, panel = _.extend({\r\n        csuiAfterHide: function () {\r\n          self.destroy();\r\n          // Set focus back to Origin element which trigger the alert\r\n          self.trigger('escaped:focus');\r\n        }\r\n      }, this);\r\n      this.options.messageHelper.fadeoutPanel(panel);\r\n    },\r\n\r\n    _setTimeout: function () {\r\n      var self = this;\r\n      if (!this.options.enablePermanentHeaderMessages) {\r\n        // at least the fixed timeout can be deactivated, to comply with BITV 2.2.1a, configurable time limits\r\n        this.options.timeout = window.setTimeout(function () {\r\n          self.doClose();\r\n        }, 5000);\r\n      }\r\n    },\r\n\r\n    _clearTimeout: function () {\r\n      if (this.options.timeout) {\r\n        window.clearTimeout(this.options.timeout);\r\n        this.options.timeout = undefined;\r\n      }\r\n    },\r\n\r\n    headerId: undefined,\r\n    detailsId: undefined,\r\n\r\n    templateHelpers: function () {\r\n      var closeAria = lang.closeDialogAria;\r\n      if (!this.headerId) {\r\n        this.headerId = _.uniqueId('header');\r\n      }\r\n      if (!this.detailsId) {\r\n        this.detailsId = this.options.details ? _.uniqueId('details') : undefined;\r\n      }\r\n\r\n      var info = {\r\n        header_text: this.options.message,\r\n        headerId: this.headerId,\r\n        details_text: this.options.details,\r\n        detailsId: this.detailsId,\r\n        action_moredetails: lang.MoreDetails,\r\n        action_fewerdetails: lang.FewerDetails,\r\n        closeDialog: lang.CloseDialog,\r\n        closeDialogAria: closeAria\r\n      };\r\n\r\n      if (this.options.link_url && this.options.targetFolder) {\r\n        info = _.extend(info, {\r\n          message_with_link: true,\r\n          link_label: lang.GotoLocationLinkLabel,\r\n          link_url: this.options.link_url\r\n        });\r\n      }\r\n\r\n      return info;\r\n    },\r\n\r\n    onClickLink: function (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      this.doClose();\r\n      if (this.options.targetFolder && this._nextNode) {\r\n        this._nextNode.set('id', this.options.targetFolder.get('id'));\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n      // Set proper role and related fields\r\n      this.$el.attr('role', 'alertdialog');\r\n      this.$el.attr('aria-labelledby', this.headerId);\r\n      if (this.detailsId) {\r\n        this.$el.attr('aria-describedby', this.detailsId);\r\n      }\r\n\r\n      // Apply the right state icon\r\n      var stateClass = stateIconClassMap[this.options.info];\r\n      if (stateClass) {\r\n        this.ui.stateIcon.addClass(stateClass);\r\n      } else {\r\n        this.$el.addClass('csui-no-icon');\r\n      }\r\n\r\n      // Apply the right close icon\r\n      var closeClass = closeIconClassMap[this.options.info];\r\n      if (closeClass) {\r\n        this.ui.closeIcon.addClass(closeClass);\r\n      }\r\n\r\n      // Update collapse/expand\r\n      if (!this.stateExpandCollapse) {\r\n        // only on initial rendering collapse/expand and take state from template\r\n        var arrow = this.$el.find(\".csui-details .csui-action\").find(\r\n            \":not(.binf-hidden)\");\r\n        if (arrow.hasClass(\"csui-action-fewerdetails\")) {\r\n          this.doExpand(false);\r\n        } else if (arrow.hasClass(\"csui-action-moredetails\")) {\r\n          this.doCollapse(false);\r\n        }\r\n      }\r\n    },\r\n\r\n    replaceDummyBackImg: function(){\r\n      this.ui.closeIcon.addClass('csui-action-close-replace-dummy');\r\n    }\r\n\r\n  });\r\n\r\n  return View;\r\n\r\n});\r\n\n","csui.define('csui/controls/globalmessage/impl/custom.wrapper.view',[\r\n  'csui/lib/backbone', 'csui/lib/marionette',\r\n  'css!csui/controls/globalmessage/impl/messagedialog',\r\n], function (Backbone, Marionette) {\r\n  'use strict';\r\n\r\n  var CustomWrapperView = Marionette.ItemView.extend({\r\n\r\n    constructor: function CustomWrapperView(options) {\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n\r\n      var contentView = this.getOption('contentView');\r\n      if (!(contentView instanceof Backbone.View)) {\r\n        contentView = contentView.call(this);\r\n      }\r\n      this.view = contentView;\r\n\r\n      this.listenTo(contentView, 'destroy', this.destroy);\r\n      this.region = new Marionette.Region({el: this.el});\r\n    },\r\n\r\n    className: 'csui-messagepanel',\r\n\r\n    template: false,\r\n\r\n    onRender: function () {\r\n      this.region.show(this.view);\r\n    },\r\n\r\n    onDestroy: function () {\r\n      this.region.empty();\r\n    },\r\n\r\n    doShow: function (relatedView, parentView) {\r\n      this.options.messageHelper.showPanel(this, relatedView, parentView);\r\n    }\r\n\r\n  });\r\n\r\n  return CustomWrapperView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/globalmessage/impl/loaderpanel/impl/loaderpanel',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"csui-loaderpanel\\\">\\r\\n  <div class=\\\"binf-row\\\">\\r\\n    <div class=\\\"binf-col-sm-6\\\" id=\\\"csui-zipanddownload-stage\\\">\\r\\n      \"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"\\r\\n    </div>\\r\\n    <div class=\\\"binf-col-sm-4\\\">\\r\\n      <div class=\\\"csui-loaderpanel-inner\\\"></div>\\r\\n    </div>\\r\\n    <div class=\\\"binf-col-sm-2 bin-pull-right\\\">\\r\\n      <a class=\\\"binf-pull-right csui-loader-cancel\\\">Cancel</a>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('csui_controls_globalmessage_impl_loaderpanel_impl_loaderpanel', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/globalmessage/impl/loaderpanel/impl/loaderpanel',[],function(){});\n","csui.define('csui/controls/globalmessage/impl/loaderpanel/loaderpanel.view',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/lib/marionette', 'i18n',\r\n  'hbs!csui/controls/globalmessage/impl/loaderpanel/impl/loaderpanel',\r\n  'css!csui/controls/globalmessage/impl/loaderpanel/impl/loaderpanel'\r\n], function (_, $, Backbone, Marionette, i18n, template) {\r\n  var LoaderPanelView = Marionette.ItemView.extend({\r\n    template: template,\r\n    templateHelpers: function () {\r\n      return {label: this.options.label};\r\n    },\r\n\r\n    ui: {\r\n      cancel: '.csui-loader-cancel'\r\n    },  \r\n\r\n    events: {\r\n      'click @ui.cancel': 'cancelAndHide'\r\n    },\r\n\r\n    constructor: function LoaderPanelView(options) {\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    cancelAndHide: function(event) {\r\n      // view will be destroyed in xhr.always callback of globalmessage's showLoader\r\n      if (this.options.xhr && this.options.xhr.abort) {\r\n        this.options.xhr.abort();   \r\n      }      \r\n      this.destroy(false);\r\n    },\r\n\r\n    doShow: function (relatedView, parentView, xhr) {\r\n      this.options.messageHelper.showPanel(this, relatedView, parentView);\r\n      this.doResize();\r\n      this.$el.trigger('globalmessage.shown', this);\r\n      // Set focus to close button if visible. Otherwise, first focusable element\r\n      this.ui.cancel.trigger('focus');\r\n      this.updateXHRReference(xhr);\r\n    },\r\n\r\n    updateXHRReference: function(xhr) {\r\n      if (xhr) {        \r\n        this.options.xhr && this.options.xhr.abort();\r\n        this.options.xhr = xhr;\r\n      }\r\n    },\r\n\r\n    doResize: function () {\r\n      if (this.options.sizeToParentContainer) {\r\n        var minWidth = parseInt(this.$el.css('min-width'), 10);\r\n        var width = this.$el.width();\r\n        var parentWidth = this.$el.parent().width();\r\n        this.uncompressedMinWidth || (this.uncompressedMinWidth = minWidth);\r\n        if (this.uncompressedMinWidth > parentWidth) {\r\n          this.$el.addClass('compressed');\r\n        }\r\n        else {\r\n          this.$el.removeClass('compressed');\r\n        }\r\n        var newWidth = this.$el.width();\r\n        var translateX = (parentWidth - newWidth) / 2;\r\n        translateX > 0 || (translateX = 0);\r\n        translateX = !!i18n.settings.rtl ? -translateX : translateX;\r\n        translateX = 'translateX(' + translateX + 'px)';\r\n        this.$el.css({'transform': translateX});\r\n      }\r\n    }\r\n  });\r\n  return LoaderPanelView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/dialogs/modal.alert/impl/modal.alert',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  class=\\\"binf-modal-dialog binf-modal-\"\n    + this.escapeExpression(((helper = (helper = helpers.dialogSize || (depth0 != null ? depth0.dialogSize : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"dialogSize\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    return \"  class=\\\"binf-modal-dialog\\\"\\r\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"       aria-labelledby=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.dlgTitleId || (depth0 != null ? depth0.dlgTitleId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"dlgTitleId\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n\";\n},\"7\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"       aria-describedby=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.dlgMsgId || (depth0 != null ? depth0.dlgMsgId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"dlgMsgId\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n\";\n},\"9\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"      <div class=\\\"binf-modal-header \"\n    + this.escapeExpression(((helper = (helper = helpers.headerClass || (depth0 != null ? depth0.headerClass : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"headerClass\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showTitleCloseButton : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(10, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"        <h4 class=\\\"binf-modal-title\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showTitleIcon : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(12, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"          <span class=\\\"title-text\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"\\\" id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.dlgTitleId || (depth0 != null ? depth0.dlgTitleId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"dlgTitleId\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n        </h4>\\r\\n      </div>\\r\\n\";\n},\"10\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"          <button type=\\\"button\\\" class=\\\"binf-close\\\" data-binf-dismiss=\\\"modal\\\"\\r\\n                  aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.closeButtonAria || (depth0 != null ? depth0.closeButtonAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"closeButtonAria\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\">\\r\\n            <span class=\\\"icon \"\n    + this.escapeExpression(((helper = (helper = helpers.titleCloseIcon || (depth0 != null ? depth0.titleCloseIcon : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"titleCloseIcon\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n          </button>\\r\\n\";\n},\"12\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"            <span class=\\\"icon \"\n    + this.escapeExpression(((helper = (helper = helpers.titleIcon || (depth0 != null ? depth0.titleIcon : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"titleIcon\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n},\"14\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"      <div class=\\\"binf-modal-body\\\" id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.dlgMsgId || (depth0 != null ? depth0.dlgMsgId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"dlgMsgId\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.message || (depth0 != null ? depth0.message : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"message\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.message || (depth0 != null ? depth0.message : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"message\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n\";\n},\"16\":function(depth0,helpers,partials,data) {\n    return \"    <div class=\\\"binf-modal-footer\\\">\\r\\n\";\n},\"18\":function(depth0,helpers,partials,data) {\n    return \"    <div class=\\\"binf-modal-footer csui-no-body\\\">\\r\\n\";\n},\"20\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"      <button type=\\\"button\\\" class=\\\"binf-btn binf-btn-primary csui-yes csui-default\\\" tabindex=\\\"0\\\"\\r\\n              data-binf-dismiss=\\\"modal\\\" title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.buttons : depth0)) != null ? stack1.labelYes : stack1), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.buttons : depth0)) != null ? stack1.labelYes : stack1), depth0))\n    + \"</button>\\r\\n\";\n},\"22\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"      <button type=\\\"button\\\" class=\\\"binf-btn binf-btn-default csui-no\\\" tabindex=\\\"0\\\"\\r\\n              data-binf-dismiss=\\\"modal\\\" title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.buttons : depth0)) != null ? stack1.labelNo : stack1), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.buttons : depth0)) != null ? stack1.labelNo : stack1), depth0))\n    + \"</button>\\r\\n\";\n},\"24\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"      <button class=\\\"binf-btn binf-btn-default csui-cancel\\\" tabindex=\\\"0\\\"\\r\\n              data-binf-dismiss=\\\"modal\\\" title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.buttons : depth0)) != null ? stack1.labelCancel : stack1), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.buttons : depth0)) != null ? stack1.labelCancel : stack1), depth0))\n    + \"</button>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div role=\\\"alertdialog\\\"\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.dialogSize : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(3, data, 0)})) != null ? stack1 : \"\")\n    + \"\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showHeader : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(5, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.message : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(7, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \">\\r\\n  <div class=\\\"binf-modal-content\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showHeader : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(9, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.message : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(14, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.message : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(16, data, 0),\"inverse\":this.program(18, data, 0)})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.buttons : depth0)) != null ? stack1.showYes : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(20, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.buttons : depth0)) != null ? stack1.showNo : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(22, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.buttons : depth0)) != null ? stack1.showCancel : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(24, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"  </div>\\r\\n  </div>\\r\\n  </div>\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('csui_dialogs_modal.alert_impl_modal.alert', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/dialogs/modal.alert/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/dialogs/modal.alert/impl/nls/root/lang',{\r\n  YesButtonLabel: \"Yes\",\r\n  NoButtonLabel: \"No\",\r\n  OkButtonLabel: \"OK\",\r\n  CancelButtonLabel: \"Cancel\",\r\n  CloseButtonLabel: \"Close\",\r\n  CloseButtonAria: \"Close dialog\",\r\n  DefaultWarningTitle: \"Warning\",\r\n  DefaultInfoTitle: \"Information\",\r\n  DefaultErrorTitle: \"Error\",\r\n  DefaultSuccessTitle: \"Success\",\r\n  DefaultMessageTitle: \"Message\",\r\n  DefaultQuestionTitle: \"Question\"\r\n});\r\n\n","\n","csui.define('csui/behaviors/keyboard.navigation/tabkey.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/utils/log',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabables.behavior'\r\n], function (module, _, $,\r\n    log,\r\n    Marionette,\r\n    TabablesBehavior) {\r\n  'use strict';\r\n\r\n  // FIXME: deprecated - Remove this behavior class.\r\n  // FIXME: deprecated - Remove this behavior class.\r\n  // FIXME: deprecated - Remove this behavior class.\r\n\r\n  var TabKeyBehavior = TabablesBehavior.extend({\r\n\r\n        constructor: function TabKeyBehavior(options, view) {\r\n          TabablesBehavior.prototype.constructor.apply(this, arguments);\r\n\r\n        },\r\n    \r\n        _clearTabIndexes: function (view) {\r\n          log.debug('_clearTabIndexes of TabKeyBehavior for view ' + view.constructor.name) &&\r\n          console.log(log.last);\r\n        }\r\n\r\n      },\r\n      {}\r\n  );\r\n\r\n  return TabKeyBehavior;\r\n});\r\n\n","\ncsui.define('css!csui/dialogs/modal.alert/impl/modal.alert',[],function(){});\n","csui.define('csui/dialogs/modal.alert/modal.alert',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/utils/log', 'csui/utils/base',\r\n  'hbs!csui/dialogs/modal.alert/impl/modal.alert',\r\n  'i18n!csui/dialogs/modal.alert/impl/nls/lang',\r\n  'csui/behaviors/keyboard.navigation/tabkey.behavior',\r\n  'csui/lib/binf/js/binf',\r\n  'css!csui/dialogs/modal.alert/impl/modal.alert',\r\n  'css!csui/controls/globalmessage/globalmessage_icons'\r\n], function (module, _, $, Marionette, log, base, template, lang, TabKeyBehavior) {\r\n\r\n  log = log(module.id);\r\n\r\n  var ModalAlertView = Marionette.ItemView.extend({\r\n\r\n    className: function () {\r\n      var className = 'csui-alert cs-dialog binf-modal binf-fade';\r\n      if (this.options.modalClass) {\r\n        className += ' ' + this.options.modalClass;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    template: template,\r\n\r\n    ui: {\r\n      defaultButton: '.binf-modal-footer > .csui-default'\r\n    },\r\n\r\n    triggers: {\r\n      'click .csui-yes': 'click:yes',\r\n      'click .csui-no': 'click:no'\r\n    },\r\n\r\n    events: {\r\n      'shown.binf.modal': 'onShown',\r\n      'hide.binf.modal': 'onHiding',\r\n      'hidden.binf.modal': 'onHidden',\r\n      'keydown': 'onKeyDown'\r\n    },\r\n    behaviors: {\r\n      TabKeyBehavior: {\r\n        behaviorClass: TabKeyBehavior,\r\n        recursiveNavigation: true\r\n      }\r\n    },\r\n\r\n    constructor: function ModalAlertView(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      options = this.options;\r\n      // Make keys like 'labelYes' from 'Yes' to be able to merge them into options.buttons\r\n      var buttonLabels = _.reduce(ModalAlertView.buttonLabels, function (result, value, key) {\r\n        result['label' + key] = value;\r\n        return result;\r\n      }, {});\r\n      // Show just the close button if no buttons were specified; ensure all button labels\r\n      options.buttons = _.defaults({}, _.isEmpty(options.buttons) ?\r\n                                       ModalAlertView.buttons.Close :\r\n                                       options.buttons, buttonLabels);\r\n      // Show an information alert if no styling was specified\r\n      _.defaults(options, ModalAlertView.defaultOptions.Information, {\r\n        // Center vertically by default\r\n        centerVertically: true,\r\n        // If an empty title was provided, turn off the dialog header\r\n        showHeader: options.title !== ''\r\n      });\r\n      this._deferred = $.Deferred();\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      var templateVals = _(this.options).clone();\r\n      templateVals.dlgTitleId = _.uniqueId('dlgTitle'); //\r\n      templateVals.dlgMsgId = _.uniqueId('dlgMsg');\r\n      return templateVals;\r\n    },\r\n\r\n    show: function () {\r\n      this.render();\r\n      this.$el.attr('tabindex', 0);\r\n      if (this.options.centerVertically) {\r\n        this.centerVertically();\r\n      }\r\n      this.$el.binf_modal('show');\r\n      this.triggerMethod('show');\r\n      var promise = this._deferred.promise(),\r\n          self    = this;\r\n      // TODO: Added only for testing purposes.  How to make modal alert\r\n      // testable without this on the public interface?\r\n      promise.close = function () {\r\n        self.$el.binf_modal('hide');\r\n        return promise;\r\n      };\r\n      return promise;\r\n    },\r\n\r\n    centerVertically: function () {\r\n      var $clone;\r\n      var top;\r\n\r\n      // add clone of modalAlert to document\r\n      $clone = this.$el.clone();\r\n      $clone.css('display', 'block');\r\n      $clone.appendTo($.fn.binf_modal.getDefaultContainer());\r\n\r\n      // calculate top of centered position\r\n      top = Math.round(($clone.height() - $clone.find('.binf-modal-content').height()) / 2);\r\n      top = top > 0 ? top : 0;\r\n\r\n      $clone.remove();\r\n\r\n      // set top of modalAlert\r\n      this.$el.find('.binf-modal-content').css(\"margin-top\", top);\r\n    },\r\n\r\n    onShown: function () {\r\n      this._deferred.notify({state: 'shown'});\r\n      this._setTabFocus(false);\r\n    },\r\n\r\n    onHiding: function () {\r\n      this._deferred.notify({state: 'hiding'});\r\n    },\r\n\r\n    onHidden: function (event) {\r\n      this.destroy();\r\n      // Trigger callbacks and promises when the hiding animation ended\r\n      if (this.options.callback) {\r\n        this.options.callback(this._result);\r\n      }\r\n      if (this._result) {\r\n        this._deferred.resolve(this._result);\r\n      } else {\r\n        this._deferred.reject(this._result);\r\n      }\r\n    },\r\n\r\n    onKeyDown: function (event) {\r\n      var keyCode = event.keyCode;\r\n      switch (keyCode) {\r\n      case 13:\r\n        // Click the default button by Enter if no sub-control is focused\r\n        if (event.target === this.el) {\r\n          this.ui.defaultButton.trigger('click');\r\n        }\r\n        else {\r\n          $(event.target).trigger('click');\r\n        }\r\n        break;\r\n          //Tab\r\n      case 9:\r\n        return this._setTabFocus(event.shiftKey);\r\n      }\r\n    },\r\n\r\n    onClickYes: function () {\r\n      this._result = true;\r\n    },\r\n\r\n    onClickNo: function () {\r\n      this._result = false;\r\n    },\r\n    _setTabFocus: function (tabShift) {\r\n      var tabElements = this.$('*[tabindex=0]'),\r\n          lastIndex   = tabElements.length - 1,\r\n          i           = this._getStartIndex(lastIndex, tabShift, tabElements);\r\n      if (lastIndex > -1) {\r\n        var activeIndex = ( this.activeIndex !== undefined ) ? this.activeIndex :\r\n                          (tabShift ? 0 : lastIndex);\r\n        do {\r\n          var $tabElem = $(tabElements[i]);\r\n          if (base.isVisibleInWindowViewport($tabElem)) {\r\n            this.activeIndex = i;\r\n            $tabElem.trigger('focus');\r\n            break;\r\n          }\r\n          if (tabShift) {\r\n            i = (i === 0) ? lastIndex : i - 1;\r\n          }\r\n          else {\r\n            i = ( i === lastIndex) ? 0 : i + 1;\r\n          }\r\n        }\r\n        while (i != activeIndex);\r\n      }\r\n      return false;\r\n    },\r\n    _getStartIndex: function (lastIndex, tabShift) {\r\n      var startIndex  = 0,\r\n          activeIndex = this.activeIndex;\r\n      if (tabShift) {\r\n        startIndex = lastIndex;\r\n        if (activeIndex !== undefined && activeIndex > 0) {\r\n          startIndex = this.activeIndex - 1;\r\n        }\r\n      }\r\n      else {\r\n        if (activeIndex !== undefined && activeIndex < lastIndex) {\r\n          startIndex = activeIndex + 1;\r\n        }\r\n      }\r\n      return startIndex;\r\n    }\r\n\r\n  }, {\r\n\r\n    defaultOptions: {\r\n      Success: {\r\n        title: lang.DefaultSuccessTitle,\r\n        titleIcon: 'csui-icon-notification-success-white',\r\n        showTitleIcon: true,\r\n        titleCloseIcon: 'csui-icon-dismiss-white',\r\n        showTitleCloseButton: false,\r\n        headerClass: 'success-header'\r\n      },\r\n      Information: {\r\n        title: lang.DefaultInfoTitle,\r\n        titleIcon: 'csui-icon-notification-information-white',\r\n        showTitleIcon: true,\r\n        titleCloseIcon: 'csui-icon-dismiss-white',\r\n        showTitleCloseButton: false,\r\n        headerClass: 'info-header'\r\n      },\r\n      Warning: {\r\n        title: lang.DefaultWarningTitle,\r\n        titleIcon: 'csui-icon-notification-warning-white',\r\n        showTitleIcon: true,\r\n        titleCloseIcon: 'csui-icon-dismiss-white',\r\n        showTitleCloseButton: false,\r\n        headerClass: 'warning-header'\r\n      },\r\n      Error: {\r\n        title: lang.DefaultErrorTitle,\r\n        titleIcon: 'csui-icon-notification-error-white',\r\n        showTitleIcon: true,\r\n        titleCloseIcon: 'csui-icon-dismiss-white',\r\n        showTitleCloseButton: false,\r\n        headerClass: 'error-header'\r\n      },\r\n      Message: {\r\n        title: lang.DefaultMessageTitle,\r\n        titleIcon: '',\r\n        showTitleIcon: false,\r\n        titleCloseIcon: 'csui-icon-dismiss',\r\n        showTitleCloseButton: false,\r\n        headerClass: 'message-header'\r\n      },\r\n      Question: {\r\n        title: lang.DefaultQuestionTitle,\r\n        titleIcon: 'csui-icon-notification-confirmation-white',\r\n        showTitleIcon: true,\r\n        titleCloseIcon: 'csui-icon-dismiss-white',\r\n        showTitleCloseButton: false,\r\n        headerClass: 'question-header'\r\n      }\r\n    },\r\n\r\n    buttons: {\r\n      YesNoCancel: {\r\n        showYes: true,\r\n        showNo: true,\r\n        showCancel: true\r\n      },\r\n      YesNo: {\r\n        showYes: true,\r\n        showNo: true,\r\n        showCancel: false\r\n      },\r\n      OkCancel: {\r\n        showYes: true,\r\n        labelYes: lang.OkButtonLabel,\r\n        showNo: false,\r\n        showCancel: true\r\n      },\r\n      Ok: {\r\n        showYes: true,\r\n        labelYes: lang.OkButtonLabel,\r\n        showNo: false,\r\n        showCancel: false\r\n      },\r\n      Cancel: {\r\n        showYes: false,\r\n        showNo: false,\r\n        showCancel: true\r\n      },\r\n      Close: {\r\n        showYes: false,\r\n        showNo: false,\r\n        showCancel: true,\r\n        labelCancel: lang.CloseButtonLabel\r\n      }\r\n    },\r\n\r\n    buttonLabels: {\r\n      Yes: lang.YesButtonLabel,\r\n      No: lang.NoButtonLabel,\r\n      Ok: lang.OkButtonLabel,\r\n      Cancel: lang.CancelButtonLabel,\r\n      Close: lang.CloseButtonLabel\r\n    },\r\n\r\n    showSuccess: function (callback, message, title, options) {\r\n      options = this._makeOptions(arguments, ModalAlertView.defaultOptions.Success,\r\n          ModalAlertView.buttons.Close);\r\n      return this._show(options);\r\n    },\r\n\r\n    showInfo: function (callback, message, title, options) {\r\n      // log.warn('The method \\'showInfo\\' has been deprecated and will be removed.' +\r\n      //          '  Use \\'showInformation\\' instead.') && console.warn(log.last);\r\n      // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n      this.showInformation.apply(this, arguments);\r\n    },\r\n\r\n    showInformation: function (callback, message, title, options) {\r\n      options = this._makeOptions(arguments, ModalAlertView.defaultOptions.Information,\r\n          ModalAlertView.buttons.Close);\r\n      return this._show(options);\r\n    },\r\n\r\n    showWarning: function (callback, message, title, options) {\r\n      options = this._makeOptions(arguments, ModalAlertView.defaultOptions.Warning,\r\n          ModalAlertView.buttons.Close);\r\n      return this._show(options);\r\n    },\r\n\r\n    showError: function (callback, message, title, options) {\r\n      options = this._makeOptions(arguments, ModalAlertView.defaultOptions.Error,\r\n          ModalAlertView.buttons.Close);\r\n      return this._show(options);\r\n    },\r\n\r\n    showMessage: function (callback, message, title, options) {\r\n      options = this._makeOptions(arguments, ModalAlertView.defaultOptions.Message,\r\n          ModalAlertView.buttons.Close);\r\n      return this._show(options);\r\n    },\r\n\r\n    confirmSuccess: function (callback, message, title, options) {\r\n      options = this._makeOptions(arguments, ModalAlertView.defaultOptions.Success,\r\n          ModalAlertView.buttons.YesNo);\r\n      return this._show(options);\r\n    },\r\n\r\n    confirmInfo: function (callback, message, title, options) {\r\n      // FIXME: Remove this method.\r\n      log.warn('The method \\'configInfo\\' has been deprecated and will be removed.' +\r\n               '  Use \\'configInformation\\' instead.') && console.warn(log.last);\r\n      log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n      this.confirmInformation.apply(this, arguments);\r\n    },\r\n\r\n    confirmInformation: function (callback, message, title, options) {\r\n      options = this._makeOptions(arguments, ModalAlertView.defaultOptions.Information,\r\n          ModalAlertView.buttons.YesNo);\r\n      return this._show(options);\r\n    },\r\n\r\n    confirmWarning: function (callback, message, title, options) {\r\n      options = this._makeOptions(arguments, ModalAlertView.defaultOptions.Warning,\r\n          ModalAlertView.buttons.YesNo);\r\n      return this._show(options);\r\n    },\r\n\r\n    confirmError: function (callback, message, title, options) {\r\n      options = this._makeOptions(arguments, ModalAlertView.defaultOptions.Error,\r\n          ModalAlertView.buttons.YesNo);\r\n      return this._show(options);\r\n    },\r\n\r\n    confirmQuestion: function (callback, message, title, options) {\r\n      options = this._makeOptions(arguments, ModalAlertView.defaultOptions.Question,\r\n          ModalAlertView.buttons.YesNo);\r\n      return this._show(options);\r\n    },\r\n\r\n    confirmMessage: function (callback, message, title, options) {\r\n      options = this._makeOptions(arguments, ModalAlertView.defaultOptions.Message,\r\n          ModalAlertView.buttons.YesNo);\r\n      return this._show(options);\r\n    },\r\n\r\n    _makeOptions: function (parameters, defaultOptions, defaultButtons) {\r\n      var callback = parameters[0],\r\n          message  = parameters[1],\r\n          title    = parameters[2],\r\n          options  = parameters[3];\r\n      // If callback was not provided as the first parameter, shift the others\r\n      if (typeof callback !== 'function') {\r\n        options = title;\r\n        title = message;\r\n        message = callback;\r\n        callback = undefined;\r\n      }\r\n      if (typeof message === 'object') {\r\n        // If only options object was passed in, use it\r\n        options = _.clone(message);\r\n      } else if (typeof title === 'object') {\r\n        // If options object was passed in after the message, use it\r\n        options = _.defaults({message: message}, title);\r\n      } else {\r\n        // If options object was passed in after the message and title, use it\r\n        options = _.defaults({\r\n          message: message,\r\n          title: title\r\n        }, options);\r\n      }\r\n      options.buttons = _.defaults({}, options.buttons, defaultButtons);\r\n      options.callback = callback;\r\n      defaultOptions.closeButtonAria = lang.CloseButtonAria;\r\n      return _.defaults(options, defaultOptions);\r\n    },\r\n\r\n    _show: function (options) {\r\n      var alert = new ModalAlertView(options);\r\n      return alert.show();\r\n    }\r\n\r\n  });\r\n\r\n  return ModalAlertView;\r\n\r\n});\r\n\n","csui.define('csui/controls/globalmessage/globalmessage',['module',\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/messagehelper', 'csui/utils/accessibility',\r\n  'csui/controls/globalmessage/impl/progresspanel/progresspanel.view',\r\n  'csui/controls/globalmessage/impl/messagedialog.view',\r\n  'csui/controls/globalmessage/impl/custom.wrapper.view',\r\n  'csui/controls/globalmessage/impl/loaderpanel/loaderpanel.view',\r\n  'csui/dialogs/modal.alert/modal.alert'\r\n], function (module, _, $, Backbone, MessageHelper, Accessibility, ProgressPanelView,\r\n   MessageView, CustomWrapperView, LoaderPanelView, ModalAlert) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    enablePermanentHeaderMessages: false\r\n  });\r\n\r\n  if (Accessibility.isAccessibleMode()) {\r\n    config.enablePermanentHeaderMessages = true;\r\n  }\r\n\r\n  var messageHelper = new MessageHelper(),\r\n      globals       = {},\r\n      hasDefaultRegion;\r\n\r\n  var GlobalMessage = {\r\n\r\n    setMessageRegionView: function (messageRegionView, options) {\r\n      this._cleanupPreviousMessageRegion();\r\n      // Global messages span over the entire view height without these options\r\n      options = _.defaults({}, options, {\r\n        useClass: true,\r\n        sizeToParentContainer: true\r\n      });\r\n      options.classes && (globals.classNames = options.classes);\r\n      options.enableMinimiseButtonOnProgressPanel && (globals.enableMinimiseButtonOnProgressPanel = options.enableMinimiseButtonOnProgressPanel);\r\n      globals.relatedView = options.useClass ? undefined : messageRegionView;\r\n      //Size to parent container instead of browser view port. This is needed for cases where the\r\n      //global messaging and progress bar are to display within a widget.\r\n      globals.sizeToParentContainer = options.sizeToParentContainer;\r\n      globals.messageRegionView = messageRegionView;\r\n      if (globals.messageRegionView && globals.fileUploadCollection &&\r\n          globals.progressPanel) {\r\n        globals.progressPanel = this._makeProgressPanel();\r\n      }\r\n    },\r\n\r\n    setFileUploadCollection: function (fileUploadCollection) {\r\n      globals.fileUploadCollection = fileUploadCollection;\r\n      if (globals.progressPanel) {\r\n        if (globals.fileUploadCollection) {\r\n          globals.progressPanel = this._makeProgressPanel();\r\n        } else {\r\n          this.hideFileUploadProgress();\r\n        }\r\n      }\r\n    },\r\n\r\n    hideFileUploadProgress: function () {\r\n      if (globals.progressPanel) {\r\n        globals.progressPanel.doClose();\r\n        globals.progressPanel.destroy();\r\n        globals.progressPanel = undefined;\r\n      }\r\n    },\r\n\r\n    showFileUploadProgress: function (fileUploadCollection, options) {\r\n      //TODO (Sunil): remove this method in june update build, as the name itself mis-leading\r\n      // the actual functinoality, so for better naming convention replacing this method name.\r\n      console.warn('this method has been deprecated! please use showProgressPanel.');\r\n      this.showProgressPanel(fileUploadCollection, options);\r\n    },\r\n\r\n    showProgressPanel: function (fileUploadCollection, options) {\r\n      if (fileUploadCollection) {\r\n        if (!globals.fileUploadCollection) {\r\n          globals.fileUploadCollection = fileUploadCollection;\r\n        }\r\n\r\n        if (globals.progressPanel && \r\n          globals.progressPanel.options.actionType === options.actionType &&\r\n          !globals.progressPanel.isProgressCompleted()) {\r\n          globals.fileUploadCollection.add(fileUploadCollection.models);\r\n        } else {\r\n          this.hideFileUploadProgress();\r\n          globals.fileUploadCollection = fileUploadCollection;\r\n        }\r\n\r\n        globals.progressPanel = this._makeProgressPanel(_.extend(options, {\r\n          enableMinimiseButton : globals.enableMinimiseButtonOnProgressPanel\r\n        }));\r\n        globals.progressPanel.doShow(globals.relativeView, globals.messageRegionView);\r\n      }\r\n    },\r\n\r\n    isActionInProgress : function (actionType, message, title) {\r\n      var inProgress = false, status;\r\n      if (globals.progressPanel &&\r\n        !globals.progressPanel.isProgressCompleted() &&\r\n        globals.progressPanel.options.actionType !== actionType) {\r\n          inProgress = true;\r\n          ModalAlert.showError(message, title);\r\n      }\r\n      return inProgress;\r\n    },\r\n\r\n    showPermissionApplyingProgress: function (permissionAppliedCollection, options) {\r\n      if (permissionAppliedCollection) {\r\n        globals.permissionAppliedCollection = permissionAppliedCollection;\r\n        globals.progressPanel = this.__makePermissionProgressPanel(options);\r\n      }\r\n\r\n      if (!globals.progressPanel || permissionAppliedCollection) {\r\n        globals.progressPanel = this._makeProgressPanel(options);\r\n      }\r\n      if (globals.progressPanel) {\r\n        globals.progressPanel.doShow(globals.relativeView, globals.messageRegionView);\r\n      }\r\n    },\r\n\r\n    showLoader: function (xhr, options) {\r\n      this.hideFileUploadProgress();\r\n      if (!globals.loaderPanel) {\r\n        globals.loaderPanel = this._makeLoaderPanel(_.extend({xhr: xhr}, options));\r\n      } else {\r\n        globals.loaderPanel.doShow(globals.relativeView, globals.messageRegionView, xhr);\r\n      }\r\n      globals.loaderPanel.listenTo(globals.loaderPanel, 'destroy', function (args) {\r\n        options.onDestroy && options.onDestroy(args);\r\n        globals.loaderPanel = undefined;\r\n      });\r\n      xhr && xhr.always(function (resp) {\r\n        globals.loaderPanel && globals.loaderPanel.destroy();\r\n        options.onDestroy && options.onDestroy(resp);\r\n        globals.loaderPanel = undefined;\r\n      });\r\n    },\r\n\r\n    changeLoaderMessage: function (message, xhr) {\r\n      if (globals.loaderPanel) {\r\n        globals.loaderPanel.$el.find(\"#csui-zipanddownload-stage\").text(message);\r\n        globals.loaderPanel.updateXHRReference(xhr);\r\n      }\r\n    },\r\n\r\n    /* Shows an error message in the global message location.\r\n      @Params:\r\n        - info - the type of the message:\r\n          - \"info\" (default)\r\n          - \"success\"\r\n          - \"success_with_link\"\r\n          - \"warning\"\r\n          - \"error\"\r\n          - \"processing\"\r\n          - \"none\"\r\n        - text - the message text\r\n        - details - a detailed message text\r\n        - options - object containing other options\r\n     */\r\n    showMessage: function (info, text, details, options) {\r\n      return this._showMessageView(MessageView,\r\n          _.extend({\r\n            info: info,\r\n            message: text,\r\n            details: details,\r\n            messageHelper: messageHelper,\r\n            sizeToParentContainer: globals.sizeToParentContainer,\r\n            enablePermanentHeaderMessages: config.enablePermanentHeaderMessages\r\n          }, options)\r\n      );\r\n    },\r\n\r\n    showCustomView: function (customView) {\r\n      return this._showMessageView(CustomWrapperView, {\r\n        contentView: customView,\r\n        messageHelper: messageHelper\r\n      });\r\n    },\r\n\r\n    _showMessageView: function (View, options) {\r\n      this._ensureMessageRegion();\r\n      var messageView = messageHelper.activatePanel(\r\n          messageHelper.createPanel(globals, View, options),\r\n          globals.relatedView, globals.messageRegionView);\r\n      this._addEventHandlers(messageView);\r\n      return messageView;\r\n    },\r\n\r\n    _makeProgressPanel: function (options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        collection: globals.fileUploadCollection,\r\n        sizeToParentContainer: globals.sizeToParentContainer,\r\n        messageHelper: messageHelper\r\n      });\r\n      this._ensureMessageRegion();\r\n      var progressPanel = messageHelper.activatePanel(\r\n        messageHelper.createPanel(globals, ProgressPanelView, options,\r\n            globals.progressPanel),\r\n        globals.relatedView, globals.messageRegionView, globals.progressPanel);\r\n      this._addEventHandlers(progressPanel);\r\n      return progressPanel;\r\n    },\r\n\r\n    __makePermissionProgressPanel: function (options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        collection: globals.permissionAppliedCollection,\r\n        sizeToParentContainer: globals.sizeToParentContainer,\r\n        messageHelper: messageHelper\r\n      });\r\n      this._ensureMessageRegion();\r\n      var progressPanel = messageHelper.activatePanel(\r\n        messageHelper.createPanel(globals, ProgressPanelView, options,\r\n            globals.progressPanel),\r\n        globals.relatedView, globals.messageRegionView, globals.progressPanel);\r\n      this._addEventHandlers(progressPanel);\r\n      return progressPanel;\r\n    },\r\n\r\n    _makeLoaderPanel: function (options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        sizeToParentContainer: globals.sizeToParentContainer,\r\n        messageHelper: messageHelper\r\n      });\r\n      this._ensureMessageRegion();\r\n      var loaderPanel = messageHelper.activatePanel(\r\n          messageHelper.createPanel(globals, LoaderPanelView, options, globals.progressPanel),\r\n          globals.relatedView, globals.messageRegionView, globals.progressPanel\r\n      );\r\n      this._addEventHandlers(loaderPanel);\r\n      return loaderPanel;\r\n    },\r\n\r\n    _addEventHandlers: function (view) {\r\n      // should listen to resize of region (only), but as this does not fire\r\n      // we have to listen to window as well :-(.\r\n      var resizeHandler = function () {\r\n        messageHelper.resizePanel(view, globals.relatedView);\r\n      };\r\n      $(window).on('resize', resizeHandler);\r\n      view.listenTo(globals.messageRegionView, 'resize', resizeHandler);\r\n      view.once('before:destroy', function () {\r\n        $(window).off('resize', resizeHandler);\r\n        view.stopListening(globals.messageRegionView, 'resize', resizeHandler);\r\n      });\r\n    },\r\n\r\n    _ensureMessageRegion: function () {\r\n      if (globals.messageRegionView) {\r\n        return;\r\n      }\r\n\r\n      // Reserve a view as big as the screen for high panels like\r\n      // the progress panel.  No width - this is no modal backdrop.\r\n      var modalContainer   = $.fn.binf_modal.getDefaultContainer(),\r\n          messageContainer = $('<div>', {\r\n            'style': 'position:absolute; top: 0; left: 0; width: 0; height: 100vh;'\r\n          }).appendTo(modalContainer);\r\n      globals.messageRegionView = new Backbone.View({el: messageContainer});\r\n      hasDefaultRegion = true;\r\n    },\r\n\r\n    _cleanupPreviousMessageRegion: function () {\r\n      if (hasDefaultRegion) {\r\n        globals.messageRegionView.remove();\r\n        hasDefaultRegion = false;\r\n      }\r\n      if (globals.progressPanel) {\r\n        globals.progressPanel.destroy();\r\n      }\r\n      globals = {};\r\n    }\r\n\r\n  };\r\n\r\n  return GlobalMessage;\r\n\r\n});\r\n\n","csui.define('csui/behaviors/default.action/impl/command',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/log', 'csui/utils/commands', 'csui/controls/globalmessage/globalmessage',\r\n  'csui/utils/commandhelper'\r\n], function (module, _, $, Backbone, log, commands, GlobalMessage, CommandHelper) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function CommandController(options) {\r\n    options || (options = {});\r\n    this.commands = options.commands || commands;\r\n  }\r\n\r\n  _.extend(CommandController.prototype, {\r\n\r\n    executeAction: function (action, status, options) {\r\n      var signature = action.get(\"signature\"),\r\n          command   = this.commands.findWhere({signature: signature});\r\n      try {\r\n        if (!command) {\r\n          throw new Error('Invalid command: ' + signature);\r\n        }\r\n        var promises = command.execute(status, options);\r\n        if (!_.isArray(promises)) {\r\n          promises = [promises];\r\n        }\r\n        return $.when\r\n            .apply($, promises)\r\n            .fail(function (error) {\r\n              if (error) {\r\n                if (!CommandHelper.showOfflineMessage(error)) {\r\n                  GlobalMessage.showMessage('error', error.message);\r\n                }\r\n              }\r\n            });\r\n      } catch (error) {\r\n        log.warn('Executing the command \"{0}\" failed.\\n{1}',\r\n        !!command && command.get('signature'), error.message) && console.warn(log.last);\r\n      }\r\n    }\r\n  });\r\n\r\n  CommandController.extend = Backbone.View.extend;\r\n\r\n  return CommandController;\r\n\r\n});\r\n\n","csui.define('csui/behaviors/default.action/impl/defaultaction',[\r\n  'module', 'csui/lib/underscore', 'csui/behaviors/default.action/impl/command',\r\n  'csui/models/nodes', 'csui/utils/defaultactionitems', 'csui/utils/log'\r\n], function (module, _, CommandController, NodeCollection, defaultActionItems, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var DefaultActionController = CommandController.extend({\r\n\r\n    constructor: function DefaultActionController(options) {\r\n      CommandController.prototype.constructor.apply(this, arguments);\r\n      options || (options = {});\r\n      this.actionItems = options.actionItems || defaultActionItems;\r\n    },\r\n\r\n    executeAction: function (node, options) {\r\n      // Apply the default action always to the shortcut target;\r\n      // the original node reference must be expanded.\r\n      var shortcut, fakedActions;\r\n      if (node.original && node.original.get('id') > 0) {\r\n        shortcut = node;\r\n        fakedActions = this._fakeActions(node.original);\r\n        // Do not switch to original for generations. Commands have to\r\n        // handle them themselves, until we support them properly.\r\n        if (node.get('type') === 1) {\r\n          node = node.original;\r\n        }\r\n      }\r\n      var action = this.getAction(node),\r\n          status = {\r\n            nodes: new NodeCollection([node]),\r\n            shortcut: shortcut\r\n          };\r\n      if (fakedActions) {\r\n        this._resetFakedActions(node);\r\n      }\r\n      return action && CommandController.prototype.executeAction.call(\r\n              this, action, status, options);\r\n    },\r\n\r\n    getAction: function (node) {\r\n      // Check the default action always against the shortcut or generation\r\n      // target; the original node reference must be expanded.\r\n      // TODO: Support for Generations (type 2) has not yet been added in\r\n      // the mobile app, so they are disabled for now. This is why we\r\n      // currently do not enter the if clause if node is a Generation\r\n      // and window.csui.mobile is true.\r\n      var type = node.get('type'),\r\n          shortcut, fakedActions;\r\n      if ((type === 1 || ((!window.csui || !window.csui.mobile) && type === 2))\r\n          && node.original && node.original.get('id') > 0) {\r\n        shortcut = node;\r\n        node = node.original;\r\n        fakedActions = this._fakeActions(node);\r\n      }\r\n      var status = {\r\n            nodes: new NodeCollection([node]),\r\n            shortcut: shortcut\r\n          },\r\n          // Do not search for the first action, which is assigned\r\n          // to the object and its command is enabled; as soon as\r\n          // the first action for the object is found, the result\r\n          // of its command enabling is returned.\r\n          // TODO: Reconsider using the first enabled command again.\r\n          // Disabling a node shoudl be done by a special feature\r\n          // and not by disabling all default actions.\r\n          enabled = false,\r\n          action = this.actionItems.find(function (actionItem) {\r\n            if (actionItem.enabled(node)) {\r\n              var command = this.commands.findWhere({\r\n                signature: actionItem.get(\"signature\")\r\n              });\r\n              try {\r\n                enabled = command && command.enabled(status);\r\n              } catch (error) {\r\n                log.warn('Evaluating the command \"{0}\" failed.\\n{1}',\r\n                    command.get('signature'), error.message) && console.warn(log.last);\r\n              }\r\n              // Stop enumeration after the first action was found,\r\n              // which can handle the specified node\r\n              return true;\r\n            }\r\n          }, this);\r\n      if (fakedActions) {\r\n        this._resetFakedActions(node);\r\n      }\r\n      return enabled && action;\r\n    },\r\n\r\n    hasAction: function (node) {\r\n      return !!this.getAction(node);\r\n    },\r\n\r\n    // Core REST API does not provide permitted actions for shortcut\r\n    // originals. We always allow clicks on them and let the user\r\n    // watch how the operation fails, when they have no permission.\r\n\r\n    _fakeActions: function (node) {\r\n      if (!node.actions.length) {\r\n        var actions = _.map(\r\n            this.actionItems.getAllCommandSignatures(this.commands),\r\n            function (signature) {\r\n              return {signature: signature};\r\n            });\r\n        node.actions.reset(actions, {silent: true});\r\n        return true;\r\n      }\r\n    },\r\n\r\n    _resetFakedActions: function (node) {\r\n      node.actions.reset([], {silent: true});\r\n    }\r\n\r\n  });\r\n\r\n  DefaultActionController.version = \"1.0\";\r\n\r\n  return DefaultActionController;\r\n\r\n});\r\n\n","// Loads widgets and exposes a promise with the result status on the view\r\ncsui.define('csui/behaviors/default.action/default.action.behavior',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette', 'csui/utils/url', 'csui/utils/log',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/behaviors/default.action/impl/defaultaction',\r\n  'csui/utils/node.links/node.links'\r\n], function (module, _, $, Backbone, Marionette, Url, log,\r\n    NextNodeModelFactory, SearchQueryModelFactory, DefaultActionController,\r\n    nodeLinks) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var DefaultActionBehavior = Marionette.Behavior.extend({\r\n    constructor: function DefaultActionBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      var context = view.options.context;\r\n      this.view = view;\r\n      this._nextNode = context && context.getModel(NextNodeModelFactory);\r\n      this._searchQuery = context && context.getModel(SearchQueryModelFactory);\r\n      view.defaultActionController = this.options.defaultActionController ||\r\n                                     new DefaultActionController();\r\n    },\r\n\r\n    onExecuteDefaultAction: function (node) {\r\n      // Support triggering by the `triggers` object, where the view is\r\n      // passed by Marionette as the first parameter and there are no options\r\n      if (node instanceof Backbone.View) {\r\n        node = node.model;\r\n      }\r\n      var action = this.view.defaultActionController.getAction(node);\r\n      if (action) {\r\n        this.view.defaultActionController.executeAction(node, {\r\n          context: this.view.options.context,\r\n          originatingView: this.view\r\n        });\r\n      } else {\r\n        log.can('WARN') && log.warn('No default action was enabled for {0}.',\r\n            JSON.stringify(_.pick(node.attributes, 'name', 'id', 'type'))) &&\r\n        console.warn(log.last);\r\n      }\r\n    }\r\n  }, {\r\n    // TODO: Deprecate this method.\r\n    getDefaultActionNodeUrl: function (node) {\r\n      var url = nodeLinks.getUrl(node),\r\n          hash = url.lastIndexOf('#');\r\n      // This disallows using the hash part, when the slash-based routing is enabled.\r\n      // But it shoudl be no problem, because this method is not used in new scenaros\r\n      // any more and it didn't offer such contract forn the older ones.\r\n      if (hash >= 0) {\r\n        return url.substr(hash);\r\n      }\r\n      return url;\r\n    }\r\n  });\r\n\r\n  return DefaultActionBehavior;\r\n});\r\n\n","csui.define('csui/behaviors/keyboard.navigation/retainfocus.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/utils/log',\r\n  'csui/lib/marionette'\r\n], function (module, _, $,\r\n    log,\r\n    Marionette) {\r\n  'use strict';\r\n\r\n  var RetainFocusBehavior = Marionette.Behavior.extend({\r\n\r\n        ui: {\r\n          control: '.csui-control'\r\n        },\r\n\r\n        events: {\r\n          'mousedown @ui.control': '_startActive',\r\n          'focusout @ui.control': '_stopActive',\r\n          'keydown @ui.control': '_stopActive'\r\n        },\r\n\r\n        constructor: function RetainFocusBehavior(options, view) {\r\n          Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n          this._isFocused = false;\r\n\r\n          this.listenTo(view, 'before:render', function () {\r\n            this._isRendering = true;\r\n            if (view.isRendered) {\r\n              // check focus only when re-rendered\r\n              var controlEl = this.ui.control[0];\r\n              this._isFocused = document.activeElement === controlEl;\r\n            }\r\n          });\r\n\r\n          this.listenTo(view, 'render', function () {\r\n            this._isRendering = false;\r\n          });\r\n\r\n          this.listenTo(view, 'dom:refresh', function () {\r\n            this._reApplyFocus();\r\n          });\r\n\r\n        },\r\n\r\n        _reApplyFocus: function () {\r\n          if (this._isActive) {\r\n            this.ui.control.addClass('csui-control-active');\r\n          } else {\r\n            this.ui.control.removeClass('csui-control-active');\r\n          }\r\n          if (this._isFocused) {\r\n            this.ui.control.trigger('focus');\r\n          }\r\n        },\r\n\r\n        _startActive: function () {\r\n          this._isActive = true;\r\n          this.ui.control.addClass('csui-control-active');\r\n        },\r\n\r\n        _stopActive: function () {\r\n          if (!this._isRendering) {\r\n            this.ui.control.removeClass('csui-control-active');\r\n            this._isActive = false;\r\n          }\r\n        }\r\n\r\n      },\r\n      {\r\n        // static methods:\r\n      }\r\n  );\r\n\r\n  return RetainFocusBehavior;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/error/impl/error',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <div class=\\\"csui-suggestion\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.suggestion || (depth0 != null ? depth0.suggestion : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"suggestion\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"csui-error-icon-div\\\">\\r\\n  <div class=\\\"csui-error-icon-parent\\\">\\r\\n    <div class=\\\"csui-error-icon notification_error\\\"></div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n<div class=\\\"csui-message\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.message || (depth0 != null ? depth0.message : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"message\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.suggestion : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_error_impl_error', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/error/impl/error',[],function(){});\n","csui.define('csui/controls/error/error.view',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'hbs!csui/controls/error/impl/error',\r\n  'css!csui/controls/error/impl/error'\r\n], function ($, Marionette, template) {\r\n  'use strict';\r\n\r\n  var ErrorView = Marionette.ItemView.extend({\r\n\r\n    className: function () {\r\n      var className = 'csui-error content-tile csui-error-container';\r\n      if (this.options.low) {\r\n        className += ' csui-low';\r\n      }\r\n      return className;\r\n    },\r\n\r\n    template: template,\r\n\r\n    modelEvents: {\r\n      change: 'render'\r\n    },\r\n\r\n    ui: {\r\n      messageArea: '.csui-message'\r\n    },\r\n\r\n    events: {\r\n      \"mouseenter\": 'showPopover',\r\n      \"mouseleave\": 'hidePopover'\r\n    },\r\n\r\n    constructor: function ErrorView(options) {\r\n      options = options || {};\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    canShowPopover: function () {\r\n      return (!!this.options.model.get('title'));\r\n    },\r\n\r\n    onShow: function () {\r\n      if (this.canShowPopover()) {\r\n        var that = this;\r\n        this.$el.closest('.csui-disabled').removeClass('csui-disabled');\r\n        this.ui.messageArea.binf_popover({\r\n          content: this.options.model.get('title'),\r\n          html: true,\r\n          placement: function () {\r\n            var popOverSource = that.ui.messageArea,\r\n                maxWidth      = popOverSource.width(),\r\n                maxHeight     = popOverSource.height(),\r\n                offset        = popOverSource.offset(),\r\n                window_left   = offset.left,\r\n                window_top    = offset.top,\r\n                window_right  = (($(window).width()) - (window_left + popOverSource.outerWidth(true))),\r\n                window_bottom = (($(window).height()) - (window_top + popOverSource.outerHeight(true)));\r\n            if (window_right > maxWidth) {\r\n              return \"right\";\r\n            } else if (window_left > maxWidth) {\r\n              return \"left\";\r\n            } else if (window_bottom > maxHeight) {\r\n              return \"bottom\";\r\n            } else {\r\n              return \"top\";\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    showPopover: function (e) {\r\n      if (this.canShowPopover()) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.ui.messageArea.binf_popover('show');\r\n      }\r\n    },\r\n\r\n    hidePopover: function (e) {\r\n      if (this.canShowPopover()) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.ui.messageArea.binf_popover('hide');\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return ErrorView;\r\n\r\n});\r\n\n","csui.define('csui/widgets/error/error.view',[\r\n  'csui/lib/underscore','csui/lib/backbone', 'csui/controls/error/error.view'\r\n], function (_, Backbone, ErrorControlView) {\r\n  'use strict';\r\n\r\n  var ErrorWidgetView = ErrorControlView.extend({\r\n\r\n    className: function () {\r\n      var cvclass = ErrorControlView.prototype.className;\r\n      if( _.isFunction(cvclass)) {\r\n        cvclass = cvclass.call(this);\r\n      }\r\n      return 'csui-error-widget ' + cvclass;\r\n    },\r\n\r\n    constructor: function ErrorWidgetView(options) {\r\n      options || (options = {});\r\n      options.data || (options.data = {});\r\n      if (!options.model) {\r\n        options.model = new Backbone.Model({\r\n          message: options.data.message,\r\n          suggestion: options.data.suggestion\r\n        });\r\n      }\r\n\r\n      ErrorControlView.prototype.constructor.call(this, options);\r\n    }\r\n\r\n  });\r\n\r\n  return ErrorWidgetView;\r\n\r\n});\r\n\n","csui.define('csui/behaviors/widget.container/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/behaviors/widget.container/impl/nls/root/lang',{\r\n\r\n  loadingWidgetFailedMessage: '\"{0}\" failed to load.',\r\n  loadingWidgetFailedSuggestion: 'Please try again later or contact support.'\r\n\r\n});\r\n\n","// Loads widgets and exposes a promise with the result status on the view\r\ncsui.define('csui/behaviors/widget.container/widget.container.behavior',['require', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/widgets/error/error.view',\r\n  'csui/utils/log', 'i18n!csui/behaviors/widget.container/impl/nls/lang',\r\n  'csui/lib/jquery.when.all'\r\n], function (require, _, $, Marionette, ErrorView, log, lang) {\r\n  'use strict';\r\n\r\n  var WidgetContainerBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function WidgetContainerBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this.view = view;\r\n      this.view.widgetsResolved = this._resolveWidgets();\r\n    },\r\n\r\n    _resolveWidgets: function () {\r\n      var promises = [];\r\n      if (!this.view.enumerateWidgets) {\r\n        throw new Marionette.Error({\r\n          name: 'UndefinedEnumerateWidgets',\r\n          message: 'Undefined enumerateWidgets method'\r\n        });\r\n      }\r\n      this.view.enumerateWidgets(_.bind(function (widget) {\r\n        promises.push($.when(widget).then(WidgetContainerBehavior.resolveWidget));\r\n      }, this));\r\n      return $.whenAll.apply($, promises);\r\n    }\r\n\r\n  }, {\r\n\r\n    getErrorWidget: function (widget, error) {\r\n      return {\r\n        type: 'csui/widgets/error',\r\n        options: {\r\n          message: _.str.sformat(lang.loadingWidgetFailedMessage, widget.type),\r\n          suggestion: lang.loadingWidgetFailedSuggestion,\r\n          originalWidget: _.extend({}, widget)\r\n        },\r\n        view: ErrorView,\r\n        error: error\r\n      };\r\n    },\r\n\r\n    resolveWidget: function (widget) {\r\n      if (!widget.view) {\r\n        var promise = WidgetContainerBehavior._loadWidget(widget.type)\r\n            .then(function (Widget) {\r\n              widget.view = Widget;\r\n              // TODO: Remove the deprecated property\r\n              widget['class'] = Widget;\r\n              return widget;\r\n            }, function (error) {\r\n              log.warn('Loading widget \"{0}\" failed. {1}', widget.type, error)\r\n              && console.warn(log.last);\r\n              log.warn('Occurred ' + log.getStackTrace()) && console.warn(log.last);\r\n              _.extend(widget, WidgetContainerBehavior.getErrorWidget(widget, error));\r\n            });\r\n        return promise;\r\n      }\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    _loadWidget: function (name) {\r\n      var deferred  = $.Deferred(),\r\n          path,\r\n          lastSlash = name.lastIndexOf('/');\r\n      // Enable widget names without the module path for the core widgets;\r\n      // compatibility for early perspectives, which did not use full paths\r\n      if (lastSlash < 0) {\r\n        path = 'csui/widgets/' + name;\r\n      } else {\r\n        path = name;\r\n        name = name.substring(lastSlash + 1);\r\n      }\r\n      require([path + '/' + name + '.view'],\r\n          function (Widget) {\r\n            deferred.resolve(Widget);\r\n          }, function (error) {\r\n            deferred.reject(error);\r\n          });\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return WidgetContainerBehavior;\r\n\r\n});\r\n\n","csui.define('csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',['csui/lib/underscore', 'csui/lib/marionette'\r\n], function (_, Marionette) {\r\n  'use strict';\r\n\r\n  var ViewEventsPropagationMixin = {\r\n\r\n    propagateEventsToViews: function () {\r\n      var views = Array.prototype.slice.call(arguments);\r\n      _.each(this._eventsToPropagateToViews,\r\n          _.bind(this._propagateEventToViews, this, views));\r\n    },\r\n\r\n    cancelEventsToViewsPropagation: function () {\r\n      var views = Array.prototype.slice.call(arguments);\r\n      _.each(this._eventsToPropagateToViews,\r\n          _.bind(this._cancelEventToViewsPropagation, this, views));\r\n    },\r\n\r\n    _propagateEventToViews: function (views, name) {\r\n      _.each(views, function (view) {\r\n        //console.log('Propagating', name,\r\n        //    'from', Object.getPrototypeOf(this).constructor.name,\r\n        //    'to', Object.getPrototypeOf(view).constructor.name);\r\n        //var parentView = this;\r\n        var childView = view;\r\n        view.listenTo(this, name, function () {\r\n          //console.log('Triggering', name,\r\n          //    'from', Object.getPrototypeOf(parentView).constructor.name,\r\n          //    'to', Object.getPrototypeOf(childView).constructor.name);\r\n          // Check if the view has already triggered render and show events\r\n          // and if the view element has been added to the document.\r\n          if ((childView._isShown || childView._isAttached) && childView._isRendered &&\r\n              Marionette.isNodeAttached(childView.el)) {\r\n            var parameters = Array.prototype.slice.call(arguments);\r\n            parameters.unshift(childView, name);\r\n            Marionette.triggerMethodOn.apply(Marionette, parameters);\r\n          }\r\n          // context provided to be able to stop listening\r\n        }, this);\r\n      }, this);\r\n    },\r\n\r\n    _cancelEventToViewsPropagation: function (views, name) {\r\n      _.each(views, function (view) {\r\n        //console.log('Cancelling propagation', name,\r\n        //    'from', Object.getPrototypeOf(this).constructor.name,\r\n        //    'to', Object.getPrototypeOf(view).constructor.name);\r\n        // context provided to identify this origin as registrator\r\n        view.stopListening(this, name, undefined, this);\r\n      }, this);\r\n    },\r\n\r\n    _eventsToPropagateToViews: ['dom:refresh']\r\n\r\n  };\r\n\r\n  return ViewEventsPropagationMixin;\r\n\r\n});\r\n\n","csui.define('csui/controls/grid/grid.view',['require', 'module', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin', 'csui/utils/log'\r\n], function (require, module, _, Backbone, Marionette, ViewEventsPropagationMixin, log) {\r\n\r\n  log = log(module.id);\r\n\r\n  var ColumnView = Marionette.ItemView.extend({\r\n\r\n    className: function () {\r\n      var classNames = [];\r\n      if (!!this.model.get('className')) {\r\n        // Apply additional classes from model\r\n        classNames.push(this.model.get('className'));\r\n      }\r\n      this._addSizeClasses(classNames);\r\n      // TODO: Decide if we need it or not.  Or if we want just moves=pushes+pulls.\r\n      // Experimental features for testing: you can define offsets, pulls and pushes\r\n      // together with sizes for a grid column.  They will convert to binf-col-offset-*,\r\n      // binf-col-push-* and binf-col-pull classes respectively.\r\n      this._addOffsetClasses(classNames);\r\n      this._addPullClasses(classNames);\r\n      this._addPushClasses(classNames);\r\n      this._addHeightClasses(classNames);\r\n      return _.unique(classNames).join(' ');\r\n    },\r\n\r\n    attributes: function () {\r\n      var tmpAttributes;\r\n\r\n      if (this.model.get('widget') !== undefined) {\r\n        var widgetType = this.model.get('widget').type;\r\n        var lastSlash = widgetType.lastIndexOf('/');\r\n        if (lastSlash > 0) {\r\n          widgetType = widgetType.substring(lastSlash + 1);\r\n        }\r\n        // FIXME: use full path for widget type\r\n\r\n        tmpAttributes = {\r\n          'data-csui-widget_type': widgetType,\r\n          'data-csui-cell_address': this.model.get('widget').cellAddress\r\n        };\r\n      }\r\n      else {\r\n        tmpAttributes = {};\r\n      }\r\n\r\n      return tmpAttributes;\r\n    },\r\n\r\n    constructor: function ColumnView(options) {\r\n      if (!!options.cellBehaviours) {\r\n        this.behaviors = _.extend(options.cellBehaviours, this.behaviors);\r\n      }\r\n      this._init(options);\r\n    },\r\n\r\n    _init: function (options) {\r\n      Marionette.ItemView.prototype.constructor.call(this, _.extend({template: false}, options));\r\n      if (this.collection) {\r\n        this._createRows();\r\n      } else {\r\n        this._registerModelEvents();\r\n        this._createCell();\r\n      }\r\n      this.propagateEventsToViews(this.cell || this.rows);\r\n    },\r\n\r\n    _registerModelEvents: function () {\r\n      this.listenTo(this.model, 'change:widget', this._updateWidget);\r\n      this.listenTo(this.model, 'change:sizes', this._updateSizes);\r\n      this.listenTo(this.model, 'change:heights', this._updateSizes);\r\n    },\r\n\r\n    _updateSizes: function () {\r\n      var className = _.result(this, 'className');\r\n      this.$el.attr('class', className);\r\n    },\r\n\r\n    /**\r\n     * Replace and re-render cell with new widget\r\n     */\r\n    _updateWidget: function (newWidget) {\r\n      newWidget.cellAddress = this.model.get('widget').cellAddress;\r\n\r\n      // Create Cell for new widget\r\n      this._createCell();\r\n\r\n      // Update Attributes\r\n      var attrs = _.result(this, 'attributes');\r\n      if (this.id) { attrs.id = _.result(this, 'id'); }\r\n      if (this.className) { attrs['class'] = _.result(this, 'className');}\r\n      this.$el.attr(attrs);\r\n\r\n      // Finally, render\r\n      this.render();\r\n    },\r\n\r\n    onRender: function () {\r\n      try {\r\n        this._renderContent();\r\n      } catch (error) {\r\n        log.warn('Widget render failed.\\n{0}', error.message) && console.warn(log.last);\r\n        var cellConstructionFailed = this.options.grid.getOption('cellConstructionFailed');\r\n        _.isFunction(cellConstructionFailed) &&\r\n        cellConstructionFailed.call(this.options.grid, this.model, error);\r\n      }\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      this._destroyContent();\r\n    },\r\n\r\n    _addSizeClasses: function (classNames) {\r\n      var sizes = this.model.get('sizes');\r\n      if (sizes) {\r\n        sizes.xs != null && classNames.push('binf-col-xs-' + sizes.xs);\r\n        sizes.sm != null && classNames.push('binf-col-sm-' + sizes.sm);\r\n        sizes.md != null && classNames.push('binf-col-md-' + sizes.md);\r\n        sizes.lg != null && classNames.push('binf-col-lg-' + sizes.lg);\r\n        sizes.xl != null && classNames.push('binf-col-xl-' + sizes.xl);\r\n        sizes.xxl != null && classNames.push('binf-col-xxl-' + sizes.xxl);\r\n      }\r\n    },\r\n\r\n    _addOffsetClasses: function (classNames) {\r\n      var offset = this.model.get('offsets');\r\n      if (offset) {\r\n        offset.xs != null && classNames.push('binf-col-xs-offset-' + offset.xs);\r\n        offset.sm != null && classNames.push('binf-col-sm-offset-' + offset.sm);\r\n        offset.md != null && classNames.push('binf-col-md-offset-' + offset.md);\r\n        offset.lg != null && classNames.push('binf-col-lg-offset-' + offset.lg);\r\n        offset.xl != null && classNames.push('binf-col-xl-offset-' + offset.xl);\r\n        offset.xxl != null && classNames.push('binf-col-xxl-offset-' + offset.xxl);\r\n      }\r\n    },\r\n\r\n    _addPullClasses: function (classNames) {\r\n      var pulls = this.model.get('pulls');\r\n      if (pulls) {\r\n        pulls.xs != null && classNames.push('binf-col-xs-pull-' + pulls.xs);\r\n        pulls.sm != null && classNames.push('binf-col-sm-pull-' + pulls.sm);\r\n        pulls.md != null && classNames.push('binf-col-md-pull-' + pulls.md);\r\n        pulls.lg != null && classNames.push('binf-col-lg-pull-' + pulls.lg);\r\n        pulls.xl != null && classNames.push('binf-col-xl-pull-' + pulls.xl);\r\n        pulls.xxl != null && classNames.push('binf-col-xxl-pull-' + pulls.xxl);\r\n      }\r\n    },\r\n\r\n    _addPushClasses: function (classNames) {\r\n      var pushes = this.model.get('pushes');\r\n      if (pushes) {\r\n        pushes.xs != null && classNames.push('binf-col-xs-push-' + pushes.xs);\r\n        pushes.sm != null && classNames.push('binf-col-sm-push-' + pushes.sm);\r\n        pushes.md != null && classNames.push('binf-col-md-push-' + pushes.md);\r\n        pushes.lg != null && classNames.push('binf-col-lg-push-' + pushes.lg);\r\n        pushes.xl != null && classNames.push('binf-col-xl-push-' + pushes.xl);\r\n        pushes.xxl != null && classNames.push('binf-col-xxl-push-' + pushes.xxl);\r\n      }\r\n    },\r\n\r\n    _addHeightClasses: function (classNames) {\r\n      var heights = this.model.get('heights');\r\n      if (heights) {\r\n        heights.xs != null && classNames.push('row-xs-' + heights.xs);\r\n        heights.sm != null && classNames.push('row-sm-' + heights.sm);\r\n        heights.md != null && classNames.push('row-md-' + heights.md);\r\n        heights.lg != null && classNames.push('row-lg-' + heights.lg);\r\n        heights.xl != null && classNames.push('row-xl-' + heights.xl);\r\n        heights.xxl != null && classNames.push('row-xxl-' + heights.xxl);\r\n      }\r\n    },\r\n\r\n    _createRows: function () {\r\n      this.rows = new RowsView({\r\n        el: this.el,\r\n        grid: this.options.grid,\r\n        collection: this.collection\r\n      });\r\n    },\r\n\r\n    _createCell: function () {\r\n      var CellView        = this._getCellView(),\r\n          cellViewOptions = this._getCellViewOptions(),\r\n          fullOptions     = _.extend({model: this.model}, cellViewOptions);\r\n      if (!!this.cell) {\r\n        // Destroy existing cell (if any)\r\n        this.cell.destroy();\r\n      }\r\n\r\n      try {\r\n        this.cell = new CellView(fullOptions);\r\n      } catch (error) {\r\n        log.warn('Widget initialization failed.\\n{0}', error.message) && console.warn(log.last);\r\n        var cellConstructionFailed = this.options.grid.getOption('cellConstructionFailed');\r\n        _.isFunction(cellConstructionFailed) &&\r\n        cellConstructionFailed.call(this.options.grid, this.model, error);\r\n      }\r\n    },\r\n\r\n    _getCellView: function () {\r\n      var cellView = this.options.grid.getOption('cellView');\r\n      if (cellView && !(cellView.prototype instanceof Backbone.View)) {\r\n        cellView = cellView.call(this.options.grid, this.model);\r\n      }\r\n      if (!cellView) {\r\n        throw new Marionette.Error({\r\n          name: 'NoCellViewError',\r\n          message: 'A \"cellView\" must be specified'\r\n        });\r\n      }\r\n      return cellView;\r\n    },\r\n\r\n    _getCellViewOptions: function () {\r\n      var cellViewOptions = this.options.grid.getOption('cellViewOptions');\r\n      if (_.isFunction(cellViewOptions)) {\r\n        cellViewOptions = cellViewOptions.call(this.options.grid, this.model, this);\r\n      }\r\n      return cellViewOptions;\r\n    },\r\n\r\n    _renderContent: function () {\r\n      if (this.cell) {\r\n        var region = new Marionette.Region({el: this.el});\r\n        region.show(this.cell);\r\n      } else {\r\n        // If the grid is nested, nest also the height setting container class\r\n        if (this.options.grid.$el.hasClass('grid-rows')) {\r\n          this.$el.addClass('grid-rows');\r\n        }\r\n        this.rows.render();\r\n      }\r\n    },\r\n\r\n    _destroyContent: function () {\r\n      this.cell && this.cell.destroy();\r\n      this.rows && this.rows.destroy();\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(ColumnView.prototype, ViewEventsPropagationMixin);\r\n\r\n  var RowView = Marionette.CollectionView.extend({\r\n\r\n    className: 'binf-row',\r\n\r\n    childView: ColumnView,\r\n    childViewOptions: function (child) {\r\n      return {\r\n        grid: this.options.grid,\r\n        collection: child.rows,\r\n        cellBehaviours: this.options.cellBehaviours,\r\n        rowBehaviours: this.options.rowBehaviours\r\n      };\r\n    },\r\n\r\n    constructor: function RowView(options) {\r\n      if (!!options.rowBehaviours) {\r\n        this.behaviors = _.extend(options.rowBehaviours, this.behaviors);\r\n      }\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this, 'add:child', this.propagateEventsToViews);\r\n      // FIXME: implement stopListening in ViewEventsPropagationMixin on 'remove:child'\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(RowView.prototype, ViewEventsPropagationMixin);\r\n\r\n  var RowsView = Marionette.CollectionView.extend({\r\n\r\n    childView: RowView,\r\n    childViewOptions: function (child) {\r\n      return {\r\n        grid: this.options.grid,\r\n        collection: child.columns,\r\n        cellBehaviours: this.options.cellBehaviours,\r\n        rowBehaviours: this.options.rowBehaviours,\r\n        reorderOnSort: this.options.reorderOnSort\r\n      };\r\n    },\r\n\r\n    constructor: function RowsView() {\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this, 'add:child', this.propagateEventsToViews);\r\n      // FIXME: implement stopListening in ViewEventsPropagationMixin on 'remove:child'\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(RowsView.prototype, ViewEventsPropagationMixin);\r\n\r\n  var GridRowView = RowView.extend({\r\n\r\n    childView: ColumnView,\r\n    childViewOptions: function (child) {\r\n      return {\r\n        grid: this.options.grid,\r\n        cellBehaviours: this.options.cellBehaviours,\r\n        rowBehaviours: this.options.rowBehaviours\r\n      };\r\n    },\r\n\r\n    constructor: function GridRowView(options) {\r\n      options || (options = {});\r\n      options.grid = this;\r\n      if (!options.collection) {\r\n        options.collection = this._convertCollection(options);\r\n      }\r\n      RowView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    _convertCollection: function (options) {\r\n      return new Backbone.Collection(options.columns);\r\n    }\r\n\r\n  });\r\n\r\n  var GridView = RowsView.extend({\r\n\r\n    className: 'cs-grid binf-container-fluid',\r\n\r\n    constructor: function GridView(options) {\r\n      options || (options = {});\r\n      options.grid = this;\r\n      if (!options.collection) {\r\n        options.collection = this._convertCollection(options);\r\n      }\r\n      RowsView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    _convertCollection: function (options) {\r\n      return this._convertRows(options.rows, 'grid0');\r\n    },\r\n\r\n    _convertRows: function (rows, addressPrefix) {\r\n      rows = new Backbone.Collection(rows);\r\n      rows.each(function (row, rowIndex) {\r\n        var columns = row.get('columns');\r\n        row.cellAddress = addressPrefix + ':r' + rowIndex;\r\n        row.columns = this._convertColumns(columns, row.cellAddress);\r\n      }, this);\r\n      return rows;\r\n    },\r\n\r\n    _convertColumns: function (columns, addressPrefix) {\r\n      columns = new Backbone.Collection(columns);\r\n      columns.each(function (column, colIndex) {\r\n        var rows = column.get('rows');\r\n        column.cellAddress = addressPrefix + ':c' + colIndex;\r\n        if (column.get('widget') !== undefined) {\r\n          column.get('widget').cellAddress = column.cellAddress;\r\n        }\r\n        if (rows) {\r\n          column.rows = this._convertRows(rows, column.cellAddress);\r\n        }\r\n      }, this);\r\n      return columns;\r\n    }\r\n\r\n  }, {\r\n\r\n    RowView: GridRowView,\r\n    CellView: ColumnView\r\n\r\n  });\r\n\r\n  return GridView;\r\n\r\n});\r\n\n","csui.define('csui/controls/node-type.icon/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/node-type.icon/impl/nls/root/lang',{\r\n\r\n  shortcutTypeLabel: 'Shortcut to {0}',\r\n  nodeTypeUnknown: 'Unknown'\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/node-type.icon/node-type.icon',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <img src=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.imageUrl || (depth0 != null ? depth0.imageUrl : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"imageUrl\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"csui-icon\\\" alt=\\\"\\\" aria-hidden=\\\"true\\\">\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.mainSvgId : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(4, data, 0),\"inverse\":this.program(6, data, 0)})) != null ? stack1 : \"\");\n},\"4\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    <svg class=\\\"csui-icon csui-svg-icon\\\" focusable=\\\"false\\\">\\r\\n      <use xlink:href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.spritePath || (depth0 != null ? depth0.spritePath : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"spritePath\",\"hash\":{}}) : helper)))\n    + \"#\"\n    + this.escapeExpression(((helper = (helper = helpers.mainSvgId || (depth0 != null ? depth0.mainSvgId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"mainSvgId\",\"hash\":{}}) : helper)))\n    + \"\\\"></use>\\r\\n    </svg>\\r\\n\";\n},\"6\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    <span class=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.mainClassName || (depth0 != null ? depth0.mainClassName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"mainClassName\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n},\"8\":function(depth0,helpers,partials,data,blockParams,depths) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0,(depth0 != null ? depth0.overlaySvgIds : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":this.program(9, data, 0, blockParams, depths),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"9\":function(depth0,helpers,partials,data,blockParams,depths) {\n    return \"    <svg class=\\\"csui-icon csui-svg-icon\\\" focusable=\\\"false\\\">\\r\\n      <use xlink:href=\\\"\"\n    + this.escapeExpression(this.lambda((depths[1] != null ? depths[1].spritePath : depths[1]), depth0))\n    + \"#\"\n    + this.escapeExpression(this.lambda(depth0, depth0))\n    + \"\\\"></use>\\r\\n    </svg>\\r\\n\";\n},\"11\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0,(depth0 != null ? depth0.overlayClassNames : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":this.program(12, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"12\":function(depth0,helpers,partials,data) {\n    return \"    <span class=\\\"\"\n    + this.escapeExpression(this.lambda(depth0, depth0))\n    + \"\\\"></span>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data,blockParams,depths) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.imageUrl : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0, blockParams, depths),\"inverse\":this.program(3, data, 0, blockParams, depths)})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.overlaySvgIds : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(8, data, 0, blockParams, depths),\"inverse\":this.program(11, data, 0, blockParams, depths)})) != null ? stack1 : \"\");\n},\"useDepths\":true});\nHandlebars.registerPartial('csui_controls_node-type.icon_node-type.icon', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/node-type.icon/node-type.icon.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette', 'csui/utils/nodesprites',\r\n  'i18n!csui/controls/node-type.icon/impl/nls/lang',\r\n  'hbs!csui/controls/node-type.icon/node-type.icon',\r\n  'csui/themes/carbonfiber/svg_sprites/symbol/sprite'\r\n], function (_, $, Backbone, Marionette, nodeSpriteCollection,\r\n    lang, template, sprite) {\r\n  'use strict';\r\n\r\n  var NodeTypeIconModel = Backbone.Model.extend({\r\n    constructor: function NodeTypeIconModel(attributes, options) {\r\n      this.node = options.node;\r\n      attributes = this._getAttributesFromNode();\r\n\r\n      NodeTypeIconModel.__super__.constructor.call(this, attributes, options);\r\n\r\n      this\r\n          .listenTo(this.node, 'change:id', this._updateModelFromNode)\r\n          .listenTo(this.node, 'change:type', this._updateModelFromNode)\r\n          .listenTo(this.node, 'change:image_url', this._updateModelFromNode);\r\n    },\r\n\r\n    _getAttributesFromNode: function () {\r\n      var node              = this.node,\r\n          original          = node.original,\r\n          exactNodeSprite   = nodeSpriteCollection.findByNode(node) || {},\r\n          exactClassName    = exactNodeSprite.get('className'),\r\n          exactSvgId        = exactNodeSprite.get('svgId'),\r\n          mainClassName     = exactClassName,\r\n          mainSvgId         = exactSvgId,\r\n          overlayClassNames = [],\r\n          overlaySvgIds = [];\r\n      var mimeTypeFromNodeSprite;\r\n      if (exactNodeSprite.attributes) {\r\n        mimeTypeFromNodeSprite = exactNodeSprite.get('mimeType');\r\n      }\r\n      // prefer the title mapped by mimetype entries in nodeSpriteCollection\r\n      var title = mimeTypeFromNodeSprite || node.get(\"type_name\") || node.get(\"type\");\r\n\r\n      // If the node is shortcut, find the icon data for the original node\r\n      // and add append an overlay CSS class for a small arrow icon.\r\n\r\n      // Note: For MicroPost(Comments and Replies), do not consider\r\n      // original node, show their respective icon\r\n\r\n      // Note2: since the RestAPI at the moment does not return the document version, showing the\r\n      // latest document mime-type icon with the shortcut overlay is incorrect.  Use the\r\n      // generation icon  for now.  When the RestAPI and UI supports Generation, switch this to\r\n      // generation-overlay.\r\n\r\n      if (original && original.get('id') && node.get(\"type\") !== 1281 && node.get(\"type\") !== 2) {\r\n        var originalNodeSprite = nodeSpriteCollection.findByNode(original) || {};\r\n        mainClassName = originalNodeSprite.get('className');\r\n        mainSvgId = originalNodeSprite.get('svgId');\r\n        overlayClassNames.push('csui-icon csui-icon-shortcut-overlay');\r\n        overlaySvgIds.push('themes--carbonfiber--image--icons--shortcut-overlay');\r\n        title = _.str.sformat(lang.shortcutTypeLabel,\r\n            originalNodeSprite.get('mimeType') || original.get(\"type_name\") ||\r\n            lang.nodeTypeUnknown);\r\n      }\r\n\r\n      var attributes = {\r\n        imageUrl: node.get(\"image_url\"),\r\n        title: title\r\n      };\r\n      // prefer SVGs from sprite\r\n      if (exactSvgId) {\r\n        attributes.spritePath = sprite.getSpritePath();\r\n        attributes.svgId = exactSvgId;\r\n        attributes.mainSvgId = mainSvgId;\r\n        attributes.overlaySvgIds = overlaySvgIds;\r\n      } else {\r\n        attributes.className = exactClassName;\r\n        attributes.mainClassName = mainClassName;\r\n        attributes.overlayClassNames = overlayClassNames;\r\n      }\r\n      return attributes;\r\n    },\r\n\r\n    _updateModelFromNode: function () {\r\n      var attributes = this._getAttributesFromNode();\r\n      this.clear({silent: true});\r\n      this.set(attributes);\r\n    }\r\n  });\r\n\r\n  var NodeTypeIconView = Marionette.ItemView.extend({\r\n    tagName: 'span',\r\n\r\n    attributes: function () {\r\n      var title = this.model.get('title');\r\n      return {\r\n        'class': 'csui-icon-group',\r\n        'title': title,\r\n        'aria-label': title\r\n      };\r\n    },\r\n\r\n    template: template,\r\n\r\n    constructor: function NodeTypeIconView(options) {\r\n      options || (options = {});\r\n      if (!options.model) {\r\n        this.ownModel = true;\r\n        options.model = new NodeTypeIconModel(undefined, {node: options.node});\r\n      }\r\n\r\n      NodeTypeIconView.__super__.constructor.call(this, options);\r\n\r\n      // Passing the el to the ctor prevents creating an own el, including\r\n      // setting its attributes.  The caller must ensure the right tag.\r\n      if (options.el) {\r\n        $(options.el).attr(_.result(this, 'attributes'));\r\n      }\r\n\r\n      this.listenTo(this.model, 'change', this.render);\r\n    },\r\n\r\n    onRender: function () {\r\n      this._updateTitle();\r\n    },\r\n\r\n    onDestroy: function(){\r\n      if (this.ownModel){\r\n        this.model.stopListening();\r\n      }\r\n    },\r\n\r\n    _updateTitle: function () {\r\n      var title = this.model.get('title');\r\n      this.$el\r\n          .attr('title', title)\r\n          .attr('aria-label', title);\r\n    }\r\n  });\r\n\r\n  return NodeTypeIconView;\r\n});\r\n\n","csui.define('csui/controls/progressblocker/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/progressblocker/impl/nls/root/lang',{\r\n  loadingText: \"Loading data, please wait.\"\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/progressblocker/impl/blocker',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"outer-border\\\">\\r\\n  <div class=\\\"loader\\\">\\r\\n  </div>\\r\\n  <div class=\\\"binf-sr-only\\\" aria-live=\\\"polite\\\" aria-busy=\\\"true\\\">\\r\\n      \"\n    + this.escapeExpression(((helper = (helper = helpers.loadingText || (depth0 != null ? depth0.loadingText : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"loadingText\",\"hash\":{}}) : helper)))\n    + \"\\r\\n  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_progressblocker_impl_blocker', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/progressblocker/impl/blocker',[],function(){});\n","csui.define('csui/controls/progressblocker/blocker',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/utils/log',\r\n  'i18n!csui/controls/progressblocker/impl/nls/lang',\r\n  'hbs!csui/controls/progressblocker/impl/blocker',\r\n  'css!csui/controls/progressblocker/impl/blocker'\r\n], function (module, _, $, Marionette, log, lang, template) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    delay: 10,\r\n    disableDelay: 10,\r\n    globalOnly: false\r\n  });\r\n  var enableDelay = config.delay,\r\n      disableDelay = config.disableDelay,\r\n      globalOnly = config.globalOnly,\r\n      suppressedViews = [],\r\n      globalBlockingView, detachableBlockingView;\r\n\r\n  var BlockingView = Marionette.ItemView.extend({\r\n    className: 'load-container binf-hidden',\r\n    template: template,\r\n\r\n    constructor: function BlockingView(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      this.parentView = options.parentView;\r\n      this.counter = 0;\r\n    },\r\n\r\n    serializeData: function () {\r\n      return {\r\n        loadingText: lang.loadingText\r\n      };\r\n    },\r\n\r\n    enable: function () {\r\n      if (!this.options.local) {\r\n        var blockingView = this._getGlobalBlockingView();\r\n        if (blockingView) {\r\n          log.debug(\r\n              'Blocking view delegates global enabling by {0} ({1}) to {2} ({3}), counter: {4}.',\r\n              log.getObjectName(this.parentView), this.parentView.cid,\r\n              log.getObjectName(blockingView.parentView), blockingView.parentView.cid,\r\n              blockingView.counter) && console.log(log.last);\r\n          if (detachableBlockingView) {\r\n            suppressBlockingView(this);\r\n          } else {\r\n            return blockingView.enable();\r\n          }\r\n        }\r\n      }\r\n      // guard against multiple enabling calls\r\n      if (this.counter) {\r\n        ++this.counter;\r\n      } else {\r\n        this.counter = 1;\r\n        if (this.disableTimeout) {\r\n          clearTimeout(this.disableTimeout);\r\n          this.disableTimeout = undefined;\r\n        } else {\r\n          // delay the actual display by the configured time period\r\n          this.enableTimeout = setTimeout(_.bind(function () {\r\n            this.enableTimeout = undefined;\r\n            this._show();\r\n            log.debug('Blocking view enabled by {0} ({1}).',\r\n                log.getObjectName(this.parentView), this.parentView.cid)\r\n            && console.log(log.last);\r\n            Marionette.triggerMethodOn(this.parentView, 'enable:blocking', this);\r\n          }, this), enableDelay);\r\n        }\r\n      }\r\n    },\r\n\r\n    disable: function () {\r\n      if (!this.options.local) {\r\n        var blockingView = this._getGlobalBlockingView();\r\n        if (blockingView) {\r\n          log.debug(\r\n              'Blocking view delegates global disabling by {0} ({1}) to {2} ({3}), counter: {4}.',\r\n              log.getObjectName(this.parentView), this.parentView.cid,\r\n              log.getObjectName(blockingView.parentView), blockingView.parentView.cid,\r\n              blockingView.counter) && console.log(log.last);\r\n          if (!detachableBlockingView) {\r\n            return blockingView.disable();\r\n          }\r\n        }\r\n      }\r\n      // guard against multiple disabling calls\r\n      if (this.counter > 1) {\r\n        --this.counter;\r\n      } else if (this.counter === 0) {\r\n        log.debug('Blocking view has been already disabled by {0} ({1}).',\r\n            log.getObjectName(this.parentView), this.parentView.cid)\r\n        && console.log(log.last);\r\n      } else {\r\n        this.counter = 0;\r\n        // if the showing delay hasn't ended yet just cancel the display\r\n        if (this.enableTimeout) {\r\n          clearTimeout(this.enableTimeout);\r\n          this.enableTimeout = undefined;\r\n          releaseBlockingViews(this);\r\n        } else {\r\n          // delay the actual hiding in case another showing should come quickly\r\n          this.disableTimeout = setTimeout(_.bind(function () {\r\n            this.disableTimeout = undefined;\r\n            this._hide();\r\n            log.debug('Blocking view disabled by {0} ({1}).',\r\n                log.getObjectName(this.parentView), this.parentView.cid)\r\n            && console.log(log.last);\r\n            releaseBlockingViews(this);\r\n            Marionette.triggerMethodOn(this.parentView, 'disable:blocking', this);\r\n          }, this), disableDelay);\r\n        }\r\n      }\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      this._clearTimeouts();\r\n      this._resetGlobalBlockingView();\r\n    },\r\n\r\n    makeGlobal: function (detachable) {\r\n      // The outermost view, which usually means the first view, should win\r\n      if (!globalBlockingView) {\r\n        detachableBlockingView = !!detachable;\r\n        globalBlockingView = this;\r\n        this.$el.addClass('csui-global');\r\n      }\r\n    },\r\n\r\n    _getGlobalBlockingView: function () {\r\n      // If this view is the global view, return false; otherwise and endless recursion\r\n      // would occur constantly delegating the operation to the global view\r\n      if (globalBlockingView && globalBlockingView !== this &&\r\n          // Join the global blocking view, if using just the global one was forced,\r\n          // or if the global one is enabled; otherwise let the local one work\r\n          (globalOnly || globalBlockingView.counter)) {\r\n        return globalBlockingView;\r\n      }\r\n    },\r\n\r\n    _resetGlobalBlockingView: function () {\r\n      if (globalBlockingView === this) {\r\n        globalBlockingView = undefined;\r\n        this.$el.removeClass('csui-global');\r\n      }\r\n    },\r\n\r\n    _clearTimeouts: function () {\r\n      if (this.enableTimeout) {\r\n        clearTimeout(this.enableTimeout);\r\n      }\r\n      if (this.disableTimeout) {\r\n        clearTimeout(this.disableTimeout);\r\n      }\r\n    },\r\n\r\n    _show: function () {\r\n      this.$el.removeClass('binf-hidden');\r\n    },\r\n\r\n    _hide: function () {\r\n      this.$el.addClass('binf-hidden');\r\n    }\r\n  });\r\n\r\n  var ParentWithBlockingView = {\r\n    blockActions: function () {\r\n      logParentBlockActions.call(this, true);\r\n      showImage(this.blockingView.$el);\r\n      this.blockingView.enable();\r\n      ++this._blockingCounter;\r\n      return this;\r\n    },\r\n\r\n    blockWithoutIndicator: function () {\r\n      logParentBlockActions.call(this, false);\r\n      hideImage(this.blockingView.$el);\r\n      this.blockingView.enable();\r\n      ++this._blockingCounter;\r\n      return this;\r\n    },\r\n\r\n    unblockActions: function () {\r\n      if (this === this.blockingView.parentView) {\r\n        log.debug('Blocking view asked for disabling for {0} ({1}), counter: {2}.',\r\n            log.getObjectName(this), this.cid, this.blockingView.counter)\r\n        && console.log(log.last);\r\n      } else {\r\n        log.debug(\r\n            'Blocking view asked for disabling for {0} ({1}) by {2} ({3}), counter: {4}.',\r\n            log.getObjectName(this), this.cid,\r\n            log.getObjectName(this.blockingView.parentView),\r\n            this.blockingView.parentView.cid, this.blockingView.counter)\r\n        && console.log(log.last);\r\n      }\r\n      this.blockingView.disable();\r\n      if (this._blockingCounter) {\r\n        --this._blockingCounter;\r\n      }\r\n      return this;\r\n    },\r\n\r\n    showBlockingView: function () {\r\n      log.debug('Blocking view is showing for {0} ({1}).',\r\n          log.getObjectName(this), this.cid) && console.log(log.last);\r\n      this.blockingView.render();\r\n      this.blockingView.parentView.$el.append(this.blockingView.el);\r\n    },\r\n\r\n    destroyBlockingView: function () {\r\n      log.debug('Blocking view is destroying for {0} ({1}).',\r\n          log.getObjectName(this), this.cid) && console.log(log.last);\r\n      if (this._blockingCounter) {\r\n        log.debug('Blocking view needs cleanup for {0} ({1}), counter: {2}.',\r\n            log.getObjectName(this), this.cid, this._blockingCounter)\r\n        && console.log(log.last);\r\n      }\r\n      while (this._blockingCounter) {\r\n        this.unblockActions();\r\n      }\r\n      this.blockingView.destroy();\r\n    }\r\n  };\r\n\r\n  function suppressBlockingView(view) {\r\n    log.debug('Blocking view is suppressing {0} ({1}).',\r\n        log.getObjectName(view.parentView), view.parentView.cid)\r\n    && console.log(log.last);\r\n    hideImage(view.$el);\r\n    suppressedViews.push(view);\r\n  }\r\n\r\n  function releaseBlockingViews(view) {\r\n    if (view === globalBlockingView) {\r\n      suppressedViews.forEach(function (view) {\r\n        log.debug('Blocking view is releasing {0} ({1}).',\r\n            log.getObjectName(view.parentView), view.parentView.cid)\r\n        && console.log(log.last);\r\n        showImage(view.$el);\r\n      });\r\n      suppressedViews = [];\r\n    }\r\n  }\r\n\r\n  function showImage(element) {\r\n    element.find('.outer-border').removeClass('binf-hidden');\r\n  }\r\n\r\n  function hideImage(element) {\r\n    element.find('.outer-border').addClass('binf-hidden');\r\n  }\r\n\r\n  function logParentBlockActions(indicator) {\r\n    indicator = indicator ? 'with' : 'without';\r\n    if (this === this.blockingView.parentView) {\r\n      log.debug(\r\n          'Blocking view asked for enabling {0} indicator for {1} ({2}), counter: {3}.',\r\n          indicator, log.getObjectName(this), this.cid, this.blockingView.counter)\r\n      && console.log(log.last);\r\n    } else {\r\n      log.debug(\r\n          'Blocking view asked for enabling for {0} indicator for {0} ({1}) by {2} ({3}), counter: {4}.',\r\n          indicator, log.getObjectName(this), this.cid,\r\n          log.getObjectName(this.blockingView.parentView),\r\n          this.blockingView.parentView.cid, this.blockingView.counter)\r\n      && console.log(log.last);\r\n    }\r\n  }\r\n\r\n  BlockingView.imbue = function (parent, parentView) {\r\n    var options;\r\n    if (Object.getPrototypeOf(parent) === Object.prototype) {\r\n      options = parent;\r\n      parent = options.parent;\r\n      parentView = options.parentView;\r\n    } else {\r\n      options = {};\r\n    }\r\n    parentView || (parentView = parent);\r\n    var blockingView = new BlockingView({\r\n      parentView: parentView,\r\n      local: options.local\r\n    });\r\n    parent.blockingView = blockingView;\r\n    parent.blockingPrototype = ParentWithBlockingView;\r\n    _.extend(parent, ParentWithBlockingView);\r\n    parent._blockingCounter = 0;\r\n    parent.listenTo(parentView, 'render', parent.showBlockingView)\r\n          .listenTo(parentView, 'before:destroy', parent.destroyBlockingView);\r\n  };\r\n\r\n  var ChildWithBlockingView = {\r\n\r\n    blockActions: function () {\r\n      logChildBlockActions.call(this);\r\n      this.childWithBlockingView.blockActions();\r\n      return this;\r\n    },\r\n\r\n    blockWithoutIndicator: function () {\r\n      logChildBlockActions.call(this);\r\n      this.childWithBlockingView.blockWithoutIndicator();\r\n      return this;\r\n    },\r\n\r\n    unblockActions: function () {\r\n      log.debug('Blocking view delegates disabling for {0} ({1}) to {2} ({3}).',\r\n          log.getObjectName(this), this.cid,\r\n          log.getObjectName(this.childWithBlockingView),\r\n          this.childWithBlockingView.cid) && console.log(log.last);\r\n      this.childWithBlockingView.unblockActions();\r\n      return this;\r\n    }\r\n  };\r\n\r\n  function logChildBlockActions() {\r\n    log.debug('Blocking view delegates enabling for {0} ({1}) to {2} ({3}).',\r\n        log.getObjectName(this), this.cid, log.getObjectName(this.childWithBlockingView),\r\n        this.childWithBlockingView.cid) && console.log(log.last);\r\n  }\r\n\r\n  function toggleSuppression (suppress) {\r\n    // TODO: Find a way how to mark the outermost element for the local widgets.\r\n    var method = suppress ? 'addClass' : 'removeClass';\r\n    $('.binf-widgets .load-container')[method]('csui-no-blocking');\r\n  }\r\n\r\n  BlockingView.suppressAll = function () {\r\n    toggleSuppression(true);\r\n  };\r\n\r\n  BlockingView.resumeAll = function () {\r\n    toggleSuppression(false);\r\n  };\r\n\r\n  BlockingView.delegate = function (parent, child) {\r\n    if (Object.getPrototypeOf(parent) === Object.prototype) {\r\n      var options = parent;\r\n      parent = options.parent;\r\n      child = options.child;\r\n    }\r\n    parent.childWithBlockingView = child;\r\n    parent.childWithBlockingViewPrototype = ChildWithBlockingView;\r\n    _.extend(parent, ChildWithBlockingView);\r\n  };\r\n\r\n  return BlockingView;\r\n});\r\n\n","csui.define('csui/controls/perspective.panel/perspective.animator',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery'\r\n], function (module, _, $) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    effect: 'none'\r\n  }, module.config());\r\n  var effect = config;\r\n\r\n  function PerspectiveAnimator(perspectivePanelView) {\r\n    this.perspectivePanelView = perspectivePanelView;\r\n  }\r\n\r\n  PerspectiveAnimator.prototype = {\r\n    startAnimation: function (perspectiveView) {\r\n      if (effect === 'slide') {\r\n        var perspectivePanel = this.perspectivePanelView;\r\n\r\n        perspectivePanel.$el\r\n        // Flush the DOM redraw to separate hiding of the\r\n        // blocking view from the perspective change animation\r\n          .redraw()\r\n          .addClass('csui-in-transition');\r\n\r\n        perspectiveView.$el.addClass('cs-on-stage-right');\r\n        perspectiveView.triggerMethod('before:show');\r\n        this.perspectivePanelView.$el.append(perspectiveView.el);\r\n      } else if (effect === 'fade') {\r\n        perspectiveView.$el.addClass('csui-fading');\r\n      }\r\n    },\r\n\r\n    swapPerspective: function (currentPerspectiveView, upcomingPerspectiveView) {\r\n      var deferred = $.Deferred();\r\n      if (effect === 'slide') {\r\n        currentPerspectiveView.$el.addClass('cs-on-stage-left');\r\n      } else {\r\n        currentPerspectiveView.remove();\r\n      }\r\n\r\n      if (effect === 'fade') {\r\n        this.perspectivePanelView.$el.addClass('csui-in-transition');\r\n      }\r\n      this._insertPerspective(upcomingPerspectiveView);\r\n\r\n      if (effect === 'slide' || effect === 'fade') {\r\n        upcomingPerspectiveView.$el\r\n            .one(this._transitionEnd(), deferred.resolve)\r\n            // Do not let the browser \"optimize away\" the transition\r\n            // after appending by accessing some DOM property which\r\n            // needs the element rendered.\r\n            .redraw()\r\n            .removeClass(effect === 'slide' ? 'cs-on-stage-right' : 'csui-faded-out');\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    },\r\n\r\n    showPerspective: function (perspectiveView) {\r\n      var deferred = $.Deferred();\r\n      this._insertPerspective(perspectiveView);\r\n      if (effect === 'slide' || effect === 'fade') {\r\n        perspectiveView.$el\r\n            .one(this._transitionEnd(), deferred.resolve)\r\n            // Do not let the browser \"optimize away\" the transition\r\n            // after appending by accessing some DOM property which\r\n            // needs the element rendered.\r\n            .redraw()\r\n            .removeClass(effect === 'slide' ? 'cs-on-stage-right' : 'csui-faded-out');\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    },\r\n\r\n    finishAnimation: function () {\r\n      if (effect === 'slide' || effect === 'fade') {\r\n        this.perspectivePanelView.$el.removeClass('csui-in-transition');\r\n      }\r\n    },\r\n\r\n    _insertPerspective: function (perspectiveView) {\r\n      if (effect === 'fade') {\r\n        perspectiveView.$el.addClass('csui-faded-out');\r\n      }\r\n      perspectiveView.triggerMethod('before:show');\r\n      this.perspectivePanelView.$el.append(perspectiveView.el);\r\n      perspectiveView.triggerMethod('show');\r\n    },\r\n\r\n    _transitionEnd: _.once(\r\n      function () {\r\n        var transitions = {\r\n              transition: 'transitionend',\r\n              WebkitTransition: 'webkitTransitionEnd',\r\n              MozTransition: 'transitionend',\r\n              OTransition: 'oTransitionEnd otransitionend'\r\n            },\r\n            element = document.createElement('div'),\r\n            transition;\r\n        for (transition in transitions) {\r\n          if (typeof element.style[transition] !== 'undefined') {\r\n            return transitions[transition];\r\n          }\r\n        }\r\n      }\r\n    )\r\n  };\r\n\r\n  return PerspectiveAnimator;\r\n});\r\n\r\n\n","csui.define('csui/controls/perspective.panel/perspective.factory',['require', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone'\r\n], function (require, _, $, Backbone) {\r\n\r\n  function PerspectiveFactory(options) {\r\n    this.options = options || {};\r\n  }\r\n\r\n  _.extend(PerspectiveFactory.prototype, {\r\n\r\n    createPerspective: function (model) {\r\n      var self = this;\r\n      return this\r\n          ._loadPerspective(model.get('type'))\r\n          .then(function (PerspectiveView) {\r\n            return new PerspectiveView(_.extend({\r\n              context: self.options.context\r\n            }, model.get('options')));\r\n          });\r\n    },\r\n\r\n    _loadPerspective: function (type) {\r\n      var deferred  = $.Deferred(),\r\n          path,\r\n          lastSlash = type.lastIndexOf('/');\r\n      // Enable perspective types without the module path for the core perspectives;\r\n      // compatibility for early perspectives, which did not use the full paths\r\n      if (lastSlash < 0) {\r\n        path = 'csui/perspectives/' + type;\r\n      } else {\r\n        path = type;\r\n        type = type.substring(lastSlash + 1);\r\n      }\r\n      require([path + '/' + type + '.perspective.view'],\r\n          function (PerspectiveView) {\r\n            deferred.resolve(PerspectiveView);\r\n          }, function (error) {\r\n            deferred.reject(error);\r\n          });\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  PerspectiveFactory.extend = Backbone.View.extend;\r\n\r\n  return PerspectiveFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/user',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector', 'csui/models/authenticated.user'\r\n], function (module, _, $, Backbone, ModelFactory, ConnectorFactory,\r\n    AuthenticatedUserModel) {\r\n  'use strict';\r\n\r\n  var prefetch = /\\bprefetch(?:=([^&]*)?)/i.exec(location.search);\r\n  prefetch = !prefetch || prefetch[1] !== 'false';\r\n\r\n  var initialResourceFetched;\r\n\r\n  var UserModelFactory = ModelFactory.extend({\r\n    propertyPrefix: 'user',\r\n\r\n    constructor: function UserModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var user = this.options.authentication || this.options.user || {},\r\n          config = module.config();\r\n      if (prefetch) {\r\n        this.initialResponse = user.initialResponse || config.initialResponse;\r\n      }\r\n      if (!(user instanceof Backbone.Model)) {\r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        user = new AuthenticatedUserModel(user.attributes || config.attributes,\r\n            _.defaults({\r\n              connector: connector\r\n            }, user.options, config.options));\r\n      }\r\n      this.property = user;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      var promise;\r\n      if (this.initialResponse && !initialResourceFetched) {\r\n        promise = this.property.prefetch(this.initialResponse, options);\r\n        initialResourceFetched = true;\r\n      } else {\r\n        promise = this.property.fetch(options);\r\n      }\r\n\r\n      // set the userId on the authenticator\r\n      promise.done(_.bind(function() {\r\n        this.property.connector.authenticator.setUserId(this.property.get('id'));\r\n      }, this));\r\n\r\n      return promise;\r\n    }\r\n  });\r\n\r\n  return UserModelFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/application.scope.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory'\r\n], function (module, _, Backbone, ModelFactory) {\r\n\r\n  var ApplicationScopeModel = Backbone.Model.extend({});\r\n\r\n  var ApplicationScopeModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'applicationScope',\r\n\r\n    constructor: function ApplicationScopeModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var applicationScope = this.options.applicationScope || {};\r\n      if (!(applicationScope instanceof Backbone.Model)) {\r\n        var config = module.config();\r\n        applicationScope = new ApplicationScopeModel(applicationScope.models, _.extend({},\r\n            applicationScope.options, config.options));\r\n      }\r\n      this.property = applicationScope;\r\n    }\r\n\r\n  });\r\n\r\n  return ApplicationScopeModelFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/node',[\r\n  'module', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/node/node.model', 'csui/utils/commands'\r\n], function (module, $, Backbone, ModelFactory, ConnectorFactory,\r\n    NodeModel, commands) {\r\n  'use strict';\r\n\r\n  var NodeModelFactory = ModelFactory.extend({\r\n    propertyPrefix: 'node',\r\n\r\n    constructor: function NodeModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var node = this.options.node || {},\r\n          config = module.config();\r\n      if (!(node instanceof Backbone.Model)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            creationOptions = $.extend(true, {\r\n              connector: connector,\r\n              // Do not waste server resources and request only common\r\n              // properties at start; it returns all what it can by default.\r\n              fields: {\r\n                properties: [],\r\n                'versions.element(0)': ['owner_id']\r\n              },\r\n              // Command enabling for shortcuts needs the original node info\r\n              expand: {\r\n                properties: ['original_id']\r\n              },\r\n              // Make sure, that the metadata token is returned for nodes\r\n              // requesated via this factory, because they are supposed to\r\n              // be shared and may be the subject of changes.\r\n              stateEnabled: true,\r\n              // Command enabling needs permitted actions\r\n              commands: commands.getAllSignatures()\r\n            }, config.options, node.options);\r\n        // Next node can be fetshed just like node; keep their defaults in sync\r\n        node = new NodeModel(node.attributes || config.attributes,\r\n            creationOptions);\r\n      }\r\n      this.property = node;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n\r\n  return NodeModelFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/ancestors',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node',\r\n  'csui/models/nodeancestors'\r\n], function (module, _, Backbone, CollectionFactory, NodeModelFactory, NodeAncestorCollection) {\r\n  'use strict';\r\n\r\n  var prefetch = /\\bprefetch(?:=([^&]*)?)/i.exec(location.search);\r\n  prefetch = !prefetch || prefetch[1] !== 'false';\r\n\r\n  var initialResourceFetched;\r\n\r\n  var AncestorCollectionFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'ancestors',\r\n\r\n    constructor: function AncestorsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var config = module.config();\r\n      var ancestors = this.options.ancestors || {};\r\n      if (prefetch) {\r\n        this.initialResponse = ancestors.initialResponse || config.initialResponse;\r\n      }\r\n      if (!(ancestors instanceof Backbone.Collection)) {\r\n        var node = context.getModel(NodeModelFactory);\r\n        ancestors = new NodeAncestorCollection(ancestors.models,\r\n          _.defaults({\r\n            // Breadcrumb panel listens only to the 'reset' event.\r\n            autoreset: true,\r\n            node: node\r\n          }, ancestors.options, config.options));\r\n      }\r\n      this.property = ancestors;\r\n\r\n      // Listen to renaming of the contextual node, which we assume to be\r\n      // the last ancestor, as the collection is constructed by default.\r\n      this.listenTo(this.property.node, 'change:name', function () {\r\n        if (this.property.length > 0) {\r\n          this.property.last().set('name', node.get('name'));\r\n        }\r\n      });\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      if (this.initialResponse && !initialResourceFetched) {\r\n        var promise = this.property.prefetch(this.initialResponse, options);\r\n        initialResourceFetched = true;\r\n        return promise;\r\n      } else {\r\n        // If you want to avoid the server call by updating the ancestors\r\n        // only on the client side, inspect the earlier code in Perforce.\r\n        return this.property.fetch(options);\r\n      }\r\n    }\r\n  });\r\n\r\n  return AncestorCollectionFactory;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/breadcrumbs/impl/breadcrumb/impl/breadcrumb',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"  <a href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"url\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"binf-dropdown-toggle csui-subcrumb csui-acc-focusable\\\"\\r\\n     data-binf-toggle=\\\"dropdown\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.subcrumbTooltip || (depth0 != null ? depth0.subcrumbTooltip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"subcrumbTooltip\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n  <ul class=\\\"binf-dropdown-menu\\\" role=\\\"menu\\\">\\r\\n\"\n    + ((stack1 = helpers.each.call(depth0,(depth0 != null ? depth0.subcrumbs : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"  </ul>\\r\\n\";\n},\"2\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.inactive : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.program(5, data, 0)})) != null ? stack1 : \"\");\n},\"3\":function(depth0,helpers,partials,data) {\n    return \"        <li role=\\\"menuitem\\\"><a data-id=\\\"\"\n    + this.escapeExpression(this.lambda((depth0 != null ? depth0.id : depth0), depth0))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(this.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</a>\\r\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n    return \"        <li role=\\\"menuitem\\\"><a class='csui-breadcrumb csui-acc-focusable' href=\\\"\"\n    + this.escapeExpression(this.lambda((depth0 != null ? depth0.url : depth0), depth0))\n    + \"\\\"\\r\\n               data-id=\\\"\"\n    + this.escapeExpression(this.lambda((depth0 != null ? depth0.id : depth0), depth0))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(this.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</a>\\r\\n\";\n},\"7\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.inactive : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(8, data, 0),\"inverse\":this.program(10, data, 0)})) != null ? stack1 : \"\");\n},\"8\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    \"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\r\\n\";\n},\"10\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    <a class='csui-breadcrumb csui-acc-focusable' href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"url\",\"hash\":{}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n       title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.hasSubCrumbs : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(7, data, 0)})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_breadcrumbs_impl_breadcrumb_impl_breadcrumb', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/breadcrumbs/impl/breadcrumb/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/breadcrumbs/impl/breadcrumb/impl/nls/root/lang',{\r\n  subcrumbTooltip: 'Show full path',\r\n  breadcrumbAria: 'Breadcrumb'\r\n\r\n});\r\n\n","\n","csui.define('csui/controls/breadcrumbs/impl/breadcrumb/breadcrumb.view',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/utils/node.links/node.links',\r\n  'hbs!csui/controls/breadcrumbs/impl/breadcrumb/impl/breadcrumb',\r\n  'i18n!csui/controls/breadcrumbs/impl/breadcrumb/impl/nls/lang'\r\n], function (_, $, Marionette, nodeLinks, template, lang) {\r\n  'use strict';\r\n\r\n  var BreadcrumbItemView = Marionette.ItemView.extend({\r\n    tagName: 'li',\r\n\r\n    template: template,\r\n\r\n    modelEvents: {\r\n      change: 'render'\r\n    },\r\n\r\n    events: {\r\n      'click a.csui-breadcrumb': 'onClickLink'\r\n    },\r\n\r\n    onClickLink: function (e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n\r\n      var model = this.model;\r\n      if (model.get('subcrumbs').length > 0) {\r\n        var id = $(e.target).data('id');\r\n        model = this._getModel(id);\r\n      }\r\n      this.triggerMethod('click:ancestor', model);\r\n    },\r\n\r\n    className: function () {\r\n      var cname,\r\n          // Constructor of this object has not been finished yet;\r\n          // subcrumbs as an array have not been ensured yet\r\n          subCrumbs = this.model.get('subcrumbs');\r\n\r\n      if (this.options.isLastChild) {\r\n        cname = 'binf-active';\r\n      } else if (subCrumbs && subCrumbs.length > 0) {\r\n        cname = 'binf-dropdown';\r\n      } else {\r\n        cname = 'tail';\r\n      }\r\n\r\n      return cname;\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      // If the ancestor points to a real node, which is connected\r\n      // to a server, set href of the link to the open the container\r\n      // perspective of the ancestor\r\n      function getAncestorUrl(crumb) {\r\n        var connector = crumb.connector || crumb.collection.connector;\r\n        return crumb.get('id') > 0 && (connector) &&\r\n               nodeLinks.getUrl(crumb, {connector: connector}) || '#';\r\n      }\r\n\r\n      var options   = this.options,\r\n          subCrumbs = _.map(this.model.get('subcrumbs'), function (crumb) {\r\n            return _.extend(crumb.toJSON(), {url: getAncestorUrl(crumb)});\r\n          });\r\n      return {\r\n        inactive: this.model.get('inactive') || options.isLastChild,\r\n        hasSubCrumbs: subCrumbs.length > 0,\r\n        subcrumbs: subCrumbs,\r\n        name: this.model.attributes.displayName || this.model.attributes.name_formatted ||\r\n              this.model.attributes.name,\r\n        url: getAncestorUrl(this.model),\r\n        subcrumbTooltip: lang.subcrumbTooltip\r\n      };\r\n    },\r\n\r\n    onRender: function () {\r\n      // aria-current can not be set on the last/active element as that is not a link. html validity issue.\r\n      // TODO the inactive/informational last element is counted by the screenreader but can not be reached\r\n    },\r\n\r\n    constructor: function BreadcrumbItemView() {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      // Make using the view-model easier in this view\r\n      if (!this.model.has('subcrumbs')) {\r\n        this.model.set('subcrumbs', [], {silent: true});\r\n      }\r\n    },\r\n\r\n    _getModel: function (id) {\r\n      var subCrumbs = this.model.get('subcrumbs'),\r\n          model     = null;\r\n\r\n      for (var i = 0; i < subCrumbs.length; i++) {\r\n        if (subCrumbs[i].get('id') === id) {\r\n          model = subCrumbs[i];\r\n          break;\r\n        }\r\n      }\r\n      return model;\r\n    }\r\n  });\r\n\r\n  return BreadcrumbItemView;\r\n});\r\n\n","csui.define('csui/controls/breadcrumbs/breadcrumbs.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/controls/breadcrumbs/impl/breadcrumb/breadcrumb.view',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior'\r\n], function (_,\r\n    $,\r\n    Backbone,\r\n    Marionette,\r\n    BreadCrumbItemView,\r\n    NextNodeModelFactory,\r\n    TabableRegionBehavior) {\r\n\r\n  var BreadCrumbCollectionView = Marionette.CollectionView.extend({\r\n\r\n    tagName: 'ol',\r\n\r\n    className: 'binf-breadcrumb',\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    childView: BreadCrumbItemView,\r\n\r\n    childViewOptions: function (model, index) {\r\n      return {\r\n        childIndex: index,\r\n        isLastChild: index === (model.get(\"showAsLink\") ? this.collection.size() :\r\n                                this.collection.size() - 1)\r\n      };\r\n    },\r\n\r\n    constructor: function BreadcrumbCollectionView(options) {\r\n      options || (options = {});\r\n      this.completeCollection = options.collection;\r\n      options.collection = new Backbone.Collection();\r\n\r\n      Marionette.CollectionView.call(this, options);\r\n    },\r\n\r\n    initialize: function (options) {\r\n\r\n      this.listenTo(this.completeCollection, 'update reset', this.synchronizeCollections);\r\n\r\n      var context = this.context = this.options.context;\r\n      this._nextNode = options.node || context.getModel(NextNodeModelFactory);\r\n      this.stop = this.options.stop || {};\r\n      this.options.noOfItemsToShow = parseInt(this.options.noOfItemsToShow, 10);\r\n      this._startSubCrumbs = this.options.startSubCrumbs !== undefined ?\r\n                             parseInt(this.options.startSubCrumbs, 10) : 1;\r\n      this._subCrumbsLength = 0;\r\n\r\n      this.accLastBreadcrumbElementFocused = true;\r\n      this.accNthBreadcrumbElementFocused = 0;\r\n\r\n      this.resizeTimer = undefined;\r\n      $(window).on('resize.' + this.cid, {view: this}, this._onWindowResize);\r\n    },\r\n\r\n    _onWindowResize: function (event) {\r\n      if (event && event.data && event.data.view) {\r\n        var self = event.data.view;\r\n        // optimization for rapid mouse movement and redraw when mouse movement slows down or stop\r\n        if (self.resizeTimer) {\r\n          clearTimeout(self.resizeTimer);\r\n        }\r\n        self.resizeTimer = setTimeout(function () {\r\n          self._adjustToFit();\r\n        }, 200);\r\n      }\r\n    },\r\n\r\n    events: {'keydown': 'onKeyInView'},\r\n\r\n    _breadcrumbSelector: 'a.csui-acc-focusable:visible',\r\n\r\n    isTabable: function () {\r\n      return this.collection.models.length > 1;\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      if (this.isTabable()) {\r\n        if (this.accLastBreadcrumbElementFocused) {\r\n          return this.$(this._breadcrumbSelector + ':last');\r\n        } else {\r\n          var breadcrumbElements = this.$(this._breadcrumbSelector);\r\n          return $(breadcrumbElements[this.accNthBreadcrumbElementFocused]);\r\n        }\r\n      } else {\r\n        return $();\r\n      }\r\n    },\r\n\r\n    onKeyInView: function (event) {\r\n      var allBreadcrumbElements;\r\n\r\n      switch (event.keyCode) {\r\n      case 37:\r\n      case 38:\r\n        // left arrow key\r\n        // up arrow key\r\n\r\n        allBreadcrumbElements = this.$(this._breadcrumbSelector);\r\n        if (this.accLastBreadcrumbElementFocused) {\r\n          if (allBreadcrumbElements.length > 1) {\r\n            this.accLastBreadcrumbElementFocused = false;\r\n            this.accNthBreadcrumbElementFocused = allBreadcrumbElements.length - 2;\r\n          }\r\n        } else {\r\n          if (this.accNthBreadcrumbElementFocused > 0) {\r\n            this.accNthBreadcrumbElementFocused--;\r\n          }\r\n        }\r\n        this.trigger('changed:focus', this);\r\n        this.currentlyFocusedElement().trigger('focus');\r\n\r\n        break;\r\n      case 39:\r\n      case 40:\r\n        // right arrow key\r\n        // down arrow key\r\n\r\n        if (!this.accLastBreadcrumbElementFocused) {\r\n          allBreadcrumbElements = this.$(this._breadcrumbSelector);\r\n          if (this.accNthBreadcrumbElementFocused < allBreadcrumbElements.length - 1) {\r\n            this.accNthBreadcrumbElementFocused++;\r\n            this.trigger('changed:focus', this);\r\n            this.currentlyFocusedElement().trigger('focus');\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    },\r\n\r\n    synchronizeCollections: function (skipAdjustToFit) {\r\n      var excerpt = this.completeCollection.last(this.completeCollection.length) || [];\r\n      if (this.stop && this.stop.id) {\r\n        this._removeAncestorsFromStopPoint(excerpt, this.stop.id);\r\n      }\r\n      this._removeAncestorsToNumItemsToShow(excerpt);\r\n      this._subCrumbsLength = 0;\r\n      this._refreshBreadCrumbsDisplay();\r\n      // execute _adjustToFit if and only if the parent has added all breadcrumbs elements to DOM.\r\n      if (typeof skipAdjustToFit === 'boolean') {\r\n        if (!skipAdjustToFit) {\r\n          this._adjustToFit();\r\n        }\r\n      } else {\r\n        this._adjustToFit();\r\n      }\r\n      this.trigger('after:synchronized');\r\n    },\r\n\r\n    _refreshBreadCrumbsDisplay: function () {\r\n      var subCrumbs,\r\n          subCrumbsMenu,\r\n          displayArr = this.completeCollection.last(this.completeCollection.length) || [];\r\n      if (this.stop && this.stop.id) {\r\n        this._removeAncestorsFromStopPoint(displayArr, this.stop.id);\r\n      }\r\n      this._removeAncestorsToNumItemsToShow(displayArr);\r\n      if (this._subCrumbsLength > 0) {\r\n        subCrumbs = _.range(this._startSubCrumbs, this._startSubCrumbs + this._subCrumbsLength).map(\r\n            function (rangeVal) {\r\n              return displayArr[rangeVal];\r\n            }\r\n        );\r\n        subCrumbsMenu = {\r\n          id: -1,\r\n          name: '...',\r\n          subcrumbs: subCrumbs\r\n        };\r\n        displayArr.splice(this._startSubCrumbs, this._subCrumbsLength, subCrumbsMenu);\r\n      }\r\n\r\n      this.collection.reset(displayArr);\r\n    },\r\n\r\n    refresh: function () {\r\n      this._adjustToFit();\r\n    },\r\n\r\n    _adjustToFit: function () {\r\n      var maxDisplayWidth = this._getMaxDisplayWidth(),\r\n          eleWidth        = this._getDisplayWidth();\r\n      if (eleWidth > maxDisplayWidth) {\r\n        this._shrinkToFit(maxDisplayWidth);\r\n      } else if (this._getDisplayWidth() < maxDisplayWidth) {\r\n        this._expandToFit(maxDisplayWidth);\r\n      }\r\n      var tabEvent = $.Event('tab:content:field:changed');\r\n      this.trigger(tabEvent);\r\n    },\r\n\r\n    _shrinkToFit: function (maxDisplayWidth) {\r\n      var shrinkableItems = this.collection.length - this._startSubCrumbs - 2;\r\n      if (maxDisplayWidth > 0) {\r\n        if (this._getDisplayWidth() > maxDisplayWidth && (shrinkableItems > 0 ||\r\n                                                          shrinkableItems === 0 &&\r\n                                                          window.devicePixelRatio === 2 &&\r\n                                                          this._subCrumbsLength === 0)) {\r\n          this._adjustSubCrumbsLengthBy(1);\r\n          this._shrinkToFit(maxDisplayWidth);\r\n        }\r\n      }\r\n    },\r\n\r\n    _expandToFit: function (maxDisplayWidth) {\r\n      var shrinkableItems = this.collection.size() - this._startSubCrumbs - 2;\r\n      if (maxDisplayWidth > 0) {\r\n        if (this._subCrumbsLength > 0 && this._getDisplayWidth() < maxDisplayWidth) {\r\n          this._adjustSubCrumbsLengthBy(-1);\r\n          this._expandToFit(maxDisplayWidth);\r\n        } else if (shrinkableItems > 0 && this._getDisplayWidth() > maxDisplayWidth) {\r\n          this._adjustSubCrumbsLengthBy(1);\r\n        }\r\n      }\r\n    },\r\n\r\n    _adjustSubCrumbsLengthBy: function (amt) {\r\n      this._subCrumbsLength += amt;\r\n      this._subCrumbsLength = Math.min(this._subCrumbsLength,\r\n          this.completeCollection.size() - this._startSubCrumbs);\r\n      this._refreshBreadCrumbsDisplay();\r\n    },\r\n\r\n    _getMaxDisplayWidth: function () {\r\n      return (this.el.offsetWidth * 0.9);\r\n    },\r\n\r\n    _getDisplayWidth: function () {\r\n      var childs       = this.el.children,\r\n          displayWidth = 0;\r\n      for (var i = 0; i < childs.length; i++) {\r\n        displayWidth += childs[i].offsetWidth;\r\n      }\r\n      return displayWidth;\r\n    },\r\n\r\n    childEvents: {\r\n      'click:ancestor': 'onClickAncestor'\r\n    },\r\n\r\n    onClickAncestor: function (model, node) {\r\n      var args = {node: node};\r\n      this.trigger('before:defaultAction', args);\r\n      if (!args.cancel) {\r\n        var nodeId = node.get('id');\r\n        if (this._nextNode.get('id') === nodeId) {\r\n          // when id is same as nextNode's id, nextNode.set(id) event is not triggered\r\n          this._nextNode.unset('id', {silent: true});\r\n        }\r\n\r\n        var viewStateModel = this.context && this.context.viewStateModel;\r\n        var viewState = viewStateModel && viewStateModel.get('state');\r\n        if (viewState) {\r\n          this.context.viewStateModel.set('state', _.omit(viewState, 'filter'), {silent: true});\r\n        }\r\n\r\n        // The nodestable uses this event to remove the order_by from the viewStateModel\r\n        this._nextNode.trigger('before:change:id', nodeId);\r\n        viewStateModel && viewStateModel.set('browsing', viewStateModel.BROWSING_TYPE.breadcrumbs);\r\n        this._nextNode.set('id', nodeId);\r\n      }\r\n\r\n      this.$el.trigger('setCurrentTabFocus');\r\n    },\r\n\r\n    hide: function (hideBreadcrumb) {\r\n      if (hideBreadcrumb) {\r\n        this.el.classList.add('binf-hidden');\r\n      } else {\r\n        this.el.classList.remove('binf-hidden');\r\n      }\r\n      return true;\r\n    },\r\n\r\n    hideSubCrumbs: function () {\r\n      var $subCrumb = this.$el.find('li.binf-dropdown');\r\n      if ($subCrumb && $subCrumb.hasClass('binf-open')) {\r\n        this.$el.find('.csui-subcrumb').trigger('click');\r\n      }\r\n    },\r\n\r\n    updateStopId: function (newId) {\r\n      this.stop.id = newId;\r\n    },\r\n\r\n    _removeAncestorsFromStopPoint: function (collection, stopId) {\r\n      for (var i = 0; i < collection.length; i++) {\r\n        if (collection[i].get('id') === stopId) {\r\n          collection.splice(0, i);\r\n          break;\r\n        }\r\n      }\r\n    },\r\n\r\n    _removeAncestorsToNumItemsToShow: function (collection) {\r\n      if (this.options.noOfItemsToShow && this.options.noOfItemsToShow >= 0) {\r\n        var limit = (this.options.noOfItemsToShow >= collection.length) ? 0 :\r\n                    collection.length - this.options.noOfItemsToShow;\r\n        collection.splice(0, limit);\r\n      }\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      $(window).off('resize.' + this.cid, this._onWindowResize);\r\n    }\r\n\r\n  });\r\n\r\n  return BreadCrumbCollectionView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/breadcrumbspanel/impl/breadcrumbspanel',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"binf-row\\\">\\r\\n  <div class=\\\"binf-item binf-col-xs-12\\\">\\r\\n    <div class=\\\"breadcrumb-inner breadcrumb-inner-header\\\" role=\\\"navigation\\\"\\r\\n         aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.breadcrumbAria || (depth0 != null ? depth0.breadcrumbAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"breadcrumbAria\",\"hash\":{}}) : helper)))\n    + \"\\\"></div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_breadcrumbspanel_impl_breadcrumbspanel', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/breadcrumbspanel/impl/breadcrumbspanel',[],function(){});\n","csui.define('csui/controls/breadcrumbspanel/breadcrumbspanel.view',['csui/lib/marionette', 'csui/utils/contexts/factories/ancestors',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/controls/breadcrumbs/breadcrumbs.view',\r\n  'hbs!csui/controls/breadcrumbspanel/impl/breadcrumbspanel',\r\n  'i18n!csui/controls/breadcrumbs/impl/breadcrumb/impl/nls/lang',\r\n  'css!csui/controls/breadcrumbspanel/impl/breadcrumbspanel'\r\n], function (Marionette, AncestorCollectionFactory, ApplicationScopeModelFactory, BreadcrumbsView,\r\n    BreadcrumbsPanelTemplate, lang) {\r\n  'use strict';\r\n\r\n  var BreadcrumbsPanelView = Marionette.LayoutView.extend({\r\n\r\n    attributes: {id: 'breadcrumb-wrap'},\r\n\r\n    className: 'binf-container-fluid',\r\n\r\n    template: BreadcrumbsPanelTemplate,\r\n\r\n    ui: {\r\n      tileBreadcrumb: '.tile-breadcrumb',\r\n      breadcrumbsWrap: '#breadcrumb-wrap'\r\n    },\r\n\r\n    regions: {\r\n      breadcrumbsInner: '.breadcrumb-inner'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        breadcrumbAria: lang.breadcrumbAria\r\n      };\r\n    },\r\n\r\n    constructor: function BreadcrumbsPanelView(options) {\r\n\r\n      Marionette.LayoutView.apply(this, arguments);\r\n\r\n      this.applicationScope = options.context.getModel(ApplicationScopeModelFactory);\r\n      this.listenTo(this.applicationScope, 'change:breadcrumbsVisible',\r\n          this._showOrHideBreadcrumbs);\r\n\r\n      this.ancestors = this.options.context.getCollection(AncestorCollectionFactory);\r\n\r\n      this.listenTo(this, 'dom:refresh', function () {\r\n        if (this.breadcrumbs) {\r\n          this.breadcrumbs.refresh(); // calls _adjustToFit\r\n        }\r\n      });\r\n    },\r\n\r\n    onRender: function () {\r\n      this._showOrHideBreadcrumbs();\r\n    },\r\n\r\n    _showOrHideBreadcrumbs: function () {\r\n      this._breadcrumbsVisible = this.applicationScope.get('breadcrumbsVisible');\r\n      this._breadcrumbsAvailable = this.ancestors.isFetchable();\r\n      if (this._breadcrumbsVisible && this._breadcrumbsAvailable) {\r\n        if (!this.breadcrumbs) {\r\n          this.breadcrumbs = new BreadcrumbsView({\r\n            context: this.options.context,\r\n            collection: this.ancestors,\r\n            fetchOnCollectionUpdate: false\r\n          });\r\n          this.breadcrumbsInner.show(this.breadcrumbs);\r\n          this.breadcrumbs.synchronizeCollections();\r\n          this.$el.addClass('breadcrumb-wrap-visible');\r\n          this.triggerMethod(\"tabable\", this);\r\n          this.breadcrumbs.triggerMethod(\"refresh:tabindexes\");\r\n        }\r\n      } else {\r\n        if (this.breadcrumbs) {\r\n          this.$el.removeClass('breadcrumb-wrap-visible');\r\n          this.breadcrumbsInner.empty();\r\n          delete this.breadcrumbs;\r\n        }\r\n      }\r\n    },\r\n\r\n    hideBreadcrumbs: function () {\r\n      if (this.breadcrumbs) {\r\n        this.breadcrumbs.hideSubCrumbs();\r\n      }\r\n      this.$el.removeClass('breadcrumb-wrap-visible');\r\n      this.triggerMethod(\"tabable:not\", this);\r\n      // the tabable region reacts to the isVisible state, so we use an explicit hide to prevent it from still being tabable\r\n      this.$el.hide();\r\n    },\r\n\r\n    showBreadcrumbs: function () {\r\n      this.$el.addClass('breadcrumb-wrap-visible');\r\n      this.triggerMethod(\"tabable\", this);\r\n      this.$el.show();\r\n      this.breadcrumbs && this.breadcrumbs.triggerMethod(\"refresh:tabindexes\");\r\n    },\r\n\r\n    isTabable: function () {\r\n      if (this.breadcrumbs) {\r\n        return this.ancestors.size() > 1;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return BreadcrumbsPanelView;\r\n});\r\n\n","csui.define('csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',['csui/lib/underscore', 'csui/lib/marionette'\r\n], function (_, Marionette) {\r\n  'use strict';\r\n\r\n  var LayoutViewEventsPropagationMixin = {\r\n\r\n    propagateEventsToRegions: function () {\r\n      _.each(this._eventsToPropagateToRegions,\r\n          _.bind(this._propagateEventToRegions, this));\r\n    },\r\n\r\n    _propagateEventToRegions: function (name) {\r\n      //console.log('Propagating', name,\r\n      //    'within', Object.getPrototypeOf(this).constructor.name);\r\n      this.listenTo(this, name, function () {\r\n        var regions;\r\n        if (this.regionManager) {\r\n          regions = this.regionManager.getRegions();\r\n        } else {\r\n          regions = this.getRegions();\r\n        }\r\n\r\n        _.each(regions, function (region) {\r\n          var view = region.currentView;\r\n          // Check if the region contains a view, if the view has already\r\n          // triggered render and show events and if the view element has\r\n          // been added to the document.\r\n          if (view && (view._isShown || view._isAttached) && view._isRendered &&\r\n              Marionette.isNodeAttached(view.el)) {\r\n            //console.log('Triggering', name,\r\n            //    'from', Object.getPrototypeOf(this).constructor.name,\r\n            //    'to', Object.getPrototypeOf(region.currentView).constructor.name);\r\n            var parameters = Array.prototype.slice.call(arguments);\r\n            parameters.unshift(region.currentView, name);\r\n            Marionette.triggerMethodOn.apply(Marionette, parameters);\r\n          }\r\n        }, this);\r\n      });\r\n    },\r\n\r\n    _eventsToPropagateToRegions: ['dom:refresh']\r\n\r\n  };\r\n\r\n  return LayoutViewEventsPropagationMixin;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/perspective.panel/impl/perspective.with.breadcrumb',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"csui-perspective-breadcrumb\\\"></div>\\r\\n<div class=\\\"csui-perspective-view\\\"></div>\";\n}});\nHandlebars.registerPartial('csui_controls_perspective.panel_impl_perspective.with.breadcrumb', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/perspective.panel/impl/perspective.with.breadcrumb.view',[\r\n  'csui/lib/underscore', 'csui/lib/marionette',\r\n  'csui/utils/namedlocalstorage',\r\n  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/controls/breadcrumbspanel/breadcrumbspanel.view',\r\n  'csui/utils/contexts/factories/ancestors',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'hbs!csui/controls/perspective.panel/impl/perspective.with.breadcrumb'\r\n], function (_, Marionette,\r\n    NamedLocalStorage,\r\n    UserModelFactory,\r\n    ApplicationScopeModelFactory,\r\n    BreadcrumbsPanelView,\r\n    AncestorCollectionFactory,\r\n    LayoutViewEventsPropagationMixin,\r\n    template) {\r\n  'use strict';\r\n\r\n  var PerspectiveWithBreadcrumbView = Marionette.LayoutView.extend({\r\n    className: 'cs-perspective-with-breadcrumb-view',\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      breadcrumbRegion: '.csui-perspective-breadcrumb',\r\n      perspectiveRegion: '.csui-perspective-view'\r\n    },\r\n\r\n    constructor: function PerspectiveWithBreadcrumbView(options) {\r\n      options || (options = {});\r\n      this.perspectiveView = options.perspectiveView;\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n      this.propagateEventsToRegions(); // propagate dom:refresh to child views\r\n\r\n      // \"proxy\" some attributes/functions from the perspectiveView to this wrapper view\r\n      this._supportMaximizeWidget = this.perspectiveView._supportMaximizeWidget;\r\n      this._supportMaximizeWidgetOnDisplay = this.perspectiveView._supportMaximizeWidgetOnDisplay;\r\n      if (_.isFunction(this.perspectiveView.serializePerspective)) {\r\n        this.serializePerspective = function (perspectiveModel) {\r\n          return this.perspectiveView.serializePerspective.apply(\r\n              this.perspectiveView, arguments);\r\n        };\r\n      }\r\n      this.widgetsResolved = this.perspectiveView.widgetsResolved;\r\n\r\n      var perspectiveType = this.options.context.perspective.get('type');\r\n      var perspectiveMarginClass;\r\n\r\n      switch (perspectiveType) {\r\n      case 'left-center-right':\r\n        perspectiveMarginClass = 'cs_perspective_no_left_right_margin';\r\n        break;\r\n      default:\r\n        perspectiveMarginClass = 'cs_perspective_with_left_right_margin';\r\n      }\r\n\r\n      this.$el.addClass(perspectiveMarginClass);\r\n\r\n      this.user = this.options.context.getModel(UserModelFactory);\r\n      this.listenTo(this.user, 'change', this.updateUserPreferences);\r\n      this.applicationScope = this.options.context.getModel(ApplicationScopeModelFactory);\r\n\r\n      this.listenTo(this.applicationScope, 'change:breadcrumbsVisible',\r\n          this._showOrHideBreadcrumbs);\r\n    },\r\n\r\n    onRender: function () {\r\n      var ancestors = this.options.context.getCollection(AncestorCollectionFactory);\r\n      var breadcrumbsAvailable = ancestors.isFetchable();\r\n\r\n      // inform the whole application that there are no breadcrumbs available\r\n      this.applicationScope.set('breadcrumbsAvailable', breadcrumbsAvailable);\r\n\r\n      // only if breadcrumbs are available, render and show the breadcrumbs\r\n      if (breadcrumbsAvailable) {\r\n        var breadcrumbsPanel = new BreadcrumbsPanelView({\r\n          context: this.options.context\r\n        });\r\n        this.breadcrumbRegion.show(breadcrumbsPanel);\r\n      }\r\n\r\n      this.perspectiveRegion.show(this.perspectiveView);\r\n    },\r\n\r\n    onDomRefresh: function () {\r\n      this.updateUserPreferences();\r\n    },\r\n\r\n    updateUserPreferences: function () {\r\n      var userId = this.user.get('id');\r\n      this.userPreferences = userId ? new NamedLocalStorage(\r\n          'userPreferences:' + userId) : undefined;\r\n      if (this._isRendered && this.userPreferences) {\r\n        var prefVisible = this.userPreferences.get('breadcrumbs-visible');\r\n        if (prefVisible === undefined) {\r\n          prefVisible = true;\r\n        }\r\n        this._setBreadcrumbsVisibility(prefVisible);\r\n      } else {\r\n        this._setBreadcrumbsVisibility(false);\r\n      }\r\n    },\r\n\r\n    _showOrHideBreadcrumbs: function (args1, args2) {\r\n      var breadcrumbsVisible = this.applicationScope.get('breadcrumbsVisible');\r\n      this._setBreadcrumbsVisibility(breadcrumbsVisible);\r\n    },\r\n\r\n    _setBreadcrumbsVisibility: function (visible) {\r\n      var breadcrumbsAvailable = this.applicationScope.get('breadcrumbsAvailable');\r\n      if (visible && breadcrumbsAvailable) {\r\n        this.$el.addClass('csui-breadcrumbs-visible');\r\n        this.perspectiveView.$el.addClass('csui-breadcrumbs-visible');\r\n      } else {\r\n        this.$el.removeClass('csui-breadcrumbs-visible');\r\n        this.perspectiveView.$el.removeClass('csui-breadcrumbs-visible');\r\n      }\r\n      if (this.userPreferences) {\r\n        this.userPreferences.set('breadcrumbs-visible', visible);\r\n      }\r\n      this.applicationScope.set('breadcrumbsVisible', visible);\r\n    }\r\n  });\r\n\r\n  _.extend(PerspectiveWithBreadcrumbView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return PerspectiveWithBreadcrumbView;\r\n});\r\n\n","csui.define('csui/controls/perspective.panel/perspective.with.breadcrumb.factory',['require', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/controls/perspective.panel/perspective.factory',\r\n  'csui/controls/perspective.panel/impl/perspective.with.breadcrumb.view'\r\n], function (require, _, $, PerspectiveFactory, PerspectiveWithBreadcrumbView) {\r\n\r\n  var PerspectiveWithBreadcrumbFactory = PerspectiveFactory.extend({\r\n\r\n    constructor: function PerspectiveWithBreadcrumbFactory(options) {\r\n      PerspectiveWithBreadcrumbFactory.__super__.constructor.apply(this, arguments);\r\n      this.options = options || {};\r\n    },\r\n\r\n    createPerspective: function (model) {\r\n      var self = this;\r\n      return PerspectiveFactory.prototype.createPerspective.call(this, model)\r\n          .then(function (perspectiveView) {\r\n\r\n            return new PerspectiveWithBreadcrumbView({\r\n              context: self.options.context,\r\n              perspectiveView: perspectiveView,\r\n              supportMaximizeWidget: perspectiveView._supportMaximizeWidget\r\n            });\r\n          });\r\n    }\r\n\r\n  });\r\n\r\n  return PerspectiveWithBreadcrumbFactory;\r\n});\r\n\n","\ncsui.define('css!csui/controls/perspective.panel/impl/perspective.panel',[],function(){});\n","csui.define('csui/controls/perspective.panel/perspective.panel.view',['require', 'module', 'csui/lib/jquery',\r\n  'csui/lib/underscore', 'csui/lib/marionette',\r\n  'csui/utils/base',\r\n  'csui/controls/perspective.panel/perspective.with.breadcrumb.factory',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/utils/commandhelper',\r\n  'csui/controls/perspective.panel/perspective.animator',\r\n  'css!csui/controls/perspective.panel/impl/perspective.panel',\r\n  'csui/lib/jquery.redraw', 'csui/lib/jquery.scrollbarwidth'\r\n], function (require, module, $, _, Marionette, base, PerspectiveWithBreadcrumbFactory,\r\n    BlockingView, CommandHelper, PerspectiveAnimator) {\r\n  'use strict';\r\n\r\n  var config = _.defaults({}, module.config(), {\r\n    progressWheel: true,\r\n    waitForData: true,\r\n    // May improve smoothness of animation, if some widgets render asynchronously\r\n    perspectiveShowDelay: 0,\r\n    limitTimeToWaitForData: true,\r\n    maximumTimeToWaitForData: 1000,\r\n    detachableBlockingView: true\r\n  });\r\n\r\n  if (!config.waitForData) {\r\n    config.perspectiveShowDelay = 0;\r\n  }\r\n\r\n  var pageUnloading = false;\r\n  $(window).on('beforeunload.' + module.id, function (event) {\r\n    pageUnloading = true;\r\n  });\r\n\r\n  var PerspectivePanelView = Marionette.ItemView.extend({\r\n    className: 'cs-perspective-panel',\r\n\r\n    template: false,\r\n\r\n    constructor: function PerspectivePanelView() {\r\n      Marionette.View.prototype.constructor.apply(this, arguments);\r\n      _.defaults(this.options, {\r\n        progressWheel: config.progressWheel,\r\n        waitForData: config.waitForData,\r\n        perspectiveShowDelay: config.perspectiveShowDelay,\r\n        limitTimeToWaitForData: config.limitTimeToWaitForData,\r\n        maximumTimeToWaitForData: config.maximumTimeToWaitForData,\r\n        detachableBlockingView: config.detachableBlockingView\r\n      });\r\n      var context = this.options.context;\r\n      this.perspectiveFactory = this.options.perspectiveFactory ||\r\n                                new PerspectiveWithBreadcrumbFactory({\r\n                                  context: context\r\n                                });\r\n      this.perspectiveAnimator = new PerspectiveAnimator(this);\r\n      BlockingView.imbue(this);\r\n      this.blockingView.makeGlobal(this.options.detachableBlockingView);\r\n\r\n      this.listenTo(context, \"maximize:widget\", this._addMaximizedWidget);\r\n      this.listenTo(context, \"restore:widget:size\", this._removeMaximizedWidget);\r\n\r\n      this.listenTo(context, 'change:perspective', this.onChangePerspective);\r\n\r\n      this.listenTo(context, 'enter:edit:perspective', this.onEnterEditPerspective);\r\n      this.listenTo(context, 'exit:edit:perspective', this.onExitEditPerspective);\r\n      this.listenTo(context, 'serialize:perspective', this.onSerializePerspective);\r\n\r\n      // Context change start with requesting the perspective and then\r\n      // either by changing it and rebuilding the context, or just by re-fetching\r\n      // the context, of the perspective does not change.  Use the\r\n      // perspective request for blocking and context sync, which comes always\r\n      // at last, for unblocking.\r\n      if (this.options.progressWheel) {\r\n        var fetchTimeout;\r\n        this\r\n            // Perspective is fetched at the beginning of navigation. It may\r\n            // happen twice, if the perspective target is overridden. It may\r\n            // not happen at all, if the perspective is fixed on the client.\r\n            .listenTo(context, 'request:perspective', this._startPerspectiveLoading)\r\n            .listenTo(context, 'error:perspective', this._finishPerspectiveLoading)\r\n            // Data is fetched after the perspective has been fetched or become\r\n            // known to the client. It can also be fetched without loading a\r\n            // new perspective; the perspective can be reused.\r\n            .listenTo(context, 'request', function () {\r\n              // Do not block the perspective panel if the perspective will\r\n              // be shown right away without waiting for the data.\r\n              if (this.options.waitForData) {\r\n                this._startPerspectiveLoading();\r\n              }\r\n              // If the data were not loaded quickly enough, unblock the\r\n              // perspective panel and let the user start with ready widgets.\r\n              if (this.options.limitTimeToWaitForData) {\r\n                fetchTimeout = setTimeout(function () {\r\n                  fetchTimeout = undefined;\r\n                  this._finishPerspectiveLoading();\r\n                }.bind(this), this.options.maximumTimeToWaitForData);\r\n              }\r\n            })\r\n            .listenTo(context, 'sync error', function () {\r\n              if (fetchTimeout) {\r\n                clearTimeout(fetchTimeout);\r\n                fetchTimeout = undefined;\r\n              }\r\n              this._finishPerspectiveLoading();\r\n            });\r\n      }\r\n      this.listenTo(this, 'render', this.onRendered);\r\n\r\n      this._maximizedWidgets = {};\r\n      this._currentPespectiveStack = [];\r\n      this._currentPerspectiveSignature = undefined;\r\n    },\r\n\r\n    _startPerspectiveLoading: function () {\r\n      // If actions were blocked when \"request:perspective\" was caught,\r\n      // do not do it again when another \"request:perspective\" was caught, or\r\n      // when eventually \"request\" was caught. Blocking view were disabled and\r\n      // enabled in a short time, which would cause its flickering on the page.\r\n      if (!this.actionsBlocked) {\r\n        this.actionsBlocked = true;\r\n        this.blockActions();\r\n      }\r\n    },\r\n\r\n    _finishPerspectiveLoading: function () {\r\n      // This method mey be called twice if the perspective showing handler\r\n      // timed out and the perspective was shown before the data were loaded.\r\n      if (this.actionsBlocked) {\r\n        this.actionsBlocked = false;\r\n        this.unblockActions();\r\n      }\r\n    },\r\n\r\n    onEnterEditPerspective: function (perspectiveToEdit) {\r\n      this.blockActions();\r\n      this.isSwitchingEditMode = true; // To bypass animation\r\n      this.doChangePerspective(perspectiveToEdit)\r\n          .always(function () {\r\n            this.isSwitchingEditMode = false;\r\n            this.unblockActions();\r\n            this.options.context.trigger('finish:enter:edit:perspective');\r\n          }.bind(this));\r\n    },\r\n\r\n    /**\r\n     * Serialize perspective configuration and Trigger back to save perspective\r\n     */\r\n    onSerializePerspective: function (perspectiveModel) {\r\n      this.blockActions();\r\n      if (_.isFunction(this.currentPerspectiveView.serializePerspective)) {\r\n        var self = this;\r\n        this.currentPerspectiveView.serializePerspective(perspectiveModel)\r\n            .done(function (perspective) {\r\n              self.options.context.trigger('save:perspective', perspective);\r\n            })\r\n            .fail(function (error) {\r\n              self.options.context.trigger('save:perspective', {error: error});\r\n              self._showModalError({message: error});\r\n            })\r\n            .always(function () {\r\n              self.unblockActions();\r\n            });\r\n      }\r\n    },\r\n\r\n    onExitEditPerspective: function (perspectiveToEdit) {\r\n      this.blockActions();\r\n      this.isSwitchingEditMode = true; // To bypass animation\r\n      this.doChangePerspective(this.options.context.perspective)\r\n          .always(function () {\r\n            this.isSwitchingEditMode = false;\r\n            this.unblockActions();\r\n            this.options.context.trigger('finish:exit:edit:perspective');\r\n          }.bind(this));\r\n    },\r\n\r\n    onRendered: function () {\r\n      //Check if the perspective model is populated when the view rendered\r\n      // for he first time. If it is, load the perspective and show it.\r\n      if (this.options.context.perspective.get('type')) {\r\n        this.onChangePerspective();\r\n      }\r\n    },\r\n\r\n    onChangePerspective: function (targetPerspective, sourceModel) {\r\n      this.doChangePerspective(targetPerspective, sourceModel);\r\n    },\r\n\r\n    doChangePerspective: function (targetPerspective, sourceModel) {\r\n      if (this._isRendered) {\r\n        var context     = this.options.context,\r\n            self        = this,\r\n            perspective = targetPerspective || this.options.context.perspective,\r\n            deferred    = $.Deferred();\r\n        // If we caught unload event earlier and now we change to another\r\n        // perspective, let's assume, that page unloading was cancelled\r\n        pageUnloading = false;\r\n        // Actions will be unblocked in _swapPerspective to cover loading\r\n        // of perspective view and widgets and their initial rendering.\r\n        if (this.options.progressWheel) {\r\n          this.blockActions();\r\n        }\r\n        this.triggerMethod('before:create:perspective', this, {\r\n          perspective: perspective\r\n        });\r\n        this.perspectiveFactory.createPerspective(perspective)\r\n            .done(function (perspectiveView) {\r\n              self.triggerMethod('create:perspective', this, {\r\n                perspective: perspective,\r\n                perspectiveView: perspectiveView\r\n              });\r\n              self._currentPespectiveStack.push(perspectiveView);\r\n              perspectiveView.widgetsResolved.always(function (res) {\r\n                self.triggerMethod('resolve:widgets', this, {\r\n                  perspective: perspective,\r\n                  perspectiveView: perspectiveView\r\n                });\r\n                context.clear();\r\n                // Prevent failed widgets to be slided to the perspective\r\n                if (!pageUnloading) {\r\n                  var enableMaximizeButton = res.length > 1;\r\n                  self._setSupportMaximizeWidget(perspectiveView, perspective,\r\n                      enableMaximizeButton);\r\n                  self._swapPerspective(perspectiveView, perspective, sourceModel)\r\n                      .always(function () {\r\n                        deferred.resolve(perspectiveView);\r\n                      });\r\n                } else {\r\n                  deferred.resolve(perspectiveView);\r\n                }\r\n                self._currentPespectiveStack.splice(0,\r\n                    self._currentPespectiveStack.indexOf(perspectiveView));\r\n              });\r\n              self._currentPespectiveStack.splice(0,\r\n                  self._currentPespectiveStack.indexOf(perspectiveView));\r\n            })\r\n            .fail(function (error) {\r\n              if (self.options.progressWheel) {\r\n                self.unblockActions();\r\n              }\r\n              // Prevent error box about perspective failure showing up\r\n              if (!pageUnloading) {\r\n                self._showError(error);\r\n              }\r\n              deferred.reject(error);\r\n            });\r\n        return deferred.promise();\r\n      }\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    _isInPerspectiveEditMode: function (perspective) {\r\n      var perspectiveOptions = perspective && perspective.get('options') ?\r\n                               perspective.get('options') : {};\r\n      return perspectiveOptions.perspectiveMode === 'edit';\r\n    },\r\n\r\n    _setSupportMaximizeWidget: function (perspectiveView, perspective, enableMaximizeButton) {\r\n      if (this._isInPerspectiveEditMode(perspective) ||  // Maximize not allowed in Edit Perspective\r\n          // mode\r\n          perspectiveView._supportMaximizeWidget !== true || !enableMaximizeButton) {\r\n        $(\"body\").removeClass(\"csui-support-maximize-widget\");\r\n      } else {\r\n        $(\"body\").addClass(\"csui-support-maximize-widget\");\r\n      }\r\n    },\r\n\r\n    _triggerDomRefreshOnCurrentPerspective: function () {\r\n      if (this.currentPerspectiveView) {\r\n        this.currentPerspectiveView.triggerMethod('dom:refresh');\r\n      }\r\n    },\r\n\r\n    _setShowingMaximizedWidget: function (showingMaximizedWidget) {\r\n      if (showingMaximizedWidget) {\r\n        $(\"body\").addClass(\"csui-maximized-widget-mode\");\r\n      } else {\r\n        $(\"body\").removeClass(\"csui-maximized-widget-mode\");\r\n      }\r\n    },\r\n\r\n    _addMaximizedWidget: function (ev) {\r\n      if (this._isInPerspectiveEditMode(this.currentPerspective)) {\r\n        // Maximize not allowed in Edit Perspective mode\r\n        return;\r\n      }\r\n      if (this._maximizedWidgets[this._getCurrentPerspectiveSignature()] === undefined) {\r\n        var maximizedWidgetInfo = {\r\n          perspectiveSignature: this._getCurrentPerspectiveSignature(),\r\n          cellAddress: this.getCellAddress(ev)\r\n        };\r\n        this._maximizedWidgets[maximizedWidgetInfo.perspectiveSignature] = maximizedWidgetInfo;\r\n        this._maximizeWidgetView(maximizedWidgetInfo.cellAddress);\r\n      }\r\n      this._triggerDomRefreshOnCurrentPerspective();\r\n    },\r\n\r\n    getCellAddress: function (ev) {\r\n      return (ev.widgetView ? ev.widgetView.$el.parent().attr(\"data-csui-cell_address\") :\r\n              ev.currentPerspectiveView.$el.find(\".binf-row\").children().attr(\r\n                  \"data-csui-cell_address\"));\r\n    },\r\n\r\n    _removeMaximizedWidget: function (ev) {\r\n      delete this._maximizedWidgets[this._getCurrentPerspectiveSignature()];\r\n      this._restoreWidgetViewSize(ev.widgetView);\r\n    },\r\n\r\n    _getPerspectiveViewEl: function () {\r\n      var perspectiveViewEl;\r\n      if (this.currentPerspectiveView.$el.hasClass('csui-perspective-view')) {\r\n        perspectiveViewEl = this.currentPerspectiveView.$el;\r\n      } else {\r\n        perspectiveViewEl = this.currentPerspectiveView.$el.find('.csui-perspective-view');\r\n      }\r\n      return perspectiveViewEl;\r\n    },\r\n\r\n    _maximizeWidgetView: function (cellAddress) {\r\n      var perspectiveViewEl = this._getPerspectiveViewEl();\r\n      perspectiveViewEl.find(\".binf-row > div\").each(function () {\r\n        $(this).attr(\"data-csui-mwv-old-class\", $(this).attr(\"class\"));\r\n        if ($(this).attr(\"data-csui-cell_address\") === cellAddress) {\r\n          $(this).parent().addClass(\"csui-maximized-row\");\r\n          $(this).attr(\"class\", \"binf-col-xs-12 csui-maximized-column\");\r\n        } else {\r\n          $(this).attr(\"class\", \"binf-hidden-xs binf-hidden-sm binf-hidden-md binf-hidden-lg\");\r\n        }\r\n      });\r\n\r\n      this._setShowingMaximizedWidget(true);\r\n    },\r\n\r\n    _restoreWidgetViewSize: function (widgetView) {\r\n      var $widgetRow = widgetView.$el.parent().parent();\r\n\r\n      $widgetRow.removeClass(\"csui-maximized-row\");\r\n      var perspectiveViewEl = this._getPerspectiveViewEl();\r\n      perspectiveViewEl.find(\".binf-row > div\").each(function () {\r\n        $(this).attr(\"class\", $(this).attr(\"data-csui-mwv-old-class\"));\r\n      });\r\n\r\n      this._setShowingMaximizedWidget(false);\r\n      this._triggerDomRefreshOnCurrentPerspective();\r\n    },\r\n\r\n    _getCurrentPerspectiveSignature: function () {\r\n      if (this._currentPerspectiveSignature === undefined) {\r\n        var cellSignatures = [];\r\n        !!this.currentPerspectiveView &&\r\n        this.currentPerspectiveView.$el.find(\".binf-row > div\").each(function () {\r\n          var address = $(this).attr(\"data-csui-cell_address\");\r\n          var widgetType = $(this).attr(\"data-csui-widget_type\");\r\n          var classNames = $(this).attr(\"class\");\r\n\r\n          if (address === undefined) {\r\n            address = \"\";\r\n          }\r\n\r\n          cellSignatures.push([address, widgetType, classNames].join(\",\"));\r\n        });\r\n\r\n        this._currentPerspectiveSignature = cellSignatures.join(\"|\");\r\n      }\r\n\r\n      return this._currentPerspectiveSignature;\r\n    },\r\n\r\n    _resetWidgetMaximization: function () {\r\n      this._setShowingMaximizedWidget(false);\r\n      this._maximizedWidgets = {};\r\n    },\r\n\r\n    _swapPerspective: function (perspectiveView, perspective, sourceModel) {\r\n      var deferred = $.Deferred();\r\n      var self = this;\r\n      var showTimeout;\r\n      var perspectiveShown;\r\n\r\n      var scopeId = window.location.href;\r\n      scopeId = scopeId.substr(scopeId.indexOf('#'));\r\n\r\n      function showPerspective() {\r\n        if (showTimeout) {\r\n          clearTimeout(showTimeout);\r\n        }\r\n        // If the perspective-loading timeout called this callback, the\r\n        // context fetch will follow, once its models have all been done.\r\n        if (perspectiveShown) {\r\n          return;\r\n        }\r\n        perspectiveShown = true;\r\n        // Generic waiting until the widgets and other components\r\n        // re-render their contents after they received fresh data\r\n        // would be complicated.\r\n        _.delay(function () {\r\n          // Prevent widgets showing errors to be slided to the perspective\r\n          if (!pageUnloading) {\r\n            self._showPerspective(perspectiveView, perspective, deferred);\r\n          }\r\n        }, self.options.perspectiveShowDelay);\r\n      }\r\n\r\n      function fetchData() {\r\n        self.options.context\r\n            .fetch()\r\n            .fail(function (error) {\r\n              // Prevent error box about context failure showing up, if the\r\n              // current action has been aborted and other page gets loaded\r\n              if (!pageUnloading) {\r\n                if (window.csui && window.csui.mobile) {\r\n                  // LPAD-59873: (this code is only run in mobile and doesn't affect smart UI) On mobile, we would like to\r\n                  // render the perspective upon error code 500. We do this because we would still like to use the app even\r\n                  // if we don't have access to certain shortcut tile widgets on the home page\r\n                  if (error.statusCode === 500 && (window.location.href.indexOf('#') === -1 ||\r\n                                                   window.location.href.indexOf('#home') !== -1)) {\r\n                    showPerspective();\r\n                    return;\r\n                  } else if (error.statusCode === 0) {\r\n                    CommandHelper.showOfflineMessage(error);\r\n                  } else {\r\n                    self._showModalError(error);\r\n                    self.options.context.trigger('reject:perspective', error);\r\n                  }\r\n\r\n                  perspectiveView.destroy();\r\n                } else {\r\n                  showPerspective();\r\n                }\r\n              }\r\n            })\r\n            .done(showPerspective);\r\n      }\r\n\r\n      this._resetWidgetMaximization();\r\n\r\n      // make rendering of perspective view asynchronous\r\n      // this speeds up fetch of node children in node.perspective.plugin\r\n      setTimeout(function () {\r\n        perspectiveView.render();\r\n        // Actions were blocked in doChangePerspective, where the process\r\n        // of loading the perspective view and widgets has started.\r\n        if (this.options.progressWheel) {\r\n          this.unblockActions();\r\n        }\r\n        if (this.options.waitForData) {\r\n          fetchData();\r\n          if (this.options.limitTimeToWaitForData) {\r\n            showTimeout = setTimeout(showPerspective, this.options.maximumTimeToWaitForData);\r\n          }\r\n        } else {\r\n          var eventName = this.currentPerspectiveView ?\r\n                          'swap:perspective' : 'show:perspective';\r\n          this.once(eventName, fetchData);\r\n          showPerspective();\r\n        }\r\n      }.bind(this));\r\n\r\n      return deferred;\r\n    },\r\n\r\n    /**\r\n     * Perspective show / transition for enter, exit from edit mode\r\n     */\r\n    _showPerspectiveForEditMode: function (perspectiveView, perspective) {\r\n      this.currentPerspectiveView.destroy();\r\n\r\n      this.currentPerspectiveView = perspectiveView;\r\n      this.currentPerspective = perspective;\r\n      this._currentPerspectiveSignature = undefined;\r\n\r\n      perspectiveView.triggerMethod('before:show');\r\n      this.$el.append(perspectiveView.el);\r\n      perspectiveView.triggerMethod('show');\r\n    },\r\n\r\n    _showPerspective: function (perspectiveView, perspective, deferred) {\r\n      var body = $(document.body),\r\n          self = this;\r\n      var perViewIndex = this._currentPespectiveStack.indexOf(perspectiveView);\r\n      if (perViewIndex === -1) {\r\n        // this perspectiveView is no longer required to show, since perspective(s) after this are displayed.\r\n        return;\r\n      }\r\n      // Invalidate all perspective before current perspective to stop them from displaying.\r\n      this._currentPespectiveStack.splice(0, perViewIndex);\r\n\r\n      function finishShowingPerspective(perspectiveView) {\r\n        body.scrollTop(0);\r\n        self.perspectiveAnimator.finishAnimation();\r\n        self.currentPerspectiveView = perspectiveView;\r\n        self.currentPerspectiveView.triggerMethod('dom:refresh');\r\n        self.currentPerspective = perspective;\r\n        deferred.resolve(perspectiveView);\r\n      }\r\n\r\n      if (!!this.isSwitchingEditMode) {\r\n        // Switching in / out of Edit mode, no swap animation required.\r\n        this._showPerspectiveForEditMode(perspectiveView, perspective);\r\n        deferred.resolve(perspectiveView);\r\n        return;\r\n      }\r\n\r\n      // Setting a fixed size to the perspective panel solves two\r\n      // problems, which cause disturbance in the transition:\r\n      //\r\n      // * Scrollbar appears on the page, when the old perspective is still\r\n      //   visible, if the new perspective is taller than the viewport and\r\n      //   the old one was not.\r\n      //\r\n      // * Safari on on iOS 9 zooms out, when the new perspective is added\r\n      //   to the perspective panel, so that both perspectives can be seen\r\n      //   anz zooms in again, when the old perspective is destroyed.\r\n      // Suppress the scrollbar only if the current perspective\r\n      // did not need it\r\n      this.perspectiveAnimator.startAnimation(perspectiveView);\r\n\r\n      if (this.currentPerspectiveView) {\r\n        this.triggerMethod('before:swap:perspective', this, {\r\n          oldPerspectiveView: this.currentPerspectiveView,\r\n          newPerspectiveView: perspectiveView\r\n        });\r\n        this.perspectiveAnimator.swapPerspective(this.currentPerspectiveView, perspectiveView)\r\n            .done(function () {\r\n              var oldPerspectiveView = self.currentPerspectiveView;\r\n              self.currentPerspectiveView.destroy();\r\n              finishShowingPerspective(perspectiveView);\r\n              self.triggerMethod('swap:perspective', self, {\r\n                oldPerspectiveView: oldPerspectiveView,\r\n                newPerspectiveView: perspectiveView\r\n              });\r\n            });\r\n      } else {\r\n        this.triggerMethod('before:show:perspective', this, {\r\n          newPerspectiveView: perspectiveView\r\n        });\r\n        this.perspectiveAnimator.showPerspective(perspectiveView)\r\n            .done(function () {\r\n              finishShowingPerspective(perspectiveView);\r\n              self.triggerMethod('show:perspective', self, {\r\n                newPerspectiveView: perspectiveView\r\n              });\r\n            });\r\n\r\n      }\r\n    },\r\n\r\n    _showError: function (error) {\r\n      require(['csui/controls/globalmessage/globalmessage'\r\n      ], function (GlobalMessage) {\r\n        GlobalMessage.showMessage('error', error.message);\r\n      });\r\n    },\r\n\r\n    _showModalError: function (error, options) {\r\n      require(['csui/dialogs/modal.alert/modal.alert'\r\n      ], function (ModalAlert) {\r\n        ModalAlert.showError(error.message, options);\r\n      });\r\n    }\r\n  });\r\n\r\n  return PerspectivePanelView;\r\n});\r\n\n","csui.define('csui/controls/form/pub.sub',['csui/lib/underscore', 'csui/lib/backbone'], function (_, Backbone) {\r\n  'use strict';\r\n  //const PubSub = _.extend({}, Backbone.Events);\r\n  return _.extend({}, Backbone.Events);\r\n});\n","csui.define('csui/controls/mixins/keyboard.navigation/modal.keyboard.navigation.mixin',['csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/base'], function (_, $, base) {\r\n  'use strict';\r\n\r\n  //\r\n  // Mixin for a modal View to trap keyboard navigation.\r\n  //\r\n  // Note: for completeness, also do the following in your View code\r\n  // - capture the in-focus element before opening your modal view\r\n  // - set focus on the first focusable element after your modal is shown after animation\r\n  // - set focus back to the prior in-focus element after closing your modal view\r\n  //\r\n  var ModalKeyboardNavigationMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        _rebuildFocusableElements: function () {\r\n          this.focusableElements = base.findFocusables(this._focusHolder);\r\n        },\r\n\r\n        /**\r\n         * Calling this on DOM changes will allow re-building of focusable elements\r\n         */\r\n        refreshFocusEngage: function () {\r\n          this._rebuildFocusableElements();\r\n        },\r\n\r\n        /**\r\n         * Maintains the tab focus on the provided element to trap KN\r\n         */\r\n        _maintainTabFocus: function (modalElement) {\r\n          this._focusHolder = modalElement;\r\n          this._rebuildFocusableElements();\r\n\r\n          var self = this;\r\n          modalElement.on('keydown', function (e) {\r\n            var currentIndex   = self.focusableElements.index(e.target),\r\n                focusableCount = self.focusableElements.length,\r\n                cancelEvent    = false;\r\n            if (currentIndex === -1) {\r\n              // Unknown element. Element could be created after engage.\r\n              // Calling 'dom:refresh' is recommended on DOM changes \r\n              return;\r\n            }\r\n            if (e.keyCode === 9) {\r\n              if (!e.shiftKey && currentIndex === focusableCount - 1) {\r\n                // Tab on last focusable element\r\n                self.focusableElements.first().trigger('focus');\r\n                cancelEvent = true;\r\n              } else if (e.shiftKey && currentIndex === 0) {\r\n                // Shift tab on first focusable element\r\n                self.focusableElements.last().trigger('focus');\r\n                cancelEvent = true;\r\n              }\r\n            }\r\n            cancelEvent && e.preventDefault();\r\n            e.stopPropagation();\r\n          });\r\n\r\n          this.listenTo(this, 'dom:refresh', function () {\r\n            this.refreshFocusEngage();\r\n          });\r\n\r\n          var disengage = function disengage() {\r\n            modalElement.off('keydown');\r\n          };\r\n          return {\r\n            disengage: disengage\r\n          };\r\n        },\r\n\r\n        // Params:\r\n        // - modalElement : optional; the modal element. Default is the view's el.\r\n        engageModalKeyboardFocusOnOpen: function (modalElement) {\r\n          this._allyHandles || (this._allyHandles = []);\r\n          modalElement = $(modalElement || this.el);\r\n\r\n          // make sure Tab key (also Shift-Tab) controlled focus is trapped within tabsequence\r\n          this._allyHandles.push(this._maintainTabFocus(modalElement));\r\n        },\r\n\r\n        disengageModalKeyboardFocusOnClose: function () {\r\n          if (this._allyHandles) {\r\n            while (this._allyHandles.length > 0) {\r\n              // ally handles have a common API method disengage()\r\n              this._allyHandles.pop().disengage();\r\n            }\r\n          }\r\n        },\r\n\r\n        hasEngagedModalKeyboardFocus: function () {\r\n          return this._allyHandles && this._allyHandles.length;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ModalKeyboardNavigationMixin;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/tab.panel/impl/tab.links',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<ul class=\\\"binf-nav \"\n    + this.escapeExpression(((helper = (helper = helpers.tab_type || (depth0 != null ? depth0.tab_type : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"tab_type\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"tablist\\\"></ul>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_tab.panel_impl_tab.links', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/tab.panel/impl/tab.link',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<a href=\\\"#\"\n    + this.escapeExpression(((helper = (helper = helpers.uniqueTabId || (depth0 != null ? depth0.uniqueTabId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"uniqueTabId\",\"hash\":{}}) : helper)))\n    + \"\\\" id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.linkId || (depth0 != null ? depth0.linkId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"linkId\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"tab\\\" aria-selected=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.selected || (depth0 != null ? depth0.selected : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"selected\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-controls=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.uniqueTabId || (depth0 != null ? depth0.uniqueTabId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"uniqueTabId\",\"hash\":{}}) : helper)))\n    + \"\\\" data-binf-toggle=\\\"tab\\\">\"\n    + this.escapeExpression((helpers['csui-l10n'] || (depth0 && depth0['csui-l10n']) || helpers.helperMissing).call(depth0,(depth0 != null ? depth0.title : depth0),{\"name\":\"csui-l10n\",\"hash\":{}}))\n    + \"</a>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_tab.panel_impl_tab.link', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/utils/handlebars/l10n',['csui/lib/handlebars', 'csui/utils/base'\r\n], function (Handlebars, base) {\r\n\r\n  Handlebars.registerHelper('csui-l10n', function (value) {\r\n    return base.getClosestLocalizedString(value);\r\n  });\r\n\r\n  return Handlebars.helpers['csui-l10n'];\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/impl/tab.link.view',['csui/lib/underscore', 'csui/lib/marionette',\r\n  'hbs!csui/controls/tab.panel/impl/tab.link',\r\n  'csui/lib/binf/js/binf',\r\n  'csui/utils/handlebars/l10n' // support {{csui-l10n ...}}\r\n], function (_, Marionette, tabLinkTemplate) {\r\n  'use strict';\r\n\r\n  var TabLinkView = Marionette.ItemView.extend({\r\n\r\n    tagName: 'li',\r\n\r\n    className: function () {\r\n      return this._isOptionActiveTab() ? 'binf-active' : '';\r\n    },\r\n\r\n    attributes: function () {\r\n      return {\r\n        role: 'presentation'\r\n      };\r\n    },\r\n\r\n    template: tabLinkTemplate,\r\n\r\n    templateHelpers: function() {\r\n      var uniqueTabId = this.model.get('uniqueTabId');\r\n      return {\r\n        linkId: 'tablink-' + uniqueTabId,\r\n        selected: this._isOptionActiveTab()\r\n      };\r\n    },\r\n\r\n    events: {\r\n      'show.binf.tab > a': 'onShowingTab',\r\n      'shown.binf.tab > a': 'onShownTab'\r\n    },\r\n\r\n    ui: {\r\n      link: '>a'\r\n    },\r\n\r\n    constructor: function TabLinkView() {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    _isOptionActiveTab: function () {\r\n      var active = false;\r\n      var activeTabIndex = 0;\r\n      if (this.options.activeTab && this.options.activeTab.get('tabIndex') !== undefined) {\r\n        activeTabIndex = this.options.activeTab.get('tabIndex');\r\n      }\r\n      // in case of -1: set to 0; otherwise, Backbone.collection.at would return the last model.\r\n      activeTabIndex = Math.max(0, activeTabIndex);\r\n      this.model === this.model.collection.at(activeTabIndex) && (active = true);\r\n      return active;\r\n    },\r\n\r\n    activate: function (setFocus) {\r\n      this.$el.removeClass(\"binf-active\");\r\n      var $a = this.$el.find(\">a\");\r\n      $a.removeAttr('aria-selected');\r\n      this.ui.link.binf_tab('show');\r\n      setFocus && this.ui.link.trigger('focus');\r\n    },\r\n\r\n    isActive: function () {\r\n      return this.$el.hasClass('binf-active');\r\n    },\r\n\r\n    onShowingTab: function (event) {\r\n      this.triggerMethod('before:activate:tab', this);\r\n    },\r\n\r\n    onShownTab: function (event) {\r\n      var index = this.model.collection.indexOf(this.model);\r\n      this.options.activeTab && this.options.activeTab.set('tabIndex', index);\r\n      this.triggerMethod('activate:tab', this);\r\n    }\r\n\r\n  });\r\n\r\n  return TabLinkView;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/behaviors/common.keyboard.behavior.mixin',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log'\r\n], function (module, _, $, log) {\r\n  'use strict';\r\n\r\n  var KeyboardBehaviorMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        // start <integer> : starting index\r\n        // optional reverseDirection <boolean>: true/false\r\n        _findNextFocusableElementIndex: function (start, reverseDirection) {\r\n          var tabElemId = start;\r\n          var elemsLength = this.keyboardBehavior.tabableElements.length;\r\n          if (elemsLength === 0) {\r\n            return -1;\r\n          }\r\n\r\n          if (tabElemId < 0 || tabElemId >= elemsLength) {\r\n            return tabElemId;\r\n          }\r\n\r\n          var $currentElem = $(this.keyboardBehavior.tabableElements[tabElemId]);\r\n          while (this.closestTabable($currentElem) === false) {\r\n            tabElemId = reverseDirection === true ? tabElemId - 1 : tabElemId + 1;\r\n            if (tabElemId < 0 || tabElemId >= elemsLength) {\r\n              tabElemId = -1;\r\n              break;\r\n            }\r\n            $currentElem = $(this.keyboardBehavior.tabableElements[tabElemId]);\r\n          }\r\n          return tabElemId;\r\n        },\r\n\r\n        // This function has a valid check on top of the _findNextFocusableElementIndex() call.\r\n        // If the element is no longer valid, refresh the tabable element lists.\r\n        _findNextValidFocusableElementIndex: function (start, reverseDirection) {\r\n          var tabElemId = this._findNextFocusableElementIndex (start, reverseDirection);\r\n          /* TODO: revisit this algorithm ...\r\n          if (tabElemId >= 0 && tabElemId < this.keyboardBehavior.tabableElements.length) {\r\n            // does the view contain target element?\r\n            var $elem = $(this.keyboardBehavior.tabableElements[tabElemId]);\r\n            if (this.$el.find($elem).length === 0 && this.keyboardBehavior.refreshTabableElements) {\r\n              this.keyboardBehavior.refreshTabableElements(this);\r\n              tabElemId = this._findNextFocusableElementIndex (start, reverseDirection);\r\n            }\r\n          }\r\n          */\r\n          return tabElemId;\r\n        },\r\n\r\n        // handle scenario that currentlyFocusedElement does not have event param for shiftTab\r\n        _setFirstAndLastFocusable: function (event) {\r\n          var tabElemId;\r\n          var elemsLength = this.keyboardBehavior.tabableElements.length;\r\n          if (elemsLength === 0) {\r\n            return;\r\n          }\r\n          // first element\r\n          tabElemId = 0;\r\n          tabElemId = this._findNextValidFocusableElementIndex (tabElemId);\r\n          if (tabElemId >= 0 && tabElemId < elemsLength) {\r\n            $(this.keyboardBehavior.tabableElements[tabElemId]).prop('tabindex', '0');\r\n          }\r\n          // last element\r\n          tabElemId = this.keyboardBehavior.tabableElements.length - 1;\r\n          tabElemId = this._findNextValidFocusableElementIndex (tabElemId, true);\r\n          if (tabElemId >= 0 && tabElemId < elemsLength) {\r\n            $(this.keyboardBehavior.tabableElements[tabElemId]).prop('tabindex', '0');\r\n          }\r\n        },\r\n\r\n        currentlyFocusedElement: function (event) {\r\n          return this.currentlyFocusedElementInternal(event);\r\n        },\r\n\r\n        currentlyFocusedElementInternal: function (event) {\r\n          // log.debug(this.constructor.name + '::currentlyFocusedElement ') && console.log(log.last);\r\n\r\n          this._setFirstAndLastFocusable(event);\r\n\r\n          var tabElemId = -1;\r\n          var elemsLength = this.keyboardBehavior.tabableElements.length;\r\n          if (elemsLength > 0) {\r\n            var reverseDirection = event && event.shiftKey;\r\n            tabElemId = event.elementCursor || (reverseDirection ? elemsLength - 1 : 0);\r\n\r\n            // tab is being activated, return the tab to the global tabable behavior\r\n            if (this.options.tabPanel && this.options.tabPanel.activatingTab) {\r\n              var curPos = this.currentTabPosition;\r\n              if (curPos >= 0 && curPos < elemsLength) {\r\n                tabElemId = curPos;\r\n              }\r\n            }\r\n\r\n            // only focus on editable and focusable field\r\n            tabElemId = this._findNextValidFocusableElementIndex (tabElemId, reverseDirection);\r\n          }\r\n\r\n          if (tabElemId >= 0 && tabElemId < elemsLength) {\r\n            this.currentTabPosition = tabElemId;\r\n            var $elem = $(this.keyboardBehavior.tabableElements[tabElemId]);\r\n            // tabLink can be invisible, autoScroll until it is visible\r\n            this._autoScrollUntilElemIsVisible && this._autoScrollUntilElemIsVisible($elem);\r\n            return $elem;\r\n          } else {\r\n            return undefined;\r\n          }\r\n        },\r\n\r\n        _accSetFocusToPreviousOrNextElement: function (previous) {\r\n          // log.debug(this.constructor.name + '::_accSetFocusToPreviousOrNextElement. previous: ' +\r\n          //           previous) && console.log(log.last);\r\n\r\n          var newTabbedElement = -1;\r\n          var elemsLength = this.keyboardBehavior.tabableElements.length;\r\n          if (elemsLength > 0) {\r\n            if (this.currentTabPosition < 0) {\r\n              newTabbedElement = 0;\r\n            } else {\r\n              if (previous) {\r\n                if (this.currentTabPosition > 0) {\r\n                  newTabbedElement = this.currentTabPosition - 1;\r\n                }\r\n              } else {\r\n                if (this.currentTabPosition < elemsLength - 1) {\r\n                  newTabbedElement = this.currentTabPosition + 1;\r\n                }\r\n              }\r\n              // only focus on editable and focusable field\r\n              newTabbedElement = this._findNextValidFocusableElementIndex (newTabbedElement,\r\n                  previous);\r\n            }\r\n          }\r\n          if (newTabbedElement >= 0 && newTabbedElement !== this.currentTabPosition) {\r\n            this.currentTabPosition = newTabbedElement;\r\n            return $(this.keyboardBehavior.tabableElements[newTabbedElement]);\r\n          }\r\n          this.currentTabPosition = -1;\r\n          return undefined;\r\n        },\r\n\r\n        containTargetElement: function (event) {\r\n          // does the view contain target element?\r\n          var contain = this.$el.find(event.target).length > 0 ? true : false;\r\n          // try to determine the position accurately\r\n          if (contain) {\r\n            var pos, elem;\r\n            for (pos = 0; pos < this.keyboardBehavior.tabableElements.length; pos++) {\r\n              elem = this.keyboardBehavior.tabableElements[pos];\r\n              // fallback: match the parent container for nested alpaca form field\r\n              if ($(elem).parents('.alpaca-control').find(event.target).length > 0) {\r\n                this.currentTabPosition = pos;\r\n              }\r\n              // accurate case\r\n              // note: FireFox removed isSameNode in some versions\r\n              if (elem.isSameNode && elem.isSameNode(event.target)) {\r\n                this.currentTabPosition = pos;\r\n                break;\r\n              } else if (elem === event.target) {\r\n                this.currentTabPosition = pos;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          return contain;\r\n        },\r\n\r\n        numberOfTabableElements: function (event) {\r\n          return this.keyboardBehavior.tabableElements.length;\r\n        },\r\n\r\n        closestTabable: function ($el) {\r\n          var tabable = true;\r\n          var $currentElem = $el;\r\n          // note: for efficiency, only traverse up to 10 ancestors including itself\r\n          var i;\r\n          for (i = 0; i < 10; i++) {\r\n            if ($currentElem &&\r\n                ($currentElem.attr(\"data-cstabindex\") === \"-1\" || $currentElem.attr(\"disabled\"))) {\r\n              tabable = false;\r\n              break;\r\n            }\r\n            $currentElem = $currentElem.parent();\r\n          }\r\n          return tabable;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return KeyboardBehaviorMixin;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/behaviors/tab.links.keyboard.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log', 'csui/lib/marionette',\r\n  'csui/utils/base', 'csui/controls/tab.panel/behaviors/common.keyboard.behavior.mixin'\r\n], function (module, _, $, log, Marionette, base, KeyboardBehaviorMixin) {\r\n  'use strict';\r\n\r\n  // This behavior implements a default keyboard navigation by tab keys similar to the browser\r\n  // default and is used when the browser default can't be used because of tabable region behavior.\r\n\r\n  var TabLinksKeyboardBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function TabLinksKeyboardBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      view.keyboardBehavior = this;\r\n      this.tabableElements = [];\r\n\r\n      var self = this;\r\n      this.listenTo(view, 'refresh:tabable:elements', function (tabPanel) {\r\n        self.refreshTabableElements(view, tabPanel);\r\n      });\r\n\r\n      KeyboardBehaviorMixin.mixin(view);\r\n\r\n      _.extend(view, {\r\n\r\n        // handle scenario that currentlyFocusedElement does not have event param for shiftTab\r\n        _setFirstAndLastFocusable: function (event) {\r\n          if (this.keyboardBehavior.tabableElements.length > 0) {\r\n            // first element\r\n            var $elem = $(this.keyboardBehavior.tabableElements[0]).prop('tabindex', '0');\r\n            // last element: for tabLinks, the last element could be the add button, so search\r\n            // for the last a[href] and set it focusable too\r\n            var lastElemIndex = this.keyboardBehavior.tabableElements.length - 1;\r\n            if ($elem.is('a')) {\r\n              $elem = $(this.keyboardBehavior.tabableElements[lastElemIndex]);\r\n              $elem.prop('tabindex', '0');\r\n              while (!$elem.is('a') && lastElemIndex > 0) {\r\n                lastElemIndex--;\r\n                $elem = $(this.keyboardBehavior.tabableElements[lastElemIndex]);\r\n              }\r\n              $elem.prop('tabindex', '0');\r\n            }\r\n          }\r\n        },\r\n\r\n        // Automatically scroll until the tabLink $elem is visible.\r\n        // Note: this function stores a Deferred in $elem.csuiPromise that can be used\r\n        // for ansynchronous check to unset 'skipAutoScroll' and run subsequent code.\r\n        _autoScrollUntilElemIsVisible: function ($elem) {\r\n          var $tabLink = $elem;\r\n          // if $elem is the tablink delete icon, get the sibbling tablink element for scrolling\r\n          if ($tabLink && $tabLink.hasClass('cs-delete-icon')) {\r\n            $tabLink = $elem.parent().parent().find('.cs-tablink');\r\n          }\r\n\r\n          if ($tabLink && $tabLink.is('a') && $tabLink.hasClass('cs-tablink')) {\r\n            var tabPanel = this.options && this.options.tabPanel;\r\n            var tabID = $tabLink.attr('href');\r\n            tabID[0] === '#' && (tabID = tabID.substr(1));\r\n            if (tabPanel && tabPanel._isTablinkVisibleInParents($tabLink) === false) {\r\n              var tabIndex = tabPanel._findTabIndexByID ? tabPanel._findTabIndexByID(tabID) : -1;\r\n              if (tabIndex >= 0) {\r\n                var deferred = $.Deferred();\r\n                tabPanel.skipAutoScroll = true;  // unset this after the deferred is done\r\n                $tabLink.csuiPromise = deferred.promise();\r\n                var options = {animationOff: true};\r\n                tabPanel._autoScrollTabTo && tabPanel._autoScrollTabTo(tabIndex, options)\r\n                    .done(function () {\r\n                      tabPanel.skipAutoScroll = false;\r\n                      deferred.resolve();\r\n                    });\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        onKeyInView: function (event) {\r\n          var ret;\r\n          if (this.keyboardBehavior.tabableElements.length === 0) {\r\n            // don't handle keystrokes at all if no elements were found for keyboard navigation\r\n            return ret;\r\n          }\r\n\r\n          this.keyboardBehavior.keyboardActionDeleteTabPosition = undefined;\r\n          var self = this;\r\n          var _focusOnTabContent = function (e) {\r\n            var hrefElem = self.keyboardBehavior.tabableElements[self.currentTabPosition];\r\n            var $hrefElem = hrefElem && $(hrefElem);\r\n            if ($hrefElem && $hrefElem.is(\":focus\")) {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              var tabPanel = self.options && self.options.tabPanel;\r\n              tabPanel && (tabPanel.skipAutoScroll = true);\r\n              if ($hrefElem.hasClass('cs-delete-icon')) {\r\n                // when focus is on the delete icon: move back two positions\r\n                self.keyboardBehavior.keyboardActionDeleteTabPosition = self.currentTabPosition - 2;\r\n              }\r\n              // trigger the click event\r\n              $hrefElem.trigger('click');\r\n              // focus is on tablink (not delete icon): move to the first focusable field\r\n              if (self.keyboardBehavior.keyboardActionDeleteTabPosition === undefined) {\r\n                setTimeout(function () {\r\n                  // let tabContents know to focus on 1st editable field of activating tabContent\r\n                  var href = $hrefElem.attr('href');\r\n                  var focusEvent = $.Event('tab:content:focus', {tabId: href});\r\n                  self.$el.trigger(focusEvent);\r\n                  tabPanel && (tabPanel.skipAutoScroll = false);\r\n                }, 100);\r\n              }\r\n            }\r\n          };\r\n\r\n          if (event.keyCode === 9) {  // tab\r\n            // log.debug('TabLinksKeyboardBehavior::onKeyInView ' + view.constructor.name) &&\r\n            // console.log(log.last);\r\n\r\n            var leftScroll = event.shiftKey;\r\n            var $elem = this._accSetFocusToPreviousOrNextElement(leftScroll);\r\n\r\n            // if the scroll-to element is a tab, auto-scroll for it to be visible\r\n            this._autoScrollUntilElemIsVisible($elem);\r\n\r\n            ret = $elem;\r\n          } else if (event.keyCode === 32 || event.keyCode === 13) {\r\n            // space key(32) or enter key(13)\r\n            _focusOnTabContent.call(this, event);\r\n          } else if (event.keyCode === 46) {\r\n            // delete key\r\n            var hrefElem = this.keyboardBehavior.tabableElements[this.currentTabPosition];\r\n            if (hrefElem && $(hrefElem).is(\":focus\")) {\r\n              event.preventDefault();\r\n              event.stopPropagation();\r\n              // when focus is on the tablink: move back one position\r\n              this.keyboardBehavior.keyboardActionDeleteTabPosition = this.currentTabPosition - 1;\r\n\r\n              // let tabLinks know to delete the tab\r\n              var href = $(hrefElem).attr('href');\r\n              var deleteEvent = $.Event('tab:link:delete', {tabId: href});\r\n              this.$el.trigger(deleteEvent);\r\n            }\r\n          }\r\n          return ret;\r\n        }\r\n      });\r\n\r\n    }, // constructor\r\n\r\n    refreshTabableElements: function (view, tabPanel) {\r\n      // tab can be hidden, so don't filter by ':visible'\r\n      this.tabableElements = view.$el.find('a[href], *[tabindex], *[data-cstabindex]');\r\n      // remove elements with data-cstabindex=-1\r\n      var i;\r\n      for (i = this.tabableElements.length - 1; i >= 0; i--) {\r\n        if ($(this.tabableElements[i]).attr('data-cstabindex') === '-1') {\r\n          this.tabableElements.splice(i, 1);\r\n        }\r\n      }\r\n\r\n      this.view.currentTabPosition = -1;\r\n      // if delete a tab by keyboard, put focus on the previous tab afterwards\r\n      if (this.keyboardActionDeleteTabPosition !== undefined) {\r\n        var $elem = $(this.tabableElements[this.keyboardActionDeleteTabPosition]);\r\n        if ($elem && $elem.length > 0) {\r\n          this.view.currentTabPosition = this.keyboardActionDeleteTabPosition;\r\n          // if the scroll-to element is a tab, auto-scroll for it to be visible\r\n          this.view._autoScrollUntilElemIsVisible($elem);\r\n          $elem.trigger('focus');\r\n        }\r\n        this.keyboardActionDeleteTabPosition = undefined;\r\n      }\r\n\r\n      setTimeout(function () {\r\n        view._setFirstAndLastFocusable && view._setFirstAndLastFocusable();\r\n      }, 50);\r\n\r\n      // log.debug('TabLinksKeyboardBehavior::refreshTabableElements ' + view.constructor.name +\r\n      //           ': found ' + this.tabableElements.length + ' tabable elements') &&\r\n      // console.log(log.last);\r\n    }\r\n\r\n  });\r\n\r\n  return TabLinksKeyboardBehavior;\r\n\r\n});\r\n\n","// Renders s tab panel made of links and content\r\ncsui.define('csui/controls/tab.panel/impl/tab.links.view',['csui/lib/underscore', 'csui/lib/marionette', 'csui/utils/base',\r\n  'hbs!csui/controls/tab.panel/impl/tab.links',\r\n  'csui/controls/tab.panel/impl/tab.link.view',\r\n  'csui/controls/tab.panel/behaviors/tab.links.keyboard.behavior',\r\n  'csui/lib/binf/js/binf'\r\n], function (_, Marionette, base, tabLinksTemplate, TabLinkView,\r\n    TabLinksKeyboardBehavior) {\r\n  'use strict';\r\n\r\n  var TabLinkCollectionView = Marionette.CompositeView.extend({\r\n\r\n    className: function () {\r\n      var ret = 'tab-links';\r\n      if (this.options.mode === 'spy') {\r\n        ret += ' scrollspy';\r\n      }\r\n      return ret;\r\n    },\r\n\r\n    childViewOptions: function (model, index) {\r\n      return _.extend(this.options, {\r\n        index: index,\r\n        activeTab: this.options.activeTab\r\n      });\r\n    },\r\n\r\n    template: tabLinksTemplate,\r\n    templateHelpers: function () {\r\n      return {\r\n        tab_type: this.tabType\r\n      };\r\n    },\r\n\r\n    childView: TabLinkView,\r\n    childViewContainer: function () {\r\n      return '>.' + this.tabType;\r\n    },\r\n\r\n    behaviors: {\r\n      TabLinksKeyboardBehavior: {\r\n        behaviorClass: TabLinksKeyboardBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function TabLinkCollectionView(options) {\r\n      this.tabType = options.tabType || 'binf-nav-tabs';\r\n      Marionette.CompositeView.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this.options.activeTab, 'change:tabIndex', this._updateActiveTab);\r\n    },\r\n\r\n    onChildviewActivateTab: function (childView) {\r\n      // clear the aria-selected on the previous tabLink and set it on the activated tabLink\r\n      this.children.each(function (view) {\r\n        var $link = view.$el.find('a');\r\n        if ($link.attr('aria-selected') !== undefined) {\r\n          $link.attr('aria-selected', 'false');\r\n        }\r\n      });\r\n      childView.$el.find('a').attr('aria-selected', 'true');\r\n    },\r\n\r\n    _updateActiveTab: function () {\r\n      var tabIndex = this.options.activeTab.get('tabIndex'),\r\n          linkView = this.children.findByIndex(tabIndex);\r\n      if (linkView) {\r\n        if (tabIndex === linkView._index) {\r\n          if (!linkView.isActive()) {\r\n            linkView.activate();\r\n          }\r\n        }\r\n      } else {\r\n        // Set the currently active tab index to the activeTab model\r\n        // to overwrite the wrong value which sombody set there\r\n        tabIndex = 0;\r\n        this.children.find(function (linkView, index) {\r\n          if (linkView.isActive()) {\r\n            tabIndex = index;\r\n            return true;\r\n          }\r\n        });\r\n        this.options.activeTab.set('tabIndex', tabIndex);\r\n      }\r\n    },\r\n\r\n    // Options: {\r\n    //  - levels <integer> : search up to number of levels.  Default: 3.\r\n    //  - percentX <integer> : X visibility percentage.  Default: 100%.\r\n    //  - percentY <integer> : Y visibility percentage.  Default: 100%.\r\n    // }\r\n    _isTablinkVisibleInParents: function ($el, options) {\r\n      var levels = options && options.levels || 3;\r\n      var percentX = options && options.percentX || 100;\r\n      var percentY = options && options.percentY || 100;\r\n      return base.isElementVisibleInParents($el, levels, percentX, percentY);\r\n    },\r\n\r\n    // base class method: leave empty!\r\n    deleteTabById: function (tabId) {\r\n      // don't add anything here. The method is meant to be overriden.\r\n      return;\r\n    }\r\n\r\n  });\r\n\r\n  return TabLinkCollectionView;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/impl/tab.content.view',['csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/marionette', 'csui/utils/log',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n  'csui/lib/binf/js/binf'\r\n], function (_, Backbone, Marionette, log, ViewEventsPropagationMixin) {\r\n  'use strict';\r\n\r\n  var TabContentView = Marionette.View.extend({\r\n\r\n    constructor: function TabContentView(options) {\r\n      Marionette.View.prototype.constructor.apply(this, arguments);\r\n      this.contentRegion = new Marionette.Region({el: this.el});\r\n      // Tab content creation cannot be delayed if scrollspy is used or if this\r\n      // is tab is active immediately and thus does not get the activation event\r\n      if (!this.options.delayTabContent || this.options.mode === 'spy' ||\r\n          this._isActive()) {\r\n        this._createContent(options);\r\n      } else {\r\n        this.listenTo(this.options.tabPanel, 'before:activate:tab', this._ensureContent);\r\n      }\r\n    },\r\n\r\n    className: function () {\r\n      var classes = '';\r\n      if (!this.options.mode) {\r\n        classes = 'binf-tab-pane binf-fade';\r\n        if (this._isActive()) {\r\n          classes += ' binf-in binf-active';\r\n        }\r\n      }\r\n      return classes;\r\n    },\r\n\r\n    attributes: function () {\r\n      var uTabId = this.model.get('uniqueTabId');\r\n      if (!uTabId) {\r\n        log.warn('Missing unique tab ID in the TabPanel UI component. Please report.')\r\n        && console.warn(log.last);\r\n      }\r\n      return {\r\n        role: 'tabpanel',\r\n        id: uTabId,\r\n        'aria-labelledby': 'tablink-' + uTabId\r\n      };\r\n    },\r\n\r\n    render: function () {\r\n      this._ensureViewIsIntact();\r\n      this.triggerMethod('before:render', this);\r\n      this._renderContent();\r\n      this.triggerMethod('render', this);\r\n      return this;\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      this._destroyContent();\r\n    },\r\n\r\n    _isActive: function () {\r\n      var activeTabIndex = Math.max(0, this.options.activeTab.get('tabIndex'));\r\n      return this.model === this.model.collection.at(activeTabIndex);\r\n    },\r\n\r\n    _ensureContent: function (tabContent, tabPane, tabLink) {\r\n      if (tabPane === this) {\r\n        if (!this.content) {\r\n          this._createContent(this.options);\r\n          if (this._isRendered) {\r\n            this.render();\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    _createContent: function (options) {\r\n      var ContentView        = this._getContentView(),\r\n          contentViewOptions = this._getContentViewOptions(),\r\n          fullOptions        = _.extend({\r\n                model: this.model,\r\n                containerCollection: options.containerCollection,\r\n                index: options.index\r\n              },\r\n              contentViewOptions);\r\n      this.content = new ContentView(fullOptions);\r\n      this.propagateEventsToViews(this.content);\r\n    },\r\n\r\n    _getContentView: function () {\r\n      var contentView = this.model.get(\"contentView\") ||\r\n                        this.options.tabPanel.getOption('contentView');\r\n      if (contentView && !(contentView.prototype instanceof Backbone.View)) {\r\n        contentView = contentView.call(this.options.tabPanel, this.model);\r\n      }\r\n      if (!contentView) {\r\n        throw new Marionette.Error({\r\n          name: 'NoContentViewError',\r\n          message: 'A \"contentView\" must be specified'\r\n        });\r\n      }\r\n      return contentView;\r\n    },\r\n\r\n    _getContentViewOptions: function () {\r\n      var contentViewOptions = this.options.tabPanel.getOption('contentViewOptions');\r\n      if (_.isFunction(contentViewOptions)) {\r\n        contentViewOptions = contentViewOptions.call(this.options.tabPanel,\r\n            this.model);\r\n      }\r\n      return contentViewOptions;\r\n    },\r\n\r\n    _renderContent: function () {\r\n      if (this.content) {\r\n        this.contentRegion.show(this.content);\r\n      }\r\n    },\r\n\r\n    _destroyContent: function () {\r\n      if (this.content) {\r\n        this.cancelEventsToViewsPropagation(this.content);\r\n        this.contentRegion.reset();\r\n        this.content = undefined;\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(TabContentView.prototype, ViewEventsPropagationMixin);\r\n\r\n  return TabContentView;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/behaviors/tab.contents.keyboard.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log', 'csui/lib/marionette',\r\n  'csui/controls/tab.panel/behaviors/common.keyboard.behavior.mixin'\r\n], function (module, _, $, log, Marionette, KeyboardBehaviorMixin) {\r\n  'use strict';\r\n\r\n  // This behavior implements a default keyboard navigation by tab keys similar to the browser\r\n  // default and is used when the browser default can't be used because of tabable region behavior.\r\n\r\n  var TabContentKeyboardBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function TabContentKeyboardBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      view.keyboardBehavior = this;\r\n      this.tabableElements = [];\r\n\r\n      var self = this;\r\n      this.listenTo(view, 'refresh:tabable:elements', function (tabPanel) {\r\n        this.alreadyRefreshedTabableElements = false;\r\n        self.refreshTabableElements(view);\r\n      });\r\n      this.listenTo(view, 'render', function () {\r\n        // must listen to async render of forms in children, to get all tabable elements\r\n        view.children && view.children.each(function (child) {\r\n          child.content && self.listenTo(child.content, 'render', function () {\r\n            this.alreadyRefreshedTabableElements = false;\r\n            self.refreshTabableElements(view);\r\n          });\r\n        });\r\n        // jQuery event (removed in destroy)\r\n        view.$el.on('tab:content:field:changed', function () {\r\n          this.alreadyRefreshedTabableElements = false;\r\n          if (this.keyboardAction) {\r\n            // triggered by keyboard\r\n            self.refreshTabableElementsAndSetFocus(view);\r\n          } else {\r\n            // triggered by mouse\r\n            self.refreshTabableElements(view);\r\n          }\r\n          this.keyboardAction = false;\r\n        });\r\n      });\r\n\r\n      KeyboardBehaviorMixin.mixin(view);\r\n\r\n      _.extend(view, {\r\n\r\n        onKeyInView: function (event) {\r\n          var ret;\r\n          if (this.keyboardBehavior.alreadyRefreshedTabableElements !== true) {\r\n            this.keyboardBehavior.refreshTabableElements(this);\r\n          }\r\n          if (this.keyboardBehavior.tabableElements.length === 0) {\r\n            // don't handle keystrokes at all if no elements were found for keyboard navigation\r\n            return ret;\r\n          }\r\n          var elem, elemsLength, focusPos;\r\n          elemsLength = this.keyboardBehavior.tabableElements.length;\r\n          focusPos = 0;\r\n          if (event.keyCode === 9) {  // tab\r\n\r\n            while (focusPos < elemsLength) {\r\n              elem = this.keyboardBehavior.tabableElements[focusPos];\r\n              if (elem && $(elem).is(event.target)) {\r\n                break;\r\n              }\r\n              focusPos++;\r\n            }\r\n            if (focusPos >= 0 && focusPos < elemsLength) {\r\n              this.currentTabPosition = focusPos;\r\n            }\r\n\r\n            // event.shiftKey: shift tab -> activate previous region\r\n            ret = this._accSetFocusToPreviousOrNextElement(event.shiftKey);\r\n          } else if (event.keyCode === 32 || event.keyCode === 13) {\r\n            // space key(32) or enter key(13)\r\n            var $elem = $(this.keyboardBehavior.tabableElements[this.currentTabPosition]);\r\n            if ($elem && $elem.is(':focus') && $elem.hasClass('binf-hidden') === false &&\r\n                $elem.closest('.cs-field-write').length === 0) {\r\n              event.preventDefault();\r\n              event.stopPropagation();\r\n              this.keyboardBehavior.keyboardAction = true;  // triggered by keyboard, not mouse\r\n              // trigger the click event\r\n              $elem.trigger('click');\r\n            }\r\n\r\n            while (focusPos < elemsLength) {\r\n              elem = this.keyboardBehavior.tabableElements[focusPos];\r\n              if (elem && $(elem).is(event.target)) {\r\n                break;\r\n              }\r\n              focusPos++;\r\n            }\r\n            var foundFocusable = focusPos >= 0 && focusPos < elemsLength;\r\n            if (foundFocusable) {\r\n              this.currentTabPosition = focusPos;\r\n            }\r\n\r\n            $elem = this._accSetFocusToPreviousOrNextElement(event.shiftKey);\r\n            if ($elem !== undefined) {\r\n              $elem.prop(\"tabindex\", \"0\");\r\n            }\r\n\r\n            if (!!event.activeTabContent && !!event.activeTabContent.alpaca &&\r\n                event.activeTabContent.alpaca.data.type === 140 && foundFocusable) {\r\n              var urlelem = this.keyboardBehavior.tabableElements[focusPos];\r\n                  urlelem.click();\r\n            }\r\n\r\n          }\r\n          return ret;\r\n        }\r\n\r\n      });\r\n    }, // constructor\r\n\r\n    onBeforeDestroy: function () {\r\n      this.view.$el.off('tab:content:field:changed');\r\n    },\r\n\r\n    refreshTabableElements: function (view) {\r\n      this.tabableElements = view.options.searchTabContentForTabableElements ?\r\n                             view.$el.find(view.options.tabContentAccSelectors).filter(':visible') :\r\n          [];\r\n\r\n      // remove elements with data-cstabindex=-1\r\n      var i;\r\n      for (i = this.tabableElements.length - 1; i >= 0; i--) {\r\n        if (view.closestTabable && view.closestTabable($(this.tabableElements[i])) === false) {\r\n          this.tabableElements.splice(i, 1);\r\n        }\r\n      }\r\n      this.view.currentTabPosition = -1;\r\n      this.alreadyRefreshedTabableElements = true;\r\n      setTimeout(function () {\r\n        view._setFirstAndLastFocusable && view._setFirstAndLastFocusable();\r\n      }, 50);\r\n\r\n      // log.debug('TabContentKeyboardBehavior::refreshTabableElements ' + view.constructor.name +\r\n      //           ': found ' + this.tabableElements.length + ' tabable elements') &&\r\n      // console.log(log.last);\r\n    },\r\n\r\n    refreshTabableElementsAndSetFocus: function (view) {\r\n      // after the content is changed, refresh the elements and try best to keep the same focus\r\n      var currentTabPos = this.view.currentTabPosition;\r\n      this.refreshTabableElements(view);\r\n      $(this.tabableElements[currentTabPos]).prop(\"tabindex\", \"0\");\r\n      $(this.tabableElements[currentTabPos]).trigger('focus');\r\n      this.view.currentTabPosition = currentTabPos;\r\n    },\r\n\r\n    updateCurrentTabPosition: function () {\r\n      var i;\r\n      for (i = 0; i < this.tabableElements.length; i++) {\r\n        if ($(this.tabableElements[i]).is(':focus')) {\r\n          this.view.currentTabPosition = i;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return TabContentKeyboardBehavior;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/behaviors/tab.contents.proxy.keyboard.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log', 'csui/lib/marionette'\r\n], function (module, _, $, log, Marionette) {\r\n  'use strict';\r\n\r\n  // This behavior is a proxy to delegate tab contents keyboard navigation to the child view.\r\n\r\n  var TabContentProxyKeyboardBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function TabContentProxyKeyboardBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      view.keyboardBehavior = this;\r\n\r\n      var self = this;\r\n      this.listenTo(view, 'refresh:tabable:elements', function (tabPanel) {\r\n        self.refreshTabableElements(view, tabPanel);\r\n      });\r\n\r\n      _.extend(view, {\r\n\r\n        // handle scenario that currentlyFocusedElement does not have event param for shiftTab\r\n        _setFirstAndLastFocusable: function (event) {\r\n          if (event && event.activeTabContent && event.activeTabContent.childTabPanelView &&\r\n              event.activeTabContent.childTabPanelView._setFirstAndLastFocusable) {\r\n            event.activeTabContent.childTabPanelView._setFirstAndLastFocusable(event);\r\n          }\r\n        },\r\n\r\n        currentlyFocusedElement: function (event) {\r\n          if (event && event.activeTabContent && event.activeTabContent.childTabPanelView &&\r\n              event.activeTabContent.childTabPanelView.currentlyFocusedElement) {\r\n            return event.activeTabContent.childTabPanelView.currentlyFocusedElement(event);\r\n          }\r\n          return undefined;\r\n        },\r\n\r\n        _accSetFocusToPreviousOrNextElement: function (previous) {\r\n          if (this.tabPanel && this.tabPanel.activeTabContent &&\r\n              this.tabPanel.activeTabContent.childTabPanelView &&\r\n              this.tabPanel.activeTabContent.childTabPanelView._accSetFocusToPreviousOrNextElement) {\r\n            return this.tabPanel.activeTabContent.childTabPanelView._accSetFocusToPreviousOrNextElement(\r\n                previous);\r\n          }\r\n          return undefined;\r\n        },\r\n\r\n        containTargetElement: function (event) {\r\n          if (event && event.activeTabContent && event.activeTabContent.childTabPanelView &&\r\n              event.activeTabContent.childTabPanelView.containTargetElement) {\r\n            return event.activeTabContent.childTabPanelView.containTargetElement(event);\r\n          }\r\n          return false;\r\n        },\r\n\r\n        onKeyInView: function (event) {\r\n          // let the child view handle the keypress\r\n          if (event.activeTabContent && event.activeTabContent.childTabPanelView &&\r\n              event.activeTabContent.childTabPanelView.onKeyInView) {\r\n            return event.activeTabContent.childTabPanelView.onKeyInView(event);\r\n          }\r\n          return undefined;\r\n        },\r\n\r\n        numberOfTabableElements: function (event) {\r\n          if (event && event.activeTabContent && event.activeTabContent.childTabPanelView &&\r\n              event.activeTabContent.childTabPanelView.numberOfTabableElements) {\r\n            return event.activeTabContent.childTabPanelView.numberOfTabableElements(event);\r\n          }\r\n          return 0;\r\n        }\r\n\r\n      });\r\n    }, // constructor\r\n\r\n    refreshTabableElements: function (view, tabPanel) {\r\n      // log.debug('TabContentProxyKeyboardBehavior::refreshTabableElements ' + view.constructor.name)\r\n      // && console.log(log.last);\r\n\r\n      view.tabPanel = tabPanel;\r\n      if (tabPanel && tabPanel.activeTabContent && tabPanel.activeTabContent.childTabPanelView) {\r\n        var childTabPanel = tabPanel.activeTabContent.childTabPanelView;\r\n        childTabPanel.refreshTabableElements && childTabPanel.refreshTabableElements(childTabPanel);\r\n        var e = {activeTabLink: tabPanel.activeTabLink, activeTabContent: tabPanel.activeTabContent};\r\n        view._setFirstAndLastFocusable && view._setFirstAndLastFocusable();\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return TabContentProxyKeyboardBehavior;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/impl/tab.contents.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/controls/tab.panel/impl/tab.content.view',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n  'csui/controls/tab.panel/behaviors/tab.contents.keyboard.behavior',\r\n  'csui/controls/tab.panel/behaviors/tab.contents.proxy.keyboard.behavior',\r\n  'csui/lib/binf/js/binf'\r\n], function (_, $, Marionette, TabContentView, ViewEventsPropagationMixin,\r\n    TabContentKeyboardBehavior, TabContentProxyKeyboardBehavior) {\r\n  \"use strict\";\r\n\r\n  var TabContentCollectionView = Marionette.CollectionView.extend({\r\n\r\n    className: 'binf-tab-content',\r\n\r\n    childView: TabContentView,\r\n    childViewOptions: function (model, index) {\r\n      return _.extend(this.options, {\r\n        index: index,\r\n        activeTab: this.options.activeTab\r\n      });\r\n    },\r\n\r\n    // add behaviors here\r\n    behaviors: {},\r\n\r\n    defaults: {\r\n      implementTabContentsDefaultKeyboardHandling: true,\r\n      tabContentAccSelectors: 'a[href], area[href], input:not([disabled]),' +\r\n                              ' select:not([disabled]), textarea:not([disabled]),' +\r\n                              ' button:not([disabled]), iframe, object, embed,' +\r\n                              ' *[tabindex], *[data-cstabindex], *[contenteditable]'\r\n    },\r\n\r\n    constructor: function TabContentCollectionView(options) {\r\n      _.defaults(options, this.defaults);\r\n      if (options.implementTabContentsDefaultKeyboardHandling) {\r\n        this.behaviors = _.extend({\r\n          TabContentKeyboardBehavior: {\r\n            behaviorClass: TabContentKeyboardBehavior\r\n          }\r\n        }, this.behaviors);\r\n      } else if (options.implementTabContentsDefaultKeyboardHandling === false) {\r\n        // in order to use proxy behavior, childTabPanelView must be defined and have keyboard behavior\r\n        this.behaviors = _.extend({\r\n          TabContentProxyKeyboardBehavior: {\r\n            behaviorClass: TabContentProxyKeyboardBehavior\r\n          }\r\n        }, this.behaviors);\r\n      }\r\n\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n\r\n      // Only react to child add/remove event after the view is rendered and before destroyed.\r\n      // Otherwise, don't waste time and performance to set the last tab event on every add/remove\r\n      // before the view is fully rendered or when the view is being destroyed.\r\n      this.reactToChildEvent = false;\r\n\r\n      this.listenTo(this, 'add:child', this.propagateEventsToViews);\r\n      // FIXME: implement stopListening in ViewEventsPropagationMixin on 'remove:child'\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      // Note: during debug find that child views are destroyed before this method is called.\r\n      // Just leave it here for now so other developer can be aware that this is not needed\r\n      // and don't waste time to add it.\r\n      this.reactToChildEvent = false;\r\n    },\r\n\r\n    onRender: function () {\r\n      this.reactToChildEvent = true;\r\n      this._setLastTabCssClass();\r\n      if (this.options.mode === 'spy') {\r\n        var targetSelector = '.tab-links.scrollspy';\r\n        // make the ScrollSpy's target selector unique to the particular TabPanel so that ScrollSpy\r\n        // code does not cause scrolling in other TabPanel\r\n        if (this.options && this.options.tabPanel && this.options.tabPanel.$el) {\r\n          var id = this.options.tabPanel.$el.attr('id');\r\n          if (id !== undefined) {\r\n            targetSelector = '#' + id + ' ' + targetSelector;\r\n          }\r\n        }\r\n        this.$el.binf_scrollspy({target: targetSelector});\r\n      }\r\n    },\r\n\r\n    onReorder: function () {\r\n      this._setLastTabCssClass();\r\n    },\r\n\r\n    onAddChild: function (childView) {\r\n      this._setLastTabCssClass();\r\n    },\r\n\r\n    onRemoveChild: function (childView) {\r\n      this._setLastTabCssClass();\r\n    },\r\n\r\n    _setLastTabCssClass: function () {\r\n      if (this.reactToChildEvent !== true) {\r\n        return;\r\n      }\r\n\r\n      var cssClass = 'last-tab-panel';\r\n\r\n      // find and remove the last tab css class\r\n      this.children.each(function (view) {\r\n        if (view.$el.hasClass(cssClass)) {\r\n          view.$el.removeClass(cssClass);\r\n        }\r\n      });\r\n\r\n      // add the last tab css class to the last *visible* tab, first tab is not needed\r\n      if (this.children.length > 1) {\r\n        // Use collection to find the last model because the collection is sorted by title (not\r\n        // views collection).\r\n        var lastChildView = this.getLastVisibleChild(this.collection.length - 1);\r\n        lastChildView && lastChildView.$el.addClass(cssClass);\r\n      }\r\n    },\r\n\r\n    // recursively find-out the last visible tab content element.\r\n    getLastVisibleChild: function (index) {\r\n      var lastModel = this.collection.at(index);\r\n      if (lastModel) {\r\n        var lastChildView = this.children.findByModel(lastModel);\r\n        if (lastChildView && !lastChildView.$el.hasClass('binf-hidden')) {\r\n          return lastChildView;\r\n        } else {\r\n          return this.getLastVisibleChild(index - 1);\r\n        }\r\n      }\r\n      return;\r\n    },\r\n\r\n    getTabContentFirstFocusableELement: function (tabId) {\r\n      var ret;\r\n      if (tabId === undefined || this.options.searchTabContentForTabableElements !== true) {\r\n        return ret;\r\n      }\r\n\r\n      // focus on 1st editable field of activating tabContent\r\n      var uTabId = tabId.charAt(0) === '#' ? tabId.slice(1) : tabId;\r\n      var model = this.collection.findWhere({uniqueTabId: uTabId});\r\n      if (model) {\r\n        var tabPane = this.children.findByModel(model);\r\n        var tabContent = tabPane.content;\r\n        var tabElemId = 0;\r\n        var elems = tabContent.$el.find(this.options.tabContentAccSelectors).filter(':visible');\r\n        if (elems.length > 0) {\r\n          var $currentElem = $(elems[tabElemId]);\r\n          while (this.closestTabable && this.closestTabable($currentElem) === false) {\r\n            tabElemId++;\r\n            if (tabElemId >= elems.length) {\r\n              tabElemId = -1;\r\n              break;\r\n            }\r\n            $currentElem = $(elems[tabElemId]);\r\n          }\r\n          if (tabElemId >= 0 && tabElemId < elems.length) {\r\n            ret = $currentElem;\r\n          }\r\n        }\r\n      }\r\n      return ret;\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(TabContentCollectionView.prototype, ViewEventsPropagationMixin);\r\n\r\n  return TabContentCollectionView;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/behaviors/tab.panel.keyboard.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log', \"csui/utils/base\",\r\n  'csui/lib/marionette'\r\n], function (module, _, $, log, base, Marionette) {\r\n  'use strict';\r\n\r\n  // This behavior implements a default keyboard navigation by tab keys similar to the browser\r\n  // default and is used when the browser default can't be used because of tabable region behavior.\r\n\r\n  var TabPanelKeyboardBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function TabPanelKeyboardBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      view.keyboardBehavior = this;\r\n      view.currentTabPosition = options.currentTabPosition || 0;\r\n      this.tabableElements = [];\r\n\r\n      var self = this;\r\n      this.listenTo(view, 'render', function () {\r\n        self.refreshTabableElements(view);\r\n\r\n        // if tab content is rendered later such as with Alpaca form rendering,\r\n        // then watch for this custom event and refresh tabable elements again\r\n        // jQuery event (removed in destroy)\r\n        view.$el.on('tab:content:render', function () {\r\n          self.refreshTabableElements(view);\r\n        });\r\n      });\r\n      this.listenTo(view, 'activate:tab', function (tabContent, tabPane, tabLink) {\r\n        var tabLinkHref = tabLink && tabLink.$el.find('>a')[0];\r\n        if (tabLinkHref) {\r\n          var event = {target: tabLinkHref};\r\n          var tabLinks = this.tabableElements[this.tabLinksIndex];\r\n          if (tabLinks && tabLinks.containTargetElement && tabLinks.containTargetElement(event)) {\r\n            var tabContents = this.tabableElements[this.tabContentIndex];\r\n            if (tabContents && tabContents.options.searchTabContentForTabableElements !== true) {\r\n              var $elem = $(tabLinks.keyboardBehavior.tabableElements[tabLinks.currentTabPosition]);\r\n              // overcome dom:refresh that triggers the global tabable behavior sets focus elsewhere\r\n              setTimeout(_.bind(function () {\r\n                this.view._focusOnElement($elem);\r\n              }, this), 500);\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      _.extend(view, {\r\n\r\n        // When TabPanelView is not used for form rendering, there is no content rendered event.\r\n        // Thus, check and refresh tabable elements if needed in case the view render event was\r\n        // called before animation is done or the view is still loading, not fully visible.\r\n        _checkAndRefreshTabableElements: function (event) {\r\n          if (this.keyboardBehavior.tabableElements.length > 0) {\r\n            // only need to check the tabLinks, tabContents can be empty\r\n            var tabLinks = this.keyboardBehavior.tabableElements[this.keyboardBehavior.tabLinksIndex];\r\n            if (tabLinks.numberOfTabableElements && tabLinks.numberOfTabableElements(event) === 0) {\r\n              tabLinks.keyboardBehavior.refreshTabableElements(tabLinks);\r\n            }\r\n          }\r\n        },\r\n\r\n        // handle scenario that currentlyFocusedElement does not have event param for shiftTab\r\n        _setFirstAndLastFocusable: function (event) {\r\n          if (this.keyboardBehavior.tabableElements.length > 0) {\r\n            // first element\r\n            var elem = this.keyboardBehavior.tabableElements[0];\r\n            elem && elem._setFirstAndLastFocusable && elem._setFirstAndLastFocusable(event);\r\n            // last element\r\n            var lastElemIndex = this.keyboardBehavior.tabableElements.length - 1;\r\n            elem = this.keyboardBehavior.tabableElements[lastElemIndex];\r\n            elem && elem._setFirstAndLastFocusable && elem._setFirstAndLastFocusable(event);\r\n          }\r\n        },\r\n\r\n        currentlyFocusedElement: function (event) {\r\n          // log.debug('TabPanelKeyboardBehavior::currentlyFocusedElement ' +\r\n          //           this.constructor.name) && console.log(log.last);\r\n\r\n          var e = _.extend(\r\n              {activeTabLink: this.activeTabLink, activeTabContent: this.activeTabContent},\r\n              event);\r\n\r\n          this._checkAndRefreshTabableElements(e);\r\n          this._setFirstAndLastFocusable(e);\r\n\r\n          var $focusElem;\r\n          var elemsLength = this.keyboardBehavior.tabableElements.length;\r\n          if (elemsLength > 0) {\r\n            var curPos = this.currentTabPosition;\r\n            if (curPos < 0 || curPos > elemsLength - 1) {\r\n              curPos = this.currentTabPosition = e.shiftKey ? elemsLength - 1 : 0;\r\n            }\r\n            // on ShiftTab: use last element\r\n            e.shiftKey && (curPos = this.currentTabPosition = elemsLength - 1);\r\n            var elem = this.keyboardBehavior.tabableElements[curPos];\r\n            if (elem.currentlyFocusedElement) {\r\n              $focusElem = elem.currentlyFocusedElement(e);\r\n              if ($focusElem !== undefined) {\r\n                $focusElem.prop(\"tabindex\", \"0\");\r\n                // The form field at the bottom may not be visitble, and the global TabablesBehavior\r\n                // has a check base.isVisibleInWindowViewport(elToFocus) on line 198 that\r\n                // ignores the region.\r\n                // So as a workaround as usual to the limitation of the weak code elsewhere without\r\n                // touching it, handle it here.  Set the focus on the form field element so that it\r\n                // would scroll into the view and become visible.\r\n                if (this.currentTabPosition === this.tabContentIndex) {\r\n                  self.skipAutoScroll = true;\r\n                  this._focusOnElement($focusElem);\r\n                  self.skipAutoScroll = false;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          return $focusElem;\r\n        },\r\n\r\n        accActivateTabableRegion: function (shiftTab) {\r\n          if (shiftTab) {\r\n            this.currentTabPosition = -1;\r\n          }\r\n          var $focusElem = this.currentlyFocusedElement({shiftKey: shiftTab});\r\n          this._focusOnElement($focusElem);\r\n        },\r\n\r\n        _focusOnElement: function ($elem) {\r\n          if ($elem && $elem instanceof $) {\r\n            this.tabableRegionBehavior && (this.tabableRegionBehavior.ignoreFocusEvents = true);\r\n            $elem.trigger('focus');\r\n            this.tabableRegionBehavior && (this.tabableRegionBehavior.ignoreFocusEvents = false);\r\n          }\r\n        },\r\n\r\n        _moveTo: function (event, $elem) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          // this.trigger('changed:focus', this);\r\n          var self = this;\r\n          if ($elem.csuiPromise) {\r\n            $elem.csuiPromise.done(function () {\r\n              $elem.prop(\"tabindex\", \"0\");\r\n              self._focusOnElement($elem);\r\n              setTimeout(function () {\r\n                self.skipAutoScroll = false;\r\n              }, 600);\r\n            });\r\n          } else {\r\n            $elem.prop(\"tabindex\", \"0\");\r\n            self._focusOnElement($elem);\r\n            setTimeout(function () {\r\n              self.skipAutoScroll = false;\r\n            }, 600);\r\n          }\r\n        },\r\n\r\n        onKeyInView: function (event) {\r\n          // handle tab, space, enter, delete only\r\n          if (event.keyCode !== 9 && event.keyCode !== 32 && event.keyCode !== 13 &&\r\n              event.keyCode !== 46) {\r\n            return;\r\n          }\r\n\r\n          event.activeTabLink = this.activeTabLink;\r\n          event.activeTabContent = this.activeTabContent;\r\n\r\n          var elem, $focusingElem;\r\n          var curPos = this.currentTabPosition;\r\n          var elemsLength = this.keyboardBehavior.tabableElements.length;\r\n\r\n          // if the focus is already in the region, find the view containing currently focused element\r\n          var focusPos = 0;\r\n          while (focusPos < elemsLength) {\r\n            elem = this.keyboardBehavior.tabableElements[focusPos];\r\n            if (elem && elem.containTargetElement && elem.containTargetElement(event)) {\r\n              // if the region contains target elememt but has no tabable element, just return and\r\n              // let the global Tabable behavior handle the keypress\r\n              if (elem.numberOfTabableElements() === 0) {\r\n                this.currentTabPosition = -1;\r\n                return;\r\n              }\r\n              break;\r\n            }\r\n            focusPos++;\r\n          }\r\n          if (focusPos >= 0 && focusPos < elemsLength) {\r\n            curPos = this.currentTabPosition = focusPos;\r\n          }\r\n\r\n          // let the child view handle the keypress first\r\n          if (curPos >= 0 && curPos < elemsLength) {\r\n            elem = this.keyboardBehavior.tabableElements[curPos];\r\n            if (elem.onKeyInView) {\r\n              // skip autoScroll if the focusing area is TabLink (index = 0)\r\n              curPos === 0 && (this.skipAutoScroll = true);\r\n              $focusingElem = elem.onKeyInView(event);\r\n              if ($focusingElem !== undefined) {\r\n                this._moveTo(event, $focusingElem);\r\n                return;\r\n              }\r\n            }\r\n          }\r\n\r\n          // if the child did not handle the keypress\r\n          if (event.keyCode === 9) {  // tab\r\n            if (curPos >= 0 && curPos < elemsLength) {\r\n              // log.debug('TabPanelKeyboardBehavior::onKeyInView ' + this.constructor.name) &&\r\n              // console.log(log.last);\r\n\r\n              var newTabbedElement = -1;\r\n              if (event.shiftKey) {  // shift tab -> activate previous region\r\n                if (this.currentTabPosition > 0) {\r\n                  newTabbedElement = this.currentTabPosition - 1;\r\n                }\r\n              } else {\r\n                if (this.currentTabPosition < elemsLength - 1) {\r\n                  newTabbedElement = this.currentTabPosition + 1;\r\n                }\r\n              }\r\n\r\n              // check and move to a region with focusable element\r\n              while (newTabbedElement >= 0 && newTabbedElement < elemsLength) {\r\n                elem = this.keyboardBehavior.tabableElements[newTabbedElement];\r\n                if (elem.currentlyFocusedElement) {\r\n                  $focusingElem = elem.currentlyFocusedElement(event);\r\n                  if ($focusingElem !== undefined) {\r\n                    break;\r\n                  }\r\n                }\r\n                // move to the next one to check\r\n                if (event.shiftKey) {  // shift tab -> activate previous region\r\n                  newTabbedElement = newTabbedElement - 1;\r\n                } else {\r\n                  newTabbedElement = newTabbedElement + 1;\r\n                }\r\n              }\r\n\r\n              if (newTabbedElement >= 0 && newTabbedElement < elemsLength &&\r\n                  newTabbedElement !== this.currentTabPosition) {\r\n                // skip autoScroll if the focusing area is TabLink\r\n                newTabbedElement === this.tabLinksIndex && (this.skipAutoScroll = true);\r\n                this.currentTabPosition = newTabbedElement;\r\n                this._moveTo(event, $focusingElem);\r\n              } else {\r\n                // FireFox quirky: need to blur\r\n                // for versions,activity tab $(event.target) is not working in IE.\r\n                if (base.isMSBrowser()) {\r\n                  $(event.srcElement).blur();\r\n                } else {\r\n                  $(event.target).blur();\r\n                }\r\n                this.currentTabPosition = -1;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n    }, // constructor\r\n\r\n    onBeforeDestroy: function () {\r\n      this.view.$el.off('tab:content:render');\r\n    },\r\n\r\n    refreshTabableElements: function (view) {\r\n      // log.debug('TabPanelKeyboardBehavior::refreshTabableElements ' + view.constructor.name) &&\r\n      // console.log(log.last);\r\n\r\n      view.tabLinks.triggerMethod('refresh:tabable:elements', view);\r\n      view.tabContent.triggerMethod('refresh:tabable:elements', view);\r\n\r\n      // tabLinks\r\n      this.tabLinksIndex = 0;\r\n      this.tabableElements[this.tabLinksIndex] = view.tabLinks;\r\n\r\n      // tabContentHeader if defined\r\n      this.tabContentHeaderIndex = -1;\r\n      if (view.tabContentHeader) {\r\n        this.tabContentHeaderIndex = 1;\r\n        this.tabableElements[this.tabContentHeaderIndex] = view.tabContentHeader;\r\n      }\r\n\r\n      // tabContent\r\n      this.tabContentIndex = view.tabContentHeader ? 2 : 1;\r\n      this.tabableElements[this.tabContentIndex] = view.tabContent;\r\n\r\n      this.view.currentTabPosition = -1;\r\n      this.view.triggerMethod(\"refresh:tabindexes\");\r\n    }\r\n\r\n  });\r\n\r\n  return TabPanelKeyboardBehavior;\r\n\r\n});\n","csui.define('csui/utils/non-emptying.region/non-emptying.region',['csui/lib/marionette'], function (Marionette) {\r\n  'use strict';\r\n\r\n  var NonEmptyingRegion = Marionette.Region.extend({\r\n\r\n    constructor: function NonEmptyingRegion(options) {\r\n      Marionette.Region.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    attachHtml: function (view) {\r\n      if (this.options && this.options.prependChild) {\r\n        this.el.insertBefore(view.el, this.el.childNodes[0]);\r\n      } else if (this.options && this.options.index >= 0) {\r\n        this.el.insertBefore(view.el, this.el.childNodes[this.options.index]);\r\n      } else {\r\n        this.el.appendChild(view.el);\r\n      }\r\n    },\r\n\r\n    empty: function (options) {\r\n      var view = this.currentView;\r\n      if (view) {\r\n        view.off('destroy', this.empty, this);\r\n        this.triggerMethod('before:empty', view);\r\n        if (!(options && options.preventDestroy)) {\r\n          this._destroyView();\r\n        }\r\n        this.triggerMethod('empty', view);\r\n        delete this.currentView;\r\n      }\r\n      return this;\r\n    },\r\n\r\n    _destroyView: function () {\r\n      var view = this.currentView;\r\n      if (view.isDestroyed === true || view._isDestroyed) {\r\n        return;\r\n      }\r\n\r\n      if (!view.supportsDestroyLifecycle) {\r\n        Marionette.triggerMethodOn(view, 'before:destroy', view);\r\n      }\r\n      if (view.destroy) {\r\n        view.destroy();\r\n      } else {\r\n        view.remove();\r\n        if (typeof view.isDestroyed === 'function') {\r\n          view._isDestroyed = true;\r\n        } else {\r\n          view.isDestroyed = true;\r\n        }\r\n      }\r\n      if (!view.supportsDestroyLifecycle) {\r\n        Marionette.triggerMethodOn(view, 'destroy', view);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return NonEmptyingRegion;\r\n\r\n});\r\n\n","// Renders tab panel made of links and content\r\ncsui.define('csui/controls/tab.panel/tab.panel.view',['csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/utils/base', 'csui/controls/tab.panel/impl/tab.links.view',\r\n  'csui/controls/tab.panel/impl/tab.contents.view',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n  'csui/models/version',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/tab.panel/behaviors/tab.panel.keyboard.behavior',\r\n  'csui/utils/non-emptying.region/non-emptying.region',\r\n  'csui/controls/form/pub.sub',\r\n  'csui/lib/binf/js/binf'\r\n], function (_, Backbone, Marionette, base, TabLinkCollectionView,\r\n    TabContentCollectionView, ViewEventsPropagationMixin, VersionModel,\r\n    TabableRegionBehavior, TabPanelKeyboardBehavior, NonEmptyingRegion, PubSub) {\r\n  'use strict';\r\n\r\n  var TabPanelView = Marionette.View.extend({\r\n\r\n    className: 'cs-tabpanel tab-panel',\r\n    attributes: function () {\r\n      var id = this.id || _.uniqueId('cs-tab');\r\n      var attrs = {id: id};\r\n      return attrs;\r\n    },\r\n\r\n    events: {\"keydown\": \"onKeyInView\"},\r\n\r\n    behaviors: {\r\n      TabableRegionBehavior: {\r\n        behaviorClass: TabableRegionBehavior,\r\n        notSetFocus: true,\r\n        initialActivationWeight: 100\r\n      },\r\n      TabPanelKeyboardBehavior: {\r\n        behaviorClass: TabPanelKeyboardBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function TabPanelView(options) {\r\n      options || (options = {});\r\n      options.tabPanel = this;\r\n      if (!options.collection) {\r\n        options.collection = this._convertCollection(options);\r\n      }\r\n      // generate unique internal Tab ID\r\n      this._generateUniqueTabId(options);\r\n      if (options.node) {\r\n        var initialPanel = options.node.get('initialPanel');\r\n        if (initialPanel) {\r\n          var initialTabIndex = options.collection.findIndex({name: initialPanel});\r\n          if (initialTabIndex >= 0 && initialTabIndex < options.collection.length) {\r\n            var initialPanelModel = options.collection.at(initialTabIndex);\r\n            options.activeTab = new Backbone.Model(initialPanelModel.attributes);\r\n            options.activeTab.set('tabIndex', initialTabIndex);\r\n            options.selectedTab = new Backbone.Model(initialPanelModel.attributes);\r\n          }\r\n        }\r\n      }\r\n      if (!options.activeTab) {\r\n        options.activeTab = new Backbone.Model({tabIndex: 0});\r\n      }\r\n\r\n      Marionette.View.prototype.constructor.apply(this, arguments);\r\n\r\n      this.linksRegion = new NonEmptyingRegion({el: this.el});\r\n      this.contentRegion = new NonEmptyingRegion({el: this.el});\r\n\r\n      // Fix the active tab index if it exceeds the tab count\r\n      this.activeTab = options.activeTab;\r\n      var tabIndex = this.activeTab.get('tabIndex');\r\n      if (tabIndex >= this.collection.length) {\r\n        this.activeTab.set('tabIndex', this.collection.length - 1);\r\n      }\r\n\r\n      // scenarios such as Properties page: the categories tabs are asynchorously loaded later\r\n      this.listenTo(this.collection, 'reset', this._generateUniqueTabId);\r\n      // scenarios such as Properties page: add a new category or RM inserts their tabs\r\n      this.listenTo(this.collection, 'add', this._setModelUniqueTabId);\r\n\r\n      this.listenTo(this, 'activate:tab', this._scrollToActiveTab);\r\n      this.listenTo(this, 'before:destroy', this._destroyContent);\r\n    },\r\n\r\n    _scrollToActiveTab: function (tabContent, tabPane, tabLink) {\r\n      this.activeTabLink = tabLink;\r\n      this.activeTabContent = tabContent;\r\n      if (this.options.mode) {\r\n        var href           = tabLink.$el.find('>a').attr('href'),\r\n            extraTopOffset = this.getOption('extraScrollTopOffset') || 0;\r\n        href[0] === '#' && (href = href.substr(1));\r\n        var hrefElems = this.$el.find(\"div[id='\" + href + \"']\");\r\n        if (hrefElems.length > 0) {\r\n          var tabPosTop = hrefElems[0].offsetTop + extraTopOffset;\r\n          if (this.options.mode === 'spy') {\r\n            // Update scrollspy with newly created tab\r\n            var scrollspy = this.tabContent.$el.data('binf.scrollspy');\r\n            scrollspy && scrollspy.refresh();\r\n          }\r\n          this.tabContent.$el.animate({\r\n            scrollTop: tabPosTop\r\n          }, 300);\r\n\r\n          // change the title of sticky header.\r\n          var newTabHeaderText = tabLink.$el.find(\".cs-tablink-text\").html(),\r\n              pubsubPostFix    = (this.options.node instanceof VersionModel ? 'v' : 'p') +\r\n                                 this.options.node.get('id'),\r\n              objPubSubId      = 'pubsub:tab:contents:header:view:change:tab:title:' +\r\n                                 pubsubPostFix;\r\n\r\n          PubSub.trigger(objPubSubId, newTabHeaderText);\r\n        }\r\n      }\r\n    },\r\n\r\n    render: function () {\r\n      this._ensureViewIsIntact();\r\n      Marionette.triggerMethodOn(this, 'before:render', this);\r\n      this._destroyContent();\r\n      this._renderContent();\r\n      this._bindingToEvents();\r\n      Marionette.triggerMethodOn(this, 'render', this);\r\n      return this;\r\n    },\r\n\r\n    _renderContent: function () {\r\n      // Initialize the tab link and content sub-views\r\n      var TabLinkCollectionViewClass = this.options.TabLinkCollectionViewClass ||\r\n                                       TabLinkCollectionView;\r\n      this.tabLinks = new TabLinkCollectionViewClass(this.options);\r\n      var TabContentCollectionViewClass = this.options.TabContentCollectionViewClass ||\r\n                                          TabContentCollectionView;\r\n      this.tabContent = new TabContentCollectionViewClass(this.options);\r\n      this.propagateEventsToViews(this.tabLinks, this.tabContent);\r\n      this.linksRegion.show(this.tabLinks);\r\n      this.contentRegion.show(this.tabContent);\r\n\r\n      // Propagate the tab activating event to the listeners outside\r\n      var self = this;\r\n      this.listenTo(this.tabLinks, 'childview:before:activate:tab',\r\n          function (tabLink) {\r\n            var tabPane    = this.tabContent.children.findByModel(tabLink.model),\r\n                tabContent = tabPane.content;\r\n            // when the tab is activating by mouse click for example,\r\n            // let the _autoScrolling know not to scroll\r\n            this.activatingTab = true;\r\n            Marionette.triggerMethodOn(this, 'before:activate:tab', tabContent, tabPane, tabLink);\r\n          });\r\n      this.listenTo(this.tabLinks, 'childview:activate:tab',\r\n          function (tabLink) {\r\n            var tabPane    = this.tabContent.children.findByModel(tabLink.model),\r\n                tabContent = tabPane.content;\r\n            // give this a bit more time than _autoScrolling's timeout\r\n            setTimeout(function () {\r\n              self.activatingTab = false;\r\n            }, 600);\r\n            Marionette.triggerMethodOn(this, 'activate:tab', tabContent, tabPane, tabLink);\r\n            // Trigger the dom:show event once more.  Some operations can be\r\n            // performedonly when the view is both in DOM and visible.\r\n            Marionette.triggerMethodOn(tabContent, 'dom:refresh');\r\n          });\r\n\r\n      var tabIndex = 0;\r\n      if (this.activeTab && this.activeTab.get('tabIndex') >= 0 &&\r\n          this.activeTab.get('tabIndex') < this.collection.length) {\r\n        tabIndex = this.activeTab.get('tabIndex');\r\n      }\r\n      this.activeTabLink = this.tabLinks.children.findByIndex(tabIndex);\r\n      // Tab control can be empty\r\n      if (this.activeTabLink) {\r\n        this.activeTabContent = this.tabContent.children.findByIndex(tabIndex).content;\r\n      }\r\n    },\r\n\r\n    _destroyContent: function () {\r\n      this.$el.off('tab:content:focus');\r\n      this.$el.off('tab:link:delete');\r\n      if (this.tabLinks) {\r\n        this.cancelEventsToViewsPropagation(this.tabLinks, this.tabContent);\r\n        this.stopListening(this.tabLinks)\r\n            .stopListening(this.tabContent);\r\n        this.linksRegion.empty();\r\n        this.contentRegion.empty();\r\n      }\r\n    },\r\n\r\n    _bindingToEvents: function () {\r\n      var self = this;\r\n      this.$el.on('tab:content:focus',\r\n          function (event) {\r\n            var $elem = self.tabContent.getTabContentFirstFocusableELement(event.tabId);\r\n            if ($elem) {\r\n              self.currentTabPosition = this.keyboardBehavior ?\r\n                                        this.keyboardBehavior.tabContentIndex : -1;\r\n              self._moveTo && self._moveTo(event, $elem);\r\n              self.tabContent.keyboardBehavior &&\r\n              self.tabContent.keyboardBehavior.updateCurrentTabPosition();\r\n            }\r\n          });\r\n      this.$el.on('tab:link:delete',\r\n          function (event) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            self.tabLinks.deleteTabById(event.tabId);\r\n          });\r\n    },\r\n\r\n    _convertCollection: function (options) {\r\n      var tabs = new Backbone.Collection(options.tabs);\r\n      tabs.each(function (tab) {\r\n        tab.set('id', _.uniqueId('cs-tab'));\r\n      });\r\n      return tabs;\r\n    },\r\n\r\n    _generateUniqueTabId: function (options) {\r\n      // This method ensures unique internal tab ID for each tablink-tabcontent pair in entire page.\r\n      // Cannot use model's 'id' as tab ID because it can be duplicated if the same model is being\r\n      // used in multiple places on the page.\r\n      var collection = options instanceof Backbone.Collection ? options :\r\n                       (options.collection || this.collection);\r\n      if (collection) {\r\n        collection.each(_.bind(function (tab) {\r\n          this._setModelUniqueTabId(tab);\r\n        }, this));\r\n      }\r\n    },\r\n\r\n    _setModelUniqueTabId: function (model) {\r\n      model && model.set('uniqueTabId', _.uniqueId('cstab-uid-'), {silent: true});\r\n    },\r\n\r\n    _isTablinkVisibleInParents: function ($el, options) {\r\n      return this.tabLinks._isTablinkVisibleInParents($el, options);\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(TabPanelView.prototype, ViewEventsPropagationMixin);\r\n\r\n  return TabPanelView;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/tab.panel/impl/nls/root/lang',{\r\n  deleteTooltip: 'Delete',\r\n  deleteTabAria: 'Delete {0}',\r\n  gotoNextTooltip: 'Show next tab',\r\n  gotoPreviousTooltip: 'Show previous tab',\r\n  requiredTooltip: 'Required',\r\n  showMore: 'Show more'\r\n});\r\n\n","\n","csui.define('csui/controls/tab.panel/tab.links.ext.scroll.mixin',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/models/version',\r\n  'i18n!csui/controls/tab.panel/impl/nls/lang', 'csui/controls/form/pub.sub'\r\n], function (_, $, Backbone, VersionModel, lang, PubSub) {\r\n\r\n  //\r\n  // TabLinks Mixin is to provide the additional tab overflow scrolling functionality to the\r\n  // TabLinksExtView object.\r\n  // Define the following in the main Tab Panel View constructor:\r\n  // - this.options = {\r\n  //     toolbar: true,\r\n  //   }\r\n  // Add this mixin to your main Tab View implementation and make the appropriate calls.\r\n  // Also add your own css styling to achieve the correct entity location and layout.\r\n  // For detailed example, see 'src/widgets/metadata/impl/metadata.properties.view.js'.\r\n  //\r\n  var TabLinksScrollMixin = {\r\n\r\n    _initializeToolbars: function (options) {\r\n      options = options || {};\r\n      this.tabsSelector = '> ul li';\r\n      this.tablinksToolbar = $(this.$el.find('.tab-links .tab-links-bar')[0]);\r\n\r\n      var tooltip;\r\n      this.leftToolbar = $(this.$el.find('.tab-links .left-toolbar')[0]);\r\n      if (this.leftToolbar && this.leftToolbar.find('>div.goto_previous_div').length === 0) {\r\n        tooltip = options.gotoPreviousTooltip || lang.gotoPreviousTooltip;\r\n        this.leftToolbar.append(\r\n            \"<div class='goto_previous_div' title='\" + tooltip +\r\n            \"'><span class='icon goto_previous_page'></span></div>\"\r\n        );\r\n        this.gotoPreviousPage = $(this.$el.find('.tab-links .goto_previous_div')[0]);\r\n        this.gotoPreviousPage.on('click', _.bind(this._gotoPreviousTabClick, this));\r\n      }\r\n      this._hideLeftToolbar();\r\n\r\n      this.rightToolbar = $(this.$el.find('.tab-links .right-toolbar')[0]);\r\n      if (this.rightToolbar && this.rightToolbar.find('>div.goto_next_div').length === 0) {\r\n        tooltip = options.gotoNextTooltip || lang.gotoNextTooltip;\r\n        this.rightToolbar.append(\r\n            \"<div class='goto_next_div' title='\" + tooltip +\r\n            \"'><span class='icon goto_next_page'></span></div>\"\r\n        );\r\n        this.gotoNextPage = $(this.$el.find('.tab-links div.goto_next_div')[0]);\r\n        this.gotoNextPage.on('click', _.bind(this._gotoNextTabClick, this));\r\n      } else {\r\n        this.gotoNextPage = $(this.$el.find('.tab-links div.goto_next_div')[0]);\r\n      }\r\n      this.gotoNextPage && this.gotoNextPage.hide();\r\n    },\r\n\r\n    _listenToTabEvent: function () {\r\n      var i;\r\n      var tabs = this.tablinksToolbar.find(this.tabsSelector);\r\n      for (i = 0; i < tabs.length; i++) {\r\n        this._listenToTabIdEvent(i, tabs);\r\n      }\r\n    },\r\n\r\n    _listenToTabIdEvent: function (index, iTabs) {\r\n      var self = this;\r\n      var tabs = iTabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : iTabs;\r\n\r\n      $(tabs[index]).off('activate.binf.scrollspy')\r\n          .on('activate.binf.scrollspy', function () {\r\n            var tabID    = $(this).find('a').attr('href'),\r\n                tabIndex = 0;\r\n            if (tabID) {\r\n              tabID[0] === '#' && (tabID = tabID.substr(1));\r\n              tabIndex = self._findTabIndexByID(tabID);\r\n              if (!!self.tabContentHeader) {\r\n                var newTabHeaderText = $(tabs).parent().find(\r\n                    \"li.binf-active .cs-tablink-text\").html(),\r\n                    pubsubPostFix    = (self.options.node instanceof VersionModel ? 'v' : 'p') +\r\n                                       self.options.node.get('id'),\r\n                    objPubSubId      = 'pubsub:tab:contents:header:view:change:tab:title:' +\r\n                                       pubsubPostFix;\r\n\r\n                PubSub.trigger(objPubSubId, newTabHeaderText);\r\n              }\r\n            }\r\n            // skip scrolling for faster performance\r\n            if (self.activatingTab === true || self.skipAutoScroll === true ||\r\n                (self.scrollspyActivatingTab === true && self.scrollspyActivatingTabId ===\r\n                 tabIndex)) {\r\n              return;\r\n            }\r\n            if (tabID) {\r\n              if (tabIndex >= 0 && !self._isTablinkVisibleInParents($(tabs[tabIndex]))) {\r\n                // while scrolling, skip extra scrollspy events on the same tab\r\n                self.scrollspyActivatingTab = true;\r\n                self.scrollspyActivatingTabId = tabIndex;\r\n                self._autoScrollTabTo(tabIndex)\r\n                    .done(function () {\r\n                      self.scrollspyActivatingTab = false;\r\n                      self.scrollspyActivatingTabId = -1;\r\n                    });\r\n              }\r\n            }\r\n          });\r\n    },\r\n\r\n    _beginTabHidden: function (iTabs) {\r\n      var tabHidden = false;\r\n      var tabs = iTabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : iTabs;\r\n      if (tabs) {\r\n        var i;\r\n        for (i = 0; i < tabs.length; i++) {\r\n          var tabVisible = this._isTablinkVisibleInParents($(tabs[i]));\r\n          // as soon as see first visible tab, there is no beginning hidden tab\r\n          if (tabVisible) {\r\n            break;\r\n          }\r\n          // tab is not visible and must not be hidden by the 'Only required fields' switch\r\n          if (!tabVisible && !($(tabs[i]).hasClass('hidden-by-switch'))) {\r\n            tabHidden = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return tabHidden;\r\n    },\r\n\r\n    _trailingTabHidden: function (iTabs) {\r\n      var tabHidden = false;\r\n      var tabs = iTabs === undefined ? this.tablinksToolbar &&  this.tablinksToolbar.find(this.tabsSelector) : iTabs;\r\n      if (tabs) {\r\n        var i;\r\n        for (i = tabs.length - 1; i >= 0; i--) {\r\n          var tabVisible = this._isTablinkVisibleInParents($(tabs[i]));\r\n          // as soon as see first visible tab, there is no trailing hidden tab\r\n          if (tabVisible) {\r\n            break;\r\n          }\r\n          // tab is not visible and must not be hidden by the 'Only required fields' switch\r\n          if (!tabVisible && !($(tabs[i]).hasClass('hidden-by-switch'))) {\r\n            tabHidden = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return tabHidden;\r\n    },\r\n\r\n    _findTabIndexByID: function (tabID) {\r\n      var tabIndex = -1;\r\n      var tabs = this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector);\r\n      if (tabs) {\r\n        var i;\r\n        for (i = 0; i < tabs.length; i++) {\r\n          var href = $(tabs[i]).find('>a').attr('href');\r\n          href[0] === '#' && (href = href.substr(1));\r\n          if (tabID === href) {\r\n            tabIndex = i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return tabIndex;\r\n    },\r\n\r\n    _firstVisibleTabIndex: function (iTabs) {\r\n      var tabIndex = -1;\r\n      var tabs = iTabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : iTabs;\r\n      if (tabs) {\r\n        var i;\r\n        for (i = 0; i < tabs.length; i++) {\r\n          if (this._isTablinkVisibleInParents($(tabs[i]))) {\r\n            tabIndex = i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return tabIndex;\r\n    },\r\n\r\n    _lastVisibleTabIndex: function (iTabs) {\r\n      var tabIndex = -1;\r\n      var tabs = iTabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : iTabs;\r\n      if (tabs) {\r\n        var i;\r\n        for (i = tabs.length - 1; i >= 0; i--) {\r\n          if (this._isTablinkVisibleInParents($(tabs[i]))) {\r\n            tabIndex = i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return tabIndex;\r\n    },\r\n\r\n    _showLeftToolbar: function () {\r\n      this.leftToolbar && this.leftToolbar.show();\r\n      this.tablinksToolbar && this.tablinksToolbar.addClass(\"with-left-toolbar\");\r\n    },\r\n\r\n    _hideLeftToolbar: function () {\r\n      this.leftToolbar && this.leftToolbar.hide();\r\n      this.tablinksToolbar && this.tablinksToolbar.removeClass(\"with-left-toolbar\");\r\n    },\r\n\r\n    _hideTabLinkByRequiredSwitch: function ($tab) {\r\n      if ($tab && $tab instanceof $) {\r\n        $tab.addClass('binf-hidden hidden-by-switch');\r\n        this._hideTab($tab);\r\n        // keyboard navigation support\r\n        $tab.find('a').attr('data-cstabindex', '-1');\r\n        var tabDeleteIcon = $tab.find('.cs-delete-icon');\r\n        if (tabDeleteIcon.attr('data-cstabindex') !== undefined) {\r\n          tabDeleteIcon.attr('data-cstabindex', '-1');\r\n        }\r\n      }\r\n    },\r\n\r\n    _showTabLinkByRequiredSwitch: function ($tab, removeable) {\r\n      if ($tab && $tab instanceof $) {\r\n        $tab.removeClass('binf-hidden hidden-by-switch');\r\n        this._showTab($tab);\r\n        // keyboard navigation support\r\n        $tab.find('a').removeAttr('data-cstabindex');\r\n        removeable === true && $tab.find('.cs-delete-icon').attr('data-cstabindex', '0');\r\n      }\r\n    },\r\n\r\n    _hideTab: function ($tab) {\r\n      if ($tab && $tab instanceof $) {\r\n        $tab.css('width', '');\r\n        $tab.css('text-overflow', 'clip');\r\n        $tab.hide();\r\n      }\r\n    },\r\n\r\n    _showTab: function ($tab) {\r\n      if ($tab && $tab instanceof $) {\r\n        $tab.css('width', '');\r\n        $tab.css('text-overflow', 'ellipsis');\r\n        $tab.show();\r\n      }\r\n    },\r\n\r\n    _showLastTab: function (iTabs) {\r\n      var tabs = iTabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : iTabs;\r\n      var i;\r\n      for (i = tabs.length - 1; i >= 0; i--) {\r\n        var $tab = $(tabs[i]);\r\n        if (!this._isTablinkVisibleInParents($tab) && !($tab.hasClass('hidden-by-switch'))) {\r\n          this._showTab($tab);\r\n          break;\r\n        }\r\n      }\r\n    },\r\n\r\n    _enableToolbarState: function (iTabs) {\r\n      var tabs = iTabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : iTabs;\r\n      if (tabs && this.$el.is(':visible')) {\r\n        this._beginTabHidden(tabs) ? this._showLeftToolbar() : this._hideLeftToolbar();\r\n        this.gotoNextPage && this.gotoNextPage.toggle(this._trailingTabHidden(tabs));\r\n      }\r\n    },\r\n\r\n    _gotoPreviousTabClick: function (event) {\r\n      Backbone.trigger('closeToggleAction');\r\n      this._gotoPreviousTab({event: event});\r\n    },\r\n\r\n    _gotoNextTabClick: function (event) {\r\n      Backbone.trigger('closeToggleAction');\r\n      var deferred = $.Deferred();\r\n      var tabs = this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector);\r\n      var visibleIndex = this._lastVisibleTabIndex(tabs);\r\n\r\n      // scroll until the next tab is visible (sometimes 2 or more tabs)\r\n      if (visibleIndex >= 0 && visibleIndex < tabs.length) {\r\n        // find the next hidden tab (exclude the ones hidden by 'See required only' switch)\r\n        var i, nextIndex = -1;\r\n        for (i = visibleIndex + 1; i < tabs.length; i++) {\r\n          var $tab = $(tabs[i]);\r\n          if (!($tab.hasClass('hidden-by-switch')) && !this._isTablinkVisibleInParents($tab)) {\r\n            nextIndex = i;\r\n            break;\r\n          }\r\n        }\r\n        if (nextIndex >= 0 && nextIndex < tabs.length) {\r\n          return this._gotoNextTab({tabs: tabs, visibleTabIndex: nextIndex});\r\n        }\r\n      }\r\n      return $.Deferred().resolve();\r\n    },\r\n\r\n    // Params:\r\n    // - options <object>: {\r\n    //     event <event>: optional event\r\n    //     tabs <elements>: optional tabs for performance without lookup\r\n    //     visibleTabIndex <integer>: optional for the tab index to scroll until it is visible\r\n    //     deferred <jQuery Deferred>: optional for asynchronous\r\n    //     animationOff <boolean>: true/false\r\n    //   }\r\n    // Return: jQuery Deferred\r\n    _gotoPreviousTab: function (options) {\r\n      options || (options = {});\r\n      options.event && options.event.preventDefault();\r\n      options.event && options.event.stopPropagation();\r\n\r\n      var deferred = options.deferred ? options.deferred : $.Deferred();\r\n      var tabs = options.tabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : options.tabs;\r\n      var i, lastTabIndex = tabs.length - 1;\r\n\r\n      var visibleTabIndex = options.visibleTabIndex;\r\n      if (visibleTabIndex !== undefined && visibleTabIndex >= 0 &&\r\n          visibleTabIndex <= lastTabIndex) {\r\n        if (this._isTablinkVisibleInParents($(tabs[visibleTabIndex]))) {\r\n          return deferred.resolve();\r\n        }\r\n      }\r\n\r\n      var defBeingHandled = false;\r\n      for (i = 0; i <= lastTabIndex; i++) {\r\n        // find the visible tab\r\n        var $tab2 = $(tabs[i]);\r\n        if (this._isTablinkVisibleInParents($tab2)) {\r\n          if (i === 0) {\r\n            this._hideLeftToolbar();\r\n          }\r\n\r\n          // find the previous hidden tab (exclude the ones hidden by 'See required only' switch)\r\n          var j;\r\n          for (j = i - 1; j >= 0; j--) {\r\n            var $tab1 = $(tabs[j]);\r\n            if ($tab1 && !this._isTablinkVisibleInParents($tab1) &&\r\n                !($tab1.hasClass('hidden-by-switch'))) {\r\n              // find the real width to animate\r\n              $tab1.css('visibility', 'binf-hidden');\r\n              $tab1.css('width', '');\r\n              $tab1.show();\r\n              var width = $tab1.width();\r\n              $tab1.css('text-overflow', 'clip');\r\n              $tab1.width(0);\r\n              $tab1.css('visibility', '');\r\n\r\n              defBeingHandled = true;\r\n              var duration = options.animationOff === true ? 0 : 'fast';\r\n              $tab1.animate({\"width\": \"+=\" + width}, duration,\r\n                  _.bind(function () {\r\n                    $tab1.css('width', '');\r\n                    $tab1.css('text-overflow', 'ellipsis');\r\n                    var recurse = false;\r\n                    if (visibleTabIndex !== undefined && visibleTabIndex >= 0 &&\r\n                        visibleTabIndex <= lastTabIndex) {\r\n                      if (this._isTablinkVisibleInParents($(tabs[visibleTabIndex])) === false) {\r\n                        recurse = true;\r\n                      }\r\n                    }\r\n                    if (recurse) {\r\n                      var opts = {tabs: tabs, deferred: deferred};\r\n                      options.event && (opts.event = options.event);\r\n                      (visibleTabIndex !== undefined) && (opts.visibleTabIndex = visibleTabIndex);\r\n                      (options.animationOff !== undefined) &&\r\n                      (opts.animationOff = options.animationOff);\r\n                      this._gotoPreviousTab(opts);\r\n                    } else {\r\n                      this._enableToolbarState(tabs);\r\n                      this.autoScrollingLastTab = false;\r\n                      deferred.resolve();\r\n                    }\r\n                  }, this));\r\n\r\n              break;  // j loop\r\n            }\r\n          }\r\n          break;  // i loop\r\n        }\r\n        // exception case when there is no visible tab found: show the last tab\r\n        if (i === lastTabIndex) {\r\n          this._showLastTab(tabs);\r\n          this._enableToolbarState(tabs);\r\n          this.autoScrollingLastTab = false;\r\n          deferred.resolve();\r\n        }\r\n      }\r\n\r\n      if (defBeingHandled === false) {\r\n        return deferred.resolve();\r\n      }\r\n      if (options.deferred === undefined) {\r\n        return deferred.promise();\r\n      }\r\n    },\r\n\r\n    // Params:\r\n    // - options <object>: {\r\n    //     event <event>: optional event\r\n    //     tabs <elements>: optional tabs for performance without lookup\r\n    //     visibleTabIndex <integer>: optional for the tab index to scroll until it is visible\r\n    //     deferred <jQuery Deferred>: optional for asynchronous\r\n    //     animationOff <boolean>: true/false\r\n    //   }\r\n    // Return: jQuery Deferred\r\n    _gotoNextTab: function (options) {\r\n      options || (options = {});\r\n      options.event && options.event.preventDefault();\r\n      options.event && options.event.stopPropagation();\r\n\r\n      var deferred = options.deferred ? options.deferred : $.Deferred();\r\n      var tabs = options.tabs === undefined ? this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector) : options.tabs;\r\n      var i, lastTabIndex = tabs.length - 1;\r\n\r\n      var visibleTabIndex = options.visibleTabIndex;\r\n      if (visibleTabIndex !== undefined && visibleTabIndex >= 0 &&\r\n          visibleTabIndex <= lastTabIndex) {\r\n        if (this._isTablinkVisibleInParents($(tabs[visibleTabIndex]))) {\r\n          return deferred.resolve();\r\n        }\r\n      }\r\n\r\n      var defBeingHandled = false;\r\n      for (i = 0; i <= lastTabIndex; i++) {\r\n        var $tab = $(tabs[i]);\r\n        if (this._isTablinkVisibleInParents($tab)) {\r\n          if (this.leftToolbar.is(':hidden')) {\r\n            this._showLeftToolbar();\r\n          }\r\n\r\n          if ($tab) {\r\n            defBeingHandled = true;\r\n            var duration = options.animationOff === true ? 0 : 'fast';\r\n            $tab.animate({\"width\": \"-=\" + $tab.width()}, duration,\r\n                _.bind(function () {\r\n                  $tab.hide();\r\n                  $tab.css('width', '');\r\n                  var recurse = false;\r\n                  if (visibleTabIndex !== undefined && visibleTabIndex >= 0 &&\r\n                      visibleTabIndex <= lastTabIndex) {\r\n                    if (this._isTablinkVisibleInParents($(tabs[visibleTabIndex])) === false) {\r\n                      recurse = true;\r\n                    }\r\n                  }\r\n                  if (recurse) {\r\n                    var opts = {tabs: tabs, deferred: deferred};\r\n                    options.event && (opts.event = options.event);\r\n                    (visibleTabIndex !== undefined) && (opts.visibleTabIndex = visibleTabIndex);\r\n                    (options.animationOff !== undefined) &&\r\n                    (opts.animationOff = options.animationOff);\r\n                    this._gotoNextTab(opts);\r\n                  } else {\r\n                    this._enableToolbarState(tabs);\r\n                    this.autoScrollingLastTab = false;\r\n                    deferred.resolve();\r\n                  }\r\n                }, this));\r\n          }\r\n          break;\r\n        }\r\n        // exception case when there is no visible tab found: show the last tab\r\n        if (i === lastTabIndex) {\r\n          this._showLastTab(tabs);\r\n          this._enableToolbarState(tabs);\r\n          this.autoScrollingLastTab = false;\r\n          deferred.resolve();\r\n        }\r\n      }\r\n\r\n      if (defBeingHandled === false) {\r\n        return deferred.resolve();\r\n      }\r\n      if (options.deferred === undefined) {\r\n        return deferred.promise();\r\n      }\r\n    },\r\n\r\n    _autoScrollLastTab: function () {\r\n      this.autoScrollingLastTab = true;\r\n      var tabs = this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector);\r\n      var deferred = this._gotoNextTab({tabs: tabs, visibleTabIndex: tabs.length - 1});\r\n      deferred.done(_.bind(function () {\r\n        this.autoScrollingLastTab = false;\r\n      }, this));\r\n      return deferred;\r\n    },\r\n\r\n    _autoScrollFirstTabAsync: function ($tab0, tabs, iteration, iDeferred) {\r\n      var iter = iteration === undefined ? 0 : iteration;\r\n      if (iter < 0 && iter >= tabs.length) {\r\n        if (iDeferred) {\r\n          iDeferred.resolve();\r\n          return;\r\n        } else {\r\n          return $.Deferred().resolve();\r\n        }\r\n      }\r\n\r\n      var deferred = iDeferred ? iDeferred : $.Deferred();\r\n      this._gotoPreviousTab({tabs: tabs}).done(_.bind(function () {\r\n        if (this._isTablinkVisibleInParents($tab0)) {\r\n          deferred.resolve();\r\n        } else {\r\n          iter++;\r\n          this._autoScrollFirstTabAsync($tab0, tabs, iter, deferred);\r\n        }\r\n      }, this));\r\n\r\n      if (iDeferred === undefined) {\r\n        return deferred;\r\n      }\r\n    },\r\n\r\n    _autoScrollFirstTab: function () {\r\n      var deferred = $.Deferred();\r\n      this.autoScrollingLastTab = true;\r\n      var tabs = this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector);\r\n      var $tab0 = $(tabs[0]);\r\n      if (!this._isTablinkVisibleInParents($tab0) && tabs.length > 0) {\r\n        this._autoScrollFirstTabAsync($tab0, tabs).done(_.bind(function () {\r\n          this._enableToolbarState(tabs);\r\n          this.autoScrollingLastTab = false;\r\n          deferred.resolve();\r\n        }, this));\r\n      } else {\r\n        this.autoScrollingLastTab = false;\r\n      }\r\n      return deferred.promise();\r\n    },\r\n\r\n    _autoScrollTabTo: function (index, options) {\r\n      options || (options = {});\r\n      var tabs = this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector);\r\n      var scrollOptions = _.extend({visibleTabIndex: index}, options, {tabs: tabs});\r\n      var firstVisibleIndex = this._firstVisibleTabIndex(tabs);\r\n      var lastVisibleIndex = this._lastVisibleTabIndex(tabs);\r\n\r\n      if (firstVisibleIndex >= 0 && firstVisibleIndex < tabs.length &&\r\n          lastVisibleIndex >= 0 && lastVisibleIndex < tabs.length &&\r\n          index >= 0 && index < tabs.length) {\r\n        this.autoScrollingLastTab = true;\r\n        var deferred;\r\n        if (index < firstVisibleIndex) {\r\n          deferred = this._gotoPreviousTab(scrollOptions);\r\n        } else if (index > lastVisibleIndex) {\r\n          deferred = this._gotoNextTab(scrollOptions);\r\n        } else {\r\n          this.autoScrollingLastTab = false;\r\n          return $.Deferred().resolve();\r\n        }\r\n        deferred.done(_.bind(function () {\r\n          this.autoScrollingLastTab = false;\r\n        }, this));\r\n        return deferred;\r\n      } else {\r\n        return $.Deferred().resolve();\r\n      }\r\n    },\r\n\r\n    _autoScrolling: function () {\r\n      if (this.autoScrollingLastTab || this.activatingTab === true ||\r\n          this.skipAutoScroll === true) {\r\n        return $.Deferred().resolve();\r\n      }\r\n\r\n      var i, iActive = -1;\r\n      var tabs = this.tablinksToolbar && this.tablinksToolbar.find(this.tabsSelector);\r\n      var tabHidden = false;\r\n      for (i = 0; i < tabs.length; i++) {\r\n        var $tab = $(tabs[i]);\r\n        if (iActive === -1 && $tab.hasClass('binf-active')) {\r\n          if (this._isTablinkVisibleInParents($tab) === false) {\r\n            tabHidden = true;\r\n          }\r\n          iActive = i;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (tabHidden) {\r\n        return this._autoScrollTabTo(iActive);\r\n      }\r\n      return $.Deferred().resolve();\r\n    }\r\n\r\n  };\r\n\r\n  return TabLinksScrollMixin;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/tab.panel/impl/tab.links.ext',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"  <div class=\\\"left-toolbar\\\"></div>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    return \"  <div class=\\\"right-toolbar\\\"></div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.toolbar : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n<div class=\\\"tab-links-bar\\\">\\r\\n  <span class=\\\"fadeout\\\"></span>\\r\\n  <ul class=\\\"binf-nav \"\n    + this.escapeExpression(((helper = (helper = helpers.tab_type || (depth0 != null ? depth0.tab_type : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"tab_type\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"tablist\\\"></ul>\\r\\n</div>\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.toolbar : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_tab.panel_impl_tab.links.ext', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/tab.panel/impl/tab.link.ext',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    <span class=\\\"cs-icon-required category_required\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.required_tooltip || (depth0 != null ? depth0.required_tooltip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"required_tooltip\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"  <div class=\\\"cs-tablink-delete\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.delete_tooltip || (depth0 != null ? depth0.delete_tooltip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"delete_tooltip\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n    <span class=\\\"icon \"\n    + this.escapeExpression(((helper = (helper = helpers.delete_icon || (depth0 != null ? depth0.delete_icon : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"delete_icon\",\"hash\":{}}) : helper)))\n    + \" cs-delete-icon\\\" role=\\\"button\\\"\\r\\n          \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.removeable : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(4, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n          aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.deleteTabAria || (depth0 != null ? depth0.deleteTabAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"deleteTabAria\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n  </div>\\r\\n\";\n},\"4\":function(depth0,helpers,partials,data) {\n    return \"data-cstabindex=\\\"0\\\"\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<a href=\\\"#\"\n    + this.escapeExpression(((helper = (helper = helpers.uniqueTabId || (depth0 != null ? depth0.uniqueTabId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"uniqueTabId\",\"hash\":{}}) : helper)))\n    + \"\\\" id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.linkId || (depth0 != null ? depth0.linkId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"linkId\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"tab\\\" aria-selected=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.selected || (depth0 != null ? depth0.selected : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"selected\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-controls=\"\n    + this.escapeExpression(((helper = (helper = helpers.uniqueTabId || (depth0 != null ? depth0.uniqueTabId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"uniqueTabId\",\"hash\":{}}) : helper)))\n    + \" class=\\\"cs-tablink\\\" data-binf-toggle=\\\"tab\\\" title=\\\"\"\n    + this.escapeExpression((helpers['csui-l10n'] || (depth0 && depth0['csui-l10n']) || helpers.helperMissing).call(depth0,(depth0 != null ? depth0.title : depth0),{\"name\":\"csui-l10n\",\"hash\":{}}))\n    + \"\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.required : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"  <span class=\\\"cs-tablink-text\\\">\"\n    + this.escapeExpression((helpers['csui-l10n'] || (depth0 && depth0['csui-l10n']) || helpers.helperMissing).call(depth0,(depth0 != null ? depth0.title : depth0),{\"name\":\"csui-l10n\",\"hash\":{}}))\n    + \"</span>\\r\\n</a>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.allow_delete : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_tab.panel_impl_tab.link.ext', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/tab.panel/impl/tab.link.ext.view',['csui/lib/underscore', 'csui/controls/tab.panel/impl/tab.link.view',\r\n  'hbs!csui/controls/tab.panel/impl/tab.link.ext',\r\n  'i18n!csui/controls/tab.panel/impl/nls/lang',\r\n  'csui/lib/binf/js/binf'\r\n], function (_, TabLinkView, tabLinkExtTemplate, lang) {\r\n  \"use strict\";\r\n\r\n  var TabLinkViewExt = TabLinkView.extend({\r\n\r\n    template: tabLinkExtTemplate,\r\n    templateHelpers: function () {\r\n      var uniqueTabId = this.model.get('uniqueTabId');\r\n      return {\r\n        linkId: 'tablink-' + uniqueTabId,\r\n        selected: this._isOptionActiveTab(),\r\n        required_tooltip: lang.requiredTooltip,\r\n        delete_icon: this.options.delete_icon || 'circle_delete',\r\n        delete_tooltip: this.options.delete_tooltip || lang.deleteTooltip,\r\n        deleteTabAria: _.str.sformat(lang.deleteTabAria, this.model.get('title'))\r\n      };\r\n    },\r\n\r\n    events: {\r\n      'show.binf.tab > a': 'onShowingTab',\r\n      'shown.binf.tab > a': 'onShownTab',\r\n      'focus .cs-delete-icon': 'onFocusDeleteIcon',\r\n      'blur .cs-delete-icon': 'onBlurDeleteIcon',\r\n      'click .cs-tablink-delete': 'onDelete'\r\n    },\r\n\r\n    ui: {\r\n      link: '>a',\r\n      deleteIcon: '.cs-delete-icon',\r\n      deleteIconParent: '.cs-tablink-delete'\r\n    },\r\n\r\n    constructor: function TabLinkViewExt(options) {\r\n      this.options = options || {};\r\n      TabLinkView.prototype.constructor.apply(this, arguments);\r\n\r\n      this.listenTo(this.model, 'action:updated', function () {\r\n        this._setRemoveable();\r\n      });\r\n    },\r\n\r\n    onRender: function () {\r\n      this._setRemoveable();\r\n    },\r\n\r\n    _setRemoveable: function () {\r\n      if (!!this.model.get('removeable')) {\r\n        this.ui.deleteIcon.addClass('removeable');\r\n        this.ui.deleteIcon.attr('data-cstabindex', '0');\r\n        this.ui.deleteIconParent.removeClass('binf-hidden');\r\n      } else {\r\n        this.ui.deleteIcon.removeClass('removeable');\r\n        this.ui.deleteIcon.removeAttr('data-cstabindex');\r\n        this.ui.deleteIconParent.addClass('binf-hidden');\r\n      }\r\n    },\r\n\r\n    onFocusDeleteIcon: function () {\r\n      this.ui.deleteIconParent.addClass('focused');\r\n    },\r\n\r\n    onBlurDeleteIcon: function () {\r\n      this.ui.deleteIconParent.removeClass('focused');\r\n    },\r\n\r\n    onDelete: function (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      this.deleteCurrentTab();\r\n    },\r\n\r\n    deleteCurrentTab: function () {\r\n      //\r\n      // Technical note on the 'allow_delete' and 'removeable':\r\n      // 1) Why there are two, not just one?\r\n      //    Answer: 'allow_delete' is for the View to create with or  without the delete icon\r\n      //            element.\r\n      // 2) What 'removeable' is for and why have it?\r\n      //    Answer: 'removeable' is the Model state to determine if the delete icon should be\r\n      //             active and visible or not. In some scenarios, the Model commands are\r\n      //             delayed fetched.  The 'removeable' attribute would be updated asynchronously.\r\n      //             At the intialization the value would be false, but could be true/false later.\r\n      // The code combines both values and also uses CSS to show/hide the icon on mouse hover\r\n      // or touch focus on mobile device without additional JavaScript code.\r\n      // Thoughts were put into it.  Otherwise, the simple one attribute was an obvious easy choice\r\n      // that everyone would go for it first.\r\n      //\r\n      if (this.model.get('allow_delete') === true && this.model.get('removeable') === true) {\r\n        this.triggerMethod('delete:tab');\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return TabLinkViewExt;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/tab.links.ext.view',['csui/lib/underscore', 'csui/controls/tab.panel/impl/tab.links.view',\r\n  'hbs!csui/controls/tab.panel/impl/tab.links.ext',\r\n  'csui/controls/tab.panel/impl/tab.link.ext.view',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n  'csui/lib/binf/js/binf'\r\n], function (_, TabLinkCollectionView, tabLinksTemplate, TabLinkViewExt,\r\n    ViewEventsPropagationMixin) {\r\n  \"use strict\";\r\n\r\n  var TabLinkCollectionViewExt = TabLinkCollectionView.extend({\r\n\r\n    template: tabLinksTemplate,\r\n    templateHelpers: function () {\r\n      return {\r\n        tab_type: this.options.tabType || 'binf-nav-tabs',\r\n        toolbar: this.options.toolbar ? true : false\r\n      };\r\n    },\r\n\r\n    events: {\r\n      'click .left-toolbar': 'onToolbarClicked',\r\n      'click .right-toolbar': 'onToolbarClicked'\r\n    },\r\n\r\n    childView: TabLinkViewExt,\r\n    childViewContainer: function () {\r\n      return '.tab-links-bar >.' + this.tabType;\r\n    },\r\n    childViewOptions: function (model, index) {\r\n      return _.extend(this.options, {});\r\n    },\r\n\r\n    constructor: function TabLinkCollectionViewExt(options) {\r\n      this.options = options || {};\r\n      TabLinkCollectionView.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this, 'metadata:schema:updated', function (model) {\r\n        // Re-Render model specific tab to reflect model changes - ex: required\r\n        this.children.findByModel(model).render();\r\n      }, this);\r\n    },\r\n\r\n    onToolbarClicked: function (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    },\r\n\r\n    deleteTabById: function (tabId) {\r\n      var ret = false;\r\n      if (tabId === undefined) {\r\n        return ret;\r\n      }\r\n\r\n      var uTabId = tabId.charAt(0) === '#' ? tabId.slice(1) : tabId;\r\n      var model = this.collection.findWhere({uniqueTabId: uTabId});\r\n      if (model) {\r\n        var tabLink = this.children.findByModel(model);\r\n        if (tabLink) {\r\n          tabLink.deleteCurrentTab();\r\n          ret = true;\r\n        }\r\n      }\r\n      return ret;\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(TabLinkCollectionViewExt.prototype, ViewEventsPropagationMixin);\r\n\r\n  return TabLinkCollectionViewExt;\r\n\r\n});\r\n\n","csui.define('csui/controls/tab.panel/behaviors/tab.links.dropdown.keyboard.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log', 'csui/lib/marionette',\r\n  'csui/controls/tab.panel/behaviors/common.keyboard.behavior.mixin'\r\n], function (module, _, $, log, Marionette, KeyboardBehaviorMixin) {\r\n  'use strict';\r\n\r\n  // This behavior implements a default keyboard navigation by tab keys similar to the browser\r\n  // default and is used when the browser default can't be used because of tabable region behavior.\r\n\r\n  var TabLinksDropdownKeyboardBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function TabLinksDropdownKeyboardBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      view.keyboardBehavior = this;\r\n      this.tabableElements = [];\r\n\r\n      var self = this;\r\n      this.listenTo(view, 'refresh:tabable:elements', function (tabPanel) {\r\n        self.refreshTabableElements(view, tabPanel);\r\n      });\r\n\r\n      KeyboardBehaviorMixin.mixin(view);\r\n\r\n      _.extend(view, {\r\n\r\n        onKeyInView: function (event) {\r\n          var ret;\r\n          if (this.keyboardBehavior.tabableElements.length === 0) {\r\n            // don't handle keystrokes at all if no elements were found for keyboard navigation\r\n            return ret;\r\n          }\r\n          if (event.keyCode === 9) {  // tab\r\n            // log.debug('TabLinksDropdownKeyboardBehavior::onKeyInView ' + this.constructor.name)\r\n            // && console.log(log.last);\r\n\r\n            // event.shiftKey: shift tab -> activate previous region\r\n            ret = this._accSetFocusToPreviousOrNextElement(event.shiftKey);\r\n          }\r\n          return ret;\r\n        }\r\n      });\r\n\r\n    }, // constructor\r\n\r\n    refreshTabableElements: function (view, tabPanel) {\r\n      this.tabableElements = view.$el.find('button:not([disabled])').filter(':visible');\r\n      this.view.currentTabPosition = -1;\r\n      setTimeout(function () {\r\n        view._setFirstAndLastFocusable && view._setFirstAndLastFocusable();\r\n      }, 50);\r\n\r\n      // log.debug('TabLinksDropdownKeyboardBehavior::refreshTabableElements ' +\r\n      //           view.constructor.name + ': found ' + this.tabableElements.length + ' tabable' +\r\n      //           ' elements') && console.log(log.last);\r\n    }\r\n\r\n  });\r\n\r\n  return TabLinksDropdownKeyboardBehavior;\r\n\r\n});\r\n\n","csui.define('csui/controls/mixins/global.alert/global.alert.mixin',[], function () {\r\n  'use strict';\r\n  var GlobalAlertMixin = {\r\n    prepareForGlobalAlert: function () {\r\n      this.listenTo(this, 'global.alert.inprogress', this.handleAlertInProgress);\r\n      this.listenTo(this, 'global.alert.completed', this.handleAlertComplete);\r\n    },\r\n\r\n    handleAlertInProgress: function () {\r\n      if (this.currentlyFocusedElement !== this.disableCurrentFocusElementHandler) {\r\n        this.originalCurrentlyFocusedElement = this.currentlyFocusedElement;\r\n      }\r\n      this.currentlyFocusedElement = this.disableCurrentFocusElementHandler;\r\n    },\r\n\r\n    disableCurrentFocusElementHandler: function () {\r\n      // console.log('Disabled current focus for ', this.constructor.name);\r\n    },\r\n\r\n    handleAlertComplete: function () {\r\n      if (this.originalCurrentlyFocusedElement != null) {\r\n        // console.log('Rolling back to original currentlyFocusedElement.', this.constructor.name);\r\n        this.currentlyFocusedElement = this.originalCurrentlyFocusedElement;\r\n        this.originalCurrentlyFocusedElement = undefined;\r\n      }\r\n    }\r\n  };\r\n  return GlobalAlertMixin;\r\n});\n","csui.define('csui/utils/contexts/factories/metadata.factory',['module',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory'\r\n], function (module, _, Backbone, ModelFactory) {\r\n\r\n  var MetadataModel = Backbone.Model.extend({});\r\n\r\n  // MetadataModelFactory\r\n  return ModelFactory.extend({\r\n\r\n    MetadataModelPrefix: 'MetadataModel',\r\n    propertyPrefix: 'MetadataModel',\r\n\r\n    constructor: function PropertiesModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var metadataModel = this.options.MetadataModel || {};\r\n      if (!(metadataModel instanceof Backbone.Model)) {\r\n        var config = module.config();\r\n        metadataModel = new MetadataModel(metadataModel.models, _.extend({},\r\n            metadataModel.options, config.options));\r\n      }\r\n      this.property = metadataModel;\r\n    }\r\n  });\r\n});\r\n\n","csui.define('csui/controls/mixins/view.state/metadata.view.state.mixin',['module', 'csui/lib/underscore', 'csui/lib/marionette',\r\n          'csui/utils/contexts/factories/metadata.factory'\r\n], function (module, _, Marionette, MetadataModelFactory) {\r\n  'use strict';\r\n\r\n  return {\r\n\r\n    getViewStateDropdown: function () {\r\n      return this.context && this.context.viewStateModel.getViewState('dropdown');\r\n    },\r\n\r\n    getDefaultViewStateDropdown: function () {\r\n      return this.context && this.context.viewStateModel.getDefaultViewState('dropdown');\r\n    },\r\n\r\n    setViewStateDropdown: function (value, options) {\r\n      var viewStateModel = this.context && this.context.viewStateModel;\r\n      if (options) {\r\n        if (options.default) {\r\n          viewStateModel.setDefaultViewState('dropdown', value);\r\n        }\r\n        if (options.title) {\r\n          viewStateModel.setViewState('dropdownTitle', options.title);\r\n        }\r\n      }\r\n      return viewStateModel.setViewState('dropdown', value);\r\n    },\r\n\r\n    setViewStateId: function (id, options) {\r\n      var metadataModel = this.context && this.context.getModel(MetadataModelFactory);\r\n      var metadataInfo = _.clone(metadataModel.get('metadata_info'));\r\n      if (metadataInfo) {\r\n        metadataInfo.id = id;\r\n        metadataInfo.model = options.model;\r\n        metadataModel.set('metadata_info', metadataInfo, options);\r\n      }\r\n    },\r\n\r\n    getViewStateId: function (id) {\r\n      var metadataModel = this.context && this.context.getModel(MetadataModelFactory);\r\n      var metadataInfo = _.clone(metadataModel.get('metadata_info'));\r\n      if (metadataInfo) {\r\n        return metadataInfo.id;\r\n      }\r\n    },\r\n\r\n    isMetadataNavigation: function () {\r\n      var metadataModel = this.context && this.context.getModel(MetadataModelFactory);\r\n      if (metadataModel) {\r\n        var metadataInfo = metadataModel.get('metadata_info');\r\n        if (metadataInfo) {\r\n          return metadataInfo.navigator;\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n\r\n    getThumbnailViewState: function () {\r\n      var metadataModel = this.context && this.context.getModel(MetadataModelFactory);\r\n      if (metadataModel) {\r\n        var metadataInfo = metadataModel.get('metadata_info');\r\n        if (metadataInfo) {\r\n          return metadataInfo.isThumbnailView;\r\n        }\r\n      }\r\n    },\r\n\r\n    getViewStateSelectedProperty: function () {\r\n      var metadataModel = this.context && this.context.getModel(MetadataModelFactory);\r\n      if (metadataModel) {\r\n        var metadataInfo = metadataModel.get('metadata_info');\r\n        if (metadataInfo) {\r\n          return metadataInfo.selectedProperty;\r\n        }\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n});\r\n\n","csui.define('csui/controls/mixins/view.state/node.view.state.mixin',['module', 'csui/lib/underscore', 'csui/lib/marionette', 'csui/utils/log'\r\n], function (module, _, Marionette, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  return {\r\n\r\n    getViewStatePage: function () {\r\n      return this._parsePageInfo(this.context.viewStateModel.getViewState('page'));\r\n    },\r\n\r\n    getDefaultViewStatePage: function () {\r\n      return this._parsePageInfo(this.context.viewStateModel.getDefaultViewState('page'));\r\n    },\r\n\r\n    _parsePageInfo: function (page) {\r\n      if (page) {\r\n        page = page.split('_');\r\n        if (page.length > 1) {\r\n          try {\r\n            return {\r\n              top: parseInt(page[0]),\r\n              skip: parseInt(page[1])\r\n            };\r\n          } catch (error) {\r\n            log.error('invalid page info in url.');\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    setViewStatePage: function (top, skip, options) {\r\n      var viewStateModel = this.context.viewStateModel;\r\n      top = top > 50 ? 100 : top;\r\n      if (options && options.default) {\r\n        viewStateModel.setDefaultViewState('page', top + '_' + skip, options);\r\n      }\r\n      return viewStateModel.setViewState('page', top + '_' + skip, options);\r\n    },\r\n\r\n    getViewStateOrderBy: function (uiState) {\r\n      var orderBy = uiState ? uiState.order_by : this.context.viewStateModel.getViewState('order_by');\r\n      return this._formatOrderBy(orderBy);\r\n    },\r\n\r\n    _formatOrderBy: function (orderBy) {\r\n      return orderBy && orderBy.replace(/_desc/g, ' desc').replace(/_asc/g, ' asc');\r\n    },\r\n\r\n    getDefaultViewStateOrderBy: function() {\r\n      var orderBy = this.context.viewStateModel.getDefaultViewState('order_by');\r\n      return this._formatOrderBy(orderBy);\r\n    },\r\n\r\n    setViewStateOrderBy: function (orderBy, options) {\r\n      var viewStateModel = this.context.viewStateModel;\r\n      if (orderBy && orderBy.length) {\r\n        var stateOrderBy = viewStateModel.getViewState('order_by'),\r\n            order_by     = orderBy.join();\r\n        if (order_by !== stateOrderBy) {\r\n          // all ui state params must be saved in the ui state model as a url param ready to be\r\n          // used as a url parameter.\r\n          order_by = order_by.replace(/ /g, '_');\r\n          if (options && options.default) {\r\n            viewStateModel.setDefaultViewState('order_by', order_by, _.omit(options, 'default'));\r\n          }\r\n          return viewStateModel.setViewState('order_by', order_by, options);\r\n        }\r\n      } else {\r\n        return viewStateModel.setViewState('order_by', undefined, options);\r\n      }\r\n    },\r\n\r\n    getViewStateFilter: function () {\r\n      // make sure to decode the filter\r\n      return this.context.viewStateModel.getViewState('filter', true);\r\n    },\r\n\r\n    setViewStateFilter: function (filtersString, options) {\r\n      if (this.getViewStateFilter() !== filtersString) {\r\n        var viewStateModel = this.context.viewStateModel;\r\n        options || (options = {});\r\n        options.encode = true;\r\n        if (options && options.default) {\r\n          viewStateModel.setDefaultViewState('filter', filtersString, options);\r\n        }\r\n        return viewStateModel.setViewState('filter', filtersString, options);\r\n      }\r\n    },\r\n\r\n    getViewStateTabIndex: function () {\r\n      var tabIndex = this.context.viewStateModel.getViewState('tab');\r\n      if (tabIndex) {\r\n          try {\r\n            tabIndex = parseInt(tabIndex);\r\n          } catch (error) {\r\n            log.error('invalid tab info in url.');\r\n          }\r\n      }\r\n      return tabIndex;\r\n    },\r\n\r\n    setViewStateTabIndex: function (tabIndex, options) {\r\n      var viewStateModel = this.context.viewStateModel;\r\n      if (options && options.default) {\r\n        viewStateModel.setDefaultViewState('tab', tabIndex, options);\r\n      }\r\n      return viewStateModel.setViewState('tab', tabIndex, options);\r\n    }\r\n\r\n  };\r\n\r\n});\r\n\n","csui.define('csui/controls/tile/behaviors/blocking.behavior',['csui/lib/underscore', 'csui/lib/marionette',\r\n  'csui/controls/progressblocker/blocker'\r\n], function (_, Marionette, BlockingView) {\r\n  'use strict';\r\n\r\n  var BlockingBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function BlockingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      var blockingParentView = getOption.call(this, 'blockingParentView', options);\r\n      if (blockingParentView) {\r\n        BlockingView.delegate(view, blockingParentView);\r\n      } else {\r\n        BlockingView.imbue(view);\r\n      }\r\n\r\n      if (this.collection) {\r\n        view.listenTo(view.collection, \"request\", view.blockActions)\r\n            .listenTo(view.collection, \"sync\", view.unblockActions)\r\n          // TODO: Find a better workaround for model.destroy relaying request\r\n          // event to the collection but not the sync and error events\r\n            .listenTo(view.collection, \"destroy\", view.unblockActions)\r\n            .listenTo(view.collection, \"error\", view.unblockActions);\r\n      }\r\n      if (view.model) {\r\n        view.listenTo(view.collection, \"request\", view.blockActions)\r\n            .listenTo(view.collection, \"sync\", view.unblockActions)\r\n            .listenTo(view.collection, \"error\", view.unblockActions);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property, options) {\r\n    options = this.options || options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return BlockingBehavior;\r\n\r\n});\r\n\n","csui.define('csui/controls/tile/behaviors/infinite.scrolling.behavior',['require', 'csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/marionette'\r\n], function (require, $, _, Marionette) {\r\n  \"use strict\";\r\n\r\n  var InfiniteScrollingBehavior = Marionette.Behavior.extend({\r\n\r\n    defaults: {\r\n      content: null,\r\n      contentParent: null,\r\n      fetchMoreItemsThreshold: 95\r\n    },\r\n\r\n    constructor: function ScrollingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(view, 'render', this._bindScrollingEvents);\r\n      this.listenTo(view, 'before:destroy', this._unbindScrollingEvents);\r\n    },\r\n\r\n    _bindScrollingEvents: function () {\r\n      var contentParent = getOption.call(this, 'contentParent');\r\n      this._contentParent = contentParent ? this.view.$(contentParent) : this.view.$el;\r\n      this._contentParent.on('scroll.' + this.view.cid, _.bind(this._checkScrollPosition, this));\r\n      var content = getOption.call(this, 'content');\r\n      this._content = content ? this.view.$(content) :\r\n                      contentParent ? this._contentParent.children().first() : this.view.$el;\r\n    },\r\n\r\n    _checkScrollPosition: function () {\r\n      var fetchMoreItemsThreshold = getOption.call(this, 'fetchMoreItemsThreshold');\r\n      var contentH;\r\n      if (this._content.length === 1) {\r\n        contentH = this._content.height();\r\n      } else {\r\n        contentH = _.reduce(this._content, function (sum, el) {return sum + $(el).height()}, 0);\r\n      }\r\n      var scrollableHeight     = contentH - this._contentParent.height(),\r\n          scrollablePercentage = this._contentParent.scrollTop() * 100 / scrollableHeight;\r\n      if (scrollablePercentage >= fetchMoreItemsThreshold) {\r\n        this._checkScrollPositionFetch();\r\n      }\r\n    },\r\n\r\n    _checkScrollPositionFetch: function () {\r\n      var collection = this.view.collection;\r\n      if (collection.length < collection.totalCount && !collection.fetching &&\r\n          collection.skipCount < collection.length) {\r\n        // console.log('fetching from', collection.length);\r\n        var self = this;\r\n        this.view.trigger('before:collection:scroll:fetch');\r\n        collection.setSkip(collection.length, false);\r\n        collection.fetch({\r\n          reset: false,\r\n          remove: false,\r\n          merge: false,\r\n          success: function () {\r\n            self.view.trigger('collection:scroll:fetch');\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    _unbindScrollingEvents: function () {\r\n      if (this._contentParent) {\r\n        this._contentParent.off('scroll.' + this.view.cid);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property) {\r\n    var options = this.options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return InfiniteScrollingBehavior;\r\n\r\n});\r\n\n","csui.define('csui/controls/tile/behaviors/parent.scrollbar.updating.behavior',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior'\r\n], function (_, $, Marionette, PerfectScrollingBehavior) {\r\n  'use strict';\r\n\r\n  var ParentScrollbarUpdatingRegion = Marionette.Region.extend({\r\n\r\n    constructor: function ParentScrollbarUpdatingRegion(options) {\r\n      Marionette.Region.prototype.constructor.apply(this, arguments);\r\n      // Set when before:swapOut is triggered and reset when its finishing\r\n      // counterpart is triggered to optimize the event handlers for view\r\n      // swapping in the region\r\n      this._swapping = false;\r\n      \r\n      // Support scrollbar updates on populating and emptying regions\r\n      this\r\n          .listenTo(this, 'before:swapOut', function () {\r\n            this._swapping = true;\r\n          })\r\n          .listenTo(this, 'swapOut', function () {\r\n            this._swapping = false;\r\n          })\r\n          .listenTo(this, 'show', function () {\r\n            this._requestScrollbarUpdate();\r\n          })\r\n          .listenTo(this, 'empty', function () {\r\n            if (!this._swapping) {\r\n              this._requestScrollbarUpdate();\r\n            }\r\n          });\r\n    },\r\n\r\n    _requestScrollbarUpdate: function () {\r\n      // There is no connection from the current view in the region to the layout\r\n      // view, which could be used for event triggering.  Use DOM event bubbling\r\n      // as a workaround to reach the parent views.\r\n      // {this.region}.{owning region manager}.{owning layout view}\r\n      triggerScrollbarUpdate(this._parent._parent);\r\n    }\r\n\r\n  });\r\n\r\n  var ParentScrollbarUpdatingBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function ParentScrollbarUpdatingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      if (PerfectScrollingBehavior.usePerfectScrollbar()) {\r\n        var updateOnWindowResize = getOption.call(this, 'updateOnWindowResize');\r\n        // Increase when before:render and before:render:collection events\r\n        // are triggered and decrease, when their finishing counterparts are\r\n        // triggered to optimize the event handlers for single view adding\r\n        // or removal\r\n        this._renderState = 0;\r\n        \r\n        this\r\n        // Maintain the rendering state for the events triggered between\r\n        // before:render and render\r\n            .listenTo(view, 'before:render', function () {\r\n              this._renderState = 1;\r\n            })\r\n            .listenTo(view, 'render', function () {\r\n              this._renderState = 0;\r\n              this._requestScrollbarUpdate();\r\n            })\r\n            // Listen to requests for an explicit scrollbar update\r\n            .listenTo(view, 'update:scrollbar', this._requestScrollbarUpdate)\r\n            // Delay listening to the collection events; the collection may\r\n            // not be present in the view or its options yet\r\n            .listenToOnce(view, 'before:render', function () {\r\n              if (updateOnWindowResize) {\r\n                $(window).on('resize.' + view.cid, _.bind(this._updateScrollbar, this));\r\n                this.listenToOnce(view, 'before:destroy', function () {\r\n                  $(window).off('resize.' + view.cid);\r\n                });\r\n              }\r\n              // Support optimized adding and removing child views\r\n              // in CollectionView, which does not call render\r\n              if (view instanceof Marionette.CollectionView && view.collection) {\r\n                this\r\n                    .listenTo(view.collection, 'reset', function () {\r\n                      this._resetTriggered = true;\r\n                    })\r\n                    .listenTo(view, 'before:render:collection', function () {\r\n                      ++this._renderState;\r\n                    })\r\n                    .listenTo(view, 'render:collection', function () {\r\n                      this._resetTriggered = false;\r\n                      --this._renderState;\r\n                      // If the collection was re-rendered after catching the\r\n                      // 'reset' event, single child view updates were skipped\r\n                      if (!this._renderState) {\r\n                        this._requestScrollbarUpdate();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'render:empty', function () {\r\n                      // If the collection was re-rendered after catching the\r\n                      // 'reset' event, no child view updates were performed\r\n                      if (this._resetTriggered || !this._renderState) {\r\n                        this._requestScrollbarUpdate();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'add:child', function () {\r\n                      // If a child view was added alone, otside the 'reset' event\r\n                      // handler and render() method call, request the update\r\n                      if (!this._renderState) {\r\n                        this._requestScrollbarUpdate();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'remove:child', function () {\r\n                      // If a child view was removed alone, otside the 'reset' event\r\n                      // handler and render() method call, request the update\r\n                      if (!this._resetTriggered && !this._renderState) {\r\n                        this._requestScrollbarUpdate();\r\n                      }\r\n                    });\r\n              }\r\n            });\r\n      }\r\n    },\r\n\r\n    _requestScrollbarUpdate: function () {\r\n      // ChildView should proxy all events to its parent with the 'childview:'\r\n      // prefix, but this concept supports only CollectionView.  Use DOM event\r\n      // bubbling as a workaround to reach the parent views.\r\n      triggerScrollbarUpdate(this.view);\r\n    }\r\n\r\n  }, {\r\n\r\n    // Support showing and emptying regions in LayoutView,\r\n    // which does not call render\r\n    Region: ParentScrollbarUpdatingRegion\r\n\r\n  });\r\n\r\n  function triggerScrollbarUpdate(view) {\r\n    // console.log('Updating parent scrollbar requested in',\r\n    //     Object.getPrototypeOf(view).constructor.name);\r\n    $.event.trigger('csui:update:scrollbar', {view: view}, view.el, false);\r\n  }\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property, source) {\r\n    var options = source || this.options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return ParentScrollbarUpdatingBehavior;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/tile/behaviors/impl/searching.behavior',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<form class=\\\"search-box binf-hidden\\\">\\r\\n  <input class=\\\"search\\\" type=\\\"search\\\" placeholder=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.searchPlaceholder || (depth0 != null ? depth0.searchPlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"searchPlaceholder\",\"hash\":{}}) : helper)))\n    + \"\\\" style=\\\"display: none\\\">\\r\\n  <span class=\\\"clearer csui-icon formfield_clear\\\"></span>\\r\\n</form><span class=\\\"icon icon-search\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.searchIconTitle || (depth0 != null ? depth0.searchIconTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"searchIconTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.searchIconAria || (depth0 != null ? depth0.searchIconAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"searchIconAria\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"button\\\"></span>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_tile_behaviors_impl_searching.behavior', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/tile/behaviors/searching.behavior',['csui/lib/underscore', 'csui/lib/marionette',\r\n  'hbs!csui/controls/tile/behaviors/impl/searching.behavior',\r\n  'csui/lib/jquery.ui/js/jquery-ui'\r\n], function (_, Marionette, template) {\r\n  \"use strict\";\r\n\r\n  var SearchingBehavior = Marionette.Behavior.extend({\r\n\r\n    defaults: {\r\n      searchPlaceholder: 'Type to filter',\r\n      headerTitle: '.tile-title',\r\n      searchButton: '.tile-controls'\r\n    },\r\n\r\n    ui: function () {\r\n      var headerTitle = getOption.call(this, 'headerTitle');\r\n      return {\r\n        headerTitle: headerTitle,\r\n        searchBox: '.search-box',\r\n        searchInput: '.search',\r\n        clearer: '.clearer'\r\n      };\r\n    },\r\n\r\n    triggers: {\r\n      'click .icon-search': 'toggle:search'\r\n    },\r\n\r\n    constructor: function SearchingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(view, 'render', this._renderSearchButton);\r\n      this.listenTo(view, 'toggle:search', this._toggleSearching);\r\n    },\r\n\r\n    _renderSearchButton: function () {\r\n      var searchButtonSelector = getOption.call(this, 'searchButton'),\r\n          searchButton         = this.view.$(searchButtonSelector),\r\n          searchPlaceholder    = getOption.call(this, 'searchPlaceholder'),\r\n          iconTitle = getOption.call(this, 'searchIconTitle'),\r\n          searchIconTitle = iconTitle ? iconTitle : 'Search',\r\n          iconAria = getOption.call(this, 'searchIconAria'),\r\n          searchIconAria = iconAria ? iconAria : searchIconTitle,\r\n          data                 = {\r\n            searchPlaceholder: searchPlaceholder,\r\n            searchIconTitle: searchIconTitle,\r\n            searchIconAria: searchIconAria\r\n          };\r\n      searchButton.html(template(data));\r\n      this.view._bindUIElements.call(this);\r\n    },\r\n\r\n    _toggleSearching: function () {\r\n      var self = this;\r\n      this.ui.searchInput.val('');\r\n      this.ui.clearer.toggle(false);\r\n      this.ui.headerTitle.toggle('fade');\r\n      this.ui.searchBox.removeClass('binf-hidden');\r\n      this.ui.searchInput.toggle('blind', {direction: 'right'}, 200, function () {\r\n        if (self.ui.searchInput.is(\":visible\")) {\r\n          self.ui.searchInput.trigger('focus');\r\n        }\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property) {\r\n    var options = this.options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return SearchingBehavior;\r\n\r\n});\r\n\n","/**\r\n * Behaviour applied to draggable item, works along with dnd.container.behaviour.js\r\n */\r\ncsui.define('csui/behaviors/drag.drop/dnd.item.behaviour',['csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/lib/backbone'\r\n], function (_, $, Marionette, Backbone) {\r\n\r\n  var DragAndDropItemBehaviour = Marionette.Behavior.extend({\r\n    constructor: function DragAndDropItemBehaviour(options, view) {\r\n      this.view = view;\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this._registerListeners();\r\n    },\r\n\r\n    _registerListeners: function () {\r\n      this.listenTo(this.view, 'render', this._initDnD);\r\n    },\r\n\r\n    _initDnD: function () {\r\n      this.$el.addClass(DragAndDropItemBehaviour.DRAGGABLE_CLASSNAME);\r\n      this.$el.attr(DragAndDropItemBehaviour.DRAGGABLE_DATA_ATTR, this.view.model.cid);\r\n    }\r\n  }, {\r\n    DRAGGABLE_CLASSNAME: 'csui-draggable-item',\r\n    DRAGGABLE_DATA_ATTR: 'data-csui-draggable-item'\r\n  });\r\n\r\n  return DragAndDropItemBehaviour;\r\n});\n","csui.define('csui/behaviors/drag.drop/dnd.container.behaviour',['require', 'i18n', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/lib/backbone', 'csui/behaviors/drag.drop/dnd.item.behaviour',\r\n  'csui/lib/jquery.ui/js/jquery-ui'\r\n], function (require, i18n, _, $, Marionette, Backbone, DnDItemBehaviour) {\r\n\r\n  var DragAndDropContainerBehaviour = Marionette.Behavior.extend({\r\n\r\n    defaults: {\r\n      placeholder: undefined, // a class or function. Undefined represents close of original element\r\n      handle: undefined, // Restricts sort start click to the specified element.\r\n      draggableItem: '.' + DnDItemBehaviour.DRAGGABLE_CLASSNAME,\r\n      disableDraggable: '.csui-draggable-item-disable',\r\n      over: false,\r\n      receive: false,\r\n      helper: \"original\" // Use original element as drag image\r\n    },\r\n\r\n    constructor: function DragAndDropContainerBehaviour(options, view) {\r\n      this.view = view;\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this.view, 'render', this._initSorting);\r\n    },\r\n\r\n    _getPlaceholder: function (currentItem) {\r\n      var placeholder = this.options.placeholder;\r\n      if (!placeholder || _.isString(placeholder)) {\r\n        var className = placeholder;\r\n        placeholder = function () {\r\n          var nodeName = currentItem[0].nodeName.toLowerCase(),\r\n              element  = $(\"<\" + nodeName + \">\");\r\n\r\n          element.addClass(\"ui-sortable-placeholder\")\r\n              .addClass(className || currentItem[0].className)\r\n              .removeClass(\"ui-sortable-helper\");\r\n          return element;\r\n        };\r\n      }\r\n      return placeholder.call(this, currentItem);\r\n    },\r\n\r\n    _initSorting: function () {\r\n      var self = this;\r\n      this.view.$el.addClass('csui-dnd-container');\r\n      this.$el.sortable({\r\n        items: this.options.draggableItem,\r\n        cancel: this.options.disableDraggable,\r\n        handle: this.options.handle,\r\n        placeholder: {\r\n          element: this._getPlaceholder.bind(this),\r\n          update: function () {}\r\n        },\r\n        helper: this.options.helper,\r\n        start: this._onSortStart.bind(this),\r\n        stop: this._onSortStop.bind(this),\r\n        over: this.options.over,\r\n        out: this.options.out,\r\n        receive: this.options.receive\r\n      });\r\n    },\r\n\r\n    _onSortStart: function (event, ui) {\r\n      this.$el.addClass('csui-drag-start');\r\n      this.options.start && this.options.start(event, ui);\r\n    },\r\n\r\n    /**\r\n     * Update respective Backbone colleciton on DOM changes\r\n     */\r\n    _onSortStop: function (event, ui) {\r\n      this.$el.removeClass('csui-drag-start');\r\n      var dragItemId = ui.item.attr(DnDItemBehaviour.DRAGGABLE_DATA_ATTR);\r\n      var model = this.view.collection.get(dragItemId);\r\n      var modelIndex = this.view.collection.indexOf(model);\r\n      var updatedIndex = this.$el.find('[data-csui-draggable-item=' + dragItemId + ']').index();\r\n      if (modelIndex === updatedIndex) {\r\n        // DOM placement not changes.. no collection update required.\r\n        return;\r\n      }\r\n      this.view.collection.remove(model, {silent: true});\r\n      this.view.collection.add(model, {at: updatedIndex, silent: true});\r\n      // Trigger sort to let CollectionView reorder views according to collection order modifications.\r\n      this.view.collection.trigger('sort');\r\n      this.options.stop && this.options.stop(event, ui);\r\n    }\r\n  });\r\n\r\n  return DragAndDropContainerBehaviour;\r\n});\r\n\n","csui.define('csui/perspectives/impl/nls/lang',{\r\n    // Always load the root bundle for the default locale (en-us)\r\n    \"root\": true,\r\n    // Do not load English locale bundle provided by the root bundle\r\n    \"en-us\": false,\r\n    \"en\": false\r\n  });\r\n  \n","csui.define('csui/perspectives/impl/nls/root/lang',{\r\n  invalidWidgetOptions: 'Some widgets have options that require values before the perspective can be saved. Please click on each of the highlighted widgets and check for any required options that have missing values.',\r\n  invalidWidget: 'Some widgets are not configurable. Please remove these widgets to save.',\r\n  widgetsMigrated: 'Single shortcut widgets were converted to shortcut group widgets.',\r\n  widgetValidationFailed: 'Validation failed for some of the widgets.'\r\n});\n","\n","csui.define(\r\n    'csui/perspectives/mixins/perspective.edit.mixin',['require', 'csui/lib/underscore', 'csui/lib/jquery', \"csui/utils/log\",\r\n      'i18n!csui/perspectives/impl/nls/lang', 'csui/models/node/node.model',\r\n      'csui/models/widget/widget.model',\r\n      'csui/utils/contexts/factories/connector', 'csui/utils/perspective/perspective.util'],\r\n    function (require, _, $, log, lang, NodeModel, WidgetModel, ConnectorFactory, PerspectiveUtil) {\r\n      'use strict';\r\n      /**\r\n       * Mix provides supported functionality required for Perspective Inline Editing\r\n       */\r\n          // used for constant extraction, fields which when specified must be replaced with constants\r\n          // when perspective is transported\r\n      var CONSTANT_FIELD_TYPES = ['otcs_node_picker', 'otconws_workspacetype_id',\r\n            'otcs_user_picker', 'otconws_metadata'];\r\n\r\n      var PerspectiveEditMixin = {\r\n        mixin: function (prototype) {\r\n          return _.extend(prototype, {\r\n\r\n            /**\r\n             * Get prepare for perspective edit. Add required event listeners\r\n             */\r\n            prepareForEditMode: function () {\r\n              this.listenTo(this, 'update:widget:options',\r\n                  function (config) {\r\n                    var widget = config.widgetView.model.get('widget');\r\n                    if (widget.type === 'csui/perspective.manage/widgets/perspective.widget') {\r\n                      widget = widget.options;\r\n                    }\r\n                    widget.options = config.options;\r\n                    config.widgetView.model.set('hasValidOptions', config.isValid, {\r\n                      silent: true\r\n                    });\r\n                  });\r\n            },\r\n\r\n            _notifyAboutWidgetMigrations: function () {\r\n              require([\r\n                'csui/controls/globalmessage/globalmessage'\r\n              ], function (GlobalMessage) {\r\n                // Perspective save success\r\n                GlobalMessage.showMessage(\"info\", lang.widgetsMigrated);\r\n              });\r\n            },\r\n\r\n            /**\r\n             * Loads View and Manifest of the widgets provided\r\n             *\r\n             * @param {Array<{type: \"\"}>} widgets\r\n             */\r\n            _resolveWidgets: function (widgets) {\r\n              var self          = this,\r\n                  deferred      = $.Deferred(),\r\n                  uniqueWidgets = _.chain(widgets)\r\n                      .pluck('type')\r\n                      .unique()\r\n                      .map(function (id) {\r\n                        return {id: id};\r\n                      })\r\n                      .value(),\r\n                  allWidgets    = _.map(uniqueWidgets, function (w) {\r\n                    return self._resolveWidget(w, true);\r\n                  });\r\n\r\n              function resolveDeprecates(widgetModel, widget) {\r\n                if (widgetModel.useInstead) {\r\n                  var migratedView = widgetModel.useInstead.get('view');\r\n                  if (_.isFunction(migratedView.migrateData)) {\r\n                    // Migrate data also to new widget\r\n                    widget.options = migratedView.migrateData(widget.type, widget.options);\r\n                  }\r\n                  widget.type = widgetModel.useInstead.id;\r\n                  widget.view = migratedView;\r\n                  return resolveDeprecates(widgetModel.useInstead, widget);\r\n                }\r\n                return widgetModel;\r\n              }\r\n\r\n              $.whenAll.apply($, allWidgets).always(function (resolvedWidgets) {\r\n                var foundDeprecatedWidgets = false,\r\n                    byId                   = {};\r\n                _.each(uniqueWidgets, function (w, index) {\r\n                  byId[w.id] = resolvedWidgets[index];\r\n                });\r\n\r\n                var result = _.map(widgets, function (widget) {\r\n                  var widgetModel = byId[widget.type];\r\n                  var finalWidget = resolveDeprecates(widgetModel, widget);\r\n                  if (widgetModel !== finalWidget) {\r\n                    // Migrated\r\n                    foundDeprecatedWidgets = true;\r\n                  }\r\n                  return finalWidget;\r\n                });\r\n                if (foundDeprecatedWidgets) {\r\n                  self._notifyAboutWidgetMigrations();\r\n                }\r\n                deferred.resolve(result);\r\n              });\r\n              return deferred;\r\n            },\r\n\r\n            _resolveWidget: function (widget, supressError) {\r\n              var self            = this,\r\n                  deferred        = $.Deferred(),\r\n                  _errorHandler   = function (error) {\r\n                    if (supressError) {\r\n                      deferred.resolve(widgetModel);\r\n                    } else {\r\n                      deferred.reject(error);\r\n                    }\r\n                  },\r\n                  _successHandler = function () {\r\n                    var manifest = widgetModel.get('manifest');\r\n                    if (manifest.deprecated && manifest.useInstead) {\r\n                      widgetModel.deprecated = manifest.deprecated;\r\n                      self._resolveWidget({id: manifest.useInstead}).then(function (userInstead) {\r\n                        widget.view = userInstead.view;\r\n                        widgetModel.useInstead = userInstead;\r\n                        deferred.resolve(widgetModel);\r\n                      }, _errorHandler);\r\n                    } else {\r\n                      widget.view = widgetModel.get('view');\r\n                      deferred.resolve(widgetModel);\r\n                    }\r\n                  };\r\n              var widgetModel = new WidgetModel({id: widget.id || widget.type});\r\n              widgetModel.fetch().then(_successHandler, _errorHandler);\r\n              return deferred.promise();\r\n            },\r\n\r\n            /**\r\n             * Serialize widget options\r\n             */\r\n            serializeWidget: function (model, constantsDataSeed) {//constantsDataSeed: path for constant extraction\r\n              var deferred = $.Deferred();\r\n              var widget = model.get('widget');\r\n              if (widget.type === 'csui/widgets/error') {\r\n                // Error widget indicates, original cannot load / initial widget. Respoective module might be uninstalled later.\r\n                // Hence cannot be configurated. So retain configuration of original widget.\r\n                widget = widget.options.originalWidget;\r\n                // TODO Take care of constant data as it cannot be evaluated now since widget is not available.\r\n                widget = _.pick(widget, 'type', 'kind', 'options',\r\n                    PerspectiveUtil.getExtraWidgetKeys());\r\n                deferred.resolve({\r\n                  widget: widget,\r\n                });\r\n                return deferred.promise();\r\n              }\r\n              if (model.get('hasValidOptions') !== false) {\r\n                // Has valid form options\r\n                var type    = widget.type,\r\n                    options = widget.options;\r\n                delete options.___pman_opencallout;\r\n                if (type === 'csui/perspective.manage/widgets/perspective.widget') {\r\n                  type = options.widget.id;\r\n                  widget.type = type;\r\n                  options = options.options;\r\n                }\r\n                options = PerspectiveEditMixin.removeNullsInObject(options);\r\n                //Fetch widget model for the widget\r\n                this._resolveWidget(widget).done(_.bind(function (widgetModel) {\r\n                  var widgetManifest = widgetModel ? widgetModel.get('manifest') :\r\n                      {},\r\n                      properties     = widgetManifest && widgetManifest.options ?\r\n                                       widgetManifest.options : {};\r\n                  var constantsData = [];\r\n                  this.collectionConstantData(options, properties, constantsData,\r\n                      constantsDataSeed + '/options');\r\n                  widget = _.pick(widget, 'type', 'kind', PerspectiveUtil.getExtraWidgetKeys());\r\n                  widget.options = options;\r\n                  deferred.resolve({\r\n                    widget: widget,\r\n                    constantsData: constantsData\r\n                  });\r\n                }, this)).fail(function (error) {\r\n                  deferred.reject({\r\n                    error: lang.invalidWidget\r\n                  });\r\n                });\r\n              } else {\r\n                // Invalid options form\r\n                deferred.reject({\r\n                  error: lang.invalidWidgetOptions\r\n                });\r\n              }\r\n              return deferred.promise();\r\n            },\r\n\r\n            //Collect attributes if any, which are needed to be replaced with constants\r\n            collectionConstantData: function (data, options, constants, seed) {\r\n              if (_.isEmpty(options)) {\r\n                return;\r\n              }\r\n              if (_.isArray(data)) {\r\n                //data contains items which are to be traversed\r\n                _.each(data, function (value, key) {\r\n                  this.collectionConstantData(value, options.items, constants, seed + '/' + key);\r\n                }, this);\r\n              } else if (_.isObject(data)) {\r\n                //data contains fields which are to be traversed\r\n                _.each(data, function (value, key) {\r\n                  if (!!options.fields && !!options.fields[key]) {\r\n                    this.collectionConstantData(value, options.fields[key], constants,\r\n                        seed + '/' + key);\r\n                  }\r\n                }, this);\r\n              } else if (CONSTANT_FIELD_TYPES.indexOf(options.type) !== -1) {\r\n                //attribute which constant generation\r\n                constants.push({\r\n                  type: options.type,\r\n                  path: seed\r\n                });\r\n              }\r\n            },\r\n\r\n            /**\r\n             * Execute callbacks if any, once for each widget type in current perspective\r\n             */\r\n            executeCallbacks: function (models, perspectiveModel, context) {\r\n              // Avoid executing callbacks in \"Personalize\" mode\r\n              if (this.options.perspectiveMode === PerspectiveUtil.MODE_PERSONALIZE) {\r\n                // Executing callbacks in \"Personalize\" mode is not required \r\n                // since only widget that can be created / configurated in personalize mode is shortcuts \r\n                // which doesn't need to callback execution.\r\n                return $.Deferred().resolve().promise();\r\n              }\r\n              this.perspectiveWidgets = models;\r\n              var deferred = $.Deferred();\r\n              models = _.filter(models, function (config) {\r\n                return config.widget.type !== 'csui/widgets/error';\r\n              });\r\n              this.loadCallbacks(models).then(_.bind(function (widgetsWithCallback) {\r\n                var promises = _.map(widgetsWithCallback,\r\n                    _.bind(function (widgetWithCallback) {\r\n                      return this.initializeWidget(widgetWithCallback, perspectiveModel, context);\r\n                    }, this));\r\n                $.whenAll.apply($, promises)\r\n                    .then(function () {\r\n                      deferred.resolve();\r\n                    }, function (error) {\r\n                      deferred.reject(error);\r\n                    });\r\n              }, this));\r\n              return deferred.promise();\r\n            },\r\n\r\n            loadCallbacks: function (models) {\r\n              var self     = this,\r\n                  deferred = $.Deferred(),\r\n                  promises = _.chain(models)\r\n                      .groupBy(function (model) {\r\n                        return model.widget.type;\r\n                      })\r\n                      .map(function (widgetType) {\r\n                        var deferredEach = $.Deferred();\r\n                        self._resolveWidget(_.pick(widgetType[0].widget, 'type')).done(\r\n                            function (widgetModel) {\r\n                              var widgetManifest = widgetModel ? widgetModel.get('manifest') :\r\n                                                   false,\r\n                                  widgetCallback = widgetManifest ? widgetManifest.callback : false;\r\n                              if (widgetCallback) {\r\n                                require([widgetCallback], function (callback) {\r\n                                  if (callback && _.isFunction(callback)) {\r\n                                    widgetModel.type = widgetModel.id;\r\n                                    deferredEach.resolve(_.extend(widgetModel, new callback()));\r\n                                  } else {\r\n                                    deferredEach.reject();\r\n                                  }\r\n                                }, function (error) {\r\n                                  log.warn('Failed to load callback. {0}', error);\r\n                                  deferredEach.reject(error);\r\n                                });\r\n                              } else {\r\n                                deferredEach.resolve();\r\n                              }\r\n                            }).fail(function () {\r\n                          // Ingore errors here since those were handled while serializing widget. For ex, Error Widget etc.,\r\n                          deferredEach.resolve();\r\n                        });\r\n                        return deferredEach.promise();\r\n                      })\r\n                      .compact()\r\n                      .value();\r\n              $.whenAll.apply($, promises)\r\n                  .then(function (results) {\r\n                    deferred.resolve(_.compact(results));\r\n                  });\r\n              return deferred.promise();\r\n            },\r\n\r\n            initializeWidget: function (widgetWithCallback, perspectiveModel, context) {\r\n              var deferred   = $.Deferred(),\r\n                  widgets    = _.filter(this.perspectiveWidgets, function (widget) {\r\n                    return widget.widget.type === widgetWithCallback.type;\r\n                  }),\r\n                  mode       = perspectiveModel.get('id') ? 'update' :\r\n                               'create',\r\n                  settings   = {\r\n                    priority: parseInt(perspectiveModel.get('priority')) || undefined,\r\n                    title: perspectiveModel.get('title') || '',\r\n                    overrideType: perspectiveModel.get('overrideType'),\r\n                    scope: perspectiveModel.get('scope') || '',\r\n                    containerType: parseInt(perspectiveModel.get('containerType')) ||\r\n                                   undefined,\r\n                    perspectiveParentId: parseInt(perspectiveModel.get('override_id')) ||\r\n                                         parseInt(perspectiveModel.get('perspectivesVolId')) ||\r\n                                         undefined,\r\n                    overrideObjId: parseInt(perspectiveModel.get('node')) || undefined,\r\n                    assetContainerId: perspectiveModel.get('assetContainerId') || undefined\r\n                  },\r\n                  parameters = {\r\n                    mode: mode,\r\n                    widgets: widgets,\r\n                    settings: settings,\r\n                    connector: context.getObject(ConnectorFactory)\r\n                  };\r\n              if (mode == 'update') {\r\n                //TODO implement getPreviousWidgets for all perspectives other than flow perspective\r\n                var previousPerspectiveWidgets = this.getPreviousWidgets &&\r\n                                                 this.getPreviousWidgets(perspectiveModel);\r\n                parameters.previousWidgets = _.filter(previousPerspectiveWidgets,\r\n                    function (widget) {\r\n                      return widget.widget.type === widgetWithCallback.type;\r\n                    });\r\n              }\r\n              var callbackPromise = this.getHiddenWidgetOptions(widgetWithCallback, parameters,\r\n                  perspectiveModel),\r\n                  that            = this;\r\n              $.when(callbackPromise)\r\n                  .done(_.bind(function (responseParameters) {\r\n                    //TODO refactor the execution of retrieving and validating new widget options\r\n                    /*var responseWidgets = (_.has(responseParameters, 'widgets')) ?\r\n                                               responseParameters.widgets : [];\r\n\r\n                        // iterate the returned widgets array to get new options\r\n                        _.each(responseWidgets, _.bind(function (item) {\r\n                          if (_.has(item, 'newOptions') && _.isObject(item.newOptions)) {\r\n                            //TODO refactor with appropriate attributes\r\n                            var existingObjPath = 'perspective' +\r\n                                                  this.convertJSONPointerToPath(item.widgetBaseLocation),\r\n                                existingObj     = this.getDeepProperty(perspectiveModel,\r\n                                    existingObjPath);\r\n\r\n                            // options before changes\r\n                            item.oldOptions = _.deepClone(item.widget.options);\r\n                            // iterate the widget options and remove any bogus properties that have not been defined in the widget's manifest\r\n                            _.each(item.newOptions, function (value, key) {\r\n                              var manifest=widgetWithCallback.get('manifest');\r\n                              if (!_.has(manifest.schema.properties, key) ||\r\n                                  !_.has(manifest.options.fields[key], 'hidden') ||\r\n                                  !manifest.options.fields[key].hidden) {\r\n                                delete(item.newOptions[key]);\r\n                              }\r\n                            });\r\n                            // update the options\r\n                            _.deepExtend(existingObj, item.newOptions);\r\n                          }\r\n                      }, this));*/\r\n                    deferred.resolve();\r\n                  }, this))\r\n                  .fail(function (error) {\r\n                    deferred.reject(error[0] || error);\r\n                  });\r\n              return deferred.promise();\r\n            },\r\n\r\n            getHiddenWidgetOptions: function (widgetWithCallback, parameters, perspectiveModel) {\r\n              var deferredOptions        = $.Deferred(),\r\n                  deferredContainer      = $.Deferred(),\r\n                  widgetPromises         = [],\r\n                  errors                 = [],\r\n                  ensureContainerPromise = deferredContainer.promise(), // note: no response argument - i.e. an empty promise\r\n                  useOverrideContainer   = false;\r\n\r\n              // check that the callback object is valid\r\n              if (!widgetWithCallback || !_.has(widgetWithCallback, 'defineWidgetOptionsCommon') ||\r\n                  !_.has(widgetWithCallback, 'defineWidgetOptionsEach')) {\r\n                deferredOptions.reject();\r\n                return deferredOptions.promise();\r\n              }\r\n\r\n              // the callback should have an ensureContainer() function that returns a promise\r\n              if (_.has(widgetWithCallback, 'ensureContainer') &&\r\n                  _.isFunction(widgetWithCallback.ensureContainer)) {\r\n                // call ensureContainer() function to create a container in the assets volume\r\n                if (widgetWithCallback.ensureContainer(parameters)) {\r\n                  ensureContainerPromise = this.ensureContainer(parameters);\r\n                } else {\r\n                  useOverrideContainer = true;\r\n                }\r\n              } else {\r\n                useOverrideContainer = true;\r\n              }\r\n\r\n              if (useOverrideContainer) {\r\n                // no need to call ensureContainer(), so resolve with an empty promise\r\n                deferredContainer.resolve();\r\n              }\r\n\r\n              $.when(ensureContainerPromise).done(function (response) {\r\n                // when asset container is known to exist\r\n\r\n                if (!_.has(parameters.settings, 'assetContainerId') ||\r\n                    _.isUndefined(parameters.settings.assetContainerId)) {\r\n                  // the assetContainerId is the id of where the asset will be added. e.g. either in the Perspective Assets Volume, or the container that the perspective overrides\r\n                  var id = (response) ? response.id : parameters.settings.overrideObjId, // no response if ensureContainer was an empty promise\r\n                      ac = {assetContainerId: id};\r\n\r\n                  _.extend(parameters.settings, ac); // the containerId is required by the callback\r\n                  perspectiveModel.set(ac);\r\n                }\r\n\r\n                var promiseBefore = widgetWithCallback.defineWidgetOptionsCommon(parameters);\r\n\r\n                // check callback returns something that looks like a promise\r\n                if (!promiseBefore || typeof promiseBefore != 'object' ||\r\n                    !_.has(promiseBefore, 'state')) {\r\n                  // looks like the callback didn't return a promise, so reject the deferred and return from this function immediately\r\n                  deferredOptions.reject();\r\n                  return deferredOptions.promise();\r\n                }\r\n\r\n                // when common options have been processed\r\n                $.when(promiseBefore).done(function (commonOptions) {\r\n                  if (_.has(parameters, 'widgets') && _.isArray(parameters.widgets)) {\r\n\r\n                    _.each(parameters.widgets, function (item, index) {\r\n                      // first add any common option properties\r\n\r\n                      if (!_.has(item, 'newOptions')) {\r\n                        item.newOptions = {};\r\n                      }\r\n\r\n                      _.extend(item.newOptions, commonOptions);\r\n\r\n                      // next apply any widget-specific options\r\n                      widgetPromises.push(widgetWithCallback.defineWidgetOptionsEach(item,\r\n                          parameters));\r\n                      $.when(widgetPromises[index])\r\n                          .done(function (newOptions) {\r\n                            _.extend(item.newOptions, newOptions);\r\n                          })\r\n                          .fail(function (errorMsg) {\r\n                            errors.push(errorMsg); // error returned by user-extended _eachWidgetOptions()\r\n                          });\r\n                    });\r\n\r\n                    // when all widgets have been processed\r\n                    $.when.apply(this, widgetPromises)\r\n                        .done(function () {\r\n                          // all done\r\n                          deferredOptions.resolve(parameters);\r\n                        })\r\n                        .fail(function (errorMsg) {\r\n                          errors.push(errorMsg);\r\n                          deferredOptions.reject(errors); // errors array returned to perspective manager\r\n                        });\r\n                  }\r\n\r\n                })\r\n                    .fail(function (errorMsg) {\r\n                      errors.push(errorMsg); // error returned by user-extended _eachWidgetOptions()\r\n                      deferredOptions.reject(errors);\r\n                    });\r\n              })\r\n                  .fail(function (error) {\r\n                    deferredContainer.reject(error);\r\n                    // Also reject the deferredOptions promise so the error is reported\r\n                    deferredOptions.reject([error]);\r\n                  });\r\n\r\n              return deferredOptions.promise();\r\n            },\r\n\r\n            ensureContainer: function (parameters) {\r\n              // ensures that a container exists for perspective assets created by callbacks.\r\n\r\n              var deferredContainer = $.Deferred();\r\n\r\n              function uniqueId() {\r\n                // using a timestamp alone does not guard against 2 users near-simultaneously attempting to create an asset container with the same name, whereas combination of timestamp and ~16 digit random suffix makes it practically impossible (1 in 1e+32)\r\n                return _.now() + Math.random().toString().substring(2);\r\n              }\r\n\r\n              //TODO: update scenario: need to identify if an assetcontainer exists and what it's ID is (it might not, if e.g. the perspective didn't previously contain a wiki tile)\r\n              if (_.has(parameters.settings, 'assetContainerId') &&\r\n                  !isNaN(parseInt(parameters.settings.assetContainerId))) {\r\n                // assetContainerId already exists, nothing to do\r\n                // this is the case if there are more than one wiki tiles\r\n                deferredContainer.resolve(false);\r\n              } else {\r\n                this.perspectiveAssetsVolume = new NodeModel(\r\n                    {\r\n                      id: 'volume',\r\n                      type: 954\r\n                    },\r\n                    {\r\n                      connector: parameters.connector\r\n                    });\r\n                this.perspectiveAssetsVolume.fetch().then(_.bind(function () {\r\n                  var collectOptions = {\r\n                    url: parameters.connector.connection.url + '/nodes',\r\n                    type: 'POST',\r\n                    data: {\r\n                      type: 955,\r\n                      parent_id: this.perspectiveAssetsVolume.get('id'),\r\n                      name: 'assets_' + uniqueId()\r\n                    },\r\n                    success: function (response) {\r\n                      deferredContainer.resolve(response);\r\n                    },\r\n                    error: function (error) {\r\n                      deferredContainer.reject(error.responseJSON);\r\n                    }\r\n                  };\r\n\r\n                  parameters.connector.makeAjaxCall(collectOptions).done(function (resp) {\r\n                    deferredContainer.resolve(resp);\r\n                  }).fail(function (resp) {\r\n                    deferredContainer.reject(resp);\r\n                  });\r\n                }, this));\r\n              }\r\n\r\n              return deferredContainer.promise();\r\n            },\r\n\r\n            /*convertJSONPointerToPath: function (jpath) {\r\n              // converts JSONPointer path notation to standard JS dotted/bracketed notation\r\n              if (jpath) {\r\n                var path = jpath.split('/');\r\n                path = path.reduce(function (memo, item) {\r\n                  if (Number(item)) {\r\n                    return memo + '[' + item + ']';\r\n                  } else {\r\n                    return memo + '.' + item;\r\n                  }\r\n                });\r\n                return path;\r\n              }\r\n            },\r\n\r\n            getDeepProperty: function (obj, path) {\r\n              // gets properties deep within an object, by passing in a path string 'key' in dotted form e.g. 'foo.bar.thing'\r\n              var keys  = path.replace(/\\[([\"']?)([^\\1]+?)\\1?\\]/g, '.$2').replace(/^\\./,\r\n                      '').split('.'),\r\n                  value = false;\r\n\r\n              for (var i = 0, n = keys.length; i < n; i++) {\r\n                var property = keys[i];\r\n                if (property in obj) {\r\n                  obj = obj[property];\r\n                } else {\r\n                  return;\r\n                }\r\n              }\r\n              return obj;\r\n\r\n            }*/\r\n            getEmptyPlaceholderWidget: function (options) {\r\n              options || (options = this.options);\r\n              return {\r\n                type: PerspectiveUtil.getEmptyPlaceholderWidgetType(options.perspectiveMode),\r\n                className: 'csui-draggable-item-disable',\r\n                __isPlacehoder: true, // To differentiate this from general shortcutgroup widget\r\n                options: {}\r\n              };\r\n            },\r\n\r\n            isEmptyPlaceholder: function (widget) {\r\n              return PerspectiveUtil.isEmptyPlaceholder(widget, this.options.perspectiveMode);\r\n            },\r\n\r\n            /**\r\n             * Validate the existance and uniqueness IDs to widgets.\r\n             * Also generates unique IDs to new widgets.\r\n             *\r\n             * @param {*} widgets\r\n             * @returns {Boolean} True if all widgets are valid, false otherwise.\r\n             */\r\n            validateAndGenerateWidgetId: function (widgets) {\r\n              _.each(widgets, function (w, index) {\r\n                if (!PerspectiveUtil.hasWidgetId(w)) {\r\n                  // No widget Id yet, generate one\r\n                  w[PerspectiveUtil.KEY_WIDGET_ID] = PerspectiveUtil.generateWidgetId(\r\n                      this.options.perspectiveMode) + index;\r\n                }\r\n              }, this);\r\n\r\n              var widgetIds = _.pluck(widgets, PerspectiveUtil.KEY_WIDGET_ID);\r\n              if (widgetIds.length !== _.uniq(widgetIds).length) {\r\n                // Has duplicate Ids\r\n                log.warn('Found duplicate widget IDs: {0}', widgetIds) && console.warn(log.last);\r\n                return false;\r\n              }\r\n              var allWidgetsHasIds = _.every(widgets, PerspectiveUtil.hasWidgetId);\r\n              if (!allWidgetsHasIds) {\r\n                // Few widgets has no widget ID assigned to it\r\n                log.warn('Found widgets with No Ids: {0}', widgets) && console.warn(log.last);\r\n                return false;\r\n              }\r\n              return true;\r\n            }\r\n          });\r\n        },\r\n\r\n        //remove null and undefined objects from options form\r\n        removeNullsInObject: function (obj) {\r\n\r\n          function _checkAndRemove(value, key) {\r\n            if (typeof value === 'object' || _.isArray(value)) {\r\n              PerspectiveEditMixin.removeNullsInObject(value);\r\n            }\r\n            if (_.isNull(value) || _.isUndefined(value) || value.length === 0 ||\r\n                (_.isObject(value) && _.isEmpty(value))) {\r\n              if (_.isArray(obj)) {\r\n                obj.splice(key, 1);\r\n              } else {\r\n                delete obj[key];\r\n              }\r\n            }\r\n          }\r\n\r\n          if (_.isArray(obj)) {\r\n            for (var i = obj.length - 1; i >= 0; i--) {\r\n              _checkAndRemove(obj[i], i);\r\n            }\r\n          } else {\r\n            _.each(obj, _checkAndRemove);\r\n          }\r\n          return obj;\r\n        }\r\n      };\r\n\r\n      return PerspectiveEditMixin;\r\n    });\r\n\n","csui.define('csui/perspectives/flow/impl/nls/lang',{\r\n    // Always load the root bundle for the default locale (en-us)\r\n    \"root\": true,\r\n    // Do not load English locale bundle provided by the root bundle\r\n    \"en-us\": false,\r\n    \"en\": false\r\n  });\r\n  \n","csui.define('csui/perspectives/flow/impl/nls/root/lang',{\r\n    tileLabel: 'Single Width',\r\n    headerLabel: 'Double Width',\r\n    fullpageLabel: 'Full Page'\r\n  });\r\n  \n","\ncsui.define('css!csui/perspectives/impl/perspective',[],function(){});\n","\ncsui.define('css!csui/perspectives/flow/impl/flow.perspective',[],function(){});\n","// Loads widgets and renders them in a single row of grid cells\r\ncsui.define('csui/perspectives/flow/flow.perspective.view',['require', 'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette', 'csui/models/widget/widget.collection',\r\n  'csui/utils/base',\r\n  'csui/controls/grid/grid.view', 'csui/utils/log',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'csui/behaviors/drag.drop/dnd.item.behaviour',\r\n  'csui/behaviors/drag.drop/dnd.container.behaviour',\r\n  'csui/perspectives/mixins/perspective.edit.mixin',\r\n  'csui/utils/perspective/perspective.util',\r\n  'i18n!csui/perspectives/flow/impl/nls/lang',\r\n  'i18n!csui/perspectives/impl/nls/lang',\r\n  'css!csui/perspectives/impl/perspective',\r\n  'css!csui/perspectives/flow/impl/flow.perspective'\r\n], function (require, module, _, $, Backbone, Marionette, WidgetCollection, base, GridView,\r\n    log, WidgetContainerBehavior, DnDItemBehaviour, DnDContainerBehaviour, PerspectiveEditMixin,\r\n    PerspectiveUtil,\r\n    lang, commonLang) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    defaultWidgetKind: 'tile',\r\n    widgetSizes: {\r\n      fullpage: {\r\n        widths: {\r\n          xs: 12\r\n        },\r\n        heights: {\r\n          xs: 'full'\r\n        }\r\n      },\r\n      header: {\r\n        widths: {\r\n          xs: 12,\r\n          md: 8,\r\n          xl: 6\r\n        }\r\n      },\r\n      widetile: {\r\n        widths: {\r\n          xs: 12,\r\n          lg: 6\r\n        }\r\n      },\r\n      tile: {\r\n        widths: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          xl: 3\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  var FlowPerspectiveView = GridView.extend({\r\n\r\n    className: function () {\r\n      var className       = 'cs-perspective cs-flow-perspective grid-rows',\r\n          parentClassName = _.result(GridView.prototype, 'className');\r\n      if (parentClassName) {\r\n        className = className + ' ' + parentClassName;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    cellView: function (model) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        if (!widget.view) {\r\n          throw new Marionette.Error({\r\n            name: 'UnresolvedWidgetError',\r\n            message: 'Widget \"' + widget.type + '\" not resolved:' +\r\n                     widget['error']\r\n          });\r\n        }\r\n        return widget.view;\r\n      }\r\n    },\r\n\r\n    cellViewOptions: function (model, cellView) {\r\n      var widget = model.get('widget');\r\n      var cellOptions = {\r\n        context: this.options.context,\r\n        data: widget && widget.options || {},\r\n        // widgets in the grid should create their own model instead\r\n        // of using the grid cell model\r\n        model: undefined,\r\n        perspectiveMode: this.options.perspectiveMode,\r\n        widgetContainer: cellView\r\n      };\r\n      cellOptions[PerspectiveUtil.KEY_WIDGET_ID] = widget[PerspectiveUtil.KEY_WIDGET_ID];\r\n      return cellOptions;\r\n    },\r\n\r\n    cellConstructionFailed: function (model, error) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        var errorWidget = WidgetContainerBehavior.getErrorWidget(widget, error.message);\r\n        model.set('widget', _.defaults(errorWidget, widget.attributes));\r\n      }\r\n    },\r\n\r\n    constructor: function FlowPerspectiveView(options) {\r\n      options || (options = {});\r\n      options = $.extend(true, {}, options);\r\n      this._preInitialize(options);\r\n      GridView.prototype.constructor.call(this, options);\r\n      this._postInitialize();\r\n    },\r\n\r\n    _preInitialize: function (options) {\r\n      options.widgets || (options.widgets = []);\r\n      if (!!options.perspectiveMode) {\r\n        this._prepareOptionsForEditMode(options);\r\n        this.prepareForEditMode();\r\n      } else {\r\n        options.widgets = _.reject(options.widgets, PerspectiveUtil.isHiddenWidget, this);\r\n      }\r\n      if (!options.collection) {\r\n        var extWidgets = _.chain(config)\r\n            .pick(function (value, key) {\r\n              return key.indexOf('-widgets') >= 0;\r\n            })\r\n            .values()\r\n            .flatten();\r\n\r\n        if (extWidgets && extWidgets._wrapped && extWidgets._wrapped.length > 0) {\r\n          options.widgets = _.filter(options.widgets, function (widget) {\r\n            return _.contains(extWidgets._wrapped, widget.type);\r\n          });\r\n        }\r\n        options.widgets = _.filter(options.widgets, function (widget) {\r\n          return base.filterUnSupportedWidgets(widget, config) != undefined;\r\n        });\r\n\r\n        options.collection = this._createCollection(options);\r\n      }\r\n    },\r\n\r\n    _postInitialize: function () {\r\n      if (!!this.options.perspectiveMode) {\r\n        this._registerEditEvents();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Tasks:\r\n     *  - Add a empty placeholder to the widgets based on `perspectiveMode`\r\n     *  - Enable widget configuration to all cells of the group by adding respective behaviors\r\n     *  - Allow dragging of cells to reorder\r\n     *  - Enable DnD to entire row for re-ordering.\r\n     *\r\n     */\r\n    _prepareOptionsForEditMode: function (options) {\r\n      var self = this;\r\n      // Insert Empty Placeholder widget before hidden widgets\r\n      var firstHiddenIdx = _.findIndex(options.widgets, PerspectiveUtil.isHiddenWidget, this);\r\n      if (firstHiddenIdx === -1) {\r\n        // No Hidden widget, add placeholder to last\r\n        firstHiddenIdx = options.widgets.length;\r\n      }\r\n      options.widgets.splice(firstHiddenIdx, 0, this.getEmptyPlaceholderWidget(options));\r\n\r\n      options.cellBehaviours = {\r\n        PerspectiveWidgetConfig: { // For widget editing\r\n          behaviorClass: require(\r\n              'csui/perspective.manage/behaviours/pman.widget.config.behaviour'),\r\n          perspectiveView: this,\r\n          perspectiveMode: options.perspectiveMode\r\n        },\r\n        DnDItemBehaviour: { // For DnD widget\r\n          behaviorClass: DnDItemBehaviour\r\n        }\r\n      };\r\n\r\n      this._createDnDPlaceholderWidget();\r\n\r\n      function addCell(widgetConfig, index) {\r\n        var newCell = self._prepareGridCell(widgetConfig, index);\r\n        var cells = self.collection.at(0).columns;\r\n        cells.add(newCell, {at: index});\r\n        self.options.context.fetch();\r\n      }\r\n\r\n      options.reorderOnSort = true; // To let reorder views on collection reorder (DnD reorder)\r\n      options.rowBehaviours = {\r\n        DnDContainerBehaviour: {\r\n          behaviorClass: DnDContainerBehaviour,\r\n          placeholder: this._getDnDPlaceholder.bind(this),\r\n          handle: '.csui-pman-widget-masking', // Limit re-ordering to mask (avoids callout popover),\r\n          helper: 'clone', // Use clone of the original element as drag image to preserve styles of original element as it is.\r\n          start: function (event, ui) {\r\n            //hiding popover on drag start\r\n            var popoverTarget = self.$el.find(\".binf-popover\");\r\n            if (popoverTarget.length) {\r\n              popoverTarget.removeClass(\"pman-ms-popover\");\r\n              popoverTarget.hide();\r\n              popoverTarget.binf_popover('destroy');\r\n            }\r\n          },\r\n          over: _.bind(function (event, ui) {\r\n            var placeholderWidget = this._getDnDPlaceholder(ui.helper);\r\n            var placeholder = ui.placeholder;\r\n            placeholder.show();\r\n            // Update DnD placeholder with widget styles\r\n            placeholder.attr('class', placeholderWidget.attr('class'));\r\n            placeholder.html(placeholderWidget.html());\r\n            placeholder.css('visibility', 'visible');\r\n            // FIXME: Remove transfer data to placeholder. Instead set data to ui.item\r\n            placeholder.data('pman.widget', ui.helper.data('pman.widget'));\r\n            placeholder.removeData('isBeyondLayout');\r\n            if (!!ui.helper.data('pman.widget')) { // \"pman.widget\" is not available when reorder within flow\r\n              // Preload widget's view which is going to be drop to get ready with manifest etc., to avoid delay in placing widget immeditly on drop\r\n              this._resolveWidget({\r\n                type: ui.helper.data('pman.widget').id\r\n              }).done(\r\n                  function (resolvedWidget) {\r\n                    placeholder.data('pman.widget.view', resolvedWidget);\r\n                  });\r\n            }\r\n          }, this),\r\n          out: function (event, ui) {\r\n            ui.placeholder.hide();\r\n            ui.placeholder.data('isBeyondLayout', true);\r\n          },\r\n          receive: _.bind(function (event, ui) {\r\n            if (ui.placeholder.data('isBeyondLayout') === true ||\r\n                !ui.placeholder.data(\"pman.widget.view\")) {\r\n              // Dropped outside the placeholder.\r\n              ui.sender.sortable(\"cancel\");\r\n              return;\r\n            }\r\n            if (ui.position.top > 0) {\r\n              var newWidget = ui.placeholder.data('pman.widget'),\r\n                  index     = ui.item.index(), // this.$el.find('.binf-row >div').index(ui.item);\r\n                  manifest  = newWidget.get('manifest');\r\n\r\n              var widget,\r\n                  preloadedWidgetView = ui.placeholder.data(\"pman.widget.view\");\r\n              if (PerspectiveUtil.isEligibleForLiveWidget(manifest)) {\r\n                widget = {\r\n                  type: newWidget.id,\r\n                  kind: manifest.kind,\r\n                  view: preloadedWidgetView.get('view')\r\n                };\r\n              } else {\r\n                widget = {\r\n                  type: 'csui/perspective.manage/widgets/perspective.widget',\r\n                  kind: manifest.kind,\r\n                  options: {\r\n                    options: {}, // To be used and filled by callout form\r\n                    widget: newWidget\r\n                  },\r\n                  view: (preloadedWidgetView = this.pespectiveWidgetView)\r\n                };\r\n              }\r\n              widget.options = _.extend({___pman_isdropped: true}, widget.options);\r\n\r\n              if (!preloadedWidgetView) {\r\n                // Widget's view is not loaded yet, load view to attach new cell\r\n                this._resolveWidget(widget).done(function (resolvedWidget) {\r\n                  addCell(widget, index);\r\n                });\r\n              } else {\r\n                // Widget's view preloaded on, ready to attach the cell.\r\n                addCell(widget, index);\r\n              }\r\n            }\r\n            // Move Placeholder widget to last\r\n            this._ensurePlaceholder();\r\n\r\n            // Cancel sort event since placing widget manually here.\r\n            ui.sender.sortable(\"cancel\");\r\n          }, this),\r\n          stop: _.bind(function () {\r\n            this._ensurePlaceholder();\r\n          }, this)\r\n        }\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Make sure placeholder exist, and at right position based on perspectiveMode.\r\n     * If `edit` - placeholder must be at the end.\r\n     * If `personalization` - placeholder must be between enabled and hidden widgets.\r\n     *\r\n     */\r\n    _ensurePlaceholder: function () {\r\n      var cells = this.collection.at(0).columns,\r\n          self  = this;\r\n      var placeholderCell = cells.find(function (cell) {\r\n        return this.isEmptyPlaceholder(cell.get(\"widget\"));\r\n      }, this);\r\n      if (!placeholderCell) {\r\n        // No placeholder. Hence create a new one\r\n        var placeholderWidget = this.getEmptyPlaceholderWidget();\r\n        this._resolveWidget(placeholderWidget).done(function (resolvedWidget) {\r\n          var newCell = self._createCell(placeholderWidget, resolvedWidget, cells.length);\r\n          var position = self._getPlaceholderIdealIndex();\r\n          cells.add(newCell, {at: position + 1});\r\n        });\r\n      } else {\r\n        // Placeholder exist, check if it is at the right position.\r\n        var currentIndex = cells.indexOf(placeholderCell),\r\n            idealIndex   = this._getPlaceholderIdealIndex(currentIndex);\r\n        if (currentIndex !== idealIndex) {\r\n          cells.remove(placeholderCell);\r\n          cells.add(placeholderCell, {at: idealIndex});\r\n        }\r\n      }\r\n    },\r\n\r\n    _getPlaceholderIdealIndex: function (currentPlaceIndex) {\r\n      var cells    = this.collection.at(0).columns,\r\n          position = cells.length;\r\n      currentPlaceIndex = currentPlaceIndex || -1;\r\n      switch (this.options.perspectiveMode) {\r\n      case PerspectiveUtil.MODE_PERSONALIZE:\r\n        // Keep the placeholder widget after last active element.\r\n        while (position-- > currentPlaceIndex) {\r\n          if (!PerspectiveUtil.isHiddenWidget(cells.at(position).get('widget'))) {\r\n            break;\r\n          }\r\n        }\r\n        return position;\r\n      case PerspectiveUtil.MODE_EDIT_PERSPECTIVE:\r\n        return position - 1;\r\n      default:\r\n        return currentPlaceIndex;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Create a empty placeholder widget to be used to show as DnD watermark placeholder\r\n     */\r\n    _createDnDPlaceholderWidget: function () {\r\n      var self              = this,\r\n          placeholderWidget = {\r\n            type: 'csui/perspective.manage/widgets/perspective.placeholder',\r\n          };\r\n      this._resolveWidget(placeholderWidget).done(function (resolvedWidget) {\r\n        var cellOptions = self._createCell(placeholderWidget, resolvedWidget, 0);\r\n        cellOptions.className = \"pman-dnd-hover-placeholder\";\r\n        self.dndPlaceholderCell = new GridView.CellView({\r\n          grid: self,\r\n          model: new Backbone.Model(cellOptions)\r\n        });\r\n        self.dndPlaceholderCell.render();\r\n      });\r\n\r\n      this._resolveWidget({\r\n        type: 'csui/perspective.manage/widgets/perspective.widget'\r\n      }).done(function (resolvedWidget) {\r\n        self.pespectiveWidgetView = resolvedWidget.get('view');\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Prepare placeholder watermark for widget currently dropping\r\n     */\r\n    _getDnDPlaceholder: function (dragEl) {\r\n      var widget = dragEl.data('pman.widget');\r\n      if (!!widget) {\r\n        var kind = widget.attributes.manifest.kind;\r\n        if (!kind) {\r\n          kind = config.defaultWidgetKind;\r\n        }\r\n        var sizes = config.widgetSizes[kind];\r\n        // Update watermark widget with current droping widget sizes\r\n        this.dndPlaceholderCell.model.set({\r\n          sizes: sizes.widths,\r\n          heights: sizes.heights\r\n        });\r\n      }\r\n      return this.dndPlaceholderCell.$el;\r\n    },\r\n\r\n    _registerEditEvents: function () {\r\n      var self = this;\r\n      this.listenTo(this, 'delete:widget', function (widgetView) {\r\n        var cells = self.collection.at(0).columns;\r\n        var model = widgetView.model;\r\n        cells.remove(model);\r\n      });\r\n\r\n      this.listenTo(this, 'update:widget:size', function (widgetView, kind) {\r\n        var sizes  = config.widgetSizes[kind],\r\n            widget = widgetView.model.get('widget');\r\n        widget.kind = kind;\r\n        widgetView.model.set({\r\n          sizes: sizes.widths,\r\n          heights: sizes.heights,\r\n          widget: widget\r\n        });\r\n      });\r\n\r\n      this.listenTo(this, 'replace:widget', this._replaceWidget);\r\n      this.listenTo(this, 'hide:widget show:widget', function (cell) {\r\n        this._ensurePlaceholder();\r\n      });\r\n      if (this.options.perspectiveMode === PerspectiveUtil.MODE_PERSONALIZE) {\r\n        // Since shortcut group is being used as placeholder, \r\n        // a new empty placeholder (shortcuts) needs to be created on configurating it.\r\n        // Hence, listen to options update, if shortcut group which is acting as placeholder is update, \r\n        // Create a new shortcut group to act as placeholder widget.\r\n        this.listenTo(this, 'update:widget:options', function (config) {\r\n          var cell   = config.widgetView,\r\n              widget = cell.model.get('widget');\r\n          if (this.isEmptyPlaceholder(widget)) {\r\n            delete widget.__isPlacehoder;\r\n            // Remove \"drag disabling\" to this shortcut can now be reorderable\r\n            cell.model.unset('className', {silent: true});\r\n            cell.$el.removeClass('csui-draggable-item-disable');\r\n            this._ensurePlaceholder();\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    _replaceWidget: function (currentWidget, widgetToReplace) {\r\n      if (!this.getPManPlaceholderWidget) {\r\n        // 'getPManPlaceholderWidget' Provided by pman.config.behaviour\r\n        return;\r\n      }\r\n      var self = this;\r\n      var cells = this.collection.at(0).columns;\r\n      // Load new widget\r\n      this._resolveWidget(widgetToReplace).done(function () {\r\n        // Replace current widget with new widget\r\n        if (!self.isEmptyPlaceholder(currentWidget.model.get('widget'))) {\r\n          // Preserve widget kind if dropping on existing widget\r\n          widgetToReplace.kind = currentWidget.model.get('widget').kind;\r\n        }\r\n        var widgetUpdates = self._prepareGridCell(widgetToReplace,\r\n            cells.indexOf(currentWidget.model));\r\n        self.options.context.clear();\r\n        currentWidget.model.set(widgetUpdates);\r\n        self.options.context.fetch();\r\n        // Check if has any placeholders, otherwise add new placeholder widget\r\n        self._ensurePlaceholder();\r\n      });\r\n    },\r\n\r\n    _createCollection: function (options) {\r\n      var self = this,\r\n          rows = new Backbone.Collection();\r\n\r\n      if (!!options.perspectiveMode) {\r\n        this.widgetsResolved = this._resolveWidgets(options.widgets)\r\n            .always(function (resolvedWidgets) {\r\n              var firstRow = rows.add({});\r\n              var columns = _.map(options.widgets, function (widget, index) {\r\n                return self._createCell(widget, resolvedWidgets[index], index);\r\n              });\r\n              firstRow.columns = new Backbone.Collection(columns);\r\n              return resolvedWidgets;\r\n            });\r\n      } else {\r\n        var uniqueWidgets = _.chain(options.widgets)\r\n            .pluck('type')\r\n            .unique()\r\n            .map(function (id) {\r\n              return {id: id};\r\n            })\r\n            .value();\r\n        var resolvedWidgets = new WidgetCollection(uniqueWidgets);\r\n        this.widgetsResolved = resolvedWidgets\r\n            .fetch()\r\n            .then(function () {\r\n              var firstRow = rows.add({});\r\n              firstRow.columns = self._createColumns(options.widgets, resolvedWidgets);\r\n              return resolvedWidgets;\r\n            });\r\n      }\r\n      return rows;\r\n    },\r\n\r\n    _createColumns: function (widgets, resolvedWidgets) {\r\n      var columns = _.map(widgets, function (widget, columnIndex) {\r\n        var resolvedWidget = resolvedWidgets.get(widget.type);\r\n        return this._createCell(widget, resolvedWidget, columnIndex);\r\n      }.bind(this));\r\n      return new Backbone.Collection(columns);\r\n    },\r\n\r\n    _prepareGridCell: function (widgetConfig, columnIndex) {\r\n      var kind = widgetConfig.kind;\r\n      if (!kind) {\r\n        kind = config.defaultWidgetKind;\r\n      }\r\n      var sizes = config.widgetSizes[kind];\r\n      return {\r\n        sizes: sizes.widths,\r\n        heights: sizes.heights,\r\n        className: widgetConfig.className,\r\n        widget: _.defaults({kind: kind, cellAddress: 'grid0:r0:c' + columnIndex}, widgetConfig)\r\n      };\r\n    },\r\n\r\n    _createCell: function (widget, resolvedWidget, columnIndex) {\r\n      var widgetView     = resolvedWidget.get('view'),\r\n          manifest       = resolvedWidget.get('manifest') || {},\r\n          supportedKinds = manifest.supportedKinds,\r\n          kind           = widget.kind;\r\n      if (!kind || !supportedKinds || !_.contains(supportedKinds, kind)) {\r\n        kind = manifest.kind;\r\n      }\r\n      widget.kind = kind;\r\n      if (widgetView) {\r\n        widget.view = widgetView;\r\n        return this._prepareGridCell(widget, columnIndex);\r\n      }\r\n      var error = resolvedWidget.get('error');\r\n      log.warn('Loading widget \"{0}\" failed. {1}', widget.type, error)\r\n      && console.warn(log.last);\r\n      var sizes = config.widgetSizes[config.defaultWidgetKind];\r\n      return {\r\n        sizes: sizes.widths,\r\n        heights: sizes.heights,\r\n        widget: WidgetContainerBehavior.getErrorWidget(widget, error)\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Returns supported widgets sizes(kinds) for given widget\r\n     */\r\n    getSupportedWidgetSizes: function (manifest, widget) {\r\n      return _.map(manifest.supportedKinds, function (suppKind) {\r\n        return {\r\n          kind: suppKind,\r\n          label: lang[suppKind + 'Label'],\r\n          selected: widget.model.get('widget').kind === suppKind\r\n        };\r\n      });\r\n    },\r\n\r\n    serializePerspective: function (perspectiveModel) {\r\n      var self         = this,\r\n          deferred     = $.Deferred(),\r\n          cells        = this.collection.at(0).columns,\r\n          widgetModels = cells.filter(function (cell) {\r\n            return !this.isEmptyPlaceholder(cell.get('widget'));\r\n          }, this);\r\n\r\n      var widgetPromises = widgetModels.map(function (widget, index) {\r\n        return self.serializeWidget(widget, '/options/widgets/' + index);\r\n      });\r\n      $.whenAll.apply($, widgetPromises).done(function (results) {\r\n        self.executeCallbacks(results, perspectiveModel, self.options.context).done(function () {\r\n          var widgets           = _.pluck(results, 'widget'),\r\n              constant_data     = _.flatten(_.pluck(results, 'constantsData')),\r\n              perspectiveResult = {\r\n                perspective: {\r\n                  type: 'flow',\r\n                  options: {widgets: widgets}\r\n                },\r\n                constant_data: constant_data,\r\n                constant_extraction_mode: 1\r\n              };\r\n          var isAllWidgetsValid = self.validateAndGenerateWidgetId(widgets);\r\n          if (!isAllWidgetsValid) {\r\n            deferred.reject(commonLang.widgetValidationFailed);\r\n          } else {\r\n            deferred.resolve(perspectiveResult);\r\n          }\r\n        }).fail(function (results) {\r\n          // TODO Group errors\r\n          results = _.filter(results, function (result) {return !!result.error});\r\n          deferred.reject(results[0].error);\r\n        });\r\n      }, this).fail(function (results) {\r\n        // TODO Group errors\r\n        results = _.filter(results, function (result) {return !!result.error});\r\n        deferred.reject(results[0].error);\r\n      });\r\n      return deferred.promise();\r\n    },\r\n\r\n    getPreviousWidgets: function (perspectiveModel) {\r\n      var perspective     = perspectiveModel.getPerspective(),\r\n          previousWidgets = perspective &&\r\n                            perspective.options ?\r\n                            perspective.options.widgets :\r\n              {};\r\n      previousWidgets = _.map(previousWidgets, function (widget) {\r\n        return {widget: widget};\r\n      });\r\n      return previousWidgets;\r\n    },\r\n\r\n    _supportMaximizeWidget: true,\r\n\r\n    _supportMaximizeWidgetOnDisplay: true\r\n\r\n  });\r\n\r\n  // TODO add mixin dynamically for edit mode only\r\n  PerspectiveEditMixin.mixin(FlowPerspectiveView.prototype);\r\n  return FlowPerspectiveView;\r\n\r\n});\r\n\n","// Loads widgets and renders them in a grid\r\ncsui.define('csui/perspectives/grid/grid.perspective.view',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/utils/base',\r\n  'csui/controls/grid/grid.view',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'css!csui/perspectives/impl/perspective'\r\n], function (module, _, $, Marionette,\r\n    base,\r\n    GridView,\r\n    WidgetContainerBehavior) {\r\n\r\n  var config = module.config();\r\n\r\n  var GridPerspectiveView = GridView.extend({\r\n\r\n    className: function () {\r\n      var className       = 'cs-perspective cs-grid-perspective grid-rows',\r\n          parentClassName = _.result(GridView.prototype, 'className');\r\n      if (parentClassName) {\r\n        className = className + ' ' + parentClassName;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    cellView: function (model) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        var view = widget.view;\r\n        if (!view) {\r\n          throw new Marionette.Error({\r\n            name: 'UnresolvedWidgetError',\r\n            message: 'Widget \"' + widget.type + '\" not resolved: ' +\r\n                     widget.error\r\n          });\r\n        }\r\n        return view;\r\n      }\r\n    },\r\n\r\n    cellViewOptions: function (model) {\r\n      var widget = model.get('widget');\r\n      return {\r\n        context: this.options.context,\r\n        data: widget && widget.options || {},\r\n        // widgets in the grid should create their own model instead\r\n        // of using the grid cell model\r\n        model: undefined\r\n      };\r\n    },\r\n\r\n    behaviors: {\r\n      WidgetContainer: {\r\n        behaviorClass: WidgetContainerBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function GridPerspectiveView(options) {\r\n      options || (options = {});\r\n      options = $.extend(true, {}, options);\r\n      var rows = options.rows;\r\n      if (rows && rows.length > 0 && config.supportedWidgets) {\r\n        var columns = rows[0].columns;\r\n        rows[0].columns = _.filter(columns, function (column) {\r\n          return _.contains(config.supportedWidgets, column.widget.type);\r\n        });\r\n\r\n        if (columns.length > 1 && config.widgetSizes) {\r\n          _.each(columns, function (column) {\r\n            column.sizes = config.widgetSizes;\r\n            column.heights = {};\r\n          });\r\n        }\r\n      }\r\n\r\n      _.each(rows, function (row) {\r\n        row.columns = _.filter(row.columns, function (column) {\r\n          return base.filterUnSupportedWidgets(column.widget, config) != undefined;\r\n        });\r\n      });\r\n\r\n      GridView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    enumerateWidgets: function (callback) {\r\n      this._enumerateWidgetRow(this.options.collection, callback);\r\n    },\r\n\r\n    _enumerateWidgetRow: function (rows, callback) {\r\n      rows.each(function (row) {\r\n        row.columns.each(function (column) {\r\n          var widget = column.get('widget');\r\n          widget && callback(widget);\r\n          if (column.rows) {\r\n            this._enumerateWidgetRow(column.rows, callback);\r\n          }\r\n        }, this);\r\n      }, this);\r\n    },\r\n\r\n    _supportMaximizeWidget: true,\r\n\r\n    _supportMaximizeWidgetOnDisplay: true\r\n\r\n  });\r\n\r\n  return GridPerspectiveView;\r\n\r\n});\r\n\n","\ncsui.define('css!csui/perspectives/zone/impl/zone.perspective',[],function(){});\n","// Base for perspectives placing widgets to named grid cells - zones\r\ncsui.define('csui/perspectives/zone/zone.perspective.view',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette', 'csui/utils/base', 'csui/controls/grid/grid.view',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'csui/perspectives/mixins/perspective.edit.mixin',\r\n  'css!csui/perspectives/impl/perspective',\r\n  'css!csui/perspectives/zone/impl/zone.perspective'\r\n], function (module, _, $, Backbone, Marionette, base, GridView, WidgetContainerBehavior,\r\n    PerspectiveEditMixin) {\r\n\r\n  var config = module.config();\r\n\r\n  var ZonePerspectiveView = GridView.extend({\r\n\r\n    className: function () {\r\n      var className       = 'cs-perspective cs-zone-perspective grid-rows ',\r\n          parentClassName = _.result(GridView.prototype, 'className');\r\n      if (parentClassName) {\r\n        className = className + parentClassName;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    cellView: function (model) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        var view = widget.view;\r\n        if (!view) {\r\n          throw new Marionette.Error({\r\n            name: 'UnresolvedWidgetError',\r\n            message: 'Widget \"' + widget.type + '\" not resolved: ' +\r\n                     widget.error\r\n          });\r\n        }\r\n        return view;\r\n      }\r\n    },\r\n\r\n    cellViewOptions: function (model, cellView) {\r\n      var widget = model.get('widget');\r\n      return {\r\n        context: this.options.context,\r\n        data: widget && widget.options || {},\r\n        // widgets in the grid should create their own model instead\r\n        // of using the grid cell model\r\n        model: undefined,\r\n        perspectiveMode: this.options.perspectiveMode,\r\n        widgetContainer: cellView\r\n      };\r\n    },\r\n\r\n    cellConstructionFailed: function (model, error) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        var errorWidget = WidgetContainerBehavior.getErrorWidget(widget, error.message);\r\n        model.set('widget', _.defaults(errorWidget, widget.attributes));\r\n      }\r\n    },\r\n\r\n    behaviors: {\r\n      WidgetContainer: {\r\n        behaviorClass: WidgetContainerBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function ZonePerspectiveView(options) {\r\n      options || (options = {});\r\n      options = $.extend(true, {}, options);\r\n      if (!options.collection) {\r\n        options.collection = this._createCollection(options);\r\n      }\r\n      options.collection.each(function (row, rowIndex) {\r\n        row.columns.each(function (column, colIndex) {\r\n          column.get('widget').cellAddress = 'grid0:r' + rowIndex + ':c' + colIndex;\r\n        });\r\n      });\r\n      if (options.perspectiveMode === 'edit') {\r\n        this.prepareForEditMode();\r\n      }\r\n      GridView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    _createCollection: function (options) {\r\n      var rows      = new Backbone.Collection(),\r\n          zoneNames = getOption.call(this, 'zoneNames');\r\n      _.extend(config, {'unSupportedWidgets': getOption.call(this, 'unSupportedWidgets')});\r\n      _.mapObject(options, function (val, key) {\r\n        if (_.contains(zoneNames, key)) {\r\n          if (!base.filterUnSupportedWidgets(val, config)) {\r\n            options[key] = undefined;\r\n          }\r\n        }\r\n      });\r\n\r\n      var layoutName = this._getLayoutName(options);\r\n\r\n      if (layoutName) {\r\n        var zoneLayouts = getOption.call(this, 'zoneLayouts'),\r\n            zoneLayout  = zoneLayouts[layoutName];\r\n        if (zoneLayout) {\r\n          var row     = rows.add({}),\r\n              columns = _.map(zoneLayout.zoneOrder, function (zone) {\r\n                var zoneConfig = _.defaults({\r\n                  widget: options[zone]\r\n                }, zoneLayout.zoneSizes[zone]);\r\n                if (options[zone].className) {\r\n                  zoneConfig.className = (zoneConfig.className || '') + ' ' + options[zone].className;\r\n                }\r\n                return zoneConfig;\r\n              });\r\n\r\n          row.columns = new Backbone.Collection(columns);\r\n        } else {\r\n          throw new Marionette.Error({\r\n            name: 'InvalidLayoutContentError',\r\n            message: 'Missing widget in the important perspective zone'\r\n          });\r\n        }\r\n      }\r\n      return rows;\r\n    },\r\n\r\n    /**\r\n     * Calculates and returns layout to use based on the options configured\r\n     */\r\n    _getLayoutName: function (options) {\r\n      var zoneNames = getOption.call(this, 'zoneNames');\r\n      return _.reduce(zoneNames, function (result, zone) {\r\n        if (options[zone] && !_.isEmpty(options[zone])) {\r\n          result && (result += '-');\r\n          result += zone;\r\n        }\r\n        return result;\r\n      }, '');\r\n    },\r\n\r\n    enumerateWidgets: function (callback) {\r\n      var zoneNames = getOption.call(this, 'zoneNames'),\r\n          widgets   = _.compact(_.map(zoneNames, function (zone) {\r\n            var zoneContent = this.options[zone];\r\n            return !_.isEmpty(zoneContent) && zoneContent;\r\n          }, this));\r\n\r\n      if (this.options.perspectiveMode === 'edit') {\r\n        var deferreds = _.map(widgets, function () {\r\n          var deferred = $.Deferred();\r\n          callback(deferred);\r\n          return deferred;\r\n        });\r\n        this._resolveWidgets(widgets).then(function (widgetModel) {\r\n          _.each(widgets, function (widget, index) {\r\n            deferreds[index].resolve(widget);\r\n          });\r\n        });\r\n      } else {\r\n        _.each(widgets, callback, this);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Serilize Zone options to save\r\n     */\r\n    serializeOptions: function (perspectiveModel) {\r\n      var self        = this,\r\n          deferred    = $.Deferred(),\r\n          layoutName  = this._getLayoutName(this.options),\r\n          zoneLayouts = getOption.call(this, 'zoneLayouts'),\r\n          zoneLayout  = zoneLayouts[layoutName],\r\n          cells       = this.collection.at(0).columns;\r\n      var widgetPromises = _.map(zoneLayout.zoneOrder, function (zone, index) {\r\n        if (cells.at(index).get('widget').type ===\r\n            'csui/perspective.manage/widgets/perspective.placeholder') {\r\n          // Placeholder, no widget placed on this zone. Hence empty options\r\n          return $.Deferred().resolve({\r\n            zone: zone,\r\n            config: {widget: {}}\r\n          });\r\n        }\r\n        // Resolve and Serialize widget options\r\n        return self.serializeWidget(cells.at(index), '/options/' + zone).then(function (result) {\r\n          return {\r\n            zone: zone,\r\n            config: result\r\n          };\r\n        });\r\n      });\r\n\r\n      $.whenAll.apply($, widgetPromises).done(function (results) {\r\n        var widgets = _.map(_.filter(results, function (layout) {\r\n          return layout.config && layout.config.widget && !_.isEmpty(layout.config.widget);\r\n        }), function (layout) {\r\n          return layout.config;\r\n        });\r\n        self.executeCallbacks(widgets, perspectiveModel, self.options.context).done(function () {\r\n          // Resolve promise with options\r\n          deferred.resolve(results);\r\n        }).fail(function (results) {\r\n          results = _.filter(results, function (result) {return !!result.error});\r\n          deferred.reject(results[0].error);\r\n        });\r\n      }).fail(function (results) {\r\n        results = _.filter(results, function (result) {return !!result.error});\r\n        deferred.reject(results[0].error);\r\n      });\r\n\r\n      return deferred.promise();\r\n    },\r\n\r\n    getPreviousWidgets: function (perspectiveModel) {\r\n      var perspective     = perspectiveModel.get('perspective'),\r\n          layoutName      = this._getLayoutName(this.options),\r\n          zoneLayouts     = getOption.call(this, 'zoneLayouts'),\r\n          zoneLayout      = zoneLayouts[layoutName],\r\n          previousWidgets = {};\r\n\r\n      if (zoneLayout && zoneLayout.zoneOrder) {\r\n        previousWidgets = _.map(_.filter(zoneLayout.zoneOrder, function (zone) {\r\n          return perspective && perspective.options && !_.isEmpty(perspective.options[zone]);\r\n        }), function (zone) {\r\n          return {widget: perspective.options[zone]};\r\n        });\r\n      }\r\n\r\n      return previousWidgets;\r\n    }\r\n\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for other views too\r\n  function getOption(property, source) {\r\n    var value;\r\n    if (source) {\r\n      value = source[property];\r\n    } else {\r\n      value = getOption.call(this, property, this.options || {});\r\n      if (value === undefined) {\r\n        value = this[property];\r\n      }\r\n    }\r\n    return _.isFunction(value) ? value.call(this) : value;\r\n  }\r\n\r\n  // TODO add mixin dynamically for edit mode only\r\n  PerspectiveEditMixin.mixin(ZonePerspectiveView.prototype);\r\n\r\n  return ZonePerspectiveView;\r\n\r\n});\r\n\n","// Loads widgets and renders them in a left-center-right zone layout\r\ncsui.define('csui/perspectives/left-center-right/left-center-right.perspective.view',['require', 'module', 'csui/lib/jquery', 'csui/lib/underscore',\r\n  'csui/perspectives/zone/zone.perspective.view',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'i18n!csui/perspectives/impl/nls/lang',\r\n], function (require, module, $, _, ZonePerspectiveView, WidgetContainerBehavior, commonLang) {\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    zoneNames: ['left', 'center', 'right'],\r\n    zoneLayouts: {\r\n      'center': {\r\n        zoneOrder: ['center'],\r\n        zoneSizes: {\r\n          center: {\r\n            sizes: {\r\n              xs: 12\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      'left': {\r\n        zoneOrder: ['left'],\r\n        zoneSizes: {\r\n          left: {\r\n            sizes: {\r\n              xs: 12\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      'right': {\r\n        zoneOrder: ['right'],\r\n        zoneSizes: {\r\n          right: {\r\n            sizes: {\r\n              xs: 12\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      'left-center': {\r\n        zoneOrder: ['center', 'left'],\r\n        zoneSizes: {\r\n          left: {\r\n            sizes: {\r\n              \"md\": 4,\r\n              \"xl\": 3\r\n            },\r\n            \"pulls\": {\r\n              \"md\": 8,\r\n              \"xl\": 9\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          },\r\n          center: {\r\n            sizes: {\r\n              \"md\": 8,\r\n              \"xl\": 9\r\n            },\r\n            \"pushes\": {\r\n              \"md\": 4,\r\n              \"xl\": 3\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      'center-right': {\r\n        zoneOrder: ['center', 'right'],\r\n        zoneSizes: {\r\n          center: {\r\n            sizes: {\r\n              \"md\": 8,\r\n              \"xl\": 9\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          },\r\n          right: {\r\n            sizes: {\r\n              \"md\": 4,\r\n              \"xl\": 3\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      'left-right': {\r\n        zoneOrder: ['left', 'right'],\r\n        zoneSizes: {\r\n          left: {\r\n            sizes: {\r\n              \"md\": 6\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          },\r\n          right: {\r\n            sizes: {\r\n              \"md\": 6\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      },\r\n      'left-center-right': {\r\n        zoneOrder: ['center', 'left', 'right'],\r\n        zoneSizes: {\r\n          left: {\r\n            sizes: {\r\n              \"sm\": 6,\r\n              \"md\": 6,\r\n              \"lg\": 3,\r\n              \"xl\": 3\r\n            },\r\n            \"pulls\": {\r\n              \"lg\": 6,\r\n              \"xl\": 6\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          },\r\n          center: {\r\n            sizes: {\r\n              \"sm\": 12,\r\n              \"md\": 12,\r\n              \"lg\": 6,\r\n              \"xl\": 6\r\n            },\r\n            \"pushes\": {\r\n              \"lg\": 3,\r\n              \"xl\": 3\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          },\r\n          right: {\r\n            sizes: {\r\n              \"sm\": 6,\r\n              \"md\": 6,\r\n              \"lg\": 3,\r\n              \"xl\": 3\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  var LeftCenterRightPerspectiveView = ZonePerspectiveView.extend({\r\n\r\n    className: function () {\r\n      var className       = 'cs-left-center-right-perspective',\r\n          parentClassName = _.result(ZonePerspectiveView.prototype, 'className');\r\n      if (parentClassName) {\r\n        className = className + ' ' + parentClassName;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    zoneNames: config.zoneNames,\r\n    zoneLayouts: config.zoneLayouts,\r\n    unSupportedWidgets: config.unSupportedWidgets,\r\n\r\n    constructor: function LeftCenterRightPerspectiveView(options) {\r\n      if (!!options && options.perspectiveMode === 'edit') {\r\n        this._prepareForEditMode(options);\r\n      }\r\n      ZonePerspectiveView.prototype.constructor.apply(this, arguments);\r\n      if (!!options && options.perspectiveMode === 'edit') {\r\n        this._registerEditEvents();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Fill placeholders in empty zones\r\n     */\r\n    _prepareForEditMode: function (options) {\r\n      if (!options.left || _.isEmpty(options.left.type)) {\r\n        options.left = {\r\n          kind: 'tile',\r\n          type: 'csui/perspective.manage/widgets/perspective.placeholder'\r\n        };\r\n      }\r\n      if (!options.center || _.isEmpty(options.center.type)) {\r\n        options.center = {\r\n          kind: 'fullpage',\r\n          type: 'csui/perspective.manage/widgets/perspective.placeholder'\r\n        };\r\n      }\r\n      if (!options.right || _.isEmpty(options.right.type)) {\r\n        options.right = {\r\n          kind: 'tile',\r\n          type: 'csui/perspective.manage/widgets/perspective.placeholder'\r\n        };\r\n      }\r\n\r\n      options.cellBehaviours = {\r\n        PerspectiveWidgetConfig: { // For widget editing\r\n          behaviorClass: require(\r\n              'csui/perspective.manage/behaviours/pman.widget.config.behaviour'),\r\n          perspectiveView: this\r\n        }\r\n      };\r\n    },\r\n\r\n    _registerEditEvents: function () {\r\n      var self = this;\r\n      this.listenTo(this, 'delete:widget', function (widget) {\r\n        if (self.getPManPlaceholderWidget) { // Provided by pman.config.behaviour\r\n          var newWidget = self.getPManPlaceholderWidget();\r\n          this._resolveWidget(newWidget).done(function () {\r\n            widget.model.set('widget', newWidget);\r\n          });\r\n        }\r\n      });\r\n      this.listenTo(this, 'replace:widget', function (widgetView, widgetToReplace) {\r\n        var self = this;\r\n        this._resolveWidget(widgetToReplace).done(function () {\r\n          self.options.context.clear();\r\n          widgetView.model.set('widget', widgetToReplace);\r\n          self.options.context.fetch();\r\n        });\r\n      }.bind(this));\r\n    },\r\n\r\n    /**\r\n     * Serializes the widget configuration to save the perspective.\r\n     */\r\n    serializePerspective: function (perspectiveModel) {\r\n      var self     = this,\r\n          deferred = $.Deferred();\r\n      var optionsPromise = this.serializeOptions(perspectiveModel);\r\n      optionsPromise.then(function (results) {\r\n        var constant_data     = _.flatten(results.map(function (result) {\r\n              return result.config.constantsData || [];\r\n            })),\r\n            options           = _.reduce(results, function (seed, result) {\r\n              seed[result.zone] = result.config.widget;\r\n              return seed;\r\n            }, {}),\r\n            perspectiveResult = {\r\n              perspective: {\r\n                type: 'left-center-right',\r\n                options: options\r\n              },\r\n              constant_data: constant_data,\r\n              constant_extraction_mode: 1\r\n            };\r\n        var allWidgets = _.reject(_.values(options), _.isEmpty);\r\n        var isAllWidgetsValid = self.validateAndGenerateWidgetId(allWidgets);\r\n        if (!isAllWidgetsValid) {\r\n          deferred.reject(commonLang.widgetValidationFailed);\r\n        } else {\r\n          deferred.resolve(perspectiveResult);\r\n        }\r\n      }, deferred.reject);\r\n      return deferred.promise();\r\n    },\r\n\r\n    _supportMaximizeWidget: true,\r\n\r\n    _supportMaximizeWidgetOnDisplay: true\r\n\r\n  });\r\n\r\n  return LeftCenterRightPerspectiveView;\r\n\r\n});\r\n\n","// Loads a widget and renders it in a full-page zone layout\r\ncsui.define('csui/perspectives/single/single.perspective.view',['module', 'csui/lib/underscore', 'csui/perspectives/zone/zone.perspective.view'\r\n], function (module, _, ZonePerspectiveView) {\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    zoneNames: ['widget'],\r\n    zoneLayouts: {\r\n      'widget': {\r\n        zoneOrder: ['widget'],\r\n        zoneSizes: {\r\n          widget: {\r\n            sizes: {\r\n              xs: 12\r\n            },\r\n            heights: {\r\n              xs: 'full'\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  var SinglePerspectiveView = ZonePerspectiveView.extend({\r\n\r\n    className: function () {\r\n      var className       = 'cs-single-perspective',\r\n          parentClassName = _.result(ZonePerspectiveView.prototype, 'className');\r\n      if (parentClassName) {\r\n        className = className + ' ' + parentClassName;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    zoneNames: config.zoneNames,\r\n    zoneLayouts: config.zoneLayouts,\r\n\tunSupportedWidgets: config.unSupportedWidgets,\r\n\r\n    constructor: function SinglePerspectiveView(options) {\r\n      ZonePerspectiveView.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  return SinglePerspectiveView;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/active.tab.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory'\r\n], function (module, _, Backbone, ModelFactory) {\r\n\r\n  var ActiveTabModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      tabIndex: 0\r\n    }\r\n\r\n  });\r\n\r\n  var ActiveTabModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'activeTab',\r\n\r\n    constructor: function ActiveTabModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var activeTab = this.options.activeTab || {};\r\n      if (!(activeTab instanceof Backbone.Model)) {\r\n        var config = module.config();\r\n        activeTab = new ActiveTabModel(activeTab.attributes, _.extend({},\r\n            activeTab.options, config.options));\r\n      }\r\n      this.property = activeTab;\r\n    }\r\n\r\n  });\r\n\r\n  return ActiveTabModelFactory;\r\n\r\n});\r\n\n","csui.define('csui/perspectives/tabbed/behaviors/tab.extensions.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/utils/non-emptying.region/non-emptying.region'\r\n], function (module, _, $, Marionette, NonEmptyingRegion) {\r\n  'use strict';\r\n\r\n  var TabExtensionsBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function TabExtensionsBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(view, 'render', this.renderExtension);\r\n      this.listenTo(view, 'before:destroy', this.destroyExtension);\r\n      this.listenTo(view, 'dom:refresh', this.refreshTab);\r\n    },\r\n\r\n    renderExtension: function () {\r\n      var options                         = this.view.options,\r\n          tabBarLeftExtensionViewClass    = options.tabBarLeftExtensionViewClass,\r\n          tabBarLeftExtensionViewOptions  = options.tabBarLeftExtensionViewOptions,\r\n          tabBarRightExtensionViewClass   = options.tabBarRightExtensionViewClass,\r\n          tabBarRightExtensionViewOptions = options.tabBarRightExtensionViewOptions,\r\n          // tabpanel ==> 'left extension', 'tablinks', 'right extension','tabcontent'\r\n          tabLeftExtensionIndex           = 0, // left extension if present, index is 0\r\n          tabRightExtensionIndex;//right extension if present,index can be either 1(no left extension or 2( with left extension)\r\n\r\n      this.tabBarLeftExtensionsRegion = this.showExtension(tabBarLeftExtensionViewClass,\r\n          tabBarLeftExtensionViewOptions, tabLeftExtensionIndex);\r\n      tabRightExtensionIndex = !!this.tabBarLeftExtensionsRegion ? 2 : 1;\r\n      this.tabBarRightExtensionsRegion = this.showExtension(tabBarRightExtensionViewClass,\r\n          tabBarRightExtensionViewOptions, tabRightExtensionIndex);\r\n      this.view._initializeToolbars();\r\n    },\r\n\r\n    showExtension: function (viewClass, viewOptions, index) {\r\n      var viewRegion;\r\n      if (!!viewClass) {\r\n        if (typeof (viewClass) === \"function\") {\r\n          this.tabBarExtensionView = new viewClass(viewOptions);\r\n          this.tabBarExtensionView.$el.addClass(\"tab-extension\");\r\n          if (!!viewOptions.customClass) {\r\n            this.tabBarExtensionView.$el.addClass(viewOptions.customClass);\r\n          }\r\n          viewRegion = new NonEmptyingRegion({\r\n            el: this.view.el,\r\n            index: index\r\n          });\r\n          viewRegion.show(this.tabBarExtensionView);\r\n        }\r\n      }\r\n      return viewRegion;\r\n    },\r\n\r\n    refreshTab: function () {\r\n      this.view._enableToolbarState();\r\n\r\n      if(this.tabBarExtensionView){\r\n        this.tabBarExtensionView.triggerMethod(\"dom:refresh\");\r\n      }\r\n    },\r\n\r\n    destroyExtension: function () {\r\n      if (!!this.tabBarLeftExtensionsRegion) {\r\n        this.tabBarLeftExtensionsRegion.empty();\r\n      }\r\n      if (!!this.tabBarRightExtensionsRegion) {\r\n        this.tabBarRightExtensionsRegion.empty();\r\n      }\r\n    }\r\n  });\r\n\r\n  return TabExtensionsBehavior;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/perspectives/tabbed/impl/tabbed.perspective',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"cs-header\\\"></div>\\r\\n<div class=\\\"cs-content\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_perspectives_tabbed_impl_tabbed.perspective', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/perspectives/tabbed/impl/tabbed.perspective',[],function(){});\n","csui.define('csui/perspectives/tabbed/tabbed.perspective.view',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/lib/jquery', 'csui/lib/marionette', 'csui/utils/base',\r\n  'csui/controls/tab.panel/tab.panel.view', 'csui/controls/grid/grid.view',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/utils/contexts/factories/active.tab.factory',\r\n  'csui/controls/tab.panel/tab.links.ext.scroll.mixin',\r\n  'csui/controls/tab.panel/tab.links.ext.view',\r\n  'csui/perspectives/tabbed/behaviors/tab.extensions.behavior',\r\n  'csui/controls/mixins/view.state/node.view.state.mixin',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'hbs!csui/perspectives/tabbed/impl/tabbed.perspective',\r\n  'css!csui/perspectives/impl/perspective',\r\n  'css!csui/perspectives/tabbed/impl/tabbed.perspective'\r\n], function (module, _, Backbone, $, Marionette, base, TabPanelView, GridView, WidgetContainerBehavior,\r\n    LayoutViewEventsPropagationMixin, ActiveTabModelFactory, TabLinksScrollMixin,\r\n    TabLinkCollectionViewExt, TabExtensionsBehavior, NodeViewStateMixin, NextNodeModelFactory, perspectiveTemplate) {\r\n  'use strict';\r\n  var config = module.config();\r\n\r\n  var NODE_TYPES_TO_RESET_TAB = ['Business Workspace'];\r\n\r\n  var GridRowWidgetContainerView = GridView.RowView.extend({\r\n\r\n    cellView: function (model) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        var view = widget.view;\r\n        if (!view) {\r\n          throw new Marionette.Error({\r\n            name: 'UnresolvedWidgetError',\r\n            message: 'Widget \"' + widget.type + '\" not resolved: ' +\r\n                     widget.error\r\n          });\r\n        }\r\n        return view;\r\n      }\r\n    },\r\n\r\n    cellViewOptions: function (model) {\r\n      var widget = model.get('widget');\r\n      return {\r\n        context: this.options.context,\r\n        data: widget && widget.options || {},\r\n        // Widgets in the tab panel should create their own model instead\r\n        // of using the grid cell model\r\n        model: undefined\r\n      };\r\n    },\r\n\r\n    constructor: function GridRowWidgetContainerView() {\r\n      GridView.RowView.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var TabWidgetContainerView = TabPanelView.extend({\r\n\r\n    contentView: GridRowWidgetContainerView,\r\n\r\n    contentViewOptions: function (model) {\r\n      return {\r\n        context: this.options.context,\r\n        columns: model.get('columns')\r\n      };\r\n    },\r\n\r\n    constructor: function TabWidgetContainerView(options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        // Perspective can fetch all data, only if all widgets\r\n        // are created; including on non-activated tabes\r\n        delayTabContent: false,\r\n        toolbar: true,\r\n        TabLinkCollectionViewClass: TabLinkCollectionViewExt,\r\n        tabBarLeftExtensionViewClass: options.tabBarLeftExtensionViewClass,\r\n        tabBarLeftExtensionViewOptions: options.tabBarLeftExtensionViewOptions,\r\n        tabBarRightExtensionViewClass: options.tabBarRightExtensionViewClass,\r\n        tabBarRightExtensionViewOptions: options.tabBarRightExtensionViewOptions\r\n      });\r\n\r\n      if (options.tabs) {\r\n        _.each(options.tabs, function (tab, tabIndex) {\r\n          _.each(tab.columns, function (col, columnIndex) {\r\n            col.widget.cellAddress = 'tab' + tabIndex + ':r0:c' + columnIndex;\r\n          });\r\n        });\r\n      }\r\n      this.behaviors = _.extend({\r\n        TabExtensionsBehavior: {\r\n          behaviorClass: TabExtensionsBehavior\r\n        }\r\n      }, this.behaviors);\r\n\r\n      $(window).on('resize', {view: this}, this._onWindowResize);\r\n      TabPanelView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    _onWindowResize: function (event) {\r\n      if (event && event.data && event.data.view) {\r\n        event.data.view._enableToolbarState();\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(TabWidgetContainerView.prototype, TabLinksScrollMixin);\r\n\r\n  var TabbedPerspectiveView = Marionette.LayoutView.extend({\r\n\r\n    className: 'cs-tabbed-perspective cs-perspective binf-container-fluid',\r\n    template: perspectiveTemplate,\r\n\r\n    behaviors: {\r\n      WidgetContainer: {\r\n        behaviorClass: WidgetContainerBehavior\r\n      }\r\n    },\r\n\r\n    regions: {\r\n      headerRegion: '> .cs-header',\r\n      contentRegion: '> .cs-content'\r\n    },\r\n\r\n    constructor: function TabbedPerspectiveView(options) {\r\n      options || (options = {});\r\n      options = $.extend(true, {}, options);\r\n      \r\n      this.context = options.context;\r\n      \r\n      this.activeTab =  this._initActiveTabFromViewState();\r\n      var viewStateModel = this.context && this.context.viewStateModel;\r\n      viewStateModel && viewStateModel.set(viewStateModel.CONSTANTS.ALLOW_WIDGET_URL_PARAMS, false);\r\n      viewStateModel && viewStateModel.addUrlParameters(['tab'], this.context);\r\n      \r\n      var widget = options && options.header && options.header.widget;\r\n      if (widget) {\r\n        options.header.widget = base.filterUnSupportedWidgets(widget, config);\r\n      }\r\n      if (options.tabs) {\r\n        options.tabs = _.each(options.tabs, function (tab, tabIndex) {\r\n          tab.columns = _.filter(tab.columns, function (col, columnIndex) {\r\n\t\t\treturn base.filterUnSupportedWidgets(col.widget, config) != undefined;\r\n          });\r\n        });\r\n      }\r\n\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n      // The current tab may be wanted to be remembered when the perspective\r\n      // is switched again.  The following model from the context does it.\r\n      //this.activeTab = this.options.context.getModel(ActiveTabModelFactory);\r\n\r\n      this.listenTo(this.context.viewStateModel, 'change:state', this.onViewStateChanged);\r\n\r\n      this.nextNode = this.context.getModel(NextNodeModelFactory);\r\n      this.listenTo(this.nextNode, 'change:id', this._resetTab);\r\n      this.listenTo(this.context, 'retain:perspective', this._onPerspectiveRetainedOrChanged);\r\n      this.listenTo(this.context, 'change:perspective', this._onPerspectiveRetainedOrChanged);\r\n      \r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      this.navigationHeader = this.options.header.widget ?\r\n                              this._createWidget(this.options.header.widget) : {};\r\n      this.tabPanel = new TabWidgetContainerView(_.extend({\r\n        activeTab: this.activeTab,\r\n        delayTabContent: this.options.delayTabContent,\r\n        tabBarLeftExtensionViewClass: this.navigationHeader.tabBarLeftExtensionView,\r\n        tabBarLeftExtensionViewOptions: this.navigationHeader.tabBarLeftExtensionViewOptions,\r\n        tabBarRightExtensionViewClass: this.navigationHeader.tabBarRightExtensionView,\r\n        tabBarRightExtensionViewOptions: this.navigationHeader.tabBarRightExtensionViewOptions,\r\n        disableExtensionOnFirstTab: this.navigationHeader.disableExtensionOnFirstTab,\r\n        disableExtensionOnOtherTabs: this.navigationHeader.disableExtensionOnOtherTabs\r\n      }, this.options));\r\n      this._updateToggleHeaderState();\r\n      this.listenTo(this.tabPanel, 'activate:tab', this._onActiveTab);\r\n      if (!_.isEmpty(this.navigationHeader)) {\r\n        this.headerRegion.show(this.navigationHeader);\r\n      }\r\n      this.contentRegion.show(this.tabPanel);\r\n      this.headerRegion.$el.on(this._transitionEnd(), _.bind(function (event) {\r\n        if (event.target === this.headerRegion.el) {\r\n          this.$el.removeClass('cs-toggling');\r\n          this.triggerMethod('dom:refresh');\r\n        }\r\n      }, this));\r\n\r\n      var viewStateModel = this.context.viewStateModel;\r\n      viewStateModel.set('browsing', viewStateModel.BROWSING_TYPE.none);\r\n    },\r\n\r\n    _onActiveTab: function(tabContent, tabPane, tabLink){\r\n      this._updateToggleHeaderState(tabContent, tabPane, tabLink);\r\n      this._notifyHeader();\r\n    },\r\n\r\n    _notifyHeader: function(tabContent, tabPane, tabLink){\r\n      var tabIndex = this.tabPanel.activeTab.get('tabIndex');\r\n      var isCollapsed = this.tabPanel.activeTab.get('isCollapsed');\r\n      this.navigationHeader.triggerMethod(\"active:tab\", {'tabIndex':tabIndex, 'isCollapsed': isCollapsed});\r\n    },\r\n\r\n    onBeforeRender: function () {\r\n      if (this.headerRegion && this.headerRegion.$el) {\r\n        this.headerRegion.$el.off(this._transitionEnd());\r\n      }\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      this.setViewStateTabIndex(0, {default: true});\r\n      if (this.headerRegion && this.headerRegion.$el) {\r\n        this.headerRegion.$el.off(this._transitionEnd());\r\n      }\r\n    },\r\n\r\n    enumerateWidgets: function (callback) {\r\n      var widget = this.options && this.options.header && this.options.header.widget;\r\n      widget && callback(widget);\r\n      _.each(this.options.tabs, function (tab) {\r\n        _.each(tab.columns || [], function (column) {\r\n          column.widget && callback(column.widget);\r\n        });\r\n      });\r\n    },\r\n\r\n    _createWidget: function (widget) {\r\n      var Widget = widget.view;\r\n      if (!Widget) {\r\n        throw new Marionette.Error({\r\n          name: 'UnresolvedWidgetError',\r\n          message: 'Widget not resolved: \"' + widget.type + '\"'\r\n        });\r\n      }\r\n      return new Widget({\r\n        context: this.options.context,\r\n        data: widget.options || {}\r\n      });\r\n    },\r\n\r\n    _updateToggleHeaderState: function (tabContent, tabPane, tabLink) {\r\n      // If this handler is triggered by before:activate:tab, the activeTab\r\n      // model has not been updated yet\r\n      var tabIndex    = tabLink ? tabLink.model.collection.indexOf(tabLink.model) :\r\n                        this.activeTab && this.activeTab.get('tabIndex') || 0,\r\n          method      = tabIndex === 0 ? 'removeClass' : 'addClass',\r\n          isCollapsed = this.$el.hasClass('cs-collapse');\r\n      if (method === 'removeClass' && isCollapsed ||\r\n          method === 'addClass' && !isCollapsed) {\r\n        this.$el.addClass('cs-toggling');\r\n        this.$el[method]('cs-collapse');\r\n      }\r\n      this.tabPanel.activeTab.set('isCollapsed', (tabIndex > 0) );\r\n\r\n      if (this.tabPanel && this.tabPanel.tabLinks) {\r\n        this.setViewStateTabIndex(tabIndex);\r\n      }\r\n    },\r\n\r\n    onDomRefresh: function () {\r\n      this.onViewStateChanged();\r\n    },\r\n\r\n    _initActiveTabFromViewState: function () {\r\n      var tabIndex = this.getViewStateTabIndex();\r\n      if (tabIndex) {\r\n        return new Backbone.Model({tabIndex: tabIndex});\r\n      }\r\n    },\r\n\r\n    onViewStateChanged: function (forceActivation) {\r\n      var tabIndex = this.getViewStateTabIndex() || 0,\r\n          tabPanel = this.tabPanel,\r\n          tabLinks = tabPanel && this.tabPanel.tabLinks,\r\n          self     = this;\r\n\r\n      // todo: Remove all all this stuff from here. This is a last minute fix before the 16.2.10\r\n      // release and did not know how to fix it any other way.\r\n      function isTabContentCreated(index) {\r\n        var tabPanels = tabPanel.el.querySelectorAll('[role=tabpanel]');\r\n        if (tabPanels && tabPanels.length > index) {\r\n          return $(tabPanels[index]).height() > 0;\r\n        }\r\n      }\r\n\r\n      function activateTabWhenReady(tab, tabIndex) {\r\n        if (isTabContentCreated(tabIndex)) {\r\n          tab.activate();\r\n        } else {\r\n          setTimeout(activateTabWhenReady.bind(self, tab, tabIndex), 50);\r\n        }\r\n      }\r\n\r\n      if (tabLinks) {\r\n        var tab = tabLinks.children.findByIndex(tabIndex);\r\n        if (tab && !tab.isActive()) {\r\n          activateTabWhenReady(tab, tabIndex);\r\n        }\r\n      }\r\n    },\r\n\r\n    _onPerspectiveRetainedOrChanged: function (/*perspective, sourceModel*/) {\r\n      var viewStateModel = this.context.viewStateModel;\r\n      // Reset the tab if we are navigating to a node of one of the types in NODE_TYPES_TO_RESET_TAB.\r\n      // Except if we are navigating from a breadcrumb then let the nodestable display the content of the\r\n      // node.\r\n      if (NODE_TYPES_TO_RESET_TAB.indexOf(this.nextNode.get('type_name')) !== -1) {\r\n        if (viewStateModel.get('browsing') !== viewStateModel.BROWSING_TYPE.breadcrumbs) {\r\n          this.setViewStateTabIndex(0, {default: true});\r\n        }\r\n        viewStateModel.set('browsing', viewStateModel.BROWSING_TYPE.none);\r\n      }\r\n    },\r\n\r\n    _resetTab: function () {\r\n      var viewStateModel = this.context.viewStateModel;\r\n      if (viewStateModel.get('browsing')) {\r\n        if (viewStateModel.get('browsing') !== viewStateModel.BROWSING_TYPE.breadcrumbs) {\r\n          viewStateModel.set('browsing', viewStateModel.BROWSING_TYPE.none);\r\n        }\r\n        return;\r\n      }\r\n      this.setViewStateTabIndex(0, {default: true});\r\n    },\r\n\r\n    // TODO: Make a common method for this or remove it,\r\n    // if all browsers support it.\r\n    _transitionEnd: _.once(\r\n        function () {\r\n          var transitions = {\r\n                transition: 'transitionend',\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                MozTransition: 'transitionend',\r\n                OTransition: 'oTransitionEnd otransitionend'\r\n              },\r\n              element     = document.createElement('div'),\r\n              transition;\r\n          for (transition in transitions) {\r\n            if (typeof element.style[transition] !== 'undefined') {\r\n              return transitions[transition];\r\n            }\r\n          }\r\n        }\r\n    ),\r\n\r\n    _supportMaximizeWidget: true\r\n\r\n  });\r\n\r\n  _.extend(TabbedPerspectiveView.prototype, LayoutViewEventsPropagationMixin);\r\n  _.extend(TabbedPerspectiveView.prototype, NodeViewStateMixin);\r\n\r\n  return TabbedPerspectiveView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"  <div class=\\\"left-toolbar\\\"></div>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    return \"  <div class=\\\"right-toolbar\\\"></div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.toolbar : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n<div class=\\\"tab-links-bar\\\">\\r\\n  <span class=\\\"fadeout\\\"></span>\\r\\n  <ul class=\\\"binf-nav \"\n    + this.escapeExpression(((helper = (helper = helpers.tab_type || (depth0 != null ? depth0.tab_type : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"tab_type\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"tablist\\\"></ul>\\r\\n</div>\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.toolbar : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n<div class=\\\"csui-pman-add-newtab\\\">\\r\\n  <button class=\\\"icon icon-action-add\\\" title=\\\"Add tab\\\"></button>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_perspectives_tabbed-flow_impl_edit.perspective_tab.links', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<a href=\\\"#\"\n    + this.escapeExpression(((helper = (helper = helpers.uniqueTabId || (depth0 != null ? depth0.uniqueTabId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"uniqueTabId\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"cs-tablink\\\" data-binf-toggle=\\\"tab\\\" title=\\\"\"\n    + this.escapeExpression((helpers['csui-l10n'] || (depth0 && depth0['csui-l10n']) || helpers.helperMissing).call(depth0,(depth0 != null ? depth0.title : depth0),{\"name\":\"csui-l10n\",\"hash\":{}}))\n    + \"\\\">\\r\\n  <span class=\\\"cs-tablink-text\\\">\"\n    + this.escapeExpression((helpers['csui-l10n'] || (depth0 && depth0['csui-l10n']) || helpers.helperMissing).call(depth0,(depth0 != null ? depth0.title : depth0),{\"name\":\"csui-l10n\",\"hash\":{}}))\n    + \"</span>\\r\\n  <input class=\\\"csui-pman-editinput binf-hidden\\\" tabindex=\\\"-1\\\">\\r\\n</a>\\r\\n<div class=\\\"cs-tablink-delete\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.removeTab || (depth0 != null ? depth0.removeTab : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"removeTab\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n  <span class=\\\"icon clear-icon-white cs-delete-icon\\\" role=\\\"button\\\" data-cstabindex=\\\"0\\\"></span>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_perspectives_tabbed-flow_impl_edit.perspective_tab.link', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/perspectives/tabbed-flow/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/perspectives/tabbed-flow/impl/nls/root/lang',{\r\n  deleteConfirmTitle: 'Remove Tab',\r\n  deleteConfirmMsg: 'Are you sure, you want to remove Tab?',\r\n  removeTab: 'Remove Tab',\r\n  newTabTitle: 'Tab',\r\n  newTabInput: 'Add tab label'\r\n});\r\n\n","\ncsui.define('css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link',[],function(){});\n","csui.define('csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link.view',['csui/lib/underscore', 'csui/controls/tab.panel/impl/tab.link.view',\r\n  'hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link',\r\n  'i18n!csui/perspectives/tabbed-flow/impl/nls/lang',\r\n  'csui/lib/binf/js/binf',\r\n  'css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link',\r\n], function (_, TabLinkView, tabLinkTemplate, lang) {\r\n  var EditPerspectiveTabLink = TabLinkView.extend({\r\n    template: tabLinkTemplate,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        removeTab: lang.removeTab\r\n      };\r\n    },\r\n\r\n    className: function () {\r\n      return this._isOptionActiveTab() ? 'pman-edit-tab binf-active' : 'pman-edit-tab';\r\n    },\r\n\r\n    events: function () {\r\n      return _.extend(TabLinkView.prototype.events, {\r\n        'click @ui.link': '_onShowTab',\r\n        'dblclick @ui.tabLink': '_onTabClick',\r\n        'keydown @ui.editInput': '_onInputKeydown',\r\n        'keyup @ui.editInput': '_onInputKeyup',\r\n        'focusout @ui.editInput': '_onInputFocusOut',\r\n        'click @ui.tabRemove': '_onTabRemove'\r\n      });\r\n    },\r\n\r\n    ui: function () {\r\n      return _.extend(TabLinkView.prototype.ui, {\r\n        'editInput': '.csui-pman-editinput',\r\n        'tabLink': '.cs-tablink-text',\r\n        'tabRemove': '.cs-delete-icon'\r\n      });\r\n    },\r\n\r\n    _onShowTab: function (event) {\r\n      //prevent activating new tab with no title\r\n      if (!this.model.get('title')) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      }\r\n    },\r\n\r\n    _onTabRemove: function () {\r\n      var self = this;\r\n      require(['csui/dialogs/modal.alert/modal.alert'], function (alertDialog) {\r\n        alertDialog.confirmQuestion(lang.deleteConfirmMsg, lang.deleteConfirmTitle)\r\n            .done(function (yes) {\r\n              if (yes) {\r\n                self._doRemoveTab();\r\n              }\r\n            });\r\n      });\r\n    },\r\n\r\n    _doRemoveTab: function () {\r\n      if (!this.model.get('title')) {\r\n        this.trigger('enable:addTab');\r\n      }\r\n      this.trigger('remove:tab', this.model);\r\n    },\r\n\r\n    _onTabClick: function (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      this._editTab();\r\n    },\r\n\r\n    _editTab: function () {\r\n      var text;\r\n      if (this.ui.tabLink.text()) {\r\n        text = this.ui.tabLink.text();\r\n        this.ui.editInput.val(text);\r\n      }\r\n      else {\r\n        this.ui.editInput.attr('placeholder', lang.newTabInput);\r\n      }\r\n      this._setEdit(true);\r\n    },\r\n\r\n    _setEdit: function (isEdit) {\r\n      if (isEdit) {\r\n        //prevent edit for double click on non active tab as it is still activating\r\n        if (this.options && this.options.tabPanel && this.options.tabPanel.activatingTab) {\r\n          return;\r\n        }\r\n        this.trigger('disable:addTab');\r\n        this.ui.tabRemove.addClass('binf-hidden');\r\n        this.ui.editInput.removeClass('binf-hidden');\r\n        this.ui.tabLink.addClass('binf-hidden');\r\n        //Trigger event so that the parent view will scroll until input field is visible\r\n        //and set focus\r\n        this.trigger('before:edit', this);\r\n      } else {\r\n        this.ui.tabLink.removeClass('binf-hidden');\r\n        this.ui.editInput.addClass('binf-hidden');\r\n        this.activate();\r\n        this.ui.link.trigger('focus');\r\n      }\r\n    },\r\n\r\n    _onInputFocusOut: function () {\r\n      if (!this.ui.tabLink.text()) {\r\n        this._doRemoveTab();\r\n        return;\r\n      }\r\n      this._setEdit(false);\r\n      this.ui.tabRemove.removeClass('binf-hidden');\r\n      this.trigger('enable:addTab');\r\n    },\r\n\r\n    _onInputKeydown: function (event) {\r\n      var value = event.target.value;\r\n      if (event.which == 32) {\r\n        //disable space if no text\r\n        (!value) && event.preventDefault();\r\n        //space key is is disabled for tabs by jquery to differentiate from links\r\n        //but enabling it as per requirement by preventing disable\r\n        event.stopPropagation();\r\n      }\r\n    },\r\n    _onInputKeyup: function (event) {\r\n      var value = event.target.value;\r\n      if ((!value || value.length === 0) && (event.which == 13 || event.which == 27)) {\r\n        this._doRemoveTab();\r\n        return;\r\n      }\r\n      switch (event.which) {\r\n      case 13:\r\n        this._setTabTitle(value);\r\n        break;\r\n      case 27:\r\n        this._setEdit(false);\r\n        break;\r\n      }\r\n    },\r\n\r\n    _setTabTitle: function (newTitle) {\r\n      this.ui.tabLink.text(newTitle);\r\n      this._setEdit(false);\r\n      //Remove edit mode before model 'change' which triggers tab adjustment\r\n      this.model.set('title', newTitle);\r\n    },\r\n\r\n    onShow: function () {\r\n      if (!this.model.get('title')) {\r\n        this._editTab();\r\n      }\r\n    },\r\n\r\n    constructor: function EditPerspectiveTabLink() {\r\n      TabLinkView.prototype.constructor.apply(this, arguments);\r\n    }\r\n  });\r\n  return EditPerspectiveTabLink;\r\n});\n","\ncsui.define('css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links',[],function(){});\n","csui.define('csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links.view',['csui/lib/underscore', 'csui/controls/tab.panel/tab.links.ext.view',\r\n  'hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links',\r\n  'csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link.view',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n  'i18n!csui/perspectives/tabbed-flow/impl/nls/lang',\r\n  'csui/lib/binf/js/binf',\r\n  'css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links'\r\n], function (_, TabLinkCollectionView, tabLinksTemplate, TabLinkViewExt,\r\n    ViewEventsPropagationMixin, lang) {\r\n\r\n  var EditPerspectiveTabLinks = TabLinkCollectionView.extend({\r\n    template: tabLinksTemplate,\r\n\r\n    childView: TabLinkViewExt,\r\n\r\n    childViewContainer: function () {\r\n      return '.' + this.tabType;\r\n    },\r\n\r\n    ui: {\r\n      'addNewTab': '.csui-pman-add-newtab'\r\n    },\r\n\r\n    triggers: {\r\n      'before:edit': 'before:edit'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.addNewTab': '_onAddNewTab'\r\n    },\r\n\r\n    childViewOptions: function (model, index) {\r\n      return _.extend(this.options, {});\r\n    },\r\n\r\n    childEvents: {\r\n      'remove:tab': '_onRemoveTab',\r\n      'enable:addTab': 'enableAddTab',\r\n      'disable:addTab': 'disableAddTab',\r\n      'before:edit': 'onBeforeEditTab'\r\n    },\r\n\r\n    constructor: function EditPerspectiveTabLinks() {\r\n      TabLinkCollectionView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    _onRemoveTab: function (tabView) {\r\n      var isDeletingActive = tabView.isActive(),\r\n          tabIndex         = this.collection.indexOf(tabView.model);\r\n      this.collection.remove(tabView.model);\r\n      if (!isDeletingActive) {\r\n        return;\r\n      }\r\n      if (tabIndex >= this.collection.length) {\r\n        tabIndex = this.collection.length - 1;\r\n      }\r\n      if (tabIndex < 0) {\r\n        // No Tabs left\r\n        return;\r\n      }\r\n      var tabToActivate = this.collection.at(tabIndex);\r\n      this.children.findByModel(tabToActivate).activate();\r\n    },\r\n\r\n    _onAddNewTab: function () {\r\n      if (this.ui.addNewTab.hasClass(\"csui-pman-disable-newtab\")) {\r\n        return;\r\n      }\r\n      var newTab = {\r\n        title: \"\"\r\n      };\r\n      this.options.tabPanel.collection.add(newTab);\r\n    },\r\n\r\n    enableAddTab: function () {\r\n      this.ui.addNewTab.removeClass(\"csui-pman-disable-newtab\");\r\n      //Refresh keyboard behavior when tab is added\r\n      this.keyboardBehavior.refreshTabableElements(this);\r\n    },\r\n\r\n    disableAddTab: function () {\r\n      this.ui.addNewTab.addClass(\"csui-pman-disable-newtab\");\r\n    },\r\n\r\n    onBeforeEditTab: function (tab) {\r\n      this.trigger('before:edit', tab);\r\n    }\r\n  });\r\n  return EditPerspectiveTabLinks;\r\n});\n","csui.define('csui/perspectives/tabbed-flow/tabbed-flow.perspective.view',['require', 'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette','csui/utils/base',\r\n  'csui/models/widget/widget.collection',\r\n  'csui/models/widget/widget.model',\r\n  'csui/controls/tab.panel/tab.panel.view', 'csui/controls/grid/grid.view',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/utils/contexts/factories/active.tab.factory',\r\n  'csui/controls/tab.panel/tab.links.ext.scroll.mixin',\r\n  'csui/controls/tab.panel/tab.links.ext.view',\r\n  'csui/perspectives/tabbed/behaviors/tab.extensions.behavior',\r\n  'csui/utils/log',\r\n  'csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links.view',\r\n  'hbs!csui/perspectives/tabbed/impl/tabbed.perspective',\r\n  'css!csui/perspectives/impl/perspective',\r\n  'css!csui/perspectives/tabbed/impl/tabbed.perspective'\r\n], function (require, module, _, $, Backbone, Marionette, base, WidgetCollection, WidgetModel,\r\n    TabPanelView, GridView, WidgetContainerBehavior, LayoutViewEventsPropagationMixin,\r\n    ActiveTabModelFactory, TabLinksScrollMixin,\r\n    TabLinkCollectionViewExt, TabExtensionsBehavior, log, EditPerspectiveTabLinks,\r\n    perspectiveTemplate) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    defaultWidgetKind: 'tile',\r\n    widgetSizes: {\r\n      fullpage: {\r\n        widths: {\r\n          xs: 12\r\n        }\r\n      },\r\n      tile: {\r\n        widths: {\r\n          md: 6,\r\n          xl: 4\r\n        }\r\n      },\r\n      header: {\r\n        widths: {\r\n          xs: 12,\r\n          md: 8,\r\n          xl: 6\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  var GridRowWidgetContainerView = GridView.RowView.extend({\r\n\r\n    cellView: function (model) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        if (!widget.view) {\r\n          throw new Marionette.Error({\r\n            name: 'UnresolvedWidgetError',\r\n            message: 'Widget \"' + widget.type + '\" not resolved:' +\r\n                     widget['error']\r\n          });\r\n        }\r\n        return widget.view;\r\n      }\r\n    },\r\n\r\n    cellViewOptions: function (model) {\r\n      var widget = model.get('widget');\r\n      return {\r\n        context: this.options.context,\r\n        data: widget && widget.options || {},\r\n        // Widgets in the tab panel should create their own model instead\r\n        // of using the grid cell model\r\n        model: undefined\r\n      };\r\n    },\r\n\r\n    constructor: function GridRowWidgetContainerView(options) {\r\n      if (!!options && options.perspectiveMode === 'edit') {\r\n        this._prepareForEditMode(options);\r\n      }\r\n      GridView.RowView.prototype.constructor.apply(this, arguments);\r\n      if (this.options.perspectiveMode === 'edit') {\r\n        this._initEditMode();\r\n        this._registerEditEvents();\r\n      }\r\n    },\r\n\r\n    _prepareForEditMode: function (options) {\r\n      options.cellBehaviours = {\r\n        PerspectiveWidgetConfig: { // For widget editing\r\n          behaviorClass: require(\r\n              'csui/perspective.manage/behaviours/pman.widget.config.behaviour'),\r\n          perspectiveView: this,\r\n          perspectiveSelector: '.perspective-editing .cs-perspective #' + options.tabId\r\n        }\r\n      };\r\n    },\r\n\r\n    _initEditMode: function () {\r\n      var self         = this,\r\n          placeholderW = {\r\n            type: 'csui/perspective.manage/widgets/perspective.placeholder'\r\n          };\r\n      TabbedFlowPerspectiveView._resolveWidget(placeholderW).done(function (resolvedWidget) {\r\n        var newCell = TabbedFlowPerspectiveView._createCell(placeholderW, resolvedWidget);\r\n        self.options.collection.add(newCell);\r\n      });\r\n    },\r\n\r\n    _registerEditEvents: function () {\r\n      var self = this;\r\n      this.listenTo(this, 'delete:widget', function (widgetView) {\r\n        var model = widgetView.model;\r\n        self.collection.remove(model);\r\n        // TODO Add a new placeholder when all cells removed\r\n      });\r\n\r\n      this.listenTo(this, 'replace:widget', this._replaceWidget);\r\n    },\r\n\r\n    _replaceWidget: function (currentWidget, widgetToReplace) {\r\n      if (!this.getPManPlaceholderWidget) {\r\n        // 'getPManPlaceholderWidget' Provided by pman.config.behaviour\r\n        return;\r\n      }\r\n      var self = this;\r\n      // Load new widget\r\n      TabbedFlowPerspectiveView._resolveWidget(widgetToReplace).done(function () {\r\n        // update current widget with new widget\r\n        if (currentWidget.model.get('widget').type !== self.getPManPlaceholderWidget().type) {\r\n          // Preserve widget kind if dropping on existing widget\r\n          widgetToReplace.kind = currentWidget.model.get('widget').kind;\r\n        }\r\n        var widgetUpdates = TabbedFlowPerspectiveView._prepareCell(widgetToReplace);\r\n        currentWidget.model.set(widgetUpdates);\r\n        // Check if last widget of flow is replacing, then add new placeholder widget\r\n        var placeholderWidget = self.getPManPlaceholderWidget(),\r\n            cells             = self.collection,\r\n            hasPlaceholders   = cells.filter(function (w) {\r\n              return w.get('widget').type === placeholderWidget.type;\r\n            }).length > 0;\r\n        if (!hasPlaceholders) {\r\n          // Create a placeholder wiget to be able to drop new widgets\r\n          TabbedFlowPerspectiveView._resolveWidget(placeholderWidget).done(\r\n              function (resolvedWidget) {\r\n                var newCell = TabbedFlowPerspectiveView._createCell(placeholderWidget,\r\n                    resolvedWidget, cells.length);\r\n                cells.add(newCell);\r\n              });\r\n        }\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  var TabWidgetContainerView = TabPanelView.extend({\r\n\r\n    contentView: GridRowWidgetContainerView,\r\n\r\n    contentViewOptions: function (model) {\r\n      return {\r\n        context: this.options.context,\r\n        columns: model.get('columns'),\r\n        perspectiveMode: this.options.perspectiveMode,\r\n        tabId: model.get('uniqueTabId')\r\n      };\r\n    },\r\n\r\n    constructor: function TabWidgetContainerView(options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        // Perspective can fetch all data, only if all widgets\r\n        // are created; including on non-activated tabes\r\n        delayTabContent: false,\r\n        toolbar: true,\r\n        TabLinkCollectionViewClass: TabLinkCollectionViewExt,\r\n        tabBarExtensionViewClass: options.tabBarExtensionViewClass,\r\n        tabBarExtensionViewOptions: options.tabBarExtensionViewOptions,\r\n        enableExtensionOnFirstTab: options.enableExtensionOnFirstTab\r\n      });\r\n      if (options.perspectiveMode === 'edit') {\r\n        _.extend(options, {\r\n          TabLinkCollectionViewClass: EditPerspectiveTabLinks\r\n        });\r\n      }\r\n\r\n      this.behaviors = _.extend({\r\n        TabExtensionsBehavior: {\r\n          behaviorClass: TabExtensionsBehavior\r\n        }\r\n      }, this.behaviors);\r\n\r\n      $(window).on('resize', {view: this}, this._onWindowResize);\r\n      TabPanelView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    render: function () {\r\n      TabPanelView.prototype.render.apply(this);\r\n      this.listenTo(this.collection, 'change reset remove', _.bind(function (event) {\r\n        this._enableToolbarState();\r\n        //adjust the tab position after rename or removal\r\n        this.activatingTab = false;\r\n        this.skipAutoScroll = false;\r\n        this._autoScrolling();\r\n      }, this));\r\n      this.listenTo(this.tabLinks, 'before:edit', function (tab) {\r\n        this.skipAutoScroll = false;\r\n        //refreshing the tabs if any new tab is added\r\n        this.tabsSelector = $(this.$el.find('.tab-links .tab-links-bar')[0]).find('> ul li');\r\n        this.tablinksToolbar = $(this.$el.find('.tab-links .tab-links-bar')[0]);\r\n        //Scroll to the last if it is a new tab or\r\n        // scroll until the input field of current tab is visible completely\r\n        var scroll = tab && tab.model.get('title') ? '_autoScrolling' : '_autoScrollLastTab';\r\n        this[scroll]().done(_.bind(function () {\r\n          //update the toolbar after scroll\r\n          this._enableToolbarState();\r\n          //set focus only when the tab is completely visible\r\n          tab && tab.ui && tab.ui.editInput.trigger('focus');\r\n        }, this));\r\n      });\r\n      return this;\r\n    },\r\n\r\n    onDomRefresh: function () {\r\n      this._enableToolbarState();\r\n    },\r\n\r\n    _onWindowResize: function (event) {\r\n      if (event && event.data && event.data.view) {\r\n        event.data.view._enableToolbarState();\r\n      }\r\n    }\r\n  });\r\n\r\n  _.extend(TabWidgetContainerView.prototype, TabLinksScrollMixin);\r\n\r\n  /**\r\n   * Header view to hold Navigation header of the Tabbed perspective.\r\n   */\r\n  var HeaderView = Marionette.ItemView.extend({\r\n    className: 'cs-tabbed-perspective-header',\r\n    constructor: function HeaderView(options) {\r\n      options || (options = {});\r\n      if (!options.header) {\r\n        options.header = {};\r\n      }\r\n      if (options.perspectiveMode === 'edit') {\r\n        var PerspectiveWidgetConfigBehaviour = require(\r\n            'csui/perspective.manage/behaviours/pman.widget.config.behaviour');\r\n        this.behaviors = _.extend({\r\n          PerspectiveWidgetConfig: {\r\n            behaviorClass: PerspectiveWidgetConfigBehaviour,\r\n            perspectiveView: this\r\n          }\r\n        }, this.behaviors);\r\n      }\r\n      Marionette.ItemView.call(this, _.extend({template: false}, options));\r\n      if (this.options.perspectiveMode === 'edit') {\r\n        this._initEditMode(options);\r\n        this._registerEditEvents();\r\n      }\r\n    },\r\n\r\n    _initEditMode: function (options) {\r\n      if (!this.options.header.widget && this.getPManPlaceholderWidget) {\r\n        this._handleReplaceWidget(this, this.getPManPlaceholderWidget());\r\n      }\r\n    },\r\n\r\n    _ensureRegion: function () {\r\n      if (!this.headerContainer) {\r\n        this.headerContainer = new Marionette.Region({\r\n          el: this.el\r\n        });\r\n      }\r\n      return this.headerContainer;\r\n    },\r\n\r\n    onRender: function () {\r\n      if (!!this.options.header.widget) {\r\n        this.navigationHeader = this._createWidget(this.options.header.widget);\r\n        var region = this._ensureRegion();\r\n        region.show(this.navigationHeader);\r\n      }\r\n    },\r\n\r\n    _createWidget: function (widget) {\r\n      var Widget = widget.view;\r\n      if (!Widget) {\r\n        throw new Marionette.Error({\r\n          name: 'UnresolvedWidgetError',\r\n          message: 'Widget not resolved: \"' + widget.type + '\"'\r\n        });\r\n      }\r\n      return new Widget({\r\n        context: this.options.context,\r\n        data: widget.options || {}\r\n      });\r\n    },\r\n\r\n    _registerEditEvents: function () {\r\n      var self = this;\r\n      this.listenTo(this, 'delete:widget', function (widgetView) {\r\n        if (self.getPManPlaceholderWidget) {\r\n          var placeholder = self.getPManPlaceholderWidget();\r\n          TabbedFlowPerspectiveView._resolveWidget(placeholder).done(function () {\r\n            self._replaceWidget(placeholder);\r\n          });\r\n        }\r\n      });\r\n      this.listenTo(this, 'replace:widget', this._handleReplaceWidget);\r\n    },\r\n\r\n    _replaceWidget: function (widgetToReplace) {\r\n      this.options.header.widget = widgetToReplace;\r\n      this.render();\r\n    },\r\n\r\n    _handleReplaceWidget: function (currentWidget, widgetToReplace) {\r\n      var self = this;\r\n      // Load new widget\r\n      TabbedFlowPerspectiveView._resolveWidget(widgetToReplace).done(function () {\r\n        // Replace current widget with new widget\r\n        self._replaceWidget(widgetToReplace);\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Provide header widget configuration to perspective manager\r\n     */\r\n    getPManWidgetConfig: function () {\r\n      return this.options.header.widget;\r\n    }\r\n  });\r\n\r\n  var TabbedFlowPerspectiveView = Marionette.LayoutView.extend({\r\n\r\n    className: 'cs-tabbed-perspective cs-perspective binf-container-fluid cs-tabbed-flow-perspective',\r\n    template: perspectiveTemplate,\r\n\r\n    regions: {\r\n      headerRegion: '> .cs-header',\r\n      contentRegion: '> .cs-content'\r\n    },\r\n\r\n    constructor: function TabbedFlowPerspectiveView(options) {\r\n      options || (options = {});\r\n      options = $.extend(true, {}, options);\r\n      if (!options.collection) {\r\n        options.collection = this._createCollection(options);\r\n      }\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n      // The current tab may be wanted to be remembered when the perspective\r\n      // is switched again.  The following model from the context does it.\r\n      //this.activeTab = this.options.context.getModel(ActiveTabModelFactory);\r\n\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      this.headerView = new HeaderView(this.options);\r\n      this.headerRegion.show(this.headerView);\r\n      this.tabPanel = new TabWidgetContainerView(_.extend({\r\n        activeTab: this.activeTab,\r\n        delayTabContent: this.options.delayTabContent,\r\n        tabBarExtensionViewClass: this.headerView.navigationHeader.tabBarExtensionView,\r\n        tabBarExtensionViewOptions: this.headerView.navigationHeader.tabBarExtensionViewOptions,\r\n        enableExtensionOnFirstTab: this.headerView.navigationHeader.enableExtensionOnFirstTab\r\n      }, this.options));\r\n      this._updateToggleHeaderState();\r\n      this.listenTo(this.tabPanel, 'activate:tab', this._updateToggleHeaderState);\r\n      this.contentRegion.show(this.tabPanel);\r\n      this.headerRegion.$el.on(this._transitionEnd(), _.bind(function (event) {\r\n        if (event.target === this.headerRegion.el) {\r\n          this.$el.removeClass('cs-toggling');\r\n          this.triggerMethod('dom:refresh');\r\n        }\r\n      }, this));\r\n    },\r\n\r\n    onBeforeRender: function () {\r\n      if (this.headerRegion && this.headerRegion.$el) {\r\n        this.headerRegion.$el.off(this._transitionEnd());\r\n      }\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      if (this.headerRegion && this.headerRegion.$el) {\r\n        this.headerRegion.$el.off(this._transitionEnd());\r\n      }\r\n    },\r\n\r\n    _updateToggleHeaderState: function (tabContent, tabPane, tabLink) {\r\n      if (this.options.perspectiveMode === 'edit') {\r\n        // Ignore Tab header update for edit perspective mode.\r\n        return;\r\n      }\r\n      // If this handler is triggered by before:activate:tab, the activeTab\r\n      // model has not been updated yet\r\n      var tabIndex    = tabLink ? tabLink.model.collection.indexOf(tabLink.model) :\r\n                        this.activeTab && this.activeTab.get('tabIndex') || 0,\r\n          method      = tabIndex === 0 ? 'removeClass' : 'addClass',\r\n          isCollapsed = this.$el.hasClass('cs-collapse');\r\n      if (method === 'removeClass' && isCollapsed ||\r\n          method === 'addClass' && !isCollapsed) {\r\n        this.$el.addClass('cs-toggling');\r\n        this.$el[method]('cs-collapse');\r\n      }\r\n    },\r\n\r\n    // TODO: Make a common method for this or remove it,\r\n    // if all browsers support it.\r\n    _transitionEnd: _.once(\r\n        function () {\r\n          var transitions = {\r\n                transition: 'transitionend',\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                MozTransition: 'transitionend',\r\n                OTransition: 'oTransitionEnd otransitionend'\r\n              },\r\n              element     = document.createElement('div'),\r\n              transition;\r\n          for (transition in transitions) {\r\n            if (typeof element.style[transition] !== 'undefined') {\r\n              return transitions[transition];\r\n            }\r\n          }\r\n        }\r\n    ),\r\n\r\n    _createCollection: function (options) {\r\n\r\n      if (options.tabs) {\r\n        options.tabs = _.each(options.tabs, function (tab) {\r\n          tab.widgets = _.filter(tab.widgets, function (widget) {\r\n            return base.filterUnSupportedWidgets(widget, config) != undefined;\r\n          });\r\n        });\r\n      }\r\n\t\t\r\n      var tabs            = new Backbone.Collection(options.tabs),\r\n          uniqueWidgets   = _.chain(options.tabs)\r\n              .map(function (tab) {\r\n                return tab.widgets;\r\n              })\r\n              .flatten()\r\n              .pluck('type')\r\n              .unique()\r\n              .map(function (id) {\r\n                return {id: id};\r\n              })\r\n              .value(),\r\n          headerWidget = options.header && options.header.widget &&\r\n                         base.filterUnSupportedWidgets(options.header.widget, config),\r\n          resolvedWidgets = new WidgetCollection(uniqueWidgets),\r\n          self            = this;\r\n      if (headerWidget) {\r\n        resolvedWidgets.add({id: headerWidget.type});\r\n      }\r\n      tabs.each(function (tab) {\r\n        tab.set('id', _.uniqueId('cs-tab'));\r\n      });\r\n      this.widgetsResolved = resolvedWidgets\r\n          .fetch()\r\n          .then(function () {\r\n            if (headerWidget) {\r\n              var resolvedWidget = resolvedWidgets.get(headerWidget.type),\r\n                  widgetView     = resolvedWidget.get('view');\r\n              if (widgetView) {\r\n                _.extend(headerWidget, {view: widgetView});\r\n              } else {\r\n                var error = resolvedWidget.get('error');\r\n                log.warn('Loading widget \"{0}\" failed. {1}', headerWidget.type, error)\r\n                && console.warn(log.last);\r\n                _.extend(headerWidget, WidgetContainerBehavior.getErrorWidget(\r\n                    headerWidget, error));\r\n              }\r\n            }\r\n            tabs.each(function (tab) {\r\n              tab.set('columns', self._createColumns(tab.get('widgets'), resolvedWidgets));\r\n            });\r\n            return resolvedWidgets; /* this will be used later when the promise is resolved */\r\n          });\r\n      return tabs;\r\n    },\r\n\r\n    _createColumns: function (widgets, resolvedWidgets) {\r\n      return _.map(widgets, function (widget) {\r\n        var resolvedWidget = resolvedWidgets.get(widget.type);\r\n        return TabbedFlowPerspectiveView._createCell(widget, resolvedWidget);\r\n      }.bind(this));\r\n    }\r\n\r\n  }, {\r\n\r\n    _prepareCell: function (widgetConfig) {\r\n      if (!widgetConfig.kind) {\r\n        widgetConfig.kind = config.defaultWidgetKind;\r\n      }\r\n      var sizes = config.widgetSizes[widgetConfig.kind] || {};\r\n      return {\r\n        sizes: sizes.widths,\r\n        widget: {\r\n          type: widgetConfig.type,\r\n          options: widgetConfig.options,\r\n          view: widgetConfig.view\r\n        }\r\n      };\r\n    },\r\n\r\n    _createCell: function (widget, resolvedWidget) {\r\n      var widgetView     = resolvedWidget.get('view'),\r\n          manifest       = resolvedWidget.get('manifest') || {},\r\n          supportedKinds = manifest.supportedKinds,\r\n          kind           = widget.kind;\r\n      if (!kind || !supportedKinds || !_.contains(supportedKinds, kind)) {\r\n        kind = manifest.kind;\r\n      }\r\n      widget.kind = kind;\r\n      if (!kind) {\r\n        kind = config.defaultWidgetKind;\r\n      }\r\n      var sizes = config.widgetSizes[kind] || {};\r\n      if (widgetView) {\r\n        widget.view = widgetView;\r\n        return TabbedFlowPerspectiveView._prepareCell(widget);\r\n      }\r\n      var error = resolvedWidget.get('error');\r\n      log.warn('Loading widget \"{0}\" failed. {1}', widget.type, error)\r\n      && console.warn(log.last);\r\n      return {\r\n        sizes: config.widgetSizes[config.defaultWidgetKind].widths,\r\n        widget: WidgetContainerBehavior.getErrorWidget(widget, error)\r\n      };\r\n    },\r\n\r\n    _resolveWidget: function (widget) {\r\n      var deferred = $.Deferred();\r\n      var widgetModel = new WidgetModel({id: widget.type});\r\n      widgetModel.fetch().then(function () {\r\n        widget.view = widgetModel.get('view');\r\n        deferred.resolve(widgetModel);\r\n      }, function (error) {\r\n        deferred.reject(error);\r\n      });\r\n      return deferred.promise();\r\n    },\r\n  });\r\n\r\n  _.extend(TabbedFlowPerspectiveView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return TabbedFlowPerspectiveView;\r\n\r\n});\r\n\n","csui.define('csui/pages/start/impl/location',[], function () {\r\n  return {\r\n    get search() {\r\n      return location.search;\r\n    },\r\n    get href() {\r\n      return location.href;\r\n    },\r\n    get hash() {\r\n      return location.hash;\r\n    }\r\n  };\r\n});\r\n\n","csui.define('csui/pages/start/perspective.router',[\r\n  'csui/lib/backbone',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/pages/start/impl/location',\r\n  'csui/utils/url'\r\n], function (Backbone, $, _, ApplicationScopeModelFactory, location, Url) {\r\n  'use strict';\r\n\r\n  var activeRouter, previousRouter;\r\n\r\n  var PerspectiveRouter = Backbone.Router.extend({\r\n    constructor: function PerspectiveRouter(options) {\r\n      Backbone.Router.prototype.constructor.apply(this, arguments);\r\n\r\n      // Save common options for descended routers\r\n      this.context = options.context;\r\n      this._routeWithSlashes = options.routeWithSlashes;\r\n\r\n      this.applicationScope = this.context.getModel(ApplicationScopeModelFactory);\r\n\r\n      // Allow this router to react, before another router routes\r\n      this.listenTo(this, 'other:route', this.onOtherRoute);\r\n    },\r\n\r\n    execute: function (callback, args) {\r\n      // Inform the routing container, that a router is about to route\r\n      this.trigger('before:route', this);\r\n      this._restoreUrlParamsFromViewState();\r\n      return Backbone.Router.prototype.execute.apply(this, arguments);\r\n    },\r\n\r\n    _restoreUrlParamsFromViewState: function () {\r\n      if (!this.urlParams || this.urlParams.length === 0) {\r\n        var viewStateModel = this.context.viewStateModel;\r\n        var urlParams = viewStateModel.get(viewStateModel.CONSTANTS.URL_PARAMS);\r\n        urlParams && _.isString(urlParams) && (urlParams = JSON.parse(urlParams)) && (this.urlParams = urlParams.slice());\r\n      }\r\n    },\r\n\r\n    getUrlParametersList: function() {\r\n      return this.urlParams;\r\n    },\r\n\r\n    addUrlParameters: function(urlParameters) {\r\n      var urlParams = this.getUrlParametersList() || [];\r\n      this.urlParams = _.unique(urlParams.concat(urlParameters));\r\n\r\n      var viewStateModel = this.context.viewStateModel;\r\n      viewStateModel.set(viewStateModel.CONSTANTS.URL_PARAMS, this.urlParams);\r\n      \r\n      // remove from the viewStateModel any entry that is not listed in the urlParams\r\n      this._clearViewStateModel(this.urlParams);\r\n    } ,\r\n\r\n    _clearViewStateModel: function (keys) {\r\n      var viewStateModel = this.context.viewStateModel,\r\n          modified;\r\n      var state = viewStateModel.get('state');\r\n      _.keys(state).forEach(function (key) {\r\n        if (keys.indexOf(key) === -1) {\r\n          delete state[key];\r\n          modified = true;\r\n        }\r\n      });\r\n      if (modified) {\r\n        viewStateModel.unset('state', {silent: true});\r\n        viewStateModel.set('state', state);\r\n      }\r\n    },\r\n\r\n    getActiveRouter : function() {\r\n      return activeRouter;\r\n    },\r\n\r\n    getPreviousRouter : function() {\r\n      return previousRouter;\r\n    },\r\n\r\n    onViewStateChanged:function() {\r\n    },\r\n\r\n    getInitialViewState: function () {\r\n      return {};\r\n    },\r\n\r\n    activate: function (setDefault) {\r\n      if (activeRouter !== this) {\r\n        previousRouter = activeRouter;\r\n        activeRouter = this;\r\n        var urlParams = this.getUrlParametersList();\r\n        if (previousRouter && !this.restoring && urlParams && urlParams.length > 0) {\r\n          urlParams.length = 0;\r\n        }\r\n        \r\n        this._activeRouterChanged();\r\n      }\r\n\r\n      var viewStateModel = this.context.viewStateModel;\r\n\r\n      viewStateModel.set('enabled', this.isViewStateModelSupported());\r\n\r\n      // initialize the UI state with the defaults of this router.\r\n      if (setDefault) {\r\n        this._initializeViewState();\r\n      }\r\n    },\r\n\r\n    _initializeViewState:function() {\r\n      var viewStateModel = this.context.viewStateModel;\r\n      var state = viewStateModel.get('state');\r\n      if (state && _.keys(state).length === 0) {\r\n        viewStateModel.unset('state', {silent: true});\r\n      }\r\n      viewStateModel.set('state', this.getInitialViewState(), {silent: true});\r\n    },\r\n\r\n    _activeRouterChanged: function () {\r\n      var viewStateModel = this.context.viewStateModel;\r\n\r\n      if (activeRouter === this) {\r\n        viewStateModel.set('activeRouterInstance', this);\r\n        this.listenTo(viewStateModel, 'change:state', this.onViewStateChanged);\r\n        if (previousRouter) {\r\n          previousRouter.stopListening(viewStateModel, 'change:state', previousRouter.onViewStateChanged);\r\n        }\r\n      } \r\n    },\r\n\r\n    // The order of the url params needs to be consistent. otherwise when we\r\n    // construct the url when we hit the back button and we build a url with a different\r\n    // url parameters the history gets updated as if its a new url.\r\n    buildUrlParams: function () {\r\n      var urlParams = this.urlParams,\r\n          context = this.context,\r\n          viewStateModel = context && context.viewStateModel,\r\n          viewState = viewStateModel && viewStateModel.get('state'),\r\n          defaultViewState = viewStateModel.get('default_state');\r\n      var paramsArray = [];\r\n\r\n      var initialUrlParams = viewStateModel && viewStateModel.get('initialUrlParams');\r\n      if (initialUrlParams && initialUrlParams.length) {\r\n        paramsArray = paramsArray.concat(initialUrlParams);\r\n        paramsArray.forEach(function (entry) {\r\n          viewState[entry.name] = entry.value;\r\n          urlParams = urlParams || [];\r\n          urlParams.push(entry.name);\r\n        });\r\n      }\r\n\r\n      if (urlParams && viewState) {\r\n        urlParams.forEach(function (param) {\r\n          var value        = viewState[param],\r\n              defaultValue = defaultViewState && defaultViewState[param];\r\n          if (value && value !== defaultValue) {\r\n            this._addToParamsArray(paramsArray, {\r\n              name: param,\r\n              value: value\r\n            });\r\n          }\r\n        }.bind(this));\r\n      }\r\n\r\n      paramsArray = paramsArray || [];\r\n      _.keys(viewState).forEach(function (key) {\r\n\r\n        // only if the param in the url params list\r\n        if (paramsArray.indexOf(key) !== -1) {\r\n          if (defaultViewState && defaultViewState[key] === viewState[key]) {\r\n            return true;\r\n          }\r\n          this._addToParamsArray(paramsArray, {\r\n            name: key,\r\n            value: viewState[key]\r\n          });\r\n        }\r\n\r\n      }.bind(this));\r\n\r\n      return $.param(paramsArray);\r\n    },\r\n\r\n    _addToParamsArray: function(paramsArray, object) {\r\n        if (object && object.name) {\r\n          var found = false;\r\n          paramsArray.some(function(entry) {\r\n            if (entry.name === object.name) {\r\n              found = true;\r\n              return true;\r\n            }\r\n          });\r\n          if (!found) {\r\n            paramsArray.push(object);\r\n            return true;\r\n          }\r\n        }\r\n    },\r\n\r\n    restore: function (routerInfo) {\r\n\r\n      var viewStateModel = this.context.viewStateModel,\r\n          fragment       = routerInfo.fragment,\r\n          applicationScopeId = routerInfo.scopeId;\r\n\r\n      if (viewStateModel) {\r\n        this.restoring = true;\r\n        viewStateModel.set(viewStateModel.CONSTANTS.URL_PARAMS, routerInfo.urlParam);\r\n        if (viewStateModel.get(viewStateModel.CONSTANTS.CURRENT_ROUTER) ===\r\n            viewStateModel.get(viewStateModel.CONSTANTS.LAST_ROUTER)) {\r\n          this.applicationScope.set('id', '');\r\n        } else {\r\n          if (viewStateModel.get('enabled')) {\r\n            applicationScopeId ? this.applicationScope.set('id', applicationScopeId ) :\r\n            this.applicationScope.set('id', '');\r\n          } else {\r\n            fragment && Backbone.Router.prototype.navigate.call(this, fragment, {trigger: true});\r\n          }\r\n        }\r\n      } else {\r\n        window.history.back();\r\n      }\r\n\r\n    },\r\n\r\n    initSessionViewState: function () {\r\n      var viewStateModel = this.context && this.context.viewStateModel;\r\n      viewStateModel && viewStateModel.set(viewStateModel.CONSTANTS.SESSION_STATE, {});\r\n    },\r\n\r\n    initDefaultViewState: function () {\r\n      if (!this.restoring) {\r\n        var viewStateModel = this.context && this.context.viewStateModel;\r\n        viewStateModel && viewStateModel.set(viewStateModel.CONSTANTS.DEFAULT_STATE, {});\r\n      }\r\n    },\r\n\r\n    getUrlParamsNotInFragment: function (fragment) {\r\n      var notInFragment = [],\r\n          inUrl = _.keys(Url.urlParams(fragment));\r\n      var allRoutersUrlParams = this.getUrlParametersList();\r\n      allRoutersUrlParams && allRoutersUrlParams.forEach(function (param) {\r\n        if (inUrl.indexOf(param) === -1) {\r\n          notInFragment.push(param);\r\n        }\r\n      });\r\n      return notInFragment;\r\n    },\r\n\r\n    initViewStateFromUrlParams: function (query_string, silent) {\r\n      var viewState,\r\n          viewStateModel = this.context && this.context.viewStateModel;\r\n\r\n      if (_.isString(query_string)) {\r\n        var urlParams = this.getUrlParametersList();\r\n        if (!urlParams) {\r\n          viewState = $.parseParams(query_string);\r\n        } else {\r\n          viewState = _.pick($.parseParams(query_string), this.getUrlParametersList());\r\n        }\r\n        \r\n        // Get the default current view state and merge it with whatever in the url, we could have loaded\r\n        // the view state from storage.\r\n        var defaultViewState = this.context.viewStateModel.get('default_state');\r\n        if (defaultViewState) {\r\n          var original = {};\r\n          _.extend(original, viewState);\r\n          _.extend(viewState, defaultViewState);\r\n          _.extend(viewState, original);\r\n        }\r\n\r\n        // to make sure the change event gets triggered.\r\n      } else {\r\n        viewState = query_string;\r\n      }\r\n\r\n      viewStateModel &&\r\n      viewStateModel.unset('state', {silent: true}) &&\r\n      viewStateModel.set('state', viewState, {silent: silent});\r\n    },\r\n\r\n    isViewStateModelSupported: function() {\r\n      return false;\r\n    },\r\n\r\n    navigate: function (fragment, options) {\r\n\r\n      var params = this.buildUrlParams(),\r\n          originalFragment = fragment;\r\n          \r\n      if (params) {\r\n        fragment += '?' + params;\r\n      }\r\n\r\n      if (this !== activeRouter) {\r\n        this.activate(true);\r\n      }\r\n\r\n      this.trigger('before:route', this);\r\n      \r\n      // Preserve query (carries application settings) and hash parts (carries\r\n      // inside-page location); perspective routers use path only\r\n      // With the routing support you can use params with the fragment\r\n      if (this._routeWithSlashes) {\r\n        var excludeUrlParams = previousRouter ? previousRouter.getUrlParametersList() : [];\r\n        excludeUrlParams = excludeUrlParams || [];\r\n        var urlParamsNotInfragment = this.getUrlParamsNotInFragment(fragment);\r\n        if (urlParamsNotInfragment) {\r\n          excludeUrlParams = excludeUrlParams.concat(urlParamsNotInfragment);\r\n        }\r\n        fragment = Url.appendQuery(fragment, Url.mergeUrlParams(fragment, location.search, excludeUrlParams));\r\n        fragment += location.hash;\r\n      }\r\n\r\n      var viewStateModel = this.context.viewStateModel,\r\n          ViewStateConstants = viewStateModel.CONSTANTS,\r\n          viewStateCurrentRouter = viewStateModel.get(ViewStateConstants.CURRENT_ROUTER);\r\n\r\n      if (this.name !== viewStateCurrentRouter) {\r\n        var newRouterInfo = {\r\n          'router': this.name,\r\n          'fragment': originalFragment,\r\n          'scopeId': this.applicationScope,\r\n          'navigateOptions': options,\r\n          'state': viewStateModel.get(ViewStateConstants.STATE),\r\n          'sessionState': viewStateModel.get(ViewStateConstants.SESSION_STATE),\r\n          'defaultState': viewStateModel.get(ViewStateConstants.DEFAULT_STATE)\r\n        };\r\n\r\n        viewStateModel.updateRoutingHistory(newRouterInfo);\r\n      }\r\n\r\n      // Widgets can set the initial url parameters for the routers by setting the initialUrlParams\r\n      // i.e. viewStateModel.set('initialUrlParams', [{name: 'widgetName', value: 'D2Widget'}]);\r\n      viewStateModel.set('initialUrlParams', undefined);\r\n\r\n      var navigate = Backbone.Router.prototype.navigate.call(this, fragment, options);\r\n\r\n      this.initSessionViewState();\r\n\r\n      if (viewStateModel.get(ViewStateConstants.CURRENT_ROUTER) !== this.name) {\r\n        viewStateModel.set(ViewStateConstants.CURRENT_ROUTER, this.name);\r\n\r\n        this.initDefaultViewState();\r\n      }\r\n\r\n      // save the\r\n      viewStateModel.set(ViewStateConstants.CURRENT_ROUTER_FRAGMENT, originalFragment);\r\n      viewStateModel.set(ViewStateConstants.CURRENT_ROUTER_NAVIGATE_OPTIONS, options);\r\n      this.applicationScope ?\r\n        viewStateModel.set(ViewStateConstants.CURRENT_ROUTER_SCOPE_ID, this.applicationScope.get('id')) :\r\n        viewStateModel.unset(ViewStateConstants.CURRENT_ROUTER_SCOPE_ID);\r\n\r\n      this.restoring = false;\r\n\r\n      return navigate;\r\n    }\r\n  });\r\n\r\n  return PerspectiveRouter;\r\n});\r\n\n","// Route hash-based URLs to contextual object changes and the other way round\r\ncsui.define('csui/pages/start/perspective.routing',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/utils/routing',\r\n  // Load external routers working with perspective context\r\n  'csui-ext!csui/pages/start/perspective.routing'\r\n], function (module, _, Backbone, Url, routing, extraRouters) {\r\n  'use strict';\r\n  var instance;\r\n  var config = _.extend({\r\n    handlerUrlPathSuffix: '/app',\r\n    rootUrlPath: null\r\n  }, module.config());\r\n\r\n  function PerspectiveRouting(options) {\r\n    // Later added routers override the earlier ones;\r\n    // put the landing page router to the front\r\n    var DefaultRouters = [];\r\n    var Routers = _\r\n            .chain(extraRouters)\r\n            .flatten(true)\r\n            .filter(function (Router) {\r\n              if (Router.isDefault) {\r\n                DefaultRouters.push(Router);\r\n              } else {\r\n                return true;\r\n              }\r\n            })\r\n            .concat(DefaultRouters)\r\n            .unique()\r\n            .reverse()\r\n            .value(),\r\n        routeWithSlashes = routing.routesWithSlashes();\r\n    this._routers = _.map(Routers, function (Router, index) {\r\n      var router = new Router(_.extend({\r\n        routeWithSlashes: routeWithSlashes\r\n      }, options));\r\n      if (!router.name) {\r\n        router.name = index;\r\n      }\r\n      router.on('before:route', _.bind(this._informOthers, this));\r\n      return router;\r\n    }, this);\r\n\r\n    this._context = options.context;\r\n    this._originalHistoryLength = history.length;\r\n  }\r\n\r\n  _.extend(PerspectiveRouting.prototype, Backbone.Events, {\r\n    start: function () {\r\n      // Start the client application URL router\r\n      var historyOptions;\r\n      if (routing.routesWithSlashes()) {\r\n        historyOptions = {\r\n          pushState: true,\r\n          // The application should configure root of their slash-based path.\r\n          // Otherwise it will be inferred from the current location, which\r\n          // will be handled as an OTCS CGI URL.\r\n          root: config.rootUrlPath != null && config.rootUrlPath ||\r\n                Url.combine(\r\n                    new Url(new Url(location.pathname).getCgiScript()).getPath(),\r\n                    config.handlerUrlPathSuffix)\r\n        };\r\n      } else {\r\n        // The current location path is the default root. However, the\r\n        // Backbone.history.atRoot() returns true, only if the root is\r\n        // set explicitly.  Probably a Backbone bug.\r\n\t\t    var rootPath = Backbone.history.decodeFragment(location.pathname);\r\n        historyOptions = {\r\n          root: rootPath\r\n        };\r\n      }\r\n      Backbone.history.start(historyOptions);\r\n      this._context && this._context.viewStateModel.set('history', true);\r\n    },\r\n\r\n    hasRouted: function () {\r\n      return history.length > this._originalHistoryLength;\r\n    },\r\n\r\n    addUrlParameters: function (name, urlParameters) {\r\n      this._routers.some(function (router) {\r\n        if (router.name === name) {\r\n          router.addUrlParameters(urlParameters);\r\n          return true;\r\n        }\r\n      });\r\n    },\r\n\r\n    restoreRouter: function (lastRouterInfo) {\r\n      this._routers.some(function (router) {\r\n        if (router.name === lastRouterInfo.router) {\r\n          router.restoring = true;\r\n          router.restore(lastRouterInfo);\r\n          return true;\r\n        }\r\n      });\r\n    },\r\n\r\n    _informOthers: function (activeRouter) {\r\n      _.each(this._routers, function (router) {\r\n        if (router !== activeRouter) {\r\n          router.trigger('other:route', router, activeRouter);\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  PerspectiveRouting.routesWithSlashes = routing.routesWithSlashes;\r\n\r\n  return {\r\n    //The is made singleton as the \"hasRouted()\" functionality will be helpful for widgets\r\n    //to verify whether to display back button or not (Eg:SearchResultsHeaderView)\r\n    getInstance: function (options) {\r\n      if (!instance) {\r\n        instance = new PerspectiveRouting(options);\r\n      }\r\n      return instance;\r\n    },\r\n    // TODO: Deprecate this method, use csui/utils/routing\r\n    routesWithSlashes: routing.routesWithSlashes\r\n  };\r\n});\r\n\n","csui.define('csui/pages/start/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/pages/start/nls/root/lang',{\r\n  // Used as a parameter in other patterns below\r\n  ProductName: \"OpenText Content Server\",\r\n\r\n  // Example: \"John Smith - OpenText Content Server\"\r\n  // Pattern: \"{0} - {1}\"\r\n  // {0} is the title of the metadata panel\r\n  // {1} is the name of the product\r\n  UserTitle: \"{1}\",\r\n\r\n  // Example: \"Folder CarbonFibre - OpenText Content Server\"\r\n  // Pattern: \"{1} {0} - {2}\",\r\n  // {0} is the name of the node\r\n  // {1} is the type of the node\r\n  // {2} is the name of the product\r\n  NodeTitle: \"{1} {0} - {2}\",\r\n\r\n  // Example: \"Properties of CarbonFibre - OpenText Content Server\"\r\n  // Pattern: \"{0} of {1} - {2}\",\r\n  // {0} is the title of the metadata panel\r\n  // {1} is the name of the node\r\n  // {2} is the name of the product\r\n  MetadataTitle:  \"{0} of {1} - {2}\",\r\n\r\n  // Example: \"Permissions of CarbonFibre - John Smith\"\r\n  // Pattern: \"Permissions of {0} - {1}\",\r\n  // {0} is the name of the node\r\n  // {1} is the name of the user\r\n  PermissionsTitle:  \"Permissions of {0} - {1}\",\r\n\r\n  // Example: \"Searching for \\\"test\\\"\"\r\n  // Pattern: \"Searching for \\\"{0}\\\"\",\r\n  // {0} are the search terms\r\n  SearchTitle:    \"Searching for \\\"{0}\\\"\",\r\n\r\n  // Example: \"Favorites - OpenText Content Server\"\r\n  // Pattern: \"Favorites - {0}\"\r\n  // {0} is the name of the product\r\n  FavoritesTitle: \"Favorites - {0}\",\r\n\r\n  // Example: \"My Assignments - OpenText Content Server\"\r\n  // Pattern: \"My Assignments - {0}\"\r\n  // {0} is the name of the product\r\n  MyAssignmentsTitle: \"My Assignments - {0}\",\r\n\r\n  // Example: \"Recently Accessed - OpenText Content Server\"\r\n  // Pattern: \"Recently Accessed - {0}\"\r\n  // {0} is the name of the product\r\n  RecentlyAccessedTitle: \"Recently Accessed - {0}\"\r\n});\r\n\n","\n","csui.define('csui/pages/start/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/pages/start/impl/nls/root/lang',{\r\n  UserLoadingTitle: \"Loading current user...\",\r\n  NodeLoadingTitle: \"Loading {0}...\",\r\n  Home: 'Home',\r\n  mainNavigationAria: 'Main navigation',\r\n  profileMenuTitle: 'Profile Menu',\r\n  profileMenuAria: 'Profile Menu of {0}',\r\n  profileImageAlt: 'Profile Menu of {0}'\r\n});\r\n\n","\n","csui.define('csui/pages/start/impl/landing.perspective.router',['csui/lib/underscore', 'csui/utils/base',\r\n  'csui/pages/start/perspective.router',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/factories/user', 'i18n!csui/pages/start/nls/lang',\r\n  'i18n!csui/pages/start/impl/nls/lang'\r\n], function (_, base, PerspectiveRouter, ApplicationScopeModelFactory,\r\n    UserModelFactory, publicLang, lang) {\r\n  'use strict';\r\n\r\n  var LandingPerspectiveRouter = PerspectiveRouter.extend({\r\n    routes: {\r\n      '*other': 'openLandingPerspective'\r\n    },\r\n\r\n    name: 'Landing',\r\n\r\n    constructor: function LandingPerspectiveRouter(options) {\r\n      PerspectiveRouter.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context.getModel(ApplicationScopeModelFactory);\r\n      this.listenTo(this.applicationScope, 'change:id', this._updateHomeUrl);\r\n\r\n      this.user = this.context.getModel(UserModelFactory);\r\n      this.listenTo(this.user, 'change:id', this._updatePageTitle);\r\n    },\r\n\r\n    openLandingPerspective: function (/*viewState*/) {\r\n      this._updatePageTitle();\r\n      this.applicationScope.set('id', '');\r\n    },\r\n\r\n    onViewStateChanged: function () {\r\n      this._updateHomeUrl();\r\n    },\r\n\r\n    restore: function (viewState/*, sessionViewState*/) {\r\n      this.openLandingPerspective(viewState);\r\n    },\r\n\r\n    _updateHomeUrl: function () {\r\n      // Empty scope means landing page\r\n      if (this.applicationScope.id) {\r\n        return;\r\n      }\r\n\r\n      if (this !== this.getActiveRouter()) {\r\n        this.activate(true);\r\n      }\r\n\r\n      this._updatePageTitle();\r\n      this.navigate('');\r\n    },\r\n\r\n    _updatePageTitle: function () {\r\n      if (this.applicationScope.id === \"\") {\r\n        document.title = !this.user.has('name') ? lang.UserLoadingTitle :\r\n                         _.str.sformat(publicLang.UserTitle, base.formatMemberName(this.user), publicLang.ProductName);\r\n      }\r\n    }\r\n  }, {\r\n    isDefault: true\r\n  });\r\n\r\n  return LandingPerspectiveRouter;\r\n});\r\n\n","csui.define('csui/pages/start/impl/node.perspective.router',['module', 'csui/lib/jquery',\r\n  'csui/lib/underscore', 'csui/pages/start/perspective.router',\r\n  'csui/utils/contexts/factories/next.node', 'csui/models/node/node.model',\r\n  'i18n!csui/pages/start/nls/lang', 'i18n!csui/pages/start/impl/nls/lang'\r\n], function (module, $, _, PerspectiveRouter, NextNodeModelFactory, NodeModel, publicLang, lang) {\r\n  'use strict';\r\n\r\n  var NodePerspectiveRouter = PerspectiveRouter.extend({\r\n    routes: {\r\n      'nodes/:id': 'openNodePerspective',\r\n      'nodes/:id(?*query_string)': 'openNodePerspective'\r\n    },\r\n\r\n    name: 'Node',\r\n\r\n    constructor: function NodePerspectiveRouter(options) {\r\n      PerspectiveRouter.prototype.constructor.apply(this, arguments);\r\n\r\n      this.nextNode = this.context.getModel(NextNodeModelFactory);\r\n\r\n      this.listenTo(this.nextNode, 'change:id', this._updateNodeUrl);\r\n      this.listenTo(this.nextNode, 'change:id', this._updatePageTitle);\r\n\r\n      // As long as perspective context fetches nextNode directly, it is\r\n      // easier to listen to its changes, than for the contextual node\r\n      this.listenTo(this.nextNode, 'change:name', this._updatePageTitle);\r\n    },\r\n\r\n    openNodePerspective: function (id, query_string) {\r\n\r\n      if (NodeModel.usesIntegerId) {\r\n        id = parseInt(id);\r\n      }\r\n\r\n      var setId = id && id !== this.nextNode.get('id');\r\n\r\n      // if the id is changing we will make sure the viewStateModel does not trigger\r\n      // changing the url until the id is updated.\r\n      if (!this.restoring) {\r\n        this.initViewStateFromUrlParams(query_string, setId);\r\n      }\r\n\r\n      this.activate(false);\r\n\r\n      var context = this.context,\r\n          viewStateModel = context.viewStateModel;\r\n\r\n      if (setId) {\r\n        // This is to make sure we do not reset the tab. When we go back we should not\r\n        // reset the tab. (see tabbed.perspective.view. The whole tab resetting needs to be re-done.\r\n        this.nextNode.get('id') && viewStateModel.set('browsing', viewStateModel.BROWSING_TYPE.navigation);\r\n        this.nextNode.set('id', id);\r\n      }\r\n\r\n\r\n      // todo: remove this.\r\n      setTimeout(function () {\r\n        if (setId) {\r\n          if (viewStateModel && viewStateModel.get('state') &&\r\n              viewStateModel.get('state').filter) {\r\n            viewStateModel.trigger('change:state');\r\n          }\r\n        }\r\n      }, 1000);\r\n\r\n    },\r\n\r\n    onOtherRoute: function (/*thisRouter, activeRouter*/) {\r\n      this.nextNode.clear({silent: true});\r\n    },\r\n\r\n    isViewStateModelSupported: function () {\r\n      return true;\r\n    },\r\n\r\n    onViewStateChanged: function () {\r\n      if (this.nextNode.get('id')) {\r\n        this._updateNodeUrl();\r\n      }\r\n    },\r\n\r\n    restore: function (routerInfo) {\r\n      this.openNodePerspective(routerInfo.sessionState.id, routerInfo.state);\r\n    },\r\n\r\n    _updateNodeUrl: function () {\r\n      var nextNode   = this.nextNode,\r\n          nextNodeId = nextNode.get('id'),\r\n          uri        = 'nodes/' + encodeURIComponent(nextNodeId);\r\n\r\n      if (this !== this.getActiveRouter()) {\r\n        this.activate(true);\r\n      }\r\n\r\n      this.navigate(uri);\r\n\r\n    },\r\n\r\n    initSessionViewState: function () {\r\n      this._updateSessionState();\r\n    },\r\n\r\n    _updateSessionState: function () {\r\n      // Update the session view state model with the node id we are navigating to.\r\n      // Do this after the router has been activated.\r\n      var nextNode       = this.nextNode,\r\n          nextNodeId     = nextNode && nextNode.get('id'),\r\n          viewStateModel = this.context && this.context.viewStateModel;\r\n\r\n      // The sessionViewState keeps variables like the selected nodes and maybe the scroll position in the future.\r\n      // If we are restoring, we will keep this information otherwise we will just reset it and the widgets will load\r\n      // without this initialization.\r\n      if (viewStateModel && nextNodeId) {\r\n        var newSessionState = {};\r\n        _.extend(newSessionState, viewStateModel.get(viewStateModel.CONSTANTS.SESSION_STATE));\r\n        _.extend(newSessionState, {id: nextNodeId});\r\n        viewStateModel.unset(viewStateModel.CONSTANTS.SESSION_STATE, {silent: true});\r\n        viewStateModel.set(viewStateModel.CONSTANTS.SESSION_STATE, newSessionState);\r\n      }\r\n    },\r\n\r\n    _updatePageTitle: function () {\r\n      if (!this.nextNode.has('name')) {\r\n        document.title = _.str.sformat(lang.NodeLoadingTitle, this.nextNode.get('id'));\r\n      } else {\r\n        document.title =  _.str.sformat(publicLang.NodeTitle, this.nextNode.get('name'), this.nextNode.get('type_name'), publicLang.ProductName);\r\n      }\r\n    }\r\n  });\r\n\r\n  return NodePerspectiveRouter;\r\n});\r\n\n","csui.define('csui/pages/start/impl/search.perspective.router',[\r\n  'module', 'csui/lib/underscore', 'csui/pages/start/perspective.router',\r\n  'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/utils/contexts/factories/user',\r\n  'i18n!csui/pages/start/nls/lang', 'i18n!csui/pages/start/impl/nls/lang'\r\n], function (module, _, PerspectiveRouter, SearchQueryModelFactory,\r\n    UserModelFactory, publicLang, lang) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    // TODO: Remove this parameters. Private modules must not have public\r\n    // configuration. Introduce a public localization string, if you need\r\n    // to override the page title.\r\n    showTitle: true\r\n  });\r\n\r\n  var SearchPerspectiveRouter = PerspectiveRouter.extend({\r\n    routes: {\r\n      'search/*path': 'openSearchPerspective'\r\n    },\r\n\r\n    constructor: function SearchPerspectiveRouter(options) {\r\n      PerspectiveRouter.prototype.constructor.apply(this, arguments);\r\n\r\n      this.searchQuery = this.context.getModel(SearchQueryModelFactory);\r\n      this.listenTo(this.searchQuery, 'change', this._updateSearchUrl);\r\n    },\r\n\r\n    openSearchPerspective: function (path) {\r\n      // convert the path made of 'name/value' pairs to {name; value} map\r\n      var name,\r\n          parameters = _.reduce(path.split('/'), function (result, item) {\r\n            if (name) {\r\n              result[name] = item != null ? decodeURIComponent(item).trim() : '';\r\n              name = undefined;\r\n            } else {\r\n              name = decodeURIComponent(item);\r\n            }\r\n            return result;\r\n          }, {});\r\n      this._updatePageTitle();\r\n\r\n      var user = this.context.getModel(UserModelFactory);\r\n      user.ensureFetched().then(_.bind(function () {\r\n        // if context is coming from CVS then do 'silent:true' otherwise keep it false , to avoid\r\n        // double call to _fetchSearchPerspective().\r\n        this.searchQuery.set(parameters, {silent: !!this.searchQuery.get('query_id')});\r\n      }, this));\r\n    },\r\n\r\n    onOtherRoute: function () {\r\n      this.searchQuery.clear({silent: true});\r\n    },\r\n\r\n    routerURL: function (searchQuery) {\r\n      var url = _.reduce(searchQuery.attributes, function (result, value, name) {\r\n        if (value) {\r\n          result += '/' + encodeURIComponent(name) + '/' + encodeURIComponent(value);\r\n        } else {\r\n          result += '/' + encodeURIComponent(name) + '/' + '%20';\r\n        }\r\n        return result;\r\n      }, 'search');\r\n      return url;\r\n    },\r\n\r\n    _updateSearchUrl: function () {\r\n      if (this !== this.getActiveRouter()) {\r\n        this.activate(true);\r\n      }\r\n      // format the path using the {name; value} map to 'name/value' pairs\r\n      var url = this.routerURL(this.searchQuery);\r\n      this._updatePageTitle();\r\n      this.navigate(url);\r\n    },\r\n\r\n    _updatePageTitle: function () {\r\n      if (config.showTitle) {\r\n        document.title = _.str.sformat(publicLang.SearchTitle, this.searchQuery.get('where'));\r\n      }\r\n    },\r\n\r\n    // TODO: Remove this. URLs have to be properly encoded and decoded.\r\n    // Overriding this to pass the encoded url fragment to the 'openSearchPerspective' .\r\n    // This is to ensure correct functionality even in the case of the search value containing '/' symbols.\r\n    _extractParameters: function (route, fragment) {\r\n      var params = route.exec(fragment).slice(1);\r\n      return _.map(params, function (param, i) {\r\n        return param ? param : null;\r\n      });\r\n    }\r\n  });\r\n\r\n  return SearchPerspectiveRouter;\r\n});\r\n\n","csui.define('csui/pages/start/impl/metadata.perspective.router',['module',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/pages/start/perspective.router',\r\n  'csui/utils/contexts/factories/metadata.factory',\r\n  'csui/models/node/node.model',\r\n  'i18n!csui/pages/start/nls/lang',\r\n  'i18n!csui/pages/start/impl/nls/lang'\r\n], function (module, $, _, Backbone, PerspectiveRouter, MetadataFactory, NodeModel, publicLang, lang) {\r\n  'use strict';\r\n\r\n  var MetadataPerspectiveRouter = PerspectiveRouter.extend({\r\n\r\n    routes: {\r\n      'nodes/:node_id/metadata': 'openMetadata',\r\n      'nodes/:node_id/metadata(?*query_string)': 'openMetadata',\r\n      'nodes/:node_id/metadata/navigator': 'openMetadataNavigator',\r\n      'nodes/:node_id/metadata/navigator(?*query_string)': 'openMetadataNavigator'\r\n    },\r\n\r\n    name: \"Metadata\",\r\n\r\n    constructor: function MetadataPerspectiveRouter(options) {\r\n      PerspectiveRouter.prototype.constructor.apply(this, arguments);\r\n\r\n      this.metadataModel = this.context.getModel(MetadataFactory);\r\n\r\n      this.listenTo(this.metadataModel, 'change:metadata_info', this._updateUrl);\r\n      this.listenTo(this.metadataModel, 'change:metadata_info', this._updatePageTitle);\r\n    },\r\n\r\n    openMetadata: function (id, query_string) {\r\n      this._open(id, query_string, false);\r\n    },\r\n\r\n    openMetadataNavigator: function (id, query_string) {\r\n      this._open(id, query_string, true);\r\n    },\r\n\r\n    isViewStateModelSupported: function() {\r\n      return true;\r\n    },\r\n\r\n    getInitialViewState: function () {\r\n      var metadata_info = this.metadataModel && this.metadataModel.get('metadata_info');\r\n      if (metadata_info && metadata_info.selectedTab) {\r\n        var selectedTab = metadata_info.selectedTab;\r\n        if (_.isString(selectedTab)) {\r\n          return {dropdown: selectedTab};\r\n        } else if (selectedTab instanceof Backbone.Model) {\r\n          var name = selectedTab.get('name'), title = selectedTab.get('title');\r\n          return {dropdown: name || title};\r\n        }\r\n      }\r\n      return {};\r\n    },\r\n\r\n    _open: function (id, query_string, navigator) {\r\n\r\n      if (NodeModel.usesIntegerId) {\r\n        id = parseInt(id);\r\n      }\r\n\r\n      var metadata_info = this.metadataModel.get('metadata_info');\r\n\r\n      var setId = !metadata_info || (id && id !== metadata_info.id);\r\n\r\n      // if the id is changing we will make sure the viewStateModel does not trigger\r\n      // changing the url until the id is updated.\r\n      this.initViewStateFromUrlParams(query_string, setId);\r\n      this.activate(false);\r\n\r\n      if (setId) {\r\n        this.metadataModel.set('metadata_info', {id: id, navigator: navigator});\r\n      }\r\n    },\r\n\r\n    onOtherRoute: function () {\r\n      this.metadataModel.clear({silent: true});\r\n      var viewStateModel = this.context.viewStateModel;\r\n      viewStateModel.unset(viewStateModel.CONSTANTS.METADATA_CONTAINER);\r\n      viewStateModel.unset('displayBreadcrumbUpToParentOnly');\r\n    },\r\n\r\n    onViewStateChanged:function() {\r\n      var metadata_info = this.metadataModel.get('metadata_info');\r\n      if (metadata_info && metadata_info.id) {\r\n        this._updateUrl();\r\n      }\r\n\r\n      var dropdownTitle = this.context.viewStateModel.getViewState(\"dropdownTitle\");\r\n      if (metadata_info && metadata_info.model && dropdownTitle) {\r\n        this._updatePageTitle();\r\n      }\r\n    },\r\n\r\n    _updateUrl: function () {\r\n\r\n      if (this !== this.getActiveRouter()) {\r\n        this.activate(true);\r\n      }\r\n\r\n      var metadata_info = this.metadataModel.get('metadata_info'),\r\n          id = metadata_info.id,\r\n          uri      = 'nodes/' + encodeURIComponent(id) + '/metadata';\r\n\r\n      if (metadata_info.navigator) {\r\n        uri += '/navigator';\r\n        this.context.viewStateModel.set('displayBreadcrumbUpToParentOnly', true);\r\n      }\r\n      this.navigate(uri);\r\n    },\r\n\r\n    _updatePageTitle: function () {\r\n      var metadata_info = this.metadataModel.get('metadata_info');\r\n      if (metadata_info.model) {\r\n        var modelTitle;\r\n\r\n        if (this.context.viewStateModel) {\r\n          modelTitle = this.context.viewStateModel.getViewState(\"dropdownTitle\");\r\n        }\r\n\r\n        document.title = (!metadata_info.model.has('name') || !modelTitle) ?\r\n                         _.str.sformat(lang.NodeLoadingTitle, metadata_info.model.get('id')) :\r\n                         _.str.sformat(publicLang.MetadataTitle, modelTitle, metadata_info.model.get('name'), publicLang.ProductName);\r\n      }\r\n    }\r\n  });\r\n\r\n  return MetadataPerspectiveRouter;\r\n\r\n});\r\n\n","csui.define('csui/pages/start/impl/root.perspective.router',['csui/lib/underscore',\r\n  'csui/pages/start/perspective.router',\r\n  'i18n!csui/pages/start/nls/lang'\r\n], function (_, PerspectiveRouter, publicLang) {\r\n  'use strict';\r\n\r\n  var applicationScopes = {\r\n    myassignments: _.str.sformat(publicLang.MyAssignmentsTitle, publicLang.ProductName),\r\n    recentlyaccessed: _.str.sformat(publicLang.RecentlyAccessedTitle, publicLang.ProductName),\r\n    favorites: _.str.sformat(publicLang.FavoritesTitle, publicLang.ProductName)\r\n  };\r\n\r\n  var RootPerspectiveRouter = PerspectiveRouter.extend({\r\n\r\n    name: 'Root',\r\n\r\n    routes: {\r\n      'myassignments': 'openMyAssignmentsPerspective',\r\n      'myassignments(?*query_string)': 'openMyAssignmentsPerspective',\r\n      'recentlyaccessed': 'openRecentlyAccessedPerspective',\r\n      'recentlyaccessed(?*query_string)': 'openRecentlyAccessedPerspective',\r\n      'favorites': 'openFavoritesPerspective',\r\n      'favorites(?*query_string)': 'openFavoritesPerspective'\r\n    },\r\n\r\n    constructor: function RootPerspectiveRouter(options) {\r\n      PerspectiveRouter.prototype.constructor.apply(this, arguments);\r\n\r\n      this.listenTo(this.applicationScope, 'change:id', this._updateUrl);\r\n    },\r\n\r\n    openRecentlyAccessedPerspective: function(query_string) {\r\n      this.openApplicationScope('recentlyaccessed', query_string);\r\n    },\r\n\r\n    openMyAssignmentsPerspective: function(query_string) {\r\n      this.openApplicationScope('myassignments', query_string);\r\n    },\r\n\r\n    openFavoritesPerspective: function(query_string) {\r\n      this.openApplicationScope('favorites', query_string);\r\n    },\r\n\r\n    openApplicationScope: function (scope, query_string) {\r\n      this.initViewStateFromUrlParams(query_string);\r\n      this.activate(false);\r\n      this._updatePageTitle();\r\n      this.applicationScope.set('id', scope);\r\n    },\r\n\r\n    isViewStateModelSupported: function () {\r\n      return true;\r\n    },\r\n\r\n    onViewStateChanged: function () {\r\n      this._updateUrl();\r\n    },\r\n\r\n    _updateUrl: function () {\r\n\r\n      // Skip scopes handled by other routers\r\n      var scope = this.applicationScope.id;\r\n\r\n      // if (scope !== 'tasks' && scope !== 'recent' && scope !== 'favorites' && scope !== 'search')\r\n      if (applicationScopes[scope]){\r\n\r\n        if (this !== this.getActiveRouter()) {\r\n          this.activate(true);\r\n        }\r\n\r\n        this._updatePageTitle();\r\n        this.navigate(scope);\r\n      }\r\n    },\r\n\r\n    _updatePageTitle: function () {\r\n      document.title = applicationScopes[this.applicationScope.id];\r\n    }\r\n\r\n  });\r\n\r\n  return RootPerspectiveRouter;\r\n\r\n});\r\n\n","csui.define('csui/utils/classic.nodes/impl/core.classic.nodes',[],function () {\r\n  'use strict';\r\n\r\n  return [\r\n    // Discussion\r\n    {\r\n      equals: {type: 215},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'view',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Discussion Topic or Reply\r\n    {\r\n      equals: {type: [130, 134]},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'view',\r\n          objId: node.get('id'),\r\n          show: 1,\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Task\r\n    {\r\n      equals: {type: 206},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'BrowseTask',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Task List\r\n    {\r\n      equals: {type: 204},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'BrowseTaskList',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Task Group\r\n    {\r\n      equals: {type: 205},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'BrowseTaskGroup',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Milestone\r\n    {\r\n      equals: {type: 212},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'BrowseMilestone',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Channel\r\n    {\r\n      equals: {type: 207},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'ViewChannel',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // News\r\n    {\r\n      equals: {type: 208},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'ViewNews',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Poll\r\n    {\r\n      equals: {type: 218},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'OpenPoll',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // LiveReport\r\n    {\r\n      equals: {type: 299},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'RunReport',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Prospector\r\n    {\r\n      equals: {type: 384},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'ProspectorBrowse',\r\n          objId: node.get('id'),\r\n          order: '-SCORE',\r\n          summaries: 1,\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // follow up\r\n    {\r\n      equals: {type: 31214},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'addresubmission',\r\n          RS_FUNCTION: 'Edit',\r\n          RSID: node.get('followup_id'),\r\n          objId: node.get('location_id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    }\r\n  ];\r\n});\r\n\n","csui.define('csui/utils/content.helper',[\r\n  'csui/utils/url', 'csui/models/version'\r\n], function (Url, VersionModel) {\r\n  'use strict';\r\n\r\n  function getContentPageUrl (node) {\r\n    var cgiUrl = new Url(node.connector.connection.url).getCgiScript();\r\n    var urlQuery = {\r\n      func: 'doc.fetchcsui',\r\n      nodeid: node.get('id')\r\n    };\r\n    if (node instanceof VersionModel || node.get('version_number')) {\r\n      urlQuery.vernum = node.get('version_number');\r\n    }\r\n    return Url.appendQuery(cgiUrl, Url.combineQueryString(urlQuery));\r\n  }\r\n\r\n  return {\r\n    getContentPageUrl: getContentPageUrl\r\n  };\r\n});\r\n\n","csui.define('csui/utils/impl/core.defaultactionitems',[\r\n  'csui/utils/classic.nodes/classic.nodes',\r\n  'csui/utils/smart.nodes/smart.nodes'\r\n], function (classicNodes, smartNodes) {\r\n  'use strict';\r\n\r\n  return [\r\n    // Document and Generation\r\n    // TODO: Move E-mail to its module\r\n    {\r\n      equals: {type: [144, 736, 2]},\r\n      signature: 'OpenDocument',\r\n      sequence: 10\r\n    },\r\n    // URL\r\n    {\r\n      type: 140,\r\n      signature: 'Navigate',\r\n      sequence: 30\r\n    },\r\n    // Saved Search Query\r\n    {\r\n      type: 258,\r\n      signature: 'ExecuteSavedQuery',\r\n      sequence: 30\r\n    },\r\n    // Nodes forced to be opened in Classic UI\r\n    {\r\n      signature: 'OpenSpecificClassicPage',\r\n      sequence: 600,\r\n      decides: function (node) {\r\n        return classicNodes.isForced(node);\r\n      }\r\n    },\r\n    // Containers (supported in Smart UI, but need a permission check)\r\n    // THis fallback rule comes after the \"OpenSpecificClassicPage\" command,\r\n    // because some containers may want to get redirected to Classic UI.\r\n    {\r\n      equals: {container: true},\r\n      signature: 'Browse',\r\n      sequence: 700\r\n    },\r\n    // Nodes, which should have just their perspective open in Smart UI\r\n    {\r\n      signature: 'OpenSpecificNodePerspective',\r\n      sequence: 800,\r\n      decides: function (node) {\r\n        return smartNodes.isSupported(node);\r\n      }\r\n    }\r\n  ];\r\n});\r\n\n","csui.define('csui/utils/non-attaching.region/non-attaching.region',['csui/lib/marionette'], function (Marionette) {\r\n  'use strict';\r\n\r\n  var NonAttachingRegion = Marionette.Region.extend({\r\n\r\n    constructor: function NonAttachingRegion(options) {\r\n      Marionette.Region.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    attachHtml: function (view) {}\r\n\r\n  });\r\n\r\n  return NonAttachingRegion;\r\n\r\n});\r\n\n","csui.define('csui/utils/script-executing.region/script-executing.region',['csui/lib/marionette'], function (Marionette) {\r\n  'use strict';\r\n\r\n  var ScriptExecutingRegion = Marionette.Region.extend({\r\n\r\n    constructor: function ScriptExecutingRegion(options) {\r\n      Marionette.Region.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    attachHtml: function(view) {\r\n      this.$el\r\n          .html('')\r\n          .append(view.el);\r\n    }\r\n\r\n  });\r\n\r\n  return ScriptExecutingRegion;\r\n\r\n});\r\n\n","csui.define('csui/utils/node.links/impl/core.node.links',[\r\n  'csui/utils/url'\r\n], function (Url) {\r\n  'use strict';\r\n\r\n  return [\r\n    {\r\n      equals: {\r\n        type: 140\r\n      },\r\n      getUrl: function (node) {\r\n        return node.get('url');\r\n      }\r\n    },\r\n    {\r\n      equals: {\r\n        type: 258\r\n      },\r\n      getUrl: function (node) {\r\n        return Url.combine('search/query_id/', node.get('id'));\r\n      }\r\n    },\r\n    {\r\n      sequence: 1000,\r\n      getUrl: function (node) {\r\n        return Url.combine('nodes/', node.get('id'));\r\n      }\r\n    }\r\n  ];\r\n});\r\n\n","csui.define('csui/utils/open.authenticated.page',[\r\n  'csui/lib/jquery', 'csui/utils/url'\r\n], function ($, Url) {\r\n  'use strict';\r\n\r\n  function openAuthenticatedPage (connector, url, options) {\r\n    var cgiUrl = new Url(connector.connection.url).getCgiScript();\r\n    var ticket = connector.connection.session.ticket;\r\n\r\n    var contentDocument = createWindowDocument();\r\n    var form = createForm();\r\n    createField('func', 'csui.authenticate');\r\n    createField('otcsticket', ticket);\r\n    createField('nexturl', url);\r\n    form.submit();\r\n\r\n    return $.Deferred().resolve().promise();\r\n\r\n    function createWindowDocument() {\r\n      options || (options = {});\r\n      var content = options.window || (options.openInNewTab === false ?\r\n          window : window.open('', '_blank'));\r\n      return content.document;\r\n    }\r\n\r\n    function createForm() {\r\n      var form = contentDocument.createElement('form');\r\n      form.setAttribute('method', 'post');\r\n      form.setAttribute('action', cgiUrl);\r\n      contentDocument.body.appendChild(form);\r\n      return form;\r\n    }\r\n\r\n    function createField(name, value) {\r\n      var field = contentDocument.createElement('input');\r\n      field.setAttribute('name', name);\r\n      field.setAttribute('value', value);\r\n      field.setAttribute('type', 'hidden');\r\n      form.appendChild(field);\r\n    }\r\n  }\r\n\r\n  return openAuthenticatedPage;\r\n});\r\n\n","csui.define('csui/utils/smart.nodes/impl/core.smart.nodes',[],function () {\r\n  'use strict';\r\n\r\n  return [\r\n    // Document and Generation\r\n    // TODO: Move E-mail to its module\r\n    {\r\n      equals: {type: [144, 736, 2]},\r\n    },\r\n    // Containers - browse children by default\r\n    {\r\n      equals: {container: true},\r\n      sequence: 1000\r\n    }\r\n  ];\r\n});\r\n\n","csui.define('csui/utils/taskqueue',['module', 'csui/lib/jquery', 'csui/lib/underscore',\r\n  'csui/lib/backbone', 'csui/utils/log'\r\n], function (module, $, _, Backbone, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var Task = Backbone.Model.extend({\r\n\r\n    constructor: function Task(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.deferred = $.Deferred();\r\n    },\r\n\r\n    promise: function () {\r\n      return this.deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  var TaskCollection = Backbone.Collection.extend({model: Task});\r\n\r\n  function TaskQueue(options) {\r\n    this.parallelism = options && options.parallelism || Infinity;\r\n    this.pending = new TaskCollection(undefined, {model: Task});\r\n    this.pending.on(\"add\", this.dequeue, this);\r\n    this.active = new TaskCollection(undefined, {model: Task});\r\n  }\r\n\r\n  _.extend(TaskQueue.prototype, {\r\n\r\n    dequeue: function () {\r\n      var task;\r\n      log.debug(\r\n          'Pending queue {0} contains {1} tasks, active queue {0} contains {1} tasks.',\r\n          this.pending.cid, this.pending.length, this.active.cid, this.active.length)\r\n      && console.log(log.last);\r\n      if (this.active.length < this.parallelism &&\r\n          (task = this.pending.shift())) {\r\n        this.execute(task);\r\n        this.dequeue();\r\n      }\r\n    },\r\n\r\n    execute: function (task) {\r\n      log.debug('Executing task {0}...', task.cid)\r\n      && console.log(log.last);\r\n      this.active.add(task);\r\n      task.get(\"worker\")()\r\n          .done(task.deferred.done)\r\n          .fail(task.deferred.fail)\r\n          .always(_.bind(function () {\r\n            this.active.remove(task);\r\n            this.dequeue();\r\n          }, this));\r\n    }\r\n\r\n  });\r\n\r\n  TaskQueue.Task = Task;\r\n  TaskQueue.TaskCollection = TaskCollection;\r\n  TaskQueue.version = \"1.0\";\r\n\r\n  return TaskQueue;\r\n\r\n});\r\n\n","csui.define('csui/models/node/node.addable.type.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node',\r\n  'csui/models/node/node.addable.type.collection'\r\n], function (module, _, Backbone, CollectionFactory, NodeModelFactory, NodeAddableTypeCollection) {\r\n\r\n  var AddableTypeCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'addableTypes',\r\n\r\n    constructor: function AddableTypeCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var addableTypes = this.options.addableTypes || {};\r\n      if (!(addableTypes instanceof Backbone.Collection)) {\r\n        var node   = context.getModel(NodeModelFactory, options),\r\n            config = module.config();\r\n        addableTypes = new NodeAddableTypeCollection(addableTypes.models,\r\n            _.defaults(\r\n                {\r\n                  // Prefer refreshing the entire collection after re-fetching it\r\n                  // to improve rendering performance\r\n                  autoreset: true\r\n                },\r\n                addableTypes.options,\r\n                config.options,\r\n                // node is intentionally listed at the end to give previous options preference\r\n                {node: node}\r\n            ));\r\n      }\r\n      this.property = addableTypes;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  return AddableTypeCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/context',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette', 'csui/utils/base', 'csui/utils/log', 'csui/models/view.state.model'\r\n], function (_, $, Backbone, Marionette, base, log, viewStateModel) {\r\n  'use strict';\r\n\r\n  var Context = Marionette.Controller.extend({\r\n\r\n    constructor: function Context(options) {\r\n      this.cid = _.uniqueId('context');\r\n      Marionette.Controller.prototype.constructor.apply(this, arguments);\r\n      this._factories = {};\r\n      // Prevent pre-set attributes to take part in unique object prefixes;\r\n      // global options passed to all factories are only for initializing\r\n      _.each(this.options.factories, function (object, key) {\r\n        object.internal = true;\r\n      });\r\n\r\n      this.viewStateModel = viewStateModel;\r\n    },\r\n\r\n    // Offer an intuitive interface; when a model is needed, use getModel, when a collection\r\n    // is needed, use getCollection, and when other object is needed, use getObject\r\n    getModel: getObject,      // NodeModel, e.g.\r\n    getCollection: getObject, // FavoriteCollection, e.g.\r\n    getObject: getObject,     // Connector, e.g.\r\n\r\n    // Offer an intuitive interface; when a model is needed, use hasModel, when a collection\r\n    // is needed, use hasCollection, and when other object is needed, use hasObject\r\n    hasModel: hasObject,      // NodeModel, e.g.\r\n    hasCollection: hasObject, // FavoriteCollection, e.g.\r\n    hasObject: hasObject,     // Connector, e.g.\r\n\r\n    getFactory: function (Factory, options) {\r\n      return this._getFactory(Factory, options, true);\r\n    },\r\n\r\n    clear: function (options) {\r\n      log.info('Clearing the context started.') && console.log(log.last);\r\n      this.triggerMethod('before:clear', this);\r\n      if (options && options.all) {\r\n        this._destroyAllFactories();\r\n      } else {\r\n        this._destroyNonPermanentFactories();\r\n      }\r\n      log.info('Clearing the context succeeded.') && console.log(log.last);\r\n      this.triggerMethod('clear', this);\r\n      return this;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      log.info('Fetching the context started.') && console.log(log.last);\r\n      this.triggerMethod('request', this);\r\n      this._destroyTemporaryFactories();\r\n      var self = this,\r\n          promises = _.chain(this._factories)\r\n              .filter(function (factory) {\r\n                return self._isFetchable(factory);\r\n              })\r\n              .map(function (factory) {\r\n                var clonedOptions = options ? _.clone(options) : {};\r\n                return factory.fetch(clonedOptions);\r\n              })\r\n              .compact()\r\n              .value();\r\n      return $.when\r\n          .apply($, promises)\r\n          .then(function () {\r\n            log.info('Fetching the context succeeded.') && console.log(log.last);\r\n            self.triggerMethod('sync', self);\r\n          }, function (request, statusText, messageText) {\r\n            var error = new base.Error(request);\r\n            log.error('Fetching the context failed: {0}', error) &&\r\n            console.error(log.last);\r\n            self.triggerMethod('error', error);\r\n            return $.Deferred().reject(error);\r\n          });\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      if (factory.options.detached) {\r\n        return false;\r\n      }\r\n      if (factory.isFetchable) {\r\n        return factory.isFetchable();\r\n      }\r\n      return !!factory.fetch;\r\n    },\r\n\r\n    _destroyTemporaryFactories: function () {\r\n      this._factories = _.pick(this._factories, function (factory) {\r\n        if (factory.options.temporary) {\r\n          factory.destroy();\r\n        } else {\r\n          return true;\r\n        }\r\n      }, this);\r\n    },\r\n\r\n    _destroyNonPermanentFactories: function () {\r\n      this._factories = _.pick(this._factories, function (factory) {\r\n        if (factory.options && factory.options.permanent) {\r\n          return true;\r\n        } else {\r\n          factory.destroy();\r\n        }\r\n      }, this);\r\n    },\r\n\r\n    _destroyAllFactories: function () {\r\n      _.each(this._factories, function (factory) {\r\n        factory.destroy();\r\n      });\r\n      this._factories = {};\r\n    },\r\n\r\n    _getPropertyName: function (Factory, options) {\r\n      options || (options = {});\r\n      // Pre-initializing the model with its type or id will make it unique in the context\r\n      var attributes = options.attributes || {};\r\n\r\n      // Stamp globally unique factory names by an artificial attribute\r\n      if (options.unique) {\r\n        attributes = _.extend({\r\n          stamp: _.uniqueId()\r\n        }, attributes);\r\n      }\r\n      return _.reduce(attributes, function (result, value, key) {\r\n        if (value == null) {\r\n          return result;\r\n        }\r\n        if(result !== null) {\r\n          return result + '-' + key + '-' + value;\r\n        }\r\n        return key + '-' + value;\r\n      }, Factory.prototype.propertyPrefix);\r\n    },\r\n\r\n    _getFactory: function (Factory, options, createIfNotFound) {\r\n      // Support getting objects by the factory name, if the factory object\r\n      // cannot be required as a dependency\r\n      if (typeof Factory === 'string') {\r\n        return this._factories[Factory];\r\n      }\r\n      options || (options = {});\r\n      // Factories expect their options in a property named with their prefix; options for all\r\n      // factories are together to allow passing options to nested factories\r\n      var propertyPrefix = Factory.prototype.propertyPrefix,\r\n          globalOptions = this.options.factories || {},\r\n          objectOptions, nameOptions, factoryOptions;\r\n      // Calls outside the factories can pass options.  Further calls to nested factories include\r\n      // options from the context constructor already; do not extend the options in that case.\r\n      if (options.internal) {\r\n        objectOptions = options[propertyPrefix];\r\n        // It is not possible to use the pre-initializing of the factory\r\n        // properties for nested factories.  It works only on the first\r\n        // level - for the caller outside the context constructor.\r\n        if (objectOptions && !objectOptions.internal &&\r\n            !(objectOptions instanceof Backbone.Model)) {\r\n          // Limit the parameters to the only object useful for the _getPropertyName\r\n          nameOptions = {\r\n            attributes: objectOptions.attributes,\r\n            unique: objectOptions.unique\r\n          };\r\n        }\r\n      } else {\r\n        // The caller outside the factories does not need to wrap the options in the factory\r\n        // prefix key; we do it here for their convenience\r\n        objectOptions = options[propertyPrefix];\r\n        // If no factory options were passed in, let the context ctor options merge in\r\n        if (objectOptions === undefined && !_.isEmpty(options)) {\r\n          // Merge this factory options from context constructor with getObject arguments\r\n          factoryOptions = _.omit(options,\r\n              'detached', 'permanent', 'temporary', 'unique');\r\n          if (!_.isEmpty(factoryOptions)) {\r\n            options[propertyPrefix] = _.defaults(factoryOptions, globalOptions[propertyPrefix]);\r\n          }\r\n        }\r\n        _.defaults(options, {\r\n          internal: true\r\n        }, globalOptions);\r\n        // Prefer the attributes passed to the getObject method directly\r\n        // to the attributes passed via the factory-specific options.\r\n        // If the factory-specific options are a Backbone model, it is\r\n        // the scenario pre-initializing the factory properties and the\r\n        // explicit attributes are mandatory then.\r\n        nameOptions = {\r\n          attributes: options.attributes,\r\n          unique: options.unique\r\n        };\r\n        if (!nameOptions.attributes && objectOptions && !objectOptions.internal &&\r\n            !(objectOptions instanceof Backbone.Model)) {\r\n          // Limit the parameters to the only object useful for the _getPropertyName\r\n          nameOptions = {\r\n            attributes: objectOptions.attributes,\r\n            unique: objectOptions.unique\r\n          };\r\n        }\r\n      }\r\n      // The property name for the factory is computed just from its options\r\n      var propertyName = this._getPropertyName(Factory, nameOptions),\r\n          factory = this._factories[propertyName];\r\n      if (!factory && createIfNotFound) {\r\n        options.factoryName = propertyName;\r\n        factory = new Factory(this, options);\r\n        this._factories[propertyName] = factory;\r\n      }\r\n      return factory;\r\n    }\r\n\r\n  });\r\n\r\n  function getObject(Factory, options) {\r\n    var factory = this._getFactory(Factory, options, true);\r\n    return factory.property;\r\n  }\r\n\r\n  function hasObject(Factory, options) {\r\n    return !!this._getFactory(Factory, options, false);\r\n  }\r\n\r\n  return Context;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/context.plugin',[\r\n  'csui/lib/underscore', 'csui/lib/backbone'\r\n], function (_, Backbone) {\r\n  'use strict';\r\n\r\n  function ContextPlugin(options) {\r\n    this.context = options.context;\r\n  }\r\n\r\n  _.extend(ContextPlugin.prototype, Backbone.Events, {\r\n    // Called when a factory is questioned if it is fetchable; it will be\r\n    // considered fetchable, unless this method returns false\r\n    isFetchable: function (factory) {}\r\n  });\r\n\r\n  ContextPlugin.extend = Backbone.Model.extend;\r\n\r\n  return ContextPlugin;\r\n});\r\n\n","csui.define('csui/utils/contexts/impl/node.opening.context',[\r\n  'csui/utils/contexts/context',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/node.links/node.links',\r\n  'csui/utils/contexts/factories/user'\r\n], function (Context, ConnectorFactory, NextNodeModelFactory,\r\n    nodeLinks, UserModelFactory) {\r\n  'use strict';\r\n\r\n  // FIXME: Copied from node perspective context plugin.\r\n  var nodeOptions = {\r\n    fields: {\r\n      properties: [],\r\n      columns: [],\r\n      'versions.element(0)': ['mime_type']\r\n    },\r\n    includeResources: ['metadata', 'perspective']\r\n  };\r\n\r\n  var NodeOpeningContext = Context.extend({\r\n    constructor: function NodeOpeningContext(options) {\r\n      Context.prototype.constructor.apply(this, arguments);\r\n\r\n      this.connector = this.getObject(ConnectorFactory, {\r\n        permanent: true,\r\n        detached: true\r\n      });\r\n      this.user = this.getModel(UserModelFactory, {\r\n        permanent: true\r\n      });\r\n      this.nextNode = this.getModel(\r\n          NextNodeModelFactory, {\r\n            options: nodeOptions,\r\n            permanent: true,\r\n            detached: true\r\n          })\r\n          .on('change:id', this.onNextNodeChanged, this);\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      return Context.prototype._isFetchable.apply(this, arguments) &&\r\n             // The user model should be fetched only at the beginning\r\n             (factory.property !== this.user || !this.user.get('id'));\r\n    },\r\n\r\n    openNodePage: function (node) {\r\n      this.triggerMethod('before:open:page', this, this.nextNode);\r\n      window.open(nodeLinks.getUrl(node));\r\n    }\r\n  });\r\n\r\n  return NodeOpeningContext;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/previous.node',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/node/node.model'\r\n], function (module, _, Backbone, ModelFactory, ConnectorFactory, NodeModel) {\r\n  'use strict';\r\n\r\n  var PreviousNodeModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'previousNode',\r\n\r\n    constructor: function PreviousNodeModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var connector = context.getObject(ConnectorFactory, options),\r\n          config = module.config();\r\n      this.property = new NodeModel(undefined,\r\n          _.defaults({\r\n            connector: connector\r\n          }, config.options));\r\n    }\r\n\r\n  });\r\n\r\n  return PreviousNodeModelFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/impl/delayed.actions.for.node',[\r\n  'csui/utils/commands', 'csui/utils/defaultactionitems'\r\n], function (commands, defaultActionItems) {\r\n  'use strict';\r\n\r\n  function delayCommands (node) {\r\n    node.resetCommands();\r\n    node.resetDefaultActionCommands();\r\n    node.setCommands(commands.getAllSignatures());\r\n    node.setDefaultActionCommands(defaultActionItems.getAllCommandSignatures(commands));\r\n    node.setEnabledDelayRestCommands(true, false);\r\n  }\r\n\r\n  function relayActionEvents (context) {\r\n    if (context.nextNode.delayRestCommands) {\r\n      context.nextNode.delayedActions\r\n          .on('request', relayRequestNodeActions, context)\r\n          .on('sync', relaySyncNodeActions, context)\r\n          .on('error', relayErrorNodeActions, context);\r\n      context.nextNode.actions\r\n          .on('reset update', relayUpdateNodeActions, context);\r\n      resumeRelayingActionEvents(context);\r\n    }\r\n  }\r\n\r\n  function relayRequestNodeActions () {\r\n    if (this.relayingActionEvents) {\r\n      var delayedActions = this.node.delayedActions;\r\n      delayedActions._fetchStarted();\r\n      delayedActions.trigger('request', delayedActions, {}, {});\r\n      delayedActions.fetching = this.nextNode.delayedActions.fetching;\r\n    }\r\n  }\r\n\r\n  function relaySyncNodeActions () {\r\n    if (this.relayingActionEvents) {\r\n      var delayedActions = this.node.delayedActions;\r\n      delayedActions._fetchSucceeded();\r\n      delayedActions.trigger('sync', delayedActions, {}, {});\r\n    }\r\n  }\r\n\r\n  function relayErrorNodeActions () {\r\n    if (this.relayingActionEvents) {\r\n      var delayedActions = this.node.delayedActions;\r\n      delayedActions._fetchFailed();\r\n      delayedActions.trigger('error', delayedActions, {}, {});\r\n    }\r\n  }\r\n\r\n  function relayUpdateNodeActions () {\r\n    if (this.relayingActionEvents) {\r\n      updateNodeActions(this);\r\n    }\r\n  }\r\n\r\n  function suppressRelayingActionEvents (context) {\r\n    if (context.nextNode.delayRestCommands) {\r\n      context.relayingActionEvents = false;\r\n    }\r\n  }\r\n\r\n  function resumeRelayingActionEvents (context) {\r\n    if (context.nextNode.delayRestCommands) {\r\n      context.relayingActionEvents = true;\r\n    }\r\n  }\r\n\r\n  function updateNodeActions(context) {\r\n    if (context.nextNode.delayRestCommands) {\r\n      context.node.actions.reset(context.nextNode.actions.models);\r\n    }\r\n  }\r\n\r\n  return {\r\n    delayCommands: delayCommands,\r\n    relayActionEvents: relayActionEvents,\r\n    suppressRelayingActionEvents: suppressRelayingActionEvents,\r\n    resumeRelayingActionEvents: resumeRelayingActionEvents,\r\n    updateNodeActions: updateNodeActions\r\n  };\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/browsing/browsing.context',[\r\n  'require', 'csui/lib/underscore',\r\n  'csui/utils/contexts/impl/node.opening.context',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/utils/contexts/factories/previous.node',\r\n  'csui/utils/contexts/impl/delayed.actions.for.node',\r\n  'csui-ext!csui/utils/contexts/browsing/browsing.context'\r\n], function (require, _, NodeOpeningContext, NodeModelFactory,\r\n    PreviousNodeModelFactory, delayedActions, contextPlugins) {\r\n  'use strict';\r\n\r\n  // FIXME: Copied from node perspective context plugin.\r\n  var nodeOptions = {\r\n    fields: {\r\n      properties: [],\r\n      columns: []\r\n    },\r\n    includeResources: ['metadata', 'perspective']\r\n  };\r\n\r\n  var BrowsingContext = NodeOpeningContext.extend({\r\n    constructor: function BrowsingContext(options) {\r\n      NodeOpeningContext.prototype.constructor.apply(this, arguments);\r\n\r\n      this.on('request', this._changeNode, this);\r\n\r\n      this.previousNode = this.getModel(PreviousNodeModelFactory, {\r\n        permanent: true,\r\n        detached: true\r\n      });\r\n      // TODO: Re-enable delayed actions once views can handle them properly.\r\n      // delayedActions.delayCommands(this.nextNode);\r\n      delayedActions.relayActionEvents(this);\r\n      this.node = this.getModel(NodeModelFactory, {\r\n        options: nodeOptions,\r\n        permanent: true,\r\n        detached: true\r\n      });\r\n      // TODO: Re-enable delayed actions once views can handle them properly.\r\n      // delayedActions.delayCommands(this.node);\r\n\r\n      // Keep the same order as in perspective context\r\n      var Plugins = _\r\n          .chain(options && options.plugins || contextPlugins)\r\n          .flatten(true)\r\n          .unique()\r\n          .reverse()\r\n          .value();\r\n      this._plugins = _.map(Plugins, function (Plugin) {\r\n        return new Plugin({context: this});\r\n      }, this);\r\n      _.invoke(this._plugins, 'onCreate');\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      return NodeOpeningContext.prototype._isFetchable.apply(this, arguments) &&\r\n             _.all(this._plugins, function (plugin) {\r\n               return plugin.isFetchable(factory) !== false;\r\n             });\r\n    },\r\n\r\n    onNextNodeChanged: function () {\r\n      // Setting just node ID to nextNode will try to drill down;\r\n      // non-containers are handled by opening a new window, but\r\n      // need passing more node attributes to nextNode\r\n      if (this.nextNode.get('container') !== false) {\r\n        this.enterContainer();\r\n      } else {\r\n        this.openNewNodePage();\r\n      }\r\n    },\r\n\r\n    openNewNodePage: function () {\r\n      this.openNodePage(this.nextNode);\r\n      this.nextNode.clear({silent: true});\r\n    },\r\n\r\n    enterContainer: function () {\r\n      this.triggerMethod('before:enter:container', this, this.nextNode);\r\n      this.nextNode\r\n          .fetch()\r\n          .then(function () {\r\n            this._enteringContainer = true;\r\n            return this.fetch();\r\n          }.bind(this))\r\n          .fail(function (error) {\r\n            require(['csui/dialogs/modal.alert/modal.alert'], function (ModalAlert) {\r\n              ModalAlert.showError(error.toString());\r\n            });\r\n          });\r\n    },\r\n\r\n    _changeNode: function () {\r\n      if (this._enteringContainer) {\r\n        this.previousNode.clear({silent: true});\r\n        this.previousNode.set(this.node.attributes);\r\n        this.node.clear({silent: true});\r\n        this.node.set(this.nextNode.attributes);\r\n        delayedActions.updateNodeActions(this);\r\n        this.nextNode.clear({silent: true});\r\n        this._enteringContainer = false;\r\n      }\r\n    },\r\n\r\n    fetch: function () {\r\n      var parameters = Array.prototype.slice.apply(arguments),\r\n          self = this;\r\n\r\n      function continueFetching () {\r\n        NodeOpeningContext.prototype.fetch.apply(self, parameters);\r\n      }\r\n\r\n      if (!this._enteringContainer && this.node.isFetchable()) {\r\n        this.triggerMethod('before:enter:container', this, this.node);\r\n        return this.node\r\n            .fetch()\r\n            .then(continueFetching);\r\n      }\r\n      return continueFetching();\r\n    }\r\n  });\r\n\r\n  return BrowsingContext;\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/page/page.context',[\r\n  'csui/lib/underscore', 'csui/utils/contexts/context',\r\n  'csui-ext!csui/utils/contexts/page/page.context'\r\n], function (_, Context, contextPlugins) {\r\n  'use strict';\r\n\r\n  var PageContext = Context.extend({\r\n    constructor: function PageContext() {\r\n      Context.prototype.constructor.apply(this, arguments);\r\n\r\n      // Keep the same order as in perspective context\r\n      var Plugins = _\r\n          .chain(contextPlugins)\r\n          .flatten(true)\r\n          .unique()\r\n          .reverse()\r\n          .value();\r\n      this._plugins = _.map(Plugins, function (Plugin) {\r\n        return new Plugin({context: this});\r\n      }, this);\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      return Context.prototype._isFetchable.apply(this, arguments) &&\r\n             _.all(this._plugins, function (plugin) {\r\n               return plugin.isFetchable(factory) !== false;\r\n             });\r\n    }\r\n  });\r\n\r\n  return PageContext;\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/portal/portal.context',[\r\n  'csui/lib/underscore', 'csui/utils/contexts/impl/node.opening.context',\r\n  'csui-ext!csui/utils/contexts/portal/portal.context'\r\n], function (_, NodeOpeningContext, contextPlugins) {\r\n  'use strict';\r\n\r\n  var PortalContext = NodeOpeningContext.extend({\r\n    constructor: function PortalContext(options) {\r\n      NodeOpeningContext.prototype.constructor.apply(this, arguments);\r\n\r\n      // Keep the same order as in perspective context\r\n      var Plugins = _\r\n          .chain(options && options.plugins || contextPlugins)\r\n          .flatten(true)\r\n          .unique()\r\n          .reverse()\r\n          .value();\r\n      this._plugins = _.map(Plugins, function (Plugin) {\r\n        return new Plugin({context: this});\r\n      }, this);\r\n      _.invoke(this._plugins, 'onCreate');\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      return NodeOpeningContext.prototype._isFetchable.apply(this, arguments) &&\r\n             _.all(this._plugins, function (plugin) {\r\n               return plugin.isFetchable(factory) !== false;\r\n             });\r\n    },\r\n\r\n    onNextNodeChanged: function () {\r\n      this.openNewNodePage();\r\n    },\r\n\r\n    openNewNodePage: function () {\r\n      this.openNodePage(this.nextNode);\r\n      this.nextNode.clear({silent: true});\r\n    }\r\n  });\r\n\r\n  return PortalContext;\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/perspective.context.plugin',[\r\n  'csui/utils/contexts/context.plugin'\r\n], function (ContextPlugin) {\r\n  'use strict';\r\n\r\n  var PerspectiveContextPlugin = ContextPlugin.extend({\r\n    // Called when the context and all plugins are constructed.\r\n    onCreate: function () {},\r\n\r\n    // Called when the perspective was fetched, but it was not applied yet.\r\n    // If it returns `true` the original perspective will not be applied; the\r\n    // plugin si expected to apply an alternative one.\r\n    onApply: function () {},\r\n\r\n    // Called when the context is cleared, when a new perspective is loading\r\n    onClear: function () {},\r\n\r\n    // Called when the context is going to be re-fetched, because the current\r\n    // perspective did not change\r\n    onRefresh: function () {},\r\n  });\r\n\r\n  return PerspectiveContextPlugin;\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/perspective/landing.perspectives',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external perspectives\r\n  'csui-ext!csui/utils/contexts/perspective/landing.perspectives'\r\n], function (_, Backbone, RulesMatchingMixin, extraPerspectives) {\r\n\r\n  var UserPerspectiveModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      sequence: 100,\r\n      important: false,\r\n      module: null\r\n    },\r\n\r\n    constructor: function UserPerspectiveModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(UserPerspectiveModel.prototype);\r\n\r\n  var UserPerspectiveCollection = Backbone.Collection.extend({\r\n\r\n    model: UserPerspectiveModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function UserPerspectiveCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findByUser: function (user) {\r\n      return this.find(function (item) {\r\n        return item.matchRules(user, item.attributes);\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  var userPerspectives = new UserPerspectiveCollection([\r\n    {\r\n      // default landing page\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/user.json',\r\n      sequence: 10000\r\n    }\r\n  ]);\r\n\r\n  if (extraPerspectives) {\r\n    userPerspectives.add(_.flatten(extraPerspectives, true));\r\n  }\r\n\r\n  return userPerspectives;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/impl/landing.perspective.context.plugin',['csui/lib/underscore', 'csui/utils/log',\r\n  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/landing.perspectives',\r\n  'csui/models/perspective/personalization.model',\r\n], function (_, log, UserModelFactory, ApplicationScopeModelFactory,\r\n    PerspectiveContextPlugin, landingPerspectives, PersonalizationModel) {\r\n  'use strict';\r\n\r\n  var LandingPerspectiveContextPlugin = PerspectiveContextPlugin.extend({\r\n\r\n    constructor: function LandingPerspectiveContextPlugin(options) {\r\n      PerspectiveContextPlugin.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context\r\n          .getModel(ApplicationScopeModelFactory)\r\n          .on('change:id', this._fetchLandingPerspective, this);\r\n      this.userFactory = this.context.getFactory(UserModelFactory);\r\n      this.user = this.userFactory.property;\r\n    },\r\n\r\n    _fetchLandingPerspective: function () {\r\n      // Empty scope means landing page\r\n      if (this.applicationScope.id) {\r\n        return;\r\n      }\r\n      this.context.triggerMethod('request:perspective', this);\r\n      // Use the factory to allow pre-fetching data from the page.\r\n      this.userFactory.fetch({\r\n        success: _.bind(this._onUserFetchSuccess, this, this.user),\r\n        error: _.bind(this.context.rejectPerspective, this.context)\r\n      });\r\n    },\r\n\r\n    _onUserFetchSuccess: function (user) {\r\n      // TODO Reconsider having this function to fetch personalization once REST API is ready.\r\n      var that = this;\r\n      PersonalizationModel.loadPersonalization(user, this.context)\r\n          .then(\r\n              _.bind(this._changePerspective, this, user),\r\n              _.bind(this.context.rejectPerspective, this.context));\r\n    },\r\n\r\n    _changePerspective: function (sourceModel, personalization) {\r\n      var perspectiveModule,\r\n          perspective = landingPerspectives.findByUser(sourceModel);\r\n\r\n      // Let override landing page on the client side\r\n      if ((_.isEmpty(sourceModel.get('perspective')) && _.isEmpty(personalization)) ||\r\n          perspective.get('important')) {\r\n        perspectiveModule = perspective.get('module');\r\n      }\r\n      if (perspectiveModule) {\r\n        return this.context.overridePerspective(sourceModel, perspectiveModule);\r\n      }\r\n      this.context.applyPerspective(sourceModel, false, personalization);\r\n    }\r\n\r\n  });\r\n\r\n  return LandingPerspectiveContextPlugin;\r\n\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/perspective/node.perspectives',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external perspectives\r\n  'csui-ext!csui/utils/contexts/perspective/node.perspectives'\r\n], function (_, Backbone, RulesMatchingMixin, extraPerspectives) {\r\n\r\n  var NodePerspectiveModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      sequence: 100,\r\n      important: false,\r\n      module: null\r\n    },\r\n\r\n    constructor: function NodePerspectiveModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(NodePerspectiveModel.prototype);\r\n\r\n  var NodePerspectiveCollection = Backbone.Collection.extend({\r\n\r\n    model: NodePerspectiveModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function NodePerspectiveCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findByNode: function (node) {\r\n      return this.find(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  var nodePerspectives = new NodePerspectiveCollection([\r\n    {\r\n      // saved search query\r\n      equals: {type: 258},\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/saved.query.json',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // document\r\n      equals: {type: 144},\r\n      important: true,\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/document.overview.json',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // node container\r\n      equals: {container: true},\r\n      persist: true,\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/container.json',\r\n      sequence: 1000\r\n    },\r\n    {\r\n      // default node\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/metadata.json',\r\n      sequence: 10000\r\n    }\r\n  ]);\r\n\r\n  if (extraPerspectives) {\r\n    nodePerspectives.add(_.flatten(extraPerspectives, true));\r\n  }\r\n\r\n  return nodePerspectives;\r\n\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/perspective/plugins/node/node.extra.data',[\r\n  'csui/lib/underscore',\r\n  // Load external extra node data\r\n  'csui-ext!csui/utils/contexts/perspective/plugins/node/node.extra.data'\r\n], function (_, extraNodeData) {\r\n  'use strict';\r\n\r\n  return {\r\n    getModelFields: function (options) {\r\n      var modelFields = {};\r\n      if (extraNodeData) {\r\n        _.each(extraNodeData, function (nodeData) {\r\n          if (nodeData.getModelFields) {\r\n            _.mapObject(nodeData.getModelFields(options), function (val, key) {\r\n              modelFields[key] = _.union(modelFields[key], val);\r\n            });\r\n          }\r\n        });\r\n      }\r\n      return modelFields;\r\n    },\r\n\r\n    getModelExpand: function (options) {\r\n      var modelExpands = {};\r\n      if (extraNodeData) {\r\n        _.each(extraNodeData, function (nodeData) {\r\n          if (nodeData.getModelExpand) {\r\n            _.mapObject(nodeData.getModelExpand(options), function (val, key) {\r\n              modelExpands[key] = _.union(modelExpands[key], val);\r\n            });\r\n          }\r\n        });\r\n      }\r\n      return modelExpands;\r\n    }\r\n  };\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/plugins/node/node.perspective.context.plugin',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/contexts/factories/previous.node',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/node.perspectives',\r\n  'csui/utils/classic.nodes/classic.nodes',\r\n  'csui/utils/contexts/impl/delayed.actions.for.node',\r\n  'csui/utils/contexts/perspective/plugins/node/node.extra.data',\r\n  'csui/models/perspective/personalization.model'\r\n], function (module, _, Backbone, NodeModelFactory, NextNodeModelFactory,\r\n    PreviousNodeModelFactory, ApplicationScopeModelFactory,\r\n    PerspectiveContextPlugin, nodePerspectives, classicNodes,\r\n    delayedActions, nodeExtraData, PersonalizationModel) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  var sendOriginParams  = config.sendOriginParams;\r\n\r\n  var nodeOptions = {\r\n    fields: nodeExtraData.getModelFields(),\r\n    expand: nodeExtraData.getModelExpand(),\r\n    includeResources: ['metadata', 'perspective']\r\n  };\r\n\r\n  var NodePerspectiveContextPlugin = PerspectiveContextPlugin.extend({\r\n    constructor: function NodePerspectiveContextPlugin(options) {\r\n      PerspectiveContextPlugin.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context\r\n          .getModel(ApplicationScopeModelFactory);\r\n\r\n      this.nextNodeFactory = this.context.getFactory(NextNodeModelFactory, {\r\n        options: nodeOptions,\r\n        permanent: true,\r\n        detached: true\r\n      });\r\n      this.nextNode = this.nextNodeFactory.property;\r\n      // TODO: Re-enable delayed actions once views can handle them properly.\r\n      // delayedActions.delayCommands(this.nextNode);\r\n      delayedActions.relayActionEvents(this);\r\n      this.nextNode.on('change:id', this._fetchNodePerspective, this);\r\n\r\n      // TODO: Remove previousNode. Nobody should use it.\r\n      this.previousNode = this.context\r\n          .getModel(PreviousNodeModelFactory, {\r\n            permanent: true,\r\n            detached: true\r\n          });\r\n\r\n      // Move the contextual node out of permanent factories; it cannot be\r\n      // retained, because when the perspective switches, other models could\r\n      // be listening on it and would waist a fetch, because their views are\r\n      // going to be destroyed with the old perspective. Create the node right\r\n      // away, though, to ensure, that the expected factory options will be set.\r\n      createNodeModel.call(this);\r\n    },\r\n\r\n    onClear: function () {\r\n      this._clearModels(true);\r\n    },\r\n\r\n    onRefresh: function () {\r\n      this._clearModels(false);\r\n    },\r\n\r\n    isFetchable: function (factory) {\r\n      // The contextual node is fetched by fetchPerspective already.\r\n      return factory.property !== this.node;\r\n    },\r\n\r\n    _clearModels: function (recreateNode) {\r\n      // Reset the next-node model on navigating to other than node perspective.\r\n      // Allow navigation to the previously visited node from that perspective.\r\n      if (this.applicationScope.id !== 'node') {\r\n        clearCurrentNode.call(this);\r\n        return this.nextNode.clear({silent: true});\r\n      }\r\n\r\n      clearCurrentNode.call(this);\r\n      // Do not trigger change events, when the node was recreated. Nobody had a chance\r\n      // to subscribe to change events on the node created right above.\r\n      var delayChangeEvents = !recreateNode && (\r\n          // If there are no children used on the page do not delay the events.\r\n          // Delaying the events is a dirty hack only to make the nodestable widget\r\n          // feel rendering smoother. It does not help much anyway.\r\n          this.context.hasCollection('children') ||\r\n          this.context.hasCollection('children2'));\r\n      // Initialize the contextual node. It needs to be complete, so that widget\r\n      // can use it to ask for their models. It should not trigger events, if the\r\n      // container model is used together with children. csui renders very slowly\r\n      // and triggering the change events together with children will make the\r\n      // rendering appear less busy.\r\n      this.node.set(this.nextNode.attributes, {silent: delayChangeEvents});\r\n\r\n      if (delayChangeEvents) {\r\n        var children = this.context.hasCollection('children') &&\r\n                       this.context.getCollection('children') ||\r\n                       this.context.hasCollection('children2') &&\r\n                       this.context.getCollection('children2');\r\n        children.once('reset update', function () {\r\n          this.node.triggerAllChanges();\r\n          delayedActions.updateNodeActions(this);\r\n          // Resume updating actions on the current node suppressed during the navigation.\r\n          delayedActions.resumeRelayingActionEvents(this);\r\n        }, this);\r\n      } else {\r\n        delayedActions.updateNodeActions(this);\r\n        // Resume updating actions on the current node suppressed during the navigation.\r\n        delayedActions.resumeRelayingActionEvents(this);\r\n      }\r\n\r\n      function clearCurrentNode() {\r\n        // TODO: Remove previousNode. Nobody should use it.\r\n        // make these operations silently as we do not need views react on this\r\n        this.previousNode.clear({silent: true});\r\n        this.previousNode.set(this.node.attributes, {silent: true});\r\n\r\n        // Create the new model if it has not existed yet (the node perspective\r\n        // is navigated to for the first time), or if thi navigation is not\r\n        // a drill down and a new model has to be added to prevent changes\r\n        // on the current perspective, which is going to be destroyed.\r\n        if (recreateNode) {\r\n          createNodeModel.call(this);\r\n        } else {\r\n          this.node.clear({silent: true});\r\n        }\r\n      }\r\n    },\r\n\r\n    _fetchNodePerspective: function () {\r\n      Backbone.trigger('closeToggleAction');\r\n      // Compatibility with the early way how to go to the landing page\r\n      var nextNodeId = this.nextNode.get('id');\r\n      if (nextNodeId == null || nextNodeId <= 0) {\r\n        return;\r\n      }\r\n      this.context.triggerMethod('request:perspective', this);\r\n      this.applicationScope.set('id', 'node');\r\n      // Do not update actions on the current node; a new node will be created soon.\r\n      delayedActions.suppressRelayingActionEvents(this);\r\n      // Use the factory to allow pre-fetching data from the page.\r\n      var options = {\r\n        success: _.bind(this._onNodeFetchSuccess, this, this.nextNode),\r\n        error: _.bind(this.context.rejectPerspective, this.context)\r\n      };\r\n      if (sendOriginParams) {\r\n        options.headers = { 'X-OriginParams': location.search };\r\n      }\r\n      this.nextNodeFactory.fetch(options);\r\n    },\r\n\r\n    _onNodeFetchSuccess: function (node) {\r\n      // TODO Reconsider having this function to fetch personalization once REST API is ready.\r\n      var that = this;\r\n      PersonalizationModel.loadPersonalization(node, this.context)\r\n          .then(\r\n              _.bind(this._changePerspective, this, node),\r\n              _.bind(this.context.rejectPerspective, this.context));\r\n    },\r\n\r\n    _changePerspective: function (sourceModel, personalization) {\r\n      // Check if the node is forced to be opened in Classic UI\r\n      var classicUrl = classicNodes.getUrl(sourceModel);\r\n      if (classicUrl) {\r\n        window.location.replace(classicUrl);\r\n        return;\r\n      }\r\n\r\n      var perspectiveModule,\r\n          perspective = nodePerspectives.findByNode(sourceModel);\r\n      // Avoid opening a non-container in the children-browse perspective\r\n      // and prefer important client-side perspectives too\r\n      if ((_.isEmpty(sourceModel.get('perspective')) && _.isEmpty(personalization)) ||\r\n          !sourceModel.get('container') ||\r\n          perspective.get('important')) {\r\n        perspectiveModule = perspective.get('module');\r\n      }\r\n      if (perspective) {\r\n        sourceModel.set({\"persist\": perspective.get(\"persist\")}, {silent: true});\r\n      }\r\n      if (perspectiveModule) {\r\n        return this.context.overridePerspective(sourceModel, perspectiveModule);\r\n      }\r\n\r\n      this.context.applyPerspective(sourceModel, false, personalization);\r\n    }\r\n  });\r\n\r\n  function createNodeModel() {\r\n    this.node = this.context\r\n        .getModel(NodeModelFactory, {\r\n          options: nodeOptions\r\n        });\r\n    // TODO: Re-enable delayed actions once views can handle them properly.\r\n    // delayedActions.delayCommands(this.node);\r\n  }\r\n\r\n  return NodePerspectiveContextPlugin;\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/perspective/search.perspectives',['module',\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external perspectives\r\n  'csui-ext!csui/utils/contexts/perspective/search.perspectives'\r\n], function (module, _, Backbone, RulesMatchingMixin, extraPerspectives) {\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    perspectiveCollection:[{\r\n      // default search\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/search.json',\r\n      sequence: 10000\r\n    }]\r\n  });\r\n\r\n  var SearchPerspectiveModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      sequence: 100,\r\n      module: null\r\n    },\r\n\r\n    constructor: function SearchPerspectiveModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(SearchPerspectiveModel.prototype);\r\n\r\n  var SearchPerspectiveCollection = Backbone.Collection.extend({\r\n\r\n    model: SearchPerspectiveModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function SearchPerspectiveCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findByQuery: function (query) {\r\n      return this.find(function (item) {\r\n        return item.matchRules(query, item.attributes);\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  var searchPerspectives = new SearchPerspectiveCollection(config.perspectiveCollection);\r\n\r\n  if (extraPerspectives) {\r\n    searchPerspectives.add(_.flatten(extraPerspectives, true));\r\n  }\r\n\r\n  return searchPerspectives;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/impl/search.perspective.context.plugin',['require', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/log', 'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/search.perspectives'\r\n], function (require, _, Backbone, log, SearchQueryModelFactory,\r\n    ApplicationScopeModelFactory, PerspectiveContextPlugin,\r\n    searchPerspectives) {\r\n  'use strict';\r\n\r\n  var SearchPerspectiveContextPlugin = PerspectiveContextPlugin.extend({\r\n\r\n    constructor: function SearchPerspectiveContextPlugin(options) {\r\n      PerspectiveContextPlugin.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context\r\n          .getModel(ApplicationScopeModelFactory);\r\n      this.searchQuery = this.context\r\n          .getModel(SearchQueryModelFactory, {\r\n            permanent: true,\r\n            detached: true\r\n          })\r\n          .on('change', this._fetchSearchPerspective, this);\r\n    },\r\n\r\n    _fetchSearchPerspective: function () {\r\n      if (this.applicationScope.get('id') === 'search') {\r\n        // Not necessary to update perspective, since currently showing search.\r\n        return;\r\n      }\r\n      var perspective            = searchPerspectives.findByQuery(this.searchQuery),\r\n          // Search results should be displayed in new perspective when someone requred for it or navigating between location search and CVS\r\n          forcePerspectiveChange = this.searchQuery.get('forcePerspectiveChange');\r\n      this.applicationScope.set('id', 'search'); // set application view state\r\n      this.context.loadPerspective(perspective.get('module'), forcePerspectiveChange);\r\n      this.listenToOnce(this.context, 'sync:perspective', function () {\r\n        this.searchQuery.unset('forcePerspectiveChange', {silent: true});\r\n      });\r\n    },\r\n\r\n  });\r\n\r\n  return SearchPerspectiveContextPlugin;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/impl/metadata.perspective.context.plugin',['module', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/marionette', 'csui/lib/jquery',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/factories/metadata.factory',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/log',\r\n  'csui/models/node/node.model'\r\n], function (module, _, Backbone, Marionette, $, ApplicationScopeModelFactory,\r\n    MetadataModelFactory, PerspectiveContextPlugin, NodeModelFactory, NextNodeModelFactory, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var MetadataPerspectiveContextPlugin = PerspectiveContextPlugin.extend({\r\n\r\n    constructor: function MetadataPerspectiveContextPlugin(options) {\r\n      PerspectiveContextPlugin.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context.getModel(ApplicationScopeModelFactory);\r\n      this.metadataModel = this.context\r\n          .getModel(MetadataModelFactory, {\r\n            permanent: true,\r\n            detached: true\r\n          })\r\n          .on('change:metadata_info', this._fetchMetadataPerspective, this);\r\n\r\n      this.listenTo(this.context, \"clear\", this._prepareContext);\r\n    },\r\n\r\n    _prepareContext: function () {\r\n      if (this.applicationScope.get('id') === 'properties') {\r\n\r\n        this.node = this.context.getModel(NodeModelFactory);\r\n        var nodeId = this.metadataModel.get('metadata_info').id;\r\n        this.node.set('id', nodeId);\r\n\r\n        var metadata_info = this.metadataModel.get('metadata_info'),\r\n            contextSync = false;\r\n\r\n        if (this.containerNode && this.containerNode.get('id')) {\r\n          this._syncContextToNode(this.containerNode);\r\n          contextSync = true;\r\n        }\r\n\r\n        if (!metadata_info.navigator) {\r\n          this.node.fetch({\r\n            success: function() {\r\n              if (!contextSync) {\r\n                this._syncContextToNode(this.node);\r\n              }\r\n            }.bind(this),\r\n            error: _.bind(this._errorFetchingNode, this, this.node)\r\n          });\r\n        } else {\r\n          if (!contextSync) {\r\n            this.node.fetch({\r\n              success: _.bind(this._doneFetchingNode, this, this.node),\r\n              error: _.bind(this._errorFetchingNode, this, this.node)\r\n            });\r\n          }\r\n        }\r\n\r\n        this.listenTo(this.node, \"change:id\", this._contextNodeIdChanged);\r\n      }\r\n    },\r\n\r\n    _doneFetchingNode: function() {\r\n      var parentNode = this.node.clone();\r\n      this._contextNodeIdChanged();\r\n      parentNode.set('id', this.node.get('parent_id'));\r\n      parentNode.fetch({\r\n        success: _.bind(this._syncContextToNode, this, parentNode),\r\n        error: _.bind(this._errorFetchingNode, this, parentNode)\r\n      });\r\n    },\r\n\r\n    _syncContextToNode: function (node) {\r\n      var context = this.context,\r\n          viewStateModel = context.viewStateModel;\r\n\r\n      context.triggerMethod('sync:perspective', this.context, node);\r\n      viewStateModel.set(viewStateModel.CONSTANTS.METADATA_CONTAINER, {\r\n        id: node.get('id'),\r\n        name: node.get('name')\r\n      });\r\n    },\r\n\r\n    _errorFetchingNode: function (node) {\r\n      log.error('Unable to fetch node {%0}. ', this.node.get('id'));\r\n    },\r\n\r\n    _contextNodeIdChanged: function () {\r\n      var metadata_info = _.clone(this.metadataModel.get('metadata_info'));\r\n      metadata_info.id = this.node.get('id');\r\n      metadata_info.model = this.node;\r\n      this.metadataModel.set('metadata_info', metadata_info);\r\n    },\r\n\r\n    _fetchMetadataPerspective: function () {\r\n      var metadata_info = this.metadataModel.get('metadata_info');\r\n      var model = metadata_info.model;\r\n      if (this.applicationScope.get('id') === 'properties') {\r\n        if (model) {\r\n          this.node.set( model.attributes);\r\n        } else {\r\n          var node = this.context.getModel(NodeModelFactory);\r\n          node.set('id', metadata_info.id);\r\n          node.fetch({\r\n            success: function () {\r\n              this.node = node.clone();\r\n               metadata_info.model = this.node;\r\n            }.bind(this),\r\n            error: _.bind(this._errorFetchingNode, this, node)\r\n          });\r\n        }\r\n        return;\r\n      }\r\n\r\n      // save the container node if we came from the nodes table.\r\n      this.containerNode = this.context.getFactory(NextNodeModelFactory).property;\r\n      if (this.containerNode && this.containerNode.get('id')) {\r\n        this.containerNode = this.containerNode.clone();\r\n      }\r\n\r\n      this.applicationScope.set('id', 'properties');\r\n\r\n      var perspectivePath = 'json!csui/utils/contexts/perspective/impl/perspectives/',\r\n          perspectiveName;\r\n      if (metadata_info.navigator) {\r\n        perspectiveName = 'metadata.navigation.json';\r\n      } else {\r\n        perspectiveName = 'metadata.json';\r\n      }\r\n\r\n      this.context.loadPerspective(perspectivePath + perspectiveName);\r\n    }\r\n\r\n  });\r\n\r\n  return MetadataPerspectiveContextPlugin;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/impl/root.perspective.context.plugin',['csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin'\r\n], function (_, Backbone, ApplicationScopeModelFactory,\r\n    PerspectiveContextPlugin) {\r\n  'use strict';\r\n\r\n  var supportedPerspectives = {\r\n    myassignments: 'myassignmentstable',\r\n    recentlyaccessed: 'recentlyaccessedtable',\r\n    favorites: 'favorites2.table'\r\n  };\r\n\r\n  var RootPerspectiveContextPlugin = PerspectiveContextPlugin.extend({\r\n\r\n    constructor: function RootPerspectiveContextPlugin(options) {\r\n      PerspectiveContextPlugin.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context\r\n          .getModel(ApplicationScopeModelFactory)\r\n          .on('change', this._fetchRootPerspective, this);\r\n    },\r\n\r\n    _fetchRootPerspective: function () {\r\n      // Skip scopes handled by other plugins\r\n      var scope = this.applicationScope.id;\r\n\r\n      // Two perspective driving models used above can generate two change\r\n      // events quickly after each other; process only the first one\r\n      if (!supportedPerspectives[scope] || this.loadingPerspective){\r\n        return;\r\n      }\r\n\r\n      this.context.loadPerspective('json!csui/utils/contexts/perspective/impl/perspectives/' +\r\n        supportedPerspectives[scope] + '.json');\r\n    }\r\n\r\n  });\r\n\r\n  return RootPerspectiveContextPlugin;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/plugins/node/impl/node.extra.data',[], function () {\r\n  'use strict';\r\n\r\n  return {\r\n    getModelFields: function (options) {\r\n      return {\r\n        properties: [],\r\n        columns: []\r\n      };\r\n    },\r\n\r\n    getModelExpand: function (options) {\r\n      return {\r\n        properties: ['reserved_user_id']\r\n      };\r\n    }\r\n  };\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/global.error',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory'\r\n], function (module, _, Backbone, ModelFactory) {\r\n  'use strict';\r\n\r\n  var GlobalError = Backbone.Model.extend({\r\n    defaults: {\r\n      message: null,\r\n      details: null\r\n    }\r\n  });\r\n\r\n  var GlobalErrorFactory = ModelFactory.extend({\r\n    propertyPrefix: 'globalError',\r\n\r\n    constructor: function GlobalErrorModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var globalError = this.options.globalError || {};\r\n      if (!(globalError instanceof Backbone.Model)) {\r\n        var config = module.config();\r\n        globalError = new GlobalError(globalError.attributes, _.extend({},\r\n            globalError.options, config.options));\r\n        // The default global error model should be permanent to\r\n        // survive a perspective switch to the error perspective.\r\n        this.options.permanent = true;\r\n      }\r\n      this.property = globalError;\r\n    }\r\n  });\r\n\r\n  return GlobalErrorFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/perspective.guide',['csui/lib/underscore'], function (_) {\r\n\r\n  function PerspectiveGuide() {\r\n  }\r\n\r\n  PerspectiveGuide.prototype = {\r\n    isNew: function (oldPerspective, newPerspective) {\r\n      //In case of widget maximize mode we are setting showWidgetInMaxMode attribute, we need to\r\n      // omit this atrribute for perspective comparison\r\n      var attributeA = sortKeys( _.omit(newPerspective, ['showWidgetInMaxMode', 'id', 'canEditPerspective']) );\r\n      var attributeB = sortKeys( _.omit(oldPerspective, ['showWidgetInMaxMode', 'id', 'canEditPerspective']) );      \r\n      return !_.isEqual(attributeA,attributeB);       \r\n    }   \r\n  };\r\n\r\n  function sortKeys(a){\r\n    var keysA = Object.keys(a).sort();        \r\n    return keysA.reduce(function(result, item){\r\n      result[item] = a[item];\r\n      return result;\r\n    }, {});\r\n  }\r\n\r\n  return PerspectiveGuide;\r\n\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/perspective/perspective.context',[\r\n  'require', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/base', 'csui/utils/log', 'csui/utils/contexts/context',\r\n  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/global.error',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/perspective/impl/landing.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/perspective.guide',\r\n  // Load external plugins to drivw perspective switches\r\n  'csui-ext!csui/utils/contexts/perspective/perspective.context'\r\n], function (require, _, $, Backbone, base, log, Context,\r\n    UserModelFactory, GlobalErrorModelFactory, ApplicationScopeModelFactory,\r\n    LandingPerspectiveContextPlugin, PerspectiveGuide, contextPlugins) {\r\n  'use strict';\r\n\r\n  var PerspectiveContext = Context.extend({\r\n    constructor: function PerspectiveContext(options) {\r\n      Context.prototype.constructor.apply(this, arguments);\r\n\r\n      _.defaults(this.options, {online: true});\r\n\r\n      this.perspective = new Backbone.Model();\r\n      this.perspectiveGuide = new PerspectiveGuide();\r\n\r\n      // Automatically initialized context models\r\n      this._applicationScope = this.getModel(ApplicationScopeModelFactory, {\r\n        permanent: true,\r\n        detached: true\r\n      });\r\n\r\n      if (this.options.online) {\r\n        this._user = this.getModel(UserModelFactory, {\r\n          options: {\r\n            includeResources: ['perspective']\r\n          },\r\n          permanent: true\r\n        });\r\n      }\r\n\r\n      // Keep the same order as for perspective routers\r\n      var Plugins = _\r\n          .chain(options && options.plugins || contextPlugins)\r\n          .flatten(true)\r\n          .concat([LandingPerspectiveContextPlugin])\r\n          .unique()\r\n          .reverse()\r\n          .value();\r\n      this._plugins = _.map(Plugins, function (Plugin) {\r\n        return new Plugin({context: this});\r\n      }, this);\r\n      _.invoke(this._plugins, 'onCreate');\r\n    },\r\n\r\n    // TODO: Deprecate this function, force empty URL to route\r\n    fetchPerspective: function () {\r\n      var landingPerspectivePlugin = _.find(this._plugins, function (plugin) {\r\n        return plugin instanceof LandingPerspectiveContextPlugin;\r\n      });\r\n      landingPerspectivePlugin._fetchLandingPerspective();\r\n      return this;\r\n    },\r\n\r\n    _destroyNonPermanentFactories: function () {\r\n      Context.prototype._destroyNonPermanentFactories.apply(this, arguments);\r\n      _.invoke(this._plugins, 'onClear');\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      return Context.prototype._isFetchable.apply(this, arguments) &&\r\n             // The user model should be fetched only at the beginning\r\n             (factory.property !== this._user || !this._user.get('id')) &&\r\n             _.all(this._plugins, function (plugin) {\r\n               return plugin.isFetchable(factory) !== false;\r\n             });\r\n    },\r\n\r\n    loadPerspective: function (perspectiveModule, forceChange) {\r\n      var deferred = $.Deferred(),\r\n          self     = this;\r\n      log.debug('Using perspective from \"{0}\".', perspectiveModule) &&\r\n      console.log(log.last);\r\n      this.triggerMethod('request:perspective', this.context);\r\n      this.loadingPerspective = deferred.promise();\r\n      require([perspectiveModule], function (perspective) {\r\n        var wrapperModel = new Backbone.Model({perspective: perspective});\r\n        self.loadingPerspective = false;\r\n        self.applyPerspective(wrapperModel, forceChange);\r\n      }, function (error) {\r\n        self.loadingPerspective = false;\r\n        self.rejectPerspective(error);\r\n      });\r\n    },\r\n\r\n    overridePerspective: function (sourceModel, perspectiveModule) {\r\n      var self = this;\r\n      log.debug('Overriding the perspective in {0} with \"{1}\".',\r\n          log.getObjectName(sourceModel), perspectiveModule) &&\r\n      console.log(log.last);\r\n      return require([perspectiveModule], function (perspective) {\r\n        sourceModel.set('perspective', perspective);\r\n        self.applyPerspective(sourceModel);\r\n      }, _.bind(this.rejectPerspective, this));\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param {Backbone.Model} sourceModel Model changing the perspective.\r\n     * @param {Boolean} forceChange Default to FALSE. Force the persepctive to change, even though current and new perspectives are same\r\n     * @param {JSON} perspective Optional. Perspective to use to render. If not provided, sourceModel.perspective will be used.\r\n     */\r\n    applyPerspective: function (sourceModel, forceChange, perspective) {\r\n      this.triggerMethod('sync:perspective', this, sourceModel);\r\n      this._interceptApplyPerspective(sourceModel, forceChange)\r\n          .done(this._continueApplyingPerspective.bind(this, sourceModel, forceChange, perspective))\r\n          .fail(function (error) {\r\n            if (error) {\r\n              this.rejectPerspective(error);\r\n            }\r\n          }.bind(this));\r\n    },\r\n\r\n    _continueApplyingPerspective: function (sourceModel, forceChange, perspective) {\r\n      var newPerspective = perspective || sourceModel.get('perspective') || {};\r\n      if (forceChange || this.perspectiveGuide.isNew(this.perspective.attributes, newPerspective)) {\r\n        var viewStateModel = this.viewStateModel;\r\n        viewStateModel && viewStateModel.set(viewStateModel.CONSTANTS.ALLOW_WIDGET_URL_PARAMS, true);\r\n        this.triggerMethod('before:change:perspective', this, sourceModel);\r\n        log.info('Perspective has changed') && console.log(log.last);\r\n        this.perspective.clear();\r\n        this.perspective.set(newPerspective);\r\n        this.triggerMethod('change:perspective', this.perspective, sourceModel);\r\n        // The context will be fetched by the owner, after it resolves the widgets\r\n        // and renders them to get the context filled by models.\r\n      } else {\r\n        var self = this;\r\n        log.info('Perspective has not changed') && console.log(log.last);\r\n        this._destroyTemporaryFactories();\r\n        _.invoke(this._plugins, 'onRefresh');\r\n        // The current perspective stays, just the widgets may need refresh.\r\n        this.triggerMethod('retain:perspective', this, sourceModel);\r\n        this.fetch();\r\n      }\r\n    },\r\n\r\n    rejectPerspective: function (sourceModel, error) {\r\n      var self = this;\r\n\r\n      if (!error) {\r\n        error = sourceModel;\r\n      }\r\n      if (!(error instanceof Error)) {\r\n        error = new base.Error(error);\r\n      }\r\n      this.triggerMethod('error:perspective', this, error);\r\n\r\n      function informFailure() {\r\n        self._informFailure(error)\r\n            .then(function () {\r\n              self.trigger('reject:perspective');\r\n            });\r\n      }\r\n\r\n      if (sourceModel && sourceModel instanceof Backbone.Model) {\r\n        //Set nextNode id to '-1' so a user can re-attempt to open it.\r\n        sourceModel.set('id', -1, {silent: true});\r\n\r\n        // trigger event to update breadcrumbs\r\n        self.trigger('current:folder:changed', sourceModel);\r\n\r\n        require([\r\n          'json!csui/utils/contexts/perspective/impl/perspectives/error.global.json'\r\n        ], function (perspective) {\r\n          log.debug('Showing error perspective for {0}.',\r\n              log.getObjectName(sourceModel)) &&\r\n          console.log(log.last);\r\n\r\n          sourceModel.set('perspective', perspective, {silent: true});\r\n          var globalError = self.getModel(GlobalErrorModelFactory);\r\n          globalError.set({\r\n            message: error.message,\r\n            details: error.errorDetails\r\n          });\r\n\r\n          self.applyPerspective(sourceModel);\r\n        }, function () {\r\n          informFailure();\r\n        });\r\n      } else {\r\n        informFailure();\r\n      }\r\n    },\r\n\r\n    _interceptApplyPerspective: function (sourceModel, forceChange) {\r\n      // The first plugin, which intercepts the perspective application\r\n      // will abort the currently running one.\r\n      return this._plugins.reduce(function (promise, plugin) {\r\n        return promise.then(function () {\r\n          if (_.isFunction(plugin.onApply)) {\r\n            var result = plugin.onApply(sourceModel, forceChange);\r\n            return result === false ? $.Deferred().reject() : result;\r\n          }\r\n        });\r\n      }, $.Deferred().resolve());\r\n    },\r\n\r\n    _informFailure: function (error) {\r\n      var errorHandled = false,\r\n          deferred     = $.Deferred();\r\n\r\n      //If offline is supported, then let the plugin handle the network error\r\n      if (error.statusCode === 0) {\r\n        errorHandled = _.find(this._plugins, function (plugin) {\r\n          if (plugin.offlineErrorHandler) {\r\n            return plugin.offlineErrorHandler(error);\r\n          }\r\n        });\r\n      }\r\n\r\n      if (!errorHandled) {\r\n        require(['csui/dialogs/modal.alert/modal.alert'], function (alertDialog) {\r\n          alertDialog.showError(error.toString())\r\n              .always(deferred.resolve);\r\n        });\r\n      }\r\n      return deferred.promise();\r\n    }\r\n  });\r\n\r\n  return PerspectiveContext;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/appcontainer',[\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/models/mixins/appcontainer/appcontainer.mixin',\r\n  'csui/utils/contexts/factories/ancestors',\r\n  'csui/utils/url', 'csui/lib/jquery', 'csui/lib/underscore'\r\n], function (Factory, AppContainerMixin, NodeAncestorsFactory, Url, $, _) {\r\n  'use strict';\r\n\r\n  var AppContainerFactory = Factory.extend({\r\n    propertyPrefix: 'appcontainer',\r\n\r\n    constructor: function AppContainerFactory(context, options) {\r\n      Factory.prototype.constructor.call(this, context, options);\r\n\r\n      var models = this.options.models;\r\n      this.node = models.container;\r\n      this.addableTypes = models.addableTypes;\r\n      this.children = models.children;\r\n      this.connector = this.node.connector;\r\n\r\n      var ancestorFactory = context.getFactory(NodeAncestorsFactory);\r\n      this.ancestors = ancestorFactory.property;\r\n      // TODO: Introduce an interface to control factory options like\r\n      // \"detached\" after construction. The detached flag is not used\r\n      // by the factory itself; it is checked by the context.\r\n      this.listenTo(context, 'request', function () {\r\n        ancestorFactory.options.detached = true;\r\n      });\r\n\r\n      this.property = {};\r\n\r\n      this.makeAppContainer(options);\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.node.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      var queryparams = this.children.getResourceFieldsUrlQuery();\r\n      var query = Url.combineQueryString(this.children.getBrowsableUrlQuery(),\r\n        { fields: _.without(queryparams.fields, 'properties')});\r\n      var baseUrl = new Url(this.connector.connection.url).getApiBase(2);\r\n      var appUrl = Url.combine(baseUrl, 'app/container', this.node.get('id'));\r\n      var url = Url.appendQuery(appUrl, query);\r\n      var prefetchedModels = [this.children, this.ancestors, this.addableTypes];\r\n      var self = this;\r\n\r\n      // TODO: Extract the AJAX call from here to a AppContainerModel with a custom\r\n      // sync method. This error-prone event triggering could be removed then.\r\n      relayEvent(prefetchedModels, 'request', {}, options);\r\n      return this.connector\r\n        .makeAjaxCall({\r\n          url: url\r\n        })\r\n        .then(function (response, textStatus, request) {\r\n          var results = response.results;\r\n          // Do not trigger the request/sync event pairs once more, because\r\n          // they are triggered outside the batch callback. However, the reset\r\n          // event has to be triggered explicitly about the change of contents.\r\n          var prefetchOptions = {silent: true};\r\n\r\n          // Populate the children at first and then the other models.\r\n          // Usually it would be irrelevant, but the nodestable widget\r\n          // is so slow, that the children appeared to render much later,\r\n          // than the rest of the page. Reordering the change events like\r\n          // this is a fragile and dirty hack. It does not help on more\r\n          // complicated perspectives anyway.\r\n\r\n          var nodes = results.contents.map(function (props) {\r\n            return self.massageResponse(props);\r\n          });\r\n          var childrenPromise = self.children.prefetch({\r\n            collection: response.collection,\r\n            links: response.links,\r\n            results: nodes\r\n          }, prefetchOptions);\r\n\r\n          var ancestorsPromise = self.ancestors.prefetch({\r\n            ancestors: results.ancestors\r\n          }, prefetchOptions);\r\n\r\n          var addableTypesPromise;\r\n          var addMenu = results.add_menu;\r\n          if (addMenu) {\r\n            addMenu = results.add_menu.map(adaptAddableType);\r\n            addableTypesPromise = self.addableTypes.prefetch(addMenu, {\r\n              parse: false,\r\n              silent: true\r\n            });\r\n          } else {\r\n            var addableTypes = results.addable_node_types;\r\n            if (addableTypes) {\r\n              addableTypesPromise = self.addableTypes.prefetch(addableTypes, prefetchOptions);\r\n            }\r\n          }\r\n\r\n          return $\r\n              .when(ancestorsPromise, addableTypesPromise, childrenPromise)\r\n              .then (function () {\r\n                relayEvent(prefetchedModels, 'reset', response, options);\r\n                relayEvent(prefetchedModels, 'sync', response, options);\r\n                return $.Deferred().resolve(response, textStatus, request);\r\n              });\r\n        }, function (request, textStatus, errorThrown) {\r\n          relayEvent(prefetchedModels, 'error', request, options);\r\n          return $.Deferred().reject(request, textStatus, errorThrown);\r\n        });\r\n    }\r\n  });\r\n\r\n  function adaptAddableType (ancestor) {\r\n    ancestor.type_name = ancestor.name;\r\n    delete ancestor.name;\r\n    return ancestor;\r\n  }\r\n\r\n  function relayEvent(models, event, object, options) {\r\n    models.forEach(function (model) {\r\n      model.trigger(event, model, object, options);\r\n    });\r\n  }\r\n\r\n  AppContainerMixin.mixin(AppContainerFactory.prototype);\r\n\r\n  return AppContainerFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/children',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node',\r\n  'csui/models/nodechildren', 'csui/utils/commands'\r\n], function (module, _, Backbone, CollectionFactory, NodeModelFactory,\r\n    NodeChildrenCollection, allCommands) {\r\n  'use strict';\r\n\r\n  var ChildrenCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'children',\r\n\r\n    constructor: function ChildrenCollectionFactory(context, options) {\r\n      options || (options = {});\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var children = this.options.children || {},\r\n          commands = children.options && children.options.commands ||\r\n                     allCommands;\r\n      if (!(children instanceof Backbone.Collection)) {\r\n        var node   = context.getModel(NodeModelFactory, options),\r\n          config = module.config();\r\n        children = new NodeChildrenCollection(children.models,\r\n          _.defaults({\r\n              // Prefer refreshing the entire table to rendering one row after another.\r\n              autoreset: true,\r\n              // Minimize the response information; the server adds information with\r\n              // every update and UI would get slower\r\n              fields: {\r\n                properties: []\r\n              },\r\n              // Shortcut information needs to be resolved to support UI and actions.\r\n              expand: {\r\n                properties: ['original_id']\r\n              },\r\n              // Ask the server to check for permitted actions V2\r\n              commands: commands.getAllSignatures()\r\n            },\r\n            config.options,\r\n            children.options,\r\n            // node is intentionally listed at the end to give previous options preference\r\n            {node: node}\r\n          ));\r\n      }\r\n      this.property = children;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  return ChildrenCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/children2',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node',\r\n  'csui/models/node.children2/node.children2', 'csui/utils/commands'\r\n], function (module, _, Backbone, CollectionFactory, NodeModelFactory,\r\n    NodeChildren2Collection, allCommands) {\r\n  'use strict';\r\n\r\n  var Children2CollectionFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'children2',\r\n\r\n    constructor: function Children2CollectionFactory(context, options) {\r\n      options || (options = {});\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var children = this.options.children2 || {},\r\n          commands = children.options && children.options.commands ||\r\n                     allCommands;\r\n      if (!(children instanceof Backbone.Collection)) {\r\n        var node   = context.getModel(NodeModelFactory, options),\r\n            config = module.config();\r\n        children = new NodeChildren2Collection(children.models,\r\n            _.defaults({\r\n                  // Prefer refreshing the entire table to rendering one row after another.\r\n                  autoreset: true,\r\n                  // Minimize the response information; the server adds information with\r\n                  // every update and UI would get slower\r\n                  fields: {\r\n                    properties: []\r\n                  },\r\n                  // Shortcut information needs to be resolved to support UI and actions.\r\n                  expand: {\r\n                    properties: ['original_id']\r\n                  },\r\n                  // Make sure, that the metadata token is returned for nodes\r\n                  // requesated via this factory, because they are supposed to\r\n                  // be shared and may be the subject of changes.\r\n                  stateEnabled: true,\r\n                  // Ask the server to check for permitted actions V2\r\n                  commands: commands.getAllSignatures()\r\n                },\r\n                config.options,\r\n                children.options,\r\n                {useSpecialPaging: options.useSpecialPaging},\r\n                // node is intentionally listed at the end to give previous options preference\r\n                {node: node}\r\n            ));\r\n      }\r\n      this.property = children;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n\r\n  return Children2CollectionFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/columns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/children'\r\n], function (module, _, Backbone, CollectionFactory, NodeChildrenFactory) {\r\n\r\n  var ColumnCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'columns',\r\n\r\n    constructor: function ColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getModel(NodeChildrenFactory, options),\r\n            config = module.config();\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return ColumnCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/columns2',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/node', 'csui/models/node.columns2',\r\n  'csui/utils/log'\r\n], function (module, _, Backbone, CollectionFactory, NodeModelFactory,\r\n    NodeColumn2Collection, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var Column2CollectionFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'columns2',\r\n\r\n    constructor: function Column2CollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns2 || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var node = columns.options && columns.options.node ||\r\n                   context.getModel(NodeModelFactory, options);\r\n        this.property = new NodeColumn2Collection();\r\n        this.node = node;\r\n        node.columns.on('reset', this._resetColumns, this);\r\n        this._resetColumns();\r\n      } else {\r\n        this.property = columns;\r\n      }\r\n    },\r\n\r\n    _resetColumns: function () {\r\n      var node          = this.node,\r\n          definitionMap = {},\r\n          definitions   = completeDefinitions(node.definitions, definitionMap);\r\n      node.columns.each(markDisplayableColumn.bind(null, definitionMap));\r\n      if (areDifferent(this.property, definitions)) {\r\n        this.property.reset(definitions);\r\n      } else {\r\n        this.property.trigger('remain', this.property);\r\n      }\r\n    }\r\n  });\r\n\r\n  function completeDefinitions(definitions, definitionMap) {\r\n    return definitions.map(function (definition) {\r\n      definition = definition.toJSON();\r\n      var key = definition.key;\r\n      definition.column_key = key;\r\n      switch (key) {\r\n      case 'name':\r\n        definition.default_action = true;\r\n        definition.contextual_menu = false;\r\n        definition.editable = true;\r\n        definition.filter_key = key;\r\n        break;\r\n      case 'type':\r\n        definition.default_action = true;\r\n        break;\r\n      case 'modify_date':\r\n        definition.initialSortingDescending = true;\r\n        break;\r\n      }\r\n      definitionMap[key] = definition;\r\n      if (definition.sort_key) {\r\n        definition.sort = true;\r\n        delete definition.sort_key;\r\n      }\r\n      return definition;\r\n    });\r\n  }\r\n\r\n  function markDisplayableColumn(definitionMap, column, index) {\r\n    var columnKey      = column.get('key'),\r\n        formattedIndex = columnKey.lastIndexOf('_formatted'),\r\n        order          = 500 + index,\r\n        definition;\r\n    // Update the real value-carrying column, which does not end with\r\n    // \"_formatted\", if only the \"_formatted\" one is present and not\r\n    // the real one. \"_formatted\"  columns should not be used, because\r\n    // they do not provide the real value for sorting, filtering, saving\r\n    // or other scenarios, where it is needed. Also the right formatting\r\n    // is specified in Smart UI. \"_formatted\" columns are for AJAX calls\r\n    // from Classic UI, because they for at according to its design.\r\n    if (formattedIndex >= 0) {\r\n      var realColumnKey = columnKey.substr(0, columnKey.length - 10);\r\n      definition = definitionMap[realColumnKey];\r\n      if (definition) {\r\n        definition.definitions_order = order;\r\n        return;\r\n      }\r\n    }\r\n    definition = definitionMap[columnKey];\r\n    if (definition) {\r\n      definition.definitions_order = order;\r\n    } else {\r\n      log.warn('No definition found for the column \"{0}\".', columnKey);\r\n    }\r\n  }\r\n\r\n  var columnProperties = [\r\n    'description', 'key', 'multi_value', 'name', 'type', 'type_name'];\r\n\r\n  function areDifferent(collection, objects) {\r\n    return collection.length !== objects.length ||\r\n           collection.some(function (model, index) {\r\n             var expected = _.pick(objects[index], columnProperties),\r\n                 actual = _.pick(model.attributes, columnProperties);\r\n             return !_.isEqual(expected, actual);\r\n           });\r\n  }\r\n\r\n  return Column2CollectionFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/usernodepermission',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/connector', 'csui/models/authenticated.user.node.permission'\r\n], function (module, _, $, Backbone, ModelFactory, UserModelFactory, ConnectorFactory,\r\n    AuthenticatedUserNodePermissionModel) {\r\n  'use strict';\r\n\r\n  var UserNodePermissionModelFactory = ModelFactory.extend({\r\n    propertyPrefix: 'userNodePermission',\r\n\r\n    constructor: function UserNodePermissionModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var userNodePermission = this.options.userNodePermission || {},\r\n          config = module.config();\r\n      if (!(userNodePermission instanceof Backbone.Model)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            user      = context.getModel(UserModelFactory);\r\n        userNodePermission = new AuthenticatedUserNodePermissionModel(\r\n            userNodePermission.attributes,\r\n            _.defaults({\r\n                  connector: connector,\r\n                  user: user,\r\n                  node: this.options.node\r\n                }, userNodePermission.options, config.options\r\n            )\r\n        );\r\n      }\r\n      this.property = userNodePermission;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n\r\n  return UserNodePermissionModelFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/volume',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node',\r\n  'csui/models/node/node.model'\r\n], function (module, _, Backbone, ModelFactory, NodeModelFactory, NodeModel) {\r\n\r\n  var VolumeModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'volume',\r\n\r\n    constructor: function VolumeModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var volume = this.options.volume || {};\r\n      if (!(volume instanceof Backbone.Model)) {\r\n        var node = context.getModel(NodeModelFactory, options),\r\n            config = module.config();\r\n\r\n        // Make sure that the volume info is returned with the node info\r\n        node.setExpand('properties', 'volume_id');\r\n\r\n        // Create an empty node model to fill with the volume info\r\n        // as soon as it is fetched with the node info\r\n        volume = new NodeModel(\r\n            _.extend({}, node.get('volume_id'), volume.attributes || config.attributes),\r\n            _.extend({\r\n              connector: node.connector\r\n            }, volume.options, config.options));\r\n\r\n        this.listenTo(node, 'change:volume_id', function () {\r\n          volume.set(node.get('volume_id'));\r\n        });\r\n      }\r\n      this.property = volume;\r\n    }\r\n\r\n  });\r\n\r\n  return VolumeModelFactory;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/models/widget/nls/root/lang',{\r\n  searchResults: \"Search Results\",\r\n\r\n  ra_access_date_last: 'Last Accessed',\r\n  ra_parent_id: 'Location',\r\n  ra_size: 'Size',\r\n\r\n  ma_type: \"Type\",\r\n  ma_name: \"Name\",\r\n  ma_location_name: \"Location\",\r\n  ma_date_due: \"Due Date\",\r\n  ma_priority: \"Priority\",\r\n  ma_status: \"Status\",\r\n  ma_from_user_name: \"From\",\r\n\r\n  fav_parent_id: 'Location',\r\n  fav_size: 'Size',\r\n\r\n  owner: \"Owner\",\r\n  created: \"Created\",\r\n  createdBy: \"Created by\",\r\n  modified: \"Modified\",\r\n  size: \"Size\",\r\n  type: \"Type\"\r\n\r\n});\r\n\n","\n","csui.define('csui/models/widget/favorites.model',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/browsable/client-side.mixin', 'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/nodechildrencolumn', 'csui/models/nodechildrencolumns',\r\n  'csui/models/node/node.model', 'i18n!csui/models/widget/nls/lang',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, Url, ConnectableMixin, FetchableMixin,\r\n    AdditionalResourcesV2Mixin, FieldsV2Mixin, ExpandableV2Mixin, CommandableV2Mixin,\r\n    ClientSideBrowsableMixin, BrowsableV2ResponseMixin, NodeChildrenColumnModel,\r\n    NodeChildrenColumnCollection, NodeModel, lang) {\r\n  'use strict';\r\n\r\n  var FavoriteColumnModel = NodeChildrenColumnModel.extend({\r\n\r\n    constructor: function FavoriteColumnModel(attributes, options) {\r\n      if (attributes && !attributes.title) {\r\n        var columnKey = 'fav_' + attributes.column_key;\r\n        attributes.title = lang[columnKey];\r\n      }\r\n      NodeChildrenColumnModel.prototype.constructor.call(this, attributes, options);\r\n    }\r\n\r\n  });\r\n\r\n  var FavoriteColumnCollection = NodeChildrenColumnCollection.extend({\r\n\r\n    model: FavoriteColumnModel,\r\n\r\n    // private\r\n    getColumnModels: function (columnKeys, definitions) {\r\n      var columns = NodeChildrenColumnCollection.prototype.getColumnModels.call(\r\n          this, columnKeys, definitions);\r\n      _.each(columns, function (column) {\r\n        var columnKey = column['column_key'];\r\n        if (columnKey === 'type' || columnKey === 'name' || columnKey === 'modify_date' ||\r\n            columnKey === 'parent_id' || columnKey == 'size') {\r\n          column.sort = true;\r\n        }\r\n      });\r\n      return columns;\r\n    }\r\n\r\n  });\r\n\r\n  var FavoriteModel = NodeModel.extend({\r\n\r\n    parse: function (response, options) {\r\n      var fav, fav_version;\r\n      if (response.data && response.data.properties) {\r\n        fav = response.data.properties;\r\n        fav_version = response.data.versions;\r\n      } else {\r\n        fav = response;\r\n        fav_version = response.versions;\r\n      }\r\n      fav.short_name = fav.name; // fav.name.length > 20 ? fav.name.substr(0, 20) + '...' : fav.name;\r\n      if (!fav.size) {\r\n        if (fav.container) {\r\n          fav.size = fav.container_size;\r\n        } else if (fav_version) {\r\n          fav.size = fav_version.file_size;\r\n        }\r\n      }\r\n      if (!fav.mime_type && fav_version && fav_version.mime_type) {\r\n        fav.mime_type = fav_version.mime_type;\r\n      }\r\n      return NodeModel.prototype.parse.call(this, response, options);\r\n    }\r\n\r\n  });\r\n\r\n  var FavoriteCollection = Backbone.Collection.extend({\r\n\r\n    model: FavoriteModel,\r\n\r\n    constructor: function FavoriteCollection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      // Support collection cloning\r\n      if (options) {\r\n        this.options = _.pick(options, ['connector', 'autoreset',\r\n          'includeResources', 'fields', 'expand', 'commands']);\r\n      }\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeCommandableV2(options)\r\n          .makeClientSideBrowsable(options)\r\n          .makeBrowsableV2Response(options);\r\n\r\n      this.columns = new FavoriteColumnCollection();\r\n    },\r\n\r\n    clone: function () {\r\n      // Provide the options; they may include connector and other parameters\r\n      var clone = new this.constructor(this.models, this.options);\r\n      // Clone sub-models not covered by Backbone\r\n      if (this.columns) {\r\n        clone.columns.reset(this.columns.toJSON());\r\n      }\r\n      // Clone properties about the full (not-yet fetched) collection\r\n      clone.actualSkipCount = this.actualSkipCount;\r\n      clone.totalCount = this.totalCount;\r\n      clone.filteredCount = this.filteredCount;\r\n      return clone;\r\n    },\r\n\r\n    url: function () {\r\n      var url = this.connector.getConnectionUrl().getApiBase('v2'),\r\n          query = Url.combineQueryString(\r\n              this.getAdditionalResourcesUrlQuery(),\r\n              this.getResourceFieldsUrlQuery(),\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getRequestedCommandsUrlQuery(),\r\n              this.getBrowsableUrlQuery()\r\n          );\r\n      url = Url.combine(url, '/members/favorites');\r\n      return query ? url + '?' + query : url;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      this.parseBrowsedState(response, options);\r\n      this.columns && this.columns.resetColumnsV2(response, this.options);\r\n      return this.parseBrowsedItems(response, options);\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: this.fields,\r\n        expand: this.expand,\r\n        includeResources: this._additionalResources,\r\n        commands: this.commands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n    }\r\n\r\n  });\r\n\r\n  ClientSideBrowsableMixin.mixin(FavoriteCollection.prototype);\r\n  BrowsableV2ResponseMixin.mixin(FavoriteCollection.prototype);\r\n  ConnectableMixin.mixin(FavoriteCollection.prototype);\r\n  FetchableMixin.mixin(FavoriteCollection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(FavoriteCollection.prototype);\r\n  FieldsV2Mixin.mixin(FavoriteCollection.prototype);\r\n  ExpandableV2Mixin.mixin(FavoriteCollection.prototype);\r\n  CommandableV2Mixin.mixin(FavoriteCollection.prototype);\r\n\r\n  return FavoriteCollection;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/favorites',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/favorites.model', 'csui/utils/commands',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory, FavoritesCollection,\r\n    commands) {\r\n  'use strict';\r\n\r\n  var FavoriteCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'favorites',\r\n\r\n    constructor: function FavoritesCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var favorites = this.options.favorites || {};\r\n      if (!(favorites instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config = module.config();\r\n        favorites = new FavoritesCollection(favorites.models, _.extend(\r\n            {connector: connector}, favorites.options, config.options,\r\n            FavoritesCollectionFactory.getDefaultResourceScope(),\r\n            {autoreset: true}));\r\n      }\r\n      this.property = favorites;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  }, {\r\n\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        // The latest version properties can be considered common properties\r\n        // too (the MIME type is there, for example)\r\n        fields: {\r\n          properties: [],\r\n          'versions.element(0)': []\r\n        },\r\n        // Get property definitions to support table columns or similar\r\n        // and actions to support clickability and others\r\n        includeResources: ['metadata'],\r\n        // Ask the server to check for permitted actions V2\r\n        commands: commands.getAllSignatures()\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return FavoriteCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/favoritescolumns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/favorites'\r\n], function (module, _, Backbone, CollectionFactory, FavoriteCollectionFactory) {\r\n\r\n  var FavoritesColumnsCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'favorites_columns',\r\n\r\n    constructor: function FavoritesColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getCollection(FavoriteCollectionFactory, options);\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return FavoritesColumnsCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/favorites2',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/models/favorites2', 'csui/utils/defaultactionitems',\r\n  'csui/utils/commands', 'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory,\r\n    Favorites2Collection, defaultActionItems, commands) {\r\n  'use strict';\r\n\r\n  var Favorite2CollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'favorites2',\r\n\r\n    constructor: function Favorite2CollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var favorites = this.options.favorites || {};\r\n\r\n      if (!(favorites instanceof Backbone.Collection)) {\r\n\r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        var config = module.config();\r\n\r\n        favorites = new Favorites2Collection(favorites.models,\r\n            _.extend({\r\n                  connector: connector,\r\n                  autoreset: true\r\n                },\r\n                favorites.options,\r\n                config.options,\r\n                Favorite2CollectionFactory.getDefaultResourceScope()\r\n            )\r\n        );\r\n      }\r\n      this.property = favorites;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  }, {\r\n\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: {\r\n          properties: [],\r\n          favorites: ['name', 'tab_id'],\r\n          'versions.element(0)': ['mime_type', 'owner_id']\r\n        },\r\n        expand: {\r\n          properties: ['original_id', 'parent_id', 'reserved_user_id', 'custom_view_search']\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // no need for metadata to include, because column definitions are created fully client side\r\n        includeResources: [],\r\n        // Ask the server to check for permitted actions V2\r\n        commands: commands.getAllSignatures()\r\n      });\r\n    },\r\n\r\n    getLimitedResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: {\r\n          properties: ['container', 'id', 'name', 'original_id', 'type', 'type_name', 'parent_id',\r\n            'container', 'custom_view_search', 'version_number'],\r\n          favorites: ['name', 'tab_id'],\r\n          'versions.element(0)': ['mime_type']\r\n        },\r\n        expand: {\r\n          properties: ['original_id']\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // Get property definitions to support table columns or similar\r\n        // and actions to support clickability and others\r\n        includeResources: [],\r\n        // Ask the server to check for permitted actions V2 - only default actions\r\n        commands: defaultActionItems.getAllCommandSignatures(commands)\r\n      });\r\n    },\r\n\r\n    getDefaultsOnlyResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: {\r\n          properties: [],\r\n          favorites: ['name', 'tab_id'],\r\n          'versions.element(0)': []\r\n        },\r\n        expand: {\r\n          properties: ['original_id', 'parent_id', 'reserved_user_id']\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // no need for metadata to include, because column definitions are created fully client side\r\n        includeResources: [],\r\n        // Ask the server to check for permitted actions V2\r\n        commands: defaultActionItems.getAllCommandSignatures(commands)\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return Favorite2CollectionFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/favorite2groups',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/utils/contexts/factories/favorites2',\r\n  'csui/models/favorite2groups', 'csui/utils/commands',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory,\r\n    Favorite2CollectionFactory, Favorite2GroupsCollection, commands) {\r\n  'use strict';\r\n\r\n  var Favorite2GroupsCollectionFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'favorites2groups',\r\n\r\n    constructor: function Favorite2GroupsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var favoriteGroups = this.options.favoriteGroups || {};\r\n\r\n      if (!(favoriteGroups instanceof Backbone.Collection)) {\r\n\r\n        var config = module.config();\r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        var favorites = context.getCollection(Favorite2CollectionFactory, options);\r\n\r\n        favoriteGroups = new Favorite2GroupsCollection(favoriteGroups.models,\r\n            _.extend({\r\n                  favorites: favorites,\r\n                  connector: connector,\r\n                  autoreset: true,\r\n                  commands: commands.getAllSignatures()\r\n                },\r\n                favoriteGroups.options,\r\n                config.options,\r\n                Favorite2GroupsCollectionFactory.getDefaultResourceScope()\r\n            )\r\n        );\r\n      }\r\n      this.property = favoriteGroups;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  }, {\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: {\r\n          properties: []\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  return Favorite2GroupsCollectionFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/favorite2columns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/favorites2'\r\n], function (module, _, Backbone, CollectionFactory, Favorite2CollectionFactory) {\r\n\r\n  var Favorite2ColumnsCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'favorites2_columns',\r\n\r\n    constructor: function Favorite2ColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getCollection(Favorite2CollectionFactory, options);\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return Favorite2ColumnsCollectionFactory;\r\n});\r\n\n","csui.define('csui/models/widget/myassignments.model',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/state.requestor/state.requestor.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/browsable/client-side.mixin', 'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/nodechildrencolumn', 'csui/models/nodechildrencolumns',\r\n  'csui/models/node/node.model', 'i18n!csui/models/widget/nls/lang',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, Url, ConnectableMixin, FetchableMixin,\r\n    AdditionalResourcesV2Mixin, FieldsV2Mixin, ExpandableV2Mixin, StateRequestorMixin,\r\n    CommandableV2Mixin, ClientSideBrowsableMixin, BrowsableV2ResponseMixin,\r\n    NodeChildrenColumnModel, NodeChildrenColumnCollection, NodeModel, lang) {\r\n  'use strict';\r\n\r\n  var MyAssignmentColumnModel = NodeChildrenColumnModel.extend({\r\n\r\n    constructor: function MyAssignmentColumnModel(attributes, options) {\r\n      if (attributes && !attributes.title) {\r\n        var columnKey = 'ma_' + attributes.column_key;\r\n        attributes.title = lang[columnKey];\r\n      }\r\n      NodeChildrenColumnModel.prototype.constructor.call(this, attributes, options);\r\n    }\r\n\r\n  });\r\n\r\n  var MyAssignmentColumnCollection = NodeChildrenColumnCollection.extend({\r\n\r\n    model: MyAssignmentColumnModel,\r\n\r\n    constructor: function MyAssignmentColumnCollection(models, options) {\r\n      if (!models) {\r\n        models = [\r\n          {\r\n            key: 'type',\r\n            type: 2,\r\n            sort: true,\r\n            default_action: true,\r\n            name: 'Type'\r\n          },\r\n          {\r\n            key: 'name',\r\n            type: -1,\r\n            sort: true,\r\n            default_action: true,\r\n            contextual_menu: false,\r\n            editable: true,\r\n            filter_key: 'name',\r\n            name: 'Name'\r\n          },\r\n          {\r\n            key: 'location_id',\r\n            type: 2,\r\n            sort: true,\r\n            name: 'Location'\r\n          },\r\n          {\r\n            key: 'date_due',\r\n            type: -7,\r\n            sort: true,\r\n            name: 'Due Date'\r\n          },\r\n          {\r\n            key: 'priority',\r\n            type: 2,\r\n            sort: true,\r\n            name: 'Priority'\r\n          },\r\n          {\r\n            key: 'status',\r\n            type: 2,\r\n            sort: true,\r\n            initialSortingDescending: true,\r\n            name: 'Status'\r\n          },\r\n          {\r\n            key: 'from_user_name',\r\n            type: -1,\r\n            sort: true,\r\n            name: 'From'\r\n          }\r\n        ];\r\n\r\n        models.forEach(function (column, index) {\r\n          column.definitions_order = index + 100;\r\n          column.column_key = column.key;\r\n        });\r\n      }\r\n      NodeChildrenColumnCollection.prototype.constructor.call(this, models, options);\r\n    },\r\n\r\n    // private\r\n    getColumnModels: function (columnKeys, definitions) {\r\n      var columns = NodeChildrenColumnCollection.prototype.getColumnModels.call(\r\n          this, columnKeys, definitions);\r\n      _.each(columns, function (column) {\r\n        var columnKey = column['column_key'];\r\n        if (columnKey === 'type' || columnKey === 'name' || columnKey === 'location_id' ||\r\n            columnKey === 'date_due' || columnKey === 'priority' || columnKey === 'status' ||\r\n            columnKey === 'from_user_name') {\r\n          column.sort = true;\r\n          if (columnKey === 'location_id') {\r\n            column.sort_key = 'location_name';\r\n          }\r\n        }\r\n      });\r\n      return columns;\r\n    },\r\n\r\n    // private: convert v2 'metadata' to v1 'definitions' for backward code compatibility and\r\n    //          reuse purpose\r\n    getV2Columns: function (response) {\r\n\r\n      // Note: from a long discussion with the server developer, use the common 'metadata' (or\r\n      // called 'definitions' in v1) in the first element. Elements in the collection can have\r\n      // different extended metadata (definitions).  If a business case arises that\r\n      // extended definitions are needed, will discuss again with them and add that support.\r\n\r\n      var definitions = (response.results && response.results[0] &&\r\n                         response.results[0].metadata &&\r\n                         response.results[0].metadata.assignments) || {};\r\n\r\n      // TODO: the server is currently missing the metadata output for expanded fields.\r\n      // Remove this temporary hard-coded code after the server properly outputs metadata.\r\n      // Watch for LPAD-43411.\r\n      if (!definitions.location_id_expand && definitions.name) {\r\n        definitions.location_id_expand = _.clone(definitions.name);\r\n        definitions.location_id_expand.key = 'location_id_expand';\r\n        definitions.location_id_expand.name = 'Location';\r\n      }\r\n      if (!definitions.from_user_id_expand && definitions.name) {\r\n        definitions.from_user_id_expand = _.clone(definitions.name);\r\n        definitions.from_user_id_expand.key = 'from_user_id_expand';\r\n        definitions.from_user_id_expand.name = 'From';\r\n      }\r\n\r\n      // client-side sub-field column\r\n      if (!definitions.location_name && definitions.name) {\r\n        definitions.location_name = _.clone(definitions.name);\r\n        definitions.location_name.key = 'location_name';\r\n        definitions.location_name.name = 'Location Name';\r\n      }\r\n      if (!definitions.from_user_name && definitions.name) {\r\n        definitions.from_user_name = _.clone(definitions.name);\r\n        definitions.from_user_name.key = 'from_user_name';\r\n        definitions.from_user_name.name = 'From';\r\n      }\r\n\r\n      var columnKeys = _.keys(definitions);\r\n\r\n      return this.getColumnModels(columnKeys, definitions);\r\n    }\r\n\r\n  });\r\n\r\n  var MyAssignmentModel = NodeModel.extend({\r\n\r\n    parse: function (response, options) {\r\n      var assignments = response.data.assignments;\r\n      assignments.short_name = assignments.name;\r\n\r\n      var from_user_id_expand = assignments.from_user_id_expand || {};\r\n      var name = from_user_id_expand.first_name || '';\r\n      name = name + ' ' + (from_user_id_expand.last_name || '');\r\n      if (!name.length || (name.length === 1 && name === ' ')) {\r\n        name = from_user_id_expand.name;\r\n      }\r\n      assignments.from_user_name = name;\r\n\r\n      if (response.data && response.data.assignments) {\r\n        response.data.properties = response.data.assignments;\r\n      }\r\n\r\n      var node = NodeModel.prototype.parse.call(this, response, options);\r\n      return node;\r\n    }\r\n\r\n  });\r\n\r\n  var MyAssignmentCollection = Backbone.Collection.extend({\r\n\r\n    model: MyAssignmentModel,\r\n\r\n    constructor: function MyAssignmentCollection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      // Support collection cloning\r\n      if (options) {\r\n        this.options = _.pick(options, ['connector', 'autoreset',\r\n          'includeResources', 'fields', 'expand', 'commands']);\r\n      }\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeStateRequestor(options)\r\n          .makeCommandableV2(options)\r\n          .makeClientSideBrowsable(options)\r\n          .makeBrowsableV2Response(options);\r\n\r\n      this.columns = new MyAssignmentColumnCollection();\r\n    },\r\n\r\n    clone: function () {\r\n      // Provide the options; they may include connector and other parameters\r\n      var clone = new this.constructor(this.models, this.options);\r\n      // Clone sub-models not covered by Backbone\r\n      if (this.columns) {\r\n        clone.columns.reset(this.columns.toJSON());\r\n      }\r\n      // Clone properties about the full (not-yet fetched) collection\r\n      clone.actualSkipCount = this.actualSkipCount;\r\n      clone.totalCount = this.totalCount;\r\n      clone.filteredCount = this.filteredCount;\r\n      return clone;\r\n    },\r\n\r\n    url: function () {\r\n      var url   = this.connector.getConnectionUrl().getApiBase('v2'),\r\n          query = Url.combineQueryString(\r\n              this.getAdditionalResourcesUrlQuery(),\r\n              this.getResourceFieldsUrlQuery(),\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getStateEnablingUrlQuery(),\r\n              this.getRequestedCommandsUrlQuery()\r\n          );\r\n      url = Url.combine(url, '/members/assignments');\r\n      return query ? url + '?' + query : url;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      // filter out pstage items\r\n      response.results = _.filter(response.results, function (item) {\r\n        return item.data.assignments.type != 398; //pstage\r\n      });\r\n\r\n      this.parseBrowsedState(response, options);\r\n      // don't parse columns here, because they are hardcoded in the constructor\r\n      return this.parseBrowsedItems(response, options);\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: this.fields,\r\n        expand: this.expand,\r\n        includeResources: this._additionalResources,\r\n        commands: this.commands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n    }\r\n\r\n  });\r\n\r\n  ClientSideBrowsableMixin.mixin(MyAssignmentCollection.prototype);\r\n  // when due_date is null, put the record at the bottom for ascending sort as PM and CWS request\r\n  var originalCompareValues = MyAssignmentCollection.prototype._compareValues;\r\n  MyAssignmentCollection.prototype._compareValues = function (property, left, right) {\r\n    if (property.indexOf('date') >= 0) {\r\n      if (left === null) {\r\n        return 1;\r\n      }\r\n      if (right === null) {\r\n        return -1;\r\n      }\r\n    }\r\n    return originalCompareValues.apply(this, arguments);\r\n  };\r\n\r\n  BrowsableV2ResponseMixin.mixin(MyAssignmentCollection.prototype);\r\n  ConnectableMixin.mixin(MyAssignmentCollection.prototype);\r\n  FetchableMixin.mixin(MyAssignmentCollection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(MyAssignmentCollection.prototype);\r\n  FieldsV2Mixin.mixin(MyAssignmentCollection.prototype);\r\n  ExpandableV2Mixin.mixin(MyAssignmentCollection.prototype);\r\n  StateRequestorMixin.mixin(MyAssignmentCollection.prototype);\r\n  CommandableV2Mixin.mixin(MyAssignmentCollection.prototype);\r\n\r\n  return MyAssignmentCollection;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/myassignments',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/myassignments.model',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory, MyAssignmentCollection) {\r\n  'use strict';\r\n\r\n  var MyAssignmentCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'myassignments',\r\n\r\n    constructor: function MyAssignmentCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var myassignments = this.options.myassignments || {};\r\n      if (!(myassignments instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config = module.config();\r\n        myassignments = new MyAssignmentCollection(myassignments.models, _.extend(\r\n            {connector: connector}, myassignments.options, config.options,\r\n            MyAssignmentCollectionFactory.getDefaultResourceScope(),\r\n            {autoreset: true}));\r\n      }\r\n      this.property = myassignments;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    },\r\n\r\n    isFetchable: function(){\r\n      if (window.csui && window.csui.mobile) {\r\n        return !this.property.fetched;\r\n      }\r\n      return true;\r\n    }\r\n\r\n  }, {\r\n\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        // So far, all properties are includes in the assignments fields\r\n        fields: {\r\n          assignments: []\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // Get property definitions to support table columns or similar\r\n        // and actions to support clickability and others\r\n        includeResources: ['metadata']\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return MyAssignmentCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/myassignmentscolumns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/myassignments'\r\n], function (module, _, Backbone, CollectionFactory, MyAssignmentsCollectionFactory) {\r\n\r\n  var MyAssignmentsColumnsCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'myassignments_columns',\r\n\r\n    constructor: function MyAssignmentsColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getCollection(MyAssignmentsCollectionFactory, options);\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return MyAssignmentsColumnsCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/recentlyaccessed/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var url   = this.connector.getConnectionUrl().getApiBase('v2'),\r\n              query = Url.combineQueryString(\r\n                  this.getAdditionalResourcesUrlQuery(),\r\n                  this.getResourceFieldsUrlQuery(),\r\n                  this.getExpandableResourcesUrlQuery(),\r\n                  this.getStateEnablingUrlQuery(),\r\n                  this.getRequestedCommandsUrlQuery(),\r\n                  this._getSubtypesUrlQuery()\r\n              );\r\n          url = Url.combine(url, '/members/accessed');\r\n          return query ? url + '?' + query : url;\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          this.parseBrowsedState(response, options);\r\n          // don't parse columns here, because they are hardcoded in the constructor of RecentlyAccessedColumnCollection\r\n          return this.parseBrowsedItems(response, options);\r\n        },\r\n\r\n        _getSubtypesUrlQuery: function () {\r\n          var where_types = \"\";\r\n\r\n          if (this.options.recentlyAccessedSubtypes) {\r\n            for (var i = 0; i < this.options.recentlyAccessedSubtypes.length; i++) {\r\n              where_types = where_types.concat(\"where_type=\",\r\n                  this.options.recentlyAccessedSubtypes[i],\r\n                  \"&\");\r\n            }\r\n          }\r\n          return where_types;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/widget/recentlyaccessed.model',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/mixins/state.requestor/state.requestor.mixin',\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n  'csui/models/browsable/client-side.mixin', 'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/nodechildrencolumn', 'csui/models/nodechildrencolumns',\r\n  'csui/models/node/node.model', 'i18n!csui/models/widget/nls/lang',\r\n  'csui/models/widget/recentlyaccessed/server.adaptor.mixin',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, ConnectableMixin, FetchableMixin,\r\n    AdditionalResourcesV2Mixin, FieldsV2Mixin, ExpandableV2Mixin, StateRequestorMixin,\r\n    CommandableV2Mixin, DelayedCommandableV2Mixin, ClientSideBrowsableMixin,\r\n    BrowsableV2ResponseMixin, NodeChildrenColumnModel, NodeChildrenColumnCollection,\r\n    NodeModel, lang, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var RecentlyAccessedColumnModel = NodeChildrenColumnModel.extend({\r\n\r\n    constructor: function RecentlyAccessedColumnModel(attributes, options) {\r\n      if (attributes && !attributes.title) {\r\n        var columnKey = 'ra_' + attributes.column_key;\r\n        attributes.title = lang[columnKey];\r\n      }\r\n      NodeChildrenColumnModel.prototype.constructor.call(this, attributes, options);\r\n    }\r\n\r\n  });\r\n\r\n  var RecentlyAccessedColumnCollection = NodeChildrenColumnCollection.extend({\r\n\r\n    model: RecentlyAccessedColumnModel,\r\n\r\n    constructor: function RecentlyAccessedColumnCollection(models, options) {\r\n      if (!models) {\r\n        models = [\r\n          {\r\n            key: 'type',\r\n            type: 2,\r\n            sort: true,\r\n            default_action: true,\r\n            name: 'Type'\r\n          },\r\n          {\r\n            key: 'name',\r\n            type: -1,\r\n            sort: true,\r\n            default_action: true,\r\n            contextual_menu: false,\r\n            editable: true,\r\n            filter_key: 'name',\r\n            name: 'Name'\r\n          },\r\n          {\r\n            key: 'reserved',\r\n            type: 5,\r\n            name: 'Reserved'\r\n          },\r\n          {\r\n            key: 'parent_id',\r\n            type: 15,\r\n            sort: true,\r\n            name: 'Parent ID'\r\n          },\r\n          {\r\n            key: 'access_date_last',\r\n            type: -7,\r\n            sort: true,\r\n            name: 'Last Accessed'\r\n          },\r\n          {\r\n            key: 'size',\r\n            type: 2,\r\n            sort: true,\r\n            name: 'Size'\r\n          },\r\n          {\r\n            key: 'modify_date',\r\n            type: -7,\r\n            sort: true,\r\n            initialSortingDescending: true,\r\n            name: 'Modified'\r\n          },\r\n          {\r\n            key: 'favorite',\r\n            type: 5,\r\n            name: 'Favorite'\r\n          }\r\n        ];\r\n\r\n        models.forEach(function (column, index) {\r\n          column.definitions_order = index + 100;\r\n          column.column_key = column.key;\r\n        });\r\n      }\r\n      NodeChildrenColumnCollection.prototype.constructor.call(this, models, options);\r\n    },\r\n\r\n    // private\r\n    getColumnModels: function (columnKeys, definitions) {\r\n      var columns = NodeChildrenColumnCollection.prototype.getColumnModels.call(\r\n          this, columnKeys, definitions);\r\n      _.each(columns, function (column) {\r\n        var columnKey = column['column_key'];\r\n        if (columnKey === 'type' || columnKey === 'name' || columnKey === 'access_date_last' ||\r\n            columnKey === 'modify_date' || columnKey === 'parent_id' || columnKey === 'size') {\r\n          column.sort = true;\r\n          if (columnKey === 'parent_id') {\r\n            column.sort_key = 'parent_name';\r\n          }\r\n        }\r\n      });\r\n      return columns;\r\n    },\r\n\r\n    // private\r\n    getV2Columns: function (response) {\r\n      var definitions = (response.results &&\r\n                         response.results[0] &&\r\n                         response.results[0].metadata &&\r\n                         response.results[0].metadata.properties) || {};\r\n\r\n      // TODO: sadly the server is again missing the metadata output for access_date_last field.\r\n      // Remove this temporary hard-coded code after the server properly outputs this metadata.\r\n      if (!definitions.access_date_last && definitions.modify_date) {\r\n        definitions.access_date_last = _.clone(definitions.modify_date);\r\n        definitions.access_date_last.key = 'access_date_last';\r\n        definitions.access_date_last.name = 'Last Accessed';\r\n      }\r\n\r\n      // client-side sub-field column\r\n      if (!definitions.parent_name && definitions.name) {\r\n        definitions.parent_name = _.clone(definitions.name);\r\n        definitions.parent_name.key = 'parent_name';\r\n        definitions.parent_name.name = 'Location Name';  // no i18n needed, server has it in EN\r\n      }\r\n\r\n      return NodeChildrenColumnCollection.prototype.getV2Columns.call(this, response);\r\n    }\r\n\r\n  });\r\n\r\n  var RecentlyAccessedModel = NodeModel.extend({\r\n\r\n    parse: function (response, options) {\r\n      var ra, ra_version, ra_propertiesUser, ra_parentIdExpanded;\r\n      if (response.data && response.data.properties) {\r\n        ra = response.data.properties;\r\n        ra_version = response.data.versions;\r\n        ra_propertiesUser = response.data.properties_user;\r\n        ra_parentIdExpanded = response.data.properties.parent_id_expand;\r\n      } else {\r\n        ra = response;\r\n        ra_version = response.versions;\r\n        ra_propertiesUser = response.properties_user;\r\n        ra_parentIdExpanded = response.parent_id_expanded;\r\n      }\r\n\r\n      ra.short_name = ra.name; //ra.name.length > 20 ? ra.name.substr(0, 20) + '...' : ra.name;\r\n\r\n      if (!ra.size) {\r\n        if (ra.container) {\r\n          ra.size = ra.container_size;\r\n        } else if (ra_version) {\r\n          ra.size = ra_version.file_size;\r\n        }\r\n      }\r\n\r\n      if (!ra.mime_type && ra_version && ra_version.mime_type) {\r\n        ra.mime_type = ra_version.mime_type;\r\n      }\r\n\r\n      if (!ra.access_date_last && ra_propertiesUser && ra_propertiesUser.access_date_last) {\r\n        ra.access_date_last = ra_propertiesUser.access_date_last;\r\n      }\r\n\r\n      ra.parent_name = '';\r\n      if (!ra.parent_name && ra_parentIdExpanded && ra_parentIdExpanded.name) {\r\n        ra.parent_name = ra_parentIdExpanded.name;\r\n      }\r\n\r\n      return NodeModel.prototype.parse.call(this, response, options);\r\n    }\r\n\r\n  });\r\n\r\n  var RecentlyAccessedCollection = Backbone.Collection.extend({\r\n\r\n    model: RecentlyAccessedModel,\r\n\r\n    constructor: function RecentlyAccessedCollection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      // Support collection cloning\r\n      if (options) {\r\n        this.options = _.pick(options, ['connector', 'autoreset',\r\n          'includeResources', 'fields', 'expand', 'commands', 'recentlyAccessedSubtypes']);\r\n      }\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeStateRequestor(options)\r\n          .makeCommandableV2(options)\r\n          .makeClientSideBrowsable(options)\r\n          .makeBrowsableV2Response(options)\r\n          .makeDelayedCommandableV2(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      this.columns = new RecentlyAccessedColumnCollection();\r\n    },\r\n\r\n    _prepareModel: function (attrs, options) {\r\n      options || (options = {});\r\n      options.promotedActionCommands = this.promotedActionCommands;\r\n      options.nonPromotedActionCommands = this.nonPromotedActionCommands;\r\n      return Backbone.Collection.prototype._prepareModel.call(this, attrs, options);\r\n    },\r\n\r\n    clone: function () {\r\n      // Provide the options; they may include connector and other parameters\r\n      var clone = new this.constructor(this.models, this.options);\r\n      // Clone sub-models not covered by Backbone\r\n      if (this.columns) {\r\n        clone.columns.reset(this.columns.toJSON());\r\n      }\r\n      // Clone properties about the full (not-yet fetched) collection\r\n      clone.actualSkipCount = this.actualSkipCount;\r\n      clone.skipCount = this.skipCount;\r\n      clone.topCount = this.topCount;\r\n      clone.totalCount = this.totalCount;\r\n      clone.filteredCount = this.filteredCount;\r\n      clone.filters = _.deepClone(this.filters);\r\n      clone.orderBy = this.orderBy;\r\n      clone.expand = _.clone(this.expand);\r\n      clone.includeActions = this.includeActions;\r\n      clone.includeCommands = _.clone(this.includeCommands);\r\n      clone.defaultActionCommands = _.clone(this.defaultActionCommands);\r\n      clone.commands = _.clone(this.commands);\r\n      //clone.delayRestCommands = this.delayRestCommands; //cloning of this attribute doesnot\r\n      // required since to enable delayedRestCommands on new cloned collection\r\n\r\n      return clone;\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: this.fields,\r\n        expand: this.expand,\r\n        includeResources: this._additionalResources,\r\n        commands: this.commands,\r\n        defaultActionCommands: this.defaultActionCommands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n      this.resetDefaultActionCommands();\r\n      scope.defaultActionCommands && this.setDefaultActionCommands(scope.defaultActionCommands);\r\n    },\r\n\r\n  });\r\n\r\n  ClientSideBrowsableMixin.mixin(RecentlyAccessedCollection.prototype);\r\n  BrowsableV2ResponseMixin.mixin(RecentlyAccessedCollection.prototype);\r\n  ConnectableMixin.mixin(RecentlyAccessedCollection.prototype);\r\n  FetchableMixin.mixin(RecentlyAccessedCollection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(RecentlyAccessedCollection.prototype);\r\n  FieldsV2Mixin.mixin(RecentlyAccessedCollection.prototype);\r\n  ExpandableV2Mixin.mixin(RecentlyAccessedCollection.prototype);\r\n  StateRequestorMixin.mixin(RecentlyAccessedCollection.prototype);\r\n  CommandableV2Mixin.mixin(RecentlyAccessedCollection.prototype);\r\n  DelayedCommandableV2Mixin.mixin(RecentlyAccessedCollection.prototype);\r\n  ServerAdaptorMixin.mixin(RecentlyAccessedCollection.prototype);\r\n\r\n  return RecentlyAccessedCollection;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/recentlyaccessed',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/recentlyaccessed.model', 'csui/utils/commands',\r\n  'csui/utils/defaultactionitems',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory,\r\n    RecentlyAccessedCollection, commands, defaultActionItems) {\r\n  'use strict';\r\n\r\n  var RecentlyAccessedCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'recentlyaccessed',\r\n\r\n    constructor: function RecentlyAccessedCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var recentlyAccessed = this.options.recentlyaccessed || {};\r\n      if (!(recentlyAccessed instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config    = module.config();\r\n        recentlyAccessed = new RecentlyAccessedCollection(recentlyAccessed.models, _.extend(\r\n            {connector: connector, recentlyAccessedSubtypes: config.recentlyAccessedSubtypes},\r\n            recentlyAccessed.options, config.options,\r\n            RecentlyAccessedCollectionFactory.getDefaultResourceScope(),\r\n            {autoreset: true}));\r\n      }\r\n      this.property = recentlyAccessed;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  }, {\r\n\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        // The latest version properties can be considered common properties\r\n        // too (the MIME type is there, for example)\r\n        fields: {\r\n          properties: [],\r\n          'versions.element(0)': []\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // Get property definitions to support table columns\r\n        includeResources: ['metadata'],\r\n        // Ask the server to check for permitted actions\r\n        commands: commands.getAllSignatures()\r\n      });\r\n    },\r\n\r\n    getLimitedResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: {\r\n          properties: ['container', 'id', 'name', 'original_id', 'type', 'type_name', 'parent_id',\r\n            'reserved', 'custom_view_search', 'version_number'],\r\n          'versions.element(0)': ['mime_type']\r\n        },\r\n        expand: {\r\n          properties: ['parent_id', 'reserved_user_id']\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // Get property definitions to support table columns or similar\r\n        // and actions to support clickability and others\r\n        includeResources: [],\r\n        // Ask the server to check for permitted actions V2 - only default actions\r\n        commands: defaultActionItems.getAllCommandSignatures(commands)\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return RecentlyAccessedCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/recentlyaccessedcolumns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/recentlyaccessed'\r\n], function (module, _, Backbone, CollectionFactory, RecentlyAccessedCollectionFactory) {\r\n\r\n  var RecentlyAccessedColumnsCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'recentlyaccessed_columns',\r\n\r\n    constructor: function RecentlyAccessedColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getCollection(RecentlyAccessedCollectionFactory, options);\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return RecentlyAccessedColumnsCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/member',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/member'\r\n], function (module, _, Backbone, ModelFactory, ConnectorFactory, MemberModel) {\r\n  'use strict';\r\n\r\n  var MemberModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'member',\r\n\r\n    constructor: function MemberModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var member = this.options.member || {};\r\n      if (!(member instanceof Backbone.Model)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config = module.config();\r\n        member = new MemberModel(member.attributes || config.attributes, _.defaults({\r\n          connector: connector\r\n        }, member.options, config.options));\r\n      }\r\n      this.property = member;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  return MemberModelFactory;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/search.results/search.metadata/search.metadata.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone'\r\n], function (_, $, Backbone) {\r\n  'use strict';\r\n\r\n  var SearchMetadataMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeSearchMetadataResponse: function (options) {\r\n          return this;\r\n        },\r\n\r\n        parseSearchMetadataResponse: function (resp, options) {\r\n          return resp;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return SearchMetadataMixin;\r\n});\r\n\n","csui.define('csui/models/widget/search.results/search.metadata/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone'\r\n], function (_, $, Backbone) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          var deferred = $.Deferred();\r\n          options = _.defaults({parse: true}, options);\r\n          this.trigger('request', this, {}, options);\r\n          setTimeout(function () {\r\n            options.success.call(options.context, {}, 'success', {});\r\n            deferred.resolve();\r\n          }.bind(this));\r\n          return deferred.promise();\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          return this.parseSearchMetadataResponse(response, options);\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/widget/search.results/search.metadata/search.metadata.model',['csui/lib/jquery', 'csui/lib/underscore', \"csui/lib/backbone\",\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/widget/search.results/search.metadata/search.metadata.mixin',\r\n  'csui/models/widget/search.results/search.metadata/server.adaptor.mixin'\r\n], function ($, _, Backbone, ConnectableMixin, FetchableMixin, SearchMetadataMixin,\r\n    ServerAdaptorMixin) {\r\n  \"use strict\";\r\n\r\n  var SearchMetadataItemModel = Backbone.Model.extend({\r\n\r\n    idAttribute: \"key\",\r\n\r\n    defaults: {\r\n      key: null,  // key from the resource definitions\r\n      sequence: 0 // smaller number moves the column to the front\r\n    }\r\n\r\n  });\r\n\r\n  var SearchMetadataItemsCollection = Backbone.Collection.extend({\r\n\r\n    model: SearchMetadataItemModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function SearchMetadataItemsCollection(attributes, options) {\r\n      SearchMetadataItemsCollection.__super__.constructor.apply(this, arguments);\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeSearchMetadataResponse(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    getColumnKeys: function () {\r\n      return this.pluck('key');\r\n    },\r\n\r\n    deepClone: function () {\r\n      return new SearchMetadataItemsCollection(\r\n          this.map(function (column) {\r\n            return column.attributes;\r\n          }));\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(SearchMetadataItemsCollection.prototype);\r\n  FetchableMixin.mixin(SearchMetadataItemsCollection.prototype);\r\n  SearchMetadataMixin.mixin(SearchMetadataItemsCollection.prototype);\r\n  ServerAdaptorMixin.mixin(SearchMetadataItemsCollection.prototype);\r\n\r\n  return SearchMetadataItemsCollection;\r\n});\n","csui.define('csui/utils/contexts/factories/search.metadata.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/models/widget/search.results/search.metadata/search.metadata.model'\r\n], function (module, _, Backbone, CollectionFactory, SearchMetadataModel) {\r\n\r\n  var SearchMetadataModelFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'searchMetadata',\r\n\r\n    constructor: function SearchMetadataModelFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var metadata = this.options.metadata || {};\r\n      if (!(metadata instanceof Backbone.Collection)) {\r\n        var config = module.config();\r\n        metadata = new SearchMetadataModel(metadata.models, _.extend({},\r\n            metadata.options, config.options));\r\n      }\r\n      this.property = metadata;\r\n    },\r\n    isFetchable: function () {\r\n      return !!this.options;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n  return SearchMetadataModelFactory;\r\n});\n","csui.define('csui/utils/contexts/factories/task.queue.factory',[\r\n  \"module\",\r\n  \"csui/lib/underscore\",\r\n  \"csui/lib/backbone\",\r\n  \"csui/utils/contexts/factories/factory\",\r\n  \"csui/utils/taskqueue\"\r\n], function(module, _, Backbone, ModelFactory, TaskQueue) {\r\n  var TaskQueueFactory = ModelFactory.extend({\r\n    propertyPrefix: \"taskQueue\",\r\n\r\n    constructor: function TaskQueueFactory(options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var taskQueue = this.options.taskQueue || {};\r\n      if (!(taskQueue instanceof TaskQueue)) {\r\n        var config = module.config();\r\n        taskQueue = new TaskQueue(\r\n          _.extend({}, taskQueue.options, config.options)\r\n        );\r\n      }\r\n      this.property = taskQueue;\r\n    }\r\n  });\r\n  return TaskQueueFactory;\r\n});\r\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/document.overview.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/document.overview\"\r\n    }\r\n  }\r\n}\r\n);\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/favorites2.table.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/favorites2.table\"\r\n    }\r\n  }\r\n});\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/container.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/nodestable\"\r\n    }\r\n  }\r\n}\r\n);\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/metadata.json',{\r\n  \"type\": \"grid\",\r\n  \"options\": {\r\n    \"rows\": [\r\n      {\r\n        \"columns\": [\r\n          {\r\n            \"sizes\": {\r\n              \"md\": 12\r\n            },\r\n            \"heights\": {\r\n              \"xs\": \"full\"\r\n            },\r\n            \"widget\": {\r\n              \"type\": \"csui/widgets/metadata\",\r\n              \"options\": {\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n);\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/metadata.navigation.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/metadata.navigation\"\r\n    }\r\n  }\r\n}\r\n);\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/myassignmentstable.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/myassignmentstable\"\r\n    }\r\n  }\r\n});\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/recentlyaccessedtable.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/recentlyaccessedtable\"\r\n    }\r\n  }\r\n});\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/search.json',{\r\n  \"type\": \"left-center-right\",\r\n  \"options\": {\r\n    \"center\": {\r\n      \"type\": \"csui/widgets/search.results\",\r\n      \"className\": \"search-results-container\"\r\n    }\r\n  }\r\n}\r\n);\n\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/saved.query.json',{\r\n  \"type\": \"grid\",\r\n  \"options\": {\r\n    \"rows\": [\r\n      {\r\n        \"columns\": [\r\n          {\r\n            \"sizes\": {\r\n              \"md\": 12\r\n            },\r\n            \"heights\": {\r\n              \"xs\": \"half\"\r\n            },\r\n            \"widget\": {\r\n              \"type\": \"csui/widgets/placeholder\",\r\n              \"options\": {\r\n                \"label\": \"Saved Query\",\r\n                \"color\": \"#fff\",\r\n                \"bgcolor\": \"#cccc88\"\r\n              }\r\n            }\r\n          },\r\n          {\r\n            \"sizes\": {\r\n              \"md\": 12\r\n            },\r\n            \"heights\": {\r\n              \"xs\": \"full\"\r\n            },\r\n            \"widget\": {\r\n              \"type\": \"csui/widgets/search.results\",\r\n              \"options\": {\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n);\n\n","csui.define('csui/models/widget/search.box/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/url'\r\n], function (_, $, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          return Url.combine(this.connector.connection.url, \"searchbar?enterprise_slices=true\");\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          var sliceLabels = response.options.fields.slice.optionLabels,\r\n            sliceIds = response.schema.properties.slice.enum,\r\n            returnData = {};\r\n          returnData.slices = [];\r\n          $.each(sliceIds, function (sliceIdx) {\r\n            returnData.slices.push({\r\n              sliceId: sliceIds[sliceIdx],\r\n              sliceDisplayName: sliceLabels[sliceIdx]\r\n            });\r\n          });\r\n          return returnData;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/widget/search.box.model',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/widget/search.box/server.adaptor.mixin'\r\n], function (_, $, Backbone, Url, ConnectableMixin, FetchableMixin, ServerAdaptorMixin) {\r\n  \"use strict\";\r\n\r\n  var SearchBoxModel = Backbone.Model.extend({\r\n\r\n    constructor: function SearchBoxModel(models, options) {\r\n      this.options = options || (options = {});\r\n      Backbone.Model.prototype.constructor.call(this, models, options);\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeServerAdaptor(options);\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(SearchBoxModel.prototype);\r\n  FetchableMixin.mixin(SearchBoxModel.prototype);\r\n  ServerAdaptorMixin.mixin(SearchBoxModel.prototype);\r\n\r\n  _.extend(SearchBoxModel.prototype, {\r\n\r\n    isFetchable: function () {\r\n      return !!this.options;\r\n    }\r\n\r\n  });\r\n\r\n  return SearchBoxModel;\r\n\r\n});\n","csui.define('csui/utils/contexts/factories/search.box.factory',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/search.box.model'\r\n], function (module, _, $, Backbone, CollectionFactory, ConnectorFactory,\r\n    SearchBoxModel) {\r\n  'use strict';\r\n\r\n  var prefetch = /\\bprefetch(?:=([^&]*)?)/i.exec(location.search);\r\n  prefetch = !prefetch || prefetch[1] !== 'false';\r\n\r\n  var initialResourceFetched;\r\n\r\n  var SearchBoxFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'searchBox',\r\n\r\n    constructor: function SearchBoxFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var searchBox = this.options.searchBox || {},\r\n          config = module.config();\r\n      if (prefetch) {\r\n        this.initialResponse = searchBox.initialResponse || config.initialResponse;\r\n      }\r\n      if (!(searchBox instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        searchBox = new SearchBoxModel(searchBox.attributes || config.attributes,\r\n          _.defaults({\r\n            connector: connector\r\n          }, searchBox.options, config.options, {\r\n            autofetch: true\r\n          }));\r\n      }\r\n      this.property = searchBox;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      if (this.initialResponse && !initialResourceFetched) {\r\n        var promise = this.property.prefetch(this.initialResponse, options);\r\n        initialResourceFetched = true;\r\n        return promise;\r\n      } else {\r\n        return this.property.fetch(options);\r\n      }\r\n    }\r\n  });\r\n\r\n  return SearchBoxFactory;\r\n});\r\n\n","csui.define('csui/temporary/activeviews/icons/icons',[],function () {\r\n  'use strict';\r\n\r\n  return [\r\n    {\r\n      // ActiveView\r\n      equals: {type: 30309},\r\n      className: 'csui-icon mime_active_view',\r\n      // ActiveView has a MIME type, which would decide the icon otherwise;\r\n      // the MIME type icons have the sequence number 50 in common\r\n      sequence: 30\r\n    },\r\n    {\r\n      // web report\r\n      equals:    {type: 30303},\r\n      className: 'csui-icon mime_web_report',\r\n      // Web Report has a MIME type, which would decide the icon otherwise;\r\n      // the MIME type icons have the sequence number 50 in common\r\n      sequence:  30\r\n    }\r\n  ];\r\n\r\n});\r\n\n","csui.define('csui/temporary/appearances/icons/icons',[],function () {\r\n  'use strict';\r\n\r\n  return [\r\n    {\r\n      // Appearance\r\n      equals: {type: 480},\r\n      className: 'csui-icon mime_appearance',\r\n      // Appearance has a MIME type, which would decide the icon otherwise;\r\n      // the MIME type icons have the sequence number 50 in common\r\n      sequence: 30\r\n    }\r\n  ];\r\n\r\n});\r\n\n","\ncsui.define('css!csui/temporary/cop/icons/icons',[],function(){});\n","csui.define('csui/temporary/cop/icons/icons',['css!csui/temporary/cop/icons/icons'\r\n], function () {\r\n  'use strict';\r\n\r\n  return [\r\n    // Blog, FAQ, Forum, Wiki and their entries have a MIME type,\r\n    // which would decide the icon otherwise; the MIME type icons\r\n    // have the sequence number 50 in common\r\n    {\r\n      // blog\r\n      equals:    {type: 356},\r\n      className: 'csui-icon csui-temporary-cop-blog',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // blog entry\r\n      equals:    {type: 357},\r\n      className: 'csui-icon mime_blog_entry',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // collaborative place\r\n      equals:    {type: 1257},\r\n      className: 'csui-icon mime_collaborative_place',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // faq\r\n      equals:    {type: 123475},\r\n      className: 'csui-icon mime_faq',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // faq entry\r\n      equals:    {type: 123476},\r\n      className: 'csui-icon mime_faq_entry',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // forum\r\n      equals:    {type: 123469},\r\n      className: 'csui-icon mime_forum',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // forum topics and replies\r\n      equals:    {type: 123470},\r\n      className: 'csui-icon mime_forum_topics_replies',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // topic\r\n      equals:    {type: 130},\r\n      className: 'csui-icon mime_topic',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // wiki\r\n      equals:    {type: 5573},\r\n      className: 'csui-icon mime_wiki',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // wiki page\r\n      equals:    {type: 5574},\r\n      className: 'csui-icon mime_wiki_page',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // community\r\n      equals:    {type: 3030202},\r\n      className: 'csui-icon mime_community',\r\n      sequence:  30\r\n    }\r\n  ];\r\n\r\n});\r\n\n","csui.define('bundles/csui-data',[\r\n  // Behaviours\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  // The controller using the commands is loaded dynamically\r\n  'csui/behaviors/default.action/impl/defaultaction',\r\n  'csui/behaviors/keyboard.navigation/retainfocus.behavior',\r\n  'csui/behaviors/keyboard.navigation/tabkey.behavior',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n\r\n  // Controls\r\n  'csui/controls/error/error.view',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'css!csui/controls/globalmessage/globalmessage_icons',\r\n  'csui/controls/grid/grid.view',\r\n  'csui/controls/node-type.icon/node-type.icon.view',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/controls/globalmessage/impl/progresspanel/progresspanel.view',\r\n  'i18n!csui/controls/globalmessage/impl/nls/globalmessage.lang',\r\n  'csui/controls/perspective.panel/perspective.animator',\r\n  'csui/controls/perspective.panel/perspective.panel.view',\r\n  'csui/controls/breadcrumbs/breadcrumbs.view',\r\n  'csui/controls/form/pub.sub',\r\n  'csui/controls/mixins/keyboard.navigation/modal.keyboard.navigation.mixin',\r\n  'csui/controls/tab.panel/tab.panel.view',\r\n  'csui/controls/tab.panel/tab.links.ext.scroll.mixin',\r\n  'csui/controls/tab.panel/tab.links.ext.view',\r\n  'csui/controls/tab.panel/impl/tab.link.ext.view',\r\n  'csui/controls/tab.panel/impl/tab.contents.view',\r\n  'csui/controls/tab.panel/behaviors/common.keyboard.behavior.mixin',\r\n  'csui/controls/tab.panel/behaviors/tab.contents.keyboard.behavior',\r\n  'csui/controls/tab.panel/behaviors/tab.contents.proxy.keyboard.behavior',\r\n  'csui/controls/tab.panel/behaviors/tab.links.dropdown.keyboard.behavior',\r\n  'csui/controls/tab.panel/behaviors/tab.links.keyboard.behavior',\r\n  'csui/controls/tab.panel/behaviors/tab.panel.keyboard.behavior',\r\n  // Used in tab.link.dropdown.view from csui-forms\r\n  'csui/controls/tab.panel/impl/tab.link.view',\r\n  // Used in tab.links.ext.view from csui-forms\r\n  'csui/controls/tab.panel/impl/tab.links.view',\r\n  //Shared for metadataproperties from cs-metadata\r\n  'i18n!csui/controls/tab.panel/impl/nls/lang',\r\n\r\n  // Control mixins\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n  'csui/controls/mixins/global.alert/global.alert.mixin',\r\n  'csui/controls/mixins/view.state/metadata.view.state.mixin',\r\n  'csui/controls/mixins/view.state/node.view.state.mixin',\r\n\r\n  // Control behaviours\r\n  'csui/controls/tile/behaviors/blocking.behavior',\r\n  'csui/controls/tile/behaviors/infinite.scrolling.behavior',\r\n  'csui/controls/tile/behaviors/parent.scrollbar.updating.behavior',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/controls/tile/behaviors/searching.behavior',\r\n\r\n  // Dialogs\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n\r\n  // Perspectives\r\n  'csui/perspectives/flow/flow.perspective.view',\r\n  'csui/perspectives/grid/grid.perspective.view',\r\n  'csui/perspectives/left-center-right/left-center-right.perspective.view',\r\n  'csui/perspectives/single/single.perspective.view',\r\n  'csui/perspectives/tabbed/tabbed.perspective.view',\r\n  'csui/perspectives/tabbed-flow/tabbed-flow.perspective.view',\r\n  'csui/perspectives/zone/zone.perspective.view',\r\n  'csui/perspectives/mixins/perspective.edit.mixin',\r\n\r\n  // Routers\r\n  'csui/pages/start/perspective.router',\r\n  'csui/pages/start/perspective.routing',\r\n  'csui/pages/start/impl/landing.perspective.router',\r\n  'csui/pages/start/impl/node.perspective.router',\r\n  'csui/pages/start/impl/search.perspective.router',\r\n  'csui/pages/start/impl/metadata.perspective.router',\r\n  'csui/pages/start/impl/root.perspective.router',\r\n  'i18n!csui/pages/start/impl/nls/lang',\r\n\r\n  // Utilities\r\n  'csui/utils/classic.nodes/impl/core.classic.nodes',\r\n  'csui/utils/content.helper',\r\n  'csui/utils/handlebars/l10n',\r\n  'csui/utils/impl/core.defaultactionitems',\r\n  'csui/utils/non-attaching.region/non-attaching.region',\r\n  'csui/utils/non-emptying.region/non-emptying.region',\r\n  'csui/utils/script-executing.region/script-executing.region',\r\n  'csui/utils/node.links/impl/core.node.links',\r\n  'csui/utils/open.authenticated.page',\r\n  'csui/utils/smart.nodes/impl/core.smart.nodes',\r\n  'csui/utils/taskqueue',\r\n  'csui/behaviors/keyboard.navigation/tabables.behavior',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n\r\n  // Contexts and factories\r\n  'csui/models/node/node.addable.type.factory',\r\n  'csui/controls/perspective.panel/perspective.factory',\r\n  'csui/utils/contexts/context',\r\n  'csui/utils/contexts/context.plugin',\r\n  'csui/utils/contexts/browsing/browsing.context',\r\n  'csui/utils/contexts/page/page.context',\r\n  'csui/utils/contexts/portal/portal.context',\r\n  'csui/utils/contexts/perspective/impl/landing.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/plugins/node/node.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/impl/search.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/impl/metadata.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/impl/root.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/plugins/node/node.extra.data',\r\n  'csui/utils/contexts/perspective/plugins/node/impl/node.extra.data',\r\n  'csui/utils/contexts/perspective/landing.perspectives',\r\n  'csui/utils/contexts/perspective/node.perspectives',\r\n  'csui/utils/contexts/perspective/perspective.context',\r\n  'csui/utils/contexts/perspective/perspective.guide',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/search.perspectives',\r\n  'csui/utils/contexts/factories/ancestors',\r\n  'csui/utils/contexts/factories/appcontainer',\r\n  'csui/utils/contexts/factories/children',\r\n  'csui/utils/contexts/factories/children2',\r\n  'csui/utils/contexts/factories/columns',\r\n  'csui/utils/contexts/factories/columns2',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/global.error',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/contexts/factories/previous.node',\r\n  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/usernodepermission',\r\n  'csui/utils/contexts/factories/volume',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/factories/favoritescolumns',\r\n  'csui/utils/contexts/factories/favorite2groups',\r\n  'csui/utils/contexts/factories/favorites',\r\n  'csui/utils/contexts/factories/favorites2',\r\n  'csui/utils/contexts/factories/favorite2columns',\r\n  'csui/utils/contexts/factories/myassignmentscolumns',\r\n  'csui/utils/contexts/factories/myassignments',\r\n  'csui/utils/contexts/factories/recentlyaccessedcolumns',\r\n  'csui/utils/contexts/factories/recentlyaccessed',\r\n  'csui/utils/contexts/factories/member',\r\n  'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/utils/contexts/factories/search.metadata.factory',\r\n  'csui/utils/contexts/factories/metadata.factory',\r\n  'csui/utils/contexts/factories/task.queue.factory',\r\n\r\n  // helper code to make the routing code testable\r\n  'csui/pages/start/impl/location',\r\n\r\n  // Client-side perspectives\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/document.overview.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/favorites2.table.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/container.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/metadata.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/metadata.navigation.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/myassignmentstable.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/recentlyaccessedtable.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/search.json',\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/saved.query.json',\r\n\r\n  // Application widgets\r\n  'csui/widgets/error/error.view',\r\n\r\n  // Application widgets manifests\r\n\r\n  // TODO: Remove the need for this impl by implementing search results\r\n  // for a saved template by a contextual node perspective\r\n  'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/utils/contexts/factories/search.box.factory',\r\n\r\n  // TODO: Remove this, as long as the module owners take over\r\n  // the icons\r\n  'csui/temporary/activeviews/icons/icons',\r\n  'csui/temporary/appearances/icons/icons',\r\n  'csui/temporary/cop/icons/icons',\r\n\r\n  // TODO: Remove this module from public area. Localization has to\r\n  // be private  for its module.\r\n  'i18n!csui/models/widget/nls/lang'\r\n], {});\r\n\r\ncsui.require(['require', 'css'], function (require, css) {\r\n  css.styleLoad(require, 'csui/bundles/csui-data', true);\r\n});\r\n\n","csui.define('csui/pages/start/impl/perspective.factory',[\r\n  'csui/controls/perspective.panel/perspective.factory'\r\n], function (PerspectiveFactory) {\r\n  'use strict';\r\n\r\n  console.warn('DEPRECATED: depend on the module \"csui/controls/perspective.panel/perspective.factory\" instead.');\r\n\r\n  return PerspectiveFactory;\r\n});\n","csui.define('csui/pages/start/impl/perspective.router',[\r\n  'csui/utils/routing'\r\n], function (routing) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module, use csui/utils/routing\r\n\r\n  function PerspectiveRouter() {}\r\n\r\n  PerspectiveRouter.routesWithSlashes = routing.routesWithSlashes;\r\n\r\n  return PerspectiveRouter;\r\n});\r\n\n","csui.define('csui/pages/start/impl/perspective.panel/perspective.animator',[\r\n  'csui/controls/perspective.panel/perspective.animator'\r\n], function (PerspectiveAnimator) {\r\n  'use strict';\r\n\r\n  console.warn('DEPRECATED: depend on the module \"csui/controls/perspective.panel/perspective.animator\" instead.');\r\n\r\n  return PerspectiveAnimator;\r\n});\n","csui.define('csui/pages/start/impl/perspective.panel/perspective.panel.view',[\r\n  'csui/controls/perspective.panel/perspective.panel.view'\r\n], function (PerspectivePanelView) {\r\n  'use strict';\r\n\r\n  console.warn('DEPRECATED: depend on the module \"csui/controls/perspective.panel/perspective.panel.view\" instead.');\r\n\r\n  return PerspectivePanelView;\r\n});\n"]}