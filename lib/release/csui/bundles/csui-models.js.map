{"version":3,"sources":["../../src/utils/log/console.re.appender.js","../../src/utils/log.js","../../src/utils/url.js","../../src/utils/impl/nls/lang.js","../../src/utils/impl/nls/root/lang.js","../../src/utils/impl/nls/lang!i18n","../../src/utils/errormessage.js","../../src/utils/messagehelper.js","../../src/utils/types/date.js","../../src/utils/types/number.js","../../src/utils/types/member.js","../../src/utils/types/localizable.js","../../src/utils/base.js","../../src/models/action.js","../../src/models/actions.js","../../src/models/mixins/rules.matching/rules.matching.mixin.js","../../src/models/actionitem.js","../../src/models/actionitems.js","../../src/models/addabletype.js","../../src/models/addabletypes.js","../../src/models/mixins/connectable/connectable.mixin.js","../../src/models/ancestor.js","../../src/models/ancestors.js","../../src/models/mixins/expandable/expandable.mixin.js","../../src/models/mixins/fetchable/fetchable.mixin.js","../../src/models/mixins/autofetchable/autofetchable.mixin.js","../../src/models/mixins/resource/resource.mixin.js","../../src/models/mixins/including.additional.resources/including.additional.resources.mixin.js","../../src/models/authenticated.user/server.adaptor.mixin.js","../../src/models/authenticated.user.js","../../src/models/authenticated.user.node.permission.js","../../src/models/mixins/uploadable/uploadable.mixin.js","../../src/models/member/server.adaptor.mixin.js","../../src/models/member.js","../../src/models/authentication.js","../../src/models/clientsidecollection.js","../../src/models/column.js","../../src/models/columns.js","../../src/models/datadefinition.js","../../src/models/datadefinitions.js","../../src/models/mixins/v2.fields/v2.fields.mixin.js","../../src/models/mixins/v2.expandable/v2.expandable.mixin.js","../../src/models/mixins/state.requestor/state.requestor.mixin.js","../../src/models/mixins/state.carrier/state.carrier.mixin.js","../../src/models/mixins/v2.commandable/v2.commandable.mixin.js","../../src/models/node.actions/server.adaptor.mixin.js","../../src/models/node.actions.js","../../src/utils/promoted.actionitems.js","../../src/utils/deepClone/deepClone.js","../../src/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin.js","../../src/models/mixins/v2.additional.resources/v2.additional.resources.mixin.js","../../src/models/node.columns2.js","../../src/models/node/impl/nls/lang.js","../../src/models/node/impl/nls/root/lang.js","../../src/models/node/impl/nls/lang!i18n","../../src/models/utils/v1tov2.js","../../src/models/mixins/syncable.from.multiple.sources/syncable.from.multiple.sources.mixin.js","../../src/models/node/server.adaptor.mixin.js","../../src/models/node/node.model.js","../../src/models/server.adaptors/favorite2.mixin.js","../../src/models/favorite2.js","../../src/models/browsable/browsable.mixin.js","../../src/models/browsable/client-side.mixin.js","../../src/models/browsable/v2.response.mixin.js","../../src/models/impl/nls/lang.js","../../src/models/impl/nls/root/lang.js","../../src/models/impl/nls/lang!i18n","../../src/models/favorite2column.js","../../src/models/favorite2columns.js","../../src/models/server.adaptors/favorites2.mixin.js","../../src/models/favorites2.js","../../src/models/favorite2group.js","../../src/models/server.adaptors/favorite2groups.mixin.js","../../src/models/favorite2groups.js","../../src/models/server.adaptors/favorite.model.mixin.js","../../src/models/favorite.model.js","../../src/models/member/member.model.js","../../src/models/browsable/v1.request.mixin.js","../../src/models/member/membercollection.js","../../src/models/members.js","../../src/models/mixins/node.connectable/node.connectable.mixin.js","../../src/models/mixins/node.autofetchable/node.autofetchable.mixin.js","../../src/models/mixins/node.resource/node.resource.mixin.js","../../src/utils/nodesprites!csui-ext","../../src/utils/nodesprites.js","../../src/models/node.addable.type/server.adaptor.mixin.js","../../src/models/node/node.addable.type.collection.js","../../src/models/mixins/appcontainer/appcontainer.mixin.js","../../src/models/node.children2/server.adaptor.mixin.js","../../src/models/node.children2/node.children2.js","../../src/models/node.ancestors/server.adaptor.mixin.js","../../src/models/nodeancestors.js","../../src/models/nodechildrencolumn.js","../../src/models/nodechildrencolumns.js","../../src/models/nodes.js","../../src/models/mixins/commandable/commandable.mixin.js","../../src/models/mixins/delayed.commandable/delayed.commandable.mixin.js","../../src/models/browsable/v1.response.mixin.js","../../src/models/node.children/server.adaptor.mixin.js","../../src/models/nodechildren.js","../../src/models/permission/nodepermission.model.js","../../src/models/permission/permission.response.mixin.js","../../src/models/permission/nodeuserpermissions.js","../../src/models/tool.item.config/tool.item.config.collection.js","../../src/models/tool.item.mask/tool.item.mask.collection.js","../../src/models/server.module/server.module.collection.js","../../src/models/specificnodemodel.js","../../src/utils/objectstorage.js","../../src/utils/namedstorage.js","../../src/utils/namedsessionstorage.js","../../src/models/view.state.model.js","../../src/models/perspective/personalization.server.adaptor.mixin.js","../../src/utils/namedlocalstorage.js","../../src/models/perspective/localstorage.server.adaptor.mixin.js","../../src/utils/perspective/perspective.util.js","../../src/models/perspective/personalize/delta.generator.js","../../src/models/perspective/personalize/delta.resolver.js","../../src/models/perspective/personalize/personalize.guide.js","../../src/models/perspective/personalization.model.js","../../src/models/autofetchable.js","../../src/models/connectable.js","../../src/models/fetchable.js","../../src/models/including.additional.resources.js","../../src/models/nodeautofetchable.js","../../src/models/nodeconnectable.js","../../src/models/noderesource.js","../../src/models/resource.js","../../src/models/uploadable.js","../../src/models/mixins/versions/v2.versions.response.mixin.js","../../src/models/server.adaptors/version.mixin.js","../../src/models/version.js","../../src/models/widget/widget.model.js","../../src/models/widget/widget.collection.js","../../src/models/zipanddownload/zipanddownload.preflight.js","../../src/models/zipanddownload/zipanddownload.stages.js","../../src/utils/mime.types.js","../../src/utils/classic.nodes/classic.nodes!csui-ext","../../src/utils/classic.nodes/classic.nodes.js","../../src/utils/authenticators/authenticators!csui-ext","../../src/utils/authenticators/authenticators.js","../../src/utils/connector.js","../../src/utils/defaultactionitems!csui-ext","../../src/utils/defaultactionitems.js","../../src/utils/authenticators/authenticator.js","../../src/utils/authenticators/ticket.authenticator.js","../../src/utils/authenticators/request.authenticator.js","../../src/utils/authenticators/server.adaptors/initial.header.mixin.js","../../src/utils/authenticators/initial.header.authenticator.js","../../src/utils/headerauthenticator.js","../../src/utils/authenticators/interactive.credentials.authenticator.js","../../src/utils/interactiveauthenticator.js","../../src/utils/node.info.sprites!csui-ext","../../src/utils/node.info.sprites.js","../../src/utils/page.leaving.blocker.js","../../src/utils/requestauthenticator.js","../../src/utils/smart.nodes/smart.nodes!csui-ext","../../src/utils/smart.nodes/smart.nodes.js","../../src/utils/authenticators/server.adaptors/basic.mixin.js","../../src/utils/authenticators/basic.authenticator.js","../../src/utils/authenticators/server.adaptors/credentials.mixin.js","../../src/utils/authenticators/credentials.authenticator.js","../../src/utils/authenticators/regular.header.authenticator.js","../../src/utils/authenticators/redirecting.form.authenticator.js","../../src/utils/authenticators/core.authenticators.js","../../src/utils/authenticator.js","../../src/utils/basicauthenticator.js","csui-models.js"],"names":["csui","define","log4javascript","ConsoleReAppender","prototype","Object","create","Appender","layout","NullLayout","threshold","Level","DEBUG","append","loggingEvent","appender","this","window","console","re","log","formattedMesage","getLayout","formattedMessage","format","ignoresThrowable","exception","getThrowableStrRep","debug","isGreaterOrEqual","level","info","INFO","equals","warn","WARN","error","ERROR","group","name","groupEnd","toString","module","$","_","target","_target","find","config","modules","settings","pattern","matchModule","_threshold","getThreshold","undefined","timing","replace","RegExp","test","thresholds","toUpperCase","Error","formatMessage","message","str","sformat","apply","arguments","performanceTimeStamp","getTimePerformanceStamp","moduleNameStamp","performance","now","toFixed","getGroupName","defaults","consoleRe","page","server","consoleEnabled","loggerEnabled","enabled","ALL","setDocumentReady","logger","getLogger","PopUpAppender","setNewestMessageAtTop","setScrollToLatestMessage","setLayout","PatternLayout","addAppender","InPageAppender","placeholder","setShowHideButton","setShowCommandLine","AjaxAppender","url","JsonLayout","setTimed","setTimerInterval","setSendAllOnTimer","setBatchSize","setWaitForResponse","setSendAllOnUnload","headers","extend","content-type","each","keys","addHeader","setLevel","last","can","time","call","timeEnd","getObjectName","object","getPrototypeOf","constructor","getStackTrace","frameCountToSkip","stack","lines","split","length","match","slice","join","Url","raw","isValid","re_weburl","isAbsolute","getAbsolute","origin","location","href","getOrigin","combine","getProtocol","indexOf","toLowerCase","substring","getHost","getPort","start","port","parseInt","getPath","getVirtualDirectory","getCgiScript","apiSuffix","charAt","lastIndexOf","substr","getQuery","getApiBase","version","makeAbsoluteUrl","relativeUrl","defaultUrlPath","firstCharacter","i","part","path","makeMultivalueParameter","values","map","encodeURIComponent","combineQueryString","query","isObject","param","isString","appendQuery","lastCharacter","urlParams","hashIndex","urlParamsIndex","parseParams","mergeUrlParams","paramToAddStr","paramsToRemoveArray","toRemoveAll","concat","newParams","omit","root","en-us","en","ColumnMemberName2","ColumnMemberName3","sizeInBytes","ErrorUnknown","InvalidResponse","ErrorStatiNice","ErrorHtmlTpl","ErrorStringTpl","AuthenticationFailureDialogTitle","SessionExpiredDialogTitle","AuthenticationFailureDialogText","NodeTypeSearchQuery","NodeTypeURL","NodeTypeAudio","NodeTypeCompressed","NodeTypeImage","NodeTypeText","NodeTypeHtml","NodeTypeUnknown","NodeTypeVideo","NodeTypeDOC","NodeTypePDF","NodeTypePPT","NodeTypePresentation","NodeTypeXLS","NodeTypeSpreadsheet","NodeTypeFormula","NodeTypePublisher","NodeTypeVisio","NodeTypeMPP","NodeTypeONE","NoConnectivity","NetworkError","resourceConflict","Home","Loading","NotAvailalbe","Backbone","lang","Type","Confirm","Warning","Hint","Info","Message","Model","attributes","type","getType","get","getName","getMessage","ErrorMessage","RequestErrorMessage","statusCode","statusText","errorDetails","status","responseText","responseJSON","JSON","parse","failure","data","errorDetail","method","punctuation","trim","verion","Lang","id","ts","animationShow","-webkit-transition","transition","animationHide","animationNone","animationFadeOut","MessageHelper","Collection","model","title","showMessages","reset","show","getStatus","showit","trigger","groupBy","toHtml","addMessage","txt","msg","add","showErrors","addError","errmsg","addErrorMessage","errorts","sortBy","clear","hasMessages","getMessages","template","html","msgType","reverse","statusPlain","statusNice","removeField","viewel","selector","elem","forEach","oldval","oldclass","oldel","hasClass","addClass","switchField","value","newclass","newel","changed","removeClass","element","transitionEnd","once","transitions","WebkitTransition","MozTransition","OTransition","document","createElement","style","createPanel","globals","Panel","options","oldPanel","newPanel","$el","classNames","render","toggleClass","collapsed","doCollapse","doExpand","activatePanel","relatedView","parentView","resizePanel","appendTo","el","destroy","doShow","showPanel","view","self","slideSize","getTargetSizes","panel","csuiBeforeShow","panelSize","setPanelHeight","slidedown","hidden","sizes","distance","elemHeight","position","css","height","Math","min","top","bottom","rect","one","csuiAfterShow","expandPanel","details","animated","hidePanel","slideup","csuiBeforeHide","csuiAfterHide","min_top","idattr","attr","heightSource","outerHeight","collapsePanel","fadeoutPanel","opacity","doResize","getBoundingClientRect","width","left","Events","moment","getExactFormat","momentFormat","partFormat","index","formatters","explicitFormat","shift","exec","localeData","longDateFormat","pad","n","createMoment","text","Date","formatIsoDateTimeInTimeZone","direction","tz","deserializeDate","toDate","serializeDateTime","date","callback","formatDateTime","suffix","year","month","hours","minutes","seconds","exactDateTimeFormat","parsed","formatIsoDateTimeInUtc","utc","serializeDate","exactDateFormat","validateDate","validateDateTime","formatDate","friendlyDate","formatFriendlyDate","formatExactDate","friendlyDateTime","formatFriendlyDateTime","formatExactDateTime","formatExactTime","exactTimeFormat","calendar","formatFriendlyDateTimeNow","fromNow","formatISODate","toISOString","formatISODateTime","requirejs","s","contexts","friendlyTime","momentDateFormat","dateFormat","momentTimeFormat","timeFormat","momentDateTimeFormat","dateTimeFormat","numeral","formatInteger","formatIntegerWithCommas","formatFileSize","size","friendlyFileSize","formatFriendlyFileSize","formatExactFileSize","isNumber","MAX_SAFE_INTEGER","Number","MIN_SAFE_INTEGER","formatMemberName","member","display_name","name_formatted","firstName","first_name","lastName","last_name","middleName","middle_name","i18n","getClosestLocalizedString","fallback","reduce","result","locale","language","defaultLocale","defaultLanguage","localeCompareString","right","usage","filteredOptions","sensitivity","numeric","localeCompare","localeContainsString","hay","needle","localeIndexOfString","localeEndsWithString","full","end","fullLength","maxLength","difference","localeStartsWithString","count","messagesObj","formatStr","params","Array","formatForFive","formatForTwo","formatForOne","formatForNone","splice","number","localizable","escapeHtml","preserveLineBreaks","escapeHtmlHelper","isBackbone","isPlaceholder","isElement","isTouchBrowser","navigator","isHybrid","isAppleMobile","userAgent","isMacintosh","platform","isLandscape","matchMedia","isPortrait","isIE11","isMozilla","isEdge","isFirefox","isMSBrowser","isChrome","isChromium","chrome","winNav","vendorName","vendor","isOpera","isIEedge","isIOSChrome","retVal","isSafari","px2em","pxContainerWidth","pxElemWidth","pxInEms","floor","isVisibleInWindowViewport","is","offset","pageXOffset","pageYOffset","extents","$window","isVisibleInWindowViewportHorizontally","elRect","isVisibleInWindowViewportVertically","isElementVisibleInParents","levels","iPercentX","iPercentY","percentX","percentY","elemRect","parentRects","maxLevels","curLevel","parentElement","push","every","parentRect","visiblePixelX","max","visiblePixelY","visiblePercentageX","visiblePercentageY","isElementVisibleInParent","parent","container","contRect","checkAndScrollElemToViewport","$elem","scrollSelector","closest","elemScrollParent","stickyHeader","siblings","elemTop","viewportTop","currScrollTop","scrollTop","setScrollHandler","e","eventArg","inputElement","dropdownContainer","parents","adjustDropDownField","applyWidth","scrollableDropdownContainer","scrollEl","isIEBrowser","currentLeft","scrollUpdate","isRtl","rtl","inputElementLeft","leftShadow","leftShadowLeft","outerWidth","off","on","autoAlignDropDowns","hideDropDowns","scrollLeftRtl","scrollLeft","that","setTimeout","contextBottom","contextTop","hasPerspective","elTop","elPositionX","form","modalContentElem","modalContentPositionX","modalContentTop","controlheight","dropdownWidth","perspectivePanel","closestPerspectivePan","perspective","perspectiveHeight","perspectiveTop","perspectiveLeft","elemBoundingRect","perspectivePanelClientTop","perspectiveTopSpace","spaceOnTop","spaceOnBottom","innerHeight","isDropdownShownOnTop","max-height","abs","documentElement","offsetHeight","alignDropDownMenu","$targetEl","targetEl","$dropdownMenu","dropdownMenu","nextAll","hAlignment","vAlignment","maxHeight","maxWidth","dropdownHeight","documentWidth","documentHeight","maxWidthAllowed","viewportOffset","spaceTop","spaceBottom","spaceLeft","spaceRight","modelContent","$transformParent","transParentOffset","$elDocOffset","styles","stringifyDate","stringify","dateToLocalIsoString","dateStr","findFocusables","filter","applyEllipsis","numberOfLines","checkLine","pos","lineCount","measure","appendChild","createTextNode","lineStart","lineWidth","clientWidth","wasNewLine","lineText","wordStart","line","removeChild","firstChild","bind","whiteSpace","visibilty","ownerDocument","textContent","innerText","m","display","overflow","textOverflow","filterUnSupportedWidgets","widget","unSupportedWidgets","extWidgets","chain","flatten","_wrapped","contains","onTransitionEnd","context","timeoutRef","transitionEnded","clearTimeout","transitionEndListener","getOffset","messageHelper","errors","alert","ErrorHandler","MessageType","ErrorStatus","ErrorToShow","parseDate","getReadableFileSizeString","_require","base","ActionCollection","idAttribute","connector","assignTo","children","isArray","connection","fetch","response","action","ActionModel","models","findRecursively","cid","item","mixin","makeRulesMatching","rulesToMatch","matchRules","operations","results","operation","operands","_getRulingPropertyValue","names","_evaluate-or","any","_evaluate-and","all","_evaluate-not","_evaluate-equals","_evaluateEquals","_evaluate-equalsNoCase","noCase","key","actual","normalized","_normalizeCase","_evaluate-contains","_evaluateContains","_evaluate-containsNoCase","_evaluate-startsWith","_evaluateStartsWith","_evaluate-startsWithNoCase","_evaluate-endsWith","_evaluateEndsWith","_evaluate-endsWithNoCase","endsWith","_evaluate-matches","_evaluateMatches","_evaluate-matchesNoCase","_evaluate-includes","_evaluateIncludes","_evaluate-includesNoCase","_evaluate-has","_evaluate-decides","methods","RulesMatchingMixin","ActionItemModel","sequence","signature","node","comparator","findByNode","getAllSignatures","pluck","unique","getAllCommandSignatures","commands","command","compact","getPromotedCommandsSignatures","AddableTypeModel","Hidden","AddableTypeCollection","originalPrepareModel","_prepareModel","makeConnectable","attrs","ConnectableMixin","AncestorModel","clone","AncestorCollection","makeExpandable","expand","setExpand","properties","resetExpand","getExpandableResourcesUrlQuery","originalFetch","makeFetchable","autoreset","_beforeFetchSucceeded","_fetchingOriginal","_fetchSucceeded","_fetchStarted","fetched","fetching","_fetchFailed","jqxhr","cache","urlBase","urlCacheBase","_prepareFetch","success","ensureFetched","Deferred","resolve","promise","invalidateFetch","prefetch","deferred","silent","set","makeAutoFetchable","autofetchEvent","_autofetchEvent","autofetch","automateFetch","enable","event","_fetchAutomatically","isFetchable","FetchableMixin","AutoFetchableMixin","makeResource","makeIncludingAdditionalResources","_additionalResources","includeResources","union","excludeResources","reject","getAdditionalResourcesUrlQuery","parameter","makeServerAdaptor","apiBase","user","ExpandableMixin","ResourceMixin","IncludingAdditionalResourcesMixin","ServerAdaptorMixin","AuthenticatedUserModel","AuthenticatedUserNodePermissionModel","selectedNodeId","userId","permissions","hasEditPermissionRights","permissons","useJson","useMock","usePatch","metadataPartName","UploadableMixin","originalSync","sync","prepare","prepareFormData","body","makeUploadable","currectUpdatingUrl","useJSON","mock","files","contentType","isEmpty","formData","FormData","Blob","metadataToken","state","metadata_token","urlRoot","MemberModel","imageAttribute","AuthenticationModel","ClientSideCollection","columns","toJSON","actualSkipCount","totalCount","filteredCount","_cacheCollection","selfReset","cachedCollection","_limitResponse","resetColumnsV2","elements","skipCount","topCount","_resetCollection","workingModels","_runAllOperations","_sortCollection","_filterCollection","_limitCollection","_triggerCollectionResetEvent","setLimit","skip","resetLimit","setFilter","filterObj","clearFilter","has","parseValue","containsValue","setOrder","orderBy","resetOrder","criteria","criterium","parts","property","descending","sort","compareValues","ColumnModel","column_key","default_action","contextual_menu","editable","filter_key","ColumnCollection","DataDefinitionModel","DataDefinitionCollection","setOptions","cgiPath","nodeResource","definitions","definitions_map","definitions_order","definitions_flat","def","definition","GetDefinitionsOrder","GetDefinitionMap","GetDefinition","GetFlatCollection","GetFlatDefinition","makeFieldsV2","fields","hasFields","role","collection","setFields","_setOneFieldSet","resetFields","_resetOneFieldSet","getResourceFieldsUrlQuery","encodedNames","field","dot","mergePropertyParameters","output","input","FieldsV2Mixin","makeExpandableV2","hasExpand","_setOneExpand","_resetOneExpand","expandable","makeStateRequestor","stateEnabled","enableState","disableState","getStateEnablingUrlQuery","StateRequestorMixin","getStateAttributes","makeStateCarrier","setState","parseState","makeCommandableV2","setCommands","resetCommands","getRequestedCommandsUrlQuery","actions","parent_id","reference_id","ids","nodes","postOptions","getConnectionUrl","CommandableMixin","NodeActionModel","NodeActionCollection","setNodes","resetNodes","includeCommands","ActionItemCollection","extraActions","deepClone","source","HTMLElement","isBoolean","isDate","isRegExp","valueOf","obj","cloneCloneableObjects","copyArbitraryObjects","cloneArbitraryObjects","CommandableV2Mixin","promotedActionItems","makeDelayedCommandableV2","defaultActionCommands","promotedActionCommands","nonPromotedActionCommands","delayedActions","nonPromotedActions","isNonPromoted","additionalActions","setEnabledDelayRestCommands","delayRestCommands","promoteSomeRestCommands","delayRestCommandsForModels","promotedActionItemsFromControler","promoted","_enableDelayRestCommands","_disableDelayRestCommands","setEnabledLazyActionCommands","_enableNonPromotedRestCommands","_requestsNonPromotedRestActions","done","fail","_disableNonPromotedRestCommands","getAdditionalActionCommands","signatures","retrievedFlagOnNode","_requestAdditionalActions","_requestRestActions","enableNonPromotedCommands","resp","xhr","_requestPromotedActions","_requestDelayedActions","restCommands","_updateOriginalActions","promotedCommands","nonPromotedCommands","restNodes","isLocallyCreated","_updateOriginalActionsAfterLazyActions","csuiLazyActionsRetrieved","_updateOriginalActionsAfterAdditionalActions","updateNodeActions","actionNode","csuiNonPromotedAction","setDefaultActionCommands","resetDefaultActionCommands","getAllCommandsUrlQuery","makeAdditionalResourcesV2Mixin","NodeColumn2Model","sizeColumnTitle","includeExpandsV1toV2","expands","mergeProperties","nodeExpands","memberExpands","userExpands","groupExpands","excludeExpandsV1toV2","expandsV2toV1","makeSyncableFromMultipleSources","syncFromMultipleSources","promises","mergeSources","convertError","convertAjaxError","abortables","abort","when","require","v1tov2","SyncableFromMultipleSources","syncNodeWithSeparateCommands","promiseForNode","fetchNodeWithoutActions","promiseForActions","fetchNodeActions","mergeNodeWithActions","then","originalNode","separateCommands","isCollectionV2ParameterSource","parameterScope","getResourceScopeFrom","setResourceScope","urlQueryWithActionsOnly","adaptNotFetching","fetchExactFields","isFetchableDirectly","apiVersion","isNew","_getCombinedUrlQuery","withActions","_getNodeUrlQuery","urlQueryWithoutActions","getV2ParameterSource","_getUrlQueryActionsFromSource","queryParts","_getUrlQueryWithoutActionsFromSource","parameters","refernce_id","resultData","type_name","versions","type_info","pick","_parseActions","original","original_id","original_id_expand","parent_id_expand","_makeAccessible","defaultAction","findWhere","addable_types","_parseColumns","metadata","_parseDefinitions","columnKeys","container_size","file_size","column","columnKey","data_type","supportedPersonas","inArray","persona","sort_key","realColumnKey","available_actions","order","commands_map","commands_order","AddableTypesCollection","ExpandableV2Mixin","StateCarrierMixin","DelayedCommandableV2Mixin","AdditionalResourcesV2Mixin","NodeColumn2Collection","computeUrl","actionsQuery","separateCommandsThreshold","usesIntegerId","NodeDefinition2Collection","NodeModel","_setCollectionProperty","additionalResources","val","skipSetValue","_setNodeProperty","volume_id","triggerAllChanges","triggerReset","triggerChange","attributeName","addableTypes","volume","attribute","Class","camelize","getResourceScope","parameterSource","scope","originalCollection","newCollection","superParseMethod","superSyncMethod","updatedAttributes","favorites","favorite_name","favorite_tab_id","tab_id","useFavoritesUrl","attributesToUpdate","k","newKey","Favorite2Model","mustRefreshAfterPut","makeFilterValue","makeBrowsable","filters","filterStringToObject","modified","getFilterAsString","filtersString","filtersObject","filterArray","skipSort","setSkip","setTop","BrowsableMixin","makeClientSideBrowsable","listenTo","_modelAdded","_modelRemoved","_modelsReset","allModels","_filling","setOrderOnRequest","arg","orderOnRequest","getBrowsableUrlQuery","first","partialResponse","reload","lastFilteredAndSortedModels","_fill","_notify","originalSilent","originalReset","originalSuccess","originalError","originalParse","_lastFilterAndSortCriteria","populate","sorting","links","setAllModels","compareObjectsForSort","_parseValue","_compareValues","filterAndSortCriteria","isEqual","_filter","_sort","_limit","criterion","_containsValue","_populate","findIndex","_compareArrays","_compareObjects","len","some","blade","makeBrowsableV2Response","parseBrowsedState","paging","searching","limit","total_count","filtered_count","foundColumn","sortValue","markerIndex","sortKey","sortingColumnKey","parseBrowsedItems","serverCallPrecheckFailedMissingConnector","serverCallPrecheckFailedModelIsNew","fav_parent_id","fav_size","fav_ungrouped","favorite","toggleDetails","parentID","Favorite2ColumnModel","modelLang","getSortByOrderUrlQuery","ClientSideBrowsableMixin","BrowsableV2ResponseMixin","Favorite2ColumnCollection","Favorite2Collection","callCounter","Favorite2GroupModel","favorite_columns","v2Url","groups","makeAjaxCall","favoritesCollection","favoritesFetchOptions","_createMergedResponse","tabId","Favorite2GroupsCollection","_setupEventPropagation","_propagateFavorite2CollectionOptions","_fetch","resetCollection","saveAll","tabs","groupName","groupId","putUrl","beforeSend","request","counter","tabsResp","at","remove","jqxhrTabs","errorTabs","_serverCallPreCheck","_serverCallUpdateFavorite","ajaxMethod","selected","mobile","force","err","FavoriteModel","addToFavorites","removeFromFavorites","memberId","parentId","makeFilterParam","makeBrowsableV1Request","getBrowsableParams","isEmptyObject","BrowsableV1RequestMixin","MemberCollection","searchTerm","nodeId","categoryId","search","term","expandFields","memberFilter","memberType","limitClause","memberClause","expandClause","encodedClause","queryClause","finalClauses","makeNodeConnectable","makeNodeAutoFetchable","NodeConnectableMixin","NodeAutoFetchableMixin","makeNodeResource","extraIcons","NodeSpriteModel","className","NodeSpriteCollection","findClass","compareType","nodeSprite","keyValues","findTypeByNode","typeName","spriteName","findClassByNode","nodeSprites","equalsNoCase","mime_type","svgId","mimeType","startsWithNoCase","subtype","NodeResourceMixin","NodeAddableTypeCollection","__super__","makeAppContainer","massageResponse","idprop","expandprop","reserved","reserved_user_id","openable","AppContainerMixin","useSpecialPaging","apiUrl","resourceFieldsQuery","without","props","defaultPageSize","NodeChildren2Collection","ancestors","stop","ancestor","unshift","NodeAncestorCollection","titleTranslated","NodeChildrenColumnModel","NodeChildrenColumnCollection","cachedColumns","getColumnModels","colArray","shortColumnName","definition_short","definition_formatted","initialSortingDescending","resetColumns","getV1Columns","columnsFromDefinitionsOrder","idx","getV2Columns","align","Nodes","makeCommandable","makeDelayedCommandable","makeBrowsableV1Response","BrowsableV1ResponseMixin","includeActions","extra","NodeCollection","DelayedCommandableMixin","NodeChildrenCollection","Fetchable","getPermissionLevel","isContainer","versionControlAdvanced","NodePermissionModel","PERMISSION_LEVEL_NONE","permissionsCount","PERMISSION_LEVEL_FULL_CONTROL","PERMISSION_LEVEL_WRITE","PERMISSION_LEVEL_READ","PERMISSION_LEVEL_CUSTOM","getReadPermissions","getWritePermissions","advancedVersioningEnabled","getFullControlPermissions","getPermissionsByLevelExceptCustom","addEmptyAttribute","right_id","apply_to","include_sub_types","queryString","addMajorVersionOptionIndex","addItemsOptionIndex","makePermissionResponse","parsePermissionResponse","clearEmptyPermissionModel","permissionsList","child","ownerData","groupData","PermissionResponseMixin","NodeUserPermissionCollection","nodeName","processForEmptyOwner","addPublicAccess","publicAccessModel","addOwnerOrGroup","nodePermissionModel","flag","owner","currentModel","configs","_resolveConfigs","ignoreErrors","masks","_resolveMasks","sourceModules","serverModules","ServerModuleModel","ServerModuleCollection","_resolveServerModules","missing","serverModule","sourceModule","SpecificNodeModel","ObjectStorage","items","setItem","v","getItem","removeItem","NamedStorage","storage","os","getContent","content","saveContent","View","sessionStorage","NamedSessionStorage","constants","freeze","LAST_ROUTER","CURRENT_ROUTER","CURRENT_ROUTER_FRAGMENT","CURRENT_ROUTER_NAVIGATE_OPTIONS","CURRENT_ROUTER_SCOPE_ID","METADATA_CONTAINER","STATE","DEFAULT_STATE","SESSION_STATE","ROUTERS_HISTORY_ARRAY","URL_PARAMS","ALLOW_WIDGET_URL_PARAMS","_routersHistory","_syncWithStorage","BROWSING_TYPE","none","nodestable","breadcrumbs","navigation","CONSTANTS","_setViewStateAttribute","_getViewStateAttribute","encode","decode","decodeURIComponent","setViewState","getViewState","setDefaultViewState","getDefaultViewState","setSessionViewState","getSessionViewState","sessionState","updateRoutingHistory","newRouterInfo","restore","isSameRoutingInfo","getLastRouterInfo","_restoreStatesFromRouterInfo","pop","unset","_addRouterInfoToHistory","routerInfo","restoreStates","default_state","defaultState","session_state","routerName","router","urlParam","fragment","scopeId","navigateOptions","router1Info","router2Info","disableLastRouterOnChange","clean","restoreLastRouter","perspectiveRouting","getInstance","restoreRouter","history","back","addUrlParameters","urlParameters","perspectiveId","localStorage","NamedLocalStorage","getStorage","UserModelFactory","getModel","currentUserId","userFactory","getFactory","initialResponse","namedLocalStorage","savePerspective","getNodeId","fetchPerspective","personalization","hasRequiredFields","manifest","schema","required","isEligibleForLiveWidget","getExtraWidgetKeys","EXTRA_WIDGET_CONFIG_KEYS","getEmptyPlaceholderWidgetType","perspectiveMode","MODE_PERSONALIZE","WIDGET_SHORTCUTS","WIDGET_PERSPECTIVE_PLACEHOLDER","isEmptyPlaceholder","__isPlacehoder","generateWidgetId","prefix","WIDGET_ID_PERSPECTIVE_PREFIX","WIDGET_ID_PESONALIZATION_PREFIX","isPersonalWidget","widgetId","KEY_WIDGET_ID","isPersonalWidgetId","hasWidgetId","isHiddenWidget","KEY_HIDDEN","setWidgetHidden","hide","MODE_EDIT_PERSPECTIVE","PerspectiveUtil","DeltaGenerator","getDeltaOfFlowPerspective","allPerspectiveWidgets","widgets","allPersonalWidgets","perspectiveWidgetIds","personalWidgets","personalParts","partition","personalActiveWidgets","personalHiddenWidgets","perspectiveWidgets","getDelta","perspective_id","override","perspective_version","DeltaResolver","delta","resolveFlowPerspective","widgetOrder","hiddenWidgetIds","personalWidgetsById","indexBy","perspectiveWidgetsById","newPerspectiveWidgets","allActiveWidgets","hiddenWidgets","allWidgets","personalizations","canMergeDelta","getPersonalization","LocalStorageServerAdaptorMixin","PersonalizeGuide","persistOnLocalStorage","PersonalizationModel","resolvePersonalization","getPerspectiveId","getPerspective","setPerspective","update","changes","sourceModel","loadPersonalization","loadPersonalizationFromLocalStorage","AutoFetchableModel","ParentModel","enableOptions","fullOptions","AutoFetchable","ConnectableModel","Connectable","FetchableModel","IncludingAdditionalResources","NodeAutoFetchableModel","NodeAutoFetchable","NodeConnectableModel","NodeConnectable","NodeResourceModel","NodeResource","ResourceModel","Resource","UploadableModel","Uploadable","makeVersionableV2Response","parseVersionsResponse","id_expand","version_number_name","version_number_name_formatted","VersionsableV2ResponseMixin","VersionModel","ToolItemConfigCollection","ToolItemMaskCollection","WidgetModel","includeView","includeManifest","includeServerModule","includeToolItems","getDefaultData","_getDefaultPropertyValue","propertySchema","propertyName","_getDefaultPrimitiveValue","serverModulesPromise","toolItemsPromise","_resolveToolItems","toolItemMasksPromise","_resolveToolItemMasks","_resolveWidget","viewPromise","_resolveView","manifestPromise","_resolveManifest","_updateServerModule","_updateActions","widgetData","getModuleData","viewPath","getViewModulePath","manifestPath","getManifestModulePath","_needsLocalization","manifestLocalizedPath","getLocalizedManifestModulePath","manifestLocalized","resolveLocalizedManifest","ignoreManifestErrors","toolItems","toolItemMasks","_getModulePrefix","firstSlash","lastSlash","moduleData","modulePrefix","toolbars","isLocalizableString","hasOwnProperty","localizedManifest","traverseManifest","localizedManifestParent","getLocalizationKey","localizationKey","arrayItem","localizationArrayItem","WidgetCollection","_resolveWidgets","resolvableModels","invoke","PreFlightModel","preflight","URL","StagesModel","updateLocation","jobs","complete","unprocessed_items_list","locations","parentLocation","getMimeType","fileName","rules","ClassicNodeModel","urlQuery","ClassicNodeCollection","_getUrl","forced","isForced","isSupported","getUrl","_replaceParameters","expression","classicNodes","AuthenticatorModel","authenticator","AuthenticatorCollection","findByConnection","rule","authenticators","Connector","Authenticator","connectionTimeout","authenticationPending","waitingRequests","restartRequests","overrideBackboneSync","executeSync","pageUnloading","restartRequest","execute","thisObj","extendAjaxOptions","originalOptions","executeOptionsArray","progress","notify","addAbort","executeOrScheduleRequest","executeCall","isAuthenticated","executor","authenticate","executeWaitingRequests","cancelWaitingRequests","reportError","Accept-Language","setAuthenticationHeaders","timeout","reportSending","lengthComputable","reportProgress","updateAuthenticatedSession","_succeeded","reportSuccess","sessionExpired","confirmingReload","dialogTitle","alertDialog","showWarning","buttons","Ok","always","unauthenticate","reason","restartDeferred","requestObj","ajax","reauthenticatingInitiated","executeRestartRequests","setConflictMessage","formatAjaxData","getAjaxContentType","processData","executors","loaded","total","requestContentAuthToken","extendFetchOptions","defaultActionItems","succeeded","failed","syncStorage","session","doAuthenticate","setUserId","getUserId","rememberTicket","ticketHeader","ticketExpirationHeader","sender","ticket","getResponseHeader","expires","TicketAuthenticator","login","prepareRequest","updateRequestBody","makeRequest","parseResponse","textStatus","authenticateSession","parseParam","username","authenticationHeaders","RequestAuthenticator","InitialHeaderAuthenticator","_reportError","ModalAlert","showError","interactive","openSignInDialog","reauthenticating","SignInDialog","BlockingView","dialog","suppressAll","args","resumeAll","InteractiveCredentialsAuthenticator","extraNodeInfoSprites","ensureListener","listenerRegistered","PageLeavingBlocker","isEnabled","messages","originalEvent","returnValue","forceDisabled","disable","forceDisable","SmartNodeModel","SmartNodeCollection","smartNodes","credentials","authorization","formatAuthorizationHeader","rememberCredentials","BasicAuthenticator","check","btoa","unescape","password","domain","CredentialsAuthenticator","rememberAuthenticationHeaders","authenticationIFrameTimeout","initiateLoginSequence","removeIFrame","resumeBlockingView","suppressBlockingView","receiveMessage","urlOrigin","removeEventListener","timer","waitForLogin","enableInteactiveLogin","addEventListener","Marionette","DialogView","src","standardHeader","fullSize","z-index","RegularHeaderAuthenticator","RedirectingFormAuthenticator","enableInteractiveAuthenticator","originalConfig","enableRedirectingFormAuthenticator","forceBasicAuthenticator","preferBasicAuthenticator","preferRegularHeaderAuthenticator","FallbackAuthenticator","decides","and","preferRegularHeaderAuthentication"],"mappings":"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AC,OAAA,uBCRA,qBACA,sBACA,yBACA,0BACA,0BACA,2BACA,uBACA,wBACA,iCACA,iDACA,6BACA,mCACA,qBACA,sBACA,6BACA,8BACA,wBACA,6BACA,8BACA,yBACA,8BACA,+BACA,6BACA,qBACA,kCACA,sCACA,sBACA,gDACA,8BACA,4CACA,4BACA,4BACA,iCACA,kCACA,2BACA,2BACA,oBACA,8CACA,6CACA,2DACA,uDACA,qDACA,gCACA,+BACA,gDAGA,wCACA,0CACA,yCACA,0CACA,0CACA,qDACA,uDACA,mDACA,mDACA,iDACA,+CACA,yFACA,iEACA,6DACA,uDACA,6CACA,yDACA,uDACA,2DACA,yFACA,iDACA,2EACA,yDACA,yEACA,uDACA,+CACA,4BACA,0BACA,wBACA,6CACA,gCACA,8BACA,2BACA,uBACA,yBACA,2BACA,sBACA,sBACA,sBACA,uCACA,kCACA,sDACA,mDAKA,iCAGA,kBACA,wBACA,yCACA,uBACA,gCACA,kCACA,iCACA,0BACA,iCACA,sCACA,iBACA,2BACA,+BACA,iCACA,0BACA,yBACA,+BACA,gCACA,kCACA,kCACA,qCACA,wBACA,+BACA,0BACA,0BACA,iBACA,0CAGA,0CACA,2CACA,gDACA,gDACA,sDACA,yDACA,kEACA,yDACA,kDACA,iDACA,2BACA,gCACA,iCACA,sCACA,kCAIA,sDACA,0CACA,wCACA,iDACA,kDACA,wDACA,8DACA","file":"csui-models.js","sourcesContent":["csui.define('csui/utils/log/console.re.appender',['csui/lib/log4javascript'], function (log4javascript) {\r\n  'use strict';\r\n\r\n  function ConsoleReAppender() {}\r\n\r\n  ConsoleReAppender.prototype = Object.create(log4javascript.Appender.prototype);\r\n  ConsoleReAppender.prototype.layout = new log4javascript.NullLayout();\r\n  ConsoleReAppender.prototype.threshold = log4javascript.Level.DEBUG;\r\n\r\n  ConsoleReAppender.prototype.append = function(loggingEvent) {\r\n    var Level = log4javascript.Level,\r\n        appender = this;\r\n\r\n    var getFormattedMessage = function() {\r\n      var layout = appender.getLayout();\r\n      var formattedMessage = layout.format(loggingEvent);\r\n      if (layout.ignoresThrowable() && loggingEvent.exception) {\r\n        formattedMessage += loggingEvent.getThrowableStrRep();\r\n      }\r\n      return formattedMessage;\r\n    };\r\n\r\n    if (window.console && window.console.re && window.console.re.log) {\r\n      var formattedMesage = getFormattedMessage();\r\n      // Log to Firebug using its logging methods or revert to the console.log\r\n      // method in Safari\r\n      if (window.console.re.debug && Level.DEBUG.isGreaterOrEqual(loggingEvent.level)) {\r\n        window.console.re.debug(formattedMesage);\r\n      } else if (window.console.re.info && Level.INFO.equals(loggingEvent.level)) {\r\n        window.console.re.info(formattedMesage);\r\n      } else if (window.console.re.warn && Level.WARN.equals(loggingEvent.level)) {\r\n        window.console.re.warn(formattedMesage);\r\n      } else if (window.console.re.error && loggingEvent.level.isGreaterOrEqual(Level.ERROR)) {\r\n        window.console.re.error(formattedMesage);\r\n      } else {\r\n        window.console.re.log(formattedMesage);\r\n      }\r\n    }\r\n  };\r\n\r\n  ConsoleReAppender.prototype.group = function(name) {\r\n    if (window.console && window.console.re && window.console.re.group) {\r\n      window.console.re.group(name);\r\n    }\r\n  };\r\n\r\n  ConsoleReAppender.prototype.groupEnd = function() {\r\n    if (window.console && window.console.re && window.console.re.groupEnd) {\r\n      window.console.re.groupEnd();\r\n    }\r\n  };\r\n\r\n  ConsoleReAppender.prototype.toString = function() {\r\n    return 'ConsoleReAppender';\r\n  };\r\n\r\n  return ConsoleReAppender;\r\n\r\n});\n","csui.define('csui/utils/log',['module', 'csui/lib/jquery', 'csui/lib/underscore',\r\n  'csui/lib/log4javascript', 'csui/utils/log/console.re.appender', 'csui/lib/underscore.string'\r\n], function (module, $, _, log4javascript, ConsoleReAppender) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    console: true,\r\n    consoleRe: false,\r\n    level: 'WARN',\r\n    timing: false,\r\n    page: false,\r\n    performanceTimeStamp: false,\r\n    moduleNameStamp: false,\r\n    server: false,\r\n    window: false,\r\n    modules: {}\r\n  });\r\n\r\n  var consoleEnabled = typeof console !== 'undefined' && config.console,\r\n    loggerEnabled = config.window || config.page || config.server ||\r\n      config.consoleRe,\r\n    enabled = consoleEnabled || loggerEnabled,\r\n    thresholds = {\r\n      ERROR: 4,\r\n      WARN: 3,\r\n      INFO: 2,\r\n      DEBUG: 1,\r\n      ALL: 1\r\n    },\r\n    threshold = getThreshold(config.level);\r\n\r\n  log4javascript.setDocumentReady();\r\n  var logger = log4javascript.getLogger(),\r\n    appender;\r\n  if (loggerEnabled) {\r\n    logger = log4javascript.getLogger();\r\n    //~ if (config.console) {\r\n    //~ var appender = new log4javascript.BrowserConsoleAppender();\r\n    //~ appender.setLayout(new log4javascript.PatternLayout(\r\n    //~ '%d{HH:mm:ss.SSS} %-5p - %m{1}%n'));\r\n    //~ logger.addAppender(appender);\r\n    //~ }\r\n    if (config.window) {\r\n      appender = new log4javascript.PopUpAppender();\r\n      appender.setNewestMessageAtTop(false);\r\n      appender.setScrollToLatestMessage(true);\r\n      //~ appender.setShowHideButton(true);\r\n      //~ appender.setShowCloseButton(true);\r\n      appender.setLayout(new log4javascript.PatternLayout(\r\n        '%d{HH:mm:ss.SSS} %-5p - %m{1}'));\r\n      logger.addAppender(appender);\r\n    }\r\n    if (config.page) {\r\n      //~ var placeholderID = config.placeholder || 'csui_log';\r\n      //~ var placeholder = $(placeholderID);\r\n      //~ if (placeholder.length == 0)\r\n      //~ placeholder = $('<div id='' + placeholder + ''></div>')\r\n      //~ .appendTo($(document.body));\r\n      appender = new log4javascript.InPageAppender(config.placeholder);\r\n      appender.setNewestMessageAtTop(false);\r\n      appender.setScrollToLatestMessage(true);\r\n      appender.setShowHideButton(true);\r\n      appender.setShowCommandLine(true);\r\n      appender.setLayout(new log4javascript.PatternLayout(\r\n        '%d{HH:mm:ss.SSS} %-5p - %m{1}'));\r\n      logger.addAppender(appender);\r\n    }\r\n    if (config.consoleRe) {\r\n      appender = new ConsoleReAppender();\r\n      appender.setLayout(new log4javascript.PatternLayout(\r\n        '%d{HH:mm:ss.SSS} %-5p - %m{1}'));\r\n      logger.addAppender(appender);\r\n    }\r\n    if (config.server) {\r\n      appender = new log4javascript.AjaxAppender(config.server.url);\r\n      appender.setLayout(new log4javascript.JsonLayout());\r\n      appender.setTimed(true);\r\n      appender.setTimerInterval(500);\r\n      appender.setSendAllOnTimer(true);\r\n      appender.setBatchSize(10);\r\n      appender.setWaitForResponse(false);\r\n      appender.setSendAllOnUnload(true);\r\n      var headers = _.extend({\r\n        'content-type': 'application/json'\r\n      }, config.server.headers);\r\n      _.each(_.keys(headers), function (name) {\r\n        appender.addHeader(name, headers[name]);\r\n      });\r\n      logger.addAppender(appender);\r\n    }\r\n  }\r\n  logger.setLevel(log4javascript.Level.DEBUG);\r\n\r\n  function log(target) {\r\n    if (!(this instanceof log)) {\r\n      return new log(target);\r\n    }\r\n    this._target = target;\r\n    _.find(config.modules, function (settings, pattern) {\r\n      if (matchModule(pattern, target)) {\r\n        if (settings.level) {\r\n          this._threshold = getThreshold(settings.level);\r\n        }\r\n        if( settings.timing !== undefined) {\r\n          this.timing = settings.timing;\r\n        }\r\n      }\r\n\r\n    }, this);\r\n  }\r\n\r\n  var prototype = {\r\n\r\n    _threshold: threshold,\r\n\r\n    config: config,\r\n\r\n    enabled: enabled,\r\n\r\n    last: undefined,\r\n\r\n    can: function (level) {\r\n      return this._threshold <= getThreshold(level);\r\n    },\r\n\r\n    debug: function () {\r\n      if (enabled && this._threshold === thresholds.DEBUG) {\r\n        var message = formatMessage.apply(this, arguments);\r\n        if (loggerEnabled) {\r\n          logger.debug(message);\r\n        }\r\n        if (consoleEnabled) {\r\n          this.last = 'DBG  ' + message;\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    info: function () {\r\n      if (enabled && this._threshold <= thresholds.INFO) {\r\n        var message = formatMessage.apply(this, arguments);\r\n        if (loggerEnabled) {\r\n          logger.info(message);\r\n        }\r\n        if (consoleEnabled) {\r\n          this.last = 'INF  ' + message;\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    warn: function () {\r\n      if (enabled && this._threshold <= thresholds.WARN) {\r\n        var message = formatMessage.apply(this, arguments);\r\n        if (loggerEnabled) {\r\n          logger.warn(message);\r\n        }\r\n        if (consoleEnabled) {\r\n          this.last = 'WRN  ' + message;\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    error: function () {\r\n      if (enabled) {\r\n        var message = formatMessage.apply(this, arguments);\r\n        if (loggerEnabled) {\r\n          logger.error(message);\r\n        }\r\n        if (consoleEnabled) {\r\n          this.last = 'ERR  ' + message;\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    time: function( group) {\r\n      if( this.timing) {\r\n        console.time(getGroupName.call(this,group));\r\n      }\r\n    },\r\n\r\n    timeEnd: function( group) {\r\n      if( this.timing) {\r\n        console.timeEnd(getGroupName.call(this,group));\r\n      }\r\n    },\r\n\r\n\r\n\r\n    getObjectName: function (object) {\r\n      return object != null ? Object.getPrototypeOf(object).constructor.name :\r\n        object === undefined ? 'undefined' : object === null ? 'null' : '';\r\n    },\r\n\r\n    getStackTrace: function (frameCountToSkip) {\r\n      var stack;\r\n      try {\r\n        throw new Error();\r\n      } catch (error) {\r\n        stack = error.stack;\r\n      }\r\n      if (stack) {\r\n        var lines = stack.split('\\n');\r\n        if (lines && lines.length>0) {\r\n          if (!lines[0].match(/\\.js/)) {\r\n            lines = lines.slice(1);\r\n          }\r\n          stack = lines.slice(frameCountToSkip === 0 ? 0 : (frameCountToSkip || 1)).join('\\n');\r\n        }\r\n      } else {\r\n        stack = 'at unknown place (no stack trace available)';\r\n      }\r\n      return stack;\r\n    }\r\n\r\n  };\r\n\r\n  function matchModule(pattern, target) {\r\n    // Handle alone wildcards separately; they are handled depending on their\r\n    // combination with slash (module path separator) below\r\n    if (pattern === '**') {\r\n      pattern = '.*';\r\n    } else if (pattern === '*') {\r\n      pattern = '[^/]*';\r\n    } else {\r\n      pattern = pattern.replace(/^\\*(?!\\*)/g, '#'); // '*some...'\r\n      pattern = pattern.replace(/([^*])\\*$/g, '$1#'); // '...some*'\r\n      pattern = pattern.replace(/\\/\\*(?!\\*)/g, '/#'); // '.../*some'\r\n      pattern = pattern.replace(/([^*])\\*\\//g, '$1#/'); // 'some*/...'\r\n      pattern = pattern.replace(/\\/\\*\\*/g, '(?:/.*)?'); // '.../**'\r\n      pattern = pattern.replace(/\\*\\*\\//g, '(?:.*/)?'); // '**/...'\r\n      // If we put the pattern with asterisks at once there, following\r\n      // replacements would process it again and it would be too complicated\r\n      // to avoid it; for example, JavaScript knows no look-behind assertions\r\n      pattern = pattern.replace(/#/g, '[^/]*'); // '[^/]+' -> '[^/]*'\r\n    }\r\n    pattern = '^' + pattern + '$';\r\n    return new RegExp(pattern).test(target);\r\n  }\r\n\r\n  function getThreshold(level) {\r\n    var threshold = thresholds[(level || 'WARN').toUpperCase()];\r\n    if (!threshold) {\r\n      throw new Error('invalid log level: \"' + level + '\".');\r\n    }\r\n    return threshold;\r\n  }\r\n\r\n  function formatMessage(message) {\r\n    if (message !== undefined) {\r\n      if (typeof message === 'string') {\r\n        message = _.str.sformat.apply(this, arguments);\r\n      } else {\r\n        message = message !== null ? message.toString() : 'null';\r\n      }\r\n      if (config.performanceTimeStamp) {\r\n        message = getTimePerformanceStamp() + message;\r\n      }\r\n      if (config.moduleNameStamp && this._target) {\r\n        message += ' (' + this._target + ')';\r\n      }\r\n    } else {\r\n      message = '';\r\n    }\r\n    return message;\r\n  }\r\n\r\n  function getTimePerformanceStamp() {\r\n    var seconds = (window.performance.now() / 1000 % 10).toFixed(3);\r\n    return '[' + seconds + '] ';\r\n  }\r\n\r\n  function getGroupName ( group) {\r\n    if( this._target) {\r\n      group = _.str.sformat( '[{0}] {1}', this._target, group);\r\n    }\r\n    return group;\r\n  }\r\n\r\n  _.extend(log, prototype);\r\n  _.extend(log.prototype, prototype);\r\n\r\n  return log;\r\n\r\n});\r\n\n","csui.define('csui/utils/url',[\r\n  'csui/lib/underscore', 'csui/lib/jquery'\r\n], function (_, $) {\r\n  'use strict';\r\n\r\n  function Url(url) {\r\n    this.raw = url;\r\n  }\r\n\r\n  Url.prototype = {\r\n    raw: undefined,\r\n\r\n    isValid: function () {\r\n      return this.raw ? this.raw.match(Url.re_weburl) : false;\r\n    },\r\n\r\n    isAbsolute: function () {\r\n      return this.raw ? this.raw.match(/^.*\\/\\//) : false;\r\n    },\r\n\r\n    getAbsolute: function () {\r\n      if (this.isAbsolute()) {\r\n        return this.raw;\r\n      }\r\n      // IE11 on Windows 10 2015 LTSB dows not implement location.origin.\r\n      var origin = location.origin || new Url(location.href).getOrigin();\r\n      return Url.combine(origin, this.raw);\r\n    },\r\n\r\n    getProtocol: function () {\r\n      var url = this.isAbsolute() && this.raw.indexOf('//') !== 0 ?\r\n                this.raw : window.location.href;\r\n      return url.toLowerCase().substring(0, url.indexOf(':'));\r\n    },\r\n\r\n    getHost: function () {\r\n      var match = this.getAbsolute().match(/^.*\\/\\/([^:\\/]+)/);\r\n      return match && match[1];\r\n    },\r\n\r\n    getPort: function () {\r\n      var url = this.getAbsolute().toLowerCase(),\r\n          start = url.match(/^.*\\/\\/([^\\/]+)/),\r\n          port = start && start[1].match(/:([^\\/]+)/);\r\n      return port ? parseInt(port[1], 10) : url.indexOf('https') === 0 ? 443 : 80;\r\n    },\r\n\r\n    getOrigin: function () {\r\n      var match = this.getAbsolute().match(/^.*\\/\\/[^\\/]+/);\r\n      return match && match[0];\r\n    },\r\n\r\n    getPath: function () {\r\n      var match = this.getAbsolute().match(/^.*\\/\\/[^\\/]+(\\/[^?]+)/);\r\n      return match && match[1];\r\n    },\r\n\r\n    getVirtualDirectory: function () {\r\n      var match = this.getAbsolute().match(/^.*\\/\\/[^\\/]+\\/[^\\/]+/);\r\n      return match && match[0];\r\n    },\r\n\r\n    getCgiScript: function () {\r\n      var url = this.getAbsolute();\r\n      // find the index of the \"/api/v1\" suffix in the URL.\r\n      var apiSuffix = url.length - 7;\r\n      if (url.charAt(this.raw.length - 1) === '/') {\r\n        --apiSuffix;\r\n      }\r\n      if (url.lastIndexOf('/api/v1') === apiSuffix) {\r\n        return url.substr(0, apiSuffix);\r\n      }\r\n      // Original functionality expecting always\r\n      // \"/folder/script\" before \"/api/v1\" on the URL path.\r\n      var match = url.match(/^.*\\/\\/[^\\/]+\\/[^\\/]+\\/[^\\/]+/);\r\n      return match && match[0];\r\n    },\r\n\r\n    getQuery: function () {\r\n      var match = this.getAbsolute().match(/\\?(.+)/);\r\n      return match && match[1];\r\n    },\r\n\r\n    getApiBase: function (version) {\r\n      version || (version = 'v1');\r\n      typeof version === 'number' && (version = 'v' + version);\r\n      return this.getCgiScript() + '/api/' + version + '/';\r\n    },\r\n\r\n    makeAbsoluteUrl: function (relativeUrl, defaultUrlPath) {\r\n      if (!relativeUrl.match(/^\\w+:\\/\\//)) {\r\n        var firstCharacter = relativeUrl.charAt(0);\r\n        if (firstCharacter === '/') {\r\n          if (relativeUrl.charAt(1) === '/') {\r\n            return this.getProtocol() + ':' + relativeUrl;\r\n          }\r\n          return Url.combine(this.getOrigin(), relativeUrl);\r\n        } else if (firstCharacter === '?') {\r\n          return this.getCgiScript() + relativeUrl;\r\n        } else {\r\n          if (!defaultUrlPath) {\r\n            defaultUrlPath = this.getCgiScript();\r\n          }\r\n          return Url.combine(defaultUrlPath, relativeUrl);\r\n        }\r\n      }\r\n      return relativeUrl;\r\n    },\r\n\r\n    toString: function () {\r\n      return this.raw;\r\n    }\r\n  };\r\n  Url.version = '1.0';\r\n\r\n  Url.combine = function () {\r\n    var url = '';\r\n    for (var i = 0; i < arguments.length; ++i) {\r\n      var part = arguments[i],\r\n          path = part !== undefined && part !== null ? part.toString() : '';\r\n      // IE8 does not support accessing string characters as an array (path[0]).\r\n      if (path.charAt(0) == '/') {\r\n        url += url && url.charAt(url.length - 1) == '/' ? path.substring(1) :\r\n               path;\r\n      } else {\r\n        if (i > 0 && !(url && url.charAt(url.length - 1) == '/') &&\r\n            path.length > 0) {\r\n          url += '/';\r\n        }\r\n        url += path;\r\n      }\r\n    }\r\n    return url;\r\n  };\r\n\r\n  Url.makeMultivalueParameter = function (name, values) {\r\n    if (values && values.length) {\r\n      values = _.map(values, encodeURIComponent);\r\n      return name + '=' + values.join('&' + name + '=');\r\n    }\r\n    return '';\r\n  };\r\n\r\n  // Supports either object literals {param: value, ...}\r\n  // or already serialized strings 'param=value[&...]'\r\n  Url.combineQueryString = function () {\r\n    var query = {},\r\n        i, part;\r\n    for (i = 0; i < arguments.length; ++i) {\r\n      part = arguments[i];\r\n      if (_.isObject(part)) {\r\n        _.extend(query, part);\r\n      }\r\n    }\r\n    // Use traditional array serialization - without appending\r\n    // the '[]' at the end of the property name\r\n    query = $.param(query, true);\r\n    for (i = 0; i < arguments.length; ++i) {\r\n      part = arguments[i];\r\n      if (_.isString(part) && part) {\r\n        if (query) {\r\n          query += '&';\r\n        }\r\n        query += part;\r\n      }\r\n    }\r\n    return query;\r\n  };\r\n\r\n  Url.appendQuery = function (url, query) {\r\n    if (query) {\r\n      if (url.indexOf('?') >= 0) {\r\n        var lastCharacter = url[url.length - 1];\r\n        if (lastCharacter !== '?' && lastCharacter !== '&') {\r\n          url += '&';\r\n        }\r\n      } else {\r\n        url += '?';\r\n      }\r\n      url += query;\r\n    }\r\n    return url;\r\n  };\r\n\r\n  // get the url params from a url or a uri with or without a hash.\r\n  Url.urlParams = function (url) {\r\n    if (url) {\r\n      var hashIndex = url.indexOf('#'),\r\n          urlParamsIndex = url.indexOf('?');\r\n      if (urlParamsIndex !== -1) {\r\n        return $.parseParams(url.substring(urlParamsIndex, hashIndex === -1 ? url.length : hashIndex));\r\n      }\r\n    }\r\n    return {};\r\n  };\r\n\r\n  Url.mergeUrlParams = function (url, paramToAddStr, paramsToRemoveArray) {\r\n    var urlParams = Url.urlParams(url),\r\n        toRemoveAll = paramsToRemoveArray.concat(_.keys(urlParams)),\r\n        newParams = _.omit($.parseParams(paramToAddStr), toRemoveAll);\r\n    return $.param(newParams);\r\n  };\r\n\r\n  //\r\n  // Regular Expression for URL validation\r\n  //\r\n  // Author: Diego Perini\r\n  // Updated: 2010/12/05\r\n  // License: MIT\r\n  //\r\n  // Copyright (c) 2010-2013 Diego Perini (http://www.iport.it)\r\n  //\r\n  // Permission is hereby granted, free of charge, to any person\r\n  // obtaining a copy of this software and associated documentation\r\n  // files (the \"Software\"), to deal in the Software without\r\n  // restriction, including without limitation the rights to use,\r\n  // copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n  // copies of the Software, and to permit persons to whom the\r\n  // Software is furnished to do so, subject to the following\r\n  // conditions:\r\n  //\r\n  // The above copyright notice and this permission notice shall be\r\n  // included in all copies or substantial portions of the Software.\r\n  //\r\n  // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n  // EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\r\n  // OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n  // NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n  // HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n  // WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n  // FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\r\n  // OTHER DEALINGS IN THE SOFTWARE.\r\n  //\r\n  // the regular expression composed & commented\r\n  // could be easily tweaked for RFC compliance,\r\n  // it was expressly modified to fit & satisfy\r\n  // these test for an URL shortener:\r\n  //\r\n  //   http://mathiasbynens.be/demo/url-regex\r\n  //\r\n  // Notes on possible differences from a standard/generic validation:\r\n  //\r\n  // - utf-8 char class take in consideration the full Unicode range\r\n  // - TLDs have been made mandatory so single names like \"localhost\" fails\r\n  // - protocols have been restricted to ftp, http and https only as requested\r\n  //\r\n  // Changes:\r\n  //\r\n  // - IP address dotted notation validation, range: 1.0.0.0 - 223.255.255.255\r\n  //   first and last IP address of each class is considered invalid\r\n  //   (since they are broadcast/network addresses)\r\n  //\r\n  // - Added exclusion of private, reserved and/or local networks ranges\r\n  //\r\n  // - Made starting path slash optional (http://example.com?foo=bar)\r\n  //\r\n  // - Allow a dot (.) at the end of hostnames (http://example.com.)\r\n  //\r\n  // Compressed one-line versions:\r\n  //\r\n  // Javascript version\r\n  //\r\n  // /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i\r\n  //\r\n  // PHP version\r\n  //\r\n  // _^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\x{00a1}-\\x{ffff}0-9]-*)*[a-z\\x{00a1}-\\x{ffff}0-9]+)(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}0-9]-*)*[a-z\\x{00a1}-\\x{ffff}0-9]+)*(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$_iuS\r\n  //\r\n  Url.re_weburl = new RegExp(\r\n      '^' +\r\n      // protocol identifier\r\n      '(?:(?:https?|ftp)://)' +\r\n      // user:pass authentication\r\n      '(?:\\\\S+(?::\\\\S*)?@)?' +\r\n      '(?:' +\r\n      // IP address exclusion\r\n      // private & local networks\r\n      '(?!(?:10|127)(?:\\\\.\\\\d{1,3}){3})' +\r\n      '(?!(?:169\\\\.254|192\\\\.168)(?:\\\\.\\\\d{1,3}){2})' +\r\n      '(?!172\\\\.(?:1[6-9]|2\\\\d|3[0-1])(?:\\\\.\\\\d{1,3}){2})' +\r\n      // IP address dotted notation octets\r\n      // excludes loopback network 0.0.0.0\r\n      // excludes reserved space >= 224.0.0.0\r\n      // excludes network & broacast addresses\r\n      // (first & last IP address of each class)\r\n      '(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])' +\r\n      '(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}' +\r\n      '(?:\\\\.(?:[1-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))' +\r\n      '|' +\r\n      // host name\r\n      '(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)' +\r\n      // domain name\r\n      '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*' +\r\n      // TLD identifier\r\n      '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))' +\r\n      // TLD may end with dot\r\n      '\\\\.?' +\r\n      ')' +\r\n      // port number\r\n      '(?::\\\\d{2,5})?' +\r\n      // resource path\r\n      '(?:[/?#]\\\\S*)?' +\r\n      '$', 'i'\r\n  );\r\n\r\n  return Url;\r\n});\r\n\n","csui.define('csui/utils/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/utils/impl/nls/root/lang',{\r\n\r\n  // base\r\n  ColumnMemberName2: \"{1} {0}\",\r\n  ColumnMemberName3: \"{1} {2} {0}\",\r\n  sizeInBytes: \"{0} bytes\",\r\n\r\n  // errormessage, messagehelper\r\n  ErrorUnknown: \"Unknown error.\",\r\n  InvalidResponse: \"Invalid response received.\",\r\n  ErrorStatiNice: [\"Confirm\", \"Error\", \"Warning\", \"Hint\", \"Information\"],\r\n  ErrorHtmlTpl: \"<span class='msgIcon <%= statusPlain %>Icon'><%= statusNice %>: <%= msg %></span><br>\",\r\n  ErrorStringTpl: \"<%= statusNice %>: <%= msg %>;\\n\",\r\n\r\n  // connector\r\n  AuthenticationFailureDialogTitle: \"Authentication failure\",\r\n  SessionExpiredDialogTitle: \"Session expired\",\r\n  AuthenticationFailureDialogText: \"The page will be reloaded and you may need to sign in again.\",\r\n\r\n  // nodesprites - node types\r\n  NodeTypeSearchQuery: 'Search',\r\n  NodeTypeURL: 'Web address',\r\n  // nodesprites - general formats\r\n  NodeTypeAudio: 'Audio',\r\n  NodeTypeCompressed: 'Compressed File',\r\n  NodeTypeImage: 'Image',\r\n  NodeTypeText: 'Text Document',\r\n  NodeTypeHtml: 'Html Document',\r\n  NodeTypeUnknown: 'Unknown',\r\n  NodeTypeVideo: 'Video',\r\n  // nodesprites - application formats\r\n  NodeTypeDOC: 'Microsoft Word',\r\n  NodeTypePDF: 'Portable Document Format',\r\n  NodeTypePPT: 'Microsoft Powerpoint',\r\n  NodeTypePresentation: 'Presentation',\r\n  NodeTypeXLS: 'Microsoft Excel',\r\n  NodeTypeSpreadsheet: 'Spreadsheet',\r\n  NodeTypeFormula: 'Formula',\r\n  NodeTypePublisher: 'Microsoft Publisher',\r\n  NodeTypeVisio: 'Microsoft Visio',\r\n  NodeTypeMPP: 'Microsoft Project',\r\n  NodeTypeONE: 'Microsoft OneNote',\r\n\r\n  NoConnectivity: \"No connectivity\",\r\n  NetworkError: \"Network communication failed.\",\r\n  resourceConflict: 'Due to an edit conflict, your changes could not be saved. Another user has changed the same object. Reload the page to reflect the latest changes.',\r\n  Home: 'Home',\r\n\r\n  //templates - thumbnail\r\n  Loading:\"Loading...\",\r\n  NotAvailalbe:\"Not available.\"\r\n\r\n});\r\n\n","\n","csui.define('csui/utils/errormessage',[\"module\", \"csui/lib/jquery\", \"csui/lib/underscore\",\r\n  \"csui/lib/backbone\", \"csui/utils/log\", \"csui/utils/url\",\r\n  'i18n!csui/utils/impl/nls/lang'\r\n], function (module, $, _, Backbone, log, Url, lang) {\r\n  \"use strict\";\r\n\r\n  // MessageType\r\n  // -----------\r\n\r\n  var Type = {\r\n    Confirm: 0,\r\n    Error: 1,\r\n    Warning: 2,\r\n    Hint: 3,\r\n    Info: 4\r\n  };\r\n\r\n  // Message\r\n  // -------\r\n\r\n  var Message = Backbone.Model.extend({\r\n\r\n    constructor: function Message(attributes) {\r\n      //debugger;\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      if (attributes instanceof Error) {\r\n        this.attributes.message = attributes.message;\r\n        this.attributes.name = attributes.name;\r\n      }\r\n    },\r\n\r\n    defaults: {\r\n      type: Type.Error,\r\n      name: '',\r\n      message: lang.ErrorUnknown\r\n    },\r\n\r\n    getType: function () {\r\n      return this.get('type');\r\n    },\r\n\r\n    getName: function () {\r\n      return this.get('name');\r\n    },\r\n\r\n    getMessage: function () {\r\n      return this.get('message');\r\n    }\r\n  });\r\n\r\n  // ErrorMessage\r\n  // ------------\r\n\r\n  var ErrorMessage = Message.extend({\r\n    constructor: function ErrorMessage(attributes) {\r\n      Message.Message.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    defaults: {\r\n      type: Type.Error,\r\n      message: lang.ErrorUnknown\r\n    }\r\n  });\r\n\r\n  // RequestErrorMessage\r\n  //--------------------\r\n\r\n  var RequestErrorMessage = ErrorMessage.extend({\r\n    defaults: {\r\n      statusCode: undefined,\r\n      statusText: undefined,\r\n      errorDetails: undefined\r\n    },\r\n\r\n    constructor: function RequestErrorMessage(error) {\r\n      Message.ErrorMessage.prototype.constructor.apply(this, arguments);\r\n      if (error) {\r\n        if (error.status != null) {\r\n          // Allow passing in a jQuery request object for convenience.\r\n          this.statusCode = error.status;\r\n          this.statusText = error.statusText;\r\n          if (error.responseText) {\r\n            try {\r\n              error.responseJSON = JSON.parse(error.responseText);\r\n            } catch (failure) {\r\n              log.warn(\"Parsing error response failed: {0}.\", failure)\r\n              && console.warn(log.last);\r\n            }\r\n          }\r\n          if (error.responseJSON) {\r\n            var data = error.responseJSON;\r\n            this.message = data && data.error;\r\n            if (!this.message) {\r\n              this.message = error.responseText;\r\n            }\r\n            this.errorDetails = data && data.errorDetail;\r\n          }\r\n          if (!this.message) {\r\n            if (this.statusCode === 0) {\r\n              this.message = lang.NetworkError;\r\n            } else {\r\n              this.message = lang.InvalidResponse;\r\n            }\r\n          }\r\n          if (error.settings && error.settings.url) {\r\n            this.method = error.settings.type;\r\n            this.url = error.settings.url;\r\n          }\r\n        } else if (typeof error.error === 'object') {\r\n          // Allow passing in a data object with error description for convenience.\r\n          this.message = error.error;\r\n          this.errorDetails = error.errorDetail;\r\n        } else if (error instanceof Backbone.Model) {\r\n          // Allow passing an Model for convenience, but this is filled with Error data. weird.\r\n          this.message = error.message || error.get('error');\r\n          this.errorDetails = error.errorDetails || error.errorDetail || error.get('errorDetails') || error.get('errorDetail');\r\n        } else if (error instanceof Error) {\r\n          // Allow passing an Error instance for convenience.\r\n          this.message = error.message;\r\n        } else {\r\n          // Expect the attributes of this error object passed in.\r\n          _.extend(this, error);\r\n        }\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  RequestErrorMessage.prototype.toString = function () {\r\n    var punctuation = /[.!?:;,]$/;\r\n    var trim = /\\s+$/;\r\n    var message = \"\";\r\n    if (this.message) {\r\n      message = this.message;\r\n      message.replace(trim, \"\");\r\n      if (!message.match(punctuation)) {\r\n        message += \".\";\r\n      }\r\n    }\r\n    if (this.errorDetails) {\r\n      if (message) {\r\n        message += \"\\r\\n\";\r\n      }\r\n      message += this.errorDetails;\r\n      message.replace(trim, \"\");\r\n      if (!message.match(punctuation)) {\r\n        message += \".\";\r\n      }\r\n    }\r\n    if (!message) {\r\n      if (this.statusText) {\r\n        if (message) {\r\n          message += \"\\r\\n\";\r\n        }\r\n        message += this.statusText;\r\n      }\r\n      if (this.statusCode > 0) {\r\n        if (message) {\r\n          message += \"\\r\\n \";\r\n        }\r\n        message += \"(\" + this.statusCode + \")\";\r\n      }\r\n    }\r\n    if (!message) {\r\n      message = lang.ErrorUnknown;\r\n    }\r\n    return message;\r\n  };\r\n\r\n  RequestErrorMessage.version = '1.0';\r\n\r\n  // Exports\r\n  // -------\r\n\r\n  Message = {\r\n    verion: '1.0',\r\n    Type: Type,\r\n    Message: Message,\r\n    ErrorMessage: ErrorMessage,\r\n    RequestErrorMessage: RequestErrorMessage\r\n  };\r\n\r\n  return Message;\r\n\r\n});\r\n\n","csui.define('csui/utils/messagehelper',[\"module\", \"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n  \"csui/utils/log\", \"csui/utils/errormessage\", 'i18n!csui/utils/impl/nls/lang'\r\n], function (module, $, _, Backbone, log, Message, Lang) {\r\n  \"use strict\";\r\n\r\n  log = log(module.id);\r\n\r\n  // MessageHelper\r\n  // ------------\r\n\r\n  var ts = \"0.3s\";\r\n  // as we implement animation fix for top property, we use styles here and not css classes.\r\n  var animationShow = {\"-webkit-transition\": \"top \" + ts, \"transition\": \"top \" + ts};\r\n  var animationHide = {\"-webkit-transition\": \"top \" + ts, \"transition\": \"top \" + ts};\r\n  var animationNone = {\"-webkit-transition\": \"\", \"transition\": \"\"};\r\n  var animationFadeOut = {\r\n    \"-webkit-transition\": \"opacity \" + ts,\r\n    \"transition\": \"opacity \" + ts\r\n  };\r\n\r\n  var MessageHelper = Backbone.Collection.extend({\r\n    model: Message.Message,\r\n    title: '',\r\n\r\n    showMessages: function (reset, show) {\r\n      log.warn(\r\n          'This method has been deprecated and will be removed in future. ' +\r\n          'Please, use MoalAler or GlobalMessaage to report errors.')\r\n      && console.warn(log.last);\r\n\r\n      var title = Lang.ErrorStatiNice[this.getStatus()],\r\n          showit = (show !== undefined) ? show : true;\r\n\r\n      this.trigger(\"showErrors\", this.groupBy('type'), this.toHtml(), title,\r\n          showit);\r\n      reset && this.reset();\r\n    },\r\n\r\n    addMessage: function (txt, type, title) {\r\n      this.title = title || '';\r\n      type = type || Message.Type.Error;\r\n      var msg = new Message.Message({\r\n        type: type,\r\n        message: txt\r\n      });\r\n      return this.add([msg]);\r\n    },\r\n\r\n    showErrors: function (reset, show) {\r\n      return this.showMessages(reset, show);\r\n    },\r\n\r\n    addError: function (error) {\r\n      var errmsg = new Message.ErrorMessage();\r\n      errmsg.message = error.message;\r\n      return this.add([errmsg]);\r\n    },\r\n\r\n    addErrorMessage: function (errorts) {\r\n      return this.add([errorts]);\r\n    },\r\n\r\n    getStatus: function () {\r\n      return this.sortBy('type')[0].get('type');\r\n    },\r\n\r\n    clear: function () {\r\n      return this.reset();\r\n    },\r\n\r\n    hasMessages: function () {\r\n      return (this.length > 0);\r\n    },\r\n\r\n    getMessages: function () {\r\n      return this.groupBy('type');\r\n    },\r\n\r\n    toHtml: function () {\r\n      var template = _.template(Lang.ErrorHtmlTpl),\r\n          html = [];\r\n\r\n      _.each(this.groupBy('type'), function (msgType) {\r\n        _.each(msgType.reverse(), function (msg) {\r\n          html += template({\r\n            statusPlain: _.keys(Message.Type)[msg.get('type')],\r\n            statusNice: Lang.ErrorStatiNice[msg.get('type')],\r\n            msg: msg.get('message')\r\n          });\r\n        });\r\n      });\r\n\r\n      return html;\r\n    },\r\n\r\n    removeField: function (viewel, selector, values) {\r\n      var elem = viewel.find(selector);\r\n      values.forEach(function (oldval) {\r\n        var oldclass = selector + \"-\" + oldval;\r\n        var oldel = elem.find(oldclass);\r\n        if (!oldel.hasClass(\"binf-hidden\")) {\r\n          oldel.addClass(\"binf-hidden\");\r\n        }\r\n      });\r\n    },\r\n    switchField: function (viewel, selector, value, values) {\r\n      var elem = viewel.find(selector);\r\n      var newclass = selector + \"-\" + value;\r\n      var newel = elem.find(newclass);\r\n      var changed = false;\r\n      if (newel.hasClass(\"binf-hidden\")) {\r\n        values.forEach(function (oldval) {\r\n          var oldclass = selector + \"-\" + oldval;\r\n          if (newclass != oldclass) {\r\n            var oldel = elem.find(oldclass);\r\n            if (!oldel.hasClass(\"binf-hidden\")) {\r\n              oldel.addClass(\"binf-hidden\");\r\n            }\r\n          }\r\n        });\r\n        newel.removeClass(\"binf-hidden\");\r\n        changed = true;\r\n      }\r\n      return {changed: changed, element: newel};\r\n    },\r\n\r\n    transitionEnd: _.once(\r\n        function () {\r\n          var transitions = {\r\n                transition: 'transitionend',\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                MozTransition: 'transitionend',\r\n                OTransition: 'oTransitionEnd otransitionend'\r\n              },\r\n              element = document.createElement('div'),\r\n              transition;\r\n          for (transition in transitions) {\r\n            if (typeof element.style[transition] !== 'undefined') {\r\n              return transitions[transition];\r\n            }\r\n          }\r\n        }\r\n    ),\r\n\r\n    createPanel: function (globals, Panel, options, oldPanel) {\r\n      var newPanel = new Panel(options);\r\n      newPanel.$el.removeClass(\"binf-panel binf-panel-default\");\r\n      newPanel.$el.addClass(\"csui-global-message\");\r\n      globals.classNames && newPanel.$el.addClass(globals.classNames);\r\n\r\n      // render panel\r\n      newPanel.render();\r\n\r\n      // take state from old panel\r\n      if (oldPanel) {\r\n        if (oldPanel.$el.hasClass(\"binf-hidden\") !=\r\n            newPanel.$el.hasClass(\"binf-hidden\")) {\r\n          newPanel.$el.toggleClass(\"binf-hidden\");\r\n        }\r\n        var collapsed = oldPanel.$el.hasClass(\"csui-collapsed\");\r\n        if (collapsed != newPanel.$el.hasClass(\"csui-collapsed\")) {\r\n          if (collapsed) {\r\n            newPanel.doCollapse(false);\r\n          } else {\r\n            newPanel.doExpand(false);\r\n          }\r\n        }\r\n      }\r\n      return newPanel;\r\n    },\r\n\r\n    activatePanel: function (newPanel, relatedView, parentView, oldPanel) {\r\n      if (!oldPanel && !newPanel.$el.hasClass(\"binf-hidden\")) {\r\n        // if we need to animate, add it hidden and then show it animated\r\n        newPanel.$el.addClass(\"binf-hidden\");\r\n        newPanel.$el.appendTo(parentView.el);\r\n        newPanel.doShow(relatedView, parentView);\r\n      } else {\r\n        if (relatedView) {\r\n          this.resizePanel(newPanel, relatedView);\r\n        }\r\n        newPanel.$el.appendTo(parentView.el);\r\n        if (oldPanel) {\r\n          oldPanel.destroy();\r\n        }\r\n      }\r\n      return newPanel;\r\n    },\r\n\r\n    showPanel: function (view, relatedView, parentView) {\r\n      if (view.$el.hasClass(\"binf-hidden\")) {\r\n        var self = this,\r\n            slideSize = this.getTargetSizes(parentView.$el);\r\n        var panel = _.extend({\r\n          csuiBeforeShow: function () {\r\n            if (relatedView) {\r\n              var panelSize = self.getTargetSizes(relatedView.$el);\r\n              self.setPanelHeight(view, panelSize);\r\n            }\r\n          }\r\n        }, view);\r\n        this.slidedown(panel, view.$el, view.$el, slideSize);\r\n      }\r\n    },\r\n\r\n    slidedown: function (view, elem, hidden, sizes) {\r\n      // Do not slide the element from too far; at most the element height\r\n      var distance, elemHeight;\r\n      hidden = hidden || elem;\r\n\r\n      view.$el === elem || view.$el.removeClass(\"csui-collapsed\");\r\n      view.$el.removeClass(view.$el === elem ? \"csui-hiding\" : \"csui-collapsing\");\r\n      view.$el.addClass(view.$el === elem ? \"csui-showing\" : \"csui-expanding\");\r\n      if (view.csuiBeforeShow) {\r\n        view.csuiBeforeShow();\r\n      }\r\n\r\n      var position = elem.css(\"position\");\r\n      if (hidden.hasClass(\"binf-hidden\")) {\r\n        // first be sure, that no animation delays any settings, while panel is hidden\r\n        elem.css(animationNone);\r\n        elem.addClass('position-hidden');\r\n        // prepare view for animation\r\n        if (elem !== hidden) {\r\n          elemHeight = elem.height();\r\n          distance = Math.min(sizes.height - sizes.top, elemHeight);\r\n          elem.css({\r\n            \"bottom\": \"calc(100% - \" + (sizes.top + distance) + \"px)\"\r\n          });\r\n        }\r\n        // when now making the element visible, the browser layouts the element but the bottom is\r\n        // forced where it was before\r\n        hidden.removeClass(\"binf-hidden\");\r\n        elemHeight = elem.height();\r\n        // now switch to set the top property without moving the element.\r\n        var rect = this.getTargetSizes(elem);\r\n        if (position === \"relative\") {\r\n          distance = Math.min(sizes.height - rect.height, elemHeight);\r\n          elem.css({\r\n            \"top\": distance + \"px\"\r\n          });\r\n        } else /* if (position===\"absolute\") */ {\r\n          distance = Math.min(rect.top, sizes.top + elemHeight);\r\n          elem.css({\r\n            \"top\": distance + \"px\"\r\n          });\r\n        }\r\n        elem.removeClass('position-hidden');\r\n        elem.addClass('position-show');\r\n        var pos = elem.position(); // just access property, so browser updates element\r\n      }\r\n      elem.one(this.transitionEnd(), function () {\r\n        if (view.$el === elem ? \"csui-showing\" : \"csui-expanding\") {\r\n          elem.css(animationNone);\r\n          view.$el.removeClass(view.$el === elem ? \"csui-showing\" : \"csui-expanding\");\r\n          if (view.csuiAfterShow) {\r\n            view.csuiAfterShow();\r\n          }\r\n        }\r\n      });\r\n      // trigger animation by setting the top property to its initial value\r\n      if (position === \"relative\") {\r\n        elem.css(_.extend({\"top\": \"0px\"}, animationShow));\r\n      } else /* if (position===\"absolute\") */ {\r\n        elem.css(_.extend({\"top\": sizes.top + \"px\"}, animationShow));\r\n      }\r\n\r\n      return view;\r\n    },\r\n\r\n    expandPanel: function (view, details, hidden, animated) {\r\n      hidden = hidden || details;\r\n      if (view.$el.hasClass(\"csui-collapsed\") || hidden.hasClass(\"binf-hidden\") ||\r\n          view.$el.hasClass(\"csui-collapsing\")) {\r\n        animated = (animated === true || animated === undefined) ? true : false;\r\n        if (animated) {\r\n          this.slidedown(view, details, hidden, this.getTargetSizes(details));\r\n        }\r\n        else {\r\n          view.$el.removeClass(\"csui-collapsed\");\r\n          hidden.removeClass(\"binf-hidden\");\r\n        }\r\n      }\r\n    },\r\n\r\n    hidePanel: function (view) {\r\n      if (!view.$el.hasClass(\"binf-hidden\")) {\r\n        this.slideup(view, view.$el, view.$el);\r\n      }\r\n    },\r\n\r\n    slideup: function (view, elem, hidden) {\r\n\r\n      hidden = hidden || elem;\r\n      // hide panel with slide up animation. does only make sense if element is not hidden.\r\n      var position = elem.css(\"position\");\r\n      view.$el.removeClass(view.$el === elem ? \"csui-showing\" : \"csui-expanding\");\r\n      view.$el.addClass(view.$el === elem ? \"csui-hiding\" : \"csui-collapsing\");\r\n      if (view.csuiBeforeHide) {\r\n        view.csuiBeforeHide();\r\n      }\r\n      elem.one(this.transitionEnd(), function () {\r\n        if (view.$el.hasClass(view.$el === elem ? \"csui-hiding\" : \"csui-collapsing\")) {\r\n          hidden.addClass(\"binf-hidden\");\r\n          elem.css(_.extend({\"top\": \"\", \"bottom\": \"\"}, animationNone));\r\n          view.$el.removeClass(view.$el === elem ? \"csui-hiding\" : \"csui-collapsing\");\r\n          view.$el === elem || view.$el.addClass(\"csui-collapsed\");\r\n          if (view.csuiAfterHide) {\r\n            view.csuiAfterHide();\r\n          }\r\n        }\r\n      });\r\n      var rect = this.getTargetSizes(elem);\r\n      if (position === \"relative\") {\r\n        elem.css({\"top\": \"0px\"});\r\n      } else /* if (position===\"absolute\") */ {\r\n        elem.css({\"top\": rect.top + \"px\"});\r\n      }\r\n      var pos = elem.position(); // just access property, so browser updates element\r\n      // check whether wie have a minimum height, where we should stop the slideup\r\n      var min_top = 0;\r\n      var idattr = elem.attr(\"id\");\r\n      if (idattr && elem.hasClass(\"csui-minheight\")) {\r\n        var heightSource = elem.find(\".\" + idattr + \"-heightsource\");\r\n        if (heightSource.length > 0) {\r\n          min_top = heightSource.outerHeight();\r\n        }\r\n      }\r\n      // trigger animation by setting the property\r\n      elem.css(\r\n          _.extend({\"top\": (parseInt(min_top) - rect.height) + \"px\"}, animationHide));\r\n      return elem;\r\n    },\r\n\r\n    collapsePanel: function (view, details, hidden, animated) {\r\n      hidden = hidden || view.$el;\r\n      if (!view.$el.hasClass(\"csui-collapsed\") || !hidden.hasClass(\"binf-hidden\") ||\r\n          view.$el.hasClass(\"csui-expanding\")) {\r\n        animated = (animated === true || animated === undefined) ? true : false;\r\n        if (animated) {\r\n          this.slideup(view, details, hidden);\r\n        }\r\n        else {\r\n          view.$el.addClass(\"csui-collapsed\");\r\n          hidden.addClass(\"binf-hidden\");\r\n        }\r\n      }\r\n    },\r\n\r\n    fadeoutPanel: function (view) {\r\n\r\n      // hide panel with fade out animation. does only make sense if element is not hidden.\r\n      var opacity = view.$el.css(\"opacity\") || \"1\";\r\n      view.$el.css({\"opacity\": opacity});\r\n      // prepare view for animation\r\n      view.$el.one(this.transitionEnd(), function () {\r\n        view.$el.addClass(\"binf-hidden\");\r\n        view.$el.css(_.extend({\"opacity\": \"\"}, animationNone));\r\n        if (view.csuiAfterHide) {\r\n          view.csuiAfterHide();\r\n        }\r\n      });\r\n      var opq = view.$el.css(\"opacity\"); // just access property, so browser updates element\r\n      // trigger animation by setting the property\r\n      view.$el.css(_.extend({\"opacity\": \"0.0\"}, animationFadeOut));\r\n      return view;\r\n    },\r\n\r\n    resizePanel: function (view, location) {\r\n      if (location) {\r\n        var sizes = this.getTargetSizes(location.$el);\r\n        this.setPanelHeight(view, sizes);\r\n      }\r\n      view.doResize && view.doResize();\r\n    },\r\n\r\n    getTargetSizes: function (location) {\r\n      if (location) {\r\n        var rect = location[0].getBoundingClientRect();\r\n        return _.extend({width: rect.width, height: rect.height}, location.position());\r\n      } else {\r\n        return {left: 0, top: 0, width: 333, height: 63};\r\n      }\r\n    },\r\n\r\n    setPanelHeight: function (view, sizes) {\r\n      view.$el.find(\".csui-height-target\").height(sizes.height);\r\n      return view;\r\n    }\r\n\r\n  });\r\n\r\n  MessageHelper.prototype.toString = function () {\r\n    var template = _.template(Lang.ErrorStringTpl),\r\n        html = [];\r\n\r\n    _.each(this.groupBy('type'), function (msgType) {\r\n      _.each(msgType, function (msg) {\r\n        html += template({\r\n          statusPlain: _.keys(Message.Type)[msg.get('type')],\r\n          statusNice: Lang.ErrorStatiNice[msg.get('type')],\r\n          msg: msg.get('message')\r\n        });\r\n      });\r\n    });\r\n\r\n  };\r\n\r\n  MessageHelper.version = '1.0';\r\n\r\n  // activate eventing on error handler\r\n  _.extend(MessageHelper, Backbone.Events);\r\n\r\n  // Exports\r\n  // -------\r\n\r\n  return MessageHelper;\r\n\r\n});\r\n\n","csui.define('csui/utils/types/date',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/moment',\r\n  'csui/lib/moment-timezone'\r\n], function (module, _, moment) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n    .config['csui/utils/base'] || {};\r\n  config = _.extend({\r\n    friendlyDateTime: true,\r\n    friendlyTime: true,\r\n    friendlyDate: true,\r\n    formatIsoDateTimeInUtc: false,\r\n    formatIsoDateTimeInTimeZone: undefined\r\n  }, config, module.config());\r\n\r\n  var momentDateFormat     = config.dateFormat || 'L',\r\n      momentTimeFormat     = config.timeFormat || 'LTS',\r\n      momentDateTimeFormat = config.dateTimeFormat || momentDateFormat + ' ' + momentTimeFormat,\r\n      exactDateFormat      = getExactFormat(momentDateFormat),\r\n      exactTimeFormat      = getExactFormat(momentTimeFormat),\r\n      exactDateTimeFormat  = getExactFormat(momentDateTimeFormat);\r\n\r\n  // Moment's longDateFormat need the formatting parts like \"L\" otr \"LTS\"\r\n  // separately; it does not accept a combined string\r\n  function getExactFormat(momentFormat) {\r\n    var formatters     = /\\w+/g,\r\n        explicitFormat = momentFormat,\r\n        shift          = 0,\r\n        match, part, partFormat, index;\r\n    while ((match = formatters.exec(momentFormat))) {\r\n      part = match[0];\r\n      partFormat = moment.localeData().longDateFormat(part);\r\n      // Skip words in the format, which are not moment's tokens\r\n      if (partFormat) {\r\n        index = match.index + shift;\r\n        explicitFormat = explicitFormat.substring(0, index) + partFormat +\r\n                         explicitFormat.substring(index + part.length);\r\n        shift += partFormat.length - part.length;\r\n      }\r\n    }\r\n    // If the format was expanded, try it once more, in case moment\r\n    // placeholders were used recursively like \"LT:ss\"\r\n    return explicitFormat !== momentFormat ?\r\n      getExactFormat(explicitFormat) : explicitFormat;\r\n  }\r\n\r\n  // static helper methods\r\n\r\n  function pad(n) {\r\n    return n < 10 ? '0' + n : n;\r\n  }\r\n\r\n  // Creates a new moment object in the local (client) time zone\r\n  // from a string in the ISO 8601 format sent by the server, or\r\n  // from a Date object instance, or from a Moment instance.\r\n  function createMoment(text) {\r\n    // Checks if the text, which should be in the ISO 8601 format,\r\n    // ends with the UTC identifier or a time zone offset.\r\n    function includesTimeZone(text) {\r\n      var length = text.length;\r\n      if (length > 19) {\r\n        if (text.charAt(length - 1) === 'Z') {\r\n          return true;\r\n        }\r\n        var direction = text.charAt(length - 5);\r\n        if (direction === '+' || direction === '-') {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (text instanceof moment) {\r\n      return text;\r\n    }\r\n    if(text instanceof Date) {\r\n      return moment(text);\r\n    }\r\n    return config.formatIsoDateTimeInTimeZone && !includesTimeZone(text) ?\r\n           moment.tz(text, config.formatIsoDateTimeInTimeZone) : moment(text);\r\n  }\r\n\r\n  // Parses the text in the ISO 8601 format as sent by the server\r\n  // to a Date object instance in the local (client) time zone.\r\n  function deserializeDate(text) {\r\n    return text && createMoment(text).toDate();\r\n  }\r\n\r\n  // Formats the date in the local (client) time zone to a sub-set\r\n  // of ISO 8601 for the server.\r\n  function serializeDateTime(date, format, callback) {\r\n    function formatDateTime(date, suffix) {\r\n      // CS does not accept te standard ISO value returned\r\n      // by toISOString, which includes milliseconds.\r\n      return date.year() + '-'\r\n             + pad((date.month() + 1)) + '-'\r\n             + pad(date.date()) + 'T'\r\n             + pad(date.hours()) + ':'\r\n             + pad(date.minutes()) + ':'\r\n             + pad(date.seconds()) + suffix;\r\n    }\r\n\r\n    format || (format = exactDateTimeFormat);\r\n    var parsed = moment(date, format, true);\r\n    if (!parsed.isValid()) {\r\n      if (!!callback) {\r\n        callback();\r\n      } else {\r\n        throw new Error('Parsing date value \"' + date +\r\n                        '\" as \"' + format + '\" failed.');\r\n      }\r\n    }\r\n\r\n    if (config.formatIsoDateTimeInUtc) {\r\n      return formatDateTime(parsed.utc(), 'Z');\r\n    }\r\n\r\n    if (config.formatIsoDateTimeInTimeZone) {\r\n      return formatDateTime(parsed.tz(config.formatIsoDateTimeInTimeZone), '');\r\n    }\r\n\r\n    return formatDateTime(parsed, '');\r\n  }\r\n\r\n  // Formats the date to a sub-set of ISO 8601 - only the date part.\r\n  function serializeDate(date, format, callback) {\r\n    format || (format = exactDateFormat);\r\n    var parsed = moment(date, format, true);\r\n    if (!parsed.isValid()) {\r\n      if (!!callback) {\r\n        callback();\r\n      } else {\r\n        throw new Error('Parsing date value \"' + date +\r\n                        '\" as \"' + format + '\" failed.');\r\n      }\r\n    }\r\n    return parsed.year() + '-'\r\n           + pad((parsed.month() + 1)) + '-'\r\n           + pad(parsed.date());\r\n  }\r\n\r\n  function validateDate(date, format) {\r\n    return moment(date, format || exactDateFormat, true).isValid();\r\n  }\r\n\r\n  function validateDateTime(date, format) {\r\n    return moment(date, format || exactDateTimeFormat, true).isValid();\r\n  }\r\n\r\n  function formatDate(date) {\r\n    return config.friendlyDate ? formatFriendlyDate(date) : formatExactDate(date);\r\n  }\r\n\r\n  function formatDateTime(date) {\r\n    return config.friendlyDateTime ? formatFriendlyDateTime(date) :\r\n           formatExactDateTime(date);\r\n  }\r\n\r\n  function formatExactDate(date) {\r\n    return date ? createMoment(date).format(exactDateFormat) : '';\r\n  }\r\n\r\n  function formatExactTime(date) {\r\n    return date ? createMoment(date).format(exactTimeFormat) : '';\r\n  }\r\n\r\n  function formatExactDateTime(date) {\r\n    return date ? createMoment(date).format(exactDateTimeFormat) : '';\r\n  }\r\n\r\n  function formatFriendlyDate(date) {\r\n    return date ? createMoment(date).calendar() : \"\";\r\n  }\r\n\r\n  function formatFriendlyDateTime(date) {\r\n    return date ? createMoment(date).calendar() : \"\";\r\n  }\r\n\r\n  function formatFriendlyDateTimeNow(date) {\r\n    return date ? createMoment(date).fromNow() : \"\";\r\n  }\r\n\r\n  function formatISODate(date) {\r\n    return date ? moment.utc(date).toISOString() : \"\";\r\n  }\r\n\r\n  function formatISODateTime(date) {\r\n    return date ? moment(date).toISOString() : \"\";\r\n  }\r\n\r\n  return {\r\n    exactDateFormat: exactDateFormat,\r\n    exactTimeFormat: exactTimeFormat,\r\n    exactDateTimeFormat: exactDateTimeFormat,\r\n\r\n    deserializeDate: deserializeDate,\r\n    serializeDate: serializeDate,\r\n    serializeDateTime: serializeDateTime,\r\n\r\n    validateDate: validateDate,\r\n    validateDateTime: validateDateTime,\r\n\r\n    formatDate: formatDate,\r\n    formatDateTime: formatDateTime,\r\n    formatExactDate: formatExactDate,\r\n    formatExactTime: formatExactTime,\r\n    formatExactDateTime: formatExactDateTime,\r\n    formatFriendlyDate: formatFriendlyDate,\r\n    formatFriendlyDateTime: formatFriendlyDateTime,\r\n    formatFriendlyDateTimeNow: formatFriendlyDateTimeNow,\r\n    formatISODateTime: formatISODateTime,\r\n    formatISODate: formatISODate,\r\n  };\r\n});\r\n\n","csui.define('csui/utils/types/number',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/numeral',\r\n  'i18n!csui/utils/impl/nls/lang'\r\n], function (module, _, numeral, lang) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n    .config['csui/utils/base'] || {};\r\n  config = _.extend({\r\n    friendlyFileSize: true\r\n  }, config, module.config());\r\n\r\n  // Number.MAX_SAFE_INTEGER and Number.MIN_SAFE_INTEGER are not available in IE\r\n  var MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\r\n  var MIN_SAFE_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991;\r\n\r\n  function formatInteger(value, format) {\r\n    format || '0';\r\n    return numeral(value).format(format);\r\n  }\r\n\r\n  function formatIntegerWithCommas(value) {\r\n    return formatInteger(value, '0,0');\r\n  }\r\n\r\n  function formatFileSize(size) {\r\n    return config.friendlyFileSize ? formatFriendlyFileSize(size) :\r\n           formatExactFileSize(size);\r\n  }\r\n\r\n  function formatFriendlyFileSize(size) {\r\n    if (!_.isNumber(size)) {\r\n      return '';\r\n    }\r\n    return size >= 1024 ? numeral(size).format('0 b') :\r\n           formatExactFileSize(size);\r\n  }\r\n\r\n  function formatExactFileSize(size) {\r\n    if (!_.isNumber(size)) {\r\n      return '';\r\n    }\r\n    size = formatIntegerWithCommas(size);\r\n    return _.str.sformat(lang.sizeInBytes, size);\r\n  }\r\n\r\n  return {\r\n    formatInteger: formatInteger,\r\n    formatIntegerWithCommas: formatIntegerWithCommas,\r\n    \r\n    formatFileSize: formatFileSize,\r\n    formatFriendlyFileSize: formatFriendlyFileSize,\r\n    formatExactFileSize: formatExactFileSize,\r\n    MAX_SAFE_INTEGER: MAX_SAFE_INTEGER,\r\n    MIN_SAFE_INTEGER: MIN_SAFE_INTEGER\r\n  };\r\n});\r\n\n","csui.define('csui/utils/types/member',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n   'i18n!csui/utils/impl/nls/lang'\r\n], function (_, Backbone, lang) {\r\n  'use strict';\r\n\r\n  function formatMemberName(member) {\r\n    if (!member) {\r\n      return '';\r\n    }\r\n    if (_.isNumber(member) || _.isString(member)) {\r\n      return member.toString();\r\n    }\r\n    if (member instanceof Backbone.Model) {\r\n      member = member.attributes;\r\n    }\r\n    if (member.display_name) {\r\n      return member.display_name;\r\n    }\r\n    if (member.name_formatted) {\r\n      return member.name_formatted;\r\n    }\r\n    var firstName  = member.first_name,\r\n        lastName   = member.last_name,\r\n        middleName = member.middle_name,\r\n        name;\r\n    if (firstName) {\r\n      if (middleName) {\r\n        name = _.str.sformat(lang.ColumnMemberName3, lastName, firstName, middleName);\r\n      } else if (lastName) {\r\n        name = _.str.sformat(lang.ColumnMemberName2, lastName, firstName);\r\n      } else {\r\n        name = firstName;\r\n      }\r\n    } else {\r\n      name = lastName;\r\n    }\r\n    return name || member.name_formatted || member.name\r\n           || member.id && member.id.toString() || '';\r\n  }\r\n\r\n  return {\r\n    formatMemberName: formatMemberName\r\n  };\r\n});\r\n\n","csui.define('csui/utils/types/localizable',[\r\n  'csui/lib/underscore', 'i18n' \r\n], function (_, i18n) {\r\n  'use strict';\r\n\r\n  var locale = i18n.settings.locale,\r\n      language = locale.replace(/[-_]\\w+$/, ''),\r\n      defaultLocale = i18n.settings.defaultLocale,\r\n      defaultLanguage = defaultLocale.replace(/[-_]\\w+$/, '');\r\n\r\n  function getClosestLocalizedString(value, fallback) {\r\n    if (_.isObject(value)) {\r\n      // Normalize locale keys to 'll-cc' to be able to look up the right one;\r\n      // the CS REST API uses non-standard 'll_CC' in multilingual metadata\r\n      value = _.reduce(value, function (result, text, locale) {\r\n        locale = locale.toLowerCase().replace('_', '-');\r\n        result[locale] = text;\r\n        return result;\r\n      }, {});\r\n      value = value[locale] || value[language] ||\r\n              value[defaultLocale] || value[defaultLanguage] || fallback;\r\n    }\r\n    return value != null && value.toString() || '';\r\n  }\r\n\r\n  function localeCompareString(left, right, options) {\r\n    options || (options = {});\r\n    // Default is the search usage - ignore case, recognize transliterations\r\n    var usage = options.usage || 'search',\r\n        // Do not accept everything; this method ensures a consistent\r\n        // behaviour of the product - it should not be freely customizable\r\n        filteredOptions = {\r\n          // Passing an undefined usage would even ignore differences in\r\n          // accents, improving the search usage to the Google behaviour.\r\n          // However, it stops the transliteration support, at least in\r\n          // Chrome, unfortunately.  Transliteration is more important,\r\n          // because it is needed by grammar, while omitting accents is\r\n          // a workaround only, if you cannot type the characters with\r\n          // accents on the keyboard.\r\n          usage: usage,\r\n          // Default for the search usage should be always base sensitivity,\r\n          // but it depends on locale, which would confuse the user\r\n          sensitivity: usage === 'search' ? 'base' : 'variant',\r\n          // Number digits should not be normalized in string excerpts, when\r\n          // searching, but when sorting, they should be handled as numbers\r\n          numeric: usage !== 'search'\r\n        };\r\n\r\n    if (!left || !right) {\r\n      return !left ? (!right ? 0 : 1) : -1;\r\n    }\r\n\r\n    if (left.localeCompare) {\r\n      try {\r\n        return left.localeCompare(right, locale, filteredOptions);\r\n      } catch (error) {}\r\n    }\r\n\r\n    left = left.toLowerCase();\r\n    right = right.toLowerCase();\r\n    return left < right ? -1 : left > right ? 1 : 0;\r\n  }\r\n\r\n  function localeContainsString(hay, needle) {\r\n    return localeIndexOfString(hay, needle) >= 0;\r\n  }\r\n\r\n  function localeEndsWithString(full, end) {\r\n    // FIXME: How many maximum characters can the transliteration add?\r\n    var fullLength = full.length,\r\n        maxLength  = Math.min(fullLength, end.length * 3),\r\n        i;\r\n    for (i = 1; i <= maxLength; ++i) {\r\n      if (localeCompareString(full.substring(fullLength - i), end) === 0) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  function localeIndexOfString(hay, needle) {\r\n    var difference = hay.length - needle.length + 1,\r\n        i;\r\n    for (i = 0; i <= difference; ++i) {\r\n      if (localeStartsWithString(hay.substring(i), needle)) {\r\n        return i;\r\n      }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  function localeStartsWithString(full, start) {\r\n    // FIXME: How many maximum characters can the transliteration add?\r\n    var maxLength = Math.min(full.length, start.length * 3),\r\n        i;\r\n    for (i = 1; i <= maxLength; ++i) {\r\n      if (localeCompareString(full.substring(0, i), start) === 0) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  // After the formats parameter there can be additionally parameters specified. They must be of type \"string\"!\r\n  //\r\n  // We need for each message type 3 or 4 sentences. In many languages for multiple items there is an additional sentence required,\r\n  // that means we need a sentence for one item (\"ForOne\"), for up to four items (\"ForTwo\") and for more items (\"ForFive\"). In english and german\r\n  // the \"ForTwo\" and \"ForFive\" sentences are normally the same. We need also a \"ForNone\" sentence, if nothing is processed.\r\n  //\r\n  // For example czech (item = soubor):\r\n  //    dn soubor        => none (s0, optional)\r\n  //    ---\r\n  //    1 soubor            => one  (s1)\r\n  //    ---\r\n  //    2 soubory           => some (s2)\r\n  //    3 soubory\r\n  //    4 soubory\r\n  //    ---\r\n  //    5 soubor           => many (s5)\r\n  //    6 soubor\r\n  //    ...\r\n  //    n soubor\r\n  //    ---\r\n  //    0 soubor           => manu (s5, fallback)\r\n  //\r\n  // formats[success].none = dn soubor ... succeeded.\r\n  // formats[success].one = 1 soubor ... succeeded.\r\n  // formats[success].two = 3 soubory ... succeeded.\r\n  // formats[success].five = 8 soubor ... succeeded.\r\n  //\r\n  // formats[failure].one = 1 soubor ... failed.\r\n  // formats[failure].two = 3 soubory ... failed.\r\n  // formats[failure].five = 8 soubor ... failed.\r\n  // formats[failure].five = 0 soubor ... failed.\r\n  //\r\n  // formats[partial].two = 1 soubor ze 3 soubor ... failed.\r\n  // formats[partial].five = 2 soubory z 15 soubor ... failed.\r\n  //\r\n  // Returns formatted message string.\r\n\r\n  function formatMessage(count, messagesObj) {\r\n    var SUCCESS_TYPE = \"success\";\r\n    var ERROR_TYPE = \"error\";\r\n\r\n    // get all additional parameters, except promises, options and formats\r\n    var params = Array.prototype.slice.call(arguments, 2);\r\n    var formatStr;\r\n\r\n    if (count > 4) {\r\n      formatStr = messagesObj.formatForFive;\r\n    } else if (count > 1) {\r\n      formatStr = messagesObj.formatForTwo;\r\n    } else if (count > 0) {\r\n      formatStr = messagesObj.formatForOne;\r\n    } else {\r\n      formatStr = messagesObj.formatForNone || messagesObj.formatForFive;\r\n    }\r\n\r\n    params.splice(0, 0, count.toString()); // insert count into params at index 0\r\n    params.splice(0, 0, formatStr);        // insert formatStr into params at index 0\r\n    var msg = _.str.sformat.apply(_.str, params);\r\n\r\n    return msg;\r\n  }\r\n\r\n  return {\r\n    getClosestLocalizedString: getClosestLocalizedString,\r\n\r\n    localeCompareString: localeCompareString,\r\n    localeContainsString: localeContainsString,\r\n    localeEndsWithString: localeEndsWithString,\r\n    localeIndexOfString: localeIndexOfString,\r\n    localeStartsWithString: localeStartsWithString,\r\n\r\n    formatMessage: formatMessage\r\n  };\r\n});\r\n\n","csui.define('csui/utils/base',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/url',\r\n  'csui/utils/errormessage', 'csui/utils/messagehelper',\r\n  'csui/utils/types/date', 'csui/utils/types/number',\r\n  'csui/utils/types/member', 'csui/utils/types/localizable', 'i18n'\r\n], function (_, $, Url, Message, MessageHelper, date, number, member,\r\n    localizable, i18n) {\r\n  'use strict';\r\n\r\n  var $window = $(window);\r\n\r\n  // handler as singleton, bind dialog to handler\r\n  var messageHelper = new MessageHelper();\r\n  // TODO: Implement a component showing the errors\r\n  messageHelper.on(\"showErrors\", function (errors, html, title, showit) {\r\n    alert($(html).text());\r\n  });\r\n\r\n  var escapeHtmlHelper = $(\"<p></p>\");\r\n\r\n  function escapeHtml(text, preserveLineBreaks) {\r\n    // There's no HTML escaping function which would return a text to be\r\n    // concatenated with the rest of the raw HTML markup so that the text\r\n    // value would be the same and not interpreted as HTML markup.\r\n    // Let's use an artificial DOM element for this, wrapped with jQuery.\r\n    var html = escapeHtmlHelper.text(text).html();\r\n    if (preserveLineBreaks) {\r\n      html = html.replace(/\\r?\\n/g, \"\\r\\n<br>\");\r\n    }\r\n    return html;\r\n  }\r\n\r\n  function isBackbone(value) {\r\n    // descendant of Backbone.Events\r\n    return value && value.once;\r\n  }\r\n\r\n  function isPlaceholder(value) {\r\n    // string selector, DOM object or jQuery object\r\n    return value && (_.isString(value) || _.isElement(value) || value instanceof $);\r\n  }\r\n\r\n  function isTouchBrowser() {\r\n    return !!(('ontouchstart' in window) || (navigator.maxTouchPoints) ||\r\n              (navigator.msMaxTouchPoints));\r\n  }\r\n\r\n  function isHybrid() {\r\n    return !!('ontouchstart' in window);\r\n  }\r\n\r\n  function isAppleMobile() {\r\n    if (navigator && navigator.userAgent != null) {\r\n      var appleMatches = navigator.userAgent.match(/(iPhone |iPad)/i);\r\n      return (appleMatches != null);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function isMacintosh() {\r\n    return navigator.platform.indexOf('Mac') > -1;\r\n  }\r\n\r\n  function isLandscape() {\r\n    return isAppleMobile() && (window.matchMedia(\"(orientation: landscape)\").matches);\r\n  }\r\n\r\n  function isPortrait() {\r\n    return isAppleMobile() && (window.matchMedia(\"(orientation: portrait)\").matches);\r\n  }\r\n\r\n  function isIE11() {\r\n    if (navigator && navigator.userAgent) {\r\n      var isInternetExplorer11 = /Trident.*11/i.test(navigator.userAgent);\r\n      return isInternetExplorer11;\r\n    }\r\n  }\r\n\r\n  function isMozilla() {\r\n    if (navigator && navigator.userAgent) {\r\n      var isMozilla = /Mozilla/.test(navigator.userAgent);\r\n      return isMozilla;\r\n    }\r\n  }\r\n\r\n  function isEdge() {\r\n    if (navigator && navigator.userAgent) {\r\n      var isEdge = /Edge/.test(navigator.userAgent);\r\n      return isEdge;\r\n    }\r\n  }\r\n\r\n  function isFirefox() {\r\n    if (navigator && navigator.userAgent) {\r\n      var isFirefox = /Firefox/.test(navigator.userAgent);\r\n      return isFirefox;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * returns true if the current browser is either IE11\r\n   * or Edge (from Windows 10).\r\n   *\r\n   @returns {}\r\n   */\r\n  function isMSBrowser() {\r\n    return isIE11() || isEdge();\r\n  }\r\n\r\n  function isChrome() {\r\n    // please note,\r\n    // that IE11 now returns undefined again for window.chrome\r\n    // and new Opera 30 outputs true for window.chrome\r\n    // and new IE Edge outputs to true now for window.chrome\r\n    // and if not iOS Chrome check\r\n    // so use the below updated condition\r\n    var isChromium  = window.chrome,\r\n        winNav      = window.navigator,\r\n        vendorName  = winNav.vendor,\r\n        isOpera     = winNav.userAgent.indexOf(\"OPR\") > -1,\r\n        isIEedge    = winNav.userAgent.indexOf(\"Edge\") > -1,\r\n        isIOSChrome = winNav.userAgent.match(\"CriOS\"),\r\n        retVal      = false;\r\n    if (isIOSChrome ||\r\n        (isChromium != null && vendorName === \"Google Inc.\" && isOpera === false &&\r\n         isIEedge === false)) {\r\n      retVal = true;\r\n    }\r\n    return retVal;\r\n  }\r\n\r\n  function isSafari() {\r\n    if (navigator && navigator.userAgent) {\r\n      //it excludes Chrome and all Android browsers that include the Safari name in their user agent.\r\n      var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n      return isSafari;\r\n    }\r\n  }\r\n\r\n  // This shared function is used to compute the number characters can fit in a container.\r\n  // Input:\r\n  // - container width in pixels\r\n  // - element width in pixels\r\n  // Return:\r\n  // - number of elements to fill the container\r\n  function px2em(pxContainerWidth, pxElemWidth) {\r\n    var pxInEms = 0;\r\n    if (pxElemWidth > 0) {\r\n      pxInEms = Math.floor(2 * pxContainerWidth / pxElemWidth);\r\n    }\r\n    return pxInEms;\r\n  }\r\n\r\n  function isVisibleInWindowViewport(el) {\r\n    var $el = el instanceof $ ? el : $(el);\r\n    if (!$el.is(':visible')) {\r\n      return false;\r\n    }\r\n    var position = $el.offset(),\r\n        offset   = {\r\n          left: window.pageXOffset,\r\n          top: window.pageYOffset\r\n        },\r\n        extents  = {\r\n          width: $window.width(),\r\n          height: $window.height()\r\n        };\r\n    return position.left >= offset.left && position.left - offset.left < extents.width &&\r\n           position.top >= offset.top && position.top - offset.top < extents.height;\r\n  }\r\n\r\n  function isVisibleInWindowViewportHorizontally(el) {\r\n    if (el === undefined) {\r\n      return false;\r\n    }\r\n    var elem = el instanceof $ ? el[0] : el;\r\n    if (!elem || !elem.getBoundingClientRect) {\r\n      return false;\r\n    }\r\n    var elRect = elem.getBoundingClientRect();\r\n    return elRect.left >= window.pageXOffset && elRect.right - window.pageXOffset < $window.width();\r\n  }\r\n\r\n  function isVisibleInWindowViewportVertically(el) {\r\n    if (el === undefined) {\r\n      return false;\r\n    }\r\n    var elem = el instanceof $ ? el[0] : el;\r\n    if (!elem || !elem.getBoundingClientRect) {\r\n      return false;\r\n    }\r\n    var elRect = elem.getBoundingClientRect();\r\n    return elRect.top >= window.pageYOffset &&\r\n           elRect.bottom - window.pageYOffset < $window.height();\r\n  }\r\n\r\n  // Params:\r\n  // - el: element\r\n  // - levels: for performance, only check parents up to number of levels. Default: 5.\r\n  // - iPercentX: visible percentage X.  Default: 100% for full visibility.\r\n  // - iPercentY: visible percentage Y.  Default: 100% for full visibility.\r\n  // Return: true/false\r\n  // Note: credit to a guy on stackoverflow for his original code\r\n  function isElementVisibleInParents(el, levels, iPercentX, iPercentY) {\r\n    if (el === undefined) {\r\n      return false;\r\n    }\r\n    var elem = el instanceof $ ? el[0] : el;\r\n    if (!elem || !elem.getBoundingClientRect) {\r\n      return false;\r\n    }\r\n    // needed because the rects returned by getBoundingClientRect have up to 10 decimals\r\n    var tolerance = 0.01;\r\n    var percentX = iPercentX !== undefined ? iPercentX : 100;\r\n    var percentY = iPercentY !== undefined ? iPercentY : 100;\r\n    var elemRect = elem.getBoundingClientRect();\r\n    var parentRects = [];\r\n    var maxLevels = levels || 5;\r\n    var curLevel = 0;\r\n    while (elem.parentElement != null && curLevel < maxLevels) {\r\n      parentRects.push(elem.parentElement.getBoundingClientRect());\r\n      elem = elem.parentElement;\r\n      curLevel++;\r\n    }\r\n\r\n    var visibleInAllParents = parentRects.every(function (parentRect) {\r\n      var visiblePixelX = Math.min(elemRect.right, parentRect.right) -\r\n                          Math.max(elemRect.left, parentRect.left);\r\n      var visiblePixelY = Math.min(elemRect.bottom, parentRect.bottom) -\r\n                          Math.max(elemRect.top, parentRect.top);\r\n      var visiblePercentageX = visiblePixelX / elemRect.width * 100;\r\n      var visiblePercentageY = visiblePixelY / elemRect.height * 100;\r\n      return visiblePercentageX + tolerance > percentX &&\r\n             visiblePercentageY + tolerance > percentY;\r\n    });\r\n    return visibleInAllParents;\r\n  }\r\n\r\n  // Similar to isElementVisibleInParents above but this function only checks a particular parent.\r\n  // Params:\r\n  // - el: element\r\n  // - parent: parent element\r\n  // - iPercentX: visible percentage X.  Default: 100% for full visibility.\r\n  // - iPercentY: visible percentage Y.  Default: 100% for full visibility.\r\n  // Return: true/false\r\n  function isElementVisibleInParent(el, parent, iPercentX, iPercentY) {\r\n    if (el === undefined || parent === undefined) {\r\n      return false;\r\n    }\r\n    var elem = el instanceof $ ? el[0] : el;\r\n    if (!elem || !elem.getBoundingClientRect) {\r\n      return false;\r\n    }\r\n    var container = parent instanceof $ ? parent[0] : parent;\r\n    if (!container || !container.getBoundingClientRect) {\r\n      return false;\r\n    }\r\n    // needed because the rects returned by getBoundingClientRect have up to 10 decimals\r\n    var tolerance = 0.01;\r\n    var percentX = iPercentX !== undefined ? iPercentX : 100;\r\n    var percentY = iPercentY !== undefined ? iPercentY : 100;\r\n    var elemRect = elem.getBoundingClientRect();\r\n    var contRect = container.getBoundingClientRect();\r\n    var visiblePixelX = Math.min(elemRect.right, contRect.right) -\r\n                        Math.max(elemRect.left, contRect.left);\r\n    var visiblePixelY = Math.min(elemRect.bottom, contRect.bottom) -\r\n                        Math.max(elemRect.top, contRect.top);\r\n    var visiblePercentageX = visiblePixelX / elemRect.width * 100;\r\n    var visiblePercentageY = visiblePixelY / elemRect.height * 100;\r\n    return visiblePercentageX + tolerance > percentX &&\r\n           visiblePercentageY + tolerance > percentY;\r\n  }\r\n\r\n  function checkAndScrollElemToViewport(elem) {\r\n    var $elem            = $(elem),\r\n        scrollSelector   = $elem.closest('.csui-perfect-scrolling').length > 0 ?\r\n                           '.csui-perfect-scrolling' : '.csui-normal-scrolling',\r\n        elemScrollParent = $elem.closest(scrollSelector),\r\n        stickyHeader     = elemScrollParent.siblings(\".csui-tab-contents-header-wrapper\");\r\n    if (!!stickyHeader[0]) {\r\n      var elemTop       = $elem.offset().top,\r\n          viewportTop   = elemScrollParent[0].getBoundingClientRect().top + stickyHeader.height(),\r\n          isElemVisible = elemTop > viewportTop;\r\n      if (!isElemVisible) {\r\n        var currScrollTop = elemScrollParent.scrollTop();\r\n        elemScrollParent.scrollTop(currScrollTop - (viewportTop - elemTop));\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  function setScrollHandler(e) {\r\n    var eventArg = e.data;\r\n    var inputElement      = eventArg.inputElement,\r\n        view              = eventArg.view,\r\n        dropdownContainer = eventArg.dropdownContainer,\r\n        callback          = eventArg.callback;\r\n    //When dropdown is closed\r\n    inputElement.parents(\".csui-normal-scrolling\").css(\"overflow\", \"auto\");\r\n    //close respective drop-downs using callback\r\n    if (dropdownContainer.length > 0 && dropdownContainer[0] !== e.target &&\r\n        dropdownContainer.is(\":visible\") && callback) {\r\n      callback(view);\r\n    }\r\n  }\r\n\r\n  function adjustDropDownField(inputElement, dropdownContainer, applyWidth, view, callback,\r\n      scrollableDropdownContainer) {\r\n    var scrollEl;\r\n    var eventArg = {\r\n      inputElement: inputElement,\r\n      view: view,\r\n      dropdownContainer: dropdownContainer,\r\n      callback: callback\r\n    };\r\n\r\n    var isIEBrowser    = this.isIE11(),\r\n        isTouchBrowser = this.isTouchBrowser(),\r\n        isHybrid       = this.isHybrid();\r\n\r\n    if (isTouchBrowser &&\r\n        !inputElement.closest('.csui-scrollable-writemode').hasClass('csui-dropdown-open')) {\r\n      inputElement.closest('.csui-scrollable-writemode').addClass('csui-dropdown-open');\r\n    }\r\n\r\n    // for scrollable set\r\n    if (inputElement.parents(\".csui-scrollablecols\").length > 0 &&\r\n        inputElement.parents(\".cs-form-set-container\").length >\r\n        0) {\r\n      scrollEl = inputElement.parents(\".csui-scrollablecols\").parents(\".cs-form-set-container\").find\r\n      (\".ps-container.ps-active-x\");\r\n      var isRtl            = i18n && i18n.settings.rtl,\r\n          inputElementLeft = inputElement.offset().left,\r\n          leftShadow       = inputElement.parents(\".csui-scrollablecols\").siblings(\r\n              \".csui-lockedcols\").find(\".csui-shadowleft-container\"),\r\n          leftShadowLeft   = leftShadow.offset().left,\r\n          currentLeft,\r\n          scrollUpdate;\r\n      if (isRtl) {\r\n        var inputElementRight = inputElementLeft + inputElement.outerWidth();\r\n        scrollUpdate = inputElementRight - leftShadowLeft;\r\n      }\r\n      else {\r\n        var leftShadowRight = leftShadowLeft + leftShadow.outerWidth();\r\n        scrollUpdate = leftShadowRight - inputElementLeft;\r\n      }\r\n      // for partially visible dropdownfield\r\n      if (scrollUpdate > 0) {\r\n        scrollEl.off('scroll', setScrollHandler);\r\n        scrollEl.one('set:scrolled', function () {\r\n          if (!!scrollEl) {\r\n            scrollEl.on('scroll', eventArg, setScrollHandler);\r\n          }\r\n          autoAlignDropDowns(inputElement, dropdownContainer, applyWidth,\r\n              scrollableDropdownContainer, isIEBrowser);\r\n          hideDropDowns(inputElement, dropdownContainer, view, callback);\r\n        });\r\n        if (isRtl) {\r\n          currentLeft = scrollEl.scrollLeftRtl();\r\n          scrollEl.scrollLeftRtl(currentLeft + scrollUpdate);\r\n        }\r\n        else {\r\n          currentLeft = scrollEl.scrollLeft();\r\n          scrollEl.scrollLeft(currentLeft - scrollUpdate);\r\n          var that = this;\r\n          setTimeout(function () {\r\n            if (that.isTouchBrowser && !inputElement.closest('.csui-scrollable-writemode').hasClass(\r\n                    '.csui-dropdown-open')) {\r\n              inputElement.closest('.csui-scrollable-writemode').addClass('csui-dropdown-open');\r\n            }\r\n          }, 100);\r\n        }\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (!!scrollEl) {\r\n      scrollEl.on('scroll', eventArg, setScrollHandler);\r\n    }\r\n    autoAlignDropDowns(inputElement, dropdownContainer, applyWidth, scrollableDropdownContainer,\r\n        isIEBrowser);\r\n    hideDropDowns(inputElement, dropdownContainer, view, callback);\r\n\r\n  }\r\n\r\n  //This function is used to display drop-downs either top or bottom based on available space\r\n  function autoAlignDropDowns(inputElement, dropdownContainer, applyWidth,\r\n      scrollableDropdownContainer, isIEBrowser) {\r\n    // return the control if inputElement is not available in dom.\r\n    if (!inputElement.is(':visible')) {\r\n      return false;\r\n    }\r\n    dropdownContainer.css({\r\n      \"left\": 0,\r\n      \"top\": 0\r\n    });\r\n    var hasPerspective        = !!inputElement.closest('.cs-perspective-panel').length,\r\n        isRtl                 = i18n && i18n.settings.rtl,\r\n        elTop                 = inputElement.offset().top,\r\n        elPositionX           = hasPerspective ? inputElement.offset().left : inputElement[0]\r\n            .getBoundingClientRect().left,\r\n        scrollSelector        = inputElement.closest('.csui-perfect-scrolling').length > 0 ?\r\n                                '.csui-perfect-scrolling' : '.csui-normal-scrolling',\r\n        form                  = inputElement.closest(scrollSelector),\r\n        modalContentElem      = isIEBrowser ? [] :\r\n                                (form.length > 0 ?\r\n                                 form.parents(\".binf-modal-content, .csui-sidepanel-container\") :\r\n                                 inputElement.closest(\r\n                                     \".binf-modal-content, .csui-sidepanel-container\")), /*For\r\n         IE, left & top position is calculated with respect to document*/\r\n        modalContentPositionX = modalContentElem.length > 0 ? (isRtl ?\r\n                                                               (modalContentElem.outerWidth() +\r\n                                                                modalContentElem.offset().left) :\r\n                                                               modalContentElem.offset().left) :\r\n                                (isRtl ? $(document).width() : 0),\r\n        modalContentTop       = modalContentElem.length > 0 ? modalContentElem.offset().top : 0,\r\n        controlheight         = inputElement.outerHeight(),\r\n        dropdownWidth         = inputElement.outerWidth(),\r\n        perspectivePanel      = $(\".cs-perspective-panel\"),\r\n        closestPerspectivePan = inputElement.closest(\".cs-perspective-panel\"),\r\n        perspective           = closestPerspectivePan.length > 0 ? closestPerspectivePan :\r\n                                inputElement.closest(\".cs-perspective\"),\r\n        perspectiveHeight     = perspective.length > 0 ? perspective.outerHeight()\r\n            : $(document).height(),\r\n        perspectiveTop        = perspective.length > 0 ? perspective.offset().top : 0,\r\n        perspectiveLeft       = perspective.length > 0 ? perspective.offset().left : 0,\r\n        elemBoundingRect      = inputElement[0].getBoundingClientRect(),\r\n        contextBottom, contextTop;\r\n\r\n    if (applyWidth) {\r\n      dropdownContainer.css({\r\n        \"width\": dropdownWidth\r\n      });\r\n    }\r\n    //When dropdown is opened\r\n    if (scrollSelector != '.csui-normal-scrolling') {\r\n      inputElement.parents(\".csui-normal-scrolling\").css(\"overflow\", \"hidden\");\r\n    }\r\n\r\n    var perspectivePanelClientTop = perspectivePanel.length > 0 ?\r\n                                    perspectivePanel[0].getBoundingClientRect().top : 0;\r\n    if (perspectivePanelClientTop < 0) {\r\n      perspectivePanelClientTop = perspectivePanel.offset().top;\r\n    }\r\n    var perspectiveTopSpace  = perspectiveTop > 0 ? perspectiveTop : perspectivePanelClientTop,\r\n        spaceOnTop           = elemBoundingRect.top - perspectiveTopSpace,\r\n        spaceOnBottom        = window.innerHeight -\r\n                               (elemBoundingRect.top + elemBoundingRect.height),\r\n        isDropdownShownOnTop = spaceOnTop > spaceOnBottom;\r\n\r\n    if (!!scrollableDropdownContainer) {\r\n      scrollableDropdownContainer.css({\r\n        'max-height': Math.abs((isDropdownShownOnTop ? spaceOnTop : spaceOnBottom) * 0.9) + 'px'\r\n      });\r\n      // Check if whole dropdown can fit in bottom since bottom is prefferable if it can fit in bottom\r\n      isDropdownShownOnTop = scrollableDropdownContainer.outerHeight() > spaceOnBottom;\r\n    }\r\n    // below code used to display dropdown at top of the field.\r\n    if (isDropdownShownOnTop) {\r\n\r\n      if (isIEBrowser) {\r\n        if (perspective.length > 0) {\r\n          contextBottom = perspectiveHeight + perspectiveTop - elemBoundingRect.top;\r\n        } else {\r\n          contextBottom = document.documentElement.offsetHeight +\r\n                          document.documentElement.scrollTop -\r\n                          elTop;\r\n        }\r\n      } else {\r\n        if (modalContentElem.length > 0) {\r\n          contextBottom = modalContentElem.outerHeight() + modalContentTop - elTop;\r\n        } else {\r\n          if (perspective.length > 0 || isSafari()) {\r\n            contextBottom = perspectiveHeight + perspectiveTop - elTop;\r\n          } else {\r\n            contextBottom = hasPerspective ? (document.documentElement.offsetHeight - elTop)\r\n                : window.innerHeight - (inputElement[0].getBoundingClientRect().top);\r\n          }\r\n        }\r\n      }\r\n      if (isRtl) {\r\n        dropdownContainer.css({\r\n          \"position\": \"fixed\",\r\n          \"right\": modalContentPositionX - (elPositionX + dropdownWidth),\r\n          \"top\": \"auto\",\r\n          \"bottom\": contextBottom,\r\n          \"left\": \"auto\"\r\n        });\r\n      } else {\r\n        dropdownContainer.css({\r\n          \"position\": \"fixed\",\r\n          \"left\": (elPositionX - modalContentPositionX) - perspectiveLeft,\r\n          \"top\": \"auto\",\r\n          \"bottom\": contextBottom\r\n        });\r\n      }\r\n      if (dropdownContainer.hasClass('binf-datetimepicker-widget')) {\r\n        dropdownContainer.addClass('binf-top').removeClass('binf-bottom');\r\n      }\r\n      // below code used to display dropdown at bottom of the field.\r\n    } else {\r\n      if (isIEBrowser) {\r\n        contextTop = elTop + controlheight - document.documentElement.scrollTop;\r\n      } else {\r\n        if (modalContentElem.length > 0) {\r\n          contextTop = elTop + controlheight - modalContentTop;\r\n        } else {\r\n          if (perspective.length > 0) {\r\n            contextTop = elTop + controlheight - perspectiveTop;\r\n          } else {\r\n            contextTop = elemBoundingRect.top + elemBoundingRect.height - perspectiveTop;\r\n          }\r\n\r\n        }\r\n      }\r\n      if (isRtl) {\r\n        dropdownContainer.css({\r\n          \"position\": \"fixed\",\r\n          \"right\": modalContentPositionX - (elPositionX + dropdownWidth),\r\n          \"top\": contextTop,\r\n          \"bottom\": \"auto\",\r\n          \"left\": \"auto\"\r\n        });\r\n      } else {\r\n        dropdownContainer.css({\r\n          \"position\": \"fixed\",\r\n          \"left\": (elPositionX - modalContentPositionX) - perspectiveLeft,\r\n          \"top\": contextTop,\r\n          \"bottom\": \"auto\"\r\n        });\r\n      }\r\n      if (dropdownContainer.hasClass('binf-datetimepicker-widget')) {\r\n        dropdownContainer.addClass('binf-bottom').removeClass('binf-top');\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Options:\r\n   *  - targetEl  # Required. Element (usually anchor) which triggers the dropdown\r\n   *  - dropdownMenu # Optional. Element \"binf-dropdown-menu\" that is opened by `targetEl`. Default to sibling of `targetEl`.\r\n   *  - hAlignment # Optional. Default to `left` aligned.\r\n   *  - vAlignment # Optional. Default to `bottom`.\r\n   *\r\n   * @param {*} options\r\n   */\r\n  function alignDropDownMenu(options) {\r\n    var $targetEl     = options.targetEl,\r\n        $dropdownMenu = options.dropdownMenu || $targetEl.nextAll('.binf-dropdown-menu'),\r\n        hAlignment    = options.hAlignment || 'left',\r\n        vAlignment    = options.vAlignment || 'bottom',\r\n        isRtl         = i18n && i18n.settings.rtl;\r\n\r\n    if (!$targetEl.length || !$targetEl.is(':visible') || !$dropdownMenu.length) {\r\n      // return the control if inputElement is not available in dom.\r\n      return false;\r\n    }\r\n\r\n    $dropdownMenu.css({'maxHeight': '', 'maxWidth': '', top: '', left: '', right: '', bottom: ''}); // Reset all inline styles\r\n    $dropdownMenu.removeClass('binf-dropdown-align-left-top binf-dropdown-align-left-bottom' +\r\n                              ' binf-dropdown-align-right-top binf-dropdown-align-right-bottom');\r\n\r\n    var dropdownHeight  = $dropdownMenu.outerHeight(),\r\n        dropdownWidth   = $dropdownMenu.outerWidth();\r\n    // Hide to dropdown to avoid window scrolls due to overflow of dropdown beyond visible area.\r\n    $dropdownMenu.addClass('binf-hidden');\r\n\r\n    var documentWidth   = $(window).width(),\r\n        documentHeight  = $(window).height(),\r\n        maxWidthAllowed = parseInt($dropdownMenu.css('maxWidth'), 10) || 224, /** UX Suggested */\r\n        viewportOffset  = $targetEl[0].getBoundingClientRect(),\r\n        top             = viewportOffset.bottom,\r\n        left            = viewportOffset.left,\r\n        right           = documentWidth - viewportOffset.right,\r\n        bottom          = documentHeight - viewportOffset.top,\r\n        scrollLeft      = window.pageXOffset || document.documentElement.scrollLeft,\r\n        scrollTop       = window.pageYOffset || document.documentElement.scrollTop,\r\n        spaceTop        = viewportOffset.top - 10,\r\n        spaceBottom     = documentHeight - viewportOffset.bottom - 10,\r\n        spaceLeft       = viewportOffset.right - 10,\r\n        spaceRight      = documentWidth - viewportOffset.left - 10;\r\n\r\n    if (vAlignment === 'bottom' && spaceBottom <= dropdownHeight) {\r\n      // Requested to place at bottom, but insufficient space at bottom.\r\n      if (spaceTop > dropdownHeight || spaceTop > spaceBottom) {\r\n        vAlignment = 'top';\r\n      }\r\n    } else if (vAlignment === 'top' && spaceTop <= dropdownHeight) {\r\n      // Requested to place at top, but insufficient space at top.\r\n      if (spaceBottom > dropdownHeight || spaceBottom > spaceTop) {\r\n        vAlignment = 'bottom';\r\n      }\r\n    }\r\n\r\n    // Flip the horizontal position incase of RTL\r\n    hAlignment = isRtl ? (hAlignment === 'left' ? 'right' : 'left') : hAlignment;\r\n    if (hAlignment === 'left' && spaceRight <= dropdownWidth) {\r\n      // Requested to align left, but insufficient space towards right.\r\n      if (spaceLeft > dropdownWidth || spaceLeft > spaceRight) {\r\n        hAlignment = 'right';\r\n      }\r\n    } else if (hAlignment === 'right' && spaceLeft <= dropdownWidth) {\r\n      // Requested to align right, but insufficient space towards left.\r\n      if (spaceRight > dropdownWidth || spaceRight > spaceLeft) {\r\n        hAlignment = 'left';\r\n      }\r\n    }\r\n    $dropdownMenu.addClass('binf-dropdown-align-' + hAlignment + '-' + vAlignment);\r\n\r\n    if (!isIE11()) {\r\n      // Since perspectives and model dialogs styles with \"transform\" in which \"position: fixed\" relative to these container (not viewport).\r\n      var closestPerspectivePan = $targetEl.closest(\".cs-perspective-panel\"),\r\n          modelContent          = $targetEl.parents(\".binf-modal-content\"),\r\n          $transformParent      = closestPerspectivePan.length ? closestPerspectivePan :\r\n                                  $targetEl.closest(\".cs-perspective\");\r\n      /** Check if inside perspective */\r\n      // If not perspective MODEL dialog?\r\n      $transformParent = $transformParent.length ? $transformParent : modelContent;\r\n\r\n      if ($transformParent.length > 0) { // To counter the transform\r\n        var transParentOffset = $transformParent.offset(),\r\n            $elDocOffset      = $targetEl.offset(); // Includes top, left scrolls with viewport position;\r\n        top += (scrollTop - transParentOffset.top);\r\n        left += (scrollLeft - transParentOffset.left);\r\n        right = $transformParent.outerWidth() + transParentOffset.left - $elDocOffset.left -\r\n                $targetEl.outerWidth();\r\n        bottom = $transformParent.outerHeight() + transParentOffset.top - $elDocOffset.top;\r\n      }\r\n    }\r\n\r\n    var styles = {\"position\": \"fixed\"};\r\n    if (hAlignment === 'left') {\r\n      styles = _.extend(styles, {\r\n        \"left\": left,\r\n      });\r\n      if (spaceRight < maxWidthAllowed) {\r\n        styles.maxWidth = spaceRight;\r\n      }\r\n    } else {\r\n      styles = _.extend(styles, {\r\n        \"right\": right\r\n      });\r\n    }\r\n\r\n    if (vAlignment === 'bottom') {\r\n      styles = _.extend(styles, {\r\n        \"top\": top,\r\n      });\r\n    } else {\r\n      styles = _.extend(styles, {\r\n        \"bottom\": bottom\r\n      });\r\n    }\r\n\r\n    $dropdownMenu.css(styles);\r\n    $dropdownMenu.removeClass('binf-hidden');\r\n  }\r\n\r\n  function hideDropDowns(inputElement, dropdownContainer, view, callback) {\r\n    var scrollSelector = inputElement.closest('.csui-perfect-scrolling').length > 0 ?\r\n                         '.csui-perfect-scrolling' : '.csui-normal-scrolling',\r\n        form           = inputElement.closest(scrollSelector),\r\n        scrollableSet;\r\n    form.on('scroll', view, function (e) {\r\n      //When dropdown is closed\r\n      inputElement.parents(\".csui-normal-scrolling\").css(\"overflow\", \"auto\");\r\n      //close respective drop-downs using callback\r\n      if (dropdownContainer.is(\":visible\") && callback) {\r\n        callback(view);\r\n      }\r\n    });\r\n    // called when the window is scrolled.\r\n    $(window).on('scroll', function () {\r\n      //When dropdown is closed\r\n      inputElement.parents(\".csui-normal-scrolling\").css(\"overflow\", \"auto\");\r\n      if (dropdownContainer.is(\":visible\") && callback) {\r\n        callback(view);\r\n      }\r\n    });\r\n\r\n    // called when the window is resized.\r\n    $(window).on('resize', function () {\r\n      //When dropdown is closed\r\n      inputElement.parents(\".csui-normal-scrolling\").css(\"overflow\", \"auto\");\r\n      if (dropdownContainer.is(\":visible\") && callback) {\r\n        callback(view);\r\n      }\r\n    });\r\n  }\r\n\r\n  // TODO: Deprecate and remove this method\r\n  function stringifyDate(date) {\r\n    return JSON.stringify(date);\r\n  }\r\n\r\n  // TODO: Deprecate and remove this method\r\n  function dateToLocalIsoString(dateStr, format) {\r\n    if (format === 'YYYY-MM-DD' || format === 'MM/DD/YYYY') {\r\n      return date.serializeDate(dateStr);\r\n    }\r\n    return date.serializeDateTime(dateStr);\r\n  }\r\n\r\n  function findFocusables(element) {\r\n    return $(element).find('a[href], area[href], input, select, textarea, button,' +\r\n                           ' iframe, object, embed, *[tabindex], *[contenteditable]')\r\n        // Only visible and enabled\r\n        .filter(':visible:not([disabled])');\r\n  }\r\n\r\n  /**\r\n   * The parent div for the span element in which we have to apply ellipsis\r\n   * The number of lines we have to apply ellipses\r\n   * @param element\r\n   * @param numberOfLines\r\n   * Limitation of Multiline text with ellipsis:\r\n   * If there is a single lengthy word then the word is displayed in single line with ellipsis at the end of the line ex: 'Counterproductiveness'\r\n   * If there are 2 lengthy words, where none of them will fit in the line then the first word is displayed with ellipsis in a single line ex:  'Methylenedioxymethamphetamine chemical'\r\n   * If the first word is very short and the 2nd word is longer, then the single line is displayed and ellipsis are displayed at the end of 2nd word ex: 'Digital Transformation'\r\n   */\r\n  function applyEllipsis(element, numberOfLines) {\r\n    var measure, text, lineWidth,\r\n        lineStart, lineCount, wordStart,\r\n        line, lineText, wasNewLine,\r\n        updatedFirstLineWidth = false,\r\n        createElement         = document.createElement.bind(document),\r\n        createTextNode        = document.createTextNode.bind(document);\r\n    if (typeof element === 'object' && element.length > 0) {\r\n      element = element[0];\r\n    } else {\r\n      element = element;\r\n    }\r\n    // measurement element is made a child of the element to get it's style\r\n    measure = createElement('span');\r\n\r\n    $(measure).css({\r\n      'position': 'absolute', // prevent page reflow\r\n      'whiteSpace': 'pre', // cross-browser width results\r\n      'visibilty': 'hidden' // prevent drawing});\r\n    });\r\n\r\n    // make sure the element belongs to the document\r\n    if (!(element.ownerDocument || element.ownerDocument === document)) {\r\n      return;\r\n    }\r\n\r\n    // reset to safe starting values\r\n    lineStart = wordStart = 0;\r\n    lineCount = 1;\r\n    wasNewLine = false;\r\n    lineWidth = (element.clientWidth);\r\n    // get all the text, remove any line changes\r\n    text = (element.textContent || element.innerText).trim().replace(/\\n/g, ' ');\r\n    // remove all content\r\n    while (element.firstChild !== null) {\r\n      element.removeChild(element.firstChild);\r\n    }\r\n    // add measurement element within so it inherits styles\r\n    element.appendChild(measure);\r\n    function checkLine(pos) {\r\n      // ignore any further processing if we have total lines\r\n      if (lineCount === numberOfLines) {\r\n        return;\r\n      }\r\n      // create a text node and place it in the measurement element\r\n      measure.appendChild(createTextNode(text.substr(lineStart, pos + 1 - lineStart)));\r\n      // have we exceeded allowed line width?\r\n      if (lineWidth < measure.clientWidth) {\r\n        if (wasNewLine) {\r\n          // we have a long word so it gets a line of it's own\r\n          lineText = text.substr(lineStart, pos + 1 - lineStart);\r\n          // next line start position\r\n          lineStart = pos + 1;\r\n        } else {\r\n          // grab the text until this word\r\n          lineText = text.substr(lineStart, wordStart - lineStart);\r\n          // next line start position\r\n          lineStart = wordStart;\r\n        }\r\n        // create a line element\r\n        line = createElement('span');\r\n        // add text to the line element\r\n        line.appendChild(createTextNode(lineText));\r\n        // add the line element to the container\r\n        element.appendChild(line);\r\n        // yes, we created a new line\r\n        wasNewLine = true;\r\n        lineCount++;\r\n      } else {\r\n        // did not create a new line\r\n        wasNewLine = false;\r\n      }\r\n      // remember last word start position\r\n      wordStart = pos + 1;\r\n      // clear measurement element\r\n      measure.removeChild(measure.firstChild);\r\n    }\r\n\r\n    // http://ejohn.org/blog/search-and-dont-replace/\r\n    text.replace(/\\W|\\_/g, function (m, pos) {\r\n      checkLine(pos);\r\n    });\r\n    checkLine(text.substr(lineStart).length);\r\n    // remove the measurement element from the container\r\n    element.removeChild(measure);\r\n    // create the last line element\r\n    line = createElement('span');\r\n    // give styles required for text-overflow to kick in\r\n    $(line).css({\r\n      'display': 'inline-block',\r\n      'overflow': 'hidden',\r\n      'whiteSpace': 'nowrap',\r\n      'width': '100%'\r\n    });\r\n    if (lineCount > 1) {\r\n      $(line).css({\r\n        'textOverflow': 'ellipsis',\r\n      });\r\n    }\r\n    // add all remaining text to the line element\r\n    line.appendChild(createTextNode(text.substr(lineStart)));\r\n    // add the line element to the container\r\n    element.appendChild(line);\r\n  }\r\n\r\n  /**\r\n   * This method is used to filter out unsupported widgets based on the config\r\n   *\r\n   * @param widget  widget json : {type:\"<widget-path>\",options:{<widget-options>}}\r\n   * @param config  configuration json:\r\n   *                {\"unSupportedWidgets\":{\"<module>\":[\"<widget1-path>\",\"<widget2-path>\"]}\r\n   * @returns {*}   returns the widget only if it is not listed in the 'UnSupportedWidgets' list\r\n   *                else returns undefined\r\n   */\r\n  function filterUnSupportedWidgets(widget, config) {\r\n    if (widget && config && config.unSupportedWidgets) {\r\n      var extWidgets = _.chain(config.unSupportedWidgets)\r\n          .values()\r\n          .flatten()._wrapped;\r\n      if (extWidgets && extWidgets.length > 0) {\r\n        if (_.contains(extWidgets, widget.type)) {\r\n          return undefined;\r\n        }\r\n      }\r\n    }\r\n    return widget;\r\n  }\r\n\r\n  var transitionEndListener = _.once(\r\n      function () {\r\n        var transitions = {\r\n              transition: 'transitionend',\r\n              WebkitTransition: 'webkitTransitionEnd',\r\n              MozTransition: 'transitionend',\r\n              OTransition: 'oTransitionEnd otransitionend'\r\n            },\r\n            element     = document.createElement('div'),\r\n            transition;\r\n        for (transition in transitions) {\r\n          if (typeof element.style[transition] !== 'undefined') {\r\n            return transitions[transition];\r\n          }\r\n        }\r\n      }\r\n  );\r\n\r\n  function onTransitionEnd(element, callback, context) {\r\n    var timeoutRef,\r\n        transitionEnded = function () {\r\n          clearTimeout(timeoutRef);\r\n          callback.call(context || element);\r\n        };\r\n    // Safegaurd transitionend when given element is not in transition assuming there cannot be transition more than 2 seconds. \r\n    // Hence, waiting for 2 sec to manually trigger the transition end.\r\n    timeoutRef = setTimeout(transitionEnded, 2000);\r\n    element.one(transitionEndListener(), transitionEnded);\r\n  }\r\n\r\n  function getOffset(element) {\r\n    return element.is(':visible') ? element.offset() : {top: 0, left: 0};\r\n  }\r\n\r\n  return {\r\n    MessageHelper: messageHelper,\r\n    ErrorHandler: messageHelper,\r\n\r\n    MessageType: Message.Type,\r\n    Message: Message.Message,\r\n    RequestErrorMessage: Message.RequestErrorMessage,\r\n\r\n    ErrorStatus: Message.Type,\r\n    ErrorToShow: Message.Message,\r\n    ErrorMessage: Message.ErrorMessage,\r\n    Error: Message.RequestErrorMessage,\r\n\r\n    exactDateFormat: date.exactDateFormat,\r\n    exactTimeFormat: date.exactTimeFormat,\r\n    exactDateTimeFormat: date.exactDateTimeFormat,\r\n\r\n    parseDate: date.deserializeDate,\r\n    stringifyDate: stringifyDate,\r\n    dateToLocalIsoString: dateToLocalIsoString,\r\n    deserializeDate: date.deserializeDate,\r\n    serializeDate: date.serializeDate,\r\n    serializeDateTime: date.serializeDateTime,\r\n    formatDate: date.formatDate,\r\n    formatDateTime: date.formatDateTime,\r\n    formatExactDate: date.formatExactDate,\r\n    formatExactTime: date.formatExactTime,\r\n    formatExactDateTime: date.formatExactDateTime,\r\n    formatFriendlyDate: date.formatFriendlyDate,\r\n    formatFriendlyDateTime: date.formatFriendlyDateTime,\r\n    formatFriendlyDateTimeNow: date.formatFriendlyDateTimeNow,\r\n    formatISODateTime: date.formatISODateTime,\r\n    formatISODate: date.formatISODate,\r\n\r\n    getReadableFileSizeString: number.formatFileSize,\r\n    formatFileSize: number.formatFileSize,\r\n    formatFriendlyFileSize: number.formatFriendlyFileSize,\r\n    formatExactFileSize: number.formatExactFileSize,\r\n\r\n    formatInteger: number.formatInteger,\r\n    formatIntegerWithCommas: number.formatIntegerWithCommas,\r\n\r\n    formatMemberName: member.formatMemberName,\r\n\r\n    getClosestLocalizedString: localizable.getClosestLocalizedString,\r\n\r\n    localeCompareString: localizable.localeCompareString,\r\n    localeContainsString: localizable.localeContainsString,\r\n    localeEndsWithString: localizable.localeEndsWithString,\r\n    localeIndexOfString: localizable.localeIndexOfString,\r\n    localeStartsWithString: localizable.localeStartsWithString,\r\n\r\n    formatMessage: localizable.formatMessage,\r\n\r\n    escapeHtml: escapeHtml,\r\n\r\n    isBackbone: isBackbone,\r\n    isPlaceholder: isPlaceholder,\r\n    Url: Url,\r\n    isTouchBrowser: isTouchBrowser,\r\n    isHybrid: isHybrid,\r\n    isAppleMobile: isAppleMobile,\r\n    isMacintosh: isMacintosh,\r\n    isIE11: isIE11,\r\n    isEdge: isEdge,\r\n    isMozilla: isMozilla,\r\n    isFirefox: isFirefox,\r\n    isSafari: isSafari,\r\n    isLandscape: isLandscape,\r\n    isPortrait: isPortrait,\r\n    isMSBrowser: isMSBrowser,\r\n    isChrome: isChrome,\r\n    px2em: px2em,\r\n    isVisibleInWindowViewport: isVisibleInWindowViewport,\r\n    isVisibleInWindowViewportHorizontally: isVisibleInWindowViewportHorizontally,\r\n    isVisibleInWindowViewportVertically: isVisibleInWindowViewportVertically,\r\n    isElementVisibleInParents: isElementVisibleInParents,\r\n    isElementVisibleInParent: isElementVisibleInParent,\r\n    checkAndScrollElemToViewport: checkAndScrollElemToViewport,\r\n    setScrollHandler: setScrollHandler,\r\n    adjustDropDownField: adjustDropDownField,\r\n    autoAlignDropDowns: autoAlignDropDowns,\r\n    hideDropDowns: hideDropDowns,\r\n    findFocusables: findFocusables,\r\n    applyEllipsis: applyEllipsis,\r\n    filterUnSupportedWidgets: filterUnSupportedWidgets,\r\n    onTransitionEnd: onTransitionEnd,\r\n    getOffset: getOffset,\r\n    alignDropDownMenu: alignDropDownMenu\r\n  };\r\n});\r\n\n","csui.define('csui/models/action',[ \"module\", \"require\", \"csui/lib/jquery\", \"csui/lib/underscore\",\r\n  \"csui/lib/backbone\", \"csui/utils/log\", \"csui/utils/base\"\r\n], function (module, _require, $, _, Backbone, log, base) {\r\n  \"use strict\";\r\n\r\n  // {\r\n  //   signature:  unique identifier of the action to refer to\r\n  //   name:       title of the action\r\n  //   children:   array of action to appear as the submenu\r\n  // }\r\n\r\n  // ActionCollection to be filled on the first usage, preventing circular\r\n  // dependency between ActionCollection and ActionModel.\r\n  var ActionCollection;\r\n\r\n  var ActionModel = Backbone.Model.extend({\r\n\r\n    idAttribute: 'signature',\r\n\r\n    constructor: function ActionModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      options && options.connector && options.connector.assignTo(this);\r\n      // Require the ActionCollection on the first use to prevent a circular\r\n      // dependency between ActionCollection and ActionModel.\r\n      if (!ActionCollection) {\r\n        ActionCollection = _require(\"csui/models/actions\");\r\n      }\r\n      // TODO: make the REST API return array or nothing; the children\r\n      // property is supposed top be a collection.  It returns an empty\r\n      // object literal if there are no children, while the clients like\r\n      // Backbone.Collection expect an array or nothing.\r\n      var children = _.isArray(attributes && attributes.children) &&\r\n                     attributes.children || [];\r\n      this.children = new ActionCollection(children);\r\n    },\r\n\r\n    // not yet working\r\n    url: function () {\r\n      return base.Url.combine(this.connector.connection.url,\r\n        \"actions\", this.get(\"signature\"));\r\n    },\r\n\r\n    fetch: function (options) {\r\n      log.debug(\"Fetching action with the ID {0}.\", this.get(\"signature\")) &&\r\n      console.log(log.last);\r\n      return Backbone.Model.prototype.fetch.call(this, options);\r\n    },\r\n\r\n    parse: function (response) {\r\n      var action = response;\r\n\r\n      //if (log.debug(\"Parsing action \\\"{0}\\\" ({1}).\", action.name, action.url)) {\r\n      //  console.log(log.last);\r\n      //  console.log(response);\r\n      //}\r\n\r\n      if (this.children) {\r\n        // TODO: make the REST API return array or nothing; the children\r\n        // property is supposed top be a collection.  It returns an empty\r\n        // object literal if there are no children, while the clients like\r\n        // Backbone.Collection expect an array or nothing.\r\n        var children = _.isArray(action.children) && action.children || [];\r\n        this.children.reset(children);\r\n      }\r\n\r\n      return action;\r\n    }\r\n\r\n  });\r\n\r\n  return ActionModel;\r\n\r\n});\r\n\n","csui.define('csui/models/actions',[\"module\", \"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n  \"csui/utils/log\", \"csui/utils/base\", \"csui/models/action\"\r\n], function (module, $, _, Backbone, log, base, ActionModel) {\r\n  \"use strict\";\r\n\r\n  // ActionCollection\r\n  // ----------------\r\n\r\n  var ActionCollection = Backbone.Collection.extend({\r\n\r\n    model: ActionModel,\r\n\r\n    constructor: function ActionCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n      this.options = options || {};\r\n    },\r\n\r\n    // Finds an action by its cid or signature (id) recursively; if the\r\n    // action doesn't exist in the models of this collection, it will be\r\n    // looked for in children of those models recursively.\r\n    findRecursively: function (id) {\r\n      // search the terminal actions in the collection first\r\n      var action = this.get({ cid: id }) || this.find(function (item) {\r\n        return item.get('signature') === id;\r\n      });\r\n      // if not found, try all the submenus\r\n      if (!action)\r\n      // make an array of all action finding results produced\r\n      // recursively and pick the first action found\r\n      {\r\n        action = _.find(this.map(function (item) {\r\n          // if the submenu isn't empty handle it as another action\r\n          // collection recursively - get the action or undefined\r\n          // if it wasn't found\r\n          return item.children.findRecursively(id);\r\n          // pick the first action which is not undefined\r\n        }), function (item) {\r\n          return item;\r\n        });\r\n      }\r\n      return action;\r\n    }\r\n\r\n  });\r\n\r\n  // Module\r\n  // ------\r\n\r\n  _.extend(ActionCollection, {\r\n    version: '1.0'\r\n  });\r\n\r\n  return ActionCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/rules.matching/rules.matching.mixin',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/log'\r\n], function (module, _, Backbone, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var RulesMatchingMixin = {\r\n\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeRulesMatching: function (options) {\r\n          return this;\r\n        },\r\n\r\n        rulesToMatch: [\r\n          'equals', 'contains', 'startsWith', 'endsWith', 'matches',\r\n          'includes', 'equalsNoCase', 'containsNoCase', 'startsWithNoCase',\r\n          'endsWithNoCase', 'matchesNoCase', 'includesNoCase',  'has',\r\n          'decides', 'or', 'and', 'not'\r\n        ],\r\n\r\n        matchRules: function (model, operations, combine) {\r\n          var results = _.chain(this.rulesToMatch)\r\n                         .map(function (operation) {\r\n                           var operands = operations[operation];\r\n                           return operands === undefined ? undefined :\r\n                                  this['_evaluate-' + operation](model, operands);\r\n                         }, this)\r\n                         .filter(function (result) {\r\n                           return result !== undefined;\r\n                         })\r\n                         .value();\r\n          return !results.length ||\r\n                 _[combine || 'any'](results, function (result) {\r\n                   return result === true;\r\n                 });\r\n        },\r\n\r\n        _getRulingPropertyValue: function (model, name) {\r\n          if (typeof name !== 'string') {\r\n            if (name == null) {\r\n              name = 'null';\r\n            }\r\n            log.warn('Invalid property name in the action rule specification: {0}',\r\n                name) && console.warn(log.last);\r\n            return null;\r\n          }\r\n          var names = name.split('.'),\r\n              value = model instanceof Backbone.Model ?\r\n                      model.attributes : model || {};\r\n          _.find(names, function (name) {\r\n            value = value[name];\r\n            if (value == null) {\r\n              value = null;\r\n              return true;\r\n            }\r\n          });\r\n          return value;\r\n        },\r\n\r\n        '_evaluate-or': function (model, operations) {\r\n          if (_.isArray(operations)) {\r\n            return _.any(operations, function (operation) {\r\n              return this.matchRules(model, operation);\r\n            }, this);\r\n          }\r\n          return this.matchRules(model, operations, 'any');\r\n        },\r\n\r\n        '_evaluate-and': function (model, operations) {\r\n          if (_.isArray(operations)) {\r\n            return _.all(operations, function (operation) {\r\n              return this.matchRules(model, operation);\r\n            }, this);\r\n          }\r\n          return this.matchRules(model, operations, 'all');\r\n        },\r\n\r\n        '_evaluate-not': function (model, operations) {\r\n          return !this.matchRules(model, operations);\r\n        },\r\n\r\n        '_evaluate-equals': function (model, operands) {\r\n          return this._evaluateEquals(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-equalsNoCase': function (model, operands) {\r\n          return this._evaluateEquals(model, operands, true);\r\n        },\r\n\r\n        _evaluateEquals: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key);\r\n            _.isArray(values) || (values = [values]);\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              return value == actual;\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-contains': function (model, operands) {\r\n          return this._evaluateContains(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-containsNoCase': function (model, operands) {\r\n          return this._evaluateContains(model, operands, true);\r\n        },\r\n\r\n        _evaluateContains: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key) || '';\r\n            actual && (actual = actual.toString()) || (actual = []);\r\n            _.isArray(values) || (values = [values]);\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              return actual.indexOf(value) >= 0;\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-startsWith': function (model, operands) {\r\n          return this._evaluateStartsWith(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-startsWithNoCase': function (model, operands) {\r\n          return this._evaluateStartsWith(model, operands, true);\r\n        },\r\n\r\n        _evaluateStartsWith: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key) || '';\r\n            actual && (actual = actual.toString()) || (actual = '');\r\n            _.isArray(values) || (values = [values]);\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              return actual.indexOf(value) === 0;\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-endsWith': function (model, operands) {\r\n          return this._evaluateEndsWith(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-endsWithNoCase': function (model, operands) {\r\n          return this._evaluateEndsWith(model, operands, true);\r\n        },\r\n\r\n        _evaluateEndsWith: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key) || '';\r\n            actual && (actual = actual.toString()) || (actual = '');\r\n            _.isArray(values) || (values = [values]);\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              return _.str.endsWith(actual, value);\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-matches': function (model, operands) {\r\n          return this._evaluateMatches(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-matchesNoCase': function (model, operands) {\r\n          return this._evaluateMatches(model, operands, true);\r\n        },\r\n\r\n        _evaluateMatches: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key) || '';\r\n            actual && (actual = actual.toString()) || (actual = '');\r\n            _.isArray(values) || (values = [values]);\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              if (typeof value === 'string') {\r\n                value = new RegExp(value);\r\n              }\r\n              return value.test(actual);\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-includes': function (model, operands) {\r\n          return this._evaluateIncludes(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-includesNoCase': function (model, operands) {\r\n          return this._evaluateIncludes(model, operands, true);\r\n        },\r\n\r\n        _evaluateIncludes: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key) || [];\r\n            if (!_.isArray(actual)) {\r\n              if (_.isObject(actual)) {\r\n                actual = Object.keys(actual);\r\n              } else {\r\n                actual = [actual];\r\n              }\r\n            }\r\n            if (!_.isArray(values)) {\r\n              values = [values];\r\n            }\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              return _.contains(actual, value);\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-has': function (model, operands) {\r\n          _.isArray(operands) || (operands = [operands]);\r\n          return _.any(operands, function (name) {\r\n            return this._getRulingPropertyValue(model, name) != null;\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-decides': function (model, methods) {\r\n          _.isArray(methods) || (methods = [methods]);\r\n          return _.any(methods, function (method) {\r\n            return method(model);\r\n          });\r\n        },\r\n\r\n        _normalizeCase: function (actual, values) {\r\n          if (typeof actual === 'string') {\r\n            actual = actual.toLowerCase();\r\n          }\r\n          values = _.map(values, function (value) {\r\n            return typeof value === 'string' ? value.toLowerCase() : value;\r\n          });\r\n          return {\r\n            actual: actual,\r\n            values: values\r\n          };\r\n        }\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return RulesMatchingMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/actionitem',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin'\r\n], function (_, Backbone, RulesMatchingMixin) {\r\n  'use strict';\r\n\r\n  // {\r\n  //   type:        node type to work at (for compatibility only; use operations)\r\n  //   <operation>: selects the action, if it evaluates to true; operations are\r\n  //                equals, differs, includes, excludes, startsWith, endsWith,\r\n  //                decides, or, and, not\r\n  //   signature:   unique identifier of the command to refer to\r\n  //   name:        optional title if the action appears on a label\r\n  //   sequence:    number controlling the priority of processing\r\n  //                this item during the default action evaluation\r\n  // }\r\n\r\n  var ActionItemModel = Backbone.Model.extend({\r\n\r\n    idAttribute: null,\r\n\r\n    defaults: {\r\n      sequence: 100,\r\n      signature: null\r\n    },\r\n\r\n    constructor: function ActionItemModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    },\r\n\r\n    enabled: function (node) {\r\n      // Compatibility with the previous forms with just type property;\r\n      // not with boolean operations working on node properties\r\n      var type = this.get('type');\r\n      if (type !== undefined) {\r\n        return type == node.get('type');\r\n      }\r\n      return this.matchRules(node, this.attributes);\r\n    }\r\n\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(ActionItemModel.prototype);\r\n\r\n  return ActionItemModel;\r\n\r\n});\r\n\n","csui.define('csui/models/actionitems',['csui/lib/underscore', 'csui/lib/backbone', 'csui/models/actionitem'\r\n], function (_, Backbone, ActionItemModel) {\r\n  'use strict';\r\n\r\n  var ActionItemCollection = Backbone.Collection.extend({\r\n\r\n    model: ActionItemModel,\r\n    comparator: 'sequence',\r\n\r\n    constructor: function ActionItemCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findByNode: function (node) {\r\n      return this.find(function (item) {\r\n        return item.enabled(node);\r\n      });\r\n    },\r\n\r\n    getAllSignatures: function () {\r\n      return _.chain(this.pluck('signature'))\r\n          .unique()\r\n          .value();\r\n    },\r\n\r\n    getAllCommandSignatures: function (commands) {\r\n      return _.chain(this.getAllSignatures())\r\n          .map(function (signature) {\r\n            var command = commands.get(signature);\r\n            if (command) {\r\n              signature = command.get('command_key');\r\n              if (_.isArray(signature)) {\r\n                // If there are multiple command keys to check, take just the\r\n                // first one, which is the V2 one needed for the URL query\r\n                var result = signature[0];\r\n                // If the 'default' command key is requested, add the concrete\r\n                // key too; v1 expects 'default' and v2 'open', while the\r\n                // concrete action would be at the third place then.\r\n                if (result === 'default') {\r\n                  result = ['default', 'open', signature[2]];\r\n                }\r\n                return result;\r\n              }\r\n              return signature;\r\n            }\r\n          })\r\n          .flatten()\r\n          .compact()\r\n          .unique()\r\n          .value();\r\n    },\r\n\r\n    getPromotedCommandsSignatures: function () {\r\n      return _.chain(this.getAllSignatures())\r\n          .flatten()\r\n          .compact()\r\n          .unique()\r\n          .value();\r\n    }\r\n\r\n  });\r\n\r\n  return ActionItemCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/addabletype',[\"module\", \"csui/lib/backbone\", \"csui/utils/log\"\r\n], function (module, Backbone, log) {\r\n\r\n  var AddableTypeModel = Backbone.Model.extend({\r\n\r\n    constructor: function AddableTypeModel() {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    parse: function (response) {\r\n      //~ if (log.debug(\"Parsing addableItem \\\"{0}\\\" ({1}, {2}).\",\r\n      //~ response.name, response.id, response.type)) {\r\n      //~ console.log(log.last);\r\n      //~ console.log(response);\r\n      //~ }\r\n\r\n      return response;\r\n    }\r\n\r\n  });\r\n  AddableTypeModel.version = '1.0';\r\n  AddableTypeModel.Hidden = -1;\r\n\r\n  return AddableTypeModel;\r\n\r\n});\r\n\n","csui.define('csui/models/addabletypes',[\"module\", \"csui/lib/backbone\", \"csui/utils/log\", \"csui/models/addabletype\"\r\n], function (module, Backbone, log, AddableTypeModel) {\r\n\r\n  var AddableTypeCollection = Backbone.Collection.extend({\r\n\r\n    model: AddableTypeModel,\r\n\r\n    constructor: function AddableTypeCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.options = options || {};\r\n    }\r\n\r\n  });\r\n  AddableTypeCollection.version = '1.0';\r\n\r\n  return AddableTypeCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/connectable/connectable.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  \"use strict\";\r\n\r\n  var ConnectableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      var originalPrepareModel = prototype._prepareModel;\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeConnectable: function (options) {\r\n          options && options.connector && options.connector.assignTo(this);\r\n          return this;\r\n        },\r\n\r\n        _prepareModel: function (attrs, options) {\r\n          options || (options = {});\r\n          if (!options.connector) {\r\n            options.connector = this.connector;\r\n          }\r\n          return originalPrepareModel.call(this, attrs, options);\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return ConnectableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/ancestor',['module', 'csui/lib/backbone',\r\n  'csui/models/mixins/connectable/connectable.mixin'\r\n], function (module, Backbone, ConnectableMixin) {\r\n\r\n  var AncestorModel = Backbone.Model.extend({\r\n\r\n    constructor: function AncestorModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeConnectable(options);\r\n    },\r\n\r\n    idAttribute: null,\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  ConnectableMixin.mixin(AncestorModel.prototype);\r\n\r\n  return AncestorModel;\r\n\r\n});\r\n\n","csui.define('csui/models/ancestors',[\"module\", \"csui/lib/backbone\", \"csui/utils/log\", \"csui/models/ancestor\"\r\n], function (module, Backbone, log, AncestorModel) {\r\n\r\n  var AncestorCollection = Backbone.Collection.extend({\r\n\r\n    model: AncestorModel,\r\n\r\n    constructor: function AncestorCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.options = options || {};\r\n    }\r\n\r\n  });\r\n  AncestorCollection.version = '1.0';\r\n\r\n  return AncestorCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/expandable/expandable.mixin',['csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  \"use strict\";\r\n\r\n  var ExpandableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeExpandable: function (options) {\r\n          var expand = options && options.expand;\r\n          if (typeof expand === 'string') {\r\n            expand = expand.split(',');\r\n          }\r\n          this.expand = expand || [];\r\n          return this;\r\n        },\r\n\r\n        setExpand: function (name) {\r\n          if (!_.isArray(name)) {\r\n            name = name.split(\",\");\r\n          }\r\n          _.each(name, function (name) {\r\n            if (!_.contains(this.expand, name)) {\r\n              if (this.expand instanceof Object && this.expand.properties) {\r\n                this.expand.properties.push(name);\r\n              } else {\r\n                this.expand.push(name);\r\n              }\r\n            }\r\n          }, this);\r\n        },\r\n\r\n        resetExpand: function (name) {\r\n          if (name) {\r\n            if (!_.isArray(name)) {\r\n              name = name.split(\",\");\r\n            }\r\n            _.each(name, function (name) {\r\n              var index = _.indexOf(this.expand, name);\r\n              if (index >= 0) {\r\n                this.expand.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else {\r\n            this.expand.splice(0, this.expand.length);\r\n          }\r\n        },\r\n\r\n        getExpandableResourcesUrlQuery: function () {\r\n          return {expand: this.expand};\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return ExpandableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/fetchable/fetchable.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/base'\r\n], function (_, $, Backbone, base) {\r\n  'use strict';\r\n\r\n  var FetchableMixin = {\r\n    mixin: function (prototype) {\r\n      var originalFetch = prototype.fetch;\r\n\r\n      return _.extend(prototype, {\r\n        makeFetchable: function (options) {\r\n          this.autoreset = options && options.autoreset;\r\n          // Workaround for change/add/reset events, which are fired before\r\n          // the caller is informed by sync that fetch successed.\r\n          return this.on('reset', this._beforeFetchSucceeded, this)\r\n              .on('add', this._beforeFetchSucceeded, this)\r\n              .on('remove', this._beforeFetchSucceeded, this)\r\n              .on('change', this._beforeFetchSucceeded, this);\r\n        },\r\n\r\n        _beforeFetchSucceeded: function () {\r\n          this._fetchingOriginal && this._fetchSucceeded();\r\n        },\r\n\r\n        _fetchStarted: function () {\r\n          this.fetched = false;\r\n          this.error = null;\r\n        },\r\n\r\n        _fetchSucceeded: function () {\r\n          this._fetchingOriginal = this.fetching = false;\r\n          this.fetched = true;\r\n          this.error = undefined;\r\n        },\r\n\r\n        _fetchFailed: function (jqxhr) {\r\n          this._fetchingOriginal = this.fetching = false;\r\n          this.error = new base.Error(jqxhr);\r\n        },\r\n\r\n        fetch: function (options) {\r\n          var fetching = this.fetching;\r\n          if (!fetching) {\r\n            options = _.defaults(options || {}, {\r\n              cache: true,\r\n              urlBase: this.urlCacheBase? this.urlCacheBase(): undefined\r\n            });\r\n\r\n            this._fetchStarted();\r\n            options = this._prepareFetch(options);\r\n            // Ensure that the model is marked fetched before other events are\r\n            // triggered.  If fetching is not silent, change/add/reset will be\r\n            // triggered earlier: change/add/reset, options.*, sync, promise.\r\n            var self = this,\r\n                success = options.success,\r\n                error = options.error;\r\n            options.success = function () {\r\n              self._fetchSucceeded();\r\n              success && success.apply(this, arguments);\r\n            };\r\n            options.error = function (model, jqxhr, options) {\r\n              self._fetchFailed(jqxhr);\r\n              error && error.apply(this, arguments);\r\n            };\r\n            this._fetchingOriginal = true;\r\n            fetching = originalFetch.call(this, options);\r\n            // If the fetch or sync method are implemented synchronously,\r\n            // model or collection changing events are fired earlier than\r\n            // the original fetch call returns the promise\r\n            if (this._fetchingOriginal) {\r\n              this.fetching = fetching;\r\n            }\r\n          }\r\n          return fetching;\r\n        },\r\n\r\n        _prepareFetch: function (options) {\r\n          // Trigger just one item adding operation after fetching if wanted.\r\n          options || (options = {});\r\n          options.reset === undefined && this.autoreset && (options.reset = true);\r\n          return options;\r\n        },\r\n\r\n        ensureFetched: function (options) {\r\n          if (this.fetched) {\r\n            if (options && options.success) {\r\n              options.success(this);\r\n            }\r\n            return $.Deferred()\r\n                .resolve(this, {}, options)\r\n                .promise();\r\n          }\r\n          return this.fetch(options);\r\n        },\r\n\r\n        invalidateFetch: function () {\r\n          if (!this.fetching) {\r\n            this.fetched = false;\r\n            this.error = null;\r\n            return true;\r\n          }\r\n        },\r\n\r\n        prefetch: function (response, options) {\r\n          var deferred = $.Deferred();\r\n          options = _.defaults(options, {parse: true});\r\n          options = this._prepareFetch(options);\r\n          var silent = options.silent;\r\n          this.error = null;\r\n          this.fetched = false;\r\n          this.fetching = deferred.promise();\r\n          if (!silent) {\r\n            this.trigger('request', this, response, options);\r\n          }\r\n          setTimeout(function () {\r\n            this._fetchSucceeded();\r\n            if (this instanceof Backbone.Model) {\r\n              var attributes = options.parse ? this.parse(response, options) :\r\n                                               response;\r\n              this.set(attributes, options);\r\n            } else {\r\n              var method = options.reset ? 'reset' : 'set';\r\n              this[method](response, options);\r\n            }\r\n            if (options.success) {\r\n              options.success.call(options.context, this, response, options);\r\n            }\r\n            if (!silent) {\r\n              this.trigger('sync', this, response, options);\r\n            }\r\n            deferred.resolve();\r\n          }.bind(this));\r\n          return this.fetching;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return FetchableMixin;\r\n});\r\n\n","csui.define('csui/models/mixins/autofetchable/autofetchable.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  \"use strict\";\r\n\r\n  var AutoFetchableMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeAutoFetchable: function (options) {\r\n          var autofetchEvent = options && options.autofetchEvent;\r\n          if (autofetchEvent) {\r\n            this._autofetchEvent = options.autofetchEvent;\r\n          }\r\n          var autofetch = options && options.autofetch;\r\n          if (autofetch) {\r\n            this.automateFetch(autofetch);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        automateFetch: function (enable) {\r\n          var event = _.result(this, '_autofetchEvent'),\r\n              method = enable ? 'on' : 'off';\r\n          this.autofetch = !!enable;\r\n          this[method](event, _.bind(this._fetchAutomatically, this, enable));\r\n        },\r\n\r\n        isFetchable: function () {\r\n          return !!this.get('id');\r\n        },\r\n\r\n        _autofetchEvent: 'change:id',\r\n\r\n        _fetchAutomatically: function (options) {\r\n          this.isFetchable() && this.fetch(_.isObject(options) && options);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return AutoFetchableMixin;\r\n});\r\n\n","csui.define('csui/models/mixins/resource/resource.mixin',['csui/lib/underscore', 'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/autofetchable/autofetchable.mixin'\r\n], function (_, ConnectableMixin, FetchableMixin, AutoFetchableMixin) {\r\n  'use strict';\r\n\r\n  var ResourceMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      ConnectableMixin.mixin(prototype);\r\n      FetchableMixin.mixin(prototype);\r\n      AutoFetchableMixin.mixin(prototype);\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeResource: function (options) {\r\n          return this.makeConnectable(options)\r\n              .makeFetchable(options)\r\n              .makeAutoFetchable(options);\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return ResourceMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/including.additional.resources/including.additional.resources.mixin',['csui/lib/underscore', 'csui/lib/jquery'\r\n], function (_, $) {\r\n\r\n  var IncludingAdditionalResourcesMixin = {\r\n\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeIncludingAdditionalResources: function (options) {\r\n          this._additionalResources = [];\r\n          if (options && options.includeResources) {\r\n            this.includeResources(options.includeResources);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        includeResources: function (names) {\r\n          if (!_.isArray(names)) {\r\n            names = names.split(',');\r\n          }\r\n          this._additionalResources = _.union(this._additionalResources, names);\r\n        },\r\n\r\n        excludeResources: function (names) {\r\n          if (names) {\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            this._additionalResources = _.reject(this._additionalResources, names);\r\n          } else {\r\n            this._additionalResources.splice(0, this._additionalResources.length);\r\n          }\r\n        },\r\n\r\n        getAdditionalResourcesUrlQuery: function () {\r\n          return _.reduce(this._additionalResources, function (result, parameter) {\r\n            result[parameter] = 'true';\r\n            return result;\r\n          }, {});\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n\r\n  };\r\n\r\n  return IncludingAdditionalResourcesMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/authenticated.user/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var apiBase = new Url(this.connector.connection.url).getApiBase('v1'),\r\n              url = Url.combine(apiBase, '/auth'),\r\n              query = Url.combineQueryString(\r\n                this.getExpandableResourcesUrlQuery(),\r\n                this.getAdditionalResourcesUrlQuery()\r\n              );\r\n          return query ? url + '?' + query : url;\r\n        },\r\n    \r\n        parse: function (response) {\r\n          var user = response.data || {};\r\n          user.perspective = response.perspective;\r\n          return user;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/authenticated.user',[\r\n  'csui/lib/backbone', 'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/including.additional.resources/including.additional.resources.mixin',\r\n  'csui/models/authenticated.user/server.adaptor.mixin'\r\n], function (Backbone, ExpandableMixin, ResourceMixin,\r\n    IncludingAdditionalResourcesMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var AuthenticatedUserModel = Backbone.Model.extend({\r\n    constructor: function AuthenticatedUserModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.makeResource(options)\r\n          .makeIncludingAdditionalResources(options)\r\n          .makeExpandable(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    }\r\n  });\r\n\r\n  IncludingAdditionalResourcesMixin.mixin(AuthenticatedUserModel.prototype);\r\n  ExpandableMixin.mixin(AuthenticatedUserModel.prototype);\r\n  ResourceMixin.mixin(AuthenticatedUserModel.prototype);\r\n  ServerAdaptorMixin.mixin(AuthenticatedUserModel.prototype);\r\n\r\n  return AuthenticatedUserModel;\r\n});\r\n\n","csui.define('csui/models/authenticated.user.node.permission',[\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/including.additional.resources/including.additional.resources.mixin'\r\n], function (_, Backbone, Url, ExpandableMixin, ResourceMixin,\r\n    IncludingAdditionalResourcesMixin) {\r\n  'use strict';\r\n\r\n  var AuthenticatedUserNodePermissionModel = Backbone.Model.extend({\r\n    constructor: function AuthenticatedUserNodePermissionModel(attributes, options) {\r\n      options || (options = {});\r\n\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.makeResource(options)\r\n          .makeIncludingAdditionalResources(options)\r\n          .makeExpandable(options);\r\n      this.options= options;\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    },\r\n\r\n    url: function () {\r\n      var selectedNodeId = this.node ? this.node.get('id') : this.options.node.get('id'),\r\n          userId         = this.options.user.get('id');\r\n      var apiBase = new Url(this.connector.connection.url).getApiBase('v2'),\r\n          url     = Url.combine(apiBase, '/nodes/', selectedNodeId, '/permissions/effective/',\r\n              userId);\r\n\r\n      return url;\r\n    },\r\n\r\n    parse: function (response) {\r\n      var permissions = response.results && response.results.data && response.results.data.permissions;\r\n      if (permissions) {\r\n        if (this.node && !this.node.get('container') && permissions.permissions.indexOf('add_items') !== -1) {\r\n          permissions.permissions.splice(permissions.permissions.indexOf('add_items'), 1);\r\n        }\r\n      } else {\r\n        permissions = {};\r\n      }\r\n      return permissions;\r\n    },\r\n\r\n    hasEditPermissionRights:function () {\r\n      //Added check to provide edit rights to wiki pages(i.e. HTML widgets) only\r\n      /*var nodeType = this.node ? this.node.get('type') : this.options.node.get('type');\r\n      if(nodeType !== 5574) { //Wiki page type- 5574\r\n        return false;\r\n      }*/\r\n      if (this.node && this.node.get(\"permissions_model\") === \"simple\") {\r\n        return false;\r\n      }\r\n      var permissons=this.get(\"permissions\");\r\n      return permissons && _.isArray(permissons) && _.contains(permissons,'edit_permissions');\r\n    }\r\n  });\r\n\r\n  IncludingAdditionalResourcesMixin.mixin(AuthenticatedUserNodePermissionModel.prototype);\r\n  ExpandableMixin.mixin(AuthenticatedUserNodePermissionModel.prototype);\r\n  ResourceMixin.mixin(AuthenticatedUserNodePermissionModel.prototype);\r\n\r\n  return AuthenticatedUserNodePermissionModel;\r\n});\r\n\n","csui.define('csui/models/mixins/uploadable/uploadable.mixin',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone', 'csui/utils/log'\r\n], function (module, _, $, Backbone, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var config = _.extend({\r\n    useJson: false,\r\n    useMock: false,\r\n    usePatch: false,\r\n    metadataPartName: 'body'\r\n  }, module.config());\r\n\r\n  var UploadableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      var originalSync = prototype.sync;\r\n\r\n      // Mixins are applied after the prototype has been defined. This\r\n      // method is supposed to be overridden in the original prototype.\r\n      if (!prototype.prepare) {\r\n        prototype.prepare = function (data, options) {\r\n          return data;\r\n        };\r\n      }\r\n\r\n      // Let model's prototype prepare formData to post otherwise, have a default impl.\r\n      if (!prototype.prepareFormData) {\r\n        prototype.prepareFormData = function (data, options) {\r\n          return {body: JSON.stringify(data)};\r\n        };\r\n      }\r\n\r\n      return _.extend(prototype, {\r\n        makeUploadable: function (options) {\r\n          return this;\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          var useJson          = UploadableMixin.useJSON,\r\n              useMock          = UploadableMixin.mock,\r\n              usePatch         = UploadableMixin.usePatch,\r\n              metadataPartName = UploadableMixin.metadataPartName,\r\n              data             = options.data || options.attrs || this.attributes;\r\n\r\n          // Allow data \"massage\", before sending them to the server.\r\n          if (options.prepare !== false) {\r\n            data = this.prepare(data, options);\r\n          }\r\n\r\n          // Make sure, that POST and PUT urls do not contain the URL query\r\n          // part.  It is not possible to ensure it inside the url function.\r\n          function currectUpdatingUrl() {\r\n            var url = options.url || _.result(model, 'url');\r\n            return url.replace(/\\?.*$/, '');\r\n          }\r\n\r\n          if (method === 'create') {\r\n            log.debug('Creating {0} ({1}).',\r\n                log.getObjectName(this), this.cid) && console.log(log.last);\r\n            if (useMock) {\r\n              // append file, if there is\r\n              _.each(_.keys(options.files || {}), function (key) {\r\n                var files = options.files[key], i;\r\n                if (_.isArray(files) && files.length > 1) {\r\n                  // TODO: Adapt this according to the server support;\r\n                  // currently the server can consume only one file\r\n                  for (i = 0; i < files.length; ++i) {\r\n                    var name = i ? key + i : key;\r\n                    data[name] = files[i];\r\n                  }\r\n                } else if (files) {\r\n                  data[key] = files;\r\n                }\r\n              });\r\n\r\n              _.extend(options, {\r\n                data: data,\r\n                contentType: 'application/json',\r\n                url: currectUpdatingUrl()\r\n              });\r\n            } else if (!_.isEmpty(options.files)) {\r\n              var formData = new FormData();\r\n              data = JSON.stringify(data);\r\n              if (useJson) {\r\n                formData.append(metadataPartName,\r\n                    new Blob([data], {type: 'application/json'}));\r\n              } else {\r\n                formData.append(metadataPartName, data);\r\n              }\r\n\r\n              // append file, if there is\r\n              _.each(_.keys(options.files || {}), function (key) {\r\n                var files = options.files[key], i;\r\n                if (_.isArray(files) && files.length > 1) {\r\n                  // TODO: Adapt this according to the server support;\r\n                  // currently the server can consume only one file\r\n                  for (i = 0; i < files.length; ++i) {\r\n                    var name = i ? key + i : key;\r\n                    formData.append(name, files[i]);\r\n                  }\r\n                } else if (files) {\r\n                  formData.append(key, files, files.name);\r\n                }\r\n              });\r\n\r\n              _.extend(options, {\r\n                data: formData,\r\n                contentType: false,\r\n                url: currectUpdatingUrl()\r\n              });\r\n            } else {\r\n              if (useJson) {\r\n                _.extend(options, {\r\n                  data: JSON.stringify(data),\r\n                  contentType: 'application/json',\r\n                  url: currectUpdatingUrl()\r\n                });\r\n              } else {\r\n                data = this.prepareFormData(data);\r\n                _.extend(options, {\r\n                  data: $.param(data),\r\n                  contentType: 'application/x-www-form-urlencoded',\r\n                  url: currectUpdatingUrl()\r\n                });\r\n              }\r\n            }\r\n          } else if (method === 'update' || method === 'patch') {\r\n            log.debug('Updating {0} ({1}).',\r\n                log.getObjectName(this), this.cid) && console.log(log.last);\r\n            if (!usePatch) {\r\n              method = 'update';\r\n            }\r\n            // Send metadata_token automatically if it is present.\r\n            // TODO: Move this to server adaptor, optionally as a model feature.\r\n            var metadataToken = this.state && this.state.get('metadata_token');\r\n            if (metadataToken != null) {\r\n              data.metadata_token = metadataToken;\r\n            }\r\n            if (useMock) {\r\n              _.extend(options, {\r\n                data: data,\r\n                contentType: 'application/json',\r\n                url: currectUpdatingUrl()\r\n              });\r\n            } else if (useJson) {\r\n              _.extend(options, {\r\n                data: JSON.stringify(data),\r\n                contentType: 'application/json',\r\n                url: currectUpdatingUrl()\r\n              });\r\n            } else {\r\n              data = this.prepareFormData(data);\r\n              _.extend(options, {\r\n                data: $.param(data),\r\n                contentType: 'application/x-www-form-urlencoded',\r\n                url: currectUpdatingUrl()\r\n              });\r\n            }\r\n          }\r\n          return originalSync.call(this, method, model, options);\r\n        }\r\n      });\r\n    },\r\n\r\n    // Set to true to enable tests of PUT and PATCH; once the server\r\n    // accepts application/json content type, change the default to true\r\n    useJSON: config.useJson,\r\n\r\n    // Set to true to enable unit tests of POST, PUT and PATCH; files\r\n    // have to be looked up in the jqxhr settings object\r\n    mock: config.useMock,\r\n\r\n    // Set to true to enable usage of the PATCH verb, if the server\r\n    // supports it\r\n    usePatch: config.usePatch,\r\n\r\n    // Set to true to enable usage of the PATCH verb, if the server\r\n    // supports it\r\n    metadataPartName: config.metadataPartName\r\n  };\r\n\r\n  return UploadableMixin;\r\n});\r\n\n","csui.define('csui/models/member/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        urlRoot: function () {\r\n          var apiBase = new Url(this.connector.connection.url).getApiBase('v1');\r\n          return Url.combine(apiBase, '/members');\r\n        },\r\n\r\n        url: function () {\r\n          var query = Url.combineQueryString(this.getExpandableResourcesUrlQuery()),\r\n              id = this.get('id'),\r\n              url;\r\n          if (id) {\r\n            url = Url.combine(this.urlRoot(), id);\r\n          } else {\r\n            var apiBase = new Url(this.connector.connection.url).getApiBase('v1');\r\n            url = Url.combine(apiBase, '/auth');\r\n          }\r\n          return query ? url + '?' + query : url;\r\n        },\r\n\r\n        parse: function (response) {\r\n          return response.user || response.data || response;\r\n        }\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/member',['csui/lib/backbone',\r\n'csui/models/mixins/expandable/expandable.mixin',\r\n'csui/models/mixins/resource/resource.mixin',\r\n'csui/models/mixins/uploadable/uploadable.mixin',\r\n'csui/models/mixins/including.additional.resources/including.additional.resources.mixin',\r\n'csui/models/member/server.adaptor.mixin'\r\n], function (Backbone, ExpandableMixin, ResourceMixin,\r\n  UploadableMixin, IncludingAdditionalResourcesMixin, ServerAdaptorMixin) {\r\n    'use strict';\r\n\r\n  var MemberModel = Backbone.Model.extend({\r\n\r\n    imageAttribute: 'photo_url',\r\n    \r\n    constructor: function MemberModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.makeResource(options)\r\n          .makeIncludingAdditionalResources(options)\r\n          .makeUploadable(options)\r\n          .makeExpandable(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    }\r\n  });\r\n\r\n  IncludingAdditionalResourcesMixin.mixin(MemberModel.prototype);\r\n  ExpandableMixin.mixin(MemberModel.prototype);\r\n  UploadableMixin.mixin(MemberModel.prototype);\r\n  ResourceMixin.mixin(MemberModel.prototype);\r\n  ServerAdaptorMixin.mixin(MemberModel.prototype);\r\n\r\n  return MemberModel;\r\n});\r\n\n","csui.define('csui/models/authentication',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/member', 'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin', 'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/mixins/including.additional.resources/including.additional.resources.mixin'\r\n], function (_, Backbone, Url, MemberModel, ConnectableMixin, FetchableMixin,\r\n    ExpandableMixin, IncludingAdditionalResourcesMixin) {\r\n  'use strict';\r\n\r\n  var AuthenticationModel = Backbone.Model.extend({\r\n\r\n    constructor: function AuthenticationModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeConnectable(options)\r\n          .makeIncludingAdditionalResources(options)\r\n          .makeFetchable(options)\r\n          .makeExpandable(options);\r\n\r\n      this.user = new MemberModel(this.get(\"user\"), options);\r\n    },\r\n\r\n    idAttribute: null,\r\n\r\n    url: function () {\r\n      var url = Url.combine(this.connector.connection.url, \"auth\"),\r\n          query = Url.combineQueryString(\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getAdditionalResourcesUrlQuery()\r\n          );\r\n      return query ? url + '?' + query : url;\r\n    },\r\n\r\n    parse: function (response) {\r\n      // Normalize the response to have always an user there.\r\n      var user = response.user || (response.user = response.data);\r\n\r\n      // Properties out of data are not passed to the constructor.  This\r\n      // may yet get its own sub-model.\r\n      _.defaults(user, {\r\n        perspective: response.perspective\r\n      });\r\n\r\n      // Parse can be called from the parent constructor, before the\r\n      // of this functional object has finished.  In that case, the\r\n      // raw data will be returned in the parsed object; otherwise\r\n      // they will be set to the existing nested collections.\r\n      if (this.user) {\r\n        this.user.set(user);\r\n      }\r\n\r\n      return response;\r\n    }\r\n\r\n  });\r\n\r\n  IncludingAdditionalResourcesMixin.mixin(AuthenticationModel.prototype);\r\n  ExpandableMixin.mixin(AuthenticationModel.prototype);\r\n  ConnectableMixin.mixin(AuthenticationModel.prototype);\r\n  FetchableMixin.mixin(AuthenticationModel.prototype);\r\n\r\n  return AuthenticationModel;\r\n\r\n});\r\n\n","csui.define('csui/models/clientsidecollection',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/base'\r\n], function (_, Backbone, base) {\r\n  'use strict';\r\n\r\n  function ClientSideCollection() {\r\n    var prototype = {\r\n\r\n      clone: function () {\r\n        // Provide the options; they may include connector and other parameters\r\n        var clone = new this.constructor(this.models, this.options);\r\n        // Clone sub-models not covered by Backbone\r\n        if (this.columns) {\r\n          clone.columns.reset(this.columns.toJSON());\r\n        }\r\n        // Clone properties about the full (not-yet fetched) collection\r\n        clone.actualSkipCount = this.actualSkipCount;\r\n        clone.totalCount = this.totalCount;\r\n        clone.filteredCount = this.filteredCount;\r\n        return clone;\r\n      },\r\n\r\n      _cacheCollection: function () {\r\n        if (this.selfReset !== true) {\r\n          this.selfReset = false;\r\n          this.cachedCollection = this.clone();\r\n        }\r\n      },\r\n\r\n      parse: function (response) {\r\n        this.actualSkipCount = 0;\r\n        this.totalCount = response.results.length;\r\n        this.filteredCount = this.totalCount;\r\n\r\n        this._limitResponse(response.results);\r\n\r\n        this.columns && this.columns.resetColumnsV2(response, this.options);\r\n        return response.results;\r\n      },\r\n\r\n      _limitResponse: function (elements) {\r\n        if (elements && this.skipCount) {\r\n          if (elements.length > this.skipCount) {\r\n            elements.splice(0, this.skipCount);\r\n          } else {\r\n            this.actualSkipCount = 0;\r\n          }\r\n        }\r\n        if (elements && this.topCount) {\r\n          if (elements.length > this.topCount) {\r\n            elements.splice(this.topCount);\r\n          }\r\n        }\r\n      },\r\n\r\n      _resetCollection: function () {\r\n        if (!this.cachedCollection) {\r\n          this._cacheCollection();\r\n        }\r\n        this.workingModels = _.clone(this.cachedCollection.models);\r\n        this.totalCount = this.workingModels.length;\r\n        this.filteredCount = this.workingModels.length;\r\n      },\r\n\r\n      _runAllOperations: function (reset) {\r\n        this._resetCollection();\r\n        this._sortCollection();\r\n        this._filterCollection();\r\n        this._limitCollection();\r\n        this._triggerCollectionResetEvent(reset);\r\n      },\r\n\r\n      _triggerCollectionResetEvent: function (reset) {\r\n        this.models = _.clone(this.workingModels);\r\n        this.length = this.models.length;\r\n        if (reset) {\r\n          this.selfReset = true;\r\n          this.trigger(\"reset\", this);\r\n        }\r\n      },\r\n\r\n      // client-side paging\r\n      setLimit: function (skip, top, fetch) {\r\n        if (this.skipCount != skip || this.topCount != top) {\r\n          this.skipCount = skip;\r\n          this.actualSkipCount = skip;\r\n          this.topCount = top;\r\n\r\n          this._runAllOperations(true);\r\n\r\n          return true;\r\n        }\r\n      },\r\n\r\n      _limitCollection: function () {\r\n        this._limitResponse(this.workingModels);\r\n      },\r\n\r\n      resetLimit: function (fetch) {\r\n        if (this.skipCount) {\r\n          this.skipCount = 0;\r\n          this.topCount = 0;\r\n          this.actualSkipCount = 0;\r\n\r\n          this._resetCollection();\r\n          this._triggerCollectionResetEvent(true);\r\n\r\n          return true;\r\n        }\r\n      },\r\n\r\n      // client-side filtering\r\n      setFilter: function (filterObj) {\r\n        this.filterObj || (this.filterObj = {});\r\n        if (_.isEmpty(filterObj)) {\r\n          this.filterObj = {};\r\n        } else {\r\n          _.extend(this.filterObj, filterObj);\r\n        }\r\n        this._runAllOperations(true);\r\n        return true;\r\n      },\r\n\r\n      clearFilter: function (fetch) {\r\n        if (this.filterObj) {\r\n          this.filterObj = undefined;\r\n          this._resetCollection();\r\n          this._triggerCollectionResetEvent(true);\r\n          return true;\r\n        }\r\n      },\r\n\r\n      _filterCollection: function () {\r\n        for (var name in this.filterObj) {\r\n          if (_.has(this.filterObj, name)) {\r\n            var values = this.filterObj[name];\r\n            if (values != null && values !== '') {\r\n              _.isArray(values) || (values = [values]);\r\n              this.workingModels = _.filter(this.workingModels, function (node) {\r\n                var hay = parseValue(name, node.get(name));\r\n                return _.any(values, function (value) {\r\n                  var needle = parseValue(name, value);\r\n                  if (name === 'type' && needle == -1) {\r\n                    return node.get('container');\r\n                  }\r\n                  return containsValue(hay, needle);\r\n                });\r\n              });\r\n            }\r\n          }\r\n        }\r\n        this.totalCount = this.workingModels.length;\r\n        this.filteredCount = this.workingModels.length;\r\n      },\r\n\r\n      // client-side sorting\r\n      setOrder: function (attributes, fetch) {\r\n        if (this.orderBy != attributes) {\r\n          this.orderBy = attributes;\r\n          this._runAllOperations();\r\n          return true;\r\n        }\r\n      },\r\n\r\n      resetOrder: function (fetch) {\r\n        if (this.orderBy) {\r\n          this.orderBy = undefined;\r\n          this._resetCollection();\r\n          this._triggerCollectionResetEvent();\r\n          return true;\r\n        }\r\n      },\r\n\r\n      _sortCollection: function () {\r\n        if (this.orderBy) {\r\n          var criteria = _.map(this.orderBy.split(','), function (criterium) {\r\n            var parts = criterium.trim().split(' ');\r\n            return {\r\n              property: parts[0],\r\n              descending: parts[1] === 'desc'\r\n            };\r\n          });\r\n\r\n          this.workingModels.sort(function (left, right) {\r\n            var result = 0;\r\n            _.find(criteria, function (criterium) {\r\n              left = parseValue(criterium.property, left.get(criterium.property));\r\n              right = parseValue(criterium.property, right.get(criterium.property));\r\n\r\n              result = compareValues(left, right);\r\n              if (result) {\r\n                if (criterium.descending) {\r\n                  result *= -1;\r\n                }\r\n                return true;\r\n              }\r\n            });\r\n            return result;\r\n          });\r\n        }\r\n      }\r\n\r\n    };\r\n    prototype.ClientSideCollection = _.clone(prototype);\r\n\r\n    return prototype;\r\n  }\r\n\r\n  // TODO: ClientSideBrowsableMixin should be used\r\n  // and ClientSideCollection module disused\r\n\r\n  function compareValues(left, right) {\r\n    if (typeof left === 'string' && typeof right === 'string') {\r\n      // FIXME: Implement the locale-specific comparison only for localizable strings;\r\n      // not for values with internal system constants, which can be case-sensitive\r\n      return base.localeCompareString(left, right, {usage:'sort'});\r\n    }\r\n    if (left != right) {\r\n      if (left > right || right === void 0) {\r\n        return 1;\r\n      }\r\n      if (left < right || left === void 0) {\r\n        return -1;\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function containsValue(hay, needle) {\r\n    if (typeof hay === 'string' && typeof needle === 'string') {\r\n      // FIXME: Implement the locale-specific comparison only for localizable strings;\r\n      // not for values with internal system constants, which can be case-sensitive\r\n      return base.localeContainsString(hay, needle.toString());\r\n    }\r\n    return hay == needle;\r\n  }\r\n\r\n  // FIXME: Use metadata to get the correct value type for parsing\r\n  function parseValue(property, value) {\r\n    if (value != null) {\r\n      if (property === 'type') {\r\n        return +value;\r\n      }\r\n      if (property.indexOf('date') >= 0) {\r\n        return new Date(value);\r\n      }\r\n    }\r\n    return value;\r\n  }\r\n\r\n  return ClientSideCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/column',[\"module\", \"csui/lib/underscore\", \"csui/lib/backbone\", \"csui/utils/url\",\r\n  \"csui/utils/log\"\r\n], function (module, _, Backbone, Url, log) {\r\n\r\n  var ColumnModel = Backbone.Model.extend({\r\n\r\n    constructor: function ColumnModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    idAttribute: null,\r\n\r\n    parse: function (response) {\r\n      //~ if (log.debug(\"Parsing column \\\"{0}\\\" ({1}, {2}).\",\r\n      //~ response.name, response.column_key, response.id)) {\r\n      //~ console.log(log.last);\r\n      //~ console.log(response);\r\n      //~ }\r\n\r\n      // TODO: support these attributes on the server too.\r\n      switch (response.column_key) {\r\n      case \"name\":\r\n        response = _.extend(response, {\r\n          default_action: true,\r\n          contextual_menu: false,\r\n          editable: true,\r\n          filter_key: \"name\"\r\n        });\r\n        break;\r\n      case \"type\":\r\n        response = _.extend(response, {\r\n          default_action: true\r\n        });\r\n        break;\r\n      }\r\n\r\n      return response;\r\n    }\r\n\r\n  });\r\n  ColumnModel.version = '1.0';\r\n\r\n  return ColumnModel;\r\n\r\n});\r\n\n","csui.define('csui/models/columns',[\"module\", \"csui/lib/backbone\",\r\n  \"csui/utils/log\", \"csui/models/column\"\r\n], function (module, Backbone, log, ColumnModel) {\r\n\r\n  var ColumnCollection = Backbone.Collection.extend({\r\n\r\n    model: ColumnModel,\r\n\r\n    constructor: function ColumnCollection() {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n  ColumnCollection.version = '1.0';\r\n\r\n  return ColumnCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/datadefinition',[ \"module\", \"csui/lib/backbone\", \"csui/utils/log\"\r\n],  function ( module, Backbone, log )\r\n  {\r\n    \"use strict\";\r\n\r\n    //\r\n    // Data-Definition Model.\r\n    //\r\n    var DataDefinitionModel = Backbone.Model.extend({\r\n\r\n      constructor: function DataDefinitionModel() {\r\n        Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      },\r\n\r\n      idAttribute: null,\r\n\r\n      parse: function (response) {\r\n        return response;\r\n      }\r\n\r\n    });\r\n\r\n    DataDefinitionModel.version = '1.0';\r\n\r\n    return DataDefinitionModel;\r\n\r\n  });\r\n\n","csui.define('csui/models/datadefinitions',[ \"module\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n         \"csui/utils/log\", \"csui/utils/base\", \"csui/models/datadefinition\"\r\n], function( module, _, Backbone,\r\n             log, base, DataDefinitionModel )\r\n  {\r\n    \"use strict\";\r\n\r\n    //\r\n    // Generic Data-Definition Collection.\r\n    //\r\n    // Params in constructor:\r\n    // - models: can be passed in or undefined\r\n    // - options:\r\n    //   Two possible ways with the 'options' in constructor as in the following examples:\r\n    //   1) options = {\r\n    //        connector: connector,\r\n    //        url: \"api/v1/nodes/2000\"\r\n    //      }\r\n    //   2) options = {\r\n    //        node: node,\r\n    //        [nodeResource: \"actions\"]  // optional\r\n    //      }\r\n    //\r\n    var DataDefinitionCollection = Backbone.Collection.extend({\r\n\r\n      model: DataDefinitionModel,\r\n\r\n      constructor: function DataDefinitionCollection( models, options ) {\r\n        Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n        this.setOptions( options );\r\n      },\r\n\r\n      // public\r\n      setOptions: function( options ) {\r\n        this.options = options ? options : {};\r\n        this.options.connector && this.options.connector.assignTo(this);\r\n        this.options.node && this.options.node.connector && this.options.node.connector.assignTo(this);\r\n      },\r\n\r\n      url: function() {\r\n        var url;\r\n        if( this.options.url ) {\r\n          var cgiPath = new base.Url(this.connector.connection.url).getCgiScript(true);\r\n          url = base.Url.combine( cgiPath, this.options.url );\r\n        } else {\r\n          url = this.options.node && this.options.node.urlBase();\r\n          if( this.options.nodeResource ) {\r\n            url = base.Url.combine( url, this.options.nodeResource );\r\n          }\r\n        }\r\n        return url;\r\n      },\r\n\r\n      fetch: function( options ) {\r\n        log.debug( \"Fetching data-definitions for url '{0}'.\", this.url()) &&\r\n          typeof console !== 'undefined' && console.log( log.last );\r\n\r\n        options || (options = {});\r\n        if( options.reset === undefined ) {\r\n          options.reset = true;\r\n        }\r\n\r\n        return Backbone.Collection.prototype.fetch.call( this, options );\r\n      },\r\n\r\n      parse: function( response, options ) {\r\n        this.data = response.data || {};\r\n        this.definitions = response.definitions || {};\r\n        this.definitions_map = response.definitions_map || {};\r\n        this.definitions_order = response.definitions_order || {};\r\n\r\n        // construct a flat structure\r\n        this.definitions_flat = {};\r\n        _.each( this.definitions, function( def, key ) {\r\n          var definition = _.extend(\r\n            {\r\n              signature: key,\r\n              href: this.data[key]\r\n            },\r\n            def\r\n          );\r\n          this.definitions_flat[key] = definition;\r\n        }, this);\r\n\r\n        return Backbone.Collection.prototype.parse.call( this,\r\n          this.definitions_flat, options);\r\n      },\r\n\r\n      // public\r\n      GetDefinitionsOrder: function() {\r\n        return this.definitions_order;\r\n      },\r\n\r\n      // public\r\n      GetDefinitionMap: function() {\r\n        return this.definitions_map;\r\n      },\r\n\r\n      // public\r\n      GetDefinition: function( signature ) {\r\n        return this.definitions[signature];\r\n      },\r\n\r\n      // public: get the flat definitions structure of data-definitions\r\n      GetFlatCollection: function() {\r\n        return this.definitions_flat || {};\r\n      },\r\n\r\n      // public: return a flat definition based on the requested definition key\r\n      GetFlatDefinition: function( def ) {\r\n        return this.definitions_flat[def];\r\n      }\r\n\r\n    });\r\n\r\n    _.extend( DataDefinitionCollection, { version: '1.0' } );\r\n\r\n    return DataDefinitionCollection;\r\n\r\n  });\r\n\n","csui.define('csui/models/mixins/v2.fields/v2.fields.mixin',['csui/lib/underscore'], function (_) {\r\n  'use strict';\r\n\r\n  var FieldsV2Mixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeFieldsV2: function (options) {\r\n          this.fields = options && options.fields || {};\r\n          return this;\r\n        },\r\n\r\n        hasFields: function (role) {\r\n          if (this.fields[role]) {\r\n            return true;\r\n          }\r\n          if (_.isEmpty(this.fields) && this.collection && this.collection.fields) {\r\n            return role ? !!this.collection.fields[role] : _.isEmpty(this.collection.fields);\r\n          }\r\n          return false;\r\n        },\r\n\r\n        setFields: function (role, names) {\r\n          if (_.isObject(role)) {\r\n            _.each(role, function (value, key) {\r\n              this._setOneFieldSet(key, value);\r\n            }, this);\r\n          } else {\r\n            this._setOneFieldSet(role, names);\r\n          }\r\n        },\r\n\r\n        resetFields: function (role, names) {\r\n          if (_.isObject(role)) {\r\n            _.each(role, function (value, key) {\r\n              this._resetOneFieldSet(key, value);\r\n            }, this);\r\n          } else {\r\n            this._resetOneFieldSet(role, names);\r\n          }\r\n        },\r\n\r\n        getResourceFieldsUrlQuery: function () {\r\n          return _.reduce(this.fields, function (result, names, role) {\r\n            var fields = result.fields || (result.fields = []),\r\n                encodedNames = _.map(names, encodeURIComponent),\r\n                field = encodeURIComponent(role);\r\n            if (encodedNames.length) {\r\n              var dot = field.indexOf('.');\r\n              if (dot > 0) {\r\n                // versions.element(0) -> versions{mime_type}.element(0)\r\n                field = field.substring(0, dot) + '{' + encodedNames.join(',') + '}' +\r\n                        field.substring(dot);\r\n              } else {\r\n                // properties -> properties{name}\r\n                field += '{' + encodedNames.join(',') + '}';\r\n              }\r\n            }\r\n            fields.push(field);\r\n            return result;\r\n          }, {});\r\n        },\r\n\r\n        _setOneFieldSet: function (role, names) {\r\n          var fields = this.fields[role] || (this.fields[role] = []);\r\n          if (names) {\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            _.each(names, function (name) {\r\n              if (!_.contains(fields, name)) {\r\n                fields.push(name);\r\n              }\r\n            }, this);\r\n          }\r\n        },\r\n\r\n        _resetOneFieldSet: function (role, names) {\r\n          if (names) {\r\n            var fields = this.fields[role] || (this.fields[role] = []);\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            _.each(names, function (name) {\r\n              var index = _.indexOf(fields, name);\r\n              if (index >= 0) {\r\n                fields.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else if (role) {\r\n            delete this.fields[role];\r\n          } else {\r\n            _.chain(this.fields)\r\n             .keys()\r\n             .each(function (key) {\r\n               delete this.fields[key];\r\n             }, this);\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    mergePropertyParameters: function (output, input) {\r\n      if (typeof input === 'string') {\r\n        input = input.split(',');\r\n      }\r\n      if (Array.isArray(input)) {\r\n        input = input.reduce(function (result, name) {\r\n          var value = result[name];\r\n          // If all fields or expands in a scope were requested, ensure,\r\n          // that an empty array is assigned to it to include app properties\r\n          if (!value || value.length) {\r\n            result[name] = [];\r\n          }\r\n          return result;\r\n        }, {});\r\n      }\r\n      output || (output = {});\r\n      _.each(input, function (values, name) {\r\n        var target = output[name];\r\n        if (target) {\r\n          _.each(values, function (value) {\r\n            if (!_.contains(target, value)) {\r\n              target.push(value);\r\n            }\r\n          });\r\n        } else {\r\n          output[name] = values;\r\n        }\r\n      });\r\n      return output;\r\n    }\r\n  };\r\n\r\n  return FieldsV2Mixin;\r\n});\r\n\n","csui.define('csui/models/mixins/v2.expandable/v2.expandable.mixin',[\r\n  'csui/lib/underscore', 'csui/models/mixins/v2.fields/v2.fields.mixin'\r\n], function (_, FieldsV2Mixin) {\r\n  'use strict';\r\n\r\n  var ExpandableV2Mixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeExpandableV2: function (options) {\r\n          this.expand = options && options.expand || {};\r\n          return this;\r\n        },\r\n\r\n        hasExpand: function (role) {\r\n          if (this.expand[role]) {\r\n            return true;\r\n          }\r\n          if (_.isEmpty(this.expand) && this.collection && this.collection.expand) {\r\n            return role ? !!this.collection.expand[role] : _.isEmpty(this.collection.expand);\r\n          }\r\n          return false;\r\n        },\r\n\r\n        setExpand: function (role, names) {\r\n          if (_.isObject(role)) {\r\n            _.each(role, function (value, key) {\r\n              this._setOneExpand(key, value);\r\n            }, this);\r\n          } else {\r\n            this._setOneExpand(role, names);\r\n          }\r\n        },\r\n\r\n        resetExpand: function (role, names) {\r\n          if (_.isObject(role)) {\r\n            _.each(role, function (value, key) {\r\n              this._resetOneExpand(key, value);\r\n            }, this);\r\n          } else {\r\n            this._resetOneExpand(role, names);\r\n          }\r\n        },\r\n\r\n        getExpandableResourcesUrlQuery: function () {\r\n          return _.reduce(this.expand, function (result, names, role) {\r\n            var expand = result.expand || (result.expand = []),\r\n                encodedNames = _.map(names, encodeURIComponent),\r\n                expandable = encodeURIComponent(role);\r\n            if (encodedNames.length) {\r\n              expandable += '{' + encodedNames.join(',') + '}';\r\n            }\r\n            expand.push(expandable);\r\n            return result;\r\n          }, {});\r\n        },\r\n\r\n        _setOneExpand: function (role, names) {\r\n          var expand = this.expand[role] || (this.expand[role] = []);\r\n          if (names) {\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            _.each(names, function (name) {\r\n              if (!_.contains(expand, name)) {\r\n                expand.push(name);\r\n              }\r\n            }, this);\r\n          }\r\n        },\r\n\r\n        _resetOneExpand: function (role, names) {\r\n          if (names) {\r\n            var expand = this.expand[role] || (this.expand[role] = []);\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            _.each(names, function (name) {\r\n              var index = _.indexOf(expand, name);\r\n              if (index >= 0) {\r\n                expand.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else if (role) {\r\n            delete this.expand[role];\r\n          } else {\r\n            _.chain(this.expand)\r\n             .keys()\r\n             .each(function (key) {\r\n               delete this.expand[key];\r\n             }, this);\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    mergePropertyParameters: FieldsV2Mixin.mergePropertyParameters\r\n  };\r\n\r\n  return ExpandableV2Mixin;\r\n});\r\n\n","csui.define('csui/models/mixins/state.requestor/state.requestor.mixin',[\r\n  'csui/lib/underscore'\r\n],function (_) {\r\n  'use strict';\r\n\r\n  var StateRequestorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeStateRequestor: function (options) {\r\n          this.stateEnabled = options && options.stateEnabled;\r\n          return this;\r\n        },\r\n\r\n        enableState: function () {\r\n          this.stateEnabled = true;\r\n        },\r\n\r\n        disableState: function () {\r\n          this.stateEnabled = false;\r\n        },\r\n\r\n        getStateEnablingUrlQuery: function () {\r\n          var stateEnabled = this.stateEnabled != null ? this.stateEnabled :\r\n            this.collection && this.collection.stateEnabled;\r\n          return stateEnabled ? {state: ''} : {};\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return StateRequestorMixin;\r\n});\r\n\n","csui.define('csui/models/mixins/state.carrier/state.carrier.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/state.requestor/state.requestor.mixin'\r\n], function (_, Backbone, StateRequestorMixin) {\r\n  'use strict';\r\n\r\n  var StateCarrierMixin = {\r\n    mixin: function (prototype) {\r\n      StateRequestorMixin.mixin(prototype);\r\n\r\n      return _.extend(prototype, {\r\n        makeStateCarrier: function (options, attributes) {\r\n          this.state = new Backbone.Model(getStateAttributes(attributes));\r\n          return this.makeStateRequestor(options);\r\n        },\r\n\r\n        setState: function (attributes) {\r\n          if (this.state) {\r\n            var state = getStateAttributes(attributes);\r\n            if (state) {\r\n              this.state.set(state);\r\n            }\r\n          }\r\n        },\r\n\r\n        parseState: function (node, results, role) {\r\n          // TODO: Allow states for other fields, than \"properties\"\r\n          node.state = getStateAttributes(results);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  function getStateAttributes(attributes) {\r\n    var state = attributes && attributes.state;\r\n    return state && state.properties || state;\r\n  }\r\n\r\n  return StateCarrierMixin;\r\n});\r\n\n","csui.define('csui/models/mixins/v2.commandable/v2.commandable.mixin',['csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  \"use strict\";\r\n\r\n  var CommandableV2Mixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeCommandableV2: function (options) {\r\n          var commands = options && options.commands;\r\n          if (typeof commands === 'string') {\r\n            commands = commands.split(',');\r\n          }\r\n          this.commands = commands || [];\r\n          return this;\r\n        },\r\n\r\n        setCommands: function (name) {\r\n          if (!_.isArray(name)) {\r\n            name = name.split(\",\");\r\n          }\r\n          _.each(name, function (name) {\r\n            if (!_.contains(this.commands, name)) {\r\n              this.commands.push(name);\r\n            }\r\n          }, this);\r\n        },\r\n\r\n        resetCommands: function (name) {\r\n          if (name) {\r\n            if (!_.isArray(name)) {\r\n              name = name.split(\",\");\r\n            }\r\n            _.each(name, function (name) {\r\n              var index = _.indexOf(this.commands, name);\r\n              if (index >= 0) {\r\n                this.commands.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else {\r\n            this.commands.splice(0, this.commands.length);\r\n          }\r\n        },\r\n\r\n        getRequestedCommandsUrlQuery: function () {\r\n          return this.commands.length && {actions: this.commands};\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return CommandableV2Mixin;\r\n\r\n});\r\n\n","csui.define('csui/models/node.actions/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      var originalFetch = prototype.fetch;\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        fetch: function (options) {\r\n          // Use POST with body (instead of GET) to avoid too long server call URL that fails\r\n          var data = {};\r\n          !!this.parent_id && (data.reference_id = this.parent_id);\r\n          data.ids = this.nodes;\r\n          data.actions = this.getRequestedCommandsUrlQuery().actions;\r\n          var postOptions = options || {};\r\n          _.extend(postOptions, {\r\n            type: 'POST',\r\n            url: Url.combine(this.connector.getConnectionUrl().getApiBase('v2'), '/nodes/actions'),\r\n            contentType: 'application/x-www-form-urlencoded',\r\n            data: {body: JSON.stringify(data)}\r\n          });\r\n\r\n          return originalFetch.call(this, postOptions);\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          // FIXME: Remove this, as soon as all servers support GET v2/nodes/actions.\r\n          if (_.isArray(response)) {\r\n            return response;\r\n          }\r\n          // from { node_id: { data: { command_key: { ... }, ... }, ... }\r\n          // to [ { id: node_id, actions: [ { signature: command_key, ... }, ... ] }, ... ]\r\n          return _.map(response.results, function (value, key) {\r\n            return {\r\n              id: key,\r\n              actions: _.map(value.data, function (value, key) {\r\n                value.signature = key;\r\n                return value;\r\n              })\r\n            };\r\n          }, {});\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/node.actions',['csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/url', 'csui/models/actions',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/node.actions/server.adaptor.mixin'\r\n], function (_, Backbone, Url, ActionCollection,\r\n    ConnectableMixin, FetchableMixin, CommandableMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var NodeActionModel = Backbone.Model.extend({\r\n\r\n    constructor: function NodeActionModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n      this.actions = new ActionCollection(attributes && attributes.actions);\r\n    }\r\n\r\n  });\r\n\r\n  var NodeActionCollection = Backbone.Collection.extend({\r\n\r\n    model: NodeActionModel,\r\n\r\n    constructor: function NodeActionCollection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      var nodes = options && options.nodes;\r\n      if (typeof nodes === 'string') {\r\n        nodes = nodes.split(',');\r\n      }\r\n      this.nodes = nodes || [];\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeCommandableV2(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    setNodes: function (nodes) {\r\n      if (!_.isArray(nodes)) {\r\n        nodes = nodes.split(',');\r\n      }\r\n      _.each(nodes, function (node) {\r\n        if (!_.contains(this.nodes, node)) {\r\n          this.nodes.push(node);\r\n        }\r\n      }, this);\r\n    },\r\n\r\n    resetNodes: function (nodes) {\r\n      if (nodes) {\r\n        if (!_.isArray(nodes)) {\r\n          nodes = nodes.split(',');\r\n        }\r\n        _.each(nodes, function (node) {\r\n          var index = _.indexOf(this.nodes, node);\r\n          if (index >= 0) {\r\n            this.nodes.splice(index, 1);\r\n          }\r\n        }, this);\r\n      } else {\r\n        this.nodes = [];\r\n      }\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.models, {\r\n        connector: this.connector,\r\n        nodes: _.clone(this.nodes),\r\n        commands: _.clone(this.includeCommands)\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  ConnectableMixin.mixin(NodeActionCollection.prototype);\r\n  FetchableMixin.mixin(NodeActionCollection.prototype);\r\n  CommandableMixin.mixin(NodeActionCollection.prototype);\r\n  ServerAdaptorMixin.mixin(NodeActionCollection.prototype);\r\n\r\n  return NodeActionCollection;\r\n\r\n});\r\n\n","csui.define('csui/utils/promoted.actionitems',[\r\n  'csui/lib/underscore', 'csui/models/actionitems'\r\n], function (_, ActionItemCollection, extraActions) {\r\n  'use strict';\r\n\r\n  var promotedActionItems = new ActionItemCollection([\r\n    // Default for versions is always version open command\r\n    {\r\n      signature: 'properties',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'unreserve',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'permissions',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'reserve',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'rename',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'share',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'edit',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'copy',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'move',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'download',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'comment',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'open',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'delete',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'browse',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'addversion',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'editpermissions',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'versionscontrol',\r\n      sequence: 10\r\n    }\r\n  ]);\r\n\r\n  return promotedActionItems;\r\n});\r\n\n","// Adds the deepClone method to _, Backbone.Model and Backbone.Collection\r\ncsui.define('csui/utils/deepClone/deepClone',['csui/lib/underscore', 'csui/lib/backbone'], function (_, Backbone) {\r\n\r\n  // See https://gist.github.com/prantlf/6d134475af24d4b2f7de\r\n\r\n  // Performs a deep clone of primitive values, arrays, object literals,\r\n  // and arbitrary objects, if requested.  It is supposed to clone object\r\n  // literals, which are going to be modified, but the original should\r\n  // stay intact.\r\n  //\r\n  // The default behaviour works well with JSON REST API responses and\r\n  // and other objects, which contain only values of native types.\r\n  // If functions or HTML elements are encountered, they will not be\r\n  // actually cloned; they will be just copied, which works well with\r\n  // the typical options objects for Backbone constructors.\r\n  // If arbitrary objects can be encountered, additional options can\r\n  // be used to specify the result:\r\n  //\r\n  // default behaviour\r\n  // : Throws an error\r\n  // cloneCloneableObjects: true\r\n  // : Uses deepClone or clone method, if available.\r\n  // cloneArbitraryObjects: true\r\n  // : Creates new objects with clones own properties of the original.\r\n  // copyArbitraryObjects\r\n  // : Copies the original.\r\n  //\r\n  // This function depends on Underscore.js.\r\n  function deepClone(source, options) {\r\n    var result = {},\r\n        key;\r\n    if (!source || typeof source !== 'object' || source instanceof HTMLElement ||\r\n        _.isBoolean(source) || _.isNumber(source) || _.isString(source)) {\r\n      return source;\r\n    }\r\n    if (_.isDate(source) || _.isRegExp(source)) {\r\n      return new source.constructor(source.valueOf());\r\n    }\r\n    if (_.isArray(source)) {\r\n      return _.map(source, function (obj) {\r\n        return _.deepClone(obj);\r\n      });\r\n    }\r\n    if (source.constructor !== Object) {\r\n      if (options) {\r\n        if (options.cloneCloneableObjects) {\r\n          if (source.deepClone) {\r\n            return source.deepClone();\r\n          }\r\n          if (source.clone) {\r\n            return source.clone();\r\n          }\r\n        }\r\n        if (options.copyArbitraryObjects) {\r\n          return source;\r\n        }\r\n        if (!options.cloneArbitraryObjects) {\r\n          throw new Error('Cannot clone an arbitrary function object instance');\r\n        }\r\n      } else {\r\n        throw new Error('Cannot clone an arbitrary function object instance');\r\n      }\r\n    }\r\n    return _.reduce(source, function (result, value, key) {\r\n      result[key] = deepClone(value);\r\n      return result;\r\n    }, {});\r\n  }\r\n\r\n  // Expose deepClone among the Underscore.js methods\r\n  _.mixin({deepClone: deepClone});\r\n\r\n  // Add deepClone to the Backbone.Model prototype\r\n  Backbone.Model.prototype.deepClone = function (options) {\r\n    return new this.constructor(deepClone(this.attributes, options));\r\n  };\r\n\r\n  // Add deepClone to the Backbone.Collection prototype\r\n  Backbone.Collection.prototype.deepClone = function (options) {\r\n    return new this.constructor(this.map(function (model) {\r\n      return deepClone(model.attributes, options);\r\n    }));\r\n  };\r\n\r\n  return deepClone;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/models/node.actions',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin', 'csui/utils/promoted.actionitems',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, $, Backbone, NodeActionCollection, CommandableV2Mixin, promotedActionItems) {\r\n  'use strict';\r\n\r\n  var DelayedCommandableV2Mixin = {\r\n    mixin: function (prototype) {\r\n      CommandableV2Mixin.mixin(prototype);\r\n\r\n      var originalPrepareModel = prototype._prepareModel;\r\n\r\n      return _.extend(prototype, {\r\n        makeDelayedCommandableV2: function (options) {\r\n          options || (options = {});\r\n          var defaultActionCommands = options.defaultActionCommands;\r\n          var promotedActionCommands = options.promotedActionCommands ||\r\n                                       promotedActionItems.getPromotedCommandsSignatures();\r\n          var nonPromotedActionCommands = options.nonPromotedActionCommands || [];\r\n          if (typeof defaultActionCommands === 'string') {\r\n            defaultActionCommands = defaultActionCommands.split(',');\r\n          }\r\n          this.defaultActionCommands = defaultActionCommands || [];\r\n          this.promotedActionCommands = promotedActionCommands;\r\n          this.nonPromotedActionCommands = nonPromotedActionCommands || [];\r\n          this.delayedActions = new NodeActionCollection(undefined, {\r\n            connector: options.connector\r\n          });\r\n\r\n          this.nonPromotedActions = new NodeActionCollection(undefined, {\r\n            isNonPromoted: true,\r\n            connector: options.connector\r\n          });\r\n\r\n          this.additionalActions = new NodeActionCollection(undefined, {\r\n            isNonPromoted: true,\r\n            connector: options.connector\r\n          });\r\n\r\n          this.setEnabledDelayRestCommands(options.delayRestCommands,\r\n              options.promoteSomeRestCommands);\r\n\r\n          this.delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n\r\n          this.promotedActionItemsFromControler = promotedActionItems;\r\n\r\n          return this.makeCommandableV2(options);\r\n        },\r\n\r\n        setEnabledDelayRestCommands: function (enable, promoted) {\r\n          if (enable) {\r\n            this._enableDelayRestCommands();\r\n          } else {\r\n            this._disableDelayRestCommands();\r\n          }\r\n          this.promoteSomeRestCommands = promoted !== false;\r\n        },\r\n\r\n        setEnabledLazyActionCommands: function (enable) {\r\n          var deferred = $.Deferred();\r\n          if (enable) {\r\n            this._enableNonPromotedRestCommands();\r\n            this._requestsNonPromotedRestActions()\r\n                .done(function (node) {\r\n                  deferred.resolve(node);\r\n                })\r\n                .fail(function (error) {\r\n                  deferred.reject(error);\r\n                });\r\n          } else {\r\n            this._disableNonPromotedRestCommands();\r\n          }\r\n          return deferred.promise();\r\n        },\r\n\r\n        // Use this method if your module needs to retrieve additional actions.\r\n        getAdditionalActionCommands: function (signatures, retrievedFlagOnNode) {\r\n          var deferred = $.Deferred();\r\n          this._requestAdditionalActions(signatures, retrievedFlagOnNode)\r\n              .done(_.bind(function (node) {\r\n                deferred.resolve(node);\r\n              }, this))\r\n              .fail(function (error) {\r\n                deferred.reject(error);\r\n              });\r\n          return deferred.promise();\r\n        },\r\n\r\n        _enableDelayRestCommands: function () {\r\n          if (!this.delayRestCommands) {\r\n            this.delayRestCommands = true;\r\n            this.on('sync', this._requestRestActions, this);\r\n          }\r\n        },\r\n\r\n        _disableDelayRestCommands: function () {\r\n          if (this.delayRestCommands) {\r\n            this.delayRestCommands = false;\r\n            this.off('sync', this._requestRestActions, this);\r\n          }\r\n        },\r\n\r\n        _enableNonPromotedRestCommands: function () {\r\n          if (!this.enableNonPromotedCommands) {\r\n            this.enableNonPromotedCommands = true;\r\n            this.on('sync', this._requestsNonPromotedRestActions, this);\r\n          }\r\n        },\r\n\r\n        _disableNonPromotedRestCommands: function () {\r\n          this.enableNonPromotedCommands = false;\r\n          this.off('sync', this._requestsNonPromotedRestActions, this);\r\n        },\r\n\r\n        _requestRestActions: function (model, resp, options) {\r\n          // Guard against propagated sync event: if this mixin has been\r\n          // applied to a collection, only fetch of the collection should\r\n          // be handled here; fetching of models should not re-fetch actions\r\n          // for the whole collection.\r\n          // Also do nothing if the collection is empty.\r\n          if (model !== this || this instanceof Backbone.Collection && !this.length) {\r\n            return;\r\n          }\r\n          // request delayed actions only when fetching (POST is also used for fetching)\r\n          if (options.xhr &&\r\n              (options.xhr.settings.type !== 'GET' && options.xhr.settings.type !== 'POST')) {\r\n            return;\r\n          }\r\n          if (this.promoteSomeRestCommands) {\r\n            this._requestPromotedActions(model, resp, options);\r\n          } else {\r\n            this._requestDelayedActions(model, resp, options);\r\n          }\r\n        },\r\n\r\n        _requestDelayedActions: function () {\r\n          var defaultActionCommands = this.defaultActionCommands;\r\n          var restCommands = _.reject(this.commands, function (command) {\r\n            return _.contains(defaultActionCommands, command);\r\n          });\r\n          if (restCommands.length) {\r\n            var delayedActions = this.delayedActions;\r\n            delayedActions.resetCommands();\r\n            delayedActions.setCommands(restCommands);\r\n            delayedActions.resetNodes();\r\n            if (this instanceof Backbone.Collection) {\r\n              delayedActions.setNodes(this.pluck('id'));\r\n            } else {\r\n              delayedActions.setNodes([this.get('id')]);\r\n            }\r\n            if (!delayedActions.connector) {\r\n              this.connector.assignTo(delayedActions);\r\n            }\r\n            delayedActions.parent_id = !!this.node ? this.node.get(\"id\") : this.get(\"id\");\r\n            delayedActions\r\n                .once('sync', _.bind(this._updateOriginalActions, this))\r\n                .fetch({reset: true});\r\n          }\r\n        },\r\n\r\n        _requestPromotedActions: function (model) {\r\n          var defaultActionCommands  = this.defaultActionCommands,\r\n              promotedActionCommands = this.promotedActionCommands;\r\n\r\n          //NonPromotedActionCommands = allCommands - defaultActionCommnads - promotedActionCommands\r\n          //DelayActions = (allCommands - defaultActionCommnads) Intersect promotedActionCommands;\r\n          var restCommands        = _.reject(this.commands, function (command) {\r\n                return _.contains(defaultActionCommands, command);\r\n              }),\r\n              promotedCommands    = [],\r\n              nonPromotedCommands = [];\r\n          _.each(restCommands, function (command) {\r\n            if (_.contains(promotedActionCommands, command)) { //CurrentPromotedActions\r\n              promotedCommands.push(command); // Delay Commands\r\n            }\r\n            else {\r\n              nonPromotedCommands.push(command); // nonpromoted Commands\r\n            }\r\n          });\r\n\r\n          this.promotedActionCommands = promotedCommands;\r\n          this.nonPromotedActionCommands = nonPromotedCommands;\r\n          ///remove other commands which are not declared in toolbarItems\r\n          if (promotedCommands.length) {\r\n            var delayedActions = this.delayedActions;\r\n            delayedActions.resetCommands();\r\n            delayedActions.setCommands(promotedCommands);\r\n            delayedActions.resetNodes();\r\n            if (this instanceof Backbone.Collection) {\r\n              var restNodes = [];\r\n              this.each(function (model) {\r\n                //update node model with promoted and nonpromoted commands list, Since we are\r\n                // not fetching every node info individually\r\n                model.nonPromotedActionCommands = nonPromotedCommands;\r\n                model.promotedActionCommands = promotedCommands;\r\n                if (!model.get('csuiDelayedActionsRetrieved')) {\r\n                  restNodes.push(model.get('id'));\r\n                }\r\n              });\r\n              delayedActions.setNodes(restNodes);\r\n            } else {\r\n              model.nonPromotedActionCommands = nonPromotedCommands;\r\n              model.promotedActionCommands = promotedCommands;\r\n              delayedActions.setNodes([this.get('id')]);\r\n            }\r\n            delayedActions.parent_id = !!this.node ? this.node.get(\"id\") : this.get(\"id\");\r\n            if (delayedActions.nodes.length > 0) {\r\n              if (!delayedActions.connector) {\r\n                this.connector.assignTo(delayedActions);\r\n              }\r\n              delayedActions\r\n                  .fetch({\r\n                    reset: true,\r\n                    // Update the actions as soon as possible; event\r\n                    // and promise can be watched by someone else\r\n                    success: _.bind(this._updateOriginalActions, this)\r\n                  });\r\n            }\r\n          } else {\r\n            //update node with promoted and non-promoted commands list If there are no promoted\r\n            // commands\r\n            if (this instanceof Backbone.Collection) {\r\n              this.each(function (model) {\r\n                model.nonPromotedActionCommands = nonPromotedCommands;\r\n                model.promotedActionCommands = promotedCommands;\r\n              });\r\n            } else {\r\n              model.nonPromotedActionCommands = nonPromotedCommands;\r\n              model.promotedActionCommands = promotedCommands;\r\n            }\r\n          }\r\n        },\r\n\r\n        _requestsNonPromotedRestActions: function () {\r\n          var deferred = $.Deferred();\r\n          var nonPromotedActions        = this.nonPromotedActions,\r\n              nonPromotedActionCommands = this.nonPromotedActionCommands.length ?\r\n                                          this.nonPromotedActionCommands :\r\n                                          this.collection.nonPromotedActionCommands;\r\n          nonPromotedActions.resetCommands();\r\n          nonPromotedActions.setCommands(nonPromotedActionCommands);\r\n          nonPromotedActions.resetNodes();\r\n          if (this instanceof Backbone.Collection) {\r\n            var restNodes = [];\r\n            this.each(function (model) {\r\n              if (!model.get('csuiLazyActionsRetrieved') && !model.isLocallyCreated) {\r\n                restNodes.push(model.get('id'));\r\n              }\r\n            });\r\n            nonPromotedActions.parent_id = this.length && this.models[0].get(\"reference_id\");\r\n            nonPromotedActions.setNodes(restNodes);\r\n          } else {\r\n            nonPromotedActions.setNodes([this.get('id')]);\r\n            nonPromotedActions.parent_id = this.get(\"reference_id\");\r\n          }\r\n\r\n          if (!nonPromotedActions.connector) {\r\n            this.connector.assignTo(nonPromotedActions);\r\n          }\r\n          if (nonPromotedActions.commands.length && nonPromotedActions.nodes.length) {\r\n            nonPromotedActions\r\n                .fetch({\r\n                  reset: true,\r\n                  // Update the actions as soon as possible; event\r\n                  // and promise can be watched by someone else\r\n                  success: _.bind(function () {\r\n                    this._updateOriginalActionsAfterLazyActions();\r\n                    //this.attributes.csuiLazyActionsRetrieved =  true;\r\n                    deferred.resolve(this);\r\n                  }, this),\r\n                  error: _.bind(function (error) {\r\n                    this.attributes.csuiLazyActionsRetrieved = false;\r\n                    deferred.reject(error);\r\n                  }, this)\r\n                });\r\n          } else {\r\n            if (this instanceof Backbone.Collection) {\r\n              this.each(function (model) {\r\n                model.set('csuiLazyActionsRetrieved', true);\r\n              });\r\n            } else {\r\n              this.set('csuiLazyActionsRetrieved', true);\r\n            }\r\n            deferred.resolve(this);\r\n          }\r\n          return deferred.promise();\r\n        },\r\n\r\n        _requestAdditionalActions: function (signatures, retrievedFlagOnNode) {\r\n          var deferred = $.Deferred();\r\n          var additionalActions = this.additionalActions;\r\n          additionalActions.resetCommands();\r\n          additionalActions.setCommands(signatures);\r\n          additionalActions.resetNodes();\r\n          if (this instanceof Backbone.Collection) {\r\n            var restNodes = [];\r\n            this.each(function (model) {\r\n              if (!model.get(retrievedFlagOnNode) && !model.isLocallyCreated) {\r\n                restNodes.push(model.get('id'));\r\n              }\r\n            });\r\n            additionalActions.parent_id = this.length && this.models[0].get(\"reference_id\");\r\n            additionalActions.setNodes(restNodes);\r\n          } else {\r\n            additionalActions.setNodes([this.get('id')]);\r\n            additionalActions.parent_id = this.get(\"reference_id\");\r\n          }\r\n\r\n          if (!additionalActions.connector) {\r\n            this.connector.assignTo(additionalActions);\r\n          }\r\n          if (additionalActions.commands.length && additionalActions.nodes.length) {\r\n            additionalActions\r\n                .fetch({\r\n                  reset: true,\r\n                  // Update the actions as soon as possible; event\r\n                  // and promise can be watched by someone else\r\n                  success: _.bind(function () {\r\n                    this._updateOriginalActionsAfterAdditionalActions(retrievedFlagOnNode);\r\n                    deferred.resolve(this);\r\n                  }, this),\r\n                  error: _.bind(function (error) {\r\n                    this.attributes[retrievedFlagOnNode] = false;\r\n                    deferred.reject(error);\r\n                  }, this)\r\n                });\r\n          } else {\r\n            if (this instanceof Backbone.Collection) {\r\n              this.each(function (model) {\r\n                model.set(retrievedFlagOnNode, true);\r\n              });\r\n            } else {\r\n              this.set(retrievedFlagOnNode, true);\r\n            }\r\n            deferred.resolve(this);\r\n          }\r\n          return deferred.promise();\r\n        },\r\n\r\n        _updateOriginalActions: function () {\r\n          var delayedActions = this.delayedActions;\r\n\r\n          function updateNodeActions(node) {\r\n            var actionNode = delayedActions.get(node.get('id'));\r\n            if (actionNode) {\r\n              node.actions.add(actionNode.actions.models);\r\n              node.set('csuiDelayedActionsRetrieved', true);\r\n            }\r\n          }\r\n\r\n          if (this instanceof Backbone.Collection) {\r\n            this.each(updateNodeActions);\r\n          } else {\r\n            updateNodeActions(this);\r\n          }\r\n        },\r\n\r\n        _updateOriginalActionsAfterLazyActions: function () {\r\n          var nonPromotedActions = this.nonPromotedActions,\r\n              updateNodeActions  = function (node) {\r\n                node.attributes.csuiLazyActionsRetrieved = true;\r\n                var actionNode = nonPromotedActions.get(node.get('id'));\r\n                if (actionNode) {\r\n                  _.each(actionNode.actions.models, function (action) {\r\n                    action.attributes.csuiNonPromotedAction = true;\r\n                  });\r\n                  node.actions.add(actionNode.actions.models);\r\n                }\r\n              };\r\n\r\n          if (this instanceof Backbone.Collection) {\r\n            this.each(updateNodeActions);\r\n          } else {\r\n            updateNodeActions(this);\r\n          }\r\n        },\r\n\r\n        _updateOriginalActionsAfterAdditionalActions: function (retrievedFlagOnNode) {\r\n          var additionalActions = this.additionalActions,\r\n              updateNodeActions = function (node) {\r\n                node.attributes[retrievedFlagOnNode] = true;\r\n                var actionNode = additionalActions.get(node.get('id'));\r\n                if (actionNode) {\r\n                  _.each(actionNode.actions.models, function (action) {\r\n                    action.attributes.csuiNonPromotedAction = true;\r\n                  });\r\n                  node.actions.add(actionNode.actions.models);\r\n                }\r\n              };\r\n\r\n          if (this instanceof Backbone.Collection) {\r\n            this.each(updateNodeActions);\r\n          } else {\r\n            updateNodeActions(this);\r\n          }\r\n        },\r\n\r\n        setDefaultActionCommands: function (name) {\r\n          if (!_.isArray(name)) {\r\n            name = name.split(',');\r\n          }\r\n          _.each(name, function (name) {\r\n            if (!_.contains(this.defaultActionCommands, name)) {\r\n              this.defaultActionCommands.push(name);\r\n            }\r\n          }, this);\r\n        },\r\n\r\n        resetDefaultActionCommands: function (name) {\r\n          if (name) {\r\n            if (!_.isArray(name)) {\r\n              name = name.split(',');\r\n            }\r\n            _.each(name, function (name) {\r\n              var index = _.indexOf(this.defaultActionCommands, name);\r\n              if (index >= 0) {\r\n                this.defaultActionCommands.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else {\r\n            this.defaultActionCommands.splice(0, this.defaultActionCommands.length);\r\n          }\r\n        },\r\n\r\n        getRequestedCommandsUrlQuery: function () {\r\n          var commands = this.delayRestCommands ?\r\n                         this.defaultActionCommands : this.commands;\r\n          return commands.length && {actions: commands};\r\n        },\r\n\r\n        getAllCommandsUrlQuery: function () {\r\n          var commands = this.commands;\r\n          return commands.length && {actions: commands};\r\n        },\r\n\r\n        // Stop the delayed action enabling for child models and collections.\r\n        // If they want it, they can do so in the constructors, which creates\r\n        // them. Immediate child models of this collection can be enabled by\r\n        // the delayRestCommandsForModels option.\r\n        _prepareModel: function (attrs, options) {\r\n          var delayRestCommands, delayRestCommandsForModels,\r\n              promoteSomeRestCommands;\r\n          options || (options = {});\r\n          // If the collection is populated after the constructor has\r\n          // finished, we can use parameters passed to the constructor\r\n          // as defaults, if the population options are empty.\r\n          delayRestCommands = options.delayRestCommands;\r\n          delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n          promoteSomeRestCommands = options.promoteSomeRestCommands;\r\n          if (this.delayedActions) {\r\n            if (delayRestCommands === undefined) {\r\n              delayRestCommands = this.delayRestCommands;\r\n            }\r\n            if (delayRestCommandsForModels === undefined) {\r\n              delayRestCommandsForModels = this.delayRestCommandsForModels;\r\n            }\r\n            if (promoteSomeRestCommands === undefined) {\r\n              promoteSomeRestCommands = this.promoteSomeRestCommands;\r\n            }\r\n          }\r\n          options.delayRestCommands = delayRestCommandsForModels;\r\n          options.delayRestCommandsForModels = false;\r\n          options.promoteSomeRestCommands = promoteSomeRestCommands;\r\n          var model = originalPrepareModel.call(this, attrs, options);\r\n          options.delayRestCommands = delayRestCommands;\r\n          options.delayRestCommandsForModels = delayRestCommandsForModels;\r\n          return model;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return DelayedCommandableV2Mixin;\r\n});\r\n\n","csui.define('csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',['csui/lib/underscore', 'csui/lib/jquery'\r\n], function (_, $) {\r\n\r\n  var AdditionalResourcesV2Mixin = {\r\n\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeAdditionalResourcesV2Mixin: function (options) {\r\n          this._additionalResources = [];\r\n          if (options && options.includeResources) {\r\n            this.includeResources(options.includeResources);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        includeResources: function (names) {\r\n          if (names && !_.isArray(names)) {\r\n            names = names.split(',');\r\n          }\r\n          this._additionalResources = _.union(this._additionalResources, names);\r\n        },\r\n\r\n        excludeResources: function (names) {\r\n          if (names) {\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            this._additionalResources = _.reject(this._additionalResources, names);\r\n          } else {\r\n            this._additionalResources.splice(0, this._additionalResources.length);\r\n          }\r\n        },\r\n\r\n        getAdditionalResourcesUrlQuery: function () {\r\n          return _.reduce(this._additionalResources, function (result, parameter) {\r\n            result[parameter] = '';\r\n            return result;\r\n          }, {});\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n\r\n  };\r\n\r\n  return AdditionalResourcesV2Mixin;\r\n\r\n});\r\n\n","csui.define('csui/models/node.columns2',['csui/lib/backbone'], function (Backbone) {\r\n  'use strict';\r\n\r\n  var NodeColumn2Model = Backbone.Model.extend({\r\n    id: 'column_key',\r\n\r\n    constructor: function NodeColumn2Model(attributes, options) {\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n    }\r\n  });\r\n\r\n  var NodeColumn2Collection = Backbone.Collection.extend({\r\n    model: NodeColumn2Model,\r\n\r\n    constructor: function NodeColumn2Collection(models, options) {\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n    }\r\n  });\r\n\r\n  return NodeColumn2Collection;\r\n});\r\n\n","csui.define('csui/models/node/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/models/node/impl/nls/root/lang',{\r\n  sizeColumnTitle: 'Size'\r\n});\r\n\n","\n","csui.define('csui/models/utils/v1tov2',[],function () {\r\n  'use strict';\r\n\r\n  var nodeExpands = ['original_id', 'parent_id', 'volume_id'],\r\n      userExpands = ['create_user_id', 'modify_user_id', 'owner_user_id',\r\n                     'reserved_user_id'],\r\n      groupExpands = ['owner_group_id'],\r\n      memberExpands = userExpands.concat(groupExpands);\r\n\r\n  // Returns a v2 expand scope string or an object with key-array pairs.\r\n  function includeExpandsV1toV2(expands) {\r\n    // An array can be converted to an object with key-array pairs.\r\n    if (Array.isArray(expands)) {\r\n      return expands.reduce(function (result, expand) {\r\n        if (expand === 'node') {\r\n          mergeProperties(result, nodeExpands);\r\n        } else if (expand === 'member') {\r\n          mergeProperties(result, memberExpands);\r\n        } else if (expand === 'user') {\r\n          mergeProperties(result, userExpands);\r\n        } else if (expand === 'group') {\r\n          mergeProperties(result, groupExpands);\r\n        } else {\r\n          result[expand] || (result[expand] = []);\r\n        }\r\n        return result;\r\n      }, {});\r\n    // A v1 string can be converted an object with a single key-array pair.\r\n    } else if (expands === 'node') {\r\n      return {\r\n        properties: nodeExpands.slice()\r\n      };\r\n    // A v1 string can be converted an object with a single key-array pair.\r\n    } else if (expands === 'member') {\r\n      return {\r\n        properties: memberExpands.slice()\r\n      };\r\n    } else if (expands === 'user') {\r\n      return {\r\n        properties: userExpands.slice()\r\n      };\r\n    } else if (expands === 'group') {\r\n      return {\r\n        properties: groupExpands.slice()\r\n      };\r\n    }\r\n    // Leave an object or a v2 string intact.\r\n    return expands;\r\n\r\n    function mergeProperties(result, expands) {\r\n      var properties = result.properties || (result.properties = []);\r\n      expands.forEach(function (property) {\r\n        if (properties.indexOf(property) < 0) {\r\n          properties.push(property);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // Returns a v2 expand scope string or an array of them.\r\n  function excludeExpandsV1toV2(expands) {\r\n    if (Array.isArray(expands)) {\r\n      return expands.reduce(function (result, expand) {\r\n        if (expand === 'node' || expand === 'user'  || expand === 'group' ||\r\n            expand === 'member') {\r\n          expand = 'properties';\r\n        }\r\n        if (result.indexOf(expand) < 0) {\r\n          result.push(expand);\r\n        }\r\n        return result;\r\n      }, []);\r\n    } else if (expands === 'node') {\r\n      return nodeExpands.slice();\r\n    } else if (expands === 'member') {\r\n      return memberExpands.slice();\r\n    } else if (expands === 'user' || expands === 'member') {\r\n      return userExpands.slice();\r\n    } else if (expands === 'group') {\r\n      return groupExpands.slice();\r\n    }\r\n    return expands;\r\n  }\r\n\r\n  // Returns a v1 expand scope string or an array with them.\r\n  function expandsV2toV1(expands) {\r\n    // An array can be converted to an array.\r\n    if (Array.isArray(expands)) {\r\n      return expands.reduce(function (result, expand) {\r\n        if (nodeExpands.indexOf(expand) >= 0) {\r\n          result.push('node');\r\n        } else if (userExpands.indexOf(expand) >= 0) {\r\n          result.push('user');\r\n        } else if (groupExpands.indexOf(expand) >= 0) {\r\n          result.push('group');\r\n        }\r\n        return result;\r\n      }, []);\r\n    // An object can be converted to an array with v1 scopes.\r\n    } else if (typeof expands === 'object') {\r\n      var properties = expands.properties;\r\n      if (properties) {\r\n        if (!properties.length) {\r\n          return ['node', 'member'];\r\n        }\r\n        return properties.reduce(function (result, expand) {\r\n          if (nodeExpands.indexOf(expand) >= 0) {\r\n            expand = 'node';\r\n          } else if (userExpands.indexOf(expand) >= 0) {\r\n            expand = 'user';\r\n          } else if (groupExpands.indexOf(expand) >= 0) {\r\n            expand = 'group';\r\n          }\r\n          if (result.indexOf(expand) < 0) {\r\n            result.push(expand);\r\n          }\r\n          return result;\r\n        }, []);\r\n      }\r\n      return [];\r\n    // A v2 string can be converted to a v1 string.\r\n    } else if (expands === 'properties') {\r\n      return ['node', 'member'];\r\n    }\r\n    // Leave a v1 string intact.\r\n    return expands;\r\n  }\r\n\r\n  return {\r\n    includeExpandsV1toV2: includeExpandsV1toV2,\r\n    excludeExpandsV1toV2: excludeExpandsV1toV2,\r\n    expandsV2toV1: expandsV2toV1,\r\n    nodeExpands: nodeExpands,\r\n    userExpands: userExpands\r\n  };\r\n});\r\n\n","csui.define('csui/models/mixins/syncable.from.multiple.sources/syncable.from.multiple.sources.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery'\r\n], function (_, $) {\r\n  'use strict';\r\n\r\n  var SyncableFromMultipleSources = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeSyncableFromMultipleSources: function (options) {\r\n          return this;\r\n        },\r\n\r\n        syncFromMultipleSources: function (promises, mergeSources,\r\n            convertError, options) {\r\n          // Convert $.ajax rejected value by default\r\n          function convertAjaxError(result) {\r\n            return Array.isArray(result) ? result[0] : result;\r\n          }\r\n\r\n          // The convertError parameter is optional\r\n          if (options === undefined && typeof convertError === 'object') {\r\n            options = convertError;\r\n            convertError = convertAjaxError;\r\n          } else if (convertError == null) {\r\n            convertError = convertAjaxError;\r\n          }\r\n\r\n          var model = this,\r\n              // Pick only jQuery objects, which support the abort() method,\r\n              // from all promises.\r\n              abortables = promises.filter(function (promise) {\r\n                return promise.abort;\r\n              }),\r\n              deferred = $.Deferred(),\r\n              promise = deferred.promise();\r\n          // Propagate jQuery object aborting interface, if the promises\r\n          // come from $.ajax calls; add inject the abort() method.\r\n          if (abortables.length) {\r\n            promise.abort = function (statusText) {\r\n              statusText || (statusText = 'canceled');\r\n              abortables.forEach(function (promise) {\r\n                promise.abort(statusText);\r\n              });\r\n              return this;\r\n            };\r\n          }\r\n          // Implement Backbone event flow - 'request', callback,\r\n          // promise. (Populating the model and triggering 'sync' or\r\n          // 'error' events takes place in the fetch method.)\r\n          model.trigger('request', model, {}, options);\r\n          $.when.apply($, promises)\r\n           .done(function () {\r\n             var response = mergeSources.apply(model, arguments),\r\n                 success = options.success;\r\n             if (success) {\r\n               success.call(options.context, response, 'success', {});\r\n             }\r\n             deferred.resolve(response, 'success', {});\r\n           })\r\n           .fail(function () {\r\n             var object = convertError.apply(model, arguments),\r\n                 error = options.error;\r\n             if (error) {\r\n               error.call(options.context, object, 'error', object.statusText);\r\n             }\r\n             // Return only the first error for simplicity; the others\r\n             // will be logged by the connector, if they come from\r\n             // failing $.ajax calls.\r\n             deferred.reject.call(deferred, object, 'error', object.statusText);\r\n           });\r\n          return promise;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return SyncableFromMultipleSources;\r\n});\r\n\n","csui.define('csui/models/node/server.adaptor.mixin',[\r\n  'require', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/url',\r\n  'i18n!csui/models/node/impl/nls/lang', 'csui/models/utils/v1tov2',\r\n  'csui/models/mixins/syncable.from.multiple.sources/syncable.from.multiple.sources.mixin',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (require, _, $, Url, lang, v1tov2, SyncableFromMultipleSources) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      var originalSync = prototype.sync;\r\n      SyncableFromMultipleSources.mixin(prototype);\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          this.fetchExactFields = options && options.fetchExactFields;\r\n          return this;\r\n        },\r\n\r\n        isFetchableDirectly: function () {\r\n          return this.get('id') > 0;\r\n        },\r\n\r\n        // TODO: Remove this method and make the cache layer aware of node URLs.\r\n        urlCacheBase: function () {\r\n          var url = this.urlBase();\r\n          if (url.indexOf('/volumes') < 0) {\r\n            url = url.replace('/api/v1/', '/api/v2/');\r\n          }\r\n          return url + '?';\r\n        },\r\n\r\n        urlBase: function () {\r\n          var id  = this.get('id'),\r\n              url = this.connector.connection.url;\r\n          if (!id) {\r\n            // Create a new node by POST /nodes\r\n            url = Url.combine(url, 'nodes');\r\n          } else if (id === 'volume') {\r\n            // Access an existing volume by VERB /volumes/:type\r\n            url = Url.combine(url, 'volumes', this.get('type'));\r\n          } else if (!_.isNumber(id) || id > 0) {\r\n            // Access an existing node by VERB /nodes/:id\r\n            url = Url.combine(url, 'nodes', id);\r\n          } else {\r\n            throw new Error('Unsupported id value');\r\n          }\r\n          if (this.options.apiVersion) {\r\n            url.getApiBase(this.options.apiVersion);\r\n          }\r\n          return url;\r\n        },\r\n\r\n        url: function () {\r\n          var url = this.urlBase();\r\n          var query;\r\n          if (!this.isNew()) {\r\n            if (this.get('id') === 'volume') {\r\n              var expands = v1tov2.expandsV2toV1(this.expand);\r\n              if (expands.length) {\r\n                query = $.param({expand: expands}, true);\r\n              }\r\n            } else {\r\n              if (this.collection) {\r\n                query = this._getCombinedUrlQuery({ withActions: true });\r\n              } else {\r\n                query = this._getNodeUrlQuery({ withActions: true });\r\n              }\r\n              // Request just common properties by default; do not waste server\r\n              // resources, because it would return all it could by default.\r\n              // If somebody set fields to a subset of properties already, they\r\n              // are responsible for including all needed information.\r\n              if (!this.hasFields('properties') && !this.fetchExactFields) {\r\n                query = Url.combineQueryString(query, 'fields=properties');\r\n              }\r\n            }\r\n          }\r\n          return Url.appendQuery(url, query);\r\n        },\r\n\r\n        urlQueryWithoutActions: function () {\r\n          var query;\r\n          if (this.collection) {\r\n            query = this._getCombinedUrlQuery({ withActions: false });\r\n          } else {\r\n            query = this._getNodeUrlQuery({ withActions: false });\r\n          }\r\n          if (!this.hasFields('properties') && !this.fetchExactFields) {\r\n            query = query.concat({ fields: 'properties' });\r\n          }\r\n          return query;\r\n        },\r\n\r\n        urlQueryWithActionsOnly: function () {\r\n          var query;\r\n          if (this.collection) {\r\n            var collection = this.getV2ParameterSource();\r\n            query = this._getUrlQueryActionsFromSource(collection);\r\n          } else {\r\n            query = this.getRequestedCommandsUrlQuery();\r\n          }\r\n          return query;\r\n        },\r\n\r\n        // Gets the URL query using the parameters of the node only.\r\n        _getNodeUrlQuery: function (options) {\r\n          var query = Url.combineQueryString(\r\n            this.getResourceFieldsUrlQuery(),\r\n            this.getExpandableResourcesUrlQuery(),\r\n            this.getStateEnablingUrlQuery(),\r\n            this.getAdditionalResourcesUrlQuery()\r\n          );\r\n          if (options.withActions) {\r\n            query = Url.combineQueryString(\r\n              query, this.getRequestedCommandsUrlQuery());\r\n          }\r\n          return query;\r\n        },\r\n\r\n        // Gets the URL query preferably using the parameters of the owning collection.\r\n        _getCombinedUrlQuery: function (options) {\r\n          var collection = this.getV2ParameterSource();\r\n          var queryParts = this._getUrlQueryWithoutActionsFromSource(collection);\r\n          if (options.withActions) {\r\n            var actions = this._getUrlQueryActionsFromSource(collection);\r\n            queryParts =  queryParts.concat(actions);\r\n          }\r\n          return Url.combineQueryString.apply(Url, queryParts);\r\n        },\r\n\r\n        _getUrlQueryWithoutActionsFromSource: function (collection) {\r\n          return [\r\n            'getExpandableResourcesUrlQuery',\r\n            'getAdditionalResourcesUrlQuery',\r\n            'getResourceFieldsUrlQuery'\r\n          ].map(function (method) {\r\n            var parameters = this[method]();\r\n            if (_.isEmpty(parameters)) {\r\n              // If no data limits were specified in the node\r\n              // model, try to inherit them from the collection\r\n              method = collection[method];\r\n              if (method) {\r\n                return method.call(collection);\r\n              }\r\n            }\r\n            return parameters;\r\n          }, this);\r\n        },\r\n\r\n        _getUrlQueryActionsFromSource: function (collection) {\r\n            var method = this.delayRestCommands ?\r\n                  'getRequestedCommandsUrlQuery' :\r\n                  'getAllCommandsUrlQuery';\r\n            var commands = this[method]();\r\n          if (_.isEmpty(commands)) {\r\n            // No delayed actions could be enabled for the node\r\n            // model, unless specifying the default action command.\r\n            // The collection can give non-delayed commands only;\r\n            // if it supports delayed actions or not.\r\n            method = collection.getAllCommandsUrlQuery ||\r\n                     collection.getRequestedCommandsUrlQuery;\r\n            if (method) {\r\n              commands = method.call(collection);\r\n            }\r\n          }\r\n          // TODO: Remove this horrible code breaking componentisation.\r\n          if (this.refernce_id || this.attributes.reference_id) {\r\n            commands = _.extend({\r\n              reference_id: this.refernce_id || this.attributes.reference_id\r\n            }, commands);\r\n          }\r\n          return commands;\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          if (method !== 'read') {\r\n            adaptNotFetching(this, options);\r\n          }\r\n          if (method === 'read' && options.urlQueryWithActionsOnly) {\r\n            return syncNodeWithSeparateCommands(this, options);\r\n          }\r\n          return originalSync.call(this, method, model, options);\r\n        },\r\n\r\n        parse: function (response) {\r\n          // A node obtained from a collection has the properties directly\r\n          // in the object, while if obtained by a single call, they are\r\n          // nested in the data sub-object.\r\n          // node from v2/nodes/:id or v1/nodes/:id\r\n          var results    = response.results || response,\r\n              // If node attributes are re-parsed, they will contain the \"data\"\r\n              // object with properties from additional roles. Detect only \"data\"\r\n              // from a v1 or a v2 response here.\r\n              resultData = results.data,\r\n              data       = resultData && (resultData.id || resultData.properties) && resultData,\r\n              // node from v2/nodes/:id or v2/nodes\r\n              // node from v1/nodes/:id or v1/nodes\r\n              node       = data && data.properties  || data || response;\r\n\r\n          // However, some properties are scattered in the response object\r\n          // directly, or even in artificial sub-objects like type_info,versions;\r\n          // speak about developing API serving clients' needs, sigh.\r\n          if (response.type !== undefined) {\r\n            node.type = response.type;\r\n          }\r\n          if (response.type_name !== undefined) {\r\n            node.type_name = response.type_name;\r\n          }\r\n          if (data && data.versions) {\r\n            node.versions = data.versions;\r\n          }\r\n          _.extend(node, response.type_info);\r\n          if (node.versions) {\r\n            var version = node.versions;\r\n            if (_.isArray(version)) {\r\n              version = version[version.length - 1];\r\n            }\r\n            if (version) {\r\n              _.extend(node, _.pick(version, ['file_size', 'mime_type',\r\n                'version_id', 'version_number',\r\n                'version_number_major',\r\n                'version_number_minor']));\r\n            }\r\n          }\r\n\r\n          // Properties out of data are not passed to the constructor.  This\r\n          // may yet get its own sub-model.\r\n          _.defaults(node, {\r\n            perspective: results && results.perspective || response.perspective\r\n          });\r\n\r\n          // Extract state flags like metadata token from the response.\r\n          this.parseState(node, results);\r\n\r\n          // Normalize V1 actions and V2 commands to [{signature}, ...]\r\n          this._parseActions(node, results, response);\r\n\r\n          // Normalize actions in the shortcut target sub-node\r\n          var original = node.original_id && node.original_id.id ?\r\n                         node.original_id : node.original_id_expand;\r\n          if (original) {\r\n            this._parseActions(original, {}, {});\r\n            // No faking default action permissions for shortcut originals;\r\n            // only 'open' was not enough - all default acions are permitted\r\n            // in DefaultActionController\r\n          }\r\n\r\n          // Normalize actions in the parent location sub-node\r\n          var parent = node.parent_id && node.parent_id.id ?\r\n                       node.parent_id : node.parent_id_expand;\r\n          if (parent) {\r\n            this._parseActions(parent, {}, {});\r\n            if (!parent.actions.length) {\r\n              // TODO: Remove this, as soon as the actions for parent\r\n              // locations are returned by the server\r\n              // Add (default) actions used for hyperlinks\r\n              this._makeAccessible(parent);\r\n            }\r\n          }\r\n\r\n          // V1 does not send the URL; if the 'default' command is available,\r\n          // we can red it from there, otherwise it is not possible\r\n          if (node.type === 140 && !node.url) {\r\n            var defaultAction = _.findWhere(node.actions, {signature: 'default'});\r\n            node.url = defaultAction && defaultAction.href;\r\n          }\r\n\r\n          // Make addable types available in the node constructor\r\n          node.addable_types = response.addable_types;\r\n          // Make columns available in the node constructor\r\n          var columns = data && data.columns;\r\n          if (columns) {\r\n            node.columns = this._parseColumns(columns, response);\r\n          }\r\n          // Make definitions available in the node constructor\r\n          var definitions = response.definitions || results.metadata &&\r\n                                                    results.metadata.properties;\r\n          if (definitions) {\r\n            node.definitions = this._parseDefinitions(definitions, columns);\r\n          }\r\n\r\n          // Make additional v2 data accessible in the model attributes;\r\n          // data.properties are accessible as the flat node attributes\r\n          // and columns with metadata are pre-parsed by helper methods\r\n          if (data && data.properties) {\r\n            node.data = _.omit(data, 'columns', 'metadata', 'properties');\r\n          }\r\n\r\n          // add reference_id to node for children under collection (ie., subtype 298) container.\r\n          if (this.collection && this.collection.node && this.collection.node.get('type') === 298) {\r\n            node.reference_id = this.collection.node.get('id');\r\n          }\r\n          // If node is getting updated by any of its actions, we are fetching entire node info\r\n          // which includes promoted and non-promoted actions also. So to avoid re-fetch\r\n          // nonpromoted actions from inline and toolbar setting 'csuiLazyActionsRetrieved'\r\n          // attribute to node.\r\n          if (this.get('csuiLazyActionsRetrieved') === undefined &&\r\n              !!this.get('csuiDelayedActionsRetrieved') && !_.isEmpty(this.changed)) {\r\n            node.csuiLazyActionsRetrieved = true;\r\n          }\r\n          return node;\r\n        },\r\n\r\n        _parseColumns: function (columns, response) {\r\n          var columnKeys = response.definitions_order ||\r\n                           columns && _.pluck(columns, 'key');\r\n          return _.map(columnKeys, function (key) {\r\n            return {key: key};\r\n          });\r\n        },\r\n\r\n        _parseDefinitions: function (definitions, columns) {\r\n          if (!definitions.size &&\r\n              (definitions.container_size || definitions.file_size)) {\r\n            definitions.size = definitions.container_size ||\r\n                               definitions.file_size;\r\n            definitions.size.key = 'size';\r\n            definitions.size.name = lang.sizeColumnTitle;\r\n          }\r\n          if (columns) {\r\n            _.each(columns, function (column) {\r\n              var columnKey  = column.key,\r\n                  definition = definitions[columnKey];\r\n              if (!definition) {\r\n                definition = definitions[columnKey] = _.omit(column, 'data_type');\r\n                definition.type = column.data_type;\r\n              }\r\n\r\n              // for all user related column attributes let's add definition type as 14.\r\n              var supportedPersonas = ['user', 'group', 'member'];\r\n              if ($.inArray(definition.persona, supportedPersonas) !== -1) {\r\n                definition.type = 14;\r\n              }\r\n\r\n              // Take fileds=columns from v2 into account.\r\n              definition.sort = !!column.sort_key;\r\n            });\r\n            // Update the real value-carrying column, which does not end with\r\n            // \"_formatted\", if only the \"_formatted\" one is present and not\r\n            // the real one. \"_formatted\"  columns should not be used, because\r\n            // they do not provide the real value for sorting, filtering, saving\r\n            // or other scenarios, where it is needed. Also the right formatting\r\n            // is specified in Smart UI. \"_formatted\" columns are for AJAX calls\r\n            // from Classic UI, because they for at according to its design.\r\n            _.each(columns, function (column) {\r\n              var columnKey      = column.key,\r\n                  formattedIndex = columnKey.lastIndexOf('_formatted');\r\n              if (formattedIndex >= 0) {\r\n                var realColumnKey = columnKey.substr(0, columnKey.length - 10),\r\n                    definition    = definitions[realColumnKey];\r\n                if (!definition) {\r\n                  definition = definitions[realColumnKey] = _.omit(column, 'data_type');\r\n                  definition.type = definition.data_type;\r\n                }\r\n                // Take fileds=columns from v2 into account.\r\n                definition.sort = !!column.sort_key;\r\n              }\r\n            });\r\n          }\r\n          return _.map(definitions, function (definition, key) {\r\n            if (!definition.key) {\r\n              definition.key = key;\r\n            }\r\n            return definition;\r\n          });\r\n        },\r\n\r\n        _parseActions: function (node, results, response) {\r\n          // Normalize V1 actions and V2 commands to [{signature}, ...]\r\n          var actions = node.actions || response.actions ||\r\n                        // v1/volumes/:type actions\r\n                        response.available_actions,\r\n              commands;\r\n          if (_.isArray(actions)) {\r\n            // v1 actions\r\n            _.each(actions, function (action) {\r\n              // normalize the v1/volumes/:type actions\r\n              if (!action.signature) {\r\n                action.signature = action.type;\r\n                action.name = action.type_name;\r\n                delete action.type;\r\n                delete action.type_name;\r\n              }\r\n            });\r\n            commands = _.reduce(actions, function (result, action) {\r\n              result[action.signature] = {};\r\n              return result;\r\n            }, {});\r\n            node.actions = actions;\r\n          } else {\r\n            // v2-like commands added to v1 and v2 commands\r\n            commands = node.commands || response.commands || response.actions ||\r\n                       // v2 actions\r\n                       results && results.actions || {};\r\n            // v2 moved the content of actions to actions.data and left\r\n            // the actions object with the three keys only\r\n            if (commands.data && commands.order && commands.map) {\r\n              commands = commands.data;\r\n            }\r\n            node.actions = _.chain(commands)\r\n                .keys()\r\n                .map(function (key) {\r\n                  var attributes = commands[key];\r\n                  attributes.signature = key;\r\n                  return attributes;\r\n                })\r\n                .value();\r\n            delete node.commands;\r\n            delete node.commands_map;\r\n            delete node.commands_order;\r\n          }\r\n        },\r\n\r\n        // TODO: Remove this, as soon as the actions for shortcut\r\n        // targets, parents or other expanded nodes  are returned\r\n        //  by the server\r\n        _makeAccessible: function (original) {\r\n          original.actions = [\r\n            {signature: 'open'}\r\n          ];\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  var NodeActionCollection;\r\n\r\n  function syncNodeWithSeparateCommands (node, options) {\r\n    var deferred = $.Deferred();\r\n    require(['csui/models/node.actions'], function () {\r\n      NodeActionCollection = arguments[0];\r\n      var promiseForNode = fetchNodeWithoutActions(node, options);\r\n      var promiseForActions = fetchNodeActions(node, options);\r\n      options = _.defaults({ parse: false }, options);\r\n      node.syncFromMultipleSources(\r\n            [promiseForNode, promiseForActions],\r\n            mergeNodeWithActions, options)\r\n          .then(deferred.resolve, deferred.reject);\r\n    }, deferred.reject);\r\n    return deferred.promise();\r\n  }\r\n\r\n  function mergeNodeWithActions (node, actions) {\r\n    node.actions = actions;\r\n    return node;\r\n  }\r\n\r\n  function fetchNodeWithoutActions (originalNode, options) {\r\n    // Use a cloned node to fetch the node with different URL parameters\r\n    // (without actions) than the original node would use.\r\n    var node = originalNode.clone();\r\n    node.separateCommands = false;\r\n    // Use URL parameters either from the explicitly specified collection,\r\n    // or from the parent collection. The clone does not point to the parent\r\n    // collection, that is why it is passed explicitly as the second choice.\r\n    var collection = options.collection || originalNode.collection;\r\n    // The node can be in a selection collection. Backbone add it to the first\r\n    // collection, which uses add(). Only the full-weight collections that\r\n    // fetch and then contain nodes can be considered parent collections\r\n    /// carrying the URL parameters to decide the node scope.\r\n    if (node.isCollectionV2ParameterSource(collection)) {\r\n      // The method getResourceScope may not be available on the collection.\r\n      var parameterScope = node.getResourceScopeFrom(collection);\r\n      node.setResourceScope(parameterScope);\r\n    }\r\n    node.resetCommands();\r\n    node.resetDefaultActionCommands();\r\n    node.invalidateFetch();\r\n    return node\r\n      .fetch()\r\n      .then(function () {\r\n        return node.attributes;\r\n      });\r\n  }\r\n\r\n  function fetchNodeActions (node, options) {\r\n    var actions = new NodeActionCollection(undefined, {\r\n      connector: node.connector,\r\n      nodes: [node.get('id')],\r\n      commands: options.urlQueryWithActionsOnly.actions\r\n    });\r\n    return actions\r\n      .fetch()\r\n      .then(function () {\r\n        return actions.reduce(function (actions, node) {\r\n          var attributes = node.actions.toJSON();\r\n          return actions.concat(attributes);\r\n        }, []);\r\n      });\r\n  }\r\n\r\n  function adaptNotFetching(node, options) {\r\n    var url = options.url;\r\n    if (url && _.isString(url)) {\r\n      // Omit URL parameters if this is not a GET request.\r\n      options.url = url.replace(/\\?.*$/, '');\r\n    } else {\r\n      // Ensure a URL without URL parameters by not letting it compute later.\r\n      options.url = node.urlBase();\r\n    }\r\n  }\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/node/node.model',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/actions', 'csui/models/addabletypes',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/state.carrier/state.carrier.mixin',\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/node.columns2', 'csui/models/node/server.adaptor.mixin',\r\n  'csui/models/utils/v1tov2', 'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, ActionCollection, AddableTypesCollection,\r\n    ResourceMixin, UploadableMixin, FieldsV2Mixin, ExpandableV2Mixin,\r\n    StateCarrierMixin, DelayedCommandableV2Mixin, AdditionalResourcesV2Mixin,\r\n    NodeColumn2Collection, ServerAdaptorMixin, v1tov2) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    idAttribute: null,\r\n    // ID should be always handles as a black box. The client should send\r\n    // it to the server the same, as it was received. The server should send\r\n    // IDs in object properties; it should not send URLs, which the client\r\n    // would have to parse and extract the ID from them.\r\n    //\r\n    // This flag can be used in the code, that does not follow the best\r\n    // practice and parses an integer ID out of some string.\r\n    usesIntegerId: true,\r\n    // Fetching of permitted actions in parallel with the node information is\r\n    // specific to OTCS only. Because role-based actions were not implemented\r\n    // and permitted actions were added for commands, which could not be\r\n    // configured, the actions became wasteful and too many. Fetching them in\r\n    // parallel with the node fixes only the symptom of the problem, instead of\r\n    // addressing it properly.\r\n    separateCommands: false,\r\n    separateCommandsThreshold: 10\r\n  }, module.config());\r\n\r\n  var NodeDefinition2Collection = Backbone.Collection.extend({\r\n    model: Backbone.Model.extend({\r\n      id: 'key',\r\n      constructor: function NodeDefinition2Model(attributes, options) {\r\n        Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n      }\r\n    }),\r\n    constructor: function NodeDefinition2Collection(models, options) {\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n    }\r\n  });\r\n\r\n  var NodeModel = Backbone.Model.extend({\r\n    idAttribute: config.idAttribute,\r\n\r\n    constructor: function NodeModel(attributes, options) {\r\n      attributes || (attributes = {});\r\n      options || (options = {});\r\n\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.options = _.pick(options, ['connector']);\r\n\r\n      this.makeResource(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeStateCarrier(options, attributes)\r\n          .makeDelayedCommandableV2(options)\r\n          .makeUploadable(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      // Enable fetching of permitted actions in parallel with node information\r\n      // if requested and if they exceed the threshold configured above.\r\n      var separateCommands = options.separateCommands;\r\n      this.separateCommands = separateCommands !== undefined ?\r\n          separateCommands : config.separateCommands;\r\n\r\n      this.setState(attributes);\r\n      // Ensure sub-models; these set by _setCollectionProperty should\r\n      // be always available, but this.set called from Backbone.Model\r\n      // constructor creates them only, if they are in the attributes\r\n      if (!attributes.actions) {\r\n        this._setCollectionProperty('actions', ActionCollection,\r\n            attributes, options);\r\n      }\r\n      if (!attributes.addable_types) {\r\n        this._setCollectionProperty('addable_types', AddableTypesCollection,\r\n            attributes, options);\r\n      }\r\n      if (!attributes.definitions) {\r\n        this._setCollectionProperty('definitions', NodeDefinition2Collection,\r\n            attributes, options);\r\n      }\r\n      if (!attributes.columns) {\r\n        this._setCollectionProperty('columns', NodeColumn2Collection,\r\n            attributes, options);\r\n      }\r\n      // Ensure sub-models; these set by _setNodeProperty are optional\r\n      // and if this.set called from Backbone.Model didn't create them,\r\n      // because they are not in the attributes, we won't do it here\r\n    },\r\n\r\n    clone: function () {\r\n      var clone = new this.constructor(this.attributes, {\r\n        connector: this.connector,\r\n        fields: _.deepClone(this.fields),\r\n        expand: _.deepClone(this.expand),\r\n        stateEnabled: this.stateEnabled,\r\n        includeResources: _.clone(this._additionalResources),\r\n        commands: _.clone(this.commands),\r\n        defaultActionCommands: _.clone(this.defaultActionCommands),\r\n        delayRestCommands: this.delayRestCommands,\r\n        separateCommands: this.separateCommands\r\n      });\r\n      clone.actions.reset(this.actions.toJSON());\r\n      clone.fetched = this.fetched;\r\n      clone.error = this.error;\r\n      clone.state.set(this.state.toJSON());\r\n      return clone;\r\n    },\r\n\r\n    isNew: function () {\r\n      return !this.has('id');\r\n    },\r\n\r\n    isFetchable: function () {\r\n      // TODO: Remove this condition, as soon as nobody uses -1 as an invalid ID.\r\n      if (NodeModel.usesIntegerId) {\r\n        var id = this.get('id');\r\n        return id > 0 || id === 'volume';\r\n      }\r\n      return !!this.get('id');\r\n    },\r\n\r\n    isCollectionV2ParameterSource: function (collection) {\r\n      // If the collection supports v2 REST API, use it directly\r\n      // as a URL query source.\r\n      return collection && collection.makeFieldsV2;\r\n    },\r\n\r\n    getV2ParameterSource: function () {\r\n      var collection = this.collection;\r\n      if (this.isCollectionV2ParameterSource(collection)) {\r\n        return collection;\r\n      }\r\n      // Otherwise use a v2 node node model as a URL query source\r\n      // and include parameters from the v1 collection there\r\n      var node = this.clone();\r\n      if (collection) {\r\n        var additionalResources = collection._additionalResources;\r\n        if (additionalResources) {\r\n          node.includeResources(additionalResources);\r\n        }\r\n        var defaultActionCommands = collection.defaultActionCommands;\r\n        if (defaultActionCommands) {\r\n          node.setDefaultActionCommands(defaultActionCommands);\r\n        }\r\n        var commands = collection.includeCommands;\r\n        if (commands) {\r\n          node.setCommands(commands);\r\n        }\r\n        var expand = collection.expand;\r\n        if (expand) {\r\n          node.setExpand(v1tov2.includeExpandsV1toV2(expand));\r\n        }\r\n      }\r\n      return node;\r\n    },\r\n\r\n    set: function (key, val, options) {\r\n      var attrs;\r\n      if (key == null) {\r\n        return this;\r\n      }\r\n\r\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\r\n      if (typeof key === 'object') {\r\n        attrs = key;\r\n        options = val;\r\n      } else {\r\n        (attrs = {})[key] = val;\r\n      }\r\n\r\n      options || (options = {});\r\n      // Using 'skipSetValue' to skip \"sync\" call in case of rename for Grid-view\r\n      this.setState(attrs);\r\n      if (val && val.skipSetValue) {\r\n        return;\r\n      }\r\n\r\n      // TODO: Support sub-models and sub-collections in general\r\n      if (attrs.actions) {\r\n        this._setCollectionProperty('actions', ActionCollection, attrs, options);\r\n       }\r\n      if (attrs.addable_types) {\r\n         this._setCollectionProperty('addable_types', AddableTypesCollection, attrs,\r\n            options);\r\n      }\r\n      if (attrs.definitions) {\r\n         this._setCollectionProperty('definitions', NodeDefinition2Collection, attrs, options);\r\n       }\r\n      if (attrs.columns) {\r\n        this._setCollectionProperty('columns', NodeColumn2Collection, attrs, options);\r\n      }\r\n      if (attrs.original_id !== undefined) {\r\n         this._setNodeProperty('original', attrs, options);\r\n      }\r\n       if (attrs.parent_id !== undefined) {\r\n         this._setNodeProperty('parent', attrs, options);\r\n       }\r\n      if (attrs.volume_id !== undefined) {\r\n         this._setNodeProperty('volume', attrs, options);\r\n       }\r\n\r\n      // do the usual set\r\n      return Backbone.Model.prototype.set.call(this, attrs, options);\r\n    },\r\n\r\n    triggerAllChanges: function () {\r\n      // Trigger reset on all sub-collections\r\n      triggerReset(this.actions);\r\n      triggerReset(this.addableTypes);\r\n      triggerReset(this.definitions);\r\n      triggerReset(this.columns);\r\n\r\n      // Trigger change on all sub-model.\r\n      triggerChange(this.original);\r\n      triggerChange(this.parent);\r\n      triggerChange(this.volume);\r\n\r\n      // Trigger change on all model attributes.\r\n      triggerChange(this);\r\n\r\n      function triggerReset(collection) {\r\n        if (collection) {\r\n          collection.trigger('reset', collection);\r\n        }\r\n      }\r\n\r\n      function triggerChange(model) {\r\n        if (model) {\r\n          var attributes = model.attributes;\r\n          Object\r\n              .keys(attributes)\r\n              .forEach(function (attributeName) {\r\n                model.trigger('change:' + attributeName, model, attributes[attributeName]);\r\n              });\r\n          model.trigger('change', model);\r\n        }\r\n      }\r\n    },\r\n\r\n    _setCollectionProperty: function (attribute, Class, attributes, options) {\r\n      var property   = _.str.camelize(attribute),\r\n          models     = attributes[attribute],\r\n          collection = this[property];\r\n      if (collection) {\r\n        collection.reset(models, {silent: options && options.silent});\r\n      } else {\r\n        this[property] = new Class(models, {\r\n          // When this.set is called from the Backbome.Model constructor,\r\n          // the current node hasn't been conected yet.  Sub-nodes would\r\n          // be disconnected, if just this.connector would be used.  The\r\n          // connector may be in the constructor options, if the caller\r\n          // wanted to connect the node right away.\r\n          connector: this.connector || options && options.connector\r\n        });\r\n      }\r\n    },\r\n\r\n    _setNodeProperty: function (name, source, options) {\r\n      // v1 expands the _id property directly, v2 adds an additional\r\n      // one _id_expand\r\n      var value = source[name + '_id_expand'] || source[name + '_id'];\r\n      // If the property was not expanded, initialize the model just\r\n      // with the object identifier\r\n      if (value && !_.isObject(value)) {\r\n        value = {id: value};\r\n      }\r\n      if (_.isObject(value)) {\r\n        if (this[name]) {\r\n          this[name].set(value, {silent: options && options.silent});\r\n        } else {\r\n          this[name] = new NodeModel(value, {\r\n            // When this.set is called from the Backbome.Model constructor,\r\n            // the current node hasn't been conected yet.  Sub-nodes would\r\n            // be disconnected, if just this.connector would be used.  The\r\n            // connector may be in the constructor options, if the caller\r\n            // wanted to connect the node right away.\r\n            connector: this.connector || options && options.connector\r\n          });\r\n        }\r\n      } else {\r\n        delete this[name];\r\n      }\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      var parameterSource = this.getV2ParameterSource();\r\n      return _.deepClone({\r\n        fields: _.isEmpty(this.fields) ? parameterSource.fields : this.fields,\r\n        expand: _.isEmpty(this.expand) ? parameterSource.expand : this.expand,\r\n        includeResources: _.isEmpty(this._additionalResources) ?\r\n                          parameterSource._additionalResources :\r\n                          this._additionalResources,\r\n        commands: _.isEmpty(this.commands) ? parameterSource.commands : this.commands,\r\n        defaultActionCommands: this.defaultActionCommands\r\n      });\r\n    },\r\n\r\n    getResourceScopeFrom: function (source) {\r\n      return _.deepClone({\r\n        fields: source.fields,\r\n        expand: source.expand,\r\n        includeResources: source._additionalResources,\r\n        commands: source.commands,\r\n        defaultActionCommands: source.defaultActionCommands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n      this.resetDefaultActionCommands();\r\n      scope.defaultActionCommands && this.setDefaultActionCommands(scope.defaultActionCommands);\r\n    },\r\n\r\n    toString: function () {\r\n      // Format a string for logging purposes\r\n      var id = this.get('id');\r\n      if (id === 'volume') {\r\n        return 'volume:' + this.get('type');\r\n      } else if (id != null) {\r\n        return 'node:' + id;\r\n      }\r\n      return 'node:invalid';\r\n    }\r\n  }, {\r\n    usesIntegerId: config.usesIntegerId\r\n  });\r\n\r\n  AdditionalResourcesV2Mixin.mixin(NodeModel.prototype);\r\n  FieldsV2Mixin.mixin(NodeModel.prototype);\r\n  ExpandableV2Mixin.mixin(NodeModel.prototype);\r\n  StateCarrierMixin.mixin(NodeModel.prototype);\r\n  DelayedCommandableV2Mixin.mixin(NodeModel.prototype);\r\n  UploadableMixin.mixin(NodeModel.prototype);\r\n  ResourceMixin.mixin(NodeModel.prototype);\r\n  ServerAdaptorMixin.mixin(NodeModel.prototype);\r\n\r\n  var originalFetch = NodeModel.prototype.fetch;\r\n  NodeModel.prototype.fetch = function (options) {\r\n    options || (options = {});\r\n\r\n    // If not overridden, Use the v2 URL for GET requests.\r\n    // If not overridden and the target collection has been specified,\r\n    // let the url method use its data-limiting parameters.\r\n    if (!options.url) {\r\n      var originalCollection = this.collection,\r\n          newCollection      = options.collection;\r\n      if (newCollection) {\r\n        this.collection = newCollection;\r\n      }\r\n      computeUrl(this, options);\r\n      if (newCollection) {\r\n        this.collection = originalCollection;\r\n      }\r\n    }\r\n\r\n    return originalFetch.call(this, options);\r\n  };\r\n\r\n  function computeUrl (node, options) {\r\n    // Support separate fetching of permitted actions only if the server\r\n    // adaptor provides methods for it. And only for a v2 node.\r\n    if (node.separateCommands && node.urlQueryWithActionsOnly &&\r\n        node.get('id') !== 'volume') {\r\n      var actionsQuery =  _.result(node, 'urlQueryWithActionsOnly');\r\n      // The URL has tt contain the multi-value \"actions\" parameter.\r\n      if (actionsQuery && actionsQuery.actions.length > config.separateCommandsThreshold) {\r\n        // Give a hint to the server adaptor to fetch the actions separately.\r\n        options.urlQueryWithActionsOnly = actionsQuery;\r\n        return;\r\n      }\r\n    }\r\n    // Ensure using the v2 URL unless volume information is request.\r\n    var url = _.result(node, 'url');\r\n    if (url.indexOf('/volumes') < 0) {\r\n      url = url.replace('/api/v1/', '/api/v2/');\r\n    }\r\n    options.url = url;\r\n  }\r\n\r\n  return NodeModel;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/favorite2.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      var superParseMethod = prototype.parse;\r\n      var superSyncMethod = prototype.sync;\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          if (response.results) {\r\n            response = response.results;\r\n          }\r\n          if (_.isEmpty(response)) {\r\n            return {};\r\n          } else {\r\n            if (options.attrs) {\r\n              var updatedAttributes = {};\r\n              _.each(_.keys(options.attrs), function (attr) {\r\n                updatedAttributes['favorite_' + attr] = options.attrs[attr];\r\n              }, this);\r\n              return updatedAttributes;\r\n            } else {\r\n              if (response.data && response.data.properties && response.data.favorites) {\r\n                response.data.properties.favorite_name = response.data.favorites.name;\r\n                response.data.properties.favorite_tab_id = response.data.favorites.tab_id;\r\n              }\r\n\r\n              var m = superParseMethod.call(this, response);\r\n\r\n              if (m.actions) {\r\n                m.actions = _.reject(m.actions,\r\n                  function (action) {\r\n                    return action.signature == 'rename' || action.signature == 'delete';\r\n                  });\r\n                m.actions.push({signature: 'favorite_rename'});\r\n\r\n                // console.log(\"NODE ACTIONS\");\r\n                // _.each(m.actions, function(a) {\r\n                //   console.log(a.signature);\r\n                // });\r\n              }\r\n              return m;\r\n            }\r\n          }\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          var useFavoritesUrl = false;\r\n          if (method === 'update' || method === 'patch') {\r\n\r\n            // if attr key starts with 'favorite_' do the update on the /members/favorites url but\r\n            // remove the prefix to have the original attribute-name from the favorite model\r\n            // otherwise, just pass the attribute-to-update as it is and use the url from he\r\n            // original node model\r\n            var prefix = 'favorite_';\r\n            var attributesToUpdate = {};\r\n            _.each(_.keys(options.attrs), function (k) {\r\n              var newKey = k;\r\n              if (k.indexOf(prefix) === 0) {\r\n                useFavoritesUrl = true;\r\n                newKey = k.substr(prefix.length);\r\n              }\r\n              attributesToUpdate[newKey] = options.attrs[k];\r\n            });\r\n            options.attrs = attributesToUpdate;\r\n            if (useFavoritesUrl) {\r\n              var url = this.connector.getConnectionUrl().getApiBase('v2');\r\n              url = Url.combine(url, '/members/favorites');\r\n              url = Url.combine(url, model.id);\r\n\r\n              options.url = url;\r\n            }\r\n          }\r\n          return superSyncMethod.call(this, method, model, options);\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/favorite2',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url', 'csui/models/node/node.model',\r\n  'csui/models/server.adaptors/favorite2.mixin', 'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, Url, NodeModel, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var Favorite2Model = NodeModel.extend({\r\n\r\n    mustRefreshAfterPut: false,\r\n\r\n    idAttribute: 'id',\r\n\r\n    constructor: function Favorite2Model(attributes, options) {\r\n      NodeModel.prototype.constructor.apply(this, arguments);\r\n      this.makeServerAdaptor(options);\r\n    }\r\n  });\r\n\r\n  ServerAdaptorMixin.mixin(Favorite2Model.prototype);\r\n\r\n  return Favorite2Model;\r\n});\r\n\n","csui.define('csui/models/browsable/browsable.mixin',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url'\r\n], function (_, Backbone, Url) {\r\n\r\n  var FILTERS_SEPARATOR = '||';\r\n\r\n  var BrowsableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeBrowsable: function (options) {\r\n          options || (options = {});\r\n          this.skipCount = options.skip || 0;\r\n          this.topCount = options.top || 0;\r\n          this.filters = options.filter || {};\r\n          this.orderBy = options.orderBy;\r\n          if (_.isString(this.filters)) {\r\n             this.filters = this.filterStringToObject(this.filters);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        setFilter: function (value, attributes, options) {\r\n          // TODO: Simplify filer merging and detection of changes.\r\n          var filter = value,\r\n              name, modified;\r\n          if (_.isObject(value) && !_.isArray(value)) {\r\n            options = attributes;\r\n          } else {\r\n            filter = {};\r\n            filter[attributes] = value;\r\n          }\r\n          if (typeof options !== 'object') {\r\n            options = {fetch: options};\r\n          }\r\n          if (!_.isEmpty(filter)) {\r\n            for (name in filter) {\r\n              if (_.has(filter, name)) {\r\n                value = filter[name];\r\n                if (makeFilterValue(this.filters[name], name) !==\r\n                    makeFilterValue(value, name)) {\r\n                  if (value !== undefined) {\r\n                    this.filters[name] = value;\r\n                  }\r\n                  else {\r\n                    delete this.filters[name];\r\n                  }\r\n                  modified = true;\r\n                }\r\n              }\r\n            }\r\n            if (options.clear) {\r\n              for (name in this.filters) {\r\n                if (_.has(this.filters, name) && !_.has(filter, name)) {\r\n                  if (makeFilterValue(this.filters[name], name) !== undefined) {\r\n                    delete this.filters[name];\r\n                    modified = true;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if (modified) {\r\n              this.trigger('filter:change');\r\n              if (options.fetch !== false) {\r\n                this.fetch();\r\n              }\r\n              return true;\r\n            }\r\n          } else {\r\n            if (options.clear) {\r\n              return this.clearFilter(options.fetch);\r\n            }\r\n          }\r\n        },\r\n\r\n        clearFilter: function (fetch) {\r\n          var modified;\r\n          if (!_.isEmpty(this.filters)) {\r\n            for (var name in this.filters) {\r\n              if (_.has(this.filters, name)) {\r\n                if (makeFilterValue(this.filters[name], name) !== undefined) {\r\n                  delete this.filters[name];\r\n                  modified = true;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          if (modified) {\r\n            this.trigger('filter:clear');\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n        getFilterAsString: function () {\r\n          var filtersString = '', filters = this.filters;\r\n          if (filters) {\r\n            _.forEach(_.keys(filters), function (key) {\r\n              var value = filters[key];\r\n              if (value) {\r\n                if (filtersString) {\r\n                  filtersString += FILTERS_SEPARATOR;\r\n                }\r\n                if (value && _.isArray(value)) {\r\n                  if (value.length > 0) {\r\n                     filtersString += key + '=' + '[' + value + ']';\r\n                  }    \r\n                } else {\r\n                  filtersString += key + '=' + value;\r\n                }\r\n              }\r\n            });\r\n          }\r\n          return filtersString;\r\n        },\r\n\r\n        filterStringToObject: function (filtersString) {\r\n          var filters       = filtersString.split(FILTERS_SEPARATOR),\r\n              filtersObject = {};\r\n\r\n          _.each(filters, function (filter) {\r\n            var filterArray = filter.split('=');\r\n            var values = filterArray[1];\r\n            if (values && values.charAt(0) === '[') {\r\n              values = values.substring(1,values.length - 1 ).split(',');\r\n            }\r\n            filtersObject[filterArray[0]] = values;\r\n          });\r\n\r\n          return filtersObject;\r\n        },\r\n\r\n        setOrder: function (attributes, fetch) {\r\n          if (this.orderBy != attributes) {\r\n            this.orderBy = attributes;\r\n            if (fetch !== false) {\r\n              this.fetch({skipSort: false});\r\n            }\r\n            this.trigger('orderBy:change');\r\n            return true;\r\n          }\r\n        },\r\n\r\n        resetOrder: function (fetch) {\r\n          if (this.orderBy) {\r\n            this.orderBy = undefined;\r\n            this.trigger('orderBy:clear');\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        setSkip: function (skip, fetch) {\r\n          if (this.skipCount != skip) {\r\n            this.skipCount = skip;\r\n            this.trigger('paging:change');\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        setTop: function (top, fetch) {\r\n          if (this.topCount != top) {\r\n            this.topCount = top;\r\n            this.trigger('paging:change');\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        setLimit: function (skip, top, fetch) {\r\n          if (this.skipCount != skip || this.topCount != top) {\r\n            this.skipCount = skip;\r\n            this.topCount = top;\r\n            this.trigger('paging:change');\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        resetLimit: function (fetch) {\r\n          if (this.skipCount) {\r\n            this.skipCount = 0;\r\n            this.trigger('limits:change');\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  function makeFilterValue(value, name) {\r\n    if (value !== undefined && value !== null && value !== '') {\r\n      if (_.isArray(value)) {\r\n        value = Url.makeMultivalueParameter('where_' + name, value);\r\n      } else {\r\n        value = 'where_' + name + '=' + encodeURIComponent(value.toString());\r\n      }\r\n      if (value.length > 0) {\r\n        return value;\r\n      }\r\n    }\r\n  }\r\n\r\n  return BrowsableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/browsable/client-side.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/utils/base',\r\n  'csui/models/browsable/browsable.mixin'\r\n], function (_, $, Backbone, base, BrowsableMixin) {\r\n\r\n  var ClientSideBrowsableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      BrowsableMixin.mixin(prototype);\r\n\r\n      var originalFetch = prototype.fetch;\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeClientSideBrowsable: function (options) {\r\n          this.listenTo(this, 'add', this._modelAdded)\r\n              .listenTo(this, 'remove', this._modelRemoved)\r\n              .listenTo(this, 'reset', this._modelsReset);\r\n\r\n          if (!this.allModels) {\r\n            this.allModels = [];\r\n          }\r\n          this._filling = 0;\r\n\r\n          return this.makeBrowsable(options);\r\n        },\r\n\r\n        setOrderOnRequest: function (arg) {\r\n          this.orderOnRequest = arg;\r\n        },\r\n\r\n        getBrowsableUrlQuery: function () {\r\n          var query = {};\r\n\r\n          if (this.orderBy && this.orderOnRequest) {\r\n            var first = this.orderBy.split(',')[0].split(' ');\r\n            query.sort = (first[1] || 'asc') + '_' + first[0];\r\n          }\r\n          return $.param(query);\r\n        },\r\n\r\n        fetch: function (options) {\r\n          options = options ? _.clone(options) : {};\r\n          _.defaults(options, {skipSort: this.orderOnRequest});\r\n\r\n          var self = this;\r\n          var partialResponse;\r\n          if (!options.reload && this.lastFilteredAndSortedModels !== undefined) {\r\n            this.trigger('request', this, {}, options);\r\n            // Make the rest of the client side fetch async to behave like real ajax call\r\n            var deferred = $.Deferred();\r\n            setTimeout(function () {\r\n              partialResponse = self._fill(options);\r\n              self._notify(partialResponse, options);\r\n              deferred.resolve(partialResponse);\r\n            }, 0);\r\n            return deferred.promise();\r\n          }\r\n\r\n          var originalSilent = options.silent,\r\n              originalReset  = options.reset;\r\n          options.silent = true;\r\n          options.reset = true;\r\n\r\n          var originalSuccess = options.success,\r\n              originalError   = options.error;\r\n          options.success = function (collection, response, options) {\r\n            self.allModels = _.clone(self.models);\r\n            var originalParse = options.parse;\r\n            options.parse = false;\r\n            self.reset([], options);\r\n            if (originalSilent !== undefined) {\r\n              options.silent = originalSilent;\r\n            } else {\r\n              delete options.silent;\r\n            }\r\n            if (originalReset !== undefined) {\r\n              options.reset = originalReset;\r\n            } else {\r\n              delete options.reset;\r\n            }\r\n            partialResponse = self._fill(options);\r\n            --self._filling;\r\n            if (originalParse !== undefined) {\r\n              options.parse = originalParse;\r\n            } else {\r\n              delete options.parse;\r\n            }\r\n            options.success = originalSuccess;\r\n            if (originalSuccess) {\r\n              originalSuccess.call(options.context, collection, response, options);\r\n            }\r\n          };\r\n          options.error = function (collection, response, options) {\r\n            --self._filling;\r\n            if (originalError) {\r\n              originalError.call(options.context, collection, response, options);\r\n            }\r\n          };\r\n\r\n          ++this._filling;\r\n          this.lastFilteredAndSortedModels = undefined;\r\n          this._lastFilterAndSortCriteria = undefined;\r\n          var pr = originalFetch.call(this, options).then(function () {\r\n            return partialResponse;\r\n          });\r\n          return pr;\r\n        },\r\n\r\n        populate: function (models, options) {\r\n          options = _.extend({parse: true}, options);\r\n          var originalSilent = options.silent,\r\n              originalReset  = options.reset;\r\n          options.silent = true;\r\n          options.reset = true;\r\n          options.skipSort = this.orderOnRequest;\r\n\r\n          ++this._filling;\r\n\r\n          this.lastFilteredAndSortedModels = [];\r\n          this._lastFilterAndSortCriteria = undefined;\r\n          // Reset the filtering, sorting and paging parameters\r\n          this.skipCount = 0;\r\n          // this.topCount = 0;\r\n          this.filters = {};\r\n          this.orderBy = undefined;\r\n          this.sorting && !this.sorting.links && (this.sorting = undefined);\r\n          this.reset(models, options);\r\n          this.allModels = _.clone(this.models);\r\n          var originalParse = options.parse;\r\n          options.parse = false;\r\n          this.reset([], options);\r\n          this.trigger('request', this, {}, options);\r\n          options.silent = originalSilent;\r\n          if (this.allModels.length === 0) {\r\n            options.reset = true;\r\n          } else {\r\n            options.reset = originalReset;\r\n          }\r\n          var deferred = $.Deferred();\r\n          var self = this;\r\n          setTimeout(function () {\r\n            self.fetched = true; // this prevents the table from doing a collection.fetch\r\n            var partialResponse = self._fill(options);\r\n            --self._filling;\r\n            options.parse = originalParse;\r\n            self._notify(partialResponse, options);\r\n            deferred.resolve(partialResponse);\r\n          });\r\n          return deferred.promise();\r\n        },\r\n\r\n        // Set the allModels without doing a fetch or reset\r\n        setAllModels: function (models) {\r\n          // make the collection empty\r\n          var options = {};\r\n          options.parse = false;\r\n          var topCount = this.topCount;\r\n          this.reset([], options);\r\n          this.topCount = topCount; // topCount gets lost in reset...\r\n\r\n          this.allModels = _.clone(models);\r\n          this.totalCount = this.allModels.length;\r\n          // Mark this collection as \"fetched\" the actual content will be\r\n          // populated first, when it is needed for the fetch method\r\n          this.lastFilteredAndSortedModels = [];\r\n          this._lastFilterAndSortCriteria = undefined;\r\n          // Reset the filtering, sorting and paging parameters\r\n          this.skipCount = 0;\r\n          // this.topCount = 0;\r\n          this.filters = {};\r\n          this.orderBy = undefined;\r\n          this.sorting && !this.sorting.links && (this.sorting = undefined);\r\n        },\r\n\r\n        compareObjectsForSort: function (property, left, right) {\r\n          left = this._parseValue(property, left.get(property));\r\n          right = this._parseValue(property, right.get(property));\r\n          return this._compareValues(property, left, right);\r\n        },\r\n\r\n        _fill: function (options) {\r\n          var filterAndSortCriteria = {\r\n                orderBy: this.orderBy,\r\n                filters: _.clone(this.filters)\r\n              },\r\n              models;\r\n          if (this._lastFilterAndSortCriteria &&\r\n              _.isEqual(this._lastFilterAndSortCriteria, filterAndSortCriteria)) {\r\n            models = this.lastFilteredAndSortedModels;\r\n          } else {\r\n            models = _.clone(this.allModels);\r\n            models = this._filter(models);\r\n            this.sorting && !this.sorting.links && (this.sorting = undefined);\r\n            if (!options.skipSort) {\r\n              models = this._sort(models);\r\n              if (this.orderBy && this.sorting === undefined) {\r\n                var orderBy = this.orderBy.split(' ');\r\n                this.sorting = {sort: []};\r\n                this.sorting.sort.push({key: 'sort', value: ((orderBy[1] || 'asc') + '_' + orderBy[0])});\r\n              }\r\n            }\r\n\r\n            this.lastFilteredAndSortedModels = models;\r\n            this._lastFilterAndSortCriteria = filterAndSortCriteria;\r\n          }\r\n          this.totalCount = this.allModels.length;\r\n          this.filteredCount = models.length;\r\n          models = this._limit(models);\r\n\r\n          var reset = options.reset;\r\n          if (reset === undefined) {\r\n            reset = this.autoreset;\r\n          }\r\n          var method = reset ? 'reset' : 'set';\r\n          // Prevent the 'add' and 'reset' event handlers triggered by\r\n          // filling models from allModels here modify allModels again\r\n          ++this._filling;\r\n          this[method](models, options);\r\n          --this._filling;\r\n\r\n          return models;\r\n        },\r\n\r\n        _notify: function (response, options) {\r\n          if (options.success) {\r\n            options.success.call(options.context, this, response, options);\r\n          }\r\n          this.trigger('sync', this, response, options);\r\n        },\r\n\r\n        _limit: function (models) {\r\n          if (this.skipCount) {\r\n            this.actualSkipCount = Math.min(this.skipCount, models.length);\r\n            models = models.slice(this.skipCount);\r\n          } else {\r\n            this.actualSkipCount = 0;\r\n          }\r\n          if (this.topCount) {\r\n            models = models.slice(0, this.topCount);\r\n          }\r\n          return models;\r\n        },\r\n\r\n        _sort: function (models) {\r\n          var self = this;\r\n          if (this.orderBy) {\r\n            var criteria = _.map(this.orderBy.split(','), function (criterion) {\r\n              var parts = criterion.trim().split(' ');\r\n              return {\r\n                property: parts[0],\r\n                descending: parts[1] === 'desc'\r\n              };\r\n            });\r\n\r\n            models = models.sort(function (left, right) {\r\n              var result = 0;\r\n              _.find(criteria, function (criterion) {\r\n                result = self.compareObjectsForSort(criterion.property, left, right);\r\n                if (result) {\r\n                  if (criterion.descending) {\r\n                    result *= -1;\r\n                  }\r\n                  return true;\r\n                }\r\n              });\r\n              return result;\r\n            });\r\n          }\r\n          return models;\r\n        },\r\n\r\n        _filter: function (models) {\r\n          var self = this;\r\n          for (var name in this.filters) {\r\n            if (_.has(this.filters, name)) {\r\n              var values = this.filters[name];\r\n              if (values != null && values !== '') {\r\n                _.isArray(values) || (values = [values]);\r\n                models = _.filter(models, function (node) {\r\n                  var hay = self._parseValue(name, node.get(name));\r\n                  return _.any(values, function (value) {\r\n                    var needle = self._parseValue(name, value);\r\n                    if (name === 'type' && needle == -1) {\r\n                      return node.get('container');\r\n                    }\r\n                    return self._containsValue(name, hay, needle);\r\n                  });\r\n                });\r\n              }\r\n            }\r\n          }\r\n          return models;\r\n        },\r\n\r\n        _modelAdded: function (model, collection, options) {\r\n          if (this._populate(options)) {\r\n            this.allModels.push(model);\r\n            ++this.totalCount;\r\n            this._lastFilterAndSortCriteria = undefined;\r\n          }\r\n        },\r\n\r\n        _modelRemoved: function (model, collection, options) {\r\n          if (this._populate(options)) {\r\n            var index = _.findIndex(this.allModels, model);\r\n            if (index >= 0) {\r\n              this.allModels.splice(index, 1);\r\n              --this.totalCount;\r\n              this._lastFilterAndSortCriteria = undefined;\r\n            }\r\n          }\r\n        },\r\n\r\n        _modelsReset: function (collection, options) {\r\n          if (this._populate(options)) {\r\n            this.allModels = _.clone(this.models);\r\n            this.totalCount = this.allModels.length;\r\n            // Mark this collection as \"fetched\" the actual content will be\r\n            // populated first, when it is needed for the fetch method\r\n            this.lastFilteredAndSortedModels = [];\r\n            this._lastFilterAndSortCriteria = undefined;\r\n            // Reset the filtering, sorting and paging parameters\r\n            this.skipCount = this.topCount = 0;\r\n            this.filters = {};\r\n            this.orderBy = undefined;\r\n            this.sorting && !this.sorting.links && (this.sorting = undefined);\r\n          }\r\n        },\r\n\r\n        _populate: function (options) {\r\n          return !(this._filling || options && options.populate === false);\r\n        },\r\n\r\n        _compareValues: function (property, left, right) {\r\n          //STRING Comparision.\r\n          if (typeof left === 'string' && typeof right === 'string') {\r\n            // FIXME: Implement the locale-specific comparison only for localizable strings;\r\n            // not for values with internal system constants, which can be case-sensitive\r\n            return base.localeCompareString(left, right, {usage: 'sort'});\r\n          } else if (_.isArray(left) || _.isArray(right)) { //ARRAY Comparision.\r\n            if (!_.isArray(left)) {\r\n              left = [left];\r\n            } else if (!_.isArray(right)) {\r\n              right = [right];\r\n            }\r\n            return this._compareArrays(left, right);\r\n          }\r\n          return this._compareObjects(left, right); //OBJECT Comparision.\r\n        },\r\n\r\n        _compareObjects: function (left, right) {\r\n          if (left != right) {\r\n            if (left > right || right === void 0) {\r\n              return 1;\r\n            }\r\n            if (left < right || left === void 0) {\r\n              return -1;\r\n            }\r\n          }\r\n          return 0;\r\n        },\r\n\r\n        _compareArrays: function (left, right) {\r\n          var result = 0,\r\n              len    = Math.min(left.length, right.length),\r\n              i      = 0;\r\n          while (i <= len) {\r\n            if (i === left.length && i === right.length) {\r\n              result = 0;\r\n              break;\r\n            } else if (i === left.length) {\r\n              result = -1;\r\n              break;\r\n            } else if (i === right.length) {\r\n              result = 1;\r\n              break;\r\n            } else {\r\n              if (typeof left[i] === 'string' && typeof right[i] === 'string') {\r\n                result = base.localeCompareString(left[i], right[i], {usage: 'sort'});\r\n              } else {\r\n                result = this._compareObjects(left[i], right[i]);\r\n              }\r\n              if (result !== 0) {\r\n                break;\r\n              }\r\n            }\r\n            i++;\r\n          }\r\n          return result;\r\n        },\r\n\r\n        _containsValue: function (property, hay, needle) {\r\n          if (typeof hay === 'string' && typeof needle === 'string') {\r\n            // FIXME: Implement the locale-specific comparison only for localizable strings;\r\n            // not for values with internal system constants, which can be case-sensitive\r\n            return base.localeContainsString(hay, needle.toString());\r\n          } else if (_.isArray(hay) && typeof needle === 'string') {\r\n            return _.some(hay, function (blade) {\r\n              if (typeof blade === 'string') {\r\n                return base.localeContainsString(blade, needle.toString());\r\n              } else {\r\n                return blade == needle;\r\n              }\r\n            });\r\n          }\r\n\r\n          return hay == needle;\r\n        },\r\n\r\n        // FIXME: Use metadata to get the correct value type for parsing\r\n        _parseValue: function (property, value) {\r\n          if (value != null) {\r\n            if (property === 'type') {\r\n              return +value;\r\n            }\r\n            if (property.indexOf('date') >= 0) {\r\n              if (_.isArray(value)) {\r\n                return value.map(function (val) {\r\n                  return new Date(val);\r\n                });\r\n              } else {\r\n                return new Date(value);\r\n              }\r\n            }\r\n          }\r\n          return value;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return ClientSideBrowsableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/browsable/v2.response.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  'use strict';\r\n\r\n  var BrowsableV2ResponseMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeBrowsableV2Response: function (options) {\r\n          this.orderBy = options.orderBy;\r\n          return this;\r\n        },\r\n\r\n        parseBrowsedState: function (response, options) {\r\n          var collection = response.collection || response,\r\n              paging = collection.paging,\r\n              sorting = collection.sorting,\r\n              searching = collection.searching;\r\n          if (paging) {\r\n            this.actualSkipCount = (paging.page - 1) * (paging.limit || 0);\r\n            this.totalCount = paging.total_count;\r\n            this.filteredCount = paging.filtered_count || paging.total_count;\r\n          } else {\r\n            // Support limited v2 collections like favorites\r\n            this.actualSkipCount = 0;\r\n            this.filteredCount = this.totalCount = response.results.length;\r\n          }\r\n          if (sorting) {\r\n            this.sorting = sorting;\r\n\r\n            // The value in the 'sorting' object can either be the column key or the sort key, depending on the type of\r\n            // column.  Search the array of columns for a column with a matching sort key.  We want to save the column\r\n            // key for this column for later use (see _handleResponseSortBy() in table.view.js).\r\n            if (paging.columns) {\r\n              var sortValue = sorting.sort[0].value,\r\n                  markerIndex = sortValue.indexOf('_'),\r\n                  sortKey = sortValue.substring(markerIndex + 1);\r\n\r\n              var foundColumn;\r\n              _.each(paging.columns, function (column) {\r\n                if (column.sort_key === sortKey) {\r\n                  foundColumn = column;\r\n                }\r\n              });\r\n\r\n              if (foundColumn) {\r\n                  this.sortingColumnKey = foundColumn.key;\r\n              }\r\n            }\r\n          }\r\n          if (searching) {\r\n            this.searching = searching;\r\n          }\r\n        },\r\n\r\n        parseBrowsedItems: function (response, options) {\r\n          return response.results;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return BrowsableV2ResponseMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/models/impl/nls/root/lang',{\r\n  serverCallPrecheckFailedMissingConnector: 'Missing connector data for server call.',\r\n  serverCallPrecheckFailedModelIsNew: 'Model is new.',\r\n\r\n  fav_parent_id: 'Location',\r\n  fav_size: 'Size',\r\n  fav_ungrouped: 'Ungrouped',\r\n\r\n  name: \"Name\",\r\n  type: \"Type\",\r\n  version: \"Version\",\r\n  state: \"State\",\r\n  favorite: \"Favorite\",\r\n  toggleDetails: \"Toggle Details\",\r\n  parentID: \"Parent ID\"\r\n});\r\n\n","\n","csui.define('csui/models/favorite2column',['csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/url',\r\n  'i18n!csui/models/impl/nls/lang'\r\n], function (_, Backbone,\r\n    Url,\r\n    lang) {\r\n  'use strict';\r\n\r\n  var Favorite2ColumnModel = Backbone.Model.extend({\r\n\r\n    idAttribute: null,\r\n\r\n    constructor: function Favorite2ColumnModel(attributes, options) {\r\n      if (attributes && !attributes.title) {\r\n        var columnKey = 'fav_' + attributes.column_key;\r\n        attributes.title = lang[columnKey];\r\n      }\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n    }\r\n\r\n  });\r\n\r\n  return Favorite2ColumnModel;\r\n});\r\n\n","csui.define('csui/models/favorite2columns',['csui/lib/underscore', 'csui/lib/backbone', 'csui/models/favorite2column', 'i18n!csui/models/impl/nls/lang'\r\n], function (_, Backbone, Favorite2ColumnModel, modelLang) {\r\n  'use strict';\r\n\r\n  var Favorite2ColumnCollection = Backbone.Collection.extend({\r\n\r\n    model: Favorite2ColumnModel,\r\n\r\n    constructor: function Favorite2ColumnCollection(models, options) {\r\n      if (!models) {\r\n        models = [\r\n          {\r\n            default_action: true,\r\n            key: \"type\",\r\n            name: modelLang.type,\r\n            type: 2\r\n          },\r\n          {\r\n            default_action: true,\r\n            key: \"favorite_name\",\r\n            name: modelLang.name,\r\n            type: -1\r\n          },\r\n          {\r\n            key: \"reserved\", // the column can hold different icons representing state-information, not just the reserved-state.\r\n            name: modelLang.state,\r\n            type: 5\r\n          },\r\n          {\r\n            key: \"parent_id\",\r\n            name: modelLang.parentID,\r\n            type: 2\r\n          },\r\n          {\r\n            key: \"favorite\",\r\n            name: modelLang.favorite,\r\n            type: 5\r\n          }\r\n        ];\r\n        models.forEach(function (column, index) {\r\n          column.definitions_order = index + 100;\r\n          column.column_key = column.key;\r\n        });\r\n      }\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n    }\r\n\r\n  });\r\n\r\n  return Favorite2ColumnCollection;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/favorites2.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          // this.setExpand('favorites', 'tab_id');\r\n          var url   = this.connector.getConnectionUrl().getApiBase('v2'),\r\n              query = Url.combineQueryString(\r\n                  this.getAdditionalResourcesUrlQuery(),\r\n                  this.getResourceFieldsUrlQuery(),\r\n                  this.getExpandableResourcesUrlQuery(),\r\n                  this.getStateEnablingUrlQuery(),\r\n                  this.getRequestedCommandsUrlQuery(),\r\n                  this.getSortByOrderUrlQuery()\r\n              );\r\n          url = Url.combine(url, '/members/favorites');\r\n          return query ? url + '?' + query : url;\r\n        },\r\n\r\n        getSortByOrderUrlQuery: function () {\r\n          return {sort: 'order'};\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          this.parseBrowsedState({results: response}, options);\r\n          // don't parse columns here, because they are hardcoded in the constructor of Favorite2ColumnCollection\r\n          return this.parseBrowsedItems(response, options);\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/favorites2',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/state.requestor/state.requestor.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/browsable/client-side.mixin',\r\n  'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n  'csui/models/favorite2',\r\n  'csui/models/favorite2columns',\r\n  'csui/models/server.adaptors/favorites2.mixin',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone,\r\n    ConnectableMixin,\r\n    FetchableMixin,\r\n    AdditionalResourcesV2Mixin,\r\n    FieldsV2Mixin,\r\n    ExpandableV2Mixin,\r\n    StateRequestorMixin,\r\n    CommandableV2Mixin,\r\n    ClientSideBrowsableMixin,\r\n    BrowsableV2ResponseMixin,\r\n    DelayedCommandableV2Mixin,\r\n    Favorite2Model,\r\n    Favorite2ColumnCollection,\r\n    ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var Favorite2Collection = Backbone.Collection.extend({\r\n\r\n    model: Favorite2Model,\r\n\r\n    constructor: function Favorite2Collection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.callCounter = 0;\r\n\r\n      // Support collection cloning\r\n      if (options) {\r\n        this.options = _.pick(options, ['connector', 'autoreset',\r\n          'includeResources', 'fields', 'expand', 'commands']);\r\n      }\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeStateRequestor(options)\r\n          .makeCommandableV2(options)\r\n          .makeClientSideBrowsable(options)\r\n          .makeBrowsableV2Response(options)\r\n          .makeDelayedCommandableV2(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      this.columns = new Favorite2ColumnCollection(options.columns);\r\n    },\r\n\r\n    _prepareModel: function (attrs, options) {\r\n      options || (options = {});\r\n      options.promotedActionCommands = this.promotedActionCommands;\r\n      options.nonPromotedActionCommands = this.nonPromotedActionCommands;\r\n      return Backbone.Collection.prototype._prepareModel.call(this, attrs, options);\r\n    },\r\n\r\n    clone: function () {\r\n      // Provide the options; they may include connector and other parameters\r\n      var clone = new this.constructor(this.models, {\r\n        connector: this.connector,\r\n        fields: _.deepClone(this.fields),\r\n        expand: _.deepClone(this.expand),\r\n        includeResources: _.clone(this._additionalResources),\r\n        skip: this.skipCount,\r\n        top: this.topCount,\r\n        filter: _.deepClone(this.filters),\r\n        orderBy: this.orderBy,\r\n        commands: _.clone(this.commands),\r\n        defaultActionCommands: _.clone(this.defaultActionCommands),\r\n        delayRestCommands: this.delayRestCommands\r\n      });\r\n\r\n      // Clone sub-models not covered by Backbone\r\n      if (this.columns) {\r\n        clone.columns.reset(this.columns.toJSON());\r\n      }\r\n      // Clone properties about the full (not-yet fetched) collection\r\n      clone.actualSkipCount = this.actualSkipCount;\r\n      clone.totalCount = this.totalCount;\r\n      clone.filteredCount = this.filteredCount;\r\n      return clone;\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: this.fields,\r\n        expand: this.expand,\r\n        includeResources: this._additionalResources,\r\n        commands: this.commands,\r\n        defaultActionCommands: this.defaultActionCommands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n      this.resetDefaultActionCommands();\r\n      scope.defaultActionCommands && this.setDefaultActionCommands(scope.defaultActionCommands);\r\n    }\r\n\r\n  });\r\n\r\n  ClientSideBrowsableMixin.mixin(Favorite2Collection.prototype);\r\n  BrowsableV2ResponseMixin.mixin(Favorite2Collection.prototype);\r\n  ConnectableMixin.mixin(Favorite2Collection.prototype);\r\n  FetchableMixin.mixin(Favorite2Collection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(Favorite2Collection.prototype);\r\n  FieldsV2Mixin.mixin(Favorite2Collection.prototype);\r\n  ExpandableV2Mixin.mixin(Favorite2Collection.prototype);\r\n  StateRequestorMixin.mixin(Favorite2Collection.prototype);\r\n  CommandableV2Mixin.mixin(Favorite2Collection.prototype);\r\n  DelayedCommandableV2Mixin.mixin(Favorite2Collection.prototype);\r\n  ServerAdaptorMixin.mixin(Favorite2Collection.prototype);\r\n\r\n  return Favorite2Collection;\r\n\r\n});\r\n\n","csui.define('csui/models/favorite2group',[\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/models/favorites2', 'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, Url, ResourceMixin, UploadableMixin,\r\n   Favorite2Collection) {\r\n  'use strict';\r\n\r\n  var Favorite2GroupModel = Backbone.Model.extend({\r\n    mustRefreshAfterPut: false,\r\n\r\n    idAttribute: 'tab_id',\r\n\r\n    constructor: function Favorite2GroupModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.makeResource(options);\r\n      this.makeUploadable(options);\r\n\r\n      // initialize favorites of this group with provided favorites and columns\r\n      attributes || (attributes = {});\r\n\r\n      this.favorites = new Favorite2Collection(attributes.favorites, {\r\n        connector: options.connector,\r\n        autoreset: true,\r\n        tab_id: this.get('tab_id'),\r\n        columns: attributes.favorite_columns,\r\n        commands: options && options.commands\r\n      });\r\n    },\r\n\r\n    urlRoot: function () {\r\n      var v2Url = this.connector.getConnectionUrl().getApiBase('v2');\r\n      var url = Url.combine(v2Url, \"/members/favorites/tabs/\");\r\n      return url;\r\n    },\r\n\r\n    parse: function (resp, options) {\r\n      if (resp.results && resp.results.data) {\r\n        return {tab_id: resp.results.data.tab_id};\r\n      } else {\r\n        return resp;\r\n      }\r\n    }\r\n  });\r\n\r\n  ResourceMixin.mixin(Favorite2GroupModel.prototype);\r\n  UploadableMixin.mixin(Favorite2GroupModel.prototype);\r\n\r\n  return Favorite2GroupModel;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/favorite2groups.mixin',[\r\n  'csui/lib/jquery', 'csui/lib/underscore', 'csui/utils/url', 'i18n!csui/models/impl/nls/lang'\r\n], function ($, _, Url, lang) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          if (method !== 'read') {\r\n            throw new Error('Only fetching groups with favorites is supported.');\r\n          }\r\n          var groups = this.connector.makeAjaxCall({url: this.url()})\r\n            .then(function (response) {\r\n              return response;\r\n            });\r\n\r\n          var favoritesCollection = this.favorites;\r\n          var favoritesFetchOptions = _.omit(options, ['success', 'error']);\r\n          var favorites = favoritesCollection.fetch(favoritesFetchOptions)\r\n            .then(function (response) {\r\n              return favoritesCollection; // need full object, including columns when merging\r\n            });\r\n\r\n          // Groups will be parsed by _createMergedResponse,\r\n          // favorites were parsed by Favorite2Collection.\r\n          options.parse = false;\r\n\r\n          return this.syncFromMultipleSources([groups, favorites], this._createMergedResponse, options);\r\n        },\r\n\r\n        _createMergedResponse: function (groups, favoritesCollection, options) {\r\n          var favorites = favoritesCollection.toJSON();\r\n          var columns = favoritesCollection.columns;\r\n          // add \"Unspecified group\"\r\n          groups.results.push({data: {name: lang.fav_ungrouped, order: -1, tab_id: -1}});\r\n          var merged = groups.results.map(function (group) {\r\n            group = group.data;\r\n\r\n            var tabId = group.tab_id;\r\n            group.favorites = favorites.filter(function (favorite) {\r\n              return favorite.favorite_tab_id === tabId || tabId === -1 && favorite.favorite_tab_id ===\r\n                null;\r\n            });\r\n            group.favorite_columns = columns.toJSON(); //\r\n            return group;\r\n          });\r\n\r\n          return merged;\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          return response;\r\n        },\r\n\r\n        url: function () {\r\n          // this.setExpand('favorites', 'tab_id');\r\n          var url = this.connector.getConnectionUrl().getApiBase('v2'),\r\n            query = Url.combineQueryString(\r\n              this.getAdditionalResourcesUrlQuery(),\r\n              this.getResourceFieldsUrlQuery(),\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getSortByOrderUrlQuery()\r\n              // this.getRequestedCommandsUrlQuery()\r\n            );\r\n          url = Url.combine(url, '/members/favorites/tabs');\r\n          return query ? url + '?' + query : url;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/favorite2groups',['csui/lib/jquery',\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/utils/base',\r\n  'csui/models/mixins/syncable.from.multiple.sources/syncable.from.multiple.sources.mixin',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/favorite2group', 'csui/models/favorites2',\r\n  'csui/models/server.adaptors/favorite2groups.mixin',\r\n  'i18n!csui/models/impl/nls/lang'\r\n], function ($, _, Backbone, Url, base, ConnectableMixin, FetchableMixin,\r\n    AdditionalResourcesV2Mixin, FieldsV2Mixin, ExpandableV2Mixin, SyncableFromMultipleSources,\r\n    Favorite2GroupModel, Favorite2Collection, ServerAdaptorMixin, lang) {\r\n  'use strict';\r\n\r\n  var Favorite2GroupsCollection = Backbone.Collection.extend({\r\n    model: Favorite2GroupModel,\r\n\r\n    constructor: function Favorite2GroupsCollection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      // Support collection cloning\r\n      if (options) {\r\n        this.options = _.pick(options, ['connector', 'autoreset',\r\n          'includeResources', 'fields', 'expand' /*, 'commands'*/]);\r\n      }\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      if (options) {\r\n        this.favorites = options.favorites;\r\n        this.commands = options.commands;\r\n      }\r\n      if (!this.favorites) {\r\n        this.favorites = new Favorite2Collection(undefined, {\r\n          connector: this.connector,\r\n          autoreset: true,\r\n          commands: this.commands\r\n        });\r\n      }\r\n      this.on('sync', this._setupEventPropagation, this);\r\n      this.on('add', this._propagateFavorite2CollectionOptions, this);\r\n      this.on('reset', function (groups, options) {\r\n        var self = this;\r\n        groups.each(function (group) {\r\n          self._propagateFavorite2CollectionOptions(group, groups, options);\r\n        });\r\n      }, this);\r\n    },\r\n\r\n    _fetch: function (options) {\r\n      options || (options = {});\r\n      options.originalSilent = options.silent;\r\n      // make this fetch silent, because another fetch is done at then reset\r\n      //  event is triggered\r\n      options.silent = true;\r\n\r\n      return this.originalFetch.call(this, options);\r\n    },\r\n\r\n    _prepareModel: function (attrs, options) {\r\n      options || (options = {});\r\n      options.commands = this.commands;\r\n      return Backbone.Collection.prototype._prepareModel.call(this, attrs, options);\r\n    },\r\n\r\n    _setupEventPropagation: function () {\r\n      var self = this;\r\n      this.each(function (group) {\r\n        group.favorites.listenTo(group.favorites, \"reset update\",\r\n            function (favoritesCollection, options) {\r\n              self.trigger('update', self, options);\r\n            });\r\n\r\n      }, this);\r\n    },\r\n\r\n    // Note: this.favorites is the collection that was used to set the resource scope and when group\r\n    // plus the favorites are being merged, reset is triggered for all groups, which then\r\n    // already have the favorites. Then the options get copied or cloned from the original\r\n    // collection to each favorite collection of each group.\r\n    // This is necessary, because if a model of those favorite collections is saved and fetched\r\n    // again, the options from the collection are used if not set at the single model. Otherwise\r\n    // a single favorite model would be fetched without commands, expands, etc.\r\n    _propagateFavorite2CollectionOptions: function (group, collection, options) {\r\n      group.favorites.setFilter(_.deepClone(this.favorites.filters), false);\r\n      group.favorites.setOrder(this.favorites.orderBy, false);\r\n      group.favorites.setFields(_.deepClone(this.favorites.fields));\r\n      group.favorites.setExpand(_.deepClone(this.favorites.expand));\r\n      if (this.favorites.commands) {\r\n        group.favorites.setCommands(this.favorites.commands);\r\n      }\r\n      group.favorites.promotedActionCommands = this.favorites.promotedActionCommands;\r\n      group.favorites.nonPromotedActionCommands = this.favorites.nonPromotedActionCommands;\r\n      group.favorites.each(function (favorite) {\r\n        favorite.promotedActionCommands = group.favorites.promotedActionCommands;\r\n        favorite.nonPromotedActionCommands = group.favorites.nonPromotedActionCommands;\r\n      });\r\n    },\r\n\r\n    clone: function () {\r\n      var clone = new this.constructor(this.models, {\r\n        // node: this.node,\r\n        // skip: this.skipCount,\r\n        // top: this.topCount,\r\n        connector: this.connector,\r\n        filter: _.deepClone(this.filters),\r\n        orderBy: this.orderBy,\r\n        fields: _.clone(this.fields),\r\n        expand: _.clone(this.expand),\r\n        commands: _.clone(this.commands),\r\n        favorites: this.favorites.clone()\r\n      });\r\n\r\n      return clone;\r\n    },\r\n\r\n    getSortByOrderUrlQuery: function () {\r\n      return {sort: 'order'};\r\n    },\r\n\r\n    // private: reset the collection\r\n    resetCollection: function (models, options) {\r\n      this.reset(models, options);\r\n      this.fetched = true;\r\n    },\r\n\r\n    // todo: this should be a PUT to /members/favorites/tabs with the following hierarchical\r\n    // structure (and it should be moved to the favorites2groups model):\r\n\r\n    // var tabs = [\r\n    //   {\r\n    //     name: \"first group\",\r\n    //     favorites: [\r\n    //       {\r\n    //         name: \"Document for review\",\r\n    //         size: 20099790,\r\n    //         favorite_name: \"Favorite of Document for review\"\r\n    //         // more attributes follow ...\r\n    //       },\r\n    //       {\r\n    //         name: \"Specification\",\r\n    //         size: 98898690,\r\n    //         favorite_name: \"Pump Specification\"\r\n    //         // more attributes follow ...\r\n    //       }\r\n    //     ]\r\n    //   },\r\n    //   {\r\n    //     name: \"second group\",\r\n    //     favorites: [\r\n    //       {\r\n    //         name: \"My Presentation\",\r\n    //         size: 987078,\r\n    //         favorite_name: \"The Presentation for all Managers\"\r\n    //         // more attributes follow ...\r\n    //       }\r\n    //     ]\r\n    //   }\r\n    // ];\r\n\r\n    saveAll: function () {\r\n      var self = this;\r\n      var tabs = this.map(function (group) {\r\n        var groupName;\r\n        var groupId = group.get('tab_id');\r\n        if (groupId == -1) {\r\n          groupName = null; // the ungrouped group has no name\r\n        } else {\r\n          groupName = group.get('name');\r\n        }\r\n        return {\r\n          name: groupName, tab_id: groupId, favorites: group.favorites.map(function (favorite) {\r\n            return {\r\n              id: favorite.get('id'),\r\n              name: favorite.get('favorite_name')\r\n            };\r\n          })\r\n        };\r\n      });\r\n\r\n      // this makes a formdata request\r\n      var putUrl = this.connector.getConnectionUrl().getApiBase('v2');\r\n      putUrl = Url.combine(putUrl, '/csui/favorites');\r\n\r\n      // callCounter is for detecting parallel REST calls and to use only response from latest\r\n      this.callCounter++;\r\n\r\n      var options = {\r\n        type: 'PUT',\r\n        url: putUrl,\r\n        data: tabs,\r\n        beforeSend: function (request, settings) {\r\n          request.counter = self.callCounter;\r\n        }\r\n      };\r\n\r\n      var deferred = $.Deferred();\r\n      var jqxhr = this.connector.makeAjaxCall(options);\r\n      jqxhr.then(function (response) {\r\n        if (jqxhr.counter < self.callCounter) {\r\n          // let the caller ignore the results, because a new save operation was already started\r\n          deferred.reject();\r\n        } else {\r\n          // get new tab_ids because with bulk update call, the server invalidates all tab_ids\r\n          options = {\r\n            type: 'GET',\r\n            url: self.url()\r\n          };\r\n          var jqxhrTabs = self.connector.makeAjaxCall(options)\r\n              .then(function (tabsResp) {\r\n                if (tabsResp.results && tabsResp.results instanceof Array) {\r\n                  // merge the retrieved tab_id and order attributes with the existing models: the\r\n                  // order of the returned list is the same as the order in this collection.\r\n                  // Associate the models one by one, because the sequence is the same (if\r\n                  // nothing changed them again in the meanwhile at the server)\r\n                  // Note, this collection has at the end an additional group with tab_id = -1,\r\n                  // which is the Ungrouped favorite group. This never changes. It's always at\r\n                  // the end.\r\n\r\n                  tabsResp.results.forEach(function (elem, index) {\r\n                    if (elem.data) {\r\n                      var group = self.at(index);\r\n                      // must remove the group from the collection and add it again before\r\n                      // changing the id (in this case tab_id) to let backbone update the byId\r\n                      // structure correctly. this is a hack!\r\n                      self.remove(group, {silent: true});\r\n                      group.set('tab_id', elem.data.tab_id, {silent: true});\r\n                      self.add(group, {at: index, silent: true});\r\n\r\n                      group.set('order', elem.data.order, {silent: true});\r\n                      // also update the tab_id stored in each favorite too, just in case\r\n                      // anybody is using this...\r\n                      for (var i = 0; i < group.favorites.length; i++) {\r\n                        var favorite = group.favorites.at(i);\r\n                        // do the hack also here to let backbone update the byId structure\r\n                        group.favorites.remove(favorite, {silent: true});\r\n                        favorite.set('favorite_tab_id', elem.data.tab_id, {silent: true});\r\n                        group.favorites.add(favorite, {at: i, silent: true});\r\n                      }\r\n                    }\r\n                  });\r\n\r\n                }\r\n                deferred.resolve(response);\r\n                self.trigger('bulk:update:succeed');\r\n              }, function (jqxhrTabs, statusText) {\r\n                var errorTabs = new base.RequestErrorMessage(jqxhrTabs);\r\n                deferred.reject(errorTabs);\r\n                self.trigger('bulk:update:fail');\r\n              });\r\n        }\r\n      }, function (jqxhr, statusText) {\r\n        // if self.callCounter is already higher than the stored value of this request, then\r\n        // a newer request was already started -> ignore the error in that case.\r\n        if (jqxhr.counter < self.callCounter) {\r\n          deferred.reject();\r\n        } else {\r\n          var error = new base.RequestErrorMessage(jqxhr);\r\n          deferred.reject(error);\r\n        }\r\n        self.trigger('bulk:update:fail');\r\n      });\r\n      return deferred.promise();\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(Favorite2GroupsCollection.prototype);\r\n  FetchableMixin.mixin(Favorite2GroupsCollection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(Favorite2GroupsCollection.prototype);\r\n  FieldsV2Mixin.mixin(Favorite2GroupsCollection.prototype);\r\n  ExpandableV2Mixin.mixin(Favorite2GroupsCollection.prototype);\r\n  SyncableFromMultipleSources.mixin(Favorite2GroupsCollection.prototype);\r\n  ServerAdaptorMixin.mixin(Favorite2GroupsCollection.prototype);\r\n\r\n  return Favorite2GroupsCollection;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/favorite.model.mixin',[\r\n  'csui/lib/jquery', 'csui/lib/underscore', 'csui/utils/url', 'i18n!csui/models/impl/nls/lang'\r\n], function ($, _, Url, lang) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          return Url.combine(this.options.connector.getConnectionUrl().getApiBase('v2'),\r\n            'members/favorites', this.get('id'));\r\n        },\r\n\r\n        _serverCallPreCheck: function () {\r\n          if (this.isNew()) {\r\n            return {error: lang.serverCallPrecheckFailedModelIsNew};\r\n          }\r\n          if (!this.options || !this.options.connector) {\r\n            return {error: lang.serverCallPrecheckFailedMissingConnector};\r\n          }\r\n          return undefined;\r\n        },\r\n\r\n        _serverCallUpdateFavorite: function (ajaxMethod, deferred, selected) {\r\n          var error = this._serverCallPreCheck();\r\n          if (error !== undefined) {\r\n            deferred.reject(error);\r\n            return;\r\n          }\r\n\r\n          var options = {\r\n            type: ajaxMethod,\r\n            url: this.url()\r\n          };\r\n\r\n          if (ajaxMethod === 'POST') {\r\n            var tabId = this.get('tab_id');\r\n            var name = this.get('name');\r\n            // do this check for code backward compatibility\r\n            if (tabId !== undefined || name !== undefined) {\r\n              var data = {};\r\n              name !== undefined && _.extend(data, {name: name});\r\n              (tabId !== undefined && tabId !== -1) && _.extend(data, {tab_id: tabId});\r\n              _.extend(options, {data: data});\r\n            }\r\n          }\r\n\r\n          this.options.connector.makeAjaxCall(options)\r\n            .done(_.bind(function (resp) {\r\n              this.set('selected', selected);\r\n              if (window.csui && window.csui.mobile) {\r\n                // LPAD-59888: update the favorites list properly by fetching the update node model\r\n                // change does not affect Smart UI\r\n                var selectedNode = this.get('node');\r\n                selectedNode.fetch({\r\n                  force: true\r\n                });\r\n              }\r\n              deferred.resolve(resp);\r\n            }, this))\r\n            .fail(function (err) {\r\n              deferred.reject(err);\r\n            });\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/favorite.model',['csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/base',\r\n  'csui/utils/url', 'csui/models/server.adaptors/favorite.model.mixin', 'i18n!csui/models/impl/nls/lang'\r\n], function ($, _, Backbone, base, Url, ServerAdaptorMixin, lang) {\r\n  \"use strict\";\r\n\r\n  var FavoriteModel = Backbone.Model.extend({\r\n\r\n    constructor: function FavoriteModel(attributes, options) {\r\n      options || (options = {});\r\n      this.options = options;\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeServerAdaptor(options);\r\n    },\r\n\r\n    isNew: function () {\r\n      return this.get('id') === undefined;\r\n    },\r\n\r\n    addToFavorites: function () {\r\n      var deferred = $.Deferred();\r\n      this._serverCallUpdateFavorite('POST', deferred, true);\r\n      return deferred.promise();\r\n    },\r\n\r\n    removeFromFavorites: function () {\r\n      var deferred = $.Deferred();\r\n      this._serverCallUpdateFavorite('DELETE', deferred, false);\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  ServerAdaptorMixin.mixin(FavoriteModel.prototype);\r\n  return FavoriteModel;\r\n\r\n});\r\n\n","csui.define('csui/models/member/member.model',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/resource/resource.mixin'\r\n], function (_, Backbone, Url, ResourceMixin) {\r\n  'use strict';\r\n\r\n  var MemberModel = Backbone.Model.extend({\r\n    constructor: function MemberModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n      this.groupId = attributes.groupId;\r\n      this.makeResource(options);\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    },\r\n    url: function () {\r\n      var id  = this.get(\"id\"),\r\n          url = this.connector.getConnectionUrl().getApiBase('v2');\r\n      if (id) {\r\n        url = Url.combine(url, \"members/\" + id + \"/members\");\r\n      } else {\r\n        url = Url.combine(url, \"members\");\r\n      }\r\n      return url;\r\n    },\r\n    parse: function (response) {\r\n      var that = this;\r\n      if (response.data !== undefined) {\r\n        var memberId = this.get(\"id\");\r\n        _.each(response.data, function (member) {\r\n          member.parentId = memberId;\r\n        });\r\n\r\n        return response;\r\n      }\r\n      return response;\r\n    }\r\n  });\r\n\r\n  ResourceMixin.mixin(MemberModel.prototype);\r\n\r\n  return MemberModel;\r\n});\r\n\n","csui.define('csui/models/browsable/v1.request.mixin',['csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/url'\r\n], function (_, $, Url) {\r\n\r\n  var BrowsableV1RequestMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeBrowsableV1Request: function (options) {\r\n          return this;\r\n        },\r\n\r\n        /**\r\n         * returns params as an object, used for POST requests,\r\n         */\r\n        getBrowsableParams: function () {\r\n          var query = {};\r\n          var limit = this.topCount || 0;\r\n          if (limit) {\r\n            query.limit = limit;\r\n            query.page = Math.floor((this.skipCount || 0) / limit) + 1;\r\n          }\r\n          if (this.orderBy) {\r\n            // TODO: Implement sorting by multiple columns on the server\r\n            var first = this.orderBy.split(',')[0].split(' ');\r\n            if (this.orderBy.toLowerCase() === 'relevance') {\r\n              query.sort = this.orderBy;\r\n            } else {\r\n              query.sort = (first[1] || 'asc') + '_' + first[0];\r\n            }\r\n\r\n          }\r\n          if (!$.isEmptyObject(this.filters)) {\r\n            for (var name in this.filters) {\r\n              if (_.has(this.filters, name)) {\r\n                var param = makeFilterParam(this.filters[name], name);\r\n                if (param.key !== undefined) {\r\n                  query[param.key] = param.value;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          return query;\r\n        },\r\n\r\n        /**\r\n         * returns params as an URL query, used for GET requests,\r\n         */\r\n        getBrowsableUrlQuery: function () {\r\n\r\n          var query = Url.combineQueryString(this.getBrowsableParams());\r\n          return query;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  /**\r\n   * appends 'where_' to the name of the filter and returns filter,value as an object\r\n   * @param {value of the filter} value\r\n   * @param {name of the filter} name\r\n   */\r\n  function makeFilterParam(value, name) {\r\n    var param = {};\r\n    if (value !== undefined && value !== null && value !== \"\") {\r\n      param.key = \"where_\" + name;\r\n      param.value = value;\r\n    }\r\n    return param;\r\n  }\r\n\r\n  return BrowsableV1RequestMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/member/membercollection',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/browsable/v1.request.mixin', 'csui/models/member/member.model'\r\n], function (_, Backbone, Url, ResourceMixin, BrowsableMixin, BrowsableV1RequestMixin,\r\n    MemberModel) {\r\n  'use strict';\r\n\r\n  ////-------------- MemberCollection ---------------------------------\r\n  var MemberCollection = Backbone.Collection.extend({\r\n\r\n    model: MemberModel,\r\n\r\n    searchTerm: \"\",\r\n\r\n    constructor: function MemberCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeResource(options);\r\n      this.makeBrowsable(options);\r\n\r\n      if (options !== undefined && options.member !== undefined && options.member !== null) {\r\n        this.parentId = options.member.get(\"id\");\r\n        this.nodeId = options.member.get(\"nodeId\");\r\n        this.categoryId = options.member.get(\"categoryId\");\r\n        this.groupId = options.member.get(\"groupId\");\r\n      } else {\r\n        this.nodeId = options.nodeId;\r\n        this.categoryId = options.categoryId;\r\n        this.groupId = options.groupId;\r\n      }\r\n      this.query = options.query || \"\";\r\n      this.type = options.type;\r\n    },\r\n\r\n    clone: function () {\r\n      // Provide the options; they may include connector and other parameters\r\n      var clone = new this.constructor(this.models, {\r\n        connector: this.connector,\r\n        parentId: this.parentId,\r\n        nodeId: this.nodeId,\r\n        categoryId: this.categoryId,\r\n        groupId: this.groupId,\r\n        query: this.query\r\n      });\r\n      // Clone properties about the full (not-yet fetched) collection\r\n      clone.totalCount = this.totalCount;\r\n      return clone;\r\n    },\r\n\r\n    url: function () {\r\n\r\n      var url = this.connector.connection.url;\r\n      var id = this.groupId;\r\n      //var id = 1001;\r\n      if (id === undefined || id === null) {\r\n        id = this.parentId;\r\n        //TODO: need to remove topCount once v2/members supports limit and pagination support\r\n        this.topCount = 20;\r\n      }\r\n\r\n      if (!this.topCount) {\r\n        this.topCount = 20;\r\n      }\r\n\r\n      var query = Url.combineQueryString(\r\n          this.getBrowsableUrlQuery(),\r\n          {\r\n            expand: 'properties{group_id}'\r\n          }\r\n      );\r\n\r\n      //TODO: 'where_name' is not supported for now hence replacing it with 'query'\r\n      //TODO: Must be removed once 'where_name' is supported\r\n      query = query.replace('where_name', 'query');\r\n\r\n      url = url.replace('/api/v1', '/api/v2');\r\n\r\n      if (this.type && this.type === 'GroupsOfCurrentUser') {\r\n        url = Url.combine(url, \"members/memberof?\" + query);\r\n      } else if (this.type === 1 && id) {\r\n        url = Url.combine(url, \"members/\" + id + \"/members?where_type=1&\" + query);\r\n      } else if (this.type === 1) {\r\n        url = Url.combine(url, \"members?where_type=1&\" + query);\r\n      } else if (id) {\r\n        url = Url.combine(url, \"members/\" + id + \"/members?\" + query);\r\n      } else {\r\n        url = Url.combine(url, \"members?\" + query);\r\n      }\r\n\r\n      return url;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      if (!_.isEmpty(response.results)) {\r\n        var self = this;\r\n        this.totalCount = (response.collection && response.collection.paging) ?\r\n                          response.collection.paging.total_count :\r\n                          response.results.length;\r\n        _.each(response.results, function (member) {\r\n          member.parentId = self.parentId;\r\n          member = _.extend(member, member.data.properties);\r\n        });\r\n\r\n        return response.results;\r\n      }\r\n      this.totalCount = 0;\r\n      return null;\r\n    },\r\n\r\n    search: function (term) {\r\n      this.searchTerm = term;\r\n      this.fetch();\r\n    }\r\n\r\n  });\r\n\r\n  ResourceMixin.mixin(MemberCollection.prototype);\r\n  BrowsableMixin.mixin(MemberCollection.prototype);\r\n  BrowsableV1RequestMixin.mixin(MemberCollection.prototype);\r\n\r\n  return MemberCollection;\r\n});\r\n\n","csui.define('csui/models/members',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/url', 'csui/models/member', 'csui/models/mixins/resource/resource.mixin'\r\n], function (_, $, Backbone, Url, MemberModel, ResourceMixin) {\r\n  'use strict';\r\n\r\n  var MemberCollection = Backbone.Collection.extend({\r\n\r\n    constructor: function MemberCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeResource(options);\r\n\r\n      options || (options = {});\r\n\r\n      this.limit = options.limit || 10;\r\n      this.query = options.query || \"\";\r\n      this.expandFields = options.expandFields || [];\r\n      if (options.memberFilter && options.memberFilter.type) {\r\n        this.memberType = options.memberFilter.type;\r\n      }\r\n      // Default is to search users and groups\r\n      this.memberType || (this.memberType = [0, 1]);\r\n    },\r\n\r\n    model: MemberModel,\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.models, {\r\n        connector: this.connector,\r\n        limit: this.limit,\r\n        query: this.query,\r\n        expandFields: _.clone(this.expandFields),\r\n        memberFilter: {type: this.memberType}\r\n      });\r\n    },\r\n\r\n    urlRoot: function () {\r\n      var apiBase = new Url(this.connector.connection.url).getApiBase('v2');\r\n      return Url.combine(apiBase, \"/members\");\r\n    },\r\n\r\n    url: function () {\r\n      var limitClause   = \"limit=\" + this.limit,\r\n          // There can be many where_type clauses in the REST API call, add each.\r\n          // Unsupported types will be ignored by the REST API if they are integers.\r\n          memberClause  = this.memberType.length &&\r\n                          \"where_type=\" + this.memberType.join(\"&where_type=\") || \"\",\r\n\r\n          // Also multiple expand fields like group_id and leader_id can be configured in\r\n          // one REST API call.\r\n          expandClause  = this.expandFields.length &&\r\n                          \"expand=properties{\" + this.expandFields.join(\",\") + \"}\" ||\r\n                          \"\",\r\n\r\n          encodedClause = encodeURIComponent(expandClause),\r\n\r\n          // The filter query.\r\n          queryClause   = \"query=\" + encodeURIComponent(this.query),\r\n          finalClauses  = Url.combineQueryString(limitClause, memberClause,\r\n            encodedClause, queryClause);\r\n\r\n      // Return the query\r\n      return Url.appendQuery(_.result(this, \"urlRoot\"), finalClauses);\r\n    },\r\n\r\n    parse: function (response) {\r\n      if (!_.isEmpty(response.results)) {\r\n        _.each(response.results, function (member) {\r\n          member = _.extend(member, member.data.properties);\r\n          delete member.data;\r\n        });\r\n        return response.results;\r\n      }\r\n      return null;\r\n    }\r\n\r\n  });\r\n\r\n  ResourceMixin.mixin(MemberCollection.prototype);\r\n\r\n  return MemberCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/node.connectable/node.connectable.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  \"use strict\";\r\n\r\n  var NodeConnectableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      var originalPrepareModel = prototype._prepareModel;\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeNodeConnectable: function (options) {\r\n          if (options && options.node) {\r\n            this.node = options.node;\r\n            options.node.connector && options.node.connector.assignTo(this);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        _prepareModel: function (attrs, options) {\r\n          options || (options = {});\r\n          var node = options.node || this.node;\r\n          options.connector = node && node.connector;\r\n          return originalPrepareModel.call(this, attrs, options);\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return NodeConnectableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/node.autofetchable/node.autofetchable.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  \"use strict\";\r\n\r\n  var NodeAutoFetchableMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeNodeAutoFetchable: function (options) {\r\n          var autofetchEvent = options && options.autofetchEvent;\r\n          if (autofetchEvent) {\r\n            this._autofetchEvent = options.autofetchEvent;\r\n          }\r\n          var autofetch = options && options.autofetch;\r\n          if (autofetch) {\r\n            this.automateFetch(autofetch);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        automateFetch: function (enable) {\r\n          var event = _.result(this, '_autofetchEvent'),\r\n              method = enable ? 'on' : 'off';\r\n          this.autofetch = !!enable;\r\n          this.node[method](event, _.bind(this._fetchAutomatically, this, enable));\r\n        },\r\n\r\n        isFetchable: function () {\r\n          return this.node.isFetchableDirectly();\r\n        },\r\n\r\n        _autofetchEvent: 'change:id',\r\n\r\n        _fetchAutomatically: function (options) {\r\n          this.isFetchable() && this.fetch(_.isObject(options) && options);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return NodeAutoFetchableMixin;\r\n});\r\n\n","csui.define('csui/models/mixins/node.resource/node.resource.mixin',['csui/lib/underscore', 'csui/models/mixins/node.connectable/node.connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/node.autofetchable/node.autofetchable.mixin'\r\n], function (_, NodeConnectableMixin, FetchableMixin, NodeAutoFetchableMixin) {\r\n\r\n  var NodeResourceMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      NodeConnectableMixin.mixin(prototype);\r\n      FetchableMixin.mixin(prototype);\r\n      NodeAutoFetchableMixin.mixin(prototype);\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeNodeResource: function (options) {\r\n          return this.makeNodeConnectable(options)\r\n              .makeFetchable(options)\r\n              .makeNodeAutoFetchable(options);\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return NodeResourceMixin;\r\n\r\n});\r\n\n","\n","csui.define('csui/utils/nodesprites',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  'i18n!csui/utils/impl/nls/lang',\r\n  // Load and register external cell views\r\n  'csui-ext!csui/utils/nodesprites'\r\n], function (_, Backbone, RulesMatchingMixin, lang, extraIcons) {\r\n\r\n  var NodeSpriteModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      sequence: 100,\r\n      className: null\r\n    },\r\n\r\n    constructor: function NodeSpriteModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(NodeSpriteModel.prototype);\r\n\r\n  var NodeSpriteCollection = Backbone.Collection.extend({\r\n\r\n    model: NodeSpriteModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function NodeSpriteCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findClass: function (compareType, key, val) {\r\n      var nodeSprite = this.find(function (item) {\r\n        var values = item.get(compareType);\r\n        if (values === undefined) {\r\n          return undefined;\r\n        }\r\n        if (_.isArray(values[key])) {\r\n          var keyValues = values[key];\r\n          for (var i = 0; i < keyValues.length; i++) {\r\n            if (keyValues[i] === val) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n\r\n        return (values[key] === val);\r\n      });\r\n      return nodeSprite ? nodeSprite.get('className') : undefined;\r\n    },\r\n\r\n    findTypeByNode: function (node) {\r\n      var typeName = node.get('type_name') || lang.NodeTypeUnknown;\r\n\r\n      var nodeSprite = this.findByNode(node);\r\n      if (nodeSprite) {\r\n        var spriteName = _.result(nodeSprite.attributes, 'mimeType');\r\n        if (spriteName) {\r\n          typeName = spriteName;\r\n        }\r\n      }\r\n\r\n      return typeName;\r\n    },\r\n\r\n    findClassByNode: function (node) {\r\n      var nodeSprite = this.findByNode(node);\r\n      return nodeSprite && _.result(nodeSprite.attributes, 'className') || '';\r\n    },\r\n\r\n    findByNode: function (node) {\r\n      // FIXME: Show the original icon with a shortcut overlay, as soon as agreed\r\n      // If the node is a shortcut and the original_id is expanded to contain\r\n      // the node data, we can show the original icon with a small arrow overlay.\r\n      //if (node.original && node.original.has('type')) {\r\n      //  node = node.original;\r\n      //}\r\n      return this.find(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  // MS Office: http://filext.com/faq/office_mime_types.php\r\n  // OpenOffice: https://www.openoffice.org/framework/documentation/mimetypes/mimetypes.html\r\n\r\n  var nodeSprites = new NodeSpriteCollection([\r\n    {\r\n      // excel\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.ms-excel',\r\n          'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n          'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\r\n          'application/vnd.ms-excel.sheet.macroEnabled.12',\r\n          'application/vnd.ms-excel.template.macroEnabled.12',\r\n          'application/vnd.ms-excel.addin.macroEnabled.12',\r\n          'application/vnd.ms-excel.sheet.binary.macroEnabled.12'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_excel',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_excel',\r\n      mimeType: lang.NodeTypeXLS,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // visio\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/visio',\r\n          'application/x-visio',\r\n          'application/vnd.visio',\r\n          'application/visio.drawing',\r\n          'application/vsd',\r\n          'application/x-vsd',\r\n          'image/x-vsd',\r\n          'application/vnd.visio2013',\r\n          'application/vnd.ms-visio.drawing',\r\n          'application/vnd.ms-visio.viewer',\r\n          'application/vnd.ms-visio.stencil',\r\n          'application/vnd.ms-visio.template'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_visio',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_visio',\r\n      mimeType: lang.NodeTypeVisio,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // spreadsheets\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.oasis.opendocument.spreadsheet',\r\n          'application/vnd.oasis.opendocument.spreadsheet-template',\r\n          'application/vnd.sun.xml.calc',\r\n          'application/vnd.sun.xml.calc.template',\r\n          'application/vnd.stardivision.calc',\r\n          'application/x-starcalc'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_spreadsheet',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_spreadsheet',\r\n      mimeType: lang.NodeTypeSpreadsheet,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // powerpoint\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.ms-powerpoint',\r\n          'application/vnd.openxmlformats-officedocument.presentationml.presentation',\r\n          'application/vnd.openxmlformats-officedocument.presentationml.template',\r\n          'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\r\n          'application/vnd.ms-powerpoint.addin.macroEnabled.12',\r\n          'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\r\n          'application/vnd.ms-powerpoint.template.macroEnabled.12',\r\n          'application/vnd.ms-powerpoint.slideshow.macroEnabled.12'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_powerpoint',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_powerpoint',\r\n      mimeType: lang.NodeTypePPT,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // presentations\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.google-apps.presentation', // GSLIDE - Google Drive Presentation\r\n          'application/x-iwork-keynote-sffkey', // KEY, KEYNOTE  Apple Keynote Presentation\r\n          'application/vnd.wolfram.mathematica', // NB  Mathematica Slideshow\r\n          'application/vnd.wolfram.player', // NBP  Mathematica Player slideshow\r\n          'application/vnd.oasis.opendocument.presentation', // ODP  OpenDocument Presentation\r\n          'application/vnd.oasis.opendocument.presentation-template', // OTP - ODP Template\r\n          'application/vnd.sun.xml.impress',\r\n          'application/vnd.sun.xml.impress.template',\r\n          'application/vnd.stardivision.impress',\r\n          'application/vnd.stardivision.impress-packed',\r\n          'application/x-starimpress',\r\n          'application/vnd.lotus-freelance', // PRZ  Lotus Freelance Graphics\r\n          'application/vnd.stardivision.impress', // SDD - Star Office's StarImpress\r\n          'application/vnd.corel-presentations', // SHW  Corel Presentations slide show creation\r\n          'application/vnd.sun.xml.impress', // SXI  OpenOffice.org XML (obsolete) Presentation\r\n          'application/vnd.ms-officetheme', // THMX  Microsoft PowerPoint theme template\r\n          'application/vnd.sun.xml.impress.template '// STI  OpenOffice Impress template\r\n\r\n          // the following extensions could not mapped to a mime-type\r\n          // todo: intro mapping to file extensions\r\n          // WATCH  Dataton Watchout Presentation\r\n          // PEZ  Prezi Desktop Presentation\r\n          // SHF  ThinkFree Show\r\n          // SHOW  Haansoft(Hancom) Presentation software document\r\n          // SLP  Logix-4D Manager Show Control Project\r\n          // SSPSS  SongShow Plus Slide Show\r\n\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_presentation',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_presentation',\r\n      mimeType: lang.NodeTypePresentation,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // MS Office publisher\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.ms-publisher',\r\n          'application/x-mspublisher'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_publisher',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_publisher',\r\n      mimeType: lang.NodeTypePublisher,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // formulas\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.oasis.opendocument.formula',\r\n          'application/vnd.sun.xml.math',\r\n          'application/vnd.stardivision.math',\r\n          'application/x-starmath'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_formula',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_formula',\r\n      mimeType: lang.NodeTypeFormula,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // pdf\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.pdf',\r\n          'application/x-pdf',\r\n          'application/pdf'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_pdf',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_pdf',\r\n      mimeType: lang.NodeTypePDF,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // word\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/msword',\r\n          'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n          'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\r\n          'application/vnd.ms-word.document.macroEnabled.12',\r\n          'application/vnd.ms-word.template.macroEnabled.12'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_word',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_word',\r\n      mimeType: lang.NodeTypeDOC,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // dwg\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'drawing/dwg'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_dwg',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_dwg',\r\n      mimeType: lang.NodeTypeDOC,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // MS OneNote\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/onenote',\r\n          'application/msonenote'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_onenote',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_onenote',\r\n      mimeType: lang.NodeTypeONE,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // MS project\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.ms-project',\r\n          'application/msproj',\r\n          'application/msproject',\r\n          'application/x-msproject',\r\n          'application/x-ms-project',\r\n          'application/mpp'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_project',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_project',\r\n      mimeType: lang.NodeTypeMPP,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // image\r\n      startsWithNoCase: {mime_type: 'image/'},\r\n      className: 'csui-icon mime_image',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_image',\r\n      mimeType: lang.NodeTypeImage,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // audio\r\n      startsWithNoCase: {mime_type: 'audio/'},\r\n      className: 'csui-icon mime_audio',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_audio',\r\n      mimeType: lang.NodeTypeAudio,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // text\r\n      startsWithNoCase: {mime_type: 'text/'},\r\n      className: 'csui-icon mime_paper',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_paper',\r\n      mimeType: lang.NodeTypeText,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // text\r\n      equalsNoCase: {mime_type: 'text/html'},\r\n      className: 'csui-icon mime_html',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_html',\r\n      mimeType: lang.NodeTypeHtml,\r\n      // startsWith 'text/' operation happens first, which would decide the icon otherwise;\r\n      // it has the sequence number 50 in common\r\n      // do not set sequence to 30 that would take over the 'type' that has this MIME type\r\n      // and do not set to 50 because this object with this MIME type would have a different icon\r\n      sequence: 40\r\n    },\r\n    {\r\n      // video\r\n      startsWithNoCase: {mime_type: 'video/'},\r\n      className: 'csui-icon mime_video',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_video',\r\n      mimeType: lang.NodeTypeVideo,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // zip\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/x-rar-compressed',\r\n          'application/zip',\r\n          'application/x-zip',\r\n          'application/x-zip-compressed'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_zip',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_zip',\r\n      mimeType: lang.NodeTypeCompressed,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // compound document\r\n      equals: {type: 136},\r\n      className: 'csui-icon compound_document',\r\n      svgId: 'themes--carbonfiber--image--icons--compound_document',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // document\r\n      equals: {type: 144},\r\n      className: 'csui-icon mime_document',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_document',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // CAD\r\n      equals: {type: 736},\r\n      className: 'csui-icon mime_drawing',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_drawing',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // saved search query\r\n      equals: {type: 258},\r\n      className: 'csui-icon csui-icon-saved-search-query',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_saved_search',\r\n      mimeType: lang.NodeTypeSearchQuery,\r\n      sequence: 100\r\n    },\r\n    {\r\n      // URL link\r\n      equals: {type: 140},\r\n      className: 'csui-icon url1',\r\n      svgId: 'themes--carbonfiber--image--icons--url',\r\n      mimeType: lang.NodeTypeURL,\r\n      sequence: 100\r\n    },\r\n    {\r\n      // shortcut\r\n      equals: {type: 1},\r\n      className: 'csui-icon shortcut1',\r\n      svgId: 'themes--carbonfiber--image--icons--shortcut',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // generation\r\n      // note: since the RestAPI at the moment does not return the document version, showing the\r\n      // latest document mime-type icon with the shortcut overlay is incorrect.  Use the\r\n      // generation icon for now.  When the RestAPI and UI supports Generation, switch this to\r\n      // generation-overlay.\r\n      equals: {type: 2},\r\n      className: 'csui-icon mime_generation',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_generation',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // category\r\n      equals: {type: 131},\r\n      className: 'csui-icon category1',\r\n      svgId: 'themes--carbonfiber--image--icons--category',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // project\r\n      equals: {type: 202},\r\n      className: 'csui-icon csui-icon-project',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_cs_project',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // collection\r\n      equals: {type: 298},\r\n      className: 'csui-icon collection',\r\n      svgId: 'themes--carbonfiber--image--icons--collection',\r\n      sequence: 100\r\n    },\r\n    {\r\n      equals: {type: 141},\r\n      className: 'csui-icon csui-icon-enterprise-volume',\r\n      svgId: 'themes--carbonfiber--image--icons--title_enterprise',\r\n      sequence: 100\r\n    },\r\n    {\r\n      equals: {type: 142},\r\n      className: 'csui-icon csui-icon-personal-volume',\r\n      svgId: 'themes--carbonfiber--image--icons--title_enterprise',\r\n      sequence: 100\r\n    },\r\n    {\r\n      equals: {type: 133},\r\n      className: 'csui-icon csui-icon-category-volume',\r\n      svgId: 'themes--carbonfiber--image--icons--category_volume',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Category Folder\r\n      equals: {type: 132},\r\n      className: 'csui-icon csui-icon-node-category-folder',\r\n      svgId: 'themes--carbonfiber--image--icons--category_volume',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // LiveReport\r\n      equals: {type: 299},\r\n      className: 'csui-icon csui-icon-node-livereport',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_livereport',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Milestone\r\n      equals: {type: 212},\r\n      className: 'csui-icon csui-icon-node-milestone',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_milestone',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Poll\r\n      equals: {type: 218},\r\n      className: 'csui-icon csui-icon-node-poll',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_poll',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Prospector\r\n      equals: {type: 384},\r\n      className: 'csui-icon csui-icon-node-prospector',\r\n      svgId: 'themes--carbonfiber--image--icons--prospector',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Task\r\n      equals: {type: 206},\r\n      className: 'csui-icon csui-icon-node-task',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_task',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Task Group\r\n      equals: {type: 205},\r\n      className: 'csui-icon csui-icon-node-task-group',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_task_group',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Task List\r\n      equals: {type: 204},\r\n      className: 'csui-icon csui-icon-node-task-list',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_task_list',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Perspective\r\n      equals: {type: 957 },\r\n      className: 'csui-icon csui-icon-perspective',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_perspective',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Rule\r\n      equals: {type: 958 },\r\n      className: 'csui-icon csui-icon-rule',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_rule',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Perspective Assets Folder\r\n      equals: {type: 955},\r\n      className: 'csui-icon csui-icon-perspective-assets-folder',\r\n      svgId: 'themes--carbonfiber--image--icons--perspective_assets_folder',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Perspective Assets Volume\r\n      equals: {type: 954},\r\n      className: 'csui-icon csui-icon-perspective-assets-volume',\r\n      svgId: 'themes--carbonfiber--image--icons--perspective_assets_volume',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Virtual Folder\r\n      equals: {type: 899},\r\n      className: 'csui-icon csui-icon-node-virtual-folder',\r\n      svgId: 'themes--carbonfiber--image--icons--virtual_folder',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Custom View\r\n      equals: {type: 146},\r\n      className: 'csui-icon mime_custom_view',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_custom_view',\r\n      // Custom View has a MIME type, which would decide the icon otherwise;\r\n      // the MIME type icons have the sequence number 50 in common\r\n      sequence: 30\r\n    },\r\n    {\r\n      // Workflow Step\r\n      equals: {type: 153},\r\n      className: 'csui-icon assignment-workflow',\r\n      svgId: 'themes--carbonfiber--image--icons--assignment_workflow',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Workflow Map\r\n      equals: {type: 128},\r\n      className: 'csui-icon mime_workflow_map',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_workflow_map',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Workflow Status\r\n      equals: {type: 190},\r\n      className: 'csui-icon mime_workflow_status',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_workflow_status',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Channel\r\n      equals: {type: 207},\r\n      className: 'csui-icon mime_channel',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_channel',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // News item\r\n      equals: {type: 208},\r\n      className: 'csui-icon mime_news',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_news_item',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Discussion\r\n      equals: {type: 215},\r\n      className: 'csui-icon mime_discussion',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_conversation',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // XML DTD\r\n      equals: {type: 335},\r\n      className: 'csui-icon mime_xml_dtd',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_xml',\r\n      // XML DTD has a MIME type, which would decide the icon otherwise;\r\n      // the MIME type icons have the sequence number 50 in common\r\n      sequence: 30\r\n    },\r\n    {\r\n      // form\r\n      equals: {type: 223},\r\n      className: 'csui-icon mime_form',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_form',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // form template\r\n      equals: {type: 230},\r\n      className: 'csui-icon mime_form_template',\r\n      svgId: 'themes--carbonfiber--image--icons--layout_template',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // pulse comments\r\n      equals: {type: 1281},\r\n      className: 'csui-icon icon-pulse-comment',\r\n      svgId: 'themes--carbonfiber--image--icons--pulse_comment',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // wiki pages\r\n      equals: {type: 5574},\r\n      className: 'csui-icon mime_wiki_page',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_wiki_page',\r\n      sequence: 10\r\n    },\r\n    // wikis\r\n    {\r\n      equals: {type: 5573},\r\n      className: 'csui-icon mime_wiki',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_wiki',\r\n      sequence: 10\r\n    },\r\n    {\r\n      // default container\r\n      equals: {container: 'nonselectable'},\r\n      className: 'csui-icon mime_folder_nonselectable',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_folder_nonselectable32',\r\n      sequence: 1000\r\n    },\r\n    {\r\n      // default container; covers folder-like nodes too\r\n      equals: {container: true},\r\n      className: 'csui-icon mime_folder',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_folder',\r\n      sequence: 1000\r\n    },\r\n    {\r\n      // default node\r\n      className: 'csui-icon mime_document',\r\n      svgId: 'themes--carbonfiber--image--icons--mime_document',\r\n      sequence: 10000\r\n    }\r\n  ]);\r\n\r\n  if (extraIcons) {\r\n    nodeSprites.add(_.flatten(extraIcons, true));\r\n  }\r\n\r\n  return nodeSprites;\r\n\r\n});\r\n\n","csui.define('csui/models/node.addable.type/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url', 'csui/models/node/node.model', 'csui/utils/nodesprites'\r\n], function (_, Url, NodeModel, NodeSpriteCollection) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          return Url.combine(this.node.urlBase(), 'addablenodetypes');\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          // The server returns very inconvenient structure, where the types\r\n          // have textual keys and no subtype numbers.  An array of object\r\n          // literals describing the addable type is put together from the\r\n          // number parsed out of the form URL (!) from the data object\r\n          // and the name from the definition object.\r\n          var data        = response.data,\r\n            definitions = response.definitions;\r\n          var self = this;\r\n          return _.chain(data)\r\n            .keys()\r\n            .map(function (key) {\r\n              var url        = data[key],\r\n                definition = definitions[key];\r\n              if (url && definition) {\r\n                var match = url && /[?&]type=([^&]+)(?:&.*)?$/.exec(url);\r\n                if (match) {\r\n                  var subtype = parseInt(match[1], 10);\r\n                  var type_name = NodeSpriteCollection.findTypeByNode(\r\n                    new NodeModel({type: subtype, type_name: definition.name}));\r\n                  return {\r\n                    type: subtype,\r\n                    type_name: type_name\r\n                  };\r\n                }\r\n              }\r\n            })\r\n            .compact()\r\n            .value();\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/node/node.addable.type.collection',['csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/utils/url',\r\n  'csui/models/node/node.model',\r\n  'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/node.addable.type/server.adaptor.mixin'\r\n], function (_,\r\n    Backbone,\r\n    Url,\r\n    NodeModel,\r\n    NodeResourceMixin,\r\n    ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var AddableTypeModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      type: null,\r\n      type_name: null\r\n    },\r\n\r\n    idAttribute: 'type',\r\n\r\n    constructor: function AddableTypeModel() {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var NodeAddableTypeCollection = Backbone.Collection.extend({\r\n\r\n    model: AddableTypeModel,\r\n\r\n    constructor: function NodeAddableTypeCollection(models, options) {\r\n      NodeAddableTypeCollection.__super__.constructor.apply(this, arguments);\r\n\r\n      this.makeNodeResource(options)\r\n        .makeServerAdaptor(options);\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.models, {node: this.node});\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.node.isFetchable();\r\n    }\r\n\r\n  });\r\n\r\n  NodeResourceMixin.mixin(NodeAddableTypeCollection.prototype);\r\n  ServerAdaptorMixin.mixin(NodeAddableTypeCollection.prototype);\r\n\r\n  return NodeAddableTypeCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/appcontainer/appcontainer.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  \"use strict\";\r\n\r\n  var AppContainerMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeAppContainer: function (options) {\r\n          return this;\r\n        },\r\n\r\n        massageResponse: function (properties) {\r\n\r\n\r\n          // component extensions\r\n          // icondata\r\n          // socialfeed:pulsecomment\r\n          // wopi:wopisessionerroricon\r\n          // wopi:wopisharedreserveicon\r\n          //var imgs = _.pluck(properties.modify_images, 'key');\r\n\r\n\r\n          // add id to expands\r\n          _.map(['original', 'create_user', 'owner_user',\r\n              'reserved_user', 'modify_user', 'parent'],\r\n            function (item) {\r\n              var idprop = item + '_id',\r\n                expandprop = idprop + '_expand';\r\n              if (properties[expandprop]) {\r\n                properties[expandprop].id = properties[idprop];\r\n              }\r\n            });\r\n\r\n          properties.reserved = !!properties.reserved_user_id;\r\n\r\n\r\n          // utils/nodesprites expects mime_type, even if it is null\r\n          // apparently also container is expected as a fallback for folders\r\n          // alternatively fix utils/nodesprites\r\n\r\n          // special treatment of children of this.node (current container)\r\n          // these have currently parent_id_expand === null to reduce data load\r\n          if (properties.parent_id && !properties.parent_id_expand) {\r\n            properties.parent_id_expand = {\r\n              type: this.node.get('type'),\r\n              name: this.node.get('name'),\r\n              openable: this.node.get('openable')\r\n            };\r\n          }\r\n          if( properties.parent_id_expand) {\r\n            properties.parent_id_expand.container = true;\r\n            properties.parent_id_expand.mime_type = properties.parent_id_expand.mime_type || null;\r\n          }\r\n\r\n          return properties;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return AppContainerMixin;\r\n});\r\n\n","csui.define('csui/models/node.children2/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url',\r\n  'csui/models/browsable/v1.request.mixin',\r\n  'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/mixins/appcontainer/appcontainer.mixin'\r\n], function (_, Url, BrowsableV1RequestMixin, BrowsableV2ResponseMixin, AppContainerMixin) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      BrowsableV2ResponseMixin.mixin(prototype);\r\n      BrowsableV1RequestMixin.mixin(prototype);\r\n      AppContainerMixin.mixin(prototype);\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          this.useSpecialPaging = options.useSpecialPaging;\r\n          this.makeBrowsableV1Request(options)\r\n              .makeBrowsableV2Response(options)\r\n              .makeAppContainer(options);\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var url;\r\n          var apiUrl = new Url(this.node.connector.connection.url).getApiBase(2);\r\n\r\n\r\n          var query;\r\n          if (this.useSpecialPaging) {\r\n            // special fast browse paging\r\n            url = Url.combine(apiUrl, 'app/container', this.node.get('id'), 'page');\r\n            // needs less parameters\r\n            var resourceFieldsQuery = { fields: _.without(this.getResourceFieldsUrlQuery().fields, 'properties')};\r\n            query = Url.combineQueryString(\r\n              this.getBrowsableUrlQuery(),\r\n              resourceFieldsQuery\r\n            );\r\n          } else {\r\n            // nodes-based paging\r\n            url = Url.combine(apiUrl, 'nodes', this.node.get('id'), 'nodes');\r\n            query = Url.combineQueryString(\r\n              this.getBrowsableUrlQuery(),\r\n              this.getResourceFieldsUrlQuery(),\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getStateEnablingUrlQuery(),\r\n              this.getAdditionalResourcesUrlQuery(),\r\n              this.getRequestedCommandsUrlQuery()\r\n            );\r\n          }\r\n\r\n          return Url.appendQuery(url, query);\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          if (this.useSpecialPaging) {\r\n            var self = this;\r\n            response.results = response.results.map(function (props) {\r\n              return self.massageResponse(props);\r\n            });\r\n          }\r\n\r\n          this.parseBrowsedState(response, options);\r\n          return this.parseBrowsedItems(response, options);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/node.children2/node.children2',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/node/node.model',\r\n  'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/state.requestor/state.requestor.mixin',\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n  'csui/models/node.children2/server.adaptor.mixin',\r\n  'csui/models/utils/v1tov2', 'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, NodeModel, NodeResourceMixin,\r\n    BrowsableMixin, AdditionalResourcesV2Mixin, FieldsV2Mixin,\r\n    ExpandableV2Mixin, StateRequestorMixin, DelayedCommandableV2Mixin,\r\n    ServerAdaptorMixin, v1tov2) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    defaultPageSize: 30\r\n  });\r\n\r\n  var NodeChildren2Collection = Backbone.Collection.extend({\r\n    model: NodeModel,\r\n\r\n    constructor: function NodeChildren2Collection(models, options) {\r\n      options = _.defaults({}, options, {\r\n        top: config.defaultPageSize\r\n      }, options);\r\n\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n\r\n      this.makeNodeResource(options)\r\n          .makeBrowsable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeStateRequestor(options)\r\n          .makeDelayedCommandableV2(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    clone: function () {\r\n      var clone = new this.constructor(this.models, {\r\n        node: this.node,\r\n        skip: this.skipCount,\r\n        top: this.topCount,\r\n        filter: _.deepClone(this.filters),\r\n        orderBy: this.orderBy,\r\n        fields: _.deepClone(this.fields),\r\n        expand: _.deepClone(this.expand),\r\n        includeResources: _.clone(this._additionalResources),\r\n        commands: _.clone(this.commands),\r\n        defaultActionCommands: _.clone(this.defaultActionCommands),\r\n        delayRestCommands: this.delayRestCommands,\r\n        autofetch: this.autofetch,\r\n        autofetchEvent: this._autofetchEvent\r\n      });\r\n      clone.fetched = this.fetched;\r\n      clone.error = this.error;\r\n      clone.actualSkipCount = this.actualSkipCount;\r\n      clone.totalCount = this.totalCount;\r\n      clone.filteredCount = this.filteredCount;\r\n      return clone;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.node.isFetchable();\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: this.fields,\r\n        expand: this.expand,\r\n        includeResources: this._additionalResources,\r\n        commands: this.commands,\r\n        defaultActionCommands: this.defaultActionCommands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n      this.resetDefaultActionCommands();\r\n      scope.defaultActionCommands && this.setDefaultActionCommands(scope.defaultActionCommands);\r\n    }\r\n  });\r\n\r\n  BrowsableMixin.mixin(NodeChildren2Collection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(NodeChildren2Collection.prototype);\r\n  FieldsV2Mixin.mixin(NodeChildren2Collection.prototype);\r\n  ExpandableV2Mixin.mixin(NodeChildren2Collection.prototype);\r\n  StateRequestorMixin.mixin(NodeChildren2Collection.prototype);\r\n  DelayedCommandableV2Mixin.mixin(NodeChildren2Collection.prototype);\r\n  NodeResourceMixin.mixin(NodeChildren2Collection.prototype);\r\n  ServerAdaptorMixin.mixin(NodeChildren2Collection.prototype);\r\n\r\n  // Provide compatibility with v1. Mostly, at least.\r\n  var prototype = NodeChildren2Collection.prototype;\r\n\r\n  var makeExpandableV2 = prototype.makeExpandableV2,\r\n      setExpand = prototype.setExpand,\r\n      resetExpand = prototype.resetExpand;\r\n  prototype.makeExpandableV2 = function (options) {\r\n    var expand = options && options.expand;\r\n    if (Array.isArray(expand)) {\r\n      options.expand = v1tov2.includeExpandsV1toV2(expand);\r\n    }\r\n    return makeExpandableV2.call(this, options);\r\n  };\r\n\r\n  prototype.setExpand = function (role, names) {\r\n    if (!names) {\r\n      role = v1tov2.includeExpandsV1toV2(role);\r\n    }\r\n    return setExpand.call(this, role, names);\r\n  };\r\n\r\n  prototype.resetExpand = function (role, names) {\r\n    if (!names) {\r\n      role = v1tov2.excludeExpandsV1toV2(role);\r\n    }\r\n    return resetExpand.call(this, role, names);\r\n  };\r\n\r\n  var makeCommandableV2 = prototype.makeCommandableV2;\r\n  prototype.makeCommandableV2 = function (options) {\r\n    makeCommandableV2.call(this, options);\r\n    this.includeCommands = this.commands;\r\n    return this;\r\n  };\r\n\r\n  return NodeChildren2Collection;\r\n});\r\n\n","csui.define('csui/models/node.ancestors/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/models/ancestor', 'csui/utils/url'\r\n], function (_, AncestorModel, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          return Url.combine(this.node.urlBase(), \"ancestors\");\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          // TODO: Currently the breadcrumb parameters are set in the\r\n          // constructor. Should this be moved to public methods like\r\n          // ChildNodeCollection is controlled?  It would enable more\r\n          // flexible usage of the model class and view changes.  The\r\n          // server doesn't allow filtering, ordering or limiting of\r\n          // the ancestor list.\r\n\r\n          response = response.ancestors;\r\n\r\n          if (this.options.stop) {\r\n            var id = this.options.stop.get ? this.options.stop.get(\"id\") :\r\n              this.options.stop.id;\r\n            var skip;\r\n            response = _\r\n              .filter(response.reverse(), function (ancestor) {\r\n                var result = !skip;\r\n                if (ancestor.id == id) {\r\n                  skip = true;\r\n                }\r\n                return result;\r\n              })\r\n              .reverse();\r\n          }\r\n\r\n          if (this.options.limit && response.length > this.options.limit) {\r\n            response.splice(0, response.length - this.options.limit);\r\n            response.unshift({\r\n              type: AncestorModel.Hidden\r\n            });\r\n          }\r\n\r\n          // Help DefaultActionBehavior generate a link to open a node from\r\n          // breadcrumb.  Ancestor items are not complete node infos, but\r\n          // they have to be containers and setting {container:true} is enough\r\n          // to render correct link to open the container.\r\n          _.each(response, function (node) {\r\n            node.container = true;\r\n          });\r\n\r\n          return response;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/nodeancestors',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/url', 'csui/utils/log', 'csui/models/ancestor',\r\n  'csui/models/ancestors', 'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/node.ancestors/server.adaptor.mixin'\r\n], function (module, _, $, Backbone, Url, log, AncestorModel,\r\n    AncestorCollection, NodeResourceMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var NodeAncestorCollection = AncestorCollection.extend({\r\n\r\n    constructor: function NodeAncestorCollection(models, options) {\r\n      AncestorCollection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeNodeResource(options)\r\n        .makeServerAdaptor(options);\r\n\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.node.isFetchable();\r\n    }\r\n\r\n  });\r\n\r\n  NodeResourceMixin.mixin(NodeAncestorCollection.prototype);\r\n  ServerAdaptorMixin.mixin(NodeAncestorCollection.prototype);\r\n\r\n  return NodeAncestorCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/nodechildrencolumn',['module', 'csui/lib/backbone', 'csui/utils/log',\r\n  'i18n!csui/models/impl/nls/lang'\r\n], function (module, Backbone, log, lang) {\r\n  'use strict';\r\n\r\n  //\r\n  // Column model from the node children call (nodes/{id}/nodes)\r\n  //\r\n  var NodeChildrenColumnModel = Backbone.Model.extend({\r\n\r\n    constructor: function NodeChildrenColumnModel(attributes, options) {\r\n      if (attributes && !attributes.title) {\r\n        var titleTranslated = lang[attributes.column_key];\r\n        if (titleTranslated !== undefined) {\r\n          attributes.title = titleTranslated;\r\n        }\r\n      }\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n    },\r\n\r\n    idAttribute: null\r\n\r\n  });\r\n\r\n  return NodeChildrenColumnModel;\r\n\r\n});\r\n\n","csui.define('csui/models/nodechildrencolumns',[\"module\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n  \"csui/utils/log\", \"csui/models/nodechildrencolumn\"\r\n], function (module, _, Backbone,\r\n             log, NodeChildrenColumnModel) {\r\n  \"use strict\";\r\n\r\n  //\r\n  // Column model collection from the node children call (nodes/{id}/nodes) and other browse calls\r\n  //\r\n  var NodeChildrenColumnCollection = Backbone.Collection.extend({\r\n\r\n    model: NodeChildrenColumnModel,\r\n\r\n    constructor: function NodeChildrenColumnCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n      this.fetched = false;\r\n    },\r\n\r\n    // private: reset the collection.  For performance purpose and prevent UI table redraw, this\r\n    //          method will not reset if the models is the same as the cached one.\r\n    resetCollection: function (models, options) {\r\n      if (this.cachedColumns && _.isEqual(models, this.cachedColumns)) {\r\n        return;\r\n      }\r\n      // Make a clone of the model array for the cache to let it be equal even if attributes are\r\n      // added to objects of the array (which is done in this.reset where the constructor of the\r\n      // NodeChildrenColumnModel adds a translated title attribute\r\n      this.cachedColumns = _.map(models, function (model) {\r\n        return _.clone(model);\r\n      });\r\n\r\n      this.reset(models, options);\r\n      this.fetched = true;\r\n    },\r\n\r\n    // private\r\n    getColumnModels: function (columnKeys, definitions) {\r\n      var columns = _.reduce(columnKeys, function (colArray, column) {\r\n        if (column.indexOf('_formatted') >= 0) {\r\n          var shortColumnName = column.replace(/_formatted$/, '');\r\n          if (definitions[shortColumnName]) {\r\n            // there is also the column without the trailing _formatted: skip this and use this\r\n            // instead\r\n            return colArray;\r\n          }\r\n        } else {\r\n          // copy the definitions_order from the *_formatted column to the non-formatted column\r\n          var definition_short = definitions[column];\r\n          if (definition_short && !definition_short.definitions_order) {\r\n            var definition_formatted = definitions[column + '_formatted'];\r\n            if (definition_formatted && definition_formatted.definitions_order) {\r\n              definition_short.definitions_order = definition_formatted.definitions_order;\r\n            }\r\n          }\r\n        }\r\n        var definition = definitions[column];\r\n\r\n        // Code from old code to keep node table code working.  Will look more into this after June.\r\n        // TODO: support these attributes on the server too.\r\n        switch (column) {\r\n          case \"name\":\r\n            definition = _.extend(definition, {\r\n              default_action: true,\r\n              contextual_menu: false,\r\n              editable: true,\r\n              filter_key: \"name\"\r\n            });\r\n            break;\r\n          case \"type\":\r\n            definition = _.extend(definition, {\r\n              default_action: true\r\n            });\r\n            break;\r\n          case \"modify_date\":\r\n            definition = _.extend(definition, {\r\n              initialSortingDescending: true\r\n            });\r\n            break;\r\n        }\r\n\r\n        colArray.push(_.extend({column_key: column}, definition));\r\n        return colArray;\r\n      }, []);\r\n      return columns;\r\n    },\r\n\r\n    //\r\n    // methods for REST API V1\r\n    //\r\n\r\n    // public\r\n    resetColumns: function (response, options) {\r\n      this.resetCollection(this.getV1Columns(response, options), options);\r\n    },\r\n\r\n    // private\r\n    getV1Columns: function (response, options) {\r\n      var definitions = response.definitions,\r\n        columnKeys = options && options.columnsFromDefinitionsOrder ?\r\n          response.definitions_order : _.keys(definitions);\r\n\r\n      // merge definitions_order into definitions as definitions_order attribute\r\n      if (response.definitions_order) {\r\n        for (var idx = 0; idx < response.definitions_order.length; idx++) {\r\n          var column_key = response.definitions_order[idx],\r\n              definition = definitions[column_key];\r\n          // definitions_order can be passed via options and does not need\r\n          // to match with the server response; guard against mismatches\r\n          if (definition) {\r\n            definition.definitions_order = 500 + idx;\r\n          }\r\n        }\r\n      }\r\n\r\n      return this.getColumnModels(columnKeys, definitions);\r\n    },\r\n\r\n    //\r\n    // methods for REST API V2\r\n    //\r\n\r\n    // public\r\n    resetColumnsV2: function (response, options) {\r\n      this.resetCollection(this.getV2Columns(response), options);\r\n    },\r\n\r\n    // private: convert v2 'metadata' to v1 'definitions' for backward code compatibility and\r\n    //          reuse purpose\r\n    getV2Columns: function (response) {\r\n\r\n      // Note: from a long discussion with the server developer, use the common 'metadata' (or\r\n      // called 'definitions' in v1) in the first element. Elements in the collection can have\r\n      // different extended metadata (definitions).  If a business case arises that\r\n      // extended definitions are needed, will discuss again with them and add that support.\r\n\r\n      var definitions = (response.results &&\r\n        response.results[0] &&\r\n        response.results[0].metadata &&\r\n        response.results[0].metadata.properties) || {};\r\n\r\n      // For v2 calls, the 'size' column is not available.  Either the 'container_size' or\r\n      // 'file_size' is available.  Create a 'size' definition here for compatibility with existing\r\n      // code.\r\n      if (!definitions.size &&\r\n        (definitions.container_size ||\r\n        (definitions.versions && definitions.versions.file_size))) {\r\n        definitions.size = definitions.container_size || definitions.versions.file_size;\r\n        definitions.size.align = 'right';\r\n        definitions.size.key = 'size';\r\n        definitions.size.name = 'Size';\r\n      }\r\n\r\n      var columnKeys = _.keys(definitions);\r\n\r\n      return this.getColumnModels(columnKeys, definitions);\r\n    }\r\n\r\n  });\r\n  NodeChildrenColumnCollection.version = '1.0';\r\n\r\n  return NodeChildrenColumnCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/nodes',[\"module\", \"csui/lib/backbone\", 'csui/models/node/node.model', \"csui/utils/log\",\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin'\r\n], function (module, Backbone, NodeModel, log, DelayedCommandableV2Mixin) {\r\n\r\n  var Nodes = Backbone.Collection.extend({\r\n\r\n    model: NodeModel,\r\n\r\n    constructor: function Nodes(models,options) {\r\n      options || (options = {});\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n      this.makeDelayedCommandableV2(options);\r\n    },\r\n\r\n    automateFetch: function (enable) {\r\n    }\r\n\r\n  });\r\n  DelayedCommandableV2Mixin.mixin(Nodes.prototype);\r\n  Nodes.version = '1.0';\r\n\r\n  return Nodes;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/commandable/commandable.mixin',['csui/lib/underscore'], function (_) {\r\n  'use strict';\r\n\r\n  var CommandableV1Mixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeCommandable: function (options) {\r\n          var commands = options && options.commands;\r\n          if (typeof commands === 'string') {\r\n            commands = commands.split(',');\r\n          }\r\n          this.includeCommands = commands || [];\r\n          return this;\r\n        },\r\n\r\n        setCommands: function (name) {\r\n          if (!_.isArray(name)) {\r\n            name = name.split(\",\");\r\n          }\r\n          _.each(name, function (name) {\r\n            if (!_.contains(this.includeCommands, name)) {\r\n              this.includeCommands.push(name);\r\n            }\r\n          }, this);\r\n        },\r\n\r\n        resetCommands: function (name) {\r\n          if (name) {\r\n            if (!_.isArray(name)) {\r\n              name = name.split(\",\");\r\n            }\r\n            _.each(name, function (name) {\r\n              var index = _.indexOf(this.includeCommands, name);\r\n              if (index >= 0) {\r\n                this.includeCommands.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else {\r\n            this.includeCommands.splice(0, this.includeCommands.length);\r\n          }\r\n        },\r\n\r\n        getRequestedCommandsUrlQuery: function () {\r\n          return this.includeCommands.length && {commands: this.includeCommands};\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return CommandableV1Mixin;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/delayed.commandable/delayed.commandable.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/models/node.actions',\r\n  'csui/models/mixins/commandable/commandable.mixin',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, NodeActionCollection, CommandableMixin) {\r\n  'use strict';\r\n\r\n  var DelayedCommandableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      CommandableMixin.mixin(prototype);\r\n\r\n      var originalPrepareModel = prototype._prepareModel;\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeDelayedCommandable: function (options) {\r\n          options || (options = {});\r\n          var defaultActionCommands = options.defaultActionCommands;\r\n          if (typeof defaultActionCommands === 'string') {\r\n            defaultActionCommands = defaultActionCommands.split(',');\r\n          }\r\n          this.defaultActionCommands = defaultActionCommands || [];\r\n\r\n          this.delayedActions = new NodeActionCollection(undefined, {\r\n            connector: options.connector\r\n          });\r\n\r\n          this.delayRestCommands = options.delayRestCommands;\r\n          if (this.delayRestCommands) {\r\n            this.on('sync', this._requestRestActions);\r\n          }\r\n\r\n          this.delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n\r\n          return this.makeCommandable(options);\r\n        },\r\n\r\n        _requestRestActions: function (model) {\r\n          // Guard against propagated sync event: if this mixin has been\r\n          // applied to a collection, only fetch of the collection should\r\n          // be handled here; fetching of models should not re-fetch actions\r\n          // for the whole collection.\r\n          // Also do nothing if the collection is empty.\r\n          if (model !== this ||\r\n              this instanceof Backbone.Collection && !this.length) {\r\n            return;\r\n          }\r\n          var defaultActionCommands = this.defaultActionCommands,\r\n              restCommands = _.reject(this.includeCommands, function (command) {\r\n                return _.contains(defaultActionCommands, command);\r\n              });\r\n          if (restCommands.length) {\r\n            var delayedActions = this.delayedActions;\r\n            delayedActions.resetCommands();\r\n            delayedActions.setCommands(restCommands);\r\n            delayedActions.resetNodes();\r\n            if (this instanceof Backbone.Collection) {\r\n              delayedActions.setNodes(this.pluck('id'));\r\n            } else {\r\n              delayedActions.setNodes([this.get('id')]);\r\n            }\r\n            if (!delayedActions.connector) {\r\n              this.connector.assignTo(delayedActions);\r\n            }\r\n            delayedActions.parent_id = !!this.node ? this.node.get(\"id\") : this.get(\"id\");\r\n            delayedActions\r\n                .fetch({\r\n                  reset: true,\r\n                  // Update the actions as soon as possible; event\r\n                  // and promise can be watched by someone else\r\n                  success: _.bind(this._updateOriginalActions, this)\r\n                });\r\n          }\r\n        },\r\n\r\n        _updateOriginalActions: function () {\r\n          var delayedActions = this.delayedActions;\r\n\r\n          function updateNodeActions(node) {\r\n            var actionNode = delayedActions.get(node.get('id'));\r\n            if (actionNode) {\r\n              node.actions.add(actionNode.actions.models);\r\n            }\r\n          }\r\n\r\n          if (this instanceof Backbone.Collection) {\r\n            this.each(updateNodeActions);\r\n          } else {\r\n            updateNodeActions(this);\r\n          }\r\n        },\r\n\r\n        setDefaultActionCommands: function (name) {\r\n          if (!_.isArray(name)) {\r\n            name = name.split(',');\r\n          }\r\n          _.each(name, function (name) {\r\n            if (!_.contains(this.defaultActionCommands, name)) {\r\n              this.defaultActionCommands.push(name);\r\n            }\r\n          }, this);\r\n        },\r\n\r\n        resetDefaultActionCommands: function (name) {\r\n          if (name) {\r\n            if (!_.isArray(name)) {\r\n              name = name.split(',');\r\n            }\r\n            _.each(name, function (name) {\r\n              var index = _.indexOf(this.defaultActionCommands, name);\r\n              if (index >= 0) {\r\n                this.defaultActionCommands.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else {\r\n            this.defaultActionCommands.splice(0, this.defaultActionCommands.length);\r\n          }\r\n        },\r\n\r\n        getRequestedCommandsUrlQuery: function () {\r\n          var commands = this.delayRestCommands ?\r\n                         this.defaultActionCommands : this.includeCommands;\r\n          return commands.length && {commands: commands};\r\n        },\r\n\r\n        getAllCommandsUrlQuery: function () {\r\n          var commands = this.includeCommands;\r\n          return commands.length && {commands: commands};\r\n        },\r\n\r\n        // Stop the delayed action enabling for child models and collections.\r\n        // If they want it, they can do so in the constructors, which creates\r\n        // them. Immediate child models of this collection can be enabled by\r\n        // the delayRestCommandsForModels option.\r\n        _prepareModel: function (attrs, options) {\r\n          var delayRestCommands, delayRestCommandsForModels;\r\n          options || (options = {});\r\n          // If the collection is populated after the constructor has\r\n          // finished, we can use parameters passed to the constructor\r\n          // as defaults, if the population options are empty.\r\n          if (this.delayedActions) {\r\n            delayRestCommands = options.delayRestCommands;\r\n            if (delayRestCommands === undefined) {\r\n              delayRestCommands = this.delayRestCommands;\r\n            }\r\n            delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n            if (delayRestCommandsForModels === undefined) {\r\n              delayRestCommandsForModels = this.delayRestCommandsForModels;\r\n            }\r\n          } else {\r\n            delayRestCommands = options.delayRestCommands;\r\n            delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n          }\r\n          options.delayRestCommands = delayRestCommandsForModels;\r\n          options.delayRestCommandsForModels = false;\r\n          var model = originalPrepareModel.call(this, attrs, options);\r\n          options.delayRestCommands = delayRestCommands;\r\n          options.delayRestCommandsForModels = delayRestCommandsForModels;\r\n          return model;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return DelayedCommandableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/browsable/v1.response.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n\r\n  var BrowsableV1ResponseMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeBrowsableV1Response: function (options) {\r\n          return this;\r\n        },\r\n\r\n        parseBrowsedState: function (response, options) {\r\n          // FIXME: Confirm sorting and filtering parameters too.\r\n          if (response.page) {\r\n            this.actualSkipCount = (response.page - 1) * (response.limit || 0);\r\n          }\r\n          var totalCount = response.total_count ? response.total_count : 0;\r\n          this.totalCount = totalCount;\r\n          this.filteredCount = response.filtered_count || totalCount;\r\n        },\r\n\r\n        parseBrowsedItems: function (response, options) {\r\n          return response.data;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return BrowsableV1ResponseMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/node.children/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url',\r\n  'csui/models/browsable/v1.request.mixin',\r\n  'csui/models/browsable/v1.response.mixin'\r\n], function (_, Url, BrowsableV1RequestMixin, BrowsableV1ResponseMixin) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      BrowsableV1ResponseMixin.mixin(prototype);\r\n      BrowsableV1RequestMixin.mixin(prototype);\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          this.makeBrowsableV1Request(options)\r\n              .makeBrowsableV1Response(options);\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var includeActions = !!this.includeActions,\r\n              query = Url.combineQueryString({\r\n                // Do not request the v1 actions, which are sent by default\r\n                extra: includeActions,\r\n                actions: includeActions\r\n              },\r\n              this.getBrowsableUrlQuery(),\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getRequestedCommandsUrlQuery()\r\n          );\r\n          return Url.combine(this.node.urlBase(),\r\n              query ? '/nodes?' + query : '/nodes');\r\n        },\r\n\r\n        // TODO: Remove this method and make the cache layer aware of node URLs.\r\n        urlCacheBase: function(){\r\n          return Url.combine(this.node.urlBase(),'/nodes?');\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          this.parseBrowsedState(response, options);\r\n          this.columns && this.columns.resetColumns(response, this.options);\r\n          return this.parseBrowsedItems(response, options);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/nodechildren',[\r\n  'module', 'csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/url', 'csui/models/node/node.model', 'csui/models/nodes',\r\n  'csui/models/nodechildrencolumns',\r\n  'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/mixins/delayed.commandable/delayed.commandable.mixin',\r\n  'csui/models/node.children/server.adaptor.mixin',\r\n  'csui/utils/log', 'csui/utils/deepClone/deepClone'\r\n], function (module, $, _, Backbone, Url, NodeModel, NodeCollection,\r\n    NodeChildrenColumnCollection, NodeResourceMixin, ExpandableMixin,\r\n    BrowsableMixin, DelayedCommandableMixin, ServerAdaptorMixin, log) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    defaultPageSize: 30\r\n  });\r\n\r\n  log = log(module.id);\r\n\r\n  var NodeChildrenCollection = NodeCollection.extend({\r\n\r\n    constructor: function NodeChildrenCollection(models, options) {\r\n      options = _.defaults({}, options, {\r\n        top: config.defaultPageSize,\r\n        columnsFromDefinitionsOrder: false\r\n      }, options);\r\n\r\n      NodeCollection.prototype.constructor.call(this, models, options);\r\n\r\n      this.makeNodeResource(options)\r\n          .makeExpandable(options)\r\n          .makeDelayedCommandable(options)\r\n          .makeBrowsable(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      this.options = options;\r\n      this.includeActions = options.includeActions;\r\n      this.columns = new NodeChildrenColumnCollection();\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.models, {\r\n        node: this.node,\r\n        skip: this.skipCount,\r\n        top: this.topCount,\r\n        filter: _.deepClone(this.filters),\r\n        orderBy: this.orderBy,\r\n        expand: _.clone(this.expand),\r\n        includeActions: this.includeActions,\r\n        commands: _.clone(this.includeCommands),\r\n        defaultActionCommands: _.clone(this.defaultActionCommands),\r\n        delayRestCommands: this.delayRestCommands\r\n      });\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.node.isFetchable();\r\n    }\r\n  });\r\n\r\n  BrowsableMixin.mixin(NodeChildrenCollection.prototype);\r\n  ExpandableMixin.mixin(NodeChildrenCollection.prototype);\r\n  DelayedCommandableMixin.mixin(NodeChildrenCollection.prototype);\r\n  ServerAdaptorMixin.mixin(NodeChildrenCollection.prototype);\r\n  NodeResourceMixin.mixin(NodeChildrenCollection.prototype);\r\n\r\n  // TODO: Remove this, as soon as all abandoned this.Fetchable.\r\n  var originalFetch = NodeChildrenCollection.prototype.fetch;\r\n  NodeChildrenCollection.prototype.Fetchable = {\r\n    fetch: function (options) {\r\n      // log.warn('Using this.Fetchable.fetch has been deprecated.  ' +\r\n      //          'Use NodeChildrenCollection.prototype.fetch. ' +\r\n      //          'this.Fetchable is going to be removed.') && console.warn(log.last);\r\n      // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n      return originalFetch.call(this, options);\r\n    }\r\n  };\r\n\r\n  return NodeChildrenCollection;\r\n});\r\n\n","csui.define('csui/models/permission/nodepermission.model',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin'\r\n], function (module, _, $, Backbone, Url, ConnectableMixin, UploadableMixin) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    idAttribute: null\r\n  }, module.config());\r\n\r\n  var NodePermissionModel = Backbone.Model.extend({\r\n    idAttribute: config.idAttribute,\r\n\r\n    defaults: {\r\n      \"addEmptyAttribute\": true\r\n    },\r\n\r\n    constructor: function NodePermissionModel(attributes, options) {\r\n      attributes || (attributes = {});\r\n      options || (options = {});\r\n\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.options = _.pick(options, ['connector']);\r\n      this.makeConnectable(options)\r\n          .makeUploadable(options);\r\n    },\r\n\r\n    isNew: function () {\r\n      return !this.get('type') || !(this.has('right_id') || this.get('type') === 'public');\r\n    },\r\n\r\n    urlBase: function () {\r\n      var type              = this.get('type'),\r\n          right_id          = this.get('right_id'),\r\n          nodeId            = this.nodeId,\r\n          apply_to          = this.apply_to,\r\n          include_sub_types = this.include_sub_types,\r\n          queryString       = \"\",\r\n          url               = this.options.connector.getConnectionUrl().getApiBase('v2');\r\n      if (!_.isNumber(nodeId) || nodeId > 0) {\r\n        // Add an existing node by VERB /nodes/:id\r\n        url = Url.combine(url, 'nodes', nodeId, 'permissions');\r\n        if (apply_to) {\r\n          queryString = Url.combineQueryString(queryString, {apply_to: apply_to});\r\n        }\r\n        if (include_sub_types) {\r\n          _.each(include_sub_types, function (subtype) {\r\n            queryString = Url.combineQueryString(queryString, {include_sub_types: subtype});\r\n          });\r\n        }\r\n\r\n        queryString = queryString.length > 0 ? \"?\" + queryString : queryString;\r\n        if (!type) {\r\n          // Create a new permission model by POST\r\n          url = Url.combine(url, 'custom' + queryString);\r\n        } else if (type !== 'custom') {\r\n          //Access an existing permission model by VERB /:type where type is public/owner/group\r\n          url = Url.combine(url, type + queryString);\r\n        } else if (!_.isNumber(right_id) || right_id > 0) {\r\n          //Access an existing permission model by VERB /custom/:right_id\r\n          url = Url.combine(url, type, right_id + queryString);\r\n        } else {\r\n          throw new Error('Unsupported permission type or user id');\r\n        }\r\n      } else {\r\n        throw new Error('Unsupported id value');\r\n      }\r\n      return url;\r\n    },\r\n\r\n    url: function () {\r\n      var url   = this.urlBase(),\r\n          query = null;\r\n      return query ? url + '?' + query : url;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      if (this.collection) {\r\n        var addItemsOptionIndex        = response.permissions ?\r\n                                         response.permissions.indexOf('add_items') : -1,\r\n            addMajorVersionOptionIndex;\r\n        if (!this.collection.isContainer) {\r\n          if (addItemsOptionIndex !== -1) {\r\n            response.permissions.splice(addItemsOptionIndex, 1);\r\n          }\r\n          addMajorVersionOptionIndex = response.permissions ?\r\n                                         response.permissions.indexOf(\"add_major_version\") : -1;\r\n          if (!(this.collection.options.node &&\r\n              this.collection.options.node.get('advanced_versioning')) &&\r\n              addMajorVersionOptionIndex !== -1) {\r\n            response.permissions.splice(addMajorVersionOptionIndex, 1);\r\n          }\r\n        } else {\r\n          addMajorVersionOptionIndex = response.permissions ?\r\n                                         response.permissions.indexOf(\"add_major_version\") : -1;\r\n          if (!(this.collection.options.node &&\r\n              this.collection.options.node.get('advancedVersioningEnabled')) &&\r\n              addMajorVersionOptionIndex !== -1) {\r\n            response.permissions.splice(addMajorVersionOptionIndex, 1);\r\n          }\r\n        }\r\n      }\r\n      return response;\r\n    },\r\n\r\n    getPermissionLevel: function () {\r\n      return NodePermissionModel.getPermissionLevel(this.get(\"permissions\"), this.collection.isContainer, this.collection.options.node &&\r\n           this.collection.options.node.get('advanced_versioning'), this.collection.options.node);\r\n    }\r\n  }, {\r\n    getPermissionLevel: getPermissionLevel,\r\n    getReadPermissions: getReadPermissions,\r\n    getWritePermissions: getWritePermissions,\r\n    getFullControlPermissions: getFullControlPermissions,\r\n    getPermissionsByLevelExceptCustom: getPermissionsByLevelExceptCustom\r\n  });\r\n\r\n  function getPermissionLevel(permissions, isContainer, versionControlAdvanced, node) {\r\n    var value            = NodePermissionModel.PERMISSION_LEVEL_NONE,\r\n        permissionsCount = 9;\r\n    if (isContainer) {\r\n      permissionsCount++;\r\n      if (!node.get('advancedVersioningEnabled')) {\r\n        permissionsCount--;\r\n      }\r\n    } else if (!versionControlAdvanced) {\r\n      permissionsCount--;\r\n    }\r\n    if (permissions && permissions.length > 0 && (node.get('permissions_model') !== 'simple')) {\r\n      if (permissions.indexOf(\"edit_permissions\") >= 0 &&\r\n          permissions.length === permissionsCount) {\r\n        value = NodePermissionModel.PERMISSION_LEVEL_FULL_CONTROL;\r\n      } else if (permissions.indexOf(\"edit_permissions\") < 0 &&\r\n                 permissions.indexOf(\"delete\") >= 0 &&\r\n                 permissions.length === (permissionsCount - 1)) {\r\n        value = NodePermissionModel.PERMISSION_LEVEL_WRITE;\r\n      } else if (permissions.indexOf(\"see_contents\") >= 0 &&\r\n                 permissions.length === 2) {\r\n        value = NodePermissionModel.PERMISSION_LEVEL_READ;\r\n      } else {\r\n        value = NodePermissionModel.PERMISSION_LEVEL_CUSTOM;\r\n      }\r\n    } else if (permissions && permissions.length > 0 &&\r\n               (node.get('permissions_model') === 'simple')) {\r\n      if (permissions.indexOf(\"edit_permissions\") >= 0) {\r\n        value = NodePermissionModel.PERMISSION_LEVEL_FULL_CONTROL;\r\n      } else if (permissions.indexOf(\"edit_permissions\") < 0 &&\r\n                 permissions.indexOf(\"delete\") >= 0) {\r\n        value = NodePermissionModel.PERMISSION_LEVEL_WRITE;\r\n      } else if (permissions.indexOf(\"see_contents\") >= 0 &&\r\n                 permissions.length === 2) {\r\n        value = NodePermissionModel.PERMISSION_LEVEL_READ;\r\n      }\r\n    }\r\n    return value;\r\n  }\r\n\r\n  function getReadPermissions() {\r\n    return [\"see\", \"see_contents\"];\r\n  }\r\n\r\n  function getWritePermissions(isContainer, versionControlAdvanced, advancedVersioningEnabled) {\r\n    var permissions = [\"see\", \"see_contents\", \"modify\", \"edit_attributes\", \"add_items\", \"reserve\",\r\n      \"add_major_version\", \"delete_versions\", \"delete\"];\r\n    if (!isContainer) {\r\n      permissions.splice(permissions.indexOf('add_items'), 1);\r\n      if (!versionControlAdvanced) {\r\n        permissions.splice(permissions.indexOf('add_major_version'), 1);\r\n      }\r\n    } else {\r\n      if (!advancedVersioningEnabled) {\r\n        permissions.splice(permissions.indexOf('add_major_version'), 1);\r\n      }\r\n    }\r\n    return permissions;\r\n  }\r\n\r\n  function getFullControlPermissions(isContainer, versionControlAdvanced,\r\n      advancedVersioningEnabled) {\r\n    var permissions = [\"see\", \"see_contents\", \"modify\", \"edit_attributes\", \"add_items\", \"reserve\",\r\n      \"add_major_version\", \"delete_versions\", \"delete\", \"edit_permissions\"];\r\n    if (!isContainer) {\r\n      permissions.splice(permissions.indexOf('add_items'), 1);\r\n      if (!versionControlAdvanced) {\r\n        permissions.splice(permissions.indexOf('add_major_version'), 1);\r\n      }\r\n    } else {\r\n      if (!advancedVersioningEnabled) {\r\n        permissions.splice(permissions.indexOf('add_major_version'), 1);\r\n      }\r\n    }\r\n    return permissions;\r\n  }\r\n\r\n  function getPermissionsByLevelExceptCustom(level, isContainer, versionControlAdvanced,\r\n      advancedVersioningEnabled) {\r\n    var permissions = null;\r\n    switch (level) {\r\n    case NodePermissionModel.PERMISSION_LEVEL_NONE:\r\n      permissions = [];\r\n      break;\r\n    case NodePermissionModel.PERMISSION_LEVEL_READ:\r\n      permissions = getReadPermissions();\r\n      break;\r\n    case NodePermissionModel.PERMISSION_LEVEL_WRITE:\r\n      permissions = getWritePermissions(isContainer, versionControlAdvanced,\r\n          advancedVersioningEnabled);\r\n      break;\r\n    case NodePermissionModel.PERMISSION_LEVEL_FULL_CONTROL:\r\n      permissions = getFullControlPermissions(isContainer, versionControlAdvanced,\r\n          advancedVersioningEnabled);\r\n      break;\r\n    }\r\n    return permissions;\r\n  }\r\n\r\n  NodePermissionModel.prototype.PERMISSION_LEVEL_NONE = NodePermissionModel.PERMISSION_LEVEL_NONE = 0;\r\n  NodePermissionModel.prototype.PERMISSION_LEVEL_READ = NodePermissionModel.PERMISSION_LEVEL_READ = 1;\r\n  NodePermissionModel.prototype.PERMISSION_LEVEL_WRITE = NodePermissionModel.PERMISSION_LEVEL_WRITE = 2;\r\n  NodePermissionModel.prototype.PERMISSION_LEVEL_FULL_CONTROL = NodePermissionModel.PERMISSION_LEVEL_FULL_CONTROL = 3;\r\n  NodePermissionModel.prototype.PERMISSION_LEVEL_CUSTOM = NodePermissionModel.PERMISSION_LEVEL_CUSTOM = 4;\r\n\r\n  NodePermissionModel.prototype.getReadPermissions = NodePermissionModel.getReadPermissions;\r\n  NodePermissionModel.prototype.getWritePermissions = NodePermissionModel.getWritePermissions;\r\n  NodePermissionModel.prototype.getFullControlPermissions = NodePermissionModel.getFullControlPermissions;\r\n  NodePermissionModel.prototype.getPermissionsByLevelExceptCustom = NodePermissionModel.getPermissionsByLevelExceptCustom;\r\n\r\n  ConnectableMixin.mixin(NodePermissionModel.prototype);\r\n  UploadableMixin.mixin(NodePermissionModel.prototype);\r\n\r\n  return NodePermissionModel;\r\n});\r\n\n","csui.define('csui/models/permission/permission.response.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/base'\r\n], function (_, base) {\r\n  'use strict';\r\n\r\n  var PermissionResponseMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makePermissionResponse: function (options) {\r\n          return this;\r\n        },\r\n\r\n        /**\r\n         * This method update the response data for the following fields....\r\n         * removes public access record if no permission data exists,\r\n         * @param resp\r\n         * @param options\r\n         */\r\n        parsePermissionResponse: function (resp, options, clearEmptyPermissionModel) {\r\n          if (!!resp.results && !!resp.results.data && !!resp.results.data.permissions &&\r\n              !_.isEmpty(resp.results.data.permissions)) {\r\n            var permissionsList = resp.results.data.permissions;\r\n            if (_.isArray(permissionsList)) {\r\n              //Removing public access entry from response if there is no permissions available\r\n              permissionsList = _.reject(permissionsList,\r\n                  function (child) { return (child.type === 'public' && !child.permissions); });\r\n              var ownerData = _.find(permissionsList, function (item) {\r\n                    return item.type === 'owner';\r\n                  }),\r\n                  groupData = _.find(permissionsList, function (item) {\r\n                    return item.type === 'group';\r\n                  });\r\n              //Removing group entry from response if owner is available and group is not available\r\n              if ((ownerData && ownerData.permissions) && (groupData && !groupData.permissions)) {\r\n                permissionsList = _.reject(permissionsList,\r\n                    function (child) { return (child.type === 'group' && !child.permissions); });\r\n              }\r\n              //Removing owner entry from response if group is available and owner is not available\r\n              if ((ownerData && !ownerData.permissions) && (groupData && groupData.permissions)) {\r\n                permissionsList = _.reject(permissionsList,\r\n                    function (child) { return (child.type === 'owner' && !child.permissions); });\r\n              }\r\n              //Removing group entry from response if there is no permissions available for owner\r\n              // and owner group\r\n              if ((ownerData && !ownerData.permissions) && (groupData && !groupData.permissions)) {\r\n                permissionsList = _.reject(permissionsList,\r\n                    function (child) { return (child.type === 'group' && !child.permissions); });\r\n              }\r\n            } else if (_.isObject(permissionsList)) {\r\n              permissionsList = [];\r\n              if (resp.results.data.permissions &&\r\n                  resp.results.data.permissions.permissions.length > 0) {\r\n                permissionsList.push(resp.results.data.permissions);\r\n              }\r\n            }\r\n            resp.results.data.permissions = permissionsList;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return PermissionResponseMixin;\r\n});\r\n\n","csui.define('csui/models/permission/nodeuserpermissions',['module',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/utils/url',\r\n  'csui/models/permission/nodepermission.model',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/permission/permission.response.mixin'\r\n], function (module, $, _, Backbone, Url, NodePermissionModel,\r\n    ConnectableMixin, FetchableMixin, BrowsableMixin,\r\n    BrowsableV2ResponseMixin, ExpandableV2Mixin, PermissionResponseMixin) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    defaultPageSize: 30\r\n  });\r\n\r\n  var NodeUserPermissionCollection = Backbone.Collection.extend({\r\n\r\n    model: NodePermissionModel,\r\n\r\n    constructor: function NodeUserPermissionCollection(models, options) {\r\n      options = _.defaults({}, options, {\r\n        top: config.defaultPageSize\r\n      }, options);\r\n\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeFetchable(options);\r\n\r\n      this.options = options;\r\n      this.includeActions = options.includeActions;\r\n      this.query = this.options.query;\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeBrowsable(options)\r\n          .makeBrowsableV2Response(options)\r\n          .makePermissionResponse(options);\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return true;\r\n    },\r\n\r\n    url: function () {\r\n      var url = Url.combine(this.connector.getConnectionUrl().getApiBase('v2'), 'nodes',\r\n          this.options.node.get('id')), query;\r\n      if (!!this.options.memberId) {\r\n        url += '/permissions/effective/' + this.options.memberId;\r\n        query = Url.combineQueryString(\r\n            {\r\n              expand: 'permissions{right_id}'\r\n            }, query);\r\n      } else {\r\n        query = Url.combineQueryString(\r\n            {\r\n              fields: ['properties{container, name, type, versions_control_advanced,' +\r\n                       ' permissions_model}',\r\n                'permissions{right_id, permissions, type}', 'versions{version_id}'],\r\n              expand: ['permissions{right_id}']\r\n            }, query);\r\n      }\r\n      if (query) {\r\n        url += '?' + query;\r\n      }\r\n\r\n      return url;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      if (!!response.results && !!response.results.data) {\r\n        this.parsePermissionResponse(response, options, this.options.clearEmptyPermissionModel);\r\n        //Add name in the permission collection\r\n        if (!this.options.node.get(\"isNotFound\")) {\r\n          this.nodeName = response.results.data.properties ? response.results.data.properties.name :\r\n                          \"\";\r\n          if (this.isContainer === undefined || response.results.data.properties) {\r\n            this.isContainer = response.results.data.properties ?\r\n                               response.results.data.properties.container : true;\r\n          }\r\n          return response.results.data.permissions;\r\n        }\r\n      }\r\n    },\r\n\r\n    setOrder: function (attributes, fetch) {\r\n      if (this.orderBy != attributes) {\r\n        this.orderBy = attributes;\r\n        if (fetch !== false) {\r\n          this.fetch({skipSort: false});\r\n        }\r\n        return true;\r\n      }\r\n    },\r\n\r\n    processForEmptyOwner: function () {\r\n      if (!this.findWhere({type: 'owner'}) && !this.findWhere({type: 'group'})) {\r\n        //Add dummy model at index 0, for no owner assigned row\r\n        this.add({permissions: null, right_id: null, type: 'owner'}, {at: 0});\r\n      }\r\n    },\r\n\r\n    addPublicAccess: function (publicAccessModel) {\r\n      if (this.findWhere({type: 'owner'}) && this.findWhere({type: 'group'})) {\r\n        //Add dummy model at index 0, for no owner assigned row\r\n        this.add(publicAccessModel, {at: 2});\r\n      } else {\r\n        //Add public access at index 1, if anyone is present from owner or group\r\n        this.add(publicAccessModel, {at: 1});\r\n      }\r\n    },\r\n\r\n    addOwnerOrGroup: function (nodePermissionModel, flag) {\r\n      var owner = this.findWhere({type: 'owner'});\r\n      if (owner && owner.get('permissions') === null) { //No owner or group\r\n        var currentModel = this.at(0);\r\n        this.remove(currentModel, {silent:flag});\r\n        this.add(nodePermissionModel, {at: 0});\r\n      }\r\n      else {\r\n        this.add(nodePermissionModel, {at: (nodePermissionModel.get('type') === 'owner') ? 0 : 1});\r\n      }\r\n    }\r\n  });\r\n\r\n  FetchableMixin.mixin(NodeUserPermissionCollection.prototype);\r\n  BrowsableMixin.mixin(NodeUserPermissionCollection.prototype);\r\n  BrowsableV2ResponseMixin.mixin(NodeUserPermissionCollection.prototype);\r\n  ConnectableMixin.mixin(NodeUserPermissionCollection.prototype);\r\n  ExpandableV2Mixin.mixin(NodeUserPermissionCollection.prototype);\r\n  PermissionResponseMixin.mixin(NodeUserPermissionCollection.prototype);\r\n\r\n  return NodeUserPermissionCollection;\r\n\r\n});\r\n\r\n\n","csui.define('csui/models/tool.item.config/tool.item.config.collection',[\r\n  'module', 'require', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone'\r\n], function (module, require, _, $, Backbone) {\r\n  'use strict';\r\n\r\n  var configs = module.config().configs || [];\r\n  // Support either array of module IDs or a map with keys pointing\r\n  // to arrays of module IDs; the latter can be used for decentralized\r\n  // configuration (multiple calls to require.config, which merge maps,\r\n  // but not arrays)\r\n  if (!Array.isArray(configs)) {\r\n    configs = Object\r\n        .keys(configs)\r\n        .reduce(function (result, key) {\r\n          return result.concat(configs[key]);\r\n        }, []);\r\n  }\r\n  // Convert the array of tool item config module names to model attributes\r\n  configs = configs.map(function (name) {\r\n    return {\r\n      id: name\r\n    };\r\n  });\r\n\r\n  var ToolItemConfigCollection = Backbone.Collection.extend({\r\n\r\n    constructor: function ToolItemConfigCollection(models, options) {\r\n      models || (models = configs);\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n     },\r\n\r\n    sync: function (method, collection, options) {\r\n      if (method !== 'read') {\r\n        throw new Error('Only fetching tool item configurations is supported.');\r\n      }\r\n      var self = this;\r\n      options = _.extend({}, this.options, options);\r\n      return this._resolveConfigs(options)\r\n                 .then(function () {\r\n                   var response = self.toJSON();\r\n                   options.success && options.success(response, options);\r\n                   self.trigger('sync', self, response, options);\r\n                 });\r\n    },\r\n\r\n    _resolveConfigs: function (options) {\r\n      var modules = this.chain()\r\n                        .filter(function (model) {\r\n                          // A resolvable config must have an ID\r\n                          // and not be already resolved\r\n                          return model.has('id') &&\r\n                                 !(model.has('config') ||\r\n                                   model.has('error'));\r\n                        })\r\n                        .pluck('id')\r\n                        .value(),\r\n          deferred = $.Deferred(),\r\n          self = this;\r\n      if (modules.length) {\r\n        require(modules, function () {\r\n          var configs = arguments;\r\n          modules.forEach(function (module, index) {\r\n            var model = self.get(module);\r\n            model.set('config', configs[index]);\r\n          });\r\n          deferred.resolve();\r\n        }, function (error) {\r\n          self.forEach(function (module) {\r\n            module.set('error', error);\r\n          });\r\n          if (options.ignoreErrors) {\r\n            deferred.resolve();\r\n          } else {\r\n            deferred.reject(error);\r\n          }\r\n        });\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return ToolItemConfigCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/tool.item.mask/tool.item.mask.collection',[\r\n  'module', 'require', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone'\r\n], function (module, require, _, $, Backbone) {\r\n  'use strict';\r\n\r\n  var masks = module.config().masks || [];\r\n  // Support either array of module IDs or a map with keys pointing\r\n  // to arrays of module IDs; the latter can be used for decentralized\r\n  // configuration (multiple calls to require.config, which merge maps,\r\n  // but not arrays)\r\n  if (!Array.isArray(masks)) {\r\n    masks = Object\r\n        .keys(masks)\r\n        .reduce(function (result, key) {\r\n          return result.concat(masks[key]);\r\n        }, []);\r\n  }\r\n  // Convert the array of tool item mask module names to model attributes\r\n  masks = masks.map(function (name) {\r\n    return {\r\n      id: name\r\n    };\r\n  });\r\n\r\n  var ToolItemMaskCollection = Backbone.Collection.extend({\r\n\r\n    constructor: function ToolItemMaskCollection(models, options) {\r\n      models || (models = masks);\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n    },\r\n\r\n    sync: function (method, collection, options) {\r\n      if (method !== 'read') {\r\n        throw new Error('Only fetching tool item masks is supported.');\r\n      }\r\n      var self = this;\r\n      options = _.extend({}, this.options, options);\r\n      return this._resolveMasks(options)\r\n                 .then(function () {\r\n                   var response = self.toJSON();\r\n                   options.success && options.success(response, options);\r\n                   self.trigger('sync', self, response, options);\r\n                 });\r\n    },\r\n\r\n    _resolveMasks: function (options) {\r\n      var modules = this.chain()\r\n                        .filter(function (model) {\r\n                          // A resolvable mask must have an ID\r\n                          // and not be already resolved\r\n                          return model.has('id') &&\r\n                                 !(model.has('mask') ||\r\n                                   model.has('error'));\r\n                        })\r\n                        .pluck('id')\r\n                        .value(),\r\n          deferred = $.Deferred(),\r\n          self = this;\r\n      if (modules.length) {\r\n        require(modules, function () {\r\n          var masks = arguments;\r\n          modules.forEach(function (module, index) {\r\n            var model = self.get(module);\r\n            model.set('mask', masks[index]);\r\n          });\r\n          deferred.resolve();\r\n        }, function (error) {\r\n          self.forEach(function (module) {\r\n            module.set('error', error);\r\n          });\r\n          if (options.ignoreErrors) {\r\n            deferred.resolve();\r\n          } else {\r\n            deferred.reject(error);\r\n          }\r\n        });\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return ToolItemMaskCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/server.module/server.module.collection',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone'\r\n], function (module, _, $, Backbone) {\r\n  'use strict';\r\n\r\n  // Map with ids as keys and attributes as values\r\n  var sourceModules = module.config().modules || {},\r\n  // Convert the configuration map to an array of model attributes\r\n      serverModules = _.map(sourceModules, function (attributes, id) {\r\n        attributes.id = id;\r\n        return attributes;\r\n      });\r\n\r\n  var ServerModuleModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      id: null,   // Require.js module prefix used by the server module\r\n      title: null // Displayable title of the server module\r\n    },\r\n\r\n    constructor: function ServerModuleModel(attributes, options) {\r\n      ServerModuleModel.__super__.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var ServerModuleCollection = Backbone.Collection.extend({\r\n\r\n    model: ServerModuleModel,\r\n\r\n    constructor: function ServerModuleCollection(models, options) {\r\n      models || (models = serverModules);\r\n      ServerModuleCollection.__super__.constructor.call(this, models, options);\r\n    },\r\n\r\n    sync: function (method, collection, options) {\r\n      if (method !== 'read') {\r\n        throw new Error('Only fetching the server modules is supported.');\r\n      }\r\n      var self = this;\r\n      options || (options = {});\r\n      return this._resolveServerModules()\r\n          .then(function () {\r\n            var response = self.toJSON();\r\n            options.success && options.success(response, options);\r\n            self.trigger('sync', self, response, options);\r\n          });\r\n    },\r\n\r\n    _resolveServerModules: function (options) {\r\n      options = _.extend({}, this.options, options);\r\n      var deferred = $.Deferred(),\r\n          missing = this.find(function (serverModule) {\r\n            var sourceModule = sourceModules[serverModule.id];\r\n            if (sourceModule) {\r\n              serverModule.set(sourceModule.attributes);\r\n            } else {\r\n              if (!options.ignoreErrors) {\r\n                return true;\r\n              }\r\n            }\r\n          });\r\n      if (missing) {\r\n        var error = new Error('Invalid module prefix: ' + missing.id);\r\n        return deferred.reject(error);\r\n      }\r\n      return deferred.resolve().promise();\r\n    }\r\n\r\n  });\r\n\r\n  return ServerModuleCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/specificnodemodel',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/node.resource/node.resource.mixin'\r\n], function (_, Backbone, Url, NodeResourceMixin) {\r\n  'use strict';\r\n\r\n  var SpecificNodeModel = Backbone.Model.extend({\r\n\r\n    constructor: function SpecificNodeModel(attributes, options) {\r\n      this.options = options || (options = {});\r\n      Backbone.Model.prototype.constructor.call(this, arguments);\r\n      this.makeNodeResource(options);\r\n    },\r\n\r\n    parse: function (response) {\r\n      return response;\r\n    },\r\n\r\n    url: function () {\r\n\r\n      var node   = this.options.node,\r\n          nodeId = node.get('id'),\r\n          url;\r\n      url = _.str.sformat('forms/nodes/properties/specific?id={0}',\r\n          nodeId);\r\n\r\n      return Url.combine(this.options.connector.connection.url, url);\r\n\r\n    }\r\n\r\n  });\r\n\r\n  NodeResourceMixin.mixin(SpecificNodeModel.prototype);\r\n\r\n  return SpecificNodeModel;\r\n\r\n});\r\n\n","csui.define('csui/utils/objectstorage',[\"module\", \"csui/lib/underscore\", \"csui/lib/backbone\", \"csui/utils/log\", \"csui/lib/jquery\"\r\n], function (module, _, Backbone, log, $) {\r\n  'use strict';\r\n  function ObjectStorage() {\r\n    this.items = {};\r\n  }\r\n\r\n  _.extend(ObjectStorage.prototype,{\r\n    constructor: ObjectStorage,\r\n    setItem: function (k, v) {\r\n      this.items[k] = v;\r\n    },\r\n\r\n    getItem: function (k) {\r\n      return this.items[k];\r\n    },\r\n\r\n    removeItem: function (k) {\r\n      delete this.items[k];\r\n    }\r\n  });\r\n\r\n  return ObjectStorage;\r\n});\n","csui.define('csui/utils/namedstorage',[\"module\", \"csui/lib/underscore\", \"csui/lib/backbone\", \"csui/utils/log\",\r\n  \"csui/utils/objectstorage\"\r\n], function (module, _, Backbone, log, ObjectStorage) {\r\n\r\n  function NamedStorage(storage, name) {\r\n    this.storage = storage;\r\n    this.name = name;\r\n    try {\r\n      this.storage.setItem(\"testkey\",\"testvalue\");\r\n    } catch(e) {\r\n      this.os = new ObjectStorage();\r\n    }\r\n  }\r\n\r\n  _.extend(NamedStorage.prototype, Backbone.Events, {\r\n\r\n    constructor: NamedStorage,\r\n\r\n    get: function (key, value) {\r\n      return getContent.call(this)[key];\r\n    },\r\n\r\n    set: function (key, value) {\r\n      var content = getContent.call(this);\r\n      content[key] = value;\r\n      saveContent.call(this, content);\r\n    },\r\n\r\n    remove: function (key) {\r\n      var content = getContent.call(this);\r\n      delete content[key];\r\n      saveContent.call(this, content);\r\n    },\r\n\r\n    destroy: function () {\r\n      this.storage.removeItem(this.name);\r\n    }\r\n\r\n  });\r\n\r\n  function getContent() {\r\n    var content;\r\n    if (!!this.os) {\r\n      content = this.os.getItem(this.name);\r\n    } else {\r\n      content = this.storage && this.storage.getItem(this.name);\r\n    }\r\n    return (content && JSON.parse(content)) || {};\r\n  }\r\n\r\n  function saveContent(content) {\r\n    if(!!this.os) {\r\n      this.os.setItem(this.name, JSON.stringify(content));\r\n    } else {\r\n      this.storage && this.storage.setItem(this.name, JSON.stringify(content));\r\n    }\r\n  }\r\n\r\n  NamedStorage.extend = Backbone.View.extend;\r\n  NamedStorage.version = '1.0';\r\n\r\n  return NamedStorage;\r\n\r\n});\r\n\n","csui.define('csui/utils/namedsessionstorage',[\"module\", \"csui/utils/log\", \"csui/utils/namedstorage\"\r\n], function (module, log, NamedStorage) {\r\n\r\n  if (sessionStorage === undefined) {\r\n    log.warn(\"Session storage is not available.\" +\r\n             \"  Some information will not be able to save temporarily;\" +\r\n             \" authenticated state, for example.\") && console.warn(log.last);\r\n  }\r\n\r\n  var NamedSessionStorage = NamedStorage.extend({\r\n\r\n    constructor: function NamedSessionStorage(name) {\r\n      NamedStorage.prototype.constructor.call(this, sessionStorage, name);\r\n    }\r\n\r\n  });\r\n\r\n  NamedSessionStorage.version = '1.0';\r\n\r\n  return NamedSessionStorage;\r\n\r\n});\r\n\n","csui.define('csui/models/view.state.model',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/log', 'csui/utils/url', 'csui/utils/namedsessionstorage'\r\n], function (module, _, Backbone, log, Url, NamedSessionStorage) {\r\n  'use strict';\r\n\r\n  // noinspection JSUnresolvedVariable\r\n  var storage = new NamedSessionStorage(module.id);\r\n\r\n  var MAX_ROUTERS_INFO_STACK = 10;\r\n\r\n  var constants = Object.freeze({\r\n    LAST_ROUTER: 'lastRouter',\r\n    CURRENT_ROUTER: 'currentRouter',\r\n    CURRENT_ROUTER_FRAGMENT: 'currentRouterFragment',\r\n    CURRENT_ROUTER_NAVIGATE_OPTIONS: 'currentRouterNavigateOptions',\r\n    CURRENT_ROUTER_SCOPE_ID: 'currentRouterScopeId',\r\n    METADATA_CONTAINER: 'metadata_container',\r\n    STATE: 'state',\r\n    DEFAULT_STATE: 'default_state',\r\n    SESSION_STATE: 'session_state',\r\n    ROUTERS_HISTORY_ARRAY: 'routersHistoryArray',\r\n    URL_PARAMS: 'urlParams',\r\n    ALLOW_WIDGET_URL_PARAMS: 'allowWidgetUrlParams'\r\n  });\r\n\r\n  /*var noExpanding = /\\bno_expand\\b(?:=([^&]*)?)?/i.exec(location.search);\r\n  noExpanding = noExpanding && noExpanding[1] !== 'false';*/\r\n\r\n  // The view state model stores variables in the state attribute. Those variables are used to build\r\n  // the url parameters. In this sense the url is the long term storage.\r\n  // The session session_state contains variables that are stored in the browser session storage.\r\n  var ViewStateModel = Backbone.Model.extend({\r\n\r\n    constructor: function ViewStateModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n      this.set('enabled', false);\r\n\r\n      this._routersHistory = [];\r\n      _.values(constants).forEach(function (property) {\r\n        var value = storage.get(property);\r\n        if (property.indexOf(\"Array\") !== -1 && value) {\r\n          value = JSON.parse(value);\r\n        }\r\n        this.set(property, value);\r\n        this.listenTo(this, 'change:' + property, this._syncWithStorage.bind(this, property));\r\n      }.bind(this));\r\n\r\n      this._routersHistory = this.get(constants.ROUTERS_HISTORY_ARRAY) || [];\r\n    },\r\n\r\n    BROWSING_TYPE: {\r\n      none: 0,\r\n      nodestable: 1,\r\n      breadcrumbs: 2,\r\n      navigation: 3\r\n    },\r\n\r\n    CONSTANTS: constants,\r\n\r\n    _setViewStateAttribute: function (attributeName, key, value, options) {\r\n      options || (options = {});\r\n      if (this._getViewStateAttribute(attributeName, key) === value) {\r\n        return;\r\n      }\r\n\r\n      var object = this.get(attributeName) || {};\r\n      object = _.clone(object);\r\n      if (options.encode) {\r\n        value = encodeURIComponent(value);\r\n      }\r\n      if (value === undefined) {\r\n        delete object[key];\r\n      } else {\r\n        object[key] = value;\r\n      }\r\n      options = _.omit(options, 'encode');\r\n      this.set(attributeName, object, options);\r\n      return true;\r\n    },\r\n\r\n    _getViewStateAttribute: function(attributeName, key, decode) {\r\n      var state = this.get(attributeName);\r\n      if (state) {\r\n        var value = state[key];\r\n        if (value && decode) {\r\n          value = decodeURIComponent(value);\r\n        }\r\n        return value;\r\n      }\r\n    },\r\n\r\n    // All the view state elements are added to the url. These variables are stored in the url.\r\n    setViewState: function (key, value, options) {\r\n      return this._setViewStateAttribute(constants.STATE, key, value, options);\r\n    },\r\n\r\n    getViewState: function (key, decode) {\r\n      return this._getViewStateAttribute(constants.STATE, key, decode);\r\n    },\r\n\r\n    // Default states are not serialized in the url even if they exist in the 'state' object.\r\n    setDefaultViewState: function(key, value, options) {\r\n      return this._setViewStateAttribute(constants.DEFAULT_STATE, key, value, options);\r\n    },\r\n\r\n    getDefaultViewState: function(key, decode) {\r\n      return this._getViewStateAttribute(constants.DEFAULT_STATE, key, decode);\r\n    },\r\n\r\n    // All variables in the session view state are stored in the session local storage.\r\n    // They are used to initialize the widgets view\r\n    setSessionViewState: function (key, value, options) {\r\n      options || (options = {});\r\n      if (this.getSessionViewState(key) === value) {\r\n        return;\r\n      }\r\n      var sessionState = this.get(constants.SESSION_STATE) || {};\r\n      sessionState = _.clone(sessionState);\r\n      sessionState[key] = value;\r\n      this.set(constants.SESSION_STATE, sessionState, options);\r\n      return true;\r\n    },\r\n\r\n    getSessionViewState: function (key) {\r\n      var state = this.get(constants.SESSION_STATE);\r\n      if (state) {\r\n        return state[key];\r\n      }\r\n    },\r\n\r\n    _syncWithStorage: function (property) {\r\n      var value = this.get(property);\r\n      if (_.isArray(value)) {\r\n        value = JSON.stringify(value);\r\n      }\r\n      storage.set(property, value);\r\n    },\r\n\r\n    updateRoutingHistory: function (newRouterInfo) {\r\n\r\n      var restore =  this.isSameRoutingInfo(newRouterInfo, this.getLastRouterInfo());\r\n\r\n      // we need to do this for backward compatibility. This is for any code that uses this\r\n      // value from previous implementation.\r\n      this.set(this.CONSTANTS.LAST_ROUTER, this.get(this.CONSTANTS.CURRENT_ROUTER));\r\n\r\n      if (restore) {\r\n        this._restoreStatesFromRouterInfo(this._routersHistory.pop());\r\n        this.unset(constants.ROUTERS_HISTORY_ARRAY, {silent: true});\r\n        this.set(constants.ROUTERS_HISTORY_ARRAY, this._routersHistory);\r\n      } else {\r\n        // we are adding the old router to the history and not the new.\r\n        if (!this.get('disableLastRouterOnChange')) {\r\n          this._addRouterInfoToHistory();\r\n        } else {\r\n          this.set('disableLastRouterOnChange', false);\r\n        }\r\n      }\r\n    },\r\n\r\n    _restoreStatesFromRouterInfo : function(routerInfo) {\r\n      if (routerInfo) {\r\n        var restoreStates = {\r\n          'state': routerInfo.state,\r\n          'default_state': routerInfo.defaultState,\r\n          'session_state': routerInfo.sessionState\r\n        };\r\n        this.set(restoreStates, {silent: true});\r\n        ['state', 'default_state', 'session_state'].forEach(function (property) {\r\n          this._syncWithStorage(property);\r\n        }.bind(this));\r\n      }\r\n    },\r\n\r\n    _addRouterInfoToHistory: function () {\r\n      var routerName = storage.get(constants.CURRENT_ROUTER);\r\n      if (routerName) {\r\n        this._routersHistory.push({\r\n          'router': routerName,\r\n          'urlParam': storage.get(constants.URL_PARAMS),\r\n          'fragment': storage.get(constants.CURRENT_ROUTER_FRAGMENT),\r\n          'scopeId': storage.get(constants.CURRENT_ROUTER_SCOPE_ID),\r\n          'navigateOptions': storage.get(constants.CURRENT_ROUTER_NAVIGATE_OPTIONS),\r\n          'state': storage.get(constants.STATE),\r\n          'sessionState': storage.get(constants.SESSION_STATE),\r\n          'defaultState': storage.get(constants.DEFAULT_STATE)\r\n        });\r\n\r\n        if (this._routersHistory.length > MAX_ROUTERS_INFO_STACK) {\r\n          this._routersHistory.shift();\r\n        }\r\n\r\n        this.unset(constants.ROUTERS_HISTORY_ARRAY, {silent: true});\r\n        this.set(constants.ROUTERS_HISTORY_ARRAY, this._routersHistory);\r\n      }\r\n    },\r\n\r\n    getLastRouterInfo: function () {\r\n      return this._routersHistory && this._routersHistory.length > 0 &&\r\n             this._routersHistory[this._routersHistory.length - 1];\r\n    },\r\n\r\n    isSameRoutingInfo: function (router1Info, router2Info) {\r\n      // todo: compare the state objects also\r\n      // Note: we can't compare the scopeId. Some of the routers like the workflow router sets it\r\n      // to an object.\r\n      return router1Info && router2Info &&\r\n             router1Info.router === router2Info.router &&\r\n             /*router1Info.scopeId === router2Info.scopeId &&*/\r\n             router1Info.router === router2Info.router &&\r\n             router1Info.fragment === router2Info.fragment;\r\n    },\r\n\r\n    // todo: remove after the workflow gets built. not needed\r\n    disableLastRouterOnChange: function () {\r\n    },\r\n\r\n    /**\r\n     * Warning: Cleaning of state will eventually clears the internals session storage. \r\n     * Thus, restoring the state (perhaps on page refresh or navigating between pages) will not be possible after this operation.\r\n     */\r\n    clean: function() {\r\n      // Clear model state\r\n      this.clear(); \r\n      // Clear session storage\r\n      storage.destroy(); \r\n    },\r\n\r\n    restoreLastRouter: function () {\r\n      require(['csui/pages/start/perspective.routing'\r\n      ], function (perspectiveRouting){\r\n\r\n        var routerInfo = this.getLastRouterInfo();\r\n        if (routerInfo) {\r\n          this._restoreStatesFromRouterInfo(routerInfo);\r\n          perspectiveRouting.getInstance().restoreRouter(routerInfo);\r\n        } else {\r\n          // Just go back if no history. It should not happen really.\r\n          window.history.back();\r\n        }\r\n\r\n      }.bind(this));\r\n    },\r\n\r\n    addUrlParameters: function (urlParameters, context) {\r\n      require(['csui/pages/start/perspective.routing'\r\n      ], function (perspectiveRouting){\r\n        perspectiveRouting.getInstance({context:context}).addUrlParameters(this.get(constants.CURRENT_ROUTER), urlParameters);\r\n      }.bind(this));\r\n    }\r\n\r\n  }, {\r\n    CONSTANTS: constants\r\n  });\r\n\r\n  return new ViewStateModel();\r\n});\r\n\n","csui.define('csui/models/perspective/personalization.server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/url'\r\n], function (_, $, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n        url: function () {\r\n          var perspectiveId = this.get('perspective_id'),\r\n              url           = new Url(this.connector.connection.url).getApiBase('v2');\r\n          if (!!perspectiveId) {\r\n            // Create a new node by POST /perspectives\r\n            url = Url.combine(url, 'perspectives', perspectiveId, 'personalization');\r\n          } else {\r\n            throw new Error('Unsupported perspective_id value');\r\n          }\r\n          return url;\r\n        },\r\n        // TODO Take care of parse, once REST API response finalized.\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n  \n","csui.define('csui/utils/namedlocalstorage',[\"module\", \"csui/utils/log\", \"csui/utils/namedstorage\"\r\n], function (module, log, NamedStorage) {\r\n\r\n  if (localStorage === undefined) {\r\n    log.warn(\"Local storage is not available.\" +\r\n             \"  Some information will not be able to be persisted;\" +\r\n             \" expanded/collapsed state of facet filters, for example.\") &&\r\n    console.warn(log.last);\r\n  }\r\n\r\n  var NamedLocalStorage = NamedStorage.extend({\r\n\r\n    constructor: function NamedLocalStorage(name) {\r\n      NamedStorage.prototype.constructor.call(this, localStorage, name);\r\n    }\r\n\r\n  });\r\n\r\n  NamedLocalStorage.version = '1.0';\r\n\r\n  return NamedLocalStorage;\r\n\r\n});\r\n\n","csui.define('csui/models/perspective/localstorage.server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/url',\r\n  'csui/utils/namedlocalstorage'\r\n], function (_, $, Url, NamedLocalStorage) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        getStorage: function () {\r\n          var deferred = $.Deferred(),\r\n              that     = this;\r\n          require(['csui/utils/contexts/factories/user'], function (UserModelFactory) {\r\n            var user          = that.options.context.getModel(UserModelFactory),\r\n                currentUserId = user.get('id');\r\n            if (!currentUserId) {\r\n              var userFactory = that.options.context.getFactory(UserModelFactory);\r\n              if (userFactory.initialResponse) {\r\n                currentUserId = userFactory.initialResponse.data.id;\r\n              }\r\n            }\r\n            if (!that.namedLocalStorage) {\r\n              that.namedLocalStorage = new NamedLocalStorage('perspective:personalization:' +\r\n                                                             currentUserId);\r\n            }\r\n            that.namedLocalStorage;\r\n            return deferred.resolve(that.namedLocalStorage);\r\n          }, deferred.reject);\r\n          return deferred;\r\n        },\r\n\r\n        savePerspective: function () {\r\n          var that = this;\r\n          return this.getStorage().then(function (storage) {\r\n            return storage.set(that.getNodeId(), that.toJSON());\r\n          });\r\n        },\r\n\r\n        fetchPerspective: function () {\r\n          var that = this;\r\n          return this.getStorage().then(function (storage) {\r\n            return storage.get(that.getNodeId());\r\n          });\r\n        },\r\n        sync: function (method, model, options) {\r\n          var deferred = $.Deferred();\r\n          switch (method) {\r\n          case 'create':\r\n          case 'update':\r\n          case 'patch':\r\n            model.savePerspective().then(function () {\r\n              deferred.resolve(this);\r\n            }, deferred.reject);\r\n\r\n            break;\r\n          case 'read':\r\n            model.fetchPerspective().then(function (personalization) {\r\n              if (!_.isEmpty(personalization)) {\r\n                model.set(personalization);\r\n              }\r\n              deferred.resolve(model);\r\n            }, deferred.reject);\r\n            break;\r\n          default:\r\n            deferred.reject();\r\n            break;\r\n          }\r\n          return deferred.promise();\r\n        }\r\n      });\r\n\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\n","/**\r\n * Utiltiy of Perspective editing and Personalization\r\n */\r\ncsui.define('csui/utils/perspective/perspective.util',['module'], function (module) {\r\n\r\n  var constants = Object.freeze({\r\n    MODE_EDIT_PERSPECTIVE: 'edit',\r\n    MODE_PERSONALIZE: 'personalize',\r\n    WIDGET_PERSPECTIVE_PLACEHOLDER: 'csui/perspective.manage/widgets/perspective.placeholder',\r\n    WIDGET_SHORTCUTS: 'csui/widgets/shortcuts',\r\n    KEY_WIDGET_ID: 'w_id',\r\n    KEY_HIDDEN: 'hidden',\r\n    WIDGET_ID_PERSPECTIVE_PREFIX: 'pman-',\r\n    WIDGET_ID_PESONALIZATION_PREFIX: 'personal-'\r\n  });\r\n\r\n  var EXTRA_WIDGET_CONFIG_KEYS = [constants.KEY_WIDGET_ID, constants.KEY_HIDDEN];\r\n\r\n  //To check required fields in widget options\r\n  function hasRequiredFields(manifest) {\r\n    if (!!manifest && !!manifest.schema && !!manifest.schema.required &&\r\n        manifest.schema.required.length > 0) {\r\n      // Has required fields in the widget options\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function isEligibleForLiveWidget(manifest) {\r\n    manifest = manifest || {};\r\n    if (!!manifest.callback || hasRequiredFields(manifest)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function getExtraWidgetKeys() {\r\n    return EXTRA_WIDGET_CONFIG_KEYS;\r\n  }\r\n\r\n  /**\r\n   * Returns shortcut group widget for personalization mode, otherwise default pman empty placeholder\r\n   *\r\n   * @param {`edit` or `personalize`} perspectiveMode\r\n   */\r\n  function getEmptyPlaceholderWidgetType(perspectiveMode) {\r\n    switch (perspectiveMode) {\r\n    case constants.MODE_PERSONALIZE:\r\n      return constants.WIDGET_SHORTCUTS;\r\n    default:\r\n      return constants.WIDGET_PERSPECTIVE_PLACEHOLDER;\r\n    }\r\n  }\r\n\r\n  function isEmptyPlaceholder(widget, perspectiveMode) {\r\n    if (widget.type === constants.WIDGET_PERSPECTIVE_PLACEHOLDER) {\r\n      return true;\r\n    }\r\n    var emptyType = getEmptyPlaceholderWidgetType(perspectiveMode);\r\n    return emptyType === widget.type && widget.options && widget.__isPlacehoder;\r\n  }\r\n\r\n  function generateWidgetId(perspectiveMode) {\r\n    var prefix = constants.WIDGET_ID_PERSPECTIVE_PREFIX;\r\n    if (perspectiveMode === constants.MODE_PERSONALIZE) {\r\n      prefix = constants.WIDGET_ID_PESONALIZATION_PREFIX;\r\n    }\r\n    return prefix + (+new Date());\r\n  }\r\n\r\n  function isPersonalWidget(widget) {\r\n    var widgetId = widget[constants.KEY_WIDGET_ID];\r\n    if (!widgetId) {\r\n      // Widet ID not present. Could be legacy perspectives\r\n      return false;\r\n    }\r\n    // Check if IDs starts with personalization prefix\r\n    return isPersonalWidgetId(widgetId);\r\n  }\r\n\r\n  function isPersonalWidgetId(widgetId) {\r\n    return widgetId && widgetId.substr(0, constants.WIDGET_ID_PESONALIZATION_PREFIX.length) ===\r\n           constants.WIDGET_ID_PESONALIZATION_PREFIX;\r\n  }\r\n\r\n  function hasWidgetId(widget) {\r\n    return !!widget[constants.KEY_WIDGET_ID];\r\n  }\r\n\r\n  function isHiddenWidget(widget) {\r\n    return widget && (widget[constants.KEY_HIDDEN] === true);\r\n  }\r\n\r\n  function setWidgetHidden(widget, hide) {\r\n    widget && (widget[constants.KEY_HIDDEN] = hide);\r\n  }\r\n\r\n  return {\r\n    MODE_EDIT_PERSPECTIVE: constants.MODE_EDIT_PERSPECTIVE,\r\n    MODE_PERSONALIZE: constants.MODE_PERSONALIZE,\r\n    WIDGET_PERSPECTIVE_PLACEHOLDER: constants.WIDGET_PERSPECTIVE_PLACEHOLDER,\r\n    WIDGET_SHORTCUTS: constants.WIDGET_SHORTCUTS,\r\n    KEY_WIDGET_ID: constants.KEY_WIDGET_ID,\r\n    WIDGET_ID_PERSPECTIVE_PREFIX: constants.WIDGET_ID_PERSPECTIVE_PREFIX,\r\n    WIDGET_ID_PESONALIZATION_PREFIX: constants.WIDGET_ID_PESONALIZATION_PREFIX,\r\n\r\n    isEligibleForLiveWidget: isEligibleForLiveWidget,\r\n    hasRequiredFields: hasRequiredFields,\r\n    isEmptyPlaceholder: isEmptyPlaceholder,\r\n    getExtraWidgetKeys: getExtraWidgetKeys,\r\n    getEmptyPlaceholderWidgetType: getEmptyPlaceholderWidgetType,\r\n    generateWidgetId: generateWidgetId,\r\n    isPersonalWidget: isPersonalWidget,\r\n    isPersonalWidgetId: isPersonalWidgetId,\r\n    hasWidgetId: hasWidgetId,\r\n    isHiddenWidget: isHiddenWidget,\r\n    setWidgetHidden: setWidgetHidden\r\n  };\r\n\r\n});\n","/**\r\n * Delta Format:\r\n * {\r\n *    \"perspectiveWidgets\": perspectiveWidgetIds,\r\n *    \"personalWidgets\": personalWidgets,\r\n *    \"perspecitve_id\" : 1235,\r\n *    \"perspective_version\": 1,\r\n *    \"type\" : \"flow\"\r\n *    \"order\": ['perspective-1', 'perspective-0', 'perspective-2', 'personalize-0'],\r\n *    \"hidden\": ['perspective-4', 'perspective-7']\r\n*  }\r\n */\r\ncsui.define('csui/models/perspective/personalize/delta.generator',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n      'csui/utils/perspective/perspective.util'],\r\n    function (module, _, Backbone, PerspectiveUtil) {\r\n\r\n      var DeltaGenerator = function (options) {\r\n        this.personalization = options.personalization;\r\n        this.perspective = options.perspective;\r\n        if (this.perspective instanceof Backbone.Model) {\r\n          this.perspective = this.perspective.toJSON();\r\n        }\r\n      };\r\n\r\n      _.extend(DeltaGenerator.prototype, {\r\n        getDeltaOfFlowPerspective: function (result) {\r\n          var allPerspectiveWidgets = this.perspective.options.widgets,\r\n              allPersonalWidgets    = this.personalization.options.widgets;\r\n\r\n          allPerspectiveWidgets = _.reject(allPerspectiveWidgets, PerspectiveUtil.isPersonalWidget);\r\n          var perspectiveWidgetIds = _.pluck(allPerspectiveWidgets, PerspectiveUtil.KEY_WIDGET_ID);\r\n          var personalWidgets = _.filter(allPersonalWidgets, PerspectiveUtil.isPersonalWidget);\r\n          var personalParts = _.partition(allPersonalWidgets, PerspectiveUtil.isHiddenWidget);\r\n          var personalActiveWidgets = _.pluck(personalParts[1], PerspectiveUtil.KEY_WIDGET_ID);\r\n          var personalHiddenWidgets = _.pluck(personalParts[0], PerspectiveUtil.KEY_WIDGET_ID);\r\n          _.extend(result, {\r\n            perspectiveWidgets: perspectiveWidgetIds,\r\n            personalWidgets: personalWidgets,\r\n            order: personalActiveWidgets,\r\n            hidden: personalHiddenWidgets\r\n          });\r\n          return result;\r\n        },\r\n\r\n        getDelta: function () {\r\n          var result = _.pick(this.perspective, 'type', 'perspective_id', 'perspective_version');\r\n          result.perspective_id = result.perspective_id || this.perspective.id;\r\n          if (this.perspective.override) {\r\n            _.extend(result,\r\n                _.pick(this.perspective.override, 'perspective_id', 'perspective_version'));\r\n          } else {\r\n            // Possibly APIs not updated to latest. This case, lets assume the version as 1\r\n            result.perspective_version = result.perspective_version || 1;\r\n          }\r\n          switch (this.personalization.type) {\r\n          case 'flow':\r\n            return this.getDeltaOfFlowPerspective(result);\r\n          default:\r\n            throw new Error('Personalization not supported.');\r\n          }\r\n        }\r\n      });\r\n      return DeltaGenerator;\r\n\r\n    });\n","csui.define('csui/models/perspective/personalize/delta.resolver',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n      'csui/utils/perspective/perspective.util'],\r\n    function (module, _, Backbone, PerspectiveUtil) {\r\n\r\n      var DeltaResolver = function (options) {\r\n        this.delta = options.delta;\r\n        this.perspective = options.perspective;\r\n        if (this.perspective instanceof Backbone.Model) {\r\n          this.perspective = this.perspective.toJSON();\r\n        }\r\n      };\r\n\r\n      _.extend(DeltaResolver.prototype, {\r\n\r\n        resolveFlowPerspective: function (result) {\r\n          var widgetOrder        = this.delta.order,\r\n              personalWidgets    = this.delta.personalWidgets,\r\n              hiddenWidgetIds    = this.delta.hidden,\r\n              perspectiveWidgets = this.perspective.options.widgets;\r\n\r\n          var personalWidgetsById = _.indexBy(personalWidgets, PerspectiveUtil.KEY_WIDGET_ID);\r\n          var perspectiveWidgetsById = _.indexBy(perspectiveWidgets, PerspectiveUtil.KEY_WIDGET_ID);\r\n\r\n          widgetOrder = _.filter(widgetOrder, function (widgetId) {\r\n            return _.has(perspectiveWidgetsById, widgetId) || _.has(personalWidgetsById, widgetId);\r\n          });\r\n\r\n          hiddenWidgetIds = _.filter(hiddenWidgetIds, function (widgetId) {\r\n            return _.has(perspectiveWidgetsById, widgetId) || _.has(personalWidgetsById, widgetId);\r\n          });\r\n\r\n          var newPerspectiveWidgets = _.filter(perspectiveWidgets, function (widget) {\r\n            var widgetId = widget[PerspectiveUtil.KEY_WIDGET_ID];\r\n            return !_.contains(widgetOrder, widgetId) && !_.contains(hiddenWidgetIds, widgetId);\r\n          });\r\n\r\n          var allActiveWidgets = _.map(widgetOrder, function (widgetId) {\r\n            if (PerspectiveUtil.isPersonalWidgetId(widgetId)) {\r\n              return personalWidgetsById[widgetId];\r\n            } else {\r\n              return perspectiveWidgetsById[widgetId];\r\n            }\r\n          });\r\n          var hiddenWidgets = _.map(hiddenWidgetIds, function (widgetId) {\r\n            // Make copy of original perspective view to avoid changes to it.\r\n            var widget = _.clone(perspectiveWidgetsById[widgetId]);\r\n            PerspectiveUtil.setWidgetHidden(widget, true);\r\n            return widget;\r\n          });\r\n          var allWidgets = _.union(allActiveWidgets, newPerspectiveWidgets, hiddenWidgets);\r\n          _.extend(result, {\r\n            options: {widgets: allWidgets},\r\n            personalizations: this.delta\r\n          });\r\n          return result;\r\n        },\r\n\r\n        canMergeDelta: function () {\r\n          return this.perspective.perspectiveId === this.delta.perspectiveId &&\r\n                 this.perspective.type === this.delta.type;\r\n        },\r\n\r\n        getPersonalization: function () {\r\n          if (!this.canMergeDelta()) {\r\n            return this.perspective;\r\n          }\r\n          var result = _.clone(this.perspective);\r\n          switch (this.delta.type) {\r\n          case 'flow':\r\n            return this.resolveFlowPerspective(result);\r\n          default:\r\n            return result;\r\n          }\r\n        }\r\n      });\r\n\r\n      return DeltaResolver;\r\n\r\n    });\n","csui.define('csui/models/perspective/personalize/personalize.guide',['module', 'csui/models/perspective/personalize/delta.generator',\r\n  'csui/models/perspective/personalize/delta.resolver'\r\n], function (module, DeltaGenerator, DeltaResolver) {\r\n\r\n  var PersonalizeGuide = {\r\n    getDelta: function (perspective, personalization) {\r\n      var generator = new DeltaGenerator(\r\n          {perspective: perspective, personalization: personalization});\r\n      return generator.getDelta();\r\n    },\r\n\r\n    getPersonalization: function (perspective, delta) {\r\n      var merger = new DeltaResolver({perspective: perspective, delta: delta});\r\n      return merger.getPersonalization();\r\n    }\r\n  };\r\n\r\n  return PersonalizeGuide;\r\n\r\n});\n","csui.define('csui/models/perspective/personalization.model',[\"require\", \"module\", 'csui/lib/jquery', 'csui/lib/underscore', \"csui/lib/backbone\",\r\n  'csui/models/node/node.model',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/perspective/personalization.server.adaptor.mixin',\r\n  'csui/models/perspective/localstorage.server.adaptor.mixin',\r\n  'csui/models/perspective/personalize/personalize.guide',\r\n  'csui/utils/perspective/perspective.util'\r\n], function (require, module, $, _, Backbone, NodeModel,\r\n    UploadableMixin, ConnectableMixin, ServerAdaptorMixin, LocalStorageServerAdaptorMixin,\r\n    PersonalizeGuide, PerspectiveUtil) {\r\n  \"use strict\";\r\n\r\n  var config = _.extend({\r\n    persistOnLocalStorage: false\r\n  }, module.config());\r\n\r\n  var PersonalizationModel = Backbone.Model.extend({\r\n\r\n    constructor: function PersonalizationModel(attributes, options) {\r\n      PersonalizationModel.__super__.constructor.apply(this, arguments);\r\n      this.options = options;\r\n      if (config.persistOnLocalStorage) {\r\n        this.makeServerAdaptor(options);\r\n      } else {\r\n        this.makeUploadable(options)\r\n            .makeConnectable(options)\r\n            .makeServerAdaptor(options);\r\n      }\r\n      this.resolvePersonalization = true;\r\n    },\r\n\r\n    getPerspectiveId: function () {\r\n      return this.get('perspective_id');\r\n    },\r\n\r\n    /**\r\n     * Get the perspective config JSON of personalization\r\n     */\r\n    getPerspective: function () {\r\n      if (!this.resolvePersonalization) {\r\n        // No updates to delta after last resolution of personalization\r\n        this.personalization;\r\n      }\r\n      this.personalization = PersonalizeGuide.getPersonalization(this.options.perspective,\r\n          this.toJSON());\r\n      this.resolvePersonalization = false;\r\n      return this.personalization;\r\n    },\r\n\r\n    /**\r\n     * Set the perspective config JSON of personalization\r\n     */\r\n    setPerspective: function (personalization, options) {\r\n      var delta = PersonalizeGuide.getDelta(this.options.perspective, personalization);\r\n      this.set(delta, options);\r\n      // Mark to re-resolve of personalization from delta\r\n      this.resolvePersonalization = true;\r\n    },\r\n\r\n    update: function (changes, options) {\r\n      var personalization = this.getPerspective();\r\n      _.extend(personalization, changes.perspective);\r\n      this.setPerspective(personalization, options);\r\n    },\r\n\r\n    prepareFormData: function (data, options) {\r\n      var payload = {\r\n        personalizations: JSON.stringify(data),\r\n        perspective_id: this.get('perspective_id'),\r\n        perspective_version: this.get('perspective_version'),\r\n        node: this.getNodeId()\r\n      };\r\n      return payload;\r\n    },\r\n\r\n    getNodeId: function () {\r\n      return (!this.options.sourceModel || !(this.options.sourceModel instanceof NodeModel) ||\r\n              !(this.options.sourceModel.has('id'))) ? 'landing-page' :\r\n             this.options.sourceModel.get('id');\r\n    },\r\n\r\n  }, {\r\n    loadPersonalization: function (sourceModel, context) {\r\n      var deferred,\r\n          perspective = sourceModel.get('perspective');\r\n      if (!perspective) {\r\n        // Perspective info not available in source model, hence personalization cannot exist. \r\n        return $.Deferred().resolve().promise();\r\n      }\r\n      if (config.persistOnLocalStorage) {\r\n        deferred = PersonalizationModel.loadPersonalizationFromLocalStorage(sourceModel, context,\r\n            perspective);\r\n      } else if (!!perspective.personalizations) {\r\n        var personalization = new PersonalizationModel(perspective.personalizations,\r\n            {sourceModel: sourceModel, perspective: perspective});\r\n        deferred = $.Deferred().resolve(personalization.getPerspective());\r\n      } else {\r\n        deferred = $.Deferred().resolve();\r\n      }\r\n      deferred.then(function (personalization) {\r\n        if (!personalization || _.isEmpty(personalization)) {\r\n          return undefined;\r\n        }\r\n        return _.defaults(personalization, {perspectiveMode: PerspectiveUtil.MODE_PERSONALIZE});\r\n      });\r\n      return deferred.promise();\r\n    },\r\n\r\n    loadPersonalizationFromLocalStorage: function (sourceModel, context, perspective) {\r\n      var deferred = $.Deferred();\r\n      var personalization = new PersonalizationModel({},\r\n          {sourceModel: sourceModel, context: context, perspective: perspective});\r\n      personalization.fetch().then(function () {\r\n        var result = personalization.getPerspective();\r\n        if (!_.isEmpty(result)) {\r\n          deferred.resolve(result);\r\n        } else {\r\n          deferred.resolve();\r\n        }\r\n      }, function (error) {\r\n        deferred.reject(error);\r\n      });\r\n      return deferred.promise();\r\n    }\r\n  });\r\n\r\n  if (config.persistOnLocalStorage) {\r\n    LocalStorageServerAdaptorMixin.mixin(PersonalizationModel.prototype);\r\n  } else {\r\n    UploadableMixin.mixin(PersonalizationModel.prototype);\r\n    ConnectableMixin.mixin(PersonalizationModel.prototype);\r\n    ServerAdaptorMixin.mixin(PersonalizationModel.prototype);\r\n  }\r\n\r\n  return PersonalizationModel;\r\n\r\n});\r\n\n","csui.define('csui/models/autofetchable',['module', 'csui/lib/underscore', 'csui/utils/log'\r\n], function (module, _, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function AutoFetchableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeAutoFetchable: function (options) {\r\n        // log.warn('Module \"csui/models/autofetchable\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/autofetchable/autofetchable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        options && options.autofetch && this.automateFetch(options.autofetch);\r\n        return this;\r\n      },\r\n\r\n      automateFetch: function (enable) {\r\n        this[enable ? 'on' : 'off'](_.result(this, '_autofetchEvent'),\r\n          _.bind(this._fetchAutomatically, this, enable));\r\n      },\r\n\r\n      isFetchable: function () {\r\n        return !!this.get('id');\r\n      },\r\n\r\n      _autofetchEvent: 'change:id',\r\n\r\n      _fetchAutomatically: function (enableOptions, model, value, options) {\r\n        if (this.isFetchable()) {\r\n         var fullOptions = _.extend({}, enableOptions, options);\r\n        this.fetch(fullOptions);\r\n        }\r\n      }\r\n\r\n    };\r\n    prototype.AutoFetchable = _.clone(prototype);\r\n    \r\n    return prototype;\r\n  }\r\n\r\n  return AutoFetchableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/connectable',['module', 'csui/lib/underscore', 'csui/utils/log'\r\n], function (module, _, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function ConnectableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeConnectable: function (options) {\r\n        // log.warn('Module \"csui/models/connectable\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/connectable/connectable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        options && options.connector && options.connector.assignTo(this);\r\n        options && options.connector && this.original && options.connector.assignTo(this.original);\r\n        return this;\r\n      },\r\n\r\n      _prepareModel: function (attrs, options) {\r\n        options || (options = {});\r\n        options.connector = this.connector;\r\n        return ParentModel.prototype._prepareModel.call(this, attrs, options);\r\n      }\r\n\r\n    };\r\n    prototype.Connectable = _.clone(prototype);\r\n\r\n    return prototype;\r\n  }\r\n\r\n  return ConnectableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/fetchable',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log'\r\n], function (module, _, $, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function FetchableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeFetchable: function (options) {\r\n        // log.warn('Module \"csui/models/fetchable\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/fetchable/fetchable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        this.autoreset = options && options.autoreset;\r\n        // Workaround for change/add/reset events, which are fired before\r\n        // the caller is informed by sync that fetch successed.\r\n        return this.on('reset', this._beforeFetchSucceeded, this)\r\n            .on('add', this._beforeFetchSucceeded, this)\r\n            .on('change', this._beforeFetchSucceeded, this);\r\n      },\r\n\r\n      _beforeFetchSucceeded: function () {\r\n        this.fetching && this._fetchSucceeded();\r\n      },\r\n\r\n      _fetchSucceeded: function () {\r\n        this.fetching = false;\r\n        this.fetched = true;\r\n      },\r\n\r\n      _fetchFailed: function () {\r\n        this.fetching = false;\r\n      },\r\n\r\n      fetch: function (options) {\r\n        if (!this.fetching) {\r\n          this.fetched = false;\r\n          log.debug('Fetching is starting for {0} ({1}).',\r\n              log.getObjectName(this), this.cid) && console.log(log.last);\r\n          options = this._prepareFetch(options);\r\n          // Ensure that the model is marked fetched before other events are\r\n          // triggered.  If fetching is not silent, change/add/reset will be\r\n          // triggered earlier: change/add/reset, options.*, sync, promise.\r\n          var self = this,\r\n              success = options.success,\r\n              error = options.error;\r\n          options.success = function () {\r\n            log.debug('Fetching succeeded for {0} ({1}).',\r\n                log.getObjectName(self), self.cid) && console.log(log.last);\r\n            self._fetchSucceeded();\r\n            success && success.apply(this, arguments);\r\n          };\r\n          options.error = function () {\r\n            log.debug('Fetching failed for {0} ({1}).',\r\n                log.getObjectName(self), self.cid) && console.log(log.last);\r\n            self._fetchFailed();\r\n            error && error.apply(this, arguments);\r\n          };\r\n          this.fetching = ParentModel.prototype.fetch.call(this, options);\r\n        } else {\r\n          log.debug('Fetching is in progress for {0} ({1}).',\r\n              log.getObjectName(this), this.cid) && console.log(log.last);\r\n        }\r\n        return this.fetching;\r\n      },\r\n\r\n      _prepareFetch: function (options) {\r\n        // Trigger just one item adding operation after fetching if wanted.\r\n        options || (options = {});\r\n        options.reset === undefined && this.autoreset && (options.reset = true);\r\n        return options;\r\n      },\r\n\r\n      ensureFetched: function (options) {\r\n        if (this.fetched) {\r\n          log.debug('No need to fetch {0} ({1}).',\r\n              log.getObjectName(this), this.cid) && console.log(log.last);\r\n          if (options && options.success) {\r\n            options.success(this);\r\n          }\r\n          return $.Deferred()\r\n              .resolve(this, {}, options)\r\n              .promise();\r\n        }\r\n        return this.fetch(options);\r\n      }\r\n\r\n    };\r\n    prototype.Fetchable = _.clone(prototype);\r\n\r\n    return prototype;\r\n  }\r\n\r\n  return FetchableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/including.additional.resources',['module', 'csui/lib/underscore', 'csui/utils/log'\r\n], function (module, _, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function IncludingAdditionalResources(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeIncludingAdditionalResources: function (options) {\r\n        // log.warn('Module \"csui/models/including.additional.resources\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/including.additional.resources/including.additional.resources.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        this._additionalResources = [];\r\n        if (options && options.includeResources) {\r\n          this.includeResources(options.includeResources);\r\n        }\r\n        return this;\r\n      },\r\n\r\n      includeResources: function (names) {\r\n        if (!_.isArray(names)) {\r\n          names = names.split(',');\r\n        }\r\n        this._additionalResources = _.union(this._additionalResources, names);\r\n      },\r\n\r\n      excludeResources: function (names) {\r\n        if (names) {\r\n          if (!_.isArray(names)) {\r\n            names = names.split(',');\r\n          }\r\n          this._additionalResources = _.reject(this._additionalResources, names);\r\n        } else {\r\n          this._additionalResources = [];\r\n        }\r\n      },\r\n\r\n      getAdditionalResourcesUrlQuery: function () {\r\n        return _.reduce(this._additionalResources, function (result, parameter) {\r\n          result[parameter] = 'true';\r\n          return result;\r\n        }, {});\r\n      }\r\n\r\n    };\r\n    prototype.IncludingAdditionalResources = _.clone(prototype);\r\n\r\n    return prototype;\r\n  }\r\n\r\n  return IncludingAdditionalResources;\r\n\r\n});\r\n\n","csui.define('csui/models/nodeautofetchable',['module', 'csui/lib/underscore', 'csui/utils/log'\r\n], function (module, _, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function NodeAutoFetchableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeNodeAutoFetchable: function (options) {\r\n        // log.warn('Module \"csui/models/fetchable\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/fetchable/fetchable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        options && options.autofetch && this.automateFetch(options.autofetch);\r\n        return this;\r\n      },\r\n\r\n      automateFetch: function (enable) {\r\n        this.node[enable ? 'on' : 'off'](_.result(this, '_autofetchEvent'),\r\n          _.bind(this._fetchAutomatically, this, enable));\r\n      },\r\n\r\n      isFetchable: function () {\r\n        return this.node.isFetchableDirectly();\r\n      },\r\n\r\n      _autofetchEvent: 'change:id',\r\n\r\n      _fetchAutomatically: function (options) {\r\n        this.isFetchable() && this.fetch(_.isObject(options) && options);\r\n      }\r\n\r\n    };\r\n    prototype.NodeAutoFetchable = _.clone(prototype);\r\n    \r\n    return prototype;\r\n  }\r\n\r\n  return NodeAutoFetchableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/nodeconnectable',['module', 'csui/lib/underscore', 'csui/utils/log'\r\n], function (module, _, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function NodeConnectableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeNodeConnectable: function (options) {\r\n        // log.warn('Module \"csui/models/connectable\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/connectable/connectable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        if (options && options.node) {\r\n          this.node = options.node;\r\n          options.node.connector && options.node.connector.assignTo(this);\r\n        }\r\n        return this;\r\n      },\r\n\r\n      _prepareModel: function (attrs, options) {\r\n        options.connector = this.node && this.node.connector;\r\n        return ParentModel.prototype._prepareModel.call(this, attrs, options);\r\n      }\r\n\r\n    };\r\n    prototype.NodeConnectable = _.clone(prototype);\r\n    \r\n    return prototype;\r\n  }\r\n\r\n  return NodeConnectableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/noderesource',['module', 'csui/lib/underscore', 'csui/utils/log',\r\n  'csui/models/nodeconnectable', 'csui/models/fetchable',\r\n  'csui/models/nodeautofetchable'\r\n], function (module, _, log, NodeConnectableModel, FetchableModel,\r\n    NodeAutoFetchableModel) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function NodeResourceModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeNodeResource: function (options) {\r\n        // log.warn('Module \"csui/models/noderesource\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/node.resource/node.resource.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        return this.makeNodeConnectable(options)\r\n            .makeFetchable(options)\r\n            .makeNodeAutoFetchable(options);\r\n      }\r\n\r\n    };\r\n    prototype.NodeResource = _.clone(prototype);\r\n\r\n    return _.extend({},\r\n        NodeConnectableModel(ParentModel),\r\n        FetchableModel(ParentModel),\r\n        NodeAutoFetchableModel(ParentModel),\r\n        prototype);\r\n  }\r\n\r\n  return NodeResourceModel;\r\n\r\n});\r\n\n","csui.define('csui/models/resource',['module', 'csui/lib/underscore', 'csui/utils/log',\r\n  'csui/models/connectable', 'csui/models/fetchable',\r\n  'csui/models/autofetchable'\r\n], function (module, _, log, ConnectableModel, FetchableModel,\r\n  AutoFetchableModel) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function ResourceModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeResource: function (options) {\r\n        // log.warn('Module \"csui/models/resource\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/resource/resource.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        return this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAutoFetchable(options);\r\n      }\r\n\r\n    };\r\n    prototype.Resource = _.clone(prototype);\r\n    \r\n    return _.extend({},\r\n      ConnectableModel(ParentModel),\r\n      FetchableModel(ParentModel),\r\n      AutoFetchableModel(ParentModel),\r\n      prototype);\r\n  }\r\n\r\n  return ResourceModel;\r\n\r\n});\r\n\n","csui.define('csui/models/uploadable',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone', 'csui/utils/log'\r\n], function (module, _, $, Backbone, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function UploadableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeUploadable: function (options) {\r\n        // log.warn('Module \"csui/models/uploadable\" has been deprecated and is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/uploadable/uploadable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        return this;\r\n      },\r\n\r\n      sync: function (method, model, options) {\r\n        var data = options.data || options.attrs || this.attributes;\r\n        // Make sure, that POST and PUT urls do not contain the URL query\r\n        // part.  It is not possible to ensure it inside the url function.\r\n        function currectUpdatingUrl() {\r\n          var url = options.url || _.result(model, 'url');\r\n          return url.replace(/\\?.*$/, '');\r\n        }\r\n\r\n        if (method === 'create') {\r\n          log.debug('Creating {0} ({1}).',\r\n              log.getObjectName(this), this.cid) && console.log(log.last);\r\n          var formData = new FormData();\r\n          formData.append('body', JSON.stringify(data));\r\n\r\n          // append file, if there is\r\n          _.each(_.keys(options.files || {}), function (key) {\r\n            var files = options.files[key], i;\r\n            if (_.isArray(files) && files.length > 1) {\r\n              // TODO: Adapt this according to the server support.\r\n              for (i = 0; i < files.length; ++i) {\r\n                var name = i ? key + i : key;\r\n                formData.append(name, files[i]);\r\n              }\r\n            } else if (files) {\r\n              formData.append(key, files);\r\n            }\r\n          });\r\n\r\n          _.extend(options, {\r\n            data: formData,\r\n            contentType: false,\r\n            url: currectUpdatingUrl()\r\n          });\r\n        } else if (method === 'update' || method === 'patch') {\r\n          log.debug('Updating {0} ({1}).',\r\n              log.getObjectName(this), this.cid) && console.log(log.last);\r\n          method = 'update';\r\n          data = {body: JSON.stringify(data)};\r\n          _.extend(options, {\r\n            data: $.param(data),\r\n            contentType: 'application/x-www-form-urlencoded',\r\n            url: currectUpdatingUrl()\r\n          });\r\n        }\r\n        return Backbone.sync(method, model, options);\r\n      }\r\n\r\n    };\r\n    prototype.Uploadable = _.clone(prototype);\r\n\r\n    return prototype;\r\n  }\r\n\r\n  return UploadableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/versions/v2.versions.response.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  'use strict';\r\n\r\n  var VersionsV2ResponseMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeVersionableV2Response: function (options) {\r\n          return this;\r\n        },\r\n\r\n        parseVersionsResponse: function (response) {\r\n          if (!!response.results && !!response.results.data) {\r\n            return response.results.data.versions;\r\n          }\r\n          return response;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n  return VersionsV2ResponseMixin;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/version.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var url = Url.combine(this.connector.getConnectionUrl().getApiBase('v2'), 'nodes',\r\n            this.get('id'), 'versions');\r\n          if (!this.isNew()) {\r\n            url = Url.combine(url, this.get('version_number'));\r\n            var query = Url.combineQueryString(\r\n              this.getExpandableResourcesUrlQuery()\r\n            );\r\n            if (query) {\r\n              url += '?' + query;\r\n            }\r\n          }\r\n\r\n          return url;\r\n        },\r\n\r\n        parse: function (response) {\r\n          // Handle both version objects when parsed from the single\r\n          // /versions/:id and the collection /versions responses.\r\n          var version = response.data || this.parseVersionsResponse(response);\r\n\r\n          // TODO: Remove this.  Version properties should have its own general\r\n          // property panel instead of using the node and breaking each other\r\n          // when one of them gets changed\r\n          /*if (version.type === undefined) {\r\n            version.type = 144;\r\n          }*/\r\n\r\n          // get node type info from NodeVersionCollection for Version Collection, if it is single\r\n          // fetch then collect it from rest api response id_expand object\r\n          if (version.id_expand && version.id_expand.type) {\r\n            version.type = version.id_expand.type;\r\n          }\r\n\r\n          if (!!version.version_number_name) {\r\n            version.version_number_name_formatted = version.version_number_name;\r\n          }\r\n\r\n          if (version.commands) {\r\n            var commands = version.commands;\r\n            version.actions = _\r\n              .chain(commands)\r\n              .keys()\r\n              .map(function (key) {\r\n                var attributes = commands[key];\r\n                attributes.signature = key;\r\n                return attributes;\r\n              })\r\n              .value();\r\n            delete version.commands;\r\n            delete version.commands_map;\r\n            delete version.commands_order;\r\n          }\r\n\r\n          return version;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/version',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/log', 'csui/utils/url', 'csui/models/actions',\r\n  'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/models/mixins/versions/v2.versions.response.mixin',\r\n  'csui/models/server.adaptors/version.mixin',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, log, Url, ActionCollection,\r\n    ExpandableMixin, ResourceMixin, UploadableMixin, VersionsableV2ResponseMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var VersionModel = Backbone.Model.extend({\r\n\r\n    idAttribute: 'version_number',\r\n\r\n    constructor: function VersionModel(attributes, options) {\r\n      attributes || (attributes = {});\r\n      options = _.extend({expand: ['user', 'versions{id, owner_id}']}, options);\r\n\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.makeResource(options)\r\n          .makeUploadable(options)\r\n          .makeVersionableV2Response(options)\r\n          .makeExpandable(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      if (!attributes.actions) {\r\n        this.actions = new ActionCollection();\r\n      }\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector,\r\n        expand: _.deepClone(this.expand)\r\n      });\r\n    },\r\n\r\n    set: function (key, val, options) {\r\n      var attrs;\r\n      if (key == null) {\r\n        return this;\r\n      }\r\n\r\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\r\n      if (typeof key === 'object') {\r\n        attrs = key;\r\n        options = val;\r\n      } else {\r\n        (attrs = {})[key] = val;\r\n      }\r\n\r\n      options || (options = {});\r\n\r\n      // TODO: Support sub-models and sub-collections in general\r\n      if (attrs.actions) {\r\n        if (this.actions) {\r\n          this.actions.reset(attrs.actions, options);\r\n        } else {\r\n          this.actions = new ActionCollection(attrs.actions);\r\n        }\r\n      }\r\n\r\n      // do the usual set\r\n      return Backbone.Model.prototype.set.call(this, attrs, options);\r\n    },\r\n\r\n    isNew: function () {\r\n      return !this.has('version_number');\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return !!(this.get('id') && this.get('version_number'));\r\n    }\r\n\r\n  });\r\n\r\n  ExpandableMixin.mixin(VersionModel.prototype);\r\n  UploadableMixin.mixin(VersionModel.prototype);\r\n  ResourceMixin.mixin(VersionModel.prototype);\r\n  VersionsableV2ResponseMixin.mixin(VersionModel.prototype);\r\n  ServerAdaptorMixin.mixin(VersionModel.prototype);\r\n\r\n  return VersionModel;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/widget.model',[\r\n  'require', 'module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone', 'csui/utils/log',\r\n  'csui/models/server.module/server.module.collection',\r\n  'csui/models/tool.item.config/tool.item.config.collection',\r\n  'csui/models/tool.item.mask/tool.item.mask.collection'\r\n], function (require, module, _, $, Backbone, log,\r\n    ServerModuleCollection, ToolItemConfigCollection, ToolItemMaskCollection) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var WidgetModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      id: null,       // Require.js module ID\r\n      view: null,     // Resolved function object of the widget's view controller\r\n      manifest: null, // Resolved meta-data describing the widget\r\n      error: null     // Error from the widget's resolution if it failed\r\n    },\r\n\r\n    constructor: function WidgetModel(attributes, options) {\r\n      this.options = _.defaults({}, options, {\r\n        includeView: true,\r\n        includeManifest: true,\r\n        includeServerModule: true,\r\n        includeToolItems: true\r\n      });\r\n      if (this.options.includeToolItems) {\r\n        this.options.includeManifest = true;\r\n      }\r\n      WidgetModel.__super__.constructor.call(this, attributes, this.options);\r\n      this.serverModule = new ServerModuleCollection.prototype.model();\r\n      this.actions = new Backbone.Collection();\r\n    },\r\n\r\n    getDefaultData: function () {\r\n      var manifest = this.get('manifest');\r\n      return manifest ? this._getDefaultPropertyValue(manifest.schema) : {};\r\n    },\r\n\r\n    _getDefaultPropertyValue: function (schema) {\r\n      if (schema) {\r\n        if (schema.type === 'object') {\r\n          return _.reduce(schema.properties,\r\n              function (result, propertySchema, propertyName) {\r\n                result[propertyName] = this._getDefaultPropertyValue(propertySchema);\r\n                return result;\r\n              }, {}, this);\r\n        }\r\n        return schema['default'];\r\n      }\r\n    },\r\n\r\n    _getDefaultPrimitiveValue: function (schema) {\r\n      if (schema) {\r\n        var value = schema['default'];\r\n        if (value !== undefined) {\r\n          return value;\r\n        }\r\n        switch (schema.type) {\r\n        case 'string':\r\n          return '';\r\n        case 'integer':\r\n        case 'number':\r\n          return 0;\r\n        case 'boolean':\r\n          return false;\r\n        case 'array':\r\n          return [];\r\n        case 'null':\r\n          return null;\r\n        }\r\n      }\r\n    },\r\n\r\n    sync: function (method, collection, options) {\r\n      if (method !== 'read') {\r\n        throw new Error('Only fetching the widget is supported.');\r\n      }\r\n      options = _.extend({}, this.options, options);\r\n      _.defaults(options, {\r\n        includeView: this.options.includeView,\r\n        includeManifest: this.options.includeManifest,\r\n        includeServerModule: this.options.includeServerModule,\r\n        includeToolItems: this.options.includeToolItems\r\n      });\r\n      if (options.includeToolItems) {\r\n        options.includeManifest = true;\r\n      }\r\n      var serverModulesPromise = this._resolveServerModules(options),\r\n          toolItemsPromise     = this._resolveToolItems(options),\r\n          toolItemMasksPromise = this._resolveToolItemMasks(options),\r\n          self                 = this;\r\n      return $.when(serverModulesPromise, toolItemsPromise, toolItemMasksPromise)\r\n          .then(_.bind(this._resolveWidget, this, options))\r\n          .then(function () {\r\n            var response = self.toJSON();\r\n            options.success && options.success(response, options);\r\n            self.trigger('sync', self, response, options);\r\n          }, function () {\r\n            var error = self.get('error');\r\n            options.error && options.error(error, options);\r\n            self.trigger('error', self, error, options);\r\n            return $.Deferred().reject(error);\r\n          });\r\n    },\r\n\r\n    _resolveWidget: function (options) {\r\n      var viewPromise     = this._resolveView(options),\r\n          manifestPromise = this._resolveManifest(options),\r\n          self            = this;\r\n      return $.when(viewPromise, manifestPromise)\r\n          .then(function () {\r\n            self._updateServerModule(options);\r\n            self._updateActions(options);\r\n          });\r\n    },\r\n\r\n    _resolveView: function (options) {\r\n      var deferred = $.Deferred();\r\n      if (options.includeView) {\r\n        var self       = this,\r\n            widgetData = this.getModuleData(),\r\n            viewPath   = this.getViewModulePath(widgetData);\r\n        require([viewPath],\r\n            function (View) {\r\n              self.set('view', View);\r\n              deferred.resolve();\r\n            }, function (error) {\r\n              self.set('error', error);\r\n              if (options.ignoreErrors) {\r\n                deferred.resolve();\r\n              } else {\r\n                deferred.reject(error);\r\n              }\r\n            });\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    },\r\n\r\n    _resolveManifest: function (options) {\r\n      var deferred = $.Deferred();\r\n      if (options.includeManifest) {\r\n        var self         = this,\r\n            widgetData   = this.getModuleData(),\r\n            manifestPath = this.getManifestModulePath(widgetData);\r\n        require([manifestPath],\r\n            function (manifest) {\r\n              if (self._needsLocalization(manifest)) {\r\n                var manifestLocalizedPath = self.getLocalizedManifestModulePath(widgetData);\r\n                require([manifestLocalizedPath],\r\n                    function (manifestLocalized) {\r\n                      manifest = WidgetModel.resolveLocalizedManifest(manifestPath,\r\n                          manifest, manifestLocalized);\r\n                      self.set('manifest', manifest);\r\n                      deferred.resolve();\r\n                    }, function (error) {\r\n                      if (!self.has('error')) {\r\n                        self.set('error', error);\r\n                      }\r\n                      if (options.ignoreErrors || options.ignoreManifestErrors) {\r\n                        // If errors are ignored, return not localized manifest;\r\n                        // if it were undefined, non-robust consumers might crash\r\n                        self.set('manifest', manifest);\r\n                        deferred.resolve();\r\n                      } else {\r\n                        deferred.reject(error);\r\n                      }\r\n                    });\r\n              } else {\r\n                self.set('manifest', manifest);\r\n                deferred.resolve();\r\n              }\r\n            }, function (error) {\r\n              if (!self.has('error')) {\r\n                self.set('error', error);\r\n              }\r\n              if (options.ignoreErrors || options.ignoreManifestErrors) {\r\n                // If errors are ignored, return an empty manifest;\r\n                // if it were undefined, non-robust consumers might crash\r\n                self.set('manifest', {});\r\n                deferred.resolve();\r\n              } else {\r\n                deferred.reject(error);\r\n              }\r\n            });\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    },\r\n\r\n    _resolveServerModules: function (options) {\r\n      var serverModules;\r\n      if (options.includeServerModule && !options.serverModules) {\r\n        options.serverModules = serverModules = new ServerModuleCollection();\r\n        return serverModules.fetch({ignoreErrors: options.ignoreErrors});\r\n      }\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    _resolveToolItems: function (options) {\r\n      var toolItems;\r\n      if (options.includeToolItems && !options.toolItems) {\r\n        options.toolItems = toolItems = new ToolItemConfigCollection();\r\n        return toolItems.fetch({ignoreErrors: options.ignoreErrors});\r\n      }\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    _resolveToolItemMasks: function (options) {\r\n      var toolItemMasks;\r\n      if (options.includeToolItems && !options.toolItemMasks) {\r\n        options.toolItemMasks = toolItemMasks = new ToolItemMaskCollection();\r\n        return toolItemMasks.fetch({ignoreErrors: options.ignoreErrors});\r\n      }\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    _getModulePrefix: function () {\r\n      var name       = this.get('id'),\r\n          firstSlash = name.indexOf('/');\r\n      // Enable widget names without the module path for the core widgets;\r\n      // compatibility for early perspectives, which did not use full paths\r\n      return firstSlash < 0 ? 'csui' : name.substring(0, firstSlash);\r\n    },\r\n\r\n    getModuleData: function () {\r\n      var name      = this.get('id'),\r\n          lastSlash = name.lastIndexOf('/'),\r\n          path;\r\n      // Enable widget names without the module path for the core widgets;\r\n      // compatibility for early perspectives, which did not use full paths\r\n      if (lastSlash < 0) {\r\n        path = 'csui/widgets/' + name;\r\n      } else {\r\n        path = name;\r\n        name = name.substring(lastSlash + 1);\r\n      }\r\n      return {\r\n        name: name,\r\n        path: path\r\n      };\r\n    },\r\n\r\n    getViewModulePath: function (moduleData) {\r\n      return moduleData.path + '/' + moduleData.name + '.view';\r\n    },\r\n\r\n    getManifestModulePath: function (moduleData) {\r\n      return 'json!' + moduleData.path + '/' + moduleData.name + '.manifest.json';\r\n    },\r\n\r\n    getLocalizedManifestModulePath: function (moduleData) {\r\n      return 'i18n!' + moduleData.path + '/impl/nls/' + moduleData.name + '.manifest';\r\n    },\r\n\r\n    _updateServerModule: function (options) {\r\n      if (options.includeServerModule) {\r\n        var modulePrefix = this._getModulePrefix(),\r\n            serverModule = options.serverModules.get(modulePrefix),\r\n            attributes   = serverModule && serverModule.toJSON() ||\r\n                {id: modulePrefix};\r\n        this.serverModule.set(attributes);\r\n      }\r\n    },\r\n\r\n    _updateActions: function (options) {\r\n      if (options.includeToolItems) {\r\n        var manifest = this.get('manifest'),\r\n            actions  = manifest && manifest.actions;\r\n        this.actions.reset(actions, {silent: true});\r\n        this.actions.each(function (action) {\r\n          action.toolItems = options.toolItems.get(action.get('toolItems'));\r\n          action.toolItemMasks = options.toolItemMasks.get(action.get('toolItemMasks'));\r\n          action.toolbars = new Backbone.Collection(action.get('toolbars'));\r\n        });\r\n        if (!options.silent) {\r\n          this.actions.trigger('reset', this.actions, options);\r\n        }\r\n      }\r\n    },\r\n\r\n    _needsLocalization: function (object) {\r\n      function isLocalizableString(value) {\r\n        return typeof value === 'string' && value.indexOf('{{') === 0 &&\r\n               value.lastIndexOf('}}') === value.length - 2;\r\n      }\r\n\r\n      var value;\r\n\r\n      for (var key in object) {\r\n        if (object.hasOwnProperty(key)) {\r\n          value = object[key];\r\n          if (isLocalizableString(value)) {\r\n            return true;\r\n          } else if (_.isArray(value)) {\r\n            for (var i = 0; i < value.length; i++) {\r\n              if (isLocalizableString(value[i])) {\r\n                return true;\r\n              }\r\n            }\r\n          } else if (typeof value === 'object') {\r\n            return this._needsLocalization(value);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n  }, {\r\n    resolveLocalizedManifest: function (manifestPath, manifest, localizedManifest) {\r\n      function traverseManifest(object, localizedManifestParent) {\r\n        var key, value, localizationKey, arrayItem, localizationArrayItem, i;\r\n\r\n        function getLocalizationKey(value) {\r\n          return _.isString(value) && value.indexOf('{{') === 0 &&\r\n                 value.lastIndexOf('}}') === value.length - 2 &&\r\n                 value.substring(2, value.length - 2);\r\n        }\r\n\r\n        for (key in object) {\r\n          if (object.hasOwnProperty(key)) {\r\n            value = object[key];\r\n            localizationKey = getLocalizationKey(value);\r\n            if (localizationKey) {\r\n              // Support both real and dummy localization keys\r\n              object[key] = localizedManifestParent[localizationKey] ||\r\n                            localizedManifestParent[key] ||\r\n                            // Show the localization string key in case\r\n                            // the value is missing\r\n                            value;\r\n            } else if (_.isArray(value)) {\r\n              localizationArrayItem = localizedManifestParent[key] || [];\r\n              for (i = 0; i < value.length; ++i) {\r\n                arrayItem = value[i];\r\n                localizationKey = getLocalizationKey(arrayItem);\r\n                if (localizationKey) {\r\n                  // Support both array of dummy placeholders and flat\r\n                  // localization by unique property names.\r\n                  value[i] = localizationArrayItem[i] ||\r\n                             // Support both real and dummy localization keys\r\n                             localizedManifestParent[localizationKey] ||\r\n                             localizedManifestParent[key] ||\r\n                             // Show the localization string key in case\r\n                             // the value is missing\r\n                             arrayItem;\r\n                } else if (_.isObject(arrayItem)) {\r\n                  // Support both hierarchical and flat localization modules\r\n                  value[i] = traverseManifest(arrayItem, localizationArrayItem[i] ||\r\n                                                         localizedManifestParent);\r\n                }\r\n              }\r\n            } else if (_.isObject(value)) {\r\n              if (localizedManifestParent[key]) {\r\n                log.warn(\r\n                    'Hierarchical format has been detected in the localization ' +\r\n                    'module \"{0}\". It has been deprecated and the support for it ' +\r\n                    'will be removed. Please, change it to the flat format as soon ' +\r\n                    'as possible. Although JSON format allows using nested objects, ' +\r\n                    'automated translation tools can handle only key-value pairs. ' +\r\n                    'That is why localization modules has to contain only one ' +\r\n                    'object with properties pointing to strings.', manifestPath)\r\n                && console.log(log.last);\r\n              }\r\n              // Support both hierarchical and flat localization modules\r\n              object[key] = traverseManifest(value, localizedManifestParent[key] ||\r\n                                                    localizedManifestParent);\r\n            }\r\n          }\r\n        }\r\n        return object;\r\n      }\r\n\r\n      return traverseManifest(manifest, localizedManifest);\r\n    },\r\n  });\r\n\r\n  return WidgetModel;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/widget.collection',[\r\n  'require', 'module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone', 'csui/models/widget/widget.model',\r\n  'csui/models/server.module/server.module.collection',\r\n  'csui/models/tool.item.config/tool.item.config.collection',\r\n  'csui/models/tool.item.mask/tool.item.mask.collection'\r\n], function (require, module, _, $, Backbone, WidgetModel,\r\n    ServerModuleCollection, ToolItemConfigCollection, ToolItemMaskCollection) {\r\n  'use strict';\r\n\r\n  var widgets = module.config().widgets || [];\r\n  // Support either array of module IDs or a map with keys pointing\r\n  // to arrays of module IDs; the latter can be used for decentralized\r\n  // configuration (multiple calls to require.config, which merge maps,\r\n  // but not arrays)\r\n  if (!_.isArray(widgets)) {\r\n    widgets = Array.prototype.concat.apply([], _.values(widgets));\r\n  }\r\n  // Convert the array of widget names to model attributes\r\n  widgets = _.map(widgets, function (name) {\r\n    return {\r\n      id: name\r\n    };\r\n  });\r\n\r\n  var WidgetCollection = Backbone.Collection.extend({\r\n\r\n    model: WidgetModel,\r\n\r\n    constructor: function WidgetCollection(models, options) {\r\n      // Store the options before calling the parent constructor;\r\n      // model processing in _prepareModel may access the options\r\n      this.options = _.defaults({}, options, {\r\n        includeView: true,\r\n        includeManifest: true,\r\n        includeServerModule: true,\r\n        includeToolItems: true\r\n      });\r\n      if (this.options.includeToolItems) {\r\n        this.options.includeManifest = true;\r\n      }\r\n      models || (models = widgets);\r\n      WidgetCollection.__super__.constructor.call(this, models, options);\r\n    },\r\n\r\n    sync: function (method, collection, options) {\r\n      if (method !== 'read') {\r\n        throw new Error('Only fetching the widgets is supported.');\r\n      }\r\n      var self = this;\r\n      options = _.extend({}, this.options, options);\r\n      if (options.includeToolItems) {\r\n        options.includeManifest = true;\r\n      }\r\n      var serverModulesPromise = this._resolveServerModules(options),\r\n          toolItemsPromise     = this._resolveToolItems(options),\r\n          toolItemMasksPromise = this._resolveToolItemMasks(options);\r\n      return $.when(serverModulesPromise, toolItemsPromise, toolItemMasksPromise)\r\n              .then(_.bind(this._resolveWidgets, this, options))\r\n              .then(function () {\r\n                var response = self.toJSON();\r\n                options.success && options.success(response, options);\r\n                self.trigger('sync', self, response, options);\r\n              });\r\n    },\r\n\r\n    _prepareModel: function (attrs, options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        includeView: this.options.includeView,\r\n        includeManifest: this.options.includeManifest,\r\n        includeServerModule: this.options.includeServerModule,\r\n        includeToolItems: this.options.includeToolItems\r\n      });\r\n      return WidgetCollection.__super__._prepareModel.call(this, attrs, options);\r\n    },\r\n\r\n    _resolveServerModules: function (options) {\r\n      var serverModules = options.serverModules;\r\n      if (serverModules || !options.includeServerModule) {\r\n        return $.Deferred().resolve().promise();\r\n      }\r\n      serverModules = options.serverModules = new ServerModuleCollection();\r\n      return serverModules.fetch({ignoreErrors: options.ignoreErrors !== false});\r\n    },\r\n\r\n    _resolveToolItems: function (options) {\r\n      var toolItems = options.toolItems;\r\n      if (toolItems || !options.includeToolItems) {\r\n        return $.Deferred().resolve().promise();\r\n      }\r\n      toolItems = options.toolItems = new ToolItemConfigCollection();\r\n      return toolItems.fetch({ignoreErrors: options.ignoreErrors !== false});\r\n    },\r\n\r\n    _resolveToolItemMasks: function (options) {\r\n      var toolItemMasks = options.toolItemMasks;\r\n      if (toolItemMasks || !options.includeToolItems) {\r\n        return $.Deferred().resolve().promise();\r\n      }\r\n      toolItemMasks = options.toolItemMasks = new ToolItemMaskCollection();\r\n      return toolItemMasks.fetch({ignoreErrors: options.ignoreErrors !== false});\r\n    },\r\n\r\n    _resolveWidgets: function (options) {\r\n      var resolvableModels = this.filter(function (model) {\r\n            // A resolvable widget must have an ID and it was already resolved\r\n            // neither with a success nor with a failure\r\n            return model.has('id') &&\r\n                   !(model.has('view') || model.has('manifest') || model.has('error'));\r\n          }),\r\n          promises = _.invoke(resolvableModels, 'fetch', {\r\n            ignoreErrors: options.ignoreErrors !== false,\r\n            ignoreManifestErrors: options.ignoreManifestErrors !== false,\r\n            includeView: options.includeView,\r\n            includeManifest: options.includeManifest,\r\n            includeServerModule: options.includeServerModule,\r\n            includeToolItems: options.includeToolItems,\r\n            serverModules: options.serverModules,\r\n            toolItems: options.toolItems,\r\n            toolItemMasks: options.toolItemMasks\r\n          });\r\n      return $.when.apply($, promises);\r\n    }\r\n\r\n  });\r\n\r\n  return WidgetCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/zipanddownload/zipanddownload.preflight',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin'\r\n], function (module, _, $, Backbone, Url, ConnectableMixin, UploadableMixin) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    idAttribute: null\r\n  }, module.config());\r\n\r\n  var PreFlightModel = Backbone.Model.extend({\r\n\r\n    constructor: function PreFlightModel(attributes, options) {\r\n      attributes || (attributes = {});\r\n      options || (options = {});\r\n      this.options = options;\r\n\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.options.connector = options.collection && options.collection.connector ||\r\n                               options.container && options.container.connector ||\r\n                               options.nodes.models && options.nodes.models[0].connector;\r\n      this.makeConnectable(options)\r\n          .makeUploadable(options);\r\n    },\r\n\r\n    urlBase: function () {\r\n      var queryString = \"\",\r\n          url         = this.options.connector.getConnectionUrl().getApiBase('v2');\r\n      url = Url.combine(url, 'zipanddownload');\r\n\r\n      if (this.preflight) {\r\n        // Create a new permission model by POST\r\n        url = Url.combine(url, 'preflight', queryString);\r\n      } else {\r\n        url = Url.combine(url, queryString);\r\n      }\r\n      return url;\r\n    },\r\n\r\n    url: function () {\r\n      var url   = this.urlBase(),\r\n          query = null;\r\n      return query ? url + '?' + query : url;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      return response;\r\n    }\r\n  });\r\n  ConnectableMixin.mixin(PreFlightModel.prototype);\r\n  UploadableMixin.mixin(PreFlightModel.prototype);\r\n\r\n  return PreFlightModel;\r\n});\r\n\n","csui.define('csui/models/zipanddownload/zipanddownload.stages',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin'\r\n], function (_, $, Backbone, URL, ConnectableMixin) {\r\n  'use strict';\r\n\r\n  var StagesModel = Backbone.Model.extend({\r\n    constructor: function StageModel(attributes, options) {\r\n      this.options = options || (options = {});\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeConnectable(options);\r\n    },\r\n\r\n    url: function () {\r\n      var url = this.options.connector.getConnectionUrl().getApiBase('v2');\r\n      return URL.combine(url, 'zipanddownload', this.get('id'));\r\n    },\r\n\r\n    parse: function (response) {\r\n      this.updateLocation(response.results.data.jobs);\r\n      return response.results.data.jobs;\r\n    },\r\n\r\n    updateLocation: function (jobs) {\r\n      if (jobs.complete && jobs.unprocessed_items_list && jobs.unprocessed_items_list.length > 0) {\r\n        _.each(jobs.unprocessed_items_list, function (model, value) {\r\n          if (model.path) {\r\n            var locations = model.path.split('\\\\');\r\n            if (locations.length > 0 && locations[locations.length - 1] !== \"\") {\r\n              model.parentLocation = locations[locations.length - 1];\r\n            } else if (locations.length > 0) {\r\n              model.parentLocation = locations[locations.length - 2];\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n  });\r\n  ConnectableMixin.mixin(StagesModel.prototype);\r\n  return StagesModel;\r\n});\n","/**\r\n * This utility will send the mime type information needed by SmartUI.\r\n * For example, if we upload any un-recognized file as part of document upload, default browser\r\n * file input returns blank for such files, in this case, let's list out those frequently\r\n * un-recognized file types. For example, drawing files, jar, war files etc.,\r\n */\r\ncsui.define('csui/utils/mime.types',[\r\n  'csui/lib/underscore'\r\n], function (_) {\r\n  'use strict';\r\n\r\n  function getMimeType(fileName) {\r\n    if (!fileName || fileName.indexOf('.') === -1) {\r\n      return '';\r\n    }\r\n\r\n    var mimeType = '',\r\n        name     = fileName.split('.').pop();\r\n\r\n    switch (name) {\r\n    case 'dwg':\r\n    case 'dxf':\r\n    case 'svf':\r\n      mimeType = 'drawing/dwg';\r\n      break;\r\n    case 'jar':\r\n    case 'war':\r\n      mimeType = 'application/x-zip';\r\n      break;\r\n    case 'XLS5':\r\n    case 'xlb':\r\n    case 'xlsx':\r\n      mimeType = 'application/vnd.ms-excel';\r\n      break;\r\n    case 'pptx':  //chrome does not provide the 'type' information for office docs while drand drop from desktop.\r\n    case 'ppt':\r\n      mimeType = 'application/vnd.ms-powerpoint';\r\n      break;\r\n    case 'docx':\r\n    case 'doc':\r\n      mimeType = 'application/msword';\r\n      break;\r\n    case 'vob':\r\n      mimeType = 'video/mpeg';\r\n      break;\r\n    case 'odf':\r\n    case 'xsm':\r\n      mimeType = 'application/vnd.oasis.opendocument.formula';\r\n      break;\r\n    }\r\n\r\n    return mimeType;\r\n  }\r\n\r\n  return {\r\n    getMimeType: getMimeType\r\n  };\r\n\r\n});\n","\n","csui.define('csui/utils/classic.nodes/classic.nodes',[\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external Classic UI node rules\r\n  'csui-ext!csui/utils/classic.nodes/classic.nodes'\r\n], function (_, Backbone, Url, RulesMatchingMixin, rules) {\r\n  'use strict';\r\n\r\n  var ClassicNodeModel = Backbone.Model.extend({\r\n    defaults: {\r\n      sequence: 100,\r\n      url: null,\r\n      urlQuery: null,\r\n      force: false\r\n    },\r\n\r\n    constructor: function ClassicNodeModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(ClassicNodeModel.prototype);\r\n\r\n  var ClassicNodeCollection = Backbone.Collection.extend({\r\n    model: ClassicNodeModel,\r\n    comparator: 'sequence',\r\n\r\n    constructor: function ClassicNodeCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findByNode: function (node, options) {\r\n      var model = this.find(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n      if (model) {\r\n        return {\r\n          url: this._getUrl(model, node, options),\r\n          forced: model.get('forced')\r\n        };\r\n      }\r\n    },\r\n\r\n    isForced: function (node, options) {\r\n      return this.some(function (item) {\r\n        return item.get('forced') &&\r\n               item.matchRules(node, item.attributes);\r\n      });\r\n    },\r\n\r\n    isSupported: function (node, options) {\r\n      return this.some(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n    },\r\n\r\n    getUrl: function (node, options) {\r\n      var model = this.find(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n      if (model) {\r\n        return this._getUrl(model, node, options);\r\n      }\r\n    },\r\n\r\n    _getUrl: function (model, node, options) {\r\n      var url = model.get('url');\r\n      if (url) {\r\n        // Receive a complete URL\r\n        if (typeof url === 'string') {\r\n          url = this._replaceParameters(url, node.attributes);\r\n        } else if (typeof url === 'function') {\r\n          url = url(node);\r\n        }\r\n      } else {\r\n        var urlQuery = model.get('urlQuery');\r\n        if (urlQuery) {\r\n          // Receive a URL query to be appended to the CGI URL\r\n          if (typeof urlQuery === 'string') {\r\n            urlQuery = this._replaceParameters(urlQuery, node.attributes);\r\n          } else if (typeof urlQuery === 'function') {\r\n            urlQuery = urlQuery(node);\r\n          }\r\n          var connector = options && options.connector || node.connector;\r\n          if (connector) {\r\n            url = new Url(connector.connection.url).getCgiScript();\r\n          } else {\r\n            url = '';\r\n          }\r\n          urlQuery = Url.combineQueryString(urlQuery);\r\n          url = Url.appendQuery(url, urlQuery);\r\n        }\r\n      }\r\n      return url;\r\n    },\r\n\r\n    _replaceParameters: function (expression, node) {\r\n      var attributes = node.attributes,\r\n          parameter = /{([^}]+)}/g,\r\n          match, names, value, index;\r\n      // Go over every parameter placeholder found\r\n      while ((match = parameter.exec(expression))) {\r\n        names = match[1].split('.');\r\n        value = attributes;\r\n        // Nested object property names are separated by dots\r\n        _.find(names, function (name) {\r\n          value = value[name];\r\n          if (value == null) {\r\n            value = '';\r\n            return true;\r\n          }\r\n        });\r\n        // Replace the placeholder with the value found\r\n        index = match.index;\r\n        expression = expression.substring(0, index) +\r\n                     encodeURIComponent(value) +\r\n                     expression.substring(index + match[0].length);\r\n      }\r\n      return expression;\r\n    }\r\n  });\r\n\r\n  var classicNodes = new ClassicNodeCollection();\r\n\r\n  if (rules) {\r\n    classicNodes.add(_.flatten(rules, true));\r\n  }\r\n\r\n  return classicNodes;\r\n});\r\n\n","\n","csui.define('csui/utils/authenticators/authenticators',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external authenticator rules\r\n  'csui-ext!csui/utils/authenticators/authenticators'\r\n], function (_, Backbone, RulesMatchingMixin, rules) {\r\n  'use strict';\r\n\r\n  var AuthenticatorModel = Backbone.Model.extend({\r\n    defaults: {\r\n      sequence: 100,\r\n      authenticator: null\r\n    },\r\n\r\n    constructor: function AuthenticatorModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(AuthenticatorModel.prototype);\r\n\r\n  var AuthenticatorCollection = Backbone.Collection.extend({\r\n    model: AuthenticatorModel,\r\n    comparator: 'sequence',\r\n\r\n    constructor: function AuthenticatorCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n    },\r\n\r\n    findByConnection: function (connection) {\r\n      var rule = this.find(function (item) {\r\n        return item.matchRules(connection, item.attributes);\r\n      });\r\n      return rule && rule.get('authenticator');\r\n    }\r\n  });\r\n\r\n  var authenticators = new AuthenticatorCollection();\r\n\r\n  if (rules) {\r\n    authenticators.add(_.flatten(rules, true));\r\n  }\r\n\r\n  return authenticators;\r\n});\r\n\n","csui.define('csui/utils/connector',[\r\n  'require', 'module', 'csui/lib/jquery', 'csui/lib/underscore',\r\n  'csui/lib/backbone', 'csui/utils/log', 'csui/utils/base',\r\n  'csui/utils/url', 'i18n', 'i18n!csui/utils/impl/nls/lang',\r\n  'csui/utils/authenticators/authenticators',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/lib/jquery.ajax-progress'\r\n], function (require, module, $, _, Backbone, log, base,\r\n  Url, i18n, lang, authenticators, UploadableMixin) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    connectionTimeout: undefined\r\n  }, module.config());\r\n\r\n  var pageUnloading = false;\r\n  $(window).on('beforeunload.' + module.id, function (event) {\r\n    pageUnloading = true;\r\n  });\r\n\r\n  function Connector(options) {\r\n    this.connection = options.connection;\r\n    this.authenticator = options.authenticator;\r\n    if (!this.authenticator) {\r\n      var Authenticator = authenticators.findByConnection(this.connection);\r\n      if (!Authenticator) {\r\n        throw new Error(\r\n          'No authenticator found. Load csui-extensions.json to enable built-in authenticators.');\r\n      }\r\n      this.authenticator = new Authenticator();\r\n    }\r\n    // The connection is owned by the connector but the authenticator\r\n    // may be created by the client independently on the connector\r\n    // and passed in. The connection must come from the connector.\r\n    this.authenticator.connection = this.connection;\r\n    this.authenticator.connectionTimeout = this.connectionTimeout;\r\n    this.authenticationPending = false;\r\n    this.waitingRequests = [];\r\n    this.restartRequests = [];\r\n  }\r\n\r\n  function assignTo(model) {\r\n    // Allow multiple calls when connectable is mixed\r\n    // with node.connectable, for example\r\n    if (model.connector) {\r\n      if (model.connector === this) {\r\n        return;\r\n      }\r\n      // The sync() method cannot be overridden twice\r\n      throw new Error('Impossible to re-assign connector.');\r\n    }\r\n    model.connector = this;\r\n    return overrideBackboneSync.call(this, model);\r\n  }\r\n\r\n  function overrideBackboneSync(model) {\r\n    var self = this;\r\n    var originalSync = model.sync;\r\n\r\n    model.sync = function (method, model, options) {\r\n      function executeSync() {\r\n        // If we caught unload event earlier and now a new request is going\r\n        // to be executed, let's assume, that page unloading was cancelled\r\n        pageUnloading = false;\r\n\r\n        var restartRequest = {\r\n          execute: originalSync,\r\n          thisObj: model\r\n        };\r\n        self.extendAjaxOptions(options, restartRequest);\r\n        // options now has extra data set by extendAjaxOptions, clone it to use for restart request\r\n        // because $.ajax call will add more attributes that options cannot be reused later.\r\n        var originalOptions = _.clone(options);\r\n        _.extend(restartRequest, {\r\n          options: originalOptions,\r\n          deferred: options.deferred,\r\n          executeOptionsArray: [method, model, _.extend(originalOptions, {restartRequest: true})]\r\n        });\r\n\r\n        // The options for the $.ajax() serve as the carrier of the\r\n        // deferred object; jQuery AJAX callbacks are on a lower level\r\n        // and  do not have access to the Backbone model.\r\n        var deferred = options.deferred;\r\n        var jqxhr = originalSync.call(model, method, model, options)\r\n            .progress(deferred.notify)\r\n            .done(deferred.resolve)\r\n            .fail(function (request, message, statusText) {\r\n              // Let the promise akceptors wait forever on page unload\r\n              if (!pageUnloading && request.status !== 401) {\r\n                deferred.reject(request, message, statusText);\r\n              }\r\n            });\r\n        return addAbort(deferred.promise(), jqxhr);\r\n      }\r\n\r\n      return executeOrScheduleRequest.call(self, executeSync);\r\n    };\r\n\r\n    return this;\r\n  }\r\n\r\n  function getConnectionUrl() {\r\n    return new Url(this.connection.url);\r\n  }\r\n\r\n  function addAbort(promise, jqxhr) {\r\n    // extend the locally created promise with an additional abort method\r\n    // not to break the Backbone.sync contract - it returns the jqxhr\r\n    // object, which includes not only the promise methods, but also AJAX\r\n    // call controlling methods like abort\r\n    promise.abort = function () {\r\n      // If noabort method exists, the model either does not support it\r\n      // or the request was aborted while still in the waiting queue\r\n      if (jqxhr.abort) {\r\n        jqxhr.abort();\r\n      }\r\n      return this;\r\n    };\r\n    return promise;\r\n  }\r\n\r\n  function executeOrScheduleRequest(executeCall) {\r\n    if (this.authenticator.isAuthenticated()) {\r\n      return executeCall();\r\n    }\r\n\r\n    var executor = {\r\n      execute: executeCall,\r\n      deferred: $.Deferred()\r\n    };\r\n    this.waitingRequests.push(executor);\r\n\r\n    var self = this;\r\n    authenticate.call(this, function success() {\r\n      executeWaitingRequests.call(self);\r\n    }, function fail(error) {\r\n      cancelWaitingRequests.call(self);\r\n      reportError(error);\r\n    });\r\n\r\n    return executor.deferred.promise();\r\n  }\r\n\r\n  function extendAjaxOptions(options, restartRequest) {\r\n    options.headers || (options.headers = {});\r\n    _.extend(options.headers, this.connection.headers);\r\n    _.extend(options.headers, {\r\n      'Accept-Language': i18n.settings.locale\r\n    });\r\n    this.authenticator.setAuthenticationHeaders(options.headers);\r\n    options.timeout = this.connectionTimeout;\r\n    // jQuery doesn't notify the promises about the data transfer\r\n    // progress; we do it by our progress event handler below and\r\n    // just relay the other promise events as they come.\r\n    options.deferred = $.Deferred();\r\n\r\n    var self = this;\r\n    var originalOptions;\r\n\r\n    var beforeSend = options.beforeSend;\r\n    options.beforeSend = function (request, settings) {\r\n      // Progress event handler doesn't have access to the the jQuery AJAX\r\n      // object; let's use the options in this scope as its carrier.\r\n      options.request = request;\r\n      request.settings = settings;\r\n      if (self.reportSending) {\r\n        self.reportSending(request, settings);\r\n      }\r\n      if (beforeSend) {\r\n        beforeSend(request, settings);\r\n      }\r\n      // There's no progress event at the very start of uploading; it may be\r\n      // useful to be notified about it though.  jQuery promises have no\r\n      // start event; just notify and done, that's why we send one extra\r\n      // notification with non-computable length to notify about the very\r\n      // start.\r\n      options.progress({\r\n        lengthComputable: false,\r\n        beforeSend: true\r\n      });\r\n    };\r\n\r\n    var progress = options.progress;\r\n    options.progress = function (event) {\r\n      if (self.reportProgress) {\r\n        self.reportProgress(event, options.request);\r\n      }\r\n      if (progress) {\r\n        progress(event);\r\n      }\r\n      // jQuery doesn't notify the promises about the data transfer progress.\r\n      options.deferred.notify(event, options.request);\r\n    };\r\n\r\n    var success = options.success;\r\n    options.success = function (data, result, request) {\r\n      self.authenticator.updateAuthenticatedSession(request);\r\n      self._succeeded = true;\r\n      if (self.reportSuccess) {\r\n        self.reportSuccess(request);\r\n      }\r\n\r\n      if (success) {\r\n        success(data, result, request);\r\n      }\r\n    };\r\n\r\n    var error = options.error;\r\n    options.error = function (request, message, statusText) {\r\n      // Do not report any errors when the page is unloading; aborted AJAX\r\n      // calls are expected to fail silently\r\n      if (pageUnloading) {\r\n        return;\r\n      }\r\n\r\n      function reportError() {\r\n        // Ensure a readable message, when the posted object is obsolete.\r\n        if (request.status == 409) {\r\n          setConflictMessage(request);\r\n        }\r\n        if (self.reportError) {\r\n          self.reportError(request);\r\n        }\r\n        if (error) {\r\n          error(request, message, statusText);\r\n        }\r\n      }\r\n\r\n      function sessionExpired() {\r\n        if (!self.confirmingReload) {\r\n          self.confirmingReload = true;\r\n          var failure     = new base.RequestErrorMessage(request),\r\n              dialogTitle = self._succeeded ? lang.SessionExpiredDialogTitle :\r\n                            lang.AuthenticationFailureDialogTitle;\r\n          log.warn(failure) && console.warn(log.last);\r\n          require(['csui/dialogs/modal.alert/modal.alert'], function (alertDialog) {\r\n            alertDialog\r\n              .showWarning(lang.AuthenticationFailureDialogText, dialogTitle, {\r\n                buttons: alertDialog.buttons.Ok\r\n              })\r\n              .always(function () {\r\n                self.authenticator.unauthenticate({reason: 'failed'});\r\n              });\r\n          });\r\n        }\r\n      }\r\n\r\n      if (request.status == 401) {\r\n        // Only restart requests from codes that have been ported.\r\n        if (restartRequest || options.restartDeferred) {\r\n          var requestObj = restartRequest || {\r\n                options: originalOptions,\r\n                deferred: options.restartDeferred || options.deferred,\r\n                execute: $.ajax,\r\n                thisObj: undefined,\r\n                executeOptionsArray: [_.extend(originalOptions, {restartRequest: true})]\r\n              };\r\n          self.restartRequests.push(requestObj);\r\n          if (!self.reauthenticatingInitiated) {\r\n            self.reauthenticatingInitiated = true;\r\n            // In case of OTDS SSO, automatically reauthenticate and restart the request again.\r\n            self.authenticator.unauthenticate({reason: 'expired'});  // clear expired session\r\n            self.authenticator.authenticate(function () {  // success\r\n              self.reauthenticatingInitiated = false;\r\n              executeRestartRequests.call(self);\r\n            }, function (error) {  // failure\r\n              self.restartRequests = [];\r\n              sessionExpired();\r\n            });\r\n          }\r\n        } else {\r\n          // Non-ported raw $.ajax call will still get the session expired error as before.\r\n          sessionExpired();\r\n        }\r\n      } else {\r\n        reportError();\r\n      }\r\n    };\r\n\r\n    // options now has extra data set by extendAjaxOptions, clone it to use for restart request\r\n    // because $.ajax call will add more attributes that options cannot be reused later.\r\n    originalOptions = _.clone(options);\r\n    return options;\r\n  }\r\n\r\n  function formatAjaxData(data) {\r\n    data = JSON.stringify(data);\r\n    return UploadableMixin.useJSON || UploadableMixin.mock ?\r\n           data : {body: data};\r\n  }\r\n\r\n  function getAjaxContentType() {\r\n    return UploadableMixin.useJSON || UploadableMixin.mock ?\r\n           'application/json' : 'application/x-www-form-urlencoded';\r\n  }\r\n\r\n  function makeAjaxCall(options) {\r\n    var method = options.method || options.type || 'GET';\r\n    var data = options.data;\r\n    var self = this;\r\n\r\n    if (data) {\r\n      if (method === 'GET') {\r\n        // Normalize the request, so that the parameters are always in\r\n        // the URL query, to make the request mockable by mockjax.\r\n\t\t    if (typeof data !== 'string') {\r\n          data = $.param(data, true);\r\n\t\t    }\r\n        var url = options.url || location.href;\r\n        url += url.indexOf('?') >= 0 ? '&' : '?';\r\n        url += data;\r\n        delete options.data;\r\n      } else {\r\n        var contentType = options.contentType;\r\n        if (data instanceof FormData) {\r\n          // Unless specified by the caller, let $.ajax use \"multipart/form-data\"\r\n          // with a computed boundary string by setting `false` here.\r\n          if (contentType === undefined) {\r\n            options.contentType = false;\r\n          }\r\n          options.processData = false;\r\n        } else {\r\n          // Unless serialized to string by the caller, wither serialize\r\n          // to application/json or application/x-www-form-urlencoded,\r\n          // depending on the server capabilities\r\n          if (typeof data !== 'string') {\r\n            options.data = formatAjaxData(data);\r\n          }\r\n          if (contentType === undefined) {  // Note: 'false' is a valid value, don't change it\r\n            options.contentType = getAjaxContentType();\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    function executeCall() {\r\n      options = self.extendAjaxOptions(options);\r\n\r\n      var deferred = $.Deferred();\r\n      _.extend(options, {restartDeferred: deferred});\r\n      var jqxhr = $.ajax(options)\r\n          .progress(deferred.notify)\r\n          .done(deferred.resolve)\r\n          .fail(function (request, message, statusText) {\r\n            if (request.status !== 401) {\r\n              // Let the promise acceptors wait forever on page unload.\r\n              if (!pageUnloading) {\r\n                deferred.reject(request, message, statusText);\r\n              }\r\n            }\r\n          });\r\n      return addAbort(deferred.promise(), jqxhr);\r\n    }\r\n\r\n    return executeOrScheduleRequest.call(this, executeCall);\r\n  }\r\n\r\n  function executeRestartRequests() {\r\n    var self = this;\r\n    var executors = this.restartRequests.slice(0);\r\n    this.restartRequests = [];\r\n    _.each(executors, function (executor) {\r\n      self.authenticator.setAuthenticationHeaders(executor.options.headers);\r\n      executor.execute.apply(executor.thisObj, executor.executeOptionsArray)\r\n          .progress(executor.deferred.notify)\r\n          .done(executor.deferred.resolve)\r\n          .fail(function (request, message, statusText) {\r\n            // Let the promise acceptors wait forever on page unload.\r\n            if (!pageUnloading) {\r\n              executor.deferred.reject(request, message, statusText);\r\n            }\r\n          });\r\n    });\r\n  }\r\n\r\n  function executeWaitingRequests() {\r\n    var executors = this.waitingRequests.slice(0);\r\n    this.waitingRequests = [];\r\n    _.each(executors, function (executor) {\r\n      executor.execute()\r\n        .progress(executor.deferred.notify)\r\n        .done(executor.deferred.resolve)\r\n        .fail(function (request, message, statusText) {\r\n          // Let the promise acceptors wait forever on page unload.\r\n          if (!pageUnloading) {\r\n            executor.deferred.reject(request, message, statusText);\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n  function cancelWaitingRequests() {\r\n    var executors = this.waitingRequests.slice(0);\r\n    this.waitingRequests = [];\r\n    _.each(executors, function (executor) {\r\n      executor.deferred.reject();\r\n    });\r\n  }\r\n\r\n  function authenticate(success, failure) {\r\n    if (!this.authenticationPending) {\r\n      this.authenticationPending = true;\r\n      var self = this;\r\n      this.authenticator.authenticate(function () {\r\n          self.authenticationPending = false;\r\n          success();\r\n        }, function (error) {\r\n          self.authenticationPending = false;\r\n          failure(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  function reportSending(request, settings) {\r\n    if (request && settings) {\r\n      log.debug('Sending request as {0} to {1}.', settings.type, settings.url) &&\r\n      console.log(log.last);\r\n    }\r\n  }\r\n\r\n  function reportProgress(event, request) {\r\n    var progress = event.lengthComputable ? _.str.sformat(\r\n      '{0} from {1} bytes transferred', event.loaded, event.total) :\r\n                   event.beforeSend ? 'connection opened' : 'no information';\r\n    log.debug('Progress of {0} from {1}: {2}.', request.settings.type,\r\n      request.settings.url, progress) && console.log(log.last);\r\n  }\r\n\r\n  function reportSuccess(request) {\r\n    if (request && request.settings) {\r\n      log.debug('Receiving response for {0} from {1}.', request.settings.type,\r\n        request.settings.url) && console.log(log.last);\r\n    }\r\n  }\r\n\r\n  function reportError(request, error) {\r\n    if (!error) {\r\n      if (request instanceof Error) {\r\n        error = request;\r\n        request = undefined;\r\n      } else {\r\n        error = new base.RequestErrorMessage(request);\r\n      }\r\n    }\r\n    if (request && request.settings) {\r\n      log.warn('{0} request to {1} failed:', request.settings.type, request.settings.url) &&\r\n      console.warn(log.last);\r\n    }\r\n    log.warn(error) && console.warn(log.last);\r\n    base.MessageHelper.addMessage(error.toString());\r\n  }\r\n\r\n  function requestContentAuthToken(node) {\r\n    // TODO: Refactor this to be able to share the code with the connector\r\n    // above.  And have a look how to share more with the authenticator too.\r\n    var attributes = base.isBackbone(node) ? node.attributes : node,\r\n        url        = Url.combine(this.connection.url, 'contentauth?id=' + attributes.id),\r\n        headers    = _.extend({\r\n          'Accept-Language': i18n.settings.locale\r\n        }, this.connection.headers);\r\n    this.authenticator.setAuthenticationHeaders(headers);\r\n    return $.ajax({\r\n      type: 'GET',\r\n      url: url,\r\n      headers: headers,\r\n      timeout: this.connectionTimeout,\r\n      context: this,\r\n      beforeSend: _.bind(function (request, settings) {\r\n        request.settings = settings;\r\n        if (this.reportSending) {\r\n          this.reportSending(request, settings);\r\n        }\r\n      }, this),\r\n      success: _.bind(function (data, result, request) {\r\n        this.authenticator.updateAuthenticatedSession(request);\r\n        if (this.reportSuccess) {\r\n          this.reportSuccess(request);\r\n        }\r\n      }, this),\r\n      error: _.bind(function (request, message, statusText) {\r\n        if (this.reportError) {\r\n          this.reportError(request);\r\n        }\r\n      }, this)\r\n    });\r\n  }\r\n\r\n  function setConflictMessage(request) {\r\n    if (request.responseText) {\r\n      try {\r\n        request.responseJSON = JSON.parse(request.responseText);\r\n      } catch (failure) {\r\n        log.warn(\"Parsing error response failed: {0}.\", failure)\r\n        && console.warn(log.last);\r\n      }\r\n    }\r\n    if (request.responseJSON) {\r\n      var data = request.responseJSON;\r\n      data.error = lang.resourceConflict;\r\n      request.responseText = JSON.stringify(data);\r\n    }\r\n  }\r\n\r\n  _.extend(Connector.prototype, Backbone.Events, {\r\n    constructor: Connector,\r\n    // Makes a Backbone model working with the REST API connector.\r\n    assignTo: assignTo,\r\n    // Returns a URL object with convenience methods like getApiBase,\r\n    // which wraps the connection.url\r\n    getConnectionUrl: getConnectionUrl,\r\n    // Prepares options for the Backbone fetch method to work\r\n    // with the REST API connector. It can be used for custom models.\r\n    extendAjaxOptions: extendAjaxOptions,\r\n    // Deprecated and to be removed.\r\n    extendFetchOptions: extendAjaxOptions,\r\n    // Preprocess the data property in $.ajax options, so that CS\r\n    // can accept JSON in POST and PUT requests\r\n    formatAjaxData: formatAjaxData,\r\n    // Returns the correct content type for $.ajax options, so that CS\r\n    // can accept JSON in POST and PUT requests\r\n    getAjaxContentType: getAjaxContentType,\r\n    // Shortens making an ajax call by applying extendAjaxOptions,\r\n    // formatAjaxData and getAjaxContentType together and callig $.ajax.\r\n    makeAjaxCall: makeAjaxCall,\r\n    // Overriddables to extend or replace logging and/or error reporting.\r\n    reportSending: reportSending,\r\n    reportProgress: reportProgress,\r\n    reportSuccess: reportSuccess,\r\n    reportError: reportError,\r\n    // Other utility methods and properties.\r\n    requestContentAuthToken: requestContentAuthToken,\r\n    connectionTimeout: config.connectionTimeout,\r\n    // authentication\r\n    authenticate: authenticate\r\n  });\r\n\r\n  return Connector;\r\n});\r\n\n","\n","csui.define('csui/utils/defaultactionitems',[\r\n  'csui/lib/underscore', 'csui/models/actionitems',\r\n  // Load and register external default action rules\r\n  'csui-ext!csui/utils/defaultactionitems'\r\n], function (_, ActionItemCollection, rules) {\r\n  'use strict';\r\n\r\n  var defaultActionItems = new ActionItemCollection();\r\n\r\n  if (rules) {\r\n    defaultActionItems.add(_.flatten(rules, true));\r\n  }\r\n\r\n  return defaultActionItems;\r\n});\r\n\n","csui.define('csui/utils/authenticators/authenticator',[\r\n  'csui/lib/underscore', 'csui/lib/backbone'\r\n], function (_, Backbone) {\r\n  'use strict';\r\n\r\n  // Defines the authentication interface.\r\n  function Authenticator(options) {\r\n    this.connection = options && options.connection || {};\r\n  }\r\n\r\n  _.extend(Authenticator.prototype, Backbone.Events, {\r\n    authenticate: function (options, succeeded, failed) {\r\n      // Normalize input parameters, which are all optional.\r\n      if (typeof options === 'function') {\r\n        failed = succeeded;\r\n        succeeded = options;\r\n        options = undefined;\r\n      }\r\n      options || (options = {});\r\n\r\n      this.syncStorage(options.session);\r\n      if (this.doAuthenticate(options, succeeded, failed)) {\r\n        return this;\r\n      }\r\n\r\n      if (this.isAuthenticated()) {\r\n        if (succeeded) {\r\n          succeeded(this.connection);\r\n        }\r\n      } else {\r\n        var error = new Error('Missing authentication parameters.');\r\n        if (failed) {\r\n          failed(error, this.connection);\r\n        } else {\r\n          throw error;\r\n        }\r\n      }\r\n      return this;\r\n    },\r\n\r\n    setUserId: function (userId) {\r\n      this.userId = userId;\r\n    },\r\n\r\n    getUserId: function () {\r\n      return this.userId;\r\n    },\r\n\r\n    doAuthenticate: function (options) {\r\n    },\r\n\r\n    unauthenticate: function (options) {\r\n      return this;\r\n    },\r\n\r\n    isAuthenticated: function () {\r\n      return false;\r\n    },\r\n\r\n    syncStorage: function (session) {\r\n      return this;\r\n    },\r\n\r\n    setAuthenticationHeaders: function (headers) {\r\n    },\r\n\r\n    updateAuthenticatedSession: function (session) {\r\n    }\r\n  });\r\n\r\n  Authenticator.extend = Backbone.View.extend;\r\n\r\n  return Authenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/ticket.authenticator',[\r\n  'module', 'csui/lib/underscore', 'csui/utils/authenticators/authenticator',\r\n  'csui/utils/namedsessionstorage'\r\n], function (module, _, Authenticator, NamedSessionStorage) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n      .config['csui/utils/authenticator'] || {};\r\n  config = _.extend({\r\n    rememberTicket: true,\r\n    ticketHeader: 'OTCSTicket',\r\n    ticketExpirationHeader: 'OTCSTicketExpires'\r\n  }, config, module.config());\r\n  config.ticketHeader = config.ticketHeader.toLowerCase();\r\n  config.ticketExpirationHeader = config.ticketExpirationHeader.toLowerCase();\r\n\r\n  var storage = new NamedSessionStorage(module.id);\r\n\r\n  // Supports authentication using the explicit ticket provided\r\n  // in {session: titket}.\r\n  var TicketAuthenticator = Authenticator.extend({\r\n    constructor: function TicketAuthenticator(options) {\r\n      Authenticator.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    unauthenticate: function (options) {\r\n      this.connection.session = undefined;\r\n      if (config.rememberTicket) {\r\n        storage.remove(this.connection.url);\r\n      }\r\n      this.trigger('loggedOut', {\r\n        sender: this,\r\n        connection: this.connection,\r\n        reason: options && options.reason\r\n      });\r\n      return this;\r\n    },\r\n\r\n    isAuthenticated: function () {\r\n      var session = this.connection.session;\r\n      return !!(session && session.ticket);\r\n    },\r\n\r\n    syncStorage: function (session) {\r\n      session || (session = this.connection.session);\r\n      if (!session && config.rememberTicket) {\r\n        // no session -> try to get from session storage\r\n        session = storage.get(this.connection.url);\r\n      }\r\n      if (session) {\r\n        // session -> update\r\n        this.connection.session || (this.connection.session = {});\r\n        _.extend(this.connection.session, session);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    setAuthenticationHeaders: function (headers) {\r\n      var session = this.connection.session,\r\n          ticket = session && session.ticket;\r\n      if (ticket) {\r\n        headers[config.ticketHeader] = ticket;\r\n        return true;\r\n      }\r\n    },\r\n\r\n    updateAuthenticatedSession: function (data, request) {\r\n      data || (data = {});\r\n      if (!request && data.getResponseHeader) {\r\n        request = data;\r\n        data = {};\r\n      }\r\n      var ticket = data.ticket || request &&\r\n                   request.getResponseHeader(config.ticketHeader);\r\n      if (ticket) {\r\n        var session = this.connection.session ||\r\n                      (this.connection.session = {});\r\n        _.extend(session, {\r\n          ticket: ticket,\r\n          expires: data.expires || request &&\r\n                   request.getResponseHeader(config.ticketExpirationHeader)\r\n        });\r\n        if (config.rememberTicket) {\r\n          storage.set(this.connection.url, session);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  return TicketAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/request.authenticator',[\r\n  'module', 'csui/lib/jquery', 'csui/lib/underscore',\r\n  'csui/utils/base', 'csui/utils/url', 'csui/utils/log',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/utils/authenticators/ticket.authenticator',\r\n  'csui/lib/jquery.parse.param'\r\n], function (module, $, _, base, Url, log, UploadableMixin,\r\n     TicketAuthenticator) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n  .config['csui/utils/requestauthenticator'] || {};\r\n  config = _.extend({\r\n    connectionTimeout: 60 * 1000\r\n  }, config, module.config());\r\n\r\n  // Performs authentication using an initial request, which is supposed to\r\n  // obtain the OTCSTicket.  Descendants decide what request and how to\r\n  // process its response.\r\n  var RequestAuthenticator = TicketAuthenticator.extend({\r\n    constructor: function RequestAuthenticator(options) {\r\n      TicketAuthenticator.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    login: function (options, succeeded, failed) {\r\n      delete this.connection.session;\r\n      log.debug('Sending authentication request to {0}.', this.connection.url)\r\n      && console.log(log.last);\r\n      var settings = this.prepareRequest(options);\r\n      this.updateRequestBody(settings);\r\n      return this.makeRequest(settings, succeeded, failed);\r\n    },\r\n\r\n    prepareRequest: function (options) {\r\n      return options;\r\n    },\r\n\r\n    parseResponse: function (response, request) {\r\n      return response;\r\n    },\r\n\r\n    makeRequest: function (options, succeeded, failed) {\r\n      var headers = _.extend({}, this.connection.headers, options.headers);\r\n      return $.ajax(_.extend({\r\n        // TODO: Deprecate and remove this. This is an abstract object.\r\n        // Descendant authenticators should be used to make calls.\r\n        url: Url.combine(this.connection.url, 'auth'),\r\n\r\n        timeout: this.connectionTimeout,\r\n        context: this,\r\n\r\n        beforeSend: function (request, settings) {\r\n          request.settings = settings;\r\n        },\r\n\r\n        success: function (response, textStatus, request) {\r\n          log.debug('Receiving authentication response from {0}.', this.connection.url)\r\n          && console.log(log.last);\r\n          response = this.parseResponse(response, request);\r\n          if (this.authenticateSession(response, request)) {\r\n            if (succeeded) {\r\n              succeeded.call(this, this.connection);\r\n            }\r\n            this.trigger('loggedIn', {\r\n              sender: this,\r\n              connection: this.connection\r\n            });\r\n          }\r\n        },\r\n\r\n        error: function (request) {\r\n          var error = new base.RequestErrorMessage(request);\r\n          log.warn('Logging in to {0} failed:\\r\\n{1}',\r\n            this.connection.url, error) && console.warn(log.last);\r\n          if (failed) {\r\n            failed.call(this, error, this.connection);\r\n          }\r\n        }\r\n      }, options, {\r\n        headers: headers\r\n      }));\r\n    },\r\n\r\n    updateRequestBody: function (settings) {\r\n      var data;\r\n      if (UploadableMixin.useJSON || UploadableMixin.mock) {\r\n        if (settings.contentType !== 'application/json') {\r\n          settings.contentType = 'application/json';\r\n          data = settings.data;\r\n          if (typeof data === 'string') {\r\n            data = $.parseParam(data);\r\n          }\r\n          if (UploadableMixin.mock) {\r\n            settings.data = data;\r\n          } else {\r\n            settings.data = JSON.stringify(data);\r\n          }\r\n          settings.processData = false;\r\n        }\r\n      } else {\r\n        if (settings.contentType === 'application/json') {\r\n          settings.contentType = 'application/x-www-form-urlencoded';\r\n          data = settings.data;\r\n          if (typeof data === 'string') {\r\n            settings.data = JSON.parse(data);\r\n          }\r\n          if (UploadableMixin.mock) {\r\n            settings.data = data;\r\n          }\r\n          settings.processData = true;\r\n        }\r\n      }\r\n    },\r\n\r\n    authenticateSession: function (response, request) {\r\n      if (response && response.ticket) {\r\n        if (request && request.settings && request.settings.data) {\r\n          log.info('Logging in to {0} as {1} succeeded.',\r\n              this.connection.url, request.settings.data.username)\r\n          && console.log(log.last);\r\n        }\r\n        this.updateAuthenticatedSession(response, request);\r\n        return true;\r\n      }\r\n      return true;\r\n    },\r\n\r\n    unauthenticate: function (options) {\r\n      var first = this.isAuthenticated();\r\n      TicketAuthenticator.prototype.unauthenticate.apply(this, arguments);\r\n      if (first) {\r\n        this.trigger('loggedOut', {\r\n          sender: this,\r\n          connection: this.connection,\r\n          reason: options && options.reason\r\n        });\r\n      }\r\n      return this;\r\n    },\r\n\r\n    connectionTimeout: config.connectionTimeout\r\n  });\r\n\r\n  return RequestAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/server.adaptors/initial.header.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url',\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        prepareRequest: function (options) {\r\n          // Allow calling the login() method directly with partial\r\n          // request settings overriding the authenticator defaults.\r\n          var headers = options && options.headers ||\r\n                        this.connection.authenticationHeaders;\r\n          return {\r\n            url: Url.combine(this.connection.url, 'auth'),\r\n            headers: headers\r\n          };\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/utils/authenticators/initial.header.authenticator',[\r\n  'require', 'csui/utils/log',\r\n  'csui/utils/authenticators/request.authenticator',\r\n  'csui/utils/authenticators/server.adaptors/initial.header.mixin'\r\n], function (require, log, RequestAuthenticator, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var InitialHeaderAuthenticator = RequestAuthenticator.extend({\r\n    constructor: function InitialHeaderAuthenticator(options) {\r\n      RequestAuthenticator.prototype.constructor.call(this, options);\r\n      this.makeServerAdaptor(options);\r\n    },\r\n\r\n    doAuthenticate: function (options, succeeded, failed) {\r\n      var headers = options.headers ||\r\n                    this.connection.authenticationHeaders,\r\n          self = this;\r\n      if (headers) {\r\n        this.connection.authenticationHeaders = headers;\r\n        this.login({}, succeeded, function (error, connection) {\r\n          self._reportError(error);\r\n          self.unauthenticate({reason: 'failed'});\r\n          if (failed) {\r\n            failed(error, connection);\r\n          }\r\n        });\r\n        return true;\r\n      }\r\n    },\r\n\r\n    authenticateSession: function (response, request) {\r\n      if (response && response.data) {\r\n        log.info('Logging in to {0} as {1} succeeded.',\r\n            this.connection.url, response.data.name)\r\n        && console.log(log.last);\r\n        this.updateAuthenticatedSession(request);\r\n        return true;\r\n      }\r\n    },\r\n\r\n    _reportError: function (error) {\r\n      require(['csui/dialogs/modal.alert/modal.alert'\r\n      ], function (ModalAlert) {\r\n        ModalAlert.showError(error.toString());\r\n      });\r\n    }\r\n  });\r\n\r\n  ServerAdaptorMixin.mixin(InitialHeaderAuthenticator.prototype);\r\n\r\n  return InitialHeaderAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/headerauthenticator',[\r\n  'csui/utils/authenticators/initial.header.authenticator'\r\n], function (InitialHeaderAuthenticator) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module in favour of depending\r\n  // on the connector automation.\r\n  return InitialHeaderAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/interactive.credentials.authenticator',[\r\n  'require', 'module', 'csui/lib/underscore',\r\n  'csui/utils/authenticators/request.authenticator'\r\n], function (require, module, _, RequestAuthenticator) {\r\n  'use strict';\r\n\r\n  // Warns, that the developer did not specify any authentication ticket\r\n  // or other header.  There is no interactive authentication in CS UI\r\n  // Widgets.  Integrators have to authenticate, preferably by SSO.\r\n  var InteractiveCredentialsAuthenticator = RequestAuthenticator.extend({\r\n    interactive: true,\r\n\r\n    constructor: function InteractiveCredentialsAuthenticator(options) {\r\n      RequestAuthenticator.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    authenticate: function (options, succeeded, failed) {\r\n      // Normalize input parameters, which are all optional.\r\n      if (typeof options === 'function') {\r\n        failed = succeeded;\r\n        succeeded = options;\r\n        options = undefined;\r\n      }\r\n\r\n      RequestAuthenticator.prototype.authenticate.call(this, options,\r\n          succeeded, _.bind(this.openSignInDialog, this, succeeded));\r\n    },\r\n\r\n    openSignInDialog: function (succeeded) {\r\n      if (this.reauthenticating) {\r\n        return;\r\n      }\r\n      var self = this;\r\n      self.reauthenticating = true;\r\n      require([\r\n        'csui/utils/impl/signin.dialog/signin.dialog', 'csui/controls/progressblocker/blocker'\r\n      ], function (SignInDialog, BlockingView) {\r\n        var dialog = new SignInDialog({\r\n          connection: self.connection\r\n        });\r\n        BlockingView.suppressAll();\r\n        dialog.show()\r\n              .done(function (args) {\r\n                self.connection.session = args.session;\r\n                self.reauthenticating = false;\r\n                BlockingView.resumeAll();\r\n                succeeded(self.connection);\r\n              });\r\n      });\r\n    }\r\n  });\r\n\r\n  return InteractiveCredentialsAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/interactiveauthenticator',[\r\n  'csui/utils/authenticators/interactive.credentials.authenticator'\r\n], function (InteractiveCredentialsAuthenticator) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module in favour of depending\r\n  // on the connector automation.\r\n  return InteractiveCredentialsAuthenticator;\r\n});\r\n\n","\n","csui.define('csui/utils/node.info.sprites',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  // Load and register external node information sprites\r\n  'csui-ext!csui/utils/node.info.sprites'\r\n], function (_, Backbone, extraNodeInfoSprites) {\r\n\r\n  var NodeSpriteModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      sequence: 100\r\n    },\r\n\r\n    constructor: function NodeSpriteModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var NodeSpriteCollection = Backbone.Collection.extend({\r\n\r\n    model: NodeSpriteModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function NodeSpriteCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var nodeSprites = new NodeSpriteCollection();\r\n\r\n  if (extraNodeInfoSprites) {\r\n    nodeSprites.add(_.flatten(extraNodeInfoSprites, true));\r\n  }\r\n\r\n  return nodeSprites;\r\n\r\n});\r\n\n","csui.define('csui/utils/page.leaving.blocker',['module', 'csui/lib/jquery'], function (module, $) {\r\n\r\n  var listenerRegistered,\r\n      forceDisabled,\r\n      messages = [],\r\n\r\n      PageLeavingBlocker = {\r\n\r\n        isEnabled: function () {\r\n          return !forceDisabled && messages.length;\r\n        },\r\n\r\n        enable: function (message) {\r\n          // The most recent message will be shown, when the user\r\n          // tries to leave the page\r\n          messages.unshift(message);\r\n          ensureListener();\r\n        },\r\n\r\n        disable: function () {\r\n          messages.shift();\r\n        },\r\n\r\n        forceDisable: function () {\r\n          forceDisabled = true;\r\n        }\r\n\r\n      };\r\n\r\n  function ensureListener() {\r\n    if (!listenerRegistered) {\r\n      listenerRegistered = true;\r\n      $(window).on('beforeunload.' + module.id, function (event) {\r\n        if (PageLeavingBlocker.isEnabled()) {\r\n          var message = messages[0];\r\n          if (event) {\r\n            event.originalEvent.returnValue = message; // Gecko, Trident, Chrome 34+\r\n          }\r\n          return message; // Gecko, WebKit, Chrome <34\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  return PageLeavingBlocker;\r\n\r\n});\r\n\n","csui.define('csui/utils/requestauthenticator',[\r\n  'csui/utils/authenticators/request.authenticator'\r\n], function (RequestAuthenticator) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module in favour of using\r\n  // the new one.\r\n  return RequestAuthenticator;\r\n});\r\n\n","\n","csui.define('csui/utils/smart.nodes/smart.nodes',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external Smart UI node rules\r\n  'csui-ext!csui/utils/smart.nodes/smart.nodes'\r\n], function (_, Backbone, RulesMatchingMixin, rules) {\r\n  'use strict';\r\n\r\n  var SmartNodeModel = Backbone.Model.extend({\r\n    defaults: {\r\n      sequence: 100\r\n    },\r\n\r\n    constructor: function SmartNodeModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(SmartNodeModel.prototype);\r\n\r\n  var SmartNodeCollection = Backbone.Collection.extend({\r\n    model: SmartNodeModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function SmartNodeCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    isSupported: function (node, options) {\r\n      return this.some(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n    }\r\n  });\r\n\r\n  var smartNodes = new SmartNodeCollection();\r\n\r\n  if (rules) {\r\n    smartNodes.add(_.flatten(rules, true));\r\n  }\r\n\r\n  return smartNodes;\r\n});\r\n\n","csui.define('csui/utils/authenticators/server.adaptors/basic.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        prepareRequest: function (options) {\r\n          // Allow calling the login() method directly with partial\r\n          // request settings overriding the authenticator defaults.\r\n          var credentials = options && options.data ||\r\n                            this.connection.credentials;\r\n          return {\r\n            url: Url.combine(this.connection.url, 'auth'),\r\n            headers: {\r\n              authorization: this.formatAuthorizationHeader(credentials)\r\n            }\r\n          };\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/utils/authenticators/basic.authenticator',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/base',\r\n  'csui/utils/url', 'csui/utils/log', 'csui/utils/namedsessionstorage',\r\n  'csui/utils/authenticators/authenticator',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/utils/authenticators/server.adaptors/basic.mixin'\r\n], function (module, _, $, base, Url, log, NamedSessionStorage,\r\n    Authenticator, UploadableMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    rememberCredentials: true\r\n  }, module.config());\r\n\r\n  var storage = new NamedSessionStorage(module.id);\r\n\r\n  // Authenticates the requests using the Base Authentication standard;\r\n  // by sending encoded credentials in every request.\r\n  var BasicAuthenticator = Authenticator.extend({\r\n    constructor: function BasicAuthenticator(options) {\r\n      Authenticator.prototype.constructor.call(this, options);\r\n      this.credentials = options && options.credentials;\r\n      this.makeServerAdaptor(options);\r\n    },\r\n\r\n    check: function (options, succeeded, failed) {\r\n      log.debug('Checking credentials with {0}.', this.connection.url)\r\n      && console.log(log.last);\r\n      var settings = this.prepareRequest(options);\r\n      return this.makeRequest(settings, succeeded, failed);\r\n    },\r\n\r\n    prepareRequest: function (options) {\r\n      return options;\r\n    },\r\n\r\n    makeRequest: function (options, succeeded, failed) {\r\n      var headers = _.extend({}, this.connection.headers, options.headers);\r\n      return $.ajax(_.extend({\r\n        timeout: this.connectionTimeout,\r\n        context: this,\r\n\r\n        beforeSend: function (request, settings) {\r\n          request.settings = settings;\r\n        },\r\n\r\n        success: function (response, textStatus, request) {\r\n          log.debug('Receiving credentials-checking response from {0}.',\r\n              this.connection.url) && console.log(log.last);\r\n          this.doAuthenticate(options);\r\n          if (succeeded) {\r\n            succeeded(this.connection);\r\n          }\r\n          this.trigger('loggedIn', {\r\n            sender: this,\r\n            connection: this.connection\r\n          });\r\n        },\r\n\r\n        error: function (request) {\r\n          var error = new base.RequestErrorMessage(request);\r\n          log.warn('Check credentials with {0} failed:\\r\\n{1}',\r\n            this.connection.url, error) && console.warn(log.last);\r\n          if (failed) {\r\n            failed(error, this.connection);\r\n          }\r\n        }\r\n      }, options, {\r\n        headers: headers\r\n      }));\r\n    },\r\n\r\n    doAuthenticate: function (options, succeeded, failed) {\r\n      var credentials = options.credentials ||\r\n                        this.credentials ||\r\n                        this.connection.credentials;\r\n      if (credentials) {\r\n        this.connection.credentials = credentials;\r\n        if (config.rememberCredentials) {\r\n          storage.set(this.connection.url, credentials);\r\n        }\r\n      }\r\n    },\r\n\r\n    unauthenticate: function (options) {\r\n      var first = this.isAuthenticated();\r\n      this.connection.credentials = undefined;\r\n      if (config.rememberCredentials) {\r\n        storage.remove(this.connection.url);\r\n      }\r\n      if (first) {\r\n        this.trigger('loggedOut', {\r\n          sender: this,\r\n          connection: this.connection,\r\n          reason: options && options.reason\r\n        });\r\n      }\r\n      return this;\r\n    },\r\n\r\n    isAuthenticated: function () {\r\n      return !!this.connection.credentials;\r\n    },\r\n\r\n    syncStorage: function () {\r\n      if (!this.connection.credentials && config.rememberCredentials) {\r\n        this.connection.credentials = storage.get(this.connection.url);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    setAuthenticationHeaders: function (headers) {\r\n      headers.authorization = this.formatAuthorizationHeader(\r\n        this.connection.credentials);\r\n    },\r\n\r\n    formatAuthorizationHeader: function (credentials) {\r\n      return 'Basic ' + btoa(unescape(encodeURIComponent(\r\n        credentials.username + ':' + credentials.password)));\r\n    }\r\n  });\r\n\r\n  ServerAdaptorMixin.mixin(BasicAuthenticator.prototype);\r\n\r\n  return BasicAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/server.adaptors/credentials.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        prepareRequest: function (options) {\r\n          // Allow calling the login() method directly with partial\r\n          // request settings overriding the authenticator defaults.\r\n          var credentials = options && options.data ||\r\n                            this.connection.credentials;\r\n          return {\r\n            type: 'POST',\r\n            url: Url.combine(this.connection.url, 'auth'),\r\n            data: {\r\n              username: credentials.username,\r\n              password: credentials.password,\r\n              domain: ''\r\n            }\r\n          };\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/utils/authenticators/credentials.authenticator',[\r\n  'require', 'csui/utils/authenticators/request.authenticator',\r\n  'csui/utils/authenticators/server.adaptors/credentials.mixin'\r\n], function (require, RequestAuthenticator, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  // Authenticates the requests using the Base Authentication standard;\r\n  // by sending encoded credentials in every request.\r\n  var CredentialsAuthenticator = RequestAuthenticator.extend({\r\n    constructor: function CredentialsAuthenticator(options) {\r\n      RequestAuthenticator.prototype.constructor.call(this, options);\r\n      this.credentials = options && options.credentials;\r\n      this.makeServerAdaptor(options);\r\n    },\r\n\r\n    doAuthenticate: function (options, succeeded, failed) {\r\n      var credentials = options.credentials ||\r\n                        this.credentials ||\r\n                        this.connection.credentials,\r\n          self = this;\r\n      if (credentials) {\r\n        this.connection.credentials = credentials;\r\n        this.login({}, succeeded, function (error, connection) {\r\n          self._reportError(error);\r\n          self.unauthenticate({reason: 'failed'});\r\n          if (failed) {\r\n            failed(error, connection);\r\n          }\r\n        });\r\n        return true;\r\n      }\r\n    },\r\n\r\n    _reportError: function (error) {\r\n      require(['csui/dialogs/modal.alert/modal.alert'\r\n      ], function (ModalAlert) {\r\n        ModalAlert.showError(error.toString());\r\n      });\r\n    }\r\n  });\r\n\r\n  ServerAdaptorMixin.mixin(CredentialsAuthenticator.prototype);\r\n\r\n  return CredentialsAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/regular.header.authenticator',[\r\n  'module', 'csui/lib/underscore', 'csui/utils/log',\r\n  'csui/utils/authenticators/authenticator', 'csui/utils/namedsessionstorage'\r\n], function (module, _, log, Authenticator, NamedSessionStorage) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    rememberAuthenticationHeaders: true\r\n  }, module.config());\r\n\r\n  var storage = new NamedSessionStorage(module.id);\r\n\r\n  var RegularHeaderAuthenticator = Authenticator.extend({\r\n    constructor: function RegularHeaderAuthenticator(options) {\r\n      Authenticator.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    doAuthenticate: function (options, succeeded, failed) {\r\n      var headers = options.headers ||\r\n                    this.connection.authenticationHeaders;\r\n      if (headers) {\r\n        this.connection.authenticationHeaders = headers;\r\n        if (config.rememberAuthenticationHeaders) {\r\n          storage.remove(this.connection.url);\r\n        }\r\n      }\r\n    },\r\n\r\n    unauthenticate: function (options) {\r\n      this.connection.authenticationHeaders = undefined;\r\n      if (config.rememberAuthenticationHeaders) {\r\n        storage.remove(this.connection.url);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    isAuthenticated: function () {\r\n      return !!this.connection.authenticationHeaders;\r\n    },\r\n\r\n    syncStorage: function () {\r\n      if (!this.connection.authenticationHeaders &&\r\n          config.rememberAuthenticationHeaders) {\r\n        this.connection.authenticationHeaders = storage.get(this.connection.url);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    setAuthenticationHeaders: function (headers) {\r\n      _.extend(headers, this.connection.authenticationHeaders);\r\n    }\r\n  });\r\n\r\n  return RegularHeaderAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/redirecting.form.authenticator',[\r\n  'require', 'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log',\r\n  'csui/utils/authenticators/ticket.authenticator'\r\n], function (require, module, _, $, log, TicketAuthenticator) {\r\n  'use strict';\r\n\r\n  var config                      = module.config(),\r\n      authenticationIFrameTimeout = config.authenticationIFrameTimeout || 3000;\r\n\r\n  // Warns, that the developer did not specify any authentication ticket\r\n  // or other header.  There is no interactive authentication in CS UI\r\n  // Widgets.  Integrators have to authenticate, preferably by SSO.\r\n  var RedirectingFormAuthenticator = TicketAuthenticator.extend({\r\n    interactive: true,\r\n\r\n    constructor: function RedirectingFormAuthenticator(options) {\r\n      TicketAuthenticator.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    authenticate: function (options, succeeded, failed) {\r\n      // Normalize input parameters, which are all optional.\r\n      if (typeof options === 'function') {\r\n        failed = succeeded;\r\n        succeeded = options;\r\n        options = undefined;\r\n      }\r\n\r\n      TicketAuthenticator.prototype.authenticate.call(this, options,\r\n          succeeded, _.bind(this.initiateLoginSequence, this, succeeded, failed));\r\n    },\r\n\r\n    initiateLoginSequence: function (succeeded, failed) {\r\n      // this method is trying to reauthenticate with OTDS in the background\r\n      var self = this;\r\n      var timer, dialog, urlOrigin;\r\n\r\n      function createIFrame() {\r\n        var deferred = $.Deferred();\r\n        require([\r\n          'csui/lib/marionette', 'csui/controls/dialog/dialog.view', 'csui/utils/url'\r\n        ], function (Marionette, DialogView, Url) {\r\n          var src = Url.appendQuery(new Url(self.connection.url).getCgiScript(), 'func=csui.ticket');\r\n          src = Url.appendQuery(src, 'userid=' + self.getUserId());\r\n          urlOrigin = new Url(self.connection.url).getOrigin();\r\n\r\n          var view = new Marionette.View({\r\n            el: $('<iframe>', {\r\n              width: '100%',\r\n              height: '100%',\r\n              src: src\r\n            })\r\n          });\r\n\r\n          dialog = new DialogView({\r\n            standardHeader: false,\r\n            view: view,\r\n            fullSize: true\r\n          });\r\n          view.render();\r\n\r\n          //\r\n          // Comment out code below because on a real server with SSO, it always fails.\r\n          // The iframe load event is triggered 3 times:\r\n          // - The first 2 times have undefined location. Thus, error is triggered.\r\n          // - Only the third time has href pointing to the csui.ticket URL.\r\n          //\r\n          //view.el.addEventListener('load', function () {\r\n          //  try {\r\n          //    // If we cannot access the URL, the iframe was blocked by the content security policy.\r\n          //    var href = !!this.contentWindow.location.href;\r\n          //  } catch (error) {\r\n          //    reportError(error);\r\n          //  }\r\n          //});\r\n\r\n          dialog.show({render: false});\r\n          dialog.$el.css({'z-index': '1061'});  // higher than popover\r\n          dialog.$el.addClass('binf-hidden');\r\n          deferred.resolve();\r\n        }, deferred.reject);\r\n        return deferred.promise();\r\n      }\r\n\r\n      function removeIFrame() {\r\n        resumeBlockingView();\r\n        dialog && dialog.destroy();\r\n      }\r\n\r\n      function suppressBlockingView() {\r\n        require(['csui/controls/progressblocker/blocker'],\r\n            function (BlockingView) {\r\n              BlockingView.suppressAll();\r\n            });\r\n      }\r\n\r\n      function resumeBlockingView() {\r\n        require(['csui/controls/progressblocker/blocker'],\r\n            function (BlockingView) {\r\n              BlockingView.resumeAll();\r\n            });\r\n      }\r\n\r\n      function receiveMessage(event) {\r\n        if (event.origin !== urlOrigin) {\r\n          return;\r\n        }\r\n        if (event.data.ticket) {\r\n          log.debug('Redirecting Form Authenticator received new ticket.') && console.log(log.last);\r\n          window.removeEventListener('message', receiveMessage, false);\r\n          timer && clearTimeout(timer);\r\n          timer = undefined;\r\n          removeIFrame();\r\n          var session = self.connection.session || (self.connection.session = {});\r\n          session.ticket = event.data.ticket;\r\n          succeeded && succeeded(self.connection);\r\n        }\r\n      }\r\n\r\n      window.addEventListener('message', receiveMessage, false);\r\n      createIFrame()\r\n          .done(waitForLogin);\r\n\r\n      function waitForLogin() {\r\n        // If the server doesn't post a message after a few seconds, show the OTDS page.\r\n        timer = setTimeout(enableInteactiveLogin, authenticationIFrameTimeout);\r\n      }\r\n\r\n      function enableInteactiveLogin() {\r\n        // Show modal dialog containing the iFrame that shows the OTDS login page.\r\n        if (dialog) {\r\n          dialog.$el.removeClass('binf-hidden');\r\n          suppressBlockingView();\r\n        }\r\n      }\r\n\r\n      function reportError(error) {\r\n        require(['csui/dialogs/modal.alert/modal.alert'\r\n        ], function (ModalAlert) {\r\n          ModalAlert.showError(error.message);\r\n        });\r\n        failed(error, self.connection);\r\n      }\r\n    }\r\n  });\r\n\r\n  return RedirectingFormAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/core.authenticators',[\r\n  'module', 'csui/lib/underscore',\r\n  'csui/utils/authenticators/ticket.authenticator',\r\n  'csui/utils/authenticators/basic.authenticator',\r\n  'csui/utils/authenticators/credentials.authenticator',\r\n  'csui/utils/authenticators/regular.header.authenticator',\r\n  'csui/utils/authenticators/initial.header.authenticator',\r\n  'csui/utils/authenticators/interactive.credentials.authenticator',\r\n  'csui/utils/authenticators/redirecting.form.authenticator'\r\n], function (module, _, TicketAuthenticator, BasicAuthenticator,\r\n     CredentialsAuthenticator, RegularHeaderAuthenticator,\r\n     InitialHeaderAuthenticator, InteractiveCredentialsAuthenticator,\r\n     RedirectingFormAuthenticator) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n      .config['csui/utils/interactiveauthenticator'] || {},\r\n      enableInteractiveAuthenticator = config.enabled,\r\n      originalConfig = module.config();\r\n  config = _.extend({\r\n    // If there is no ticket, show a modal dialog with a login form and\r\n    // allow the user to enter credentials and get a ticket.\r\n    enableInteractiveAuthenticator: originalConfig.enableRedirectingFormAuthenticator === undefined &&\r\n                                    enableInteractiveAuthenticator !== false,\r\n    // If there is no ticket, try to get it using a request in a hidden\r\n    // iframe. Using response redirection it either posts back a ticket\r\n    // automatically, or it renders a login form and waits. The iframe\r\n    // will be shown to the user, who will log in manually and let the\r\n    // redirection to the pahe posting back tyhe ticket continue.\r\n    enableRedirectingFormAuthenticator: false,\r\n    // Even if there are no credentials, use Basic Authenticaton and hope\r\n    // for satisfying the authentication challenge later.\r\n    forceBasicAuthenticator: false,\r\n    // If credentials are provided, use Basic Authenticstion for all calls\r\n    // instead of making just an initial call with them to get a ticket.\r\n    preferBasicAuthenticator: false,\r\n    // If custom headers are provided, use them for all calls\r\n    // instead of making just an initial call with them to get a ticket.\r\n    preferRegularHeaderAuthenticator: false\r\n  }, originalConfig);\r\n\r\n  // If no custom authentication means are detected, authentication\r\n  // will assume the native ticket. There are two authenticators, which\r\n  // can be enabled to prompt for login, or fetch the ticket\r\n  // automatically, is it is missing.\r\n  var FallbackAuthenticator =\r\n    config.enableInteractiveAuthenticator ?\r\n      InteractiveCredentialsAuthenticator :\r\n      config.enableRedirectingFormAuthenticator ?\r\n        RedirectingFormAuthenticator :\r\n        TicketAuthenticator;\r\n\r\n  return [\r\n    {\r\n      authenticator: BasicAuthenticator,\r\n      sequence: 50,\r\n      decides: function (connection) {\r\n        return config.forceBasicAuthenticator ||\r\n               connection.credentials && config.preferBasicAuthenticator;\r\n      }\r\n    },\r\n    {\r\n      authenticator: RegularHeaderAuthenticator,\r\n      sequence: 50,\r\n      and: {\r\n        has: 'authenticationHeaders',\r\n        decides: function () {\r\n          return config.preferRegularHeaderAuthentication;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      authenticator: CredentialsAuthenticator,\r\n      has: 'credentials'\r\n    },\r\n    {\r\n      authenticator: InitialHeaderAuthenticator,\r\n      has: 'authenticationHeaders'\r\n    },\r\n    {\r\n      sequence: 1000,\r\n      authenticator: FallbackAuthenticator\r\n    }\r\n  ];\r\n});\r\n\n","csui.define('csui/utils/authenticator',[\r\n  'csui/utils/authenticators/ticket.authenticator'\r\n], function (TicketAuthenticator) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module in favour of depending\r\n  // on the connector automation, or using the new one.\r\n  return TicketAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/basicauthenticator',[\r\n  'csui/utils/authenticators/credentials.authenticator'\r\n], function (CredentialsAuthenticator) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module in favour of depending\r\n  // on the connector automation.\r\n  return CredentialsAuthenticator;\r\n});\r\n\n","csui.define('bundles/csui-models',[\r\n  // Models\r\n  'csui/models/action',\r\n  'csui/models/actions',\r\n  'csui/models/actionitem',\r\n  'csui/models/actionitems',\r\n  'csui/models/addabletype',\r\n  'csui/models/addabletypes',\r\n  'csui/models/ancestor',\r\n  'csui/models/ancestors',\r\n  'csui/models/authenticated.user',\r\n  'csui/models/authenticated.user.node.permission',\r\n  'csui/models/authentication',\r\n  'csui/models/clientsidecollection',\r\n  'csui/models/column',\r\n  'csui/models/columns',\r\n  'csui/models/datadefinition',\r\n  'csui/models/datadefinitions',\r\n  'csui/models/favorite2',\r\n  'csui/models/favorite2group',\r\n  'csui/models/favorite2groups',\r\n  'csui/models/favorites2',\r\n  'csui/models/favorite2column',\r\n  'csui/models/favorite2columns',\r\n  'csui/models/favorite.model',\r\n  'csui/models/member',\r\n  'csui/models/member/member.model',\r\n  'csui/models/member/membercollection',\r\n  'csui/models/members',\r\n  'csui/models/node/node.addable.type.collection',\r\n  'csui/models/node/node.model',\r\n  'csui/models/node.children2/node.children2',\r\n  'csui/models/node.columns2',\r\n  'csui/models/nodeancestors',\r\n  'csui/models/nodechildrencolumn',\r\n  'csui/models/nodechildrencolumns',\r\n  'csui/models/nodechildren',\r\n  'csui/models/node.actions',\r\n  'csui/models/nodes',\r\n  'csui/models/permission/nodepermission.model',\r\n  'csui/models/permission/nodeuserpermissions',\r\n  'csui/models/tool.item.config/tool.item.config.collection',\r\n  'csui/models/tool.item.mask/tool.item.mask.collection',\r\n  'csui/models/server.module/server.module.collection',\r\n  'csui/models/specificnodemodel',\r\n  'csui/models/view.state.model',\r\n  'csui/models/perspective/personalization.model',\r\n\r\n  // Model mixins\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/browsable/client-side.mixin',\r\n  'csui/models/browsable/v1.request.mixin',\r\n  'csui/models/browsable/v1.response.mixin',\r\n  'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/mixins/appcontainer/appcontainer.mixin',\r\n  'csui/models/mixins/autofetchable/autofetchable.mixin',\r\n  'csui/models/mixins/commandable/commandable.mixin',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/including.additional.resources/including.additional.resources.mixin',\r\n  'csui/models/mixins/node.autofetchable/node.autofetchable.mixin',\r\n  'csui/models/mixins/node.connectable/node.connectable.mixin',\r\n  'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  'csui/models/mixins/state.carrier/state.carrier.mixin',\r\n  'csui/models/mixins/state.requestor/state.requestor.mixin',\r\n  'csui/models/mixins/syncable.from.multiple.sources/syncable.from.multiple.sources.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/autofetchable',\r\n  'csui/models/connectable',\r\n  'csui/models/fetchable',\r\n  'csui/models/including.additional.resources',\r\n  'csui/models/nodeautofetchable',\r\n  'csui/models/nodeconnectable',\r\n  'csui/models/noderesource',\r\n  'csui/models/resource',\r\n  'csui/models/uploadable',\r\n  'csui/models/utils/v1tov2',\r\n  'csui/models/version',\r\n  'csui/models/version',\r\n  'csui/models/version',\r\n  'csui/models/widget/widget.collection',\r\n  'csui/models/widget/widget.model',\r\n  'csui/models/zipanddownload/zipanddownload.preflight',\r\n  'csui/models/zipanddownload/zipanddownload.stages',\r\n\r\n  // TODO: Remove this private module, once\r\n  // csui/models/widget/search.results/search.metadata/search.columns\r\n  // stops their bad practice.\r\n  'i18n!csui/models/impl/nls/lang',\r\n\r\n  // Utilities\r\n  'csui/utils/base',\r\n  'csui/utils/mime.types',\r\n  'csui/utils/classic.nodes/classic.nodes',\r\n  'csui/utils/connector',\r\n  'csui/utils/defaultactionitems',\r\n  'csui/utils/promoted.actionitems',\r\n  'csui/utils/deepClone/deepClone',\r\n  'csui/utils/errormessage',\r\n  'csui/utils/headerauthenticator',\r\n  'csui/utils/interactiveauthenticator',\r\n  'csui/utils/log',\r\n  'csui/utils/messagehelper',\r\n  'csui/utils/namedlocalstorage',\r\n  'csui/utils/namedsessionstorage',\r\n  'csui/utils/namedstorage',\r\n  'csui/utils/nodesprites',\r\n  'csui/utils/node.info.sprites',\r\n  'i18n!csui/utils/impl/nls/lang',\r\n  'csui/utils/page.leaving.blocker',\r\n  'csui/utils/requestauthenticator',\r\n  'csui/utils/smart.nodes/smart.nodes',\r\n  'csui/utils/types/date',\r\n  'csui/utils/types/localizable',\r\n  'csui/utils/types/member',\r\n  'csui/utils/types/number',\r\n  'csui/utils/url',\r\n  'csui/utils/perspective/perspective.util',\r\n\r\n  // Authenticators\r\n  'csui/utils/authenticators/authenticator',\r\n  'csui/utils/authenticators/authenticators',\r\n  'csui/utils/authenticators/basic.authenticator',\r\n  'csui/utils/authenticators/core.authenticators',\r\n  'csui/utils/authenticators/credentials.authenticator',\r\n  'csui/utils/authenticators/initial.header.authenticator',\r\n  'csui/utils/authenticators/interactive.credentials.authenticator',\r\n  'csui/utils/authenticators/regular.header.authenticator',\r\n  'csui/utils/authenticators/request.authenticator',\r\n  'csui/utils/authenticators/ticket.authenticator',\r\n  'csui/utils/authenticator',\r\n  'csui/utils/basicauthenticator',\r\n  'csui/utils/headerauthenticator',\r\n  'csui/utils/interactiveauthenticator',\r\n  'csui/utils/requestauthenticator',\r\n\r\n  // Server Adaptors\r\n  // TODO: Move them to the csui-server-adaptors bundle.\r\n  'csui/models/authenticated.user/server.adaptor.mixin',\r\n  'csui/models/member/server.adaptor.mixin',\r\n  'csui/models/node/server.adaptor.mixin',\r\n  'csui/models/node.children/server.adaptor.mixin',\r\n  'csui/models/node.children2/server.adaptor.mixin',\r\n  'csui/utils/authenticators/server.adaptors/basic.mixin',\r\n  'csui/utils/authenticators/server.adaptors/credentials.mixin',\r\n  'csui/utils/authenticators/server.adaptors/initial.header.mixin'\r\n], {});\r\n\n"]}