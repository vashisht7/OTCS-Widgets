{"version":3,"sources":["../../src/models/widget/search.results/facet.server.adaptor.mixin.js","../../src/models/widget/search.results/search.facets.js","../../src/models/widget/search.results/object.to.model.js","../../src/widgets/search.custom/impl/form.view.js","../../src/widgets/search.custom/impl/customsearchform!hbs","../../src/widgets/search.custom/impl/customsearch.item!hbs","../../src/widgets/search.custom/impl/search.customFormView.js","../../src/widgets/search.custom/impl/search.customview.model.js","../../src/widgets/search.custom/impl/search.customview.factory.js","../../src/widgets/search.custom/impl/search.customquery.model.js","../../src/widgets/search.custom/impl/search.customquery.factory.js","../../src/widgets/search.custom/impl/nls/lang.js","../../src/widgets/search.custom/impl/nls/root/lang.js","../../src/widgets/search.custom/impl/customsearch.main!hbs","../../src/widgets/search.custom/impl/error.template!hbs","../../src/widgets/search.custom/impl/search.custom!css","../../src/widgets/search.custom/impl/search.object.view.js","../../src/widgets/search.custom/search.custom.view.js","../../src/controls/settings/impl/nls/lang.js","../../src/controls/settings/impl/nls/root/lang.js","../../src/controls/settings/available.columns/impl/available.columns!hbs","../../src/controls/settings/available.columns/impl/available.column!hbs","../../src/controls/settings/available.columns/available.columns.view.js","../../src/controls/settings/selected.columns/impl/selected.columns!hbs","../../src/controls/settings/selected.columns/impl/selected.column!hbs","../../src/controls/settings/selected.columns/selected.columns.view.js","../../src/controls/settings/summary.description/impl/summary.descriptions!hbs","../../src/controls/settings/summary.description/impl/summary.description!hbs","../../src/controls/settings/summary.description/summary.description.view.js","../../src/controls/settings/impl/settings.dropdown!hbs","../../src/controls/settings/impl/settings.dropdown.view.js","../../src/controls/settings/impl/settings!hbs","../../src/controls/settings/impl/settings!css","../../src/controls/settings/settings.view.js","../../src/widgets/search.results/controls/sorting/impl/nls/localized.strings.js","../../src/widgets/search.results/controls/sorting/impl/nls/root/localized.strings.js","../../src/widgets/search.results/controls/sorting/impl/sort.menu!hbs","../../src/widgets/search.results/controls/sorting/sort.menu.view.js","../../src/widgets/search.results/impl/nls/lang.js","../../src/widgets/search.results/impl/nls/root/lang.js","../../src/widgets/search.results/impl/search.results.header!hbs","../../src/widgets/search.results/impl/search.results.header.title!hbs","../../src/widgets/search.results/nls/lang.js","../../src/widgets/search.results/nls/root/lang.js","../../src/widgets/search.results/impl/search.results!css","../../src/widgets/search.results/impl/search.results.header.title.view.js","../../src/widgets/search.results/impl/search.results.header.view.js","../../src/widgets/search.results/impl/metadata/search.metadata!hbs","../../src/widgets/search.results/impl/metadata/search.metadata.view.js","../../src/widgets/search.results/impl/breadcrumbs/search.breadcrumbs!hbs","../../src/widgets/search.results/impl/breadcrumbs/search.breadcrumbs.view.js","../../src/widgets/search.results/impl/search.result!hbs","../../src/widgets/search.results/impl/search.empty!hbs","../../src/widgets/search.results/controls/expandall/impl/expandall!hbs","../../src/widgets/search.results/controls/expandall/impl/expandall!css","../../src/widgets/search.results/controls/expandall/expandall.view.js","../../src/widgets/search.results/impl/standard/standard.search.results.header!hbs","../../src/widgets/search.results/impl/standard/standard.search.results.header.view.js","../../src/widgets/search.results/impl/standard/standard.search.results.view.js","../../src/controls/table/rows/description/search.description.view.js","../../src/widgets/search.results/impl/tabular/tabular.search.results.view.js","../../src/models/widget/search.results/search.metadata/search.columns.js","../../src/widgets/search.results/impl/toolbaritems!csui-ext","../../src/widgets/search.results/impl/toolbaritems.js","../../src/widgets/search.results/toolbaritems.js","../../src/widgets/search.results/toolbaritems.masks.js","../../src/models/widget/search.results/search.settings/server.adaptor.mixin.js","../../src/models/widget/search.results/search.settings/search.settings.model.js","../../src/utils/contexts/factories/search.settings.factory.js","../../src/utils/contexts/factories/search.results.facets.factory.js","../../src/widgets/search.results/impl/search.results!hbs","../../src/widgets/search.results/search.results.view.js","../../src/widgets/search.custom/search.custom.manifest.json!json","../../src/widgets/search.results/search.results.manifest.json!json","../../src/widgets/search.custom/impl/nls/search.custom.manifest.js","../../src/widgets/search.custom/impl/nls/root/search.custom.manifest.js","../../src/widgets/search.custom/impl/nls/search.custom.manifest!i18n","../../src/widgets/search.results/impl/nls/search.results.manifest.js","../../src/widgets/search.results/impl/nls/root/search.results.manifest.js","../../src/widgets/search.results/impl/nls/search.results.manifest!i18n","csui-search.js"],"names":["csui","define","_","Url","FacetQueryMixin","convertFacets","facets","selected","map","facet","topics","facet_items","topic","name","display_name","total","count","value","id","type","items_to_show","mixin","prototype","originalSync","sync","extend","filterQueryParameterName","makeServerAdaptor","options","this","makeFacetQuery","cacheId","url","connector","getConnectionUrl","getApiBase","combine","method","model","query","toJSON","resetDefaults","orderBy","skipCount","previousQuery","attributes","where","previousOrderBy","topCount","getFilterParam","filters","getBrowsableParams","pagination","cache_id","contentType","data","traditional","apply","arguments","parse","response","results","featured","concat","parseBrowsedState","collection","_parseFacets","searching","sorting","parseBrowsedItems","available","reset","FacetCollection","ConnectableMixin","FetchableMixin","BrowsableV1RequestMixin","BrowsableV2ResponseMixin","ServerAdaptorMixin","SearchFacetCollection","constructor","models","makeConnectable","makeFetchable","makeBrowsableV1Request","makeBrowsableV2Response","clone","skip","top","deepClone","isFetchable","get","$","Backbone","RegionsModel","Model","RegionsModelCollection","Collection","displayRegions","each","item","isObject","region","isArray","module","Marionette","Alpaca","FormView","call","custom","adjustHeight","jQuery","that","customFlatten","x","result","prefix","v","k","test","customFilter","flattenData","objectList","getValues","customEndsWith","original_k","substr","lastIndexOf","push","string","substring","indexOf","length","list","flatten","$el","on","event","keyCode","target","trim","parent","stopImmediatePropagation","defaultValues","customView","trigger","triggerSearch","is","siblings","updateRenderedForm","onRenderForm","triggerMethod","onChangeField","window","which","hbs","Handlebars","t","template","1","depth0","helpers","partials","blockParams","depths","stack1","isSetType","hash","fn","program","inverse","2","helper","escapeExpression","lambda","modelId","index","helperMissing","4","compiler","main","fields","noop","useData","useDepths","registerPartial","base","CustomSearchFormView","CustomSearchTemplate","CustomSearchItemTemplate","ItemView","tag","className","errorHandle","onRender","e","_searchCustomFormViewEle","Region","el","find","formView","context","layoutMode","mode","templateId","show","objectView","SearchCustomModel","connection","nodeId","text","ModelFactory","ConnectorFactory","propertyPrefix","customSearch","getObject","config","defaults","customQuery","property","fetch","node","CustomViewFactory","SearchCustomQueryModel","root","en-us","en","searchButtonMessage","title","searchButton","messages","search","searchFormId","unless","hideSearchButton","errorMessage","SearchCustomFormView","BlockingBehavior","SearchQueryModelFactory","SearchCustomQueryFactory","lang","SearchObjectTemplate","errorTemplate","PerfectScrollingBehavior","NextNodeModelFactory","CompositeView","templateHelpers","uniqueId","behaviors","Blocking","behaviorClass","PerfectScrolling","contentParent","scrollYMarginOffset","savedSearchQueryId","getCollection","listenTo","render","handleError","change input","bind","_refreshDOM","ui","setTimeout","events","click .csui-custom-search-form-submit","parentView","schemaSearchTitle","titleElement","html","attr","customValues","updateCustomSearch","updatedValues","_searchCustomFormView","_triggerSearch","isSearchEnabled","_enableSearch","customFormView","blockActions","filter","values","val","error","message","addClass","emptyEl","append","hasClass","loadCustomSearch","removeClass","unblockActions","onFieldUpdated","updatedFormValues","dataModel","cloneUpdatedValues","dataVal","dataKey","Object","cVal","cKey","cV","cK","key","keyTokens","split","undefined","tempObj","parentAttr","parentObj","keyToken","queryModel","getModel","nextNode","isEmpty","history","pushState","location","href","clear","silent","params","curChild","childValue","childKey","forcePerspectiveChange","showInSearchResultsNewPerspective","resetPageDefaults","set","TileView","DefaultActionBehavior","SearchCustomObjectView","icon","titleBarIcon","contentViewOptions","contentView","DefaultAction","onShow","updateTitle","escapeHtml","summaryDescriptionTitle","columnSettingsTitle","selectColumns","searchBackToTooltip","searchBackToAria","addAvailableColumns","addColumnsAria","removeColumn","removeColumnAria","SearchBackToolTip","SearchBackAria","SummaryOnly","SummaryPreferred","DescriptionOnly","DescriptionPreferred","SummaryAndDescription","backToButtonTitle","backToButtonAria","label","AvailableColumnsTemplate","AvailableColumnTemplate","AvailableColumnsItemView","View","tabindex","role","aria-checked","triggers","click","keydown","stopPropagation","preventDefault","AvailableColumnsCollectionView","CollectionView","childView","childViewEvents","column:add","keydown:item","focusIndex","onColumnAdd","view","toggleClass","selectedItem","isNew","availableSelectedColumnsCollection","add","selectedColumnsCollection","findWhere","at","remove","settingsView","display_regions","pluck","join","onBeforeDestroy","onChildViewKeydown","focusables","closest","parents","SelectedColumnsCountView","templateContext","availableColumns","str","sformat","regions","columnsList","selectedColumnsCountView","backArrow","keydown @ui.backArrow","click @ui.backArrow","suppressScrollX","onKeyDownArrow","showSelectedColumns","onKeyInView","availableColumnsCollectionView","showSettings","selectedColumnView","showChildView","backButtonTitle","backButtonAria","isRemovable","TabableRegionBehavior","AvailableColumnsView","TableView","SelectedColumnsTemplate","SelectedColumnTemplate","SelectedColumnItemView","data-value","removeBtn","click @ui.removeBtn","nonRemovable","isTabularView","findIndex","SelectedColumnsCollectionView","childViewOptions","column:remove","onColumnRemove","availableColumnsCollection","css","currentCard","outerHeight","attachHtml","collectionView","attachDragListeners","removeAttr","_getItemKey","me","subItem","removeDragline","_dropAfter","_dragData","sourceKey","currentTarget","originalEvent","dataTransfer","setData","dragline","h","height","offsetY","after","before","onSubItemDrop","scope","keyDragSource","targetKey","sourceModel","targetModel","sourceIndex","targetIndex","children","isChanged","onSubItemPaste","addButton","isMac","isMacintosh","metaKey","ctrlKey","shiftKey","backButton","click @ui.addButton","onKeydownBackArrow","showSettingsView","document","activeElement","selectedColumnsCollectionView","showAvailableColumns","settingsDropDownView","searchSettingsModel","settings","tableCollection","checked","itemTemplate","SummaryDescriptionItemView","_nameResolver","itemContainer","click @ui.itemContainer","keydown @ui.itemContainer","SummaryDescriptionCollectionView","onChildviewClickItemContainer","selectSummary","unset","summary_description","selectedCollection","onChildviewKeydownItemContainer","backArrowElement","currentlyFocusedElement","tabElements","prop","self","availableCollection","onClickBackArrow","onKeyPressBackArrow","summaryDescriptionCollectionView","SelectedColumnsView","SummaryDescriptionView","SettingsDropDownOptionView","tagName","click a","keydown a","showColumnsSettings","display","showSummaryOrDescription","originatingView","show:settings:dropdown","show:settings","onShowSettings","onShowSettingsDropdown","3","showDefaults","require","i18n","SettingsDropDownView","plugins","setting","settingsDropDownContainer","selectedColumnsContainer","availableColumnsContainer","summaryOrDescriptionContainer","plugin","optionsCollection","prevModel","JSON","stringify","regionName","isCardChanging","animate","current","next","one","sortBy","sortByThis","sortOptionsAria","ascending","descending","sortButtonAria","listAria","sortEnable","log","constants","DEFAULT_SORT","enableSorting","SORT_ASC","SORT_DESC","click .binf-dropdown-menu > li > a","click a.search-sort-btn","toggle","selectedLabel","selectedIcon","sortOrderBtn","setOrder","_refreshSelection","_updateSelection","binf_dropdown","hide","links","sort","_setSelection","_addDropdownItems","titleD","titleA","orderClicked","sortObj","replace","order","trimSortOptionName","titleVal","inMetadataNavigationView","isSortOptionSelected","resetCollection","autoFetch","sortPage","idVal","activeOption","jqUl","id2Use","nam","activate","element","parentElement","resetSelection","onSortOptionClick","innerHTML","toLowerCase","onSortOrderClick","loadingSearchResultMessage","noSearchResultMessage","searchQueryKeyboardShortcut","suggestionKeyword","searchSuggestion1","searchSuggestion2","searchSuggestion3","searchSuggestion4","failedSearchResultMessage","owner","created","createdBy","modified","size","items","searchResults","searchSettings","clearAll","about","expandAll","collapseAll","relevance","creationDate","showMore","showMoreAria","showLess","showLessAria","selectAll","selectAllAria","selectItem","selectItemAria","searchBackTooltip","searchBackTooltipTo","searchBackToHome","versionLabel","versionSeparator","filterExpandTooltip","filterCollapseTooltip","filterExpandAria","filterCollapseAria","customSearchTab","searchFilterTab","mimeTypeAria","itemBreadcrumbAria","formatForNone","formatForOne","formatForTwo","formatForFive","promotedLabel","dialogTitle","dialogTemplate","standardSearchView","tabularSearchView","showDescription","hideDescription","descriptionColumnTitle","summaryColumnTitle","filterAria","searchFilterTooltip","settingsLabel","spritePath","enableSearchFilter","descriptionTitle","tabularViewIconTitle","aboutNHits","ToolbarItemReserve","ToolbarItemUnreserve","publicLang","resultTitle","customSearchTitle","headerCount","searchHeaderCountLive","_assignTotalItemElem","countTxt","countTxtAria","empty","countTextAria","_updateSearchResultsTitle","searchHeaderTitle","tooltipText","useCustomTitle","setCustomSearchTitle","resultsTitle","PreviousNodeModelFactory","NamedSessionStorage","NodeCollection","UserModelFactory","Accessibility","PerspectiveRouting","SettingsView","GlobalMessage","SortingView","headerTemplate","ApplicationScopeModelFactory","TitleView","ViewEventsPropagationMixin","sprite","searchSortingRegion","accessibleTable","isAccessibleTable","SearchHeaderView","LayoutView","enableFacetFilter","enableSearchSettings","prevSearchDisplayStyle","getSpritePath","back","filterParent","settingsMenu","toggleResultsView","toggleDescription","click @ui.back","click @ui.parent","keypress @ui.back","click @ui.filter","keypress @ui.filter","click @ui.filterParent","click @ui.settingsMenu","keydown @ui.settingsMenu","click @ui.toggleResultsView","keypress @ui.toggleResultsView","click @ui.toggleDescription","keypress @ui.toggleDescription","settingsRegion","namedSessionStorage","localStorage","updateHeader","_collectionItemRemoved","previousNode","searchQuery","applicationScope","previous","_isPreviousRouter","storage","getItem","_createSearchDisplayStyleKey","initialize","titleView","renderTitleView","updateToggleIcon","updateToggleDescriptionIcon","updateToggleDescription","_createSortRegion","_createSortingView","targetView","getAdditionalColumns","descriptiveItems","summaryItems","showDescriptionFlag","selectedSettings","showDescriptions","rendered","enableBackButton","backButtonToolTip","getInstance","hasRouted","state","_isViewStateModelEnabled","_setBackButtonTitle","tableRowSelectionToolbarRegion","_createToolbarRegion","_updateToolbarActions","totalCount","result_title","triggerMethodOn","destroy","showSettingsDropdown","_createSettingsDropdown","classList","contains","isDestroyed","cid","_closeSettingsMenu","_destroySettingsDropdown","propagateEventsToViews","isVisible","descriptionRowViewOptions","showSummaryOnly","selectedItems","_allSelectedNodes","_tableRowSelectionToolbarView","off","formData","FormData","mapObject","save","processData","cache","done","settings_changed","executeEndProcess","fail","Error","showMessage","standardHeaderView","expandAllView","pageChange","_isExpanded","regionModelCollection","tableColumns","availableModel","newSequence","has","onToggleDescriptionClick","toggleView","_prevSearchDisplayStyleLocalStorage","sortingView","viewStateModel","CONSTANTS","LAST_ROUTER","_syncStorage","searchDisplayStyle","info","METADATA_CONTAINER","location_id1","originalCount","onClickBack","backButtonClicked","restoreLastRouter","onClickFilter","hostname","srcUrl","getAbsolute","userID","cellViewFactory","cellView","date","SearchMetadataItemView","_index","displayCount","rowId","CellView","getCellView","columnClassName","column","metadataView","searchItemModel","metadataValue","getValueData","formattedValue","nameAria","fieldsToBeHiddenOnHover","childDisplayCount","desc","summary","child","comparator","bindUIElements","node_link_url","subcrumbTooltip","crumbs","SearchResultsBreadCrumbTemplate","NodeLinks","TabableRegion","_breadcrumbSelector","isRtl","crumbModels","i","_getAncestorUrl","_adjustToFit","accLastBreadcrumbElementFocused","accNthBreadcrumbElementFocused","resizeTimer","_onWindowResize","crumbModel","getUrl","clearTimeout","isTabable","breadcrumbElements","synchronizeCollections","allBreadcrumbElements","refresh","hasPromoted","getElementsByClassName","availableWidth","offsetWidth","childs","ddChilds","lastEle","widthOfPromotedLabel","hideAndShowCrumbs","outerWidth","offsetLeft","_getMaxDisplayWidth","_getDisplayWidth","displayWidth","onClickAncestor","versions","version_number_name","5","promoted_label","7","9","version_id","11","defaultActionUrl","has_promoted","OTName","inactiveclass","has_version","showBreadcrumb","click @ui.expandAllSelector","expandAllSelector","expandIcon","expandAllLabelText","_eleCollapse","_eleExpand","layoutView","updateScrollbar","TableToolbarView","ExpandAllView","CheckboxView","SelectedCountView","NodeModel","StandardSearchResultsHeaderView","expandAllRegion","sortRegion","selectAllRegion","toolbarRegion","selectedCounterRegion","resultsView","_updateToolItems","setSelectAllView","setSortingView","setExpandAllView","_setToolBar","_setSelectionCounterView","_removeAllSelections","_refreshEle","toolbarView","_selectAllView","selectedCounterView","parentNode","toolbarItems","toolbarItemsMasks","container","toolbarCommandController","commandController","onKeyInViewInToolbarView","nodes","updateForSelectedChildren","scrollableParent","_updateRowsState","_rowStates","RowStatesSelectedRows","updateModels","Array","newSelectedModelIds","without","_calculateSelectAllCheckedStatus","disabled","ariaLabel","cancel","forEach","modelID","selectedModelIds","newlySelected","_updateSelectAllCheckbox","setChecked","setDisabled","selectedItemCollection","all","BlockingView","FavoritesView","NodeStateCollectionView","nodeStateIcons","SearchMetadataView","TableActionBarView","NodeSpriteCollection","NodeTypeIconView","BreadcrumbsView","NodeAncestorCollection","SearchMetadataFactory","emptyTemplate","nodeLinks","enableBreadcrumb","showInlineActionBarOnHover","forceInlineActionBarOnClick","inlineActionBarStyle","SearchStaticUtils","isAppleMobile","mimeTypes","rtl","NoSearchResultView","SearchResultItemView","hasVersioned","favRegion","selectionRegion","searchMetadataRegion","breadcrumbRegion","nodeStateRegion","descriptionField","summaryField","modifiedByField","metadataDetails","inlineToolbarContainer","inlineToolbar","arrowIcon","click .csui-search-item-link","click .csui-search-version-label","click .icon-expandArrowUp","click .icon-expandArrowDown","defaultActionController","checkModelHasAction","hasAction","inActiveClass","createdby","isLocationColumnAvailable","promotedText","showOwner","hasOwnProperty","promoted_text","itemBreadcrumb","openSearchItem","mime_type","_hiddenMetadataElements","mimType","mimeTypeSearch","findTypeByNode","collection_id","mime_type_search","ancestors","ancLen","parentName","hasVersion","hasBestBet","toString","rowStates","addOwnerDisplayName","addCreatedUserDisplayName","StandardSearchResultsView","_selectionChanged","changed","updateItemdetails","metadataModels","searchMetadataView","metadata","_hoverStart","_hoverEnd","showInlineActions","hideInlineActions","rowStatesModel","deselected","difference","_checkboxView","initActionViews","favView","focusable","tableView","checkboxTitle","checkboxAriaLabel","selectable","_markAsSelected","addBreadcrumbs","_getEnabledNodeStateIcons","nodeStateIconsPrototype","getPrototypeOf","iconModel","IconView","enabled","warn","console","last","select","modelRemoved","autofetch","breadcrumbsView","startSubCrumbs","getAncestors","completeCollection","showAsLink","fetched","opts","ancestorOptions","newAncestors","enabledStateIcons","nodeStateView","meta","current_version","version_type","nodesCount","_nodeIconView","description","hasVer","srMetadata","bestBets","hasNickName","nickName","stateViews","getElementsByTagName","_toggleExpand","buttonEl","hasDescription","hasDescriptionText","hasSummary","ownerDisplayName","owner_user_id_expand","getDisplayName","owner_display_name","createUserDisplayName","create_user_id_expand","create_user_display_name","userInfo","name_formatted","textContent","versionId","selectedRow","args","sender","openVersionHistory","selectedNode","showMetadataInfo","hideMetadataInfo","headerView","emptyView","emptyViewOptions","emptyModel","childEvents","click:item","setRowStates","setInlineActionBarEvents","setStandardSearchHeaderView","_focusOnFirstSearchResultElement","renderMetadataModels","delegate","facetView","_refreshDom","width","sortedColumns","_showInlineActionBar","_savedHoverEnterArgs","parentId","inlineToolbarView","commands","delayedActions","toolItemsMask","toolbars","containerCollection","notOccupiedSpace","_toolbarCommandExecuted","_showInlineActionBarWithDelay","_actionBarShouldDestroy","_destroyInlineActionBar","_view","_showInlineActionbarTimeout","onClickItem","onScrollTop","scrollTop","DescriptionView","modded","summaryModded","summaryTitle","originalDescription","originalSummary","hhRegEx","hhEndRegEx","hhRegExSum","hhEndRegExSum","complete_description","current_description","complete_summary","current_summary","search_description","search_summary","summary_description_available","descriptionAvailable","DescriptionRowView","TableRowSelectionToolbarView","toggleDetails","mouseup @ui.toggleDetails","keypress @ui.toggleDetails","mouseup .binf-table > thead > tr > th:not(.sorting_disabled)","keypress .binf-table > thead > tr > th:not(.sorting_disabled)","columns","getSettings","selectedSummary","pageSize","filterBy","actionItems","descriptionRowView","firstColumnIndex","lastColumnIndex","showSummary","collapsedHeightIsOneLine","displayInEntireRow","descriptionColspan","blockingParentView","inlineBar","viewClass","tabularInlineToolbar","inlineBarStyle","forceInlineBarOnClick","showInlineBarOnHover","allSelectedNodes","customLabels","_showEmptyViewText","showDetailRowDescriptions","_setTableViewEvents","setTableRowSelectionToolbar","toolItemFactory","tableHeaderToolbar","toolbarItemsMask","showSelectionCounter","_setTableRowSelectionToolbarEventListeners","onPropertiesViewDestroyed","cancelAnyExistingInlineForm","selectedNodes","selectedModels","slice","fixedFilterOnChange","clearFilter","setFilter","clearFilterOnChange","resetOrderOnChange","resetOrder","resetLimitOnChange","resetLimit","tableToolbarView","_onSelectionUpdateCssClasses","unselectedNodes","unselectedNode","executeAction","enableDragNDrop","row","rowdragNDrop","setDragNDrop","_assignDragArea","expandedRows","showCondensedHeaderToggle","selectedChildren","showingBothToolbars","_selectedCountView","_rightToolbarView","selectionLength","stopTriggerToolbarActivity","$rowSelectionToolbarEl","headerVisible","_tableRowSelectionToolbarVisible","redraw","onTableSortClick","onToggleOrChangePageSize","onMetadataNavigationViewDestroyed","metadataColumnModel","idAttribute","sequence","metadataColumnCollection","getColumnKeys","titleIconInHeader","permanentColumn","isNaming","column_key","version","noTitleInHeader","favorite","extraToolItems","moduleToolItems","ToolItemsFactory","TooItemModel","oldExtraToolItems","addExtraToolItems","toolItems","targetToolbar","toolItem","addItem","filterToolbar","signature","ToolbarItemFilter","svgId","addTrailingDivider","ToolbarItemInfo","ToolbarItemCopyLink","edit","ToolbarItemEdit","flyout","promoted","share","ToolbarItemSendTo","group","ToolbarItemShare","ToolbarItemEmailLink","ToolbarItemRename","onlyInTouchBrowser","ToolbarItemPermissions","ToolbarItemDownload","ToolbarItemCopy","ToolbarItemMove","ToolbarItemAddVersion","ToolbarCollect","ToolbarItemDelete","ToolbarItemRemoveCollectionItems","MenuItemZipAndDownload","shortcut","ToolbarItemOriginalCopyLink","ToolbarItemOriginalEdit","ToolbarItemOriginalShare","ToolbarItemOriginalReserve","ToolbarItemOriginalUnreserve","ToolbarItemOriginalCopy","ToolbarItemOriginalMove","ToolbarItemOriginalDownload","ToolbarItemOriginalDelete","maxItemsShown","dropDownIcon","dropDownSvgId","dropDownText","ToolbarItemMore","addGroupSeparators","lazyActions","otherToolbar","other","versionToolItems","ToolItemMask","GlobalMenuItemsMask","ToolbarItemsMasks","globalMask","reduce","toolbar","mask","normalize","source","extendMask","storeMask","queryString","SearchSettingsModel","CollectionFactory","SearchSettingsCollection","autoreset","searchFacets","stateEnabled","showFacetPanel","enableCustomSearch","loadingMessage","SearchResultsCollectionFactory","LayoutViewEventsPropagationMixin","HeaderView","TabularSearchResultsView","NodeChildrenColumnModel","PaginationView","SearchObjectView","SearchSettingsFactory","SearchResultFacetCollectionFactory","PropertiesCommand","ToolbarCommandController","layoutTemplate","defaultActionItems","NamedLocalStorage","ModalAlert","FacetPanelView","FacetBarView","SearchResultsView","toolBarContainer","customSearchContainer","customViewTab","facetViewTab","searchResultsContent","searchResultsBody","searchSidePanel","loadingEle","click @ui.customViewTab","click @ui.facetViewTab","keypress @ui.customViewTab","keypress @ui.facetViewTab","mouseup .csui-paging-navbar > ul > li:not(.csui-overflow) > a","keypress .csui-paging-navbar > ul > li:not(.csui-overflow) > a","mouseup .csui-pagesize-menu ul.csui-dropdown-list a","keypress .csui-pagesize-menu ul.csui-dropdown-list a","headerRegion","resultsRegion","paginationRegion","standardHeaderRegion","customSearchRegion","facetBarRegion","facetRegion","namedLocalStorage","getPageSize","_originalScope","getResourceScope","doLoadSearchSettings","loadSearchSettings","setResourceScope","getDefaultResourceScope","setDefaultActionCommands","getAllCommandSignatures","setEnabledDelayRestCommands","request","setLimit","_toggleCustomSearch","_beforeExecuteCommand","PrevSearchDisplayStyle","setSearchHeader","_completeFilterCommand","_focusFilter","_resetTargetView","detached","facetFilters","setCustomSearchView","customSearchView","updateHeaderTitle","imbue","_updatePanels","fetchFacets","paginationView","nodeChange","onSearchResultsFailed","resetScrollToTop","_persistState","executePreProcess","prevPageSize","setPagination","isMozilla","propagateEventsToRegions","onWinRefresh","windowRefresh","listenToOnce","completeArea","getBoundingClientRect","left","setTargetView","_setFacetBarView","facetBarView","correctFilterAria","updateActionToolBar","unblockSearchResultsActions","collectionEvents","updateLayoutView","selectedPageSize","stopClosingSearchBox","defaultDDList","onChangePage","targetPageTab","parseInt","currentPageNum","currentTemplate","setTabularSearchView","setStandardSearchView","headerEle","emptyTableText","RequestErrorMessage","showError","status","selectedTab","execute","always","collectionChange","onPermissionViewDestroyed","customSearchViewModel","keys","_transitionEnd","showTitle","openCustomView","openFacetView","ensureFetched","_ensureFacetPanelViewDisplayed","onDestroy","showSearchSettingsButton","searchString","getDescriptionColumn","getSummaryColumn","removeDescriptionColumn","removeSummaryColumn","sortable","definitions_order","command","toolItemView","commandSignature","allowCollectionRefetch","_setFacetPanelView","blockingLocal","_removeFacetFilter","_removeAll","_checkSelectionAndApplyFilter","_removeFacetPanelView","_handleFacetBarVisible","_handleFacetBarHidden","confirmQuestion","_addToFacetFilter","addFilter","setDefaultPageNum","removeFilter","flag","panelPosition","showSidePanel","isMSBrowser","once","transition","transitions","WebkitTransition","MozTransition","OTransition","createElement","style","$schema","kind","schema","properties","required","type_control","parameters","select_types","actions","toolItemMasks","widgetTitle","widgetDescription","savedSearchQueryTitle","savedSearchQueryDescription","otherToolbarTitle","otherToolbarDescription","inlineToolbarTitle","inlineToolbarDescription","styleLoad"],"mappings":"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","file":"csui-search.js","sourcesContent":["csui.define('csui/models/widget/search.results/facet.server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url',\r\n  'csui/models/node.facets/facet.query.mixin'\r\n], function (_, Url, FacetQueryMixin) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      FacetQueryMixin.mixin(prototype);\r\n      var originalSync = prototype.sync;\r\n\r\n      return _.extend(prototype, {\r\n        filterQueryParameterName: 'filter',\r\n\r\n        makeServerAdaptor: function (options) {\r\n          return this.makeFacetQuery(options);\r\n        },\r\n\r\n        cacheId: '',\r\n\r\n        url: function () {\r\n          var url = this.connector.getConnectionUrl().getApiBase('v2');\r\n          return Url.combine(url, 'search');\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          var query = this.options.query.toJSON();\r\n          //Global Search\r\n          if (!!this.options.query.resetDefaults) {\r\n            this.orderBy = \"\";\r\n            this.skipCount = 0;\r\n            this.options.query.resetDefaults = false;\r\n          } else {\r\n            this.orderBy = ((this.orderBy) &&\r\n                            (this.previousQuery !== this.options.query.attributes.where)) ? \"\" :\r\n                           this.orderBy;\r\n            this.skipCount = (this.previousOrderBy !== this.orderBy) ? 0 : this.skipCount;\r\n            this.topCount = this.options.topCount ? this.options.topCount : 10;\r\n          }\r\n\r\n          _.extend(query, this.getFilterParam(this.filters)); // returns an object with facets array\r\n          _.extend(query, this.getBrowsableParams()); // returns object containing browsable_params\r\n          query.options = '{\\'facets\\'}';\r\n\r\n          // consider cache_id only while sorting and pagination.\r\n          if ((!!this.orderBy || !!this.pagination) && !!this.cacheId) {\r\n            query.cache_id = this.cacheId;\r\n            this.pagination = false; // reset pagination to default.\r\n          }\r\n\r\n          _.extend(options, {\r\n            type: 'POST',\r\n            contentType: 'application/x-www-form-urlencoded',\r\n            data: query,\r\n            traditional: true\r\n          });\r\n          return originalSync.apply(this, arguments);\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          response.results = response.featured ? response.featured.concat(response.results) :\r\n                             response.results;\r\n          this.parseBrowsedState(response.collection, options);\r\n          //Create search facets\r\n          this._parseFacets(response.collection.searching.facets);\r\n          response.results.sorting = response.collection.sorting;\r\n          this.cacheId = (!!response.collection && !!response.collection.searching &&\r\n                          !!response.collection.searching.cache_id) ?\r\n                         response.collection.searching.cache_id : \"\";\r\n          return this.parseBrowsedItems(response, options);\r\n        },\r\n\r\n        _parseFacets: function (facets) {\r\n          var topics;\r\n          if (facets) {\r\n            topics = convertFacets(facets.selected, true)\r\n                .concat(convertFacets(facets.available, false));\r\n          }\r\n          this.reset(topics);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  function convertFacets(facets, selected) {\r\n    return _.map(facets, function (facet) {\r\n      var topics = _.map(facet.facet_items, function (topic) {\r\n        return {\r\n          name: topic.display_name,\r\n          total: topic.count,\r\n          value: topic.value,\r\n          selected: selected\r\n        };\r\n      });\r\n      return {\r\n        id: facet.name,\r\n        name: facet.display_name,\r\n        type: facet.type,\r\n        topics: topics,\r\n        items_to_show: 5\r\n      };\r\n    });\r\n  }\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n  \r\n\n","csui.define('csui/models/widget/search.results/search.facets',[\r\n  'csui/lib/underscore', 'csui/models/facets',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/browsable/v1.request.mixin', 'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/widget/search.results/facet.server.adaptor.mixin',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, FacetCollection, ConnectableMixin, FetchableMixin,\r\n    BrowsableV1RequestMixin, BrowsableV2ResponseMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var SearchFacetCollection = FacetCollection.extend({\r\n    constructor: function SearchFacetCollection(models, options) {\r\n      this.options = options || (options = {});\r\n      FacetCollection.prototype.constructor.apply(this, arguments);\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeBrowsableV1Request(options)\r\n          .makeBrowsableV2Response(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n    clone: function () {\r\n      return new this.constructor(this.models, {\r\n        connector: this.connector,\r\n        skip: this.skipCount,\r\n        top: this.topCount,\r\n        filters: _.deepClone(this.filters)\r\n      });\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return (!!this.options.query.get('where') || !!this.options.query.get('query_id'));\r\n    }\r\n  });\r\n\r\n  BrowsableV1RequestMixin.mixin(SearchFacetCollection.prototype);\r\n  BrowsableV2ResponseMixin.mixin(SearchFacetCollection.prototype);\r\n  ConnectableMixin.mixin(SearchFacetCollection.prototype);\r\n  FetchableMixin.mixin(SearchFacetCollection.prototype);\r\n  ServerAdaptorMixin.mixin(SearchFacetCollection.prototype);\r\n\r\n  return SearchFacetCollection;\r\n});\r\n\n","csui.define('csui/models/widget/search.results/object.to.model',['csui/lib/jquery', 'csui/lib/underscore', \"csui/lib/backbone\"\r\n], function ($, _, Backbone) {\r\n  \"use strict\";\r\n\r\n  var RegionsModel = Backbone.Model.extend({\r\n    constructor: function RegionsModel() {\r\n      Backbone.Model.apply(this, arguments);\r\n    }\r\n  });\r\n\r\n  var RegionsModelCollection = Backbone.Collection.extend({\r\n    model: RegionsModel,\r\n\r\n    constructor: function RegionsModelCollection() {\r\n      Backbone.Collection.apply(this, arguments);\r\n    },\r\n\r\n    isFetchable: false\r\n  });\r\n\r\n  var displayRegions = ['available', 'selected'];\r\n\r\n  var toModel = function (model) {\r\n    _.each(model, function(item) {\r\n      if (_.isObject(item)) {\r\n        displayRegions.map(function(region) {\r\n          if (item[region]) {\r\n            if (_.isArray(item[region])) {\r\n              item[region] = new RegionsModelCollection(item[region]);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n    return model;\r\n  };\r\n\r\n  return toModel;\r\n});\n","// Shows a form\r\ncsui.define('csui/widgets/search.custom/impl/form.view',['module', 'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/lib/alpaca/js/alpaca',\r\n  'csui/controls/form/form.view'\r\n], function (module, $, _, Marionette, Alpaca, FormView) {\r\n\r\n  var CustomSearchFormView = FormView.extend({\r\n    constructor: function CustomSearchFormView(options) {\r\n      this.options = options || {};\r\n      FormView.prototype.constructor.call(this, _.extend(options, {custom: {adjustHeight: true}}));\r\n      this.jQuery = $;\r\n      var that = this;\r\n      //Custom Flatten the array object of set categories\r\n      this.customFlatten = function (x, result, prefix) {\r\n        if (_.isObject(x)) {\r\n          _.each(x, function (v, k) {\r\n            that.customFlatten(v, result, k);\r\n          });\r\n        } else {\r\n          if (/^(anydate|anyvalue)/i.test(x)) {\r\n            x = \"\";\r\n          }\r\n          result[prefix] = x;\r\n        }\r\n        return result;\r\n      };\r\n\r\n      this.customFilter = function () {\r\n        var that        = this,\r\n            result      = [],\r\n            flattenData = that.customFlatten(that.objectList(that.getValues()), {});\r\n        if (_.isObject(flattenData)) {\r\n          _.each(flattenData, function (v, k) {\r\n            if (that.customEndsWith(k, '_DFrom') || that.customEndsWith(k, '_DFor') ||\r\n                that.customEndsWith(k, '_DTo')) {\r\n              var original_k = k.substr(0, k.lastIndexOf('_'));\r\n              if (!v && !!flattenData[original_k]) {\r\n                flattenData[original_k] = \"\";\r\n              }\r\n            }\r\n            if (v) {\r\n              result.push(v);\r\n            }\r\n          });\r\n        }\r\n        return result;\r\n      };\r\n\r\n      this.customEndsWith = function (string, substring) {\r\n        return string.indexOf(substring, string.length - substring.length) !== -1;\r\n      };\r\n\r\n      this.objectList = function (data) {\r\n        var list = [];\r\n        _.each(data, function (item) {\r\n          if (_.isObject(item)) {\r\n            list.push(item);\r\n          }\r\n        });\r\n        return _.flatten(list);\r\n      };\r\n\r\n      this.$el.on(\"keydown\", function (event) {\r\n\r\n        if (event.keyCode === 13 &&\r\n            (event.target.type === \"text\" || event.target.type === 'search') &&\r\n            event.target.value.trim() !== \"\") {\r\n          //handling typeahead field (userfield)\r\n          if ($(event.target).is('input.typeahead') &&\r\n              $(event.target).siblings('.typeahead.scroll-container:visible').length !== 0) {\r\n            return;\r\n          }\r\n          that.triggerSearch(event);\r\n        } else if (event.keyCode === 13 &&\r\n                   that.jQuery(\".binf-dropdown-menu\").parent(\".binf-open\").length >= 1) {\r\n          event.stopImmediatePropagation();\r\n        } else if (event.keyCode === 13) {\r\n          if (event.target.value === \"\") {\r\n            var defaultValues = that.customFilter();\r\n            if (!!defaultValues && defaultValues.length === 0) {\r\n              that.options.customView.trigger('enable:search', false);\r\n            } else {\r\n              that.triggerSearch(event);\r\n            }\r\n          } else {\r\n            that.options.customView.trigger('enable:search', true);\r\n          }\r\n        }\r\n      });\r\n\r\n      this.$el.on(\"keyup\", function (event) {\r\n        if (event.target.type === \"text\") {\r\n          if (event.target.value === \"\") {\r\n            var defaultValues = that.customFilter();\r\n            if (!!defaultValues && defaultValues.length === 0) {\r\n              that.options.customView.trigger('enable:search', false);\r\n            }\r\n          } else {\r\n            that.options.customView.trigger('enable:search', true);\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    triggerSearch: function (event) {\r\n        this.options.customView.trigger(\"trigger:search\");\r\n    },\r\n\r\n    updateRenderedForm: function () {\r\n      return false;\r\n    },\r\n\r\n    onRenderForm: function () {\r\n      this.options.customView.triggerMethod(\"render:form\");\r\n    },\r\n\r\n    onChangeField: function (event) {\r\n      var defaultValues = this.customFilter();\r\n      if (defaultValues.length === 0) {\r\n        this.options.customView.trigger('enable:search', false);\r\n      } else {\r\n        this.options.customView.trigger('enable:search', true);\r\n      }\r\n      if (window.event && (window.event.keyCode === 13 || window.event.which === 13)) {\r\n        if (!!event.value) {\r\n          this.options.customView.trigger('enable:search', true);\r\n          this.options.customView.triggerMethod(\"field:updated\");\r\n        } else {\r\n          if (!!defaultValues && defaultValues.length === 0) {\r\n            this.options.customView.trigger('enable:search', false);\r\n          } else if (defaultValues && defaultValues.length !== 0) {\r\n            this.options.customView.triggerMethod(\"field:updated\");\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n  return CustomSearchFormView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/widgets/search.custom/impl/customsearchform',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data,blockParams,depths) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.isSetType : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0, blockParams, depths),\"inverse\":this.program(4, data, 0, blockParams, depths),\"data\":data})) != null ? stack1 : \"\");\n},\"2\":function(depth0,helpers,partials,data,blockParams,depths) {\n    var helper;\n\n  return \"      <div class=\\\"binf-col-md-12 cs-form-singlecolumn cs-form-set\\\"\\r\\n           id=\\\"csfSingleCol_\"\n    + this.escapeExpression(this.lambda((depths[2] != null ? depths[2].modelId : depths[2]), depth0))\n    + this.escapeExpression(((helper = (helper = helpers.index || (data && data.index)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"index\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\"></div>\\r\\n\";\n},\"4\":function(depth0,helpers,partials,data,blockParams,depths) {\n    var helper;\n\n  return \"      <div class=\\\"binf-col-md-12 cs-form-doublecolumn\\\"\\r\\n           id=\\\"csfLeftCol_\"\n    + this.escapeExpression(this.lambda((depths[2] != null ? depths[2].modelId : depths[2]), depth0))\n    + this.escapeExpression(((helper = (helper = helpers.index || (data && data.index)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"index\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\"></div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data,blockParams,depths) {\n    var stack1;\n\n  return \"<div class=\\\"binf-row\\\">\\r\\n\"\n    + ((stack1 = helpers.each.call(depth0,(depth0 != null ? depth0.fields : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":this.program(1, data, 0, blockParams, depths),\"inverse\":this.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\";\n},\"useData\":true,\"useDepths\":true});\nHandlebars.registerPartial('csui_widgets_search.custom_impl_customsearchform', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/widgets/search.custom/impl/customsearch.item',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"csui-custom-search-formitems\\\"></div>\";\n}});\nHandlebars.registerPartial('csui_widgets_search.custom_impl_customsearch.item', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/widgets/search.custom/impl/search.customFormView',['csui/lib/marionette',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/utils/base',\r\n  'csui/widgets/search.custom/impl/form.view',\r\n  'hbs!csui/widgets/search.custom/impl/customsearchform',\r\n  'hbs!csui/widgets/search.custom/impl/customsearch.item'\r\n], function (Marionette, _, $, base, CustomSearchFormView, CustomSearchTemplate,\r\n    CustomSearchItemTemplate) {\r\n\r\n  var CustomSearchAttrItemView = Marionette.ItemView.extend({\r\n    tag: 'div',\r\n    className: \"customsearch-attr-container\",\r\n    constructor: function CustomSearchAttrItemView(options) {\r\n      options || (options = {});\r\n      this.options = options;\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      this.model.on('error', this.errorHandle, this);\r\n    },\r\n    template: CustomSearchItemTemplate,\r\n    onRender: function (e) {\r\n      var _searchCustomFormViewEle = new Marionette.Region({\r\n            el: this.$el.find('.csui-custom-search-formitems')\r\n          }),\r\n          formView                 = new CustomSearchFormView({\r\n            context: this.options.context,\r\n            model: this.model,\r\n            layoutMode: 'singleCol',\r\n            mode: 'create',\r\n            customView: this,\r\n            templateId: this.model.attributes.data.templateId\r\n          });\r\n      _searchCustomFormViewEle.show(formView);\r\n      this.formView = formView;\r\n    },\r\n    onRenderForm: function () {\r\n      this.options.objectView.triggerMethod(\"render:form\");\r\n      return;\r\n    }\r\n  });\r\n\r\n  return CustomSearchAttrItemView;\r\n\r\n});\r\n\n","csui.define('csui/widgets/search.custom/impl/search.customview.model',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/utils/url'\r\n], function (_, $, Backbone, ConnectableMixin, FetchableMixin, Url) {\r\n  var SearchCustomModel = Backbone.Model.extend({\r\n\r\n    constructor: function SearchCustomModel(attributes, options) {\r\n      options || (options = {});\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n      this.options = options;\r\n      this.makeConnectable(options).makeFetchable(options);\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(SearchCustomModel.prototype);\r\n  FetchableMixin.mixin(SearchCustomModel.prototype);\r\n  _.extend(SearchCustomModel.prototype, {\r\n\r\n    isFetchable: function () {\r\n      return !!this.options;\r\n    },\r\n\r\n    url: function () {\r\n      return Url.combine(this.connector.connection.url,\r\n          'nodes/' + this.options.nodeId + '/customviewsearchforms');\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      response.name = response.text;\r\n      return response;\r\n    }\r\n  });\r\n\r\n  return SearchCustomModel;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('csui/widgets/search.custom/impl/search.customview.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/widgets/search.custom/impl/search.customview.model'\r\n], function (module, _, Backbone, ModelFactory, ConnectorFactory, SearchCustomModel) {\r\n\r\n  var SearchCustomViewFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'customSearch',\r\n\r\n    constructor: function SearchCustomViewFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var customSearch = this.options.customSearch || {};\r\n      if (!(customSearch instanceof Backbone.Model)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config = module.config();\r\n        customSearch = new SearchCustomModel(customSearch.attributes || config.attributes, _.defaults({\r\n          connector: connector,\r\n          nodeId: options.customQuery.nodeId\r\n        }, customSearch.options, config.options));\r\n      }\r\n      this.property = customSearch;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  return SearchCustomViewFactory;\r\n\r\n});\r\n\n","csui.define('csui/widgets/search.custom/impl/search.customquery.model',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/utils/url'\r\n], function (_, $, Backbone, ConnectableMixin, FetchableMixin, Url) {\r\n  var SearchCustomModel = Backbone.Model.extend({\r\n\r\n    constructor: function SearchCustomModel(attributes, options) {\r\n      this.options = options || (options = {});\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n      this.makeConnectable(options).makeFetchable(options);\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(SearchCustomModel.prototype);\r\n  FetchableMixin.mixin(SearchCustomModel.prototype);\r\n\r\n  _.extend(SearchCustomModel.prototype, {\r\n\r\n    isFetchable: function () {\r\n      return this.options.node.isFetchable();\r\n    },\r\n\r\n    url: function () {\r\n      return Url.combine(this.connector.connection.url,\r\n          'searchqueries/' + this.get('id'));\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      response.name = response.text;\r\n      return response;\r\n    }\r\n  });\r\n\r\n  return SearchCustomModel;\r\n});\r\n\r\n\r\n\r\n\n","csui.define('csui/widgets/search.custom/impl/search.customquery.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/widgets/search.custom/impl/search.customview.factory',\r\n  'csui/widgets/search.custom/impl/search.customquery.model',\r\n  'csui/utils/contexts/factories/connector'\r\n], function (module, _, Backbone, ModelFactory, CustomViewFactory,\r\n    SearchCustomQueryModel, ConnectorFactory) {\r\n\r\n  var CustomQueryFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'customQuery',\r\n\r\n    constructor: function CustomQueryFactory(context, options) {\r\n      options || (options = {});\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var customQuery = this.options.customQuery || {};\r\n      if (!(customQuery instanceof Backbone.Model)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config    = module.config();\r\n        customQuery = new SearchCustomQueryModel(options.attributes, _.extend({\r\n          connector: connector\r\n        }, config.options, customQuery.options));\r\n      }\r\n      this.property = customQuery;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(this.options);\r\n    }\r\n\r\n  });\r\n\r\n  return CustomQueryFactory;\r\n\r\n});\r\n\n","csui.define('csui/widgets/search.custom/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/widgets/search.custom/impl/nls/root/lang',{\r\n  searchButtonMessage: \"Search\",\r\n  title: \"Custom View Search\"\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/widgets/search.custom/impl/customsearch.main',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"  <div class=\\\"csui-saved-search-submit-container\\\">\\r\\n    <button class=\\\"binf-btn binf-btn-primary csui-custom-search-form-submit\\\"\\r\\n            id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.searchButton || (depth0 != null ? depth0.searchButton : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"searchButton\",\"hash\":{}}) : helper)))\n    + \"\\\" value=\\\"Search\\\"> \"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.search : stack1), depth0))\n    + \" </button>\\r\\n  </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"csui-saved-search-form\\\" id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.searchFormId || (depth0 != null ? depth0.searchFormId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"searchFormId\",\"hash\":{}}) : helper)))\n    + \"\\\"></div>\\r\\n\"\n    + ((stack1 = helpers.unless.call(depth0,(depth0 != null ? depth0.hideSearchButton : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_widgets_search.custom_impl_customsearch.main', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/widgets/search.custom/impl/error.template',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"csui-error-icon-div\\\">\\r\\n  <div class=\\\"csui-error-icon-parent\\\">\\r\\n    <div class=\\\"csui-error-icon notification_error\\\"></div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"csui-suggestion\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.errorMessage || (depth0 != null ? depth0.errorMessage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"errorMessage\",\"hash\":{}}) : helper)))\n    + \"</div>\";\n}});\nHandlebars.registerPartial('csui_widgets_search.custom_impl_error.template', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/widgets/search.custom/impl/search.custom',[],function(){});\n","csui.define('csui/widgets/search.custom/impl/search.object.view',['csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/lib/backbone',\r\n  'csui/widgets/search.custom/impl/search.customFormView',\r\n  'csui/controls/tile/behaviors/blocking.behavior',\r\n  'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/widgets/search.custom/impl/search.customquery.factory',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'i18n!csui/widgets/search.custom/impl/nls/lang',\r\n  'hbs!csui/widgets/search.custom/impl/customsearch.main',\r\n  'hbs!csui/widgets/search.custom/impl/error.template',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'css!csui/widgets/search.custom/impl/search.custom.css'\r\n], function (_, $, Marionette, Backbone, SearchCustomFormView, BlockingBehavior,\r\n    SearchQueryModelFactory, SearchCustomQueryFactory, FetchableMixin, lang, SearchObjectTemplate,\r\n    errorTemplate, PerfectScrollingBehavior, NextNodeModelFactory) {\r\n\r\n  var SearchObjectView = Marionette.CompositeView.extend({\r\n    className: \"csui-custom-view-search\",\r\n\r\n    templateHelpers: function () {\r\n      var messages = {\r\n        search: lang.searchButtonMessage\r\n      };\r\n      var hideSearchButton = this.options.hideSearchButton ? this.options.hideSearchButton : false;\r\n      var searchFormId = this.searchFormId;\r\n      var searchButton = _.uniqueId(\"csui-custom-search-form-submit\");\r\n      return {\r\n        messages: messages,\r\n        hideSearchButton: hideSearchButton,\r\n        searchFormId: searchFormId,\r\n        searchButton: searchButton\r\n      };\r\n    },\r\n    behaviors: {\r\n      Blocking: {\r\n        behaviorClass: BlockingBehavior\r\n      },\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: \".csui-custom-search-formitems\",\r\n        scrollYMarginOffset: 15\r\n      }\r\n    },\r\n    constructor: function SearchObjectView(options) {\r\n      options = options || {};\r\n      options.data || (options.data = {});\r\n      this.context = options.context;\r\n      this.searchFormId = _.uniqueId(\"csui-saved-search-form\");\r\n      this.jQuery = $;\r\n      Marionette.CompositeView.prototype.constructor.apply(this, arguments);\r\n      if (!options.model) {\r\n        var savedSearchQueryId = options.data.savedSearchQueryId ||\r\n                                 options.savedSearchQueryId;\r\n        this.model = options.context.getCollection(SearchCustomQueryFactory, {\r\n          attributes: {\r\n            id: savedSearchQueryId\r\n          }\r\n        });\r\n        FetchableMixin.mixin(SearchCustomQueryFactory);\r\n      }\r\n      this.listenTo(this.model, \"sync\", this.render);\r\n      this.listenTo(this.model, 'error', this.handleError);\r\n\r\n      this.$el.on({\r\n        \"change input\": _.bind(this._refreshDOM, this)\r\n      });\r\n    },\r\n    ui : function() {\r\n     return { searchFormId : '#' + this.searchFormId };\r\n    },\r\n    _refreshDOM: function () {\r\n      setTimeout(_.bind(function () {\r\n        this.triggerMethod('dom:refresh');\r\n      }, this), 500);\r\n    },\r\n\r\n    template: SearchObjectTemplate,\r\n    events: {\r\n      \"click .csui-custom-search-form-submit\": \"loadCustomSearch\"\r\n    },\r\n    onRender: function (e) {\r\n      if (this.model.attributes && this.model.attributes.data) {\r\n        if (!!this.options.parentView) {\r\n          if (!!this.model.get(\"schema\").title) {\r\n            this.options.parentView.options.title = this.model.get(\"schema\").title;\r\n          } else {\r\n            //consider title from server in below precedence\r\n            //1. From server, 2. Widget options, 3. lang bundles\r\n            this.options.parentView.options.title = (!!this.options.parentView.options.data &&\r\n                                                     !!this.options.parentView.options.data.title) ?\r\n                                                    this.options.parentView.options.data.title :\r\n                                                    (this.options.parentView.options.title ||\r\n                                                     lang.title);\r\n          }\r\n          this.trigger(\"change:title\");\r\n        } else {\r\n          var schemaSearchTitle = !!this.model.get(\"schema\").title ?\r\n                                  this.model.get(\"schema\").title : lang.title;\r\n          if (!!this.options.titleElement) {\r\n            this.options.titleElement.html(schemaSearchTitle);\r\n            this.options.titleElement.attr(\"title\", schemaSearchTitle);\r\n          }\r\n        }\r\n        if (this.options.customValues) {\r\n          this.updateCustomSearch(this.options.customValues.updatedValues,\r\n              this.options.customValues.attributes, this.model.get(\"data\"));\r\n        }\r\n        this.options.objectView = this;\r\n        var _searchCustomFormView = new SearchCustomFormView(_.extend(this.options,\r\n            {model: this.model}));\r\n        this.listenTo(_searchCustomFormView, 'trigger:search', this._triggerSearch);\r\n        this.listenTo(_searchCustomFormView, 'enable:search', function (isSearchEnabled) {\r\n          this._enableSearch(isSearchEnabled);\r\n        });\r\n        var _searchCustomFormViewEle = new Marionette.Region({\r\n          el: this.ui.searchFormId\r\n        });\r\n        _searchCustomFormViewEle.show(_searchCustomFormView);\r\n        this.customFormView = _searchCustomFormView;\r\n        if (this.options && typeof this.blockActions === 'function') {\r\n          this.blockActions();\r\n        }\r\n        //Until user enters any value the search button should be in disable mode\r\n        var defaultValues = _.filter(_.flatten(_.map(this.model.get(\"data\"), _.values)),\r\n            function (val) {return val; });\r\n        if (!!defaultValues && defaultValues.length === 0) {\r\n          this._enableSearch(false);\r\n        } else {\r\n          this._enableSearch(true);\r\n        }\r\n      }\r\n    },\r\n    handleError: function () {\r\n      if (this.model.error && this.model.error.message) {\r\n        //consider title from server in below precedence\r\n        //1. From server, 2. Widget options, 3. lang bundles\r\n        this.options.parentView.options.title = (!!this.options.parentView.options.data &&\r\n                                                 !!this.options.parentView.options.data.title) ?\r\n                                                this.options.parentView.options.data.title :\r\n                                                (this.options.parentView.options.title ||\r\n                                                 lang.title);\r\n        this.trigger(\"change:title\");\r\n        this.ui.searchFormId.addClass(\"csui-custom-error\");\r\n        var emptyEl = errorTemplate.call(this, {errorMessage: this.model.error.message});\r\n        this.ui.searchFormId.append(emptyEl);\r\n        this.$el.find(\".csui-saved-search-submit-container\").addClass(\"binf-hidden\");\r\n      }\r\n    },\r\n    _triggerSearch: function () {\r\n      var that = this;\r\n      setTimeout(function (event) {\r\n        if (!that.jQuery(\".csui-custom-search-form-submit\").hasClass(\"binf-disabled\")) {\r\n          that.loadCustomSearch();\r\n        }\r\n      }, 50);\r\n    },\r\n    _enableSearch: function (isSearchEnabled) {\r\n      if (isSearchEnabled) {\r\n        this.jQuery(\".csui-custom-search-form-submit\").removeClass(\"binf-disabled\").removeClass(\r\n            \"csui-search-form-submit-disabled\");\r\n        this.trigger('enable:search', true);\r\n      } else {\r\n        this.jQuery(\".csui-custom-search-form-submit\").addClass(\"binf-disabled\").addClass(\r\n            \"csui-search-form-submit-disabled\");\r\n        this.trigger('enable:search', false);\r\n      }\r\n    },\r\n\r\n    onRenderForm: function () {\r\n      if (this.$el.is(':visible')) {\r\n        this._refreshDOM();\r\n      }\r\n      this.unblockActions();\r\n      if (this.options.parentView &&\r\n          typeof this.options.parentView.unblockActions === 'function') {\r\n        this.options.parentView.unblockActions();\r\n      }\r\n      return;\r\n    },\r\n    onFieldUpdated: function () {\r\n      this.loadCustomSearch();\r\n    },\r\n\r\n    updateCustomSearch: function (updatedFormValues, updatedValues, dataModel) {\r\n      if (!!updatedFormValues) {\r\n        this.model.attributes.data = _.extend(this.model.attributes.data, updatedFormValues);\r\n      } else if (!!updatedValues) {\r\n        var self               = this,\r\n            cloneUpdatedValues = updatedValues;\r\n        _.each(dataModel, function (dataVal, dataKey) {\r\n          if (dataVal instanceof Object) {\r\n            _.each(dataVal, function (cVal, cKey) {\r\n              if (cVal instanceof Object) {\r\n                _.each(cVal, function (cV, cK) {\r\n                  if (!!cloneUpdatedValues[cK]) {\r\n                    cVal[cK] = cloneUpdatedValues[cK];\r\n                    delete cloneUpdatedValues[cK];\r\n                  }\r\n                });\r\n              } else if (!!cloneUpdatedValues[cKey]) {\r\n                dataVal[cKey] = cloneUpdatedValues[cKey];\r\n                delete cloneUpdatedValues[cKey];\r\n              }\r\n            });\r\n          }\r\n        });\r\n        //Add remaining values to model\r\n        _.each(cloneUpdatedValues, function (val, key) {\r\n          if (key !== \"query_id\") {\r\n            var keyTokens = (key.indexOf(\"__\") !== -1) ? key.split('__') : undefined,\r\n                tempObj   = {};\r\n            if (!!keyTokens) {\r\n              var parentAttr = (keyTokens[0].indexOf(\"_\") !== -1) ? key.split('_') : undefined;\r\n              if (!!parentAttr) {\r\n                tempObj[key] = val;\r\n                var parentObj = this.model.attributes.data[parentAttr[0]];\r\n                parentObj[keyTokens[0]] = _.extend(parentObj[keyTokens[0]], tempObj);\r\n              } else {\r\n                tempObj[key] = val;\r\n                this.model.attributes.data[keyTokens[0]] = _.extend(\r\n                    this.model.attributes.data[keyTokens[0]],\r\n                    tempObj);\r\n              }\r\n            } else {\r\n              var keyToken = (key.indexOf(\"_\") !== -1) ? key.split('_') : undefined;\r\n              tempObj[key] = val;\r\n              this.model.attributes.data[keyToken[0]] = _.extend(\r\n                  this.model.attributes.data[keyToken[0]],\r\n                  tempObj);\r\n            }\r\n          }\r\n        }, this);\r\n      }\r\n    },\r\n\r\n    loadCustomSearch: function () {\r\n      var defaultValues = this.customFormView.formView.customFilter();\r\n      if (!!defaultValues && defaultValues.length !== 0) {\r\n        if (this.$(\".csui-custom-search-form-submit\").hasClass(\"binf-disabled\")) {\r\n          this._enableSearch(true);\r\n        }\r\n        this.updatedFormValues = this.customFormView.formView.getValues();\r\n        this.queryModel = this.options.query || this.context.getModel(SearchQueryModelFactory);\r\n        this.nextNode = this.context.getModel(NextNodeModelFactory);\r\n        if (!this.options.query && _.isEmpty(this.queryModel.attributes) &&\r\n            _.isEmpty(this.nextNode.attributes)) {\r\n          history.pushState({\"search\": {name: undefined, id: undefined}}, \"\", location.href);\r\n        }\r\n        this.queryModel.clear({silent: true});\r\n        this.queryModel.updatedValues = this.updatedFormValues;\r\n        var params = {};\r\n        _.each(this.updatedFormValues, function (curChild) {\r\n          if (curChild instanceof Object) {\r\n            _.each(curChild, function (childValue, childKey) {\r\n                  if (childValue instanceof Object) {\r\n                    _.each(childValue, function (val, key) {\r\n                      params[key] = val;\r\n                    });\r\n                  } else {\r\n                    params[childKey] = childValue;\r\n                  }\r\n                }\r\n            );\r\n          }\r\n        });\r\n        params['query_id'] = this.model.get(\"data\").templateId;\r\n        // Always show results in new perspecitve even when this CVS triggered from search results itself. (using sidepanel)\r\n        params.forcePerspectiveChange = this.options.showInSearchResultsNewPerspective;\r\n        this.resetPageDefaults();\r\n        this.queryModel.set(params);\r\n        this.trigger('click:search');\r\n      } else {\r\n        this._enableSearch(false);\r\n      }\r\n    },\r\n\r\n    resetPageDefaults: function () {\r\n      this.queryModel.resetDefaults = true;\r\n    }\r\n  });\r\n  return SearchObjectView;\r\n});\r\n\n","csui.define('csui/widgets/search.custom/search.custom.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/handlebars',\r\n  'csui/lib/marionette',\r\n  'csui/lib/jquery',\r\n  'csui/utils/base',\r\n  'csui/controls/tile/tile.view',\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  'csui/widgets/search.custom/impl/search.object.view',\r\n  'i18n!csui/widgets/search.custom/impl/nls/lang'\r\n], function (_, Handlebars, Marionette, $, base, TileView, DefaultActionBehavior,\r\n    SearchCustomObjectView, lang) {\r\n\r\n  var CustomSearchWidgetView = TileView.extend({\r\n    constructor: function CustomSearchWidgetView(options) {\r\n      options || (options = {});\r\n      options.title = options.title || lang.title;\r\n      options.icon = options.titleBarIcon || 'title-customviewsearch';\r\n      this.context = options.context;\r\n\r\n      TileView.prototype.constructor.call(this, options);\r\n\r\n      options = options.data ? _.extend(options, options.data) : options;\r\n      this.options = options;\r\n      this.options.parentView = this;\r\n      this.contentViewOptions = this.options;\r\n    },\r\n    contentView: SearchCustomObjectView,\r\n    behaviors: {\r\n      DefaultAction: {\r\n        behaviorClass: DefaultActionBehavior\r\n      }\r\n    },\r\n    onShow: function () {\r\n      this.$el.find('.tile-title .csui-heading').html('');\r\n      this.listenTo(this.contentView, \"change:title\", this.updateTitle);\r\n    },\r\n    updateTitle: function () {\r\n      this.$el.find('.tile-title .csui-heading').html(base.escapeHtml(this.options.title));\r\n      this.$el.find('.tile-title').attr(\"title\", this.options.title);\r\n      this.$el.find('.tile-controls').attr(\"title\", this.options.title);\r\n    }\r\n  });\r\n  return CustomSearchWidgetView;\r\n});\r\n\n","csui.define('csui/controls/settings/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/settings/impl/nls/root/lang',{\r\n  summaryDescriptionTitle: \"Summary / description\",\r\n  columnSettingsTitle: \"Column settings\",\r\n  selectColumns: \"Select columns\",\r\n  searchBackToTooltip: 'Go back to \\'{0}\\'',\r\n  searchBackToAria: 'Go back to \\'{0}\\'',\r\n  addAvailableColumns:\"Add columns\",\r\n  addColumnsAria: \"Add table columns to show\",\r\n  removeColumn: 'Remove \\'{0}\\'',\r\n  removeColumnAria: 'Remove column \\'{0}\\' from table',\r\n  SearchBackToolTip: 'Back',\r\n  SearchBackAria: 'Close',\r\n  selected: 'Selected',\r\n  SummaryOnly: 'Summaries only',\r\n  SummaryPreferred: 'Summaries preferred',\r\n  DescriptionOnly: 'Descriptions only',\r\n  DescriptionPreferred: 'Descriptions preferred',\r\n  SummaryAndDescription: 'Summaries and descriptions'\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/settings/available.columns/impl/available.columns',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"column-header\\\">\\r\\n  <div class=\\\"icon arrow_back\\\" tabindex=\\\"0\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.backToButtonTitle || (depth0 != null ? depth0.backToButtonTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"backToButtonTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.backToButtonAria || (depth0 != null ? depth0.backToButtonAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"backToButtonAria\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"button\\\"></div>\\r\\n  <div class=\\\"column-title\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n  <div class=\\\"selected-column-count\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"columns-list binf-list-group\\\" role=\\\"group\\\">\\r\\n</div>\";\n}});\nHandlebars.registerPartial('csui_controls_settings_available.columns_impl_available.columns', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/settings/available.columns/impl/available.column',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"column-item-container\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n  <span class=\\\"icon icon-listview-checkmark\\\"></span>\\r\\n  <span class=\\\"column-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('csui_controls_settings_available.columns_impl_available.column', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/settings/available.columns/available.columns.view',['csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette3',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'i18n!csui/controls/settings/impl/nls/lang',\r\n  'hbs!csui/controls/settings/available.columns/impl/available.columns',\r\n  'hbs!csui/controls/settings/available.columns/impl/available.column'\r\n], function ($, _, Backbone, Marionette, PerfectScrollingBehavior, lang, AvailableColumnsTemplate,\r\n  AvailableColumnTemplate) {\r\n  'use strict';\r\n\r\n  var AvailableColumnsItemView = Marionette.View.extend({\r\n    template: AvailableColumnTemplate,\r\n\r\n    attributes: {\r\n      tabindex: '0',\r\n      role: 'checkbox',\r\n      'aria-checked': 'false'\r\n    },\r\n\r\n    className: 'column-item',\r\n\r\n    /*\r\n     * if event required, replace triggers with events\r\n     * and trigger column:add from event handler\r\n     */\r\n    triggers: {\r\n      'click': 'column:add',\r\n      'keydown': {event: \"keydown:item\", stopPropagation : false, preventDefault: false}\r\n    },\r\n\r\n    constructor: function AvailableColumnsItemView (options) {\r\n      Marionette.View.apply(this, arguments);\r\n    }\r\n  });\r\n\r\n  var AvailableColumnsCollectionView = Marionette.CollectionView.extend({\r\n    childView: AvailableColumnsItemView,\r\n\r\n    childViewEvents: {\r\n      'column:add': 'onColumnAdd',\r\n      'keydown:item': 'onChildViewKeydown'\r\n    },\r\n    constructor: function AvailableColumnsCollectionView (options) {\r\n      Marionette.CollectionView.apply(this, arguments);\r\n      this.focusIndex = 0;\r\n    },\r\n\r\n    onColumnAdd: function (view) {\r\n      view.$el.toggleClass('selected');\r\n      var selectedItem = view.$el.hasClass('selected');\r\n      selectedItem ? view.$el.attr('aria-checked',true) : view.$el.attr('aria-checked',false);\r\n      if (!!selectedItem) {\r\n        view.model.set({\r\n          isNew: true\r\n        });\r\n        this.options.availableSelectedColumnsCollection.add(view.model);\r\n        //Moving the non removable columns to the top\r\n        if (view.model.get('key') === \"OTName\") {\r\n          if (!this.options.selectedColumnsCollection.findWhere({key:'OTMIMEType'})) {\r\n            this.options.selectedColumnsCollection.add(view.model, {at:0});\r\n          } else {\r\n            this.options.selectedColumnsCollection.add(view.model, {at:1});\r\n          }\r\n        } else if (view.model.get('key') === \"OTMIMEType\") {\r\n          this.options.selectedColumnsCollection.add(view.model, {at:0});\r\n        } else {\r\n          this.options.selectedColumnsCollection.add(view.model);\r\n        }\r\n      } else {\r\n        view.model.set({\r\n          isNew: false\r\n        });\r\n        this.options.availableSelectedColumnsCollection.remove(view.model);\r\n        this.options.selectedColumnsCollection.remove(view.model);\r\n      }\r\n\r\n      this.options.settingsView.options.data.display_regions = \r\n        \"{\" +\r\n        this.options.selectedColumnsCollection\r\n          .pluck('key')\r\n          .map(function (key) {\r\n            return \"'\" + key + \"'\";\r\n          })\r\n          .join(\",\")\r\n        + \"}\";\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      if (this.options.availableSelectedColumnsCollection) {\r\n        this.collection.remove(this.options.availableSelectedColumnsCollection.models);\r\n        this.options.availableSelectedColumnsCollection.reset();\r\n      }\r\n    },\r\n\r\n    onChildViewKeydown: function (childView, event) {\r\n      var focusables = this.$el.find('*[tabindex]');\r\n      switch (event.which) {\r\n        case 27:\r\n          this.$el.closest(\".csui-search-settings\").trigger('focus');\r\n          this.options.settingsView.triggerMethod('close:menu', event);\r\n          break;\r\n        case 13:\r\n        case 32:\r\n          this.onColumnAdd(childView);\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          break;\r\n        case 38:\r\n          this.focusIndex > 0 && --this.focusIndex;\r\n          $(focusables[this.focusIndex]).trigger('focus');\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          break;\r\n        case 40:\r\n          this.focusIndex < (focusables.length - 1) && ++this.focusIndex;\r\n          $(focusables[this.focusIndex]).trigger('focus');\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          break;\r\n        case 9:\r\n          this.$el.parents(\".available-columns-container\").\r\n                              find('.arrow_back').trigger('focus');\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          break;\r\n      }\r\n    }\r\n  });\r\n\r\n  var SelectedColumnsCountView = Marionette.View.extend({\r\n\r\n    constructor: function SelectedColumnsCountView () {\r\n      Marionette.View.apply(this, arguments);\r\n      this.listenTo(this.options.availableSelectedColumnsCollection,\r\n        'update', this.render);\r\n    },\r\n\r\n    templateContext: function () {\r\n      return {\r\n        count: this.options.availableSelectedColumnsCollection.length || '',\r\n        label : lang.selected\r\n      };\r\n    },\r\n\r\n    template: _.template(\"<span title='<%=label%> <%=count%>'><%=count%></span>\")\r\n  });\r\n\r\n  var AvailableColumnsView = Marionette.View.extend({\r\n    className: 'csui-available-column',\r\n\r\n    template: AvailableColumnsTemplate,\r\n\r\n    templateContext: function () {\r\n      return {\r\n        label: lang.selectColumns,\r\n        available: this.options.availableColumns,\r\n        backToButtonTitle: _.str.sformat(lang.searchBackToTooltip, lang.columnSettingsTitle),\r\n        backToButtonAria: _.str.sformat(lang.searchBackToAria, lang.columnSettingsTitle),\r\n      };\r\n    },\r\n\r\n    regions: {\r\n      columnsList: '.columns-list',\r\n      selectedColumnsCountView: '.selected-column-count'\r\n    },\r\n\r\n    ui: {\r\n      backArrow: '.arrow_back'\r\n    },\r\n\r\n    events: {\r\n      'keydown @ui.backArrow': 'onKeyDownArrow',\r\n      'click @ui.backArrow': 'showSelectedColumns',\r\n      \"keydown\": \"onKeyInView\"\r\n    },\r\n\r\n    behaviors: {\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.columns-list',\r\n        suppressScrollX: true,\r\n        // like bottom padding of container, otherwise scrollbar is shown always\r\n        scrollYMarginOffset: 15\r\n      }\r\n    },\r\n\r\n    onKeyDownArrow: function (event) {\r\n      var keyCode = event.keyCode;\r\n      if (keyCode === 13 || keyCode === 32 || keyCode === 37) {\r\n        this.showSelectedColumns(event);\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      }\r\n    },\r\n\r\n    onKeyInView: function (event) {\r\n      var focusables = this.$el.find('.column-item*[tabindex]'),\r\n          focusIndex = 0;\r\n      switch (event.which) {\r\n        case 27:\r\n          this.$el.closest(\".csui-search-settings\").trigger('focus');\r\n          this.options.settingsView.triggerMethod('close:menu', event); \r\n          break; \r\n        case 9:\r\n          this.availableColumnsCollectionView.focusIndex = 0;\r\n          $(focusables[focusIndex]).trigger('focus');\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          break;\r\n      }\r\n    },\r\n\r\n    constructor: function AvailableColumnsView (options) {\r\n      Marionette.View.apply(this, arguments);\r\n      this.options.availableSelectedColumnsCollection = new Backbone.Collection();\r\n    },\r\n\r\n    showSelectedColumns: function (event) {\r\n      if (this.options.selectedColumnsCollection) {\r\n        this.options.selectedColumnsCollection.add(this.options.collection.remove(this.options\r\n          .availableSelectedColumnsCollection.models));\r\n        this.options.availableSelectedColumnsCollection.reset();\r\n      } \r\n      this.options.settingsView.showSettings(\"selectedColumnsContainer\", this.options\r\n        .selectedColumnView);\r\n    },\r\n\r\n    onRender: function () {\r\n      this.availableColumnsCollectionView = new AvailableColumnsCollectionView(this.options);\r\n      this.showChildView('columnsList', this.availableColumnsCollectionView);\r\n      this.showChildView('selectedColumnsCountView', new SelectedColumnsCountView({\r\n        availableSelectedColumnsCollection: this.options.availableSelectedColumnsCollection\r\n      }));\r\n    }\r\n\r\n  });\r\n  return AvailableColumnsView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/settings/selected.columns/impl/selected.columns',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"column-header\\\">\\r\\n  <div class=\\\"icon arrow_back\\\" tabindex=\\\"0\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.backButtonTitle || (depth0 != null ? depth0.backButtonTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"backButtonTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.backButtonAria || (depth0 != null ? depth0.backButtonAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"backButtonAria\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"button\\\"></div>\\r\\n  <div class=\\\"column-title\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n</div>\\r\\n<div class=\\\"add-button\\\" tabindex=\\\"0\\\" role=\\\"button\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.addColumnsAria || (depth0 != null ? depth0.addColumnsAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"addColumnsAria\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n  <span class=\\\"icon icon-columnsadd\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.addAvailableColumns || (depth0 != null ? depth0.addAvailableColumns : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"addAvailableColumns\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n</div>\\r\\n<div class=\\\"columns-list binf-list-group\\\" role=\\\"menu\\\">\\r\\n</div>\";\n}});\nHandlebars.registerPartial('csui_controls_settings_selected.columns_impl_selected.columns', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/settings/selected.columns/impl/selected.column',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <div class=\\\"remove-button icon circle_delete\\\" tabindex=\\\"0\\\" role=\\\"button\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.removeColumnAria || (depth0 != null ? depth0.removeColumnAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"removeColumnAria\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.removeColumn || (depth0 != null ? depth0.removeColumn : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"removeColumn\",\"hash\":{}}) : helper)))\n    + \"\\\"></div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"column-item-container\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n  <span class=\\\"icon icon-draggable-handle6\\\"></span>\\r\\n  <span class=\\\"column-label\\\" data-csui-key=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n</div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.isRemovable : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_settings_selected.columns_impl_selected.column', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/settings/selected.columns/selected.columns.view',['csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette3',\r\n  'csui/utils/base',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'i18n!csui/controls/settings/impl/nls/lang',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/settings/available.columns/available.columns.view',\r\n  'csui/controls/table/table.view',\r\n  'hbs!csui/controls/settings/selected.columns/impl/selected.columns',\r\n  'hbs!csui/controls/settings/selected.columns/impl/selected.column'\r\n], function ($, _, Backbone, Marionette, base, PerfectScrollingBehavior, lang, TabableRegionBehavior,\r\n  AvailableColumnsView, TableView, SelectedColumnsTemplate, SelectedColumnTemplate) {\r\n  'use strict';\r\n\r\n  var SelectedColumnItemView = Marionette.View.extend({\r\n\r\n    template: SelectedColumnTemplate,\r\n\r\n    className: function () {\r\n      return 'column-item' + (this.model.get('isNew') ? ' csui-new-column-item' : '');\r\n    },\r\n\r\n    attributes: {\r\n      'data-value': 'column',\r\n      'role': 'menuitem'\r\n    },\r\n\r\n    ui: {\r\n      removeBtn: '.remove-button'\r\n    },\r\n\r\n    triggers: {\r\n      'keydown': { event: \"keydown:item\", stopPropagation: false, preventDefault: false },\r\n      'click @ui.removeBtn': { event: \"column:remove\", stopPropagation: false, preventDefault: false }\r\n    },\r\n\r\n    templateContext: function () {\r\n      var nonRemovable = ['OTName', 'OTMIMEType'],\r\n        key = this.model.get('key');\r\n      return {\r\n        name: this.model.get('name'),\r\n        label: key,\r\n        isRemovable: nonRemovable.indexOf(key) > -1 ? false : true,\r\n        removeColumn: _.str.sformat(lang.removeColumn, this.model.get('name')),\r\n        removeColumnAria: _.str.sformat(lang.removeColumnAria, this.model.get('name'))\r\n      };\r\n    },\r\n\r\n    constructor: function SelectedColumnItemView(options) {\r\n      Marionette.View.apply(this, arguments);\r\n      //disable drag &drop of search columns for Standard results\r\n      if (options && options.isTabularView) {\r\n        this.$el.attr('draggable', true);\r\n      }\r\n      this.model.set('sequence',\r\n        this.model && this.model.collection && this.model.collection.findIndex(this.model));\r\n    }\r\n  });\r\n\r\n  var SelectedColumnsCollectionView = Marionette.CollectionView.extend({\r\n    className: 'csui-selected-column',\r\n\r\n    childView: SelectedColumnItemView,\r\n\r\n    childViewOptions: function () {\r\n      return {\r\n        isTabularView: this.options && this.options.isTabularView\r\n      };\r\n    },\r\n\r\n    childViewEvents: {\r\n      'column:remove': 'onColumnRemove',\r\n      'keydown:item': 'onChildViewKeydown'\r\n    },\r\n\r\n    constructor: function SelectedColumnsCollectionView(options) {\r\n      options || (options = {});\r\n      this.options = options;\r\n      this.focusIndex = 0;\r\n      Marionette.CollectionView.apply(this, options);\r\n    },\r\n\r\n    onColumnRemove: function (view) {\r\n      this.options.availableColumnsCollection.add(this.options.collection.remove(view.model));\r\n      this.options.settingsView.$el.css('height', this.options.settingsView.currentCard.outerHeight());\r\n      // TODO: Find better way to append formdata with {list}.\r\n      this.options.settingsView.options.data.display_regions =\r\n        \"{\" +\r\n        this.collection\r\n          .pluck('key')\r\n          .map(function (key) {\r\n            return \"'\" + key + \"'\";\r\n          })\r\n          .join(\",\")\r\n        + \"}\";\r\n    },\r\n\r\n    attachHtml: function (collectionView, childView, index) {\r\n      Marionette.CollectionView.prototype.attachHtml.call(this, collectionView, childView, index);\r\n      // Drag & Drop is disabled for OTName , OTMIMEType and Standard Result Search Columns\r\n      if (!this.options.isTabularView || childView.model.get('key') === 'OTName' ||\r\n        childView.model.get('key') === 'OTMIMEType') {\r\n        childView.$el.addClass('drag-disabled');\r\n        childView.$el.removeAttr(\"draggable\");\r\n      } else {\r\n        this.attachDragListeners(childView);\r\n      }\r\n    },\r\n\r\n    _getItemKey: function (el) {\r\n      return el.find('[data-csui-key]').attr('data-csui-key');\r\n    },\r\n\r\n    attachDragListeners: function (childView) {\r\n      var me = this,\r\n        subItem = childView.$el,\r\n        removeDragline = function () {\r\n          me.$el.find('.csui-dragline').remove();\r\n          delete me._dropAfter;\r\n        };\r\n\r\n      subItem.on('dragstart', function (event) {\r\n        me._dragData = {\r\n          sourceKey: me._getItemKey($(event.currentTarget))\r\n        };\r\n        event.originalEvent.dataTransfer.setData('text', '');\r\n      });\r\n\r\n      subItem.on('dragover', function (event) {\r\n        if (!me._dragData || me._dragData.sourceKey === undefined) {\r\n          return;\r\n        }\r\n        event.preventDefault();\r\n\r\n        var dragline = $('<div class=\"csui-dragline\">');\r\n        var h = $(event.currentTarget).height();\r\n        if (event.offsetY > (h / 2)) {\r\n          if (me._dropAfter === undefined || me._dropAfter === false) {\r\n            removeDragline();\r\n            $(event.currentTarget).after(dragline);\r\n            me._dropAfter = true;\r\n          }\r\n        } else {\r\n          if (me._dropAfter === undefined || me._dropAfter === true) {\r\n            removeDragline();\r\n            $(event.currentTarget).before(dragline);\r\n            me._dropAfter = false;\r\n          }\r\n        }\r\n      });\r\n\r\n      subItem.on('drop', _.bind(function (event) {\r\n        if (!me._dragData || me._dragData.sourceKey === undefined) {\r\n          return;\r\n        }\r\n        this.onSubItemDrop(me, event);\r\n      }, this));\r\n\r\n      subItem.on('dragleave', function (/*event*/) {\r\n        removeDragline();\r\n      });\r\n\r\n      subItem.on('dragend', function (event) {\r\n        event.preventDefault();\r\n        removeDragline();\r\n        delete me._dragData;\r\n      });\r\n    },\r\n    onSubItemDrop: function (scope, event) {\r\n      var me = scope;\r\n      var sourceKey = me._dragData && me._dragData.sourceKey || me.keyDragSource || null,\r\n        targetKey = me._getItemKey($(event.currentTarget)),\r\n        sourceModel = me.collection.findWhere({ key: sourceKey }),\r\n        targetModel = me.collection.findWhere({ key: targetKey }),\r\n        sourceIndex = me.collection.indexOf(sourceModel),\r\n        targetIndex = me.collection.indexOf(targetModel);\r\n      event.preventDefault();\r\n\r\n      if (sourceIndex === targetIndex || !sourceIndex) {\r\n        return;\r\n      }\r\n\r\n      if (me._dropAfter === true) {\r\n        targetIndex++;\r\n      }\r\n\r\n      if (sourceIndex < targetIndex) {\r\n        targetIndex--;\r\n      }\r\n\r\n      me.collection.remove(sourceModel);\r\n      me.collection.add(sourceModel, { at: targetIndex });\r\n      me.$el.find('.csui-dragline').remove();\r\n      if (me.keyDragSource) {\r\n        me.$el.find('.active').removeClass('active');\r\n        $(me.$el.children()[targetIndex]).addClass('active');\r\n        me.$el.find('.active > *[tabindex]').trigger('focus');\r\n      }\r\n      me.triggerMethod('reorder', sourceModel);\r\n\r\n      if (me._dragData && me._dragData.sourceKey) {\r\n        delete me._dropAfter;\r\n      }\r\n\r\n      this.options.settingsView.isChanged = true;\r\n      //update formData\r\n      this.options.settingsView.options.data.display_regions =\r\n        \"{\" +\r\n        this.collection\r\n          .pluck('key')\r\n          .map(function (key) {\r\n            return \"'\" + key + \"'\";\r\n          })\r\n          .join(\",\")\r\n        + \"}\";\r\n    },\r\n    onSubItemPaste: function (scope, event) {\r\n      var me = scope;\r\n      var dragline = $('<div class=\"csui-dragline\">');\r\n      me.$el.find('.csui-dragline').remove();\r\n      if (event.keyCode === 40) {\r\n        $(event.currentTarget).after(dragline);\r\n      }\r\n      else {\r\n        $(event.currentTarget).siblings('.active').before(dragline);\r\n      }\r\n    },\r\n    onChildViewKeydown: function (childView, event) {\r\n      var isMac = base.isMacintosh(),\r\n        keyCode = event.keyCode,\r\n        focusables = this.$el.find('*[tabindex]'),\r\n        addButton;\r\n        if ( this.options.isTabularView &&(isMac && event.metaKey && !event.ctrlKey || !isMac && !event.metaKey &&\r\n          event.ctrlKey) ) {\r\n        // control-X or command-X (MacOS)\r\n\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n\r\n        if (keyCode === 88) {\r\n          this.keyDragSource = this._getItemKey($(event.currentTarget));\r\n        }\r\n        else if (keyCode === 86) {\r\n          this.onSubItemDrop(this, event);\r\n          this.keyDragSource = undefined;\r\n        }\r\n      }\r\n      else if (keyCode === 27) {\r\n        this.$el.closest(\".csui-search-settings\").trigger('focus');\r\n        this.options.settingsView.triggerMethod('close:menu', event);\r\n      } else if (keyCode === 13 || keyCode === 32) {\r\n        this.onColumnRemove(childView, event);\r\n        event.stopPropagation();\r\n        (focusables.length - 1) === this.focusIndex ? --this.focusIndex : '';\r\n        focusables = this.$el.find('*[tabindex]');\r\n        //check if all columns has been removed\r\n        if (focusables.length === 0) {\r\n          addButton = this.$el.parents(\".selected-columns-container\").find(\r\n            '.add-button');\r\n          addButton.trigger('focus');\r\n        } else {\r\n          $(focusables[this.focusIndex]).closest('.column-item').addClass('active');\r\n          $(focusables[this.focusIndex]).trigger('focus');\r\n        }\r\n      } else if (focusables.length) {\r\n        if (keyCode === 38 || keyCode === 40) {\r\n          $(focusables[this.focusIndex]).closest('.column-item').removeClass('active');\r\n          if (keyCode === 38) { //up arrow\r\n            this.focusIndex > 0 && --this.focusIndex;\r\n          }\r\n          else {//down arrow\r\n            this.focusIndex < (focusables.length - 1) && ++this.focusIndex;\r\n          }\r\n          $(focusables[this.focusIndex]).closest('.column-item').addClass('active');\r\n          $(focusables[this.focusIndex]).trigger('focus');\r\n          if (this.keyDragSource && this.focusIndex >= 0) {\r\n            this.onSubItemPaste(this,event);\r\n          }\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n        }\r\n        if (event.keyCode === 9) {\r\n          $(focusables[this.focusIndex]).closest('.column-item').removeClass('active');\r\n          if (event.shiftKey && this.options.availableColumnsCollection.length) {\r\n            addButton = this.$el.parents(\".selected-columns-container\").find(\r\n              '.add-button');\r\n            addButton.trigger('focus');\r\n          } else {\r\n            var backButton = this.$el.parents(\".selected-columns-container\").\r\n              find('.arrow_back');\r\n            backButton.trigger('focus');\r\n          }\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  var SelectedColumnsView = Marionette.View.extend({\r\n    constructor: function SelectedColumnView(options) {\r\n      Marionette.View.apply(this, arguments);\r\n    },\r\n\r\n    template: SelectedColumnsTemplate,\r\n\r\n    templateContext: {\r\n      label: lang.columnSettingsTitle,\r\n      backButtonTitle: lang.SearchBackToolTip,\r\n      backButtonAria: lang.SearchBackAria,\r\n      addAvailableColumns: lang.addAvailableColumns,\r\n      addColumnsAria: lang.addColumnsAria\r\n    },\r\n\r\n    behaviors: {\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.columns-list',\r\n        suppressScrollX: true,\r\n        // like bottom padding of container, otherwise scrollbar is shown always\r\n        scrollYMarginOffset: 15\r\n      },\r\n      TabableRegionBehavior: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    regions: {\r\n      columnsList: '.columns-list'\r\n    },\r\n\r\n    ui: {\r\n      backArrow: '.arrow_back',\r\n      addButton: \".add-button\"\r\n    },\r\n\r\n    events: {\r\n      'click @ui.backArrow': 'showSettingsView',\r\n      'keydown @ui.backArrow': 'onKeydownBackArrow',\r\n      'click @ui.addButton': 'showAvailableColumns',\r\n      \"keydown\": \"onKeyInView\"\r\n    },\r\n\r\n    onKeydownBackArrow: function (event) {\r\n      var keyCode = event.keyCode;\r\n      if (keyCode === 13 || keyCode === 32 || keyCode === 37) {\r\n        this.showSettingsView(event);\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      }\r\n    },\r\n\r\n    onKeyInView: function (event) {\r\n      var keyCode = event.keyCode,\r\n        focusables = this.$el.find('.add-button'),\r\n        focusIndex = 0;\r\n      if (keyCode === 27) {\r\n        this.$el.closest(\".csui-search-settings\").trigger('focus');\r\n        this.options.settingsView.triggerMethod('close:menu', event);\r\n      } else if (focusables.length) {\r\n        if (keyCode === 9) { // tab\r\n          if (event.shiftKey) {\r\n            if ($(document.activeElement).hasClass('arrow_back')) {\r\n              focusables = this.$el.find('.circle_delete');\r\n              focusIndex = this.selectedColumnsCollectionView.focusIndex = focusables.length - 1;\r\n              $(focusables[focusIndex]).closest('.column-item').addClass('active');\r\n              $(focusables[focusIndex]).trigger('focus');\r\n            } else {\r\n              this.$el.find('.arrow_back').trigger('focus');\r\n            }\r\n          } else {\r\n            focusIndex = 0;\r\n            if ($(document.activeElement).hasClass('arrow_back') && this.options\r\n              .availableColumnsCollection.length) {\r\n              $(focusables[focusIndex]).trigger('focus');\r\n            } else {\r\n              focusables = this.$el.find('.circle_delete');\r\n              this.selectedColumnsCollectionView.focusIndex = 0;\r\n              $(focusables[focusIndex]).closest('.column-item').addClass('active');\r\n              $(focusables[focusIndex]).trigger('focus');\r\n            }\r\n          }\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        } else if (keyCode === 13 || keyCode === 32) {\r\n          this.showAvailableColumns(event);\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        }\r\n      }\r\n    },\r\n\r\n    showSettingsView: function (event) {\r\n      this.options.settingsView.showSettings(\"settingsDropDownContainer\", this.options.settingsView.settingsDropDownView);\r\n    },\r\n\r\n    showAvailableColumns: function () {\r\n      var searchSettingsModel = this.options.settings && this.options.settings.get('display'),\r\n        availableColumnsCollection, selectedColumnsCollection;\r\n      if (searchSettingsModel && searchSettingsModel.display_regions) {\r\n        availableColumnsCollection = searchSettingsModel.display_regions.available;\r\n        selectedColumnsCollection = searchSettingsModel.display_regions.selected;\r\n      }\r\n      this.options.settingsView.showSettings(\"availableColumnsContainer\",\r\n        new AvailableColumnsView({\r\n          selectedColumnView: this,\r\n          settingsView: this.options.settingsView,\r\n          tableCollection: this.options.tableCollection,\r\n          collection: availableColumnsCollection,\r\n          selectedColumnsCollection: selectedColumnsCollection,\r\n          settings: this.options.settings\r\n        }));\r\n    },\r\n\r\n    onRender: function () {\r\n      if (!this.options.availableColumnsCollection.length) {\r\n        this.ui.addButton.addClass('binf-hidden');\r\n      }\r\n      this.selectedColumnsCollectionView = new SelectedColumnsCollectionView(this.options);\r\n      this.showChildView('columnsList', this.selectedColumnsCollectionView);\r\n      this.listenTo(this.options.availableColumnsCollection, 'update', _.bind(function () {\r\n        if (!this.options.availableColumnsCollection.length) {\r\n          this.ui.addButton.addClass('binf-hidden');\r\n        } else {\r\n          this.ui.addButton.removeClass('binf-hidden');\r\n        }\r\n      }, this));\r\n    }\r\n  });\r\n  return SelectedColumnsView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/settings/summary.description/impl/summary.descriptions',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"column-header\\\">\\r\\n  <div class=\\\"icon arrow_back\\\" tabindex=\\\"0\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.backButtonTitle || (depth0 != null ? depth0.backButtonTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"backButtonTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.backButtonAria || (depth0 != null ? depth0.backButtonAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"backButtonAria\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"button\\\"></div>\\r\\n  <div class=\\\"column-title\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n</div>\\r\\n<div class=\\\"columns-list binf-list-group\\\" role=\\\"radiogroup\\\"></div>\";\n}});\nHandlebars.registerPartial('csui_controls_settings_summary.description_impl_summary.descriptions', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/settings/summary.description/impl/summary.description',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"selected\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"column-item-container\\\" tabindex=\\\"0\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\" role='radio' aria-checked=\"\n    + this.escapeExpression(((helper = (helper = helpers.checked || (depth0 != null ? depth0.checked : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"checked\",\"hash\":{}}) : helper)))\n    + \">\\r\\n  <span class=\\\"icon icon-listview-checkmark \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.selected : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\\"></span>\\r\\n  <span class=\\\"column-label\\\" id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.key || (depth0 != null ? depth0.key : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"key\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('csui_controls_settings_summary.description_impl_summary.description', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/settings/summary.description/summary.description.view',['csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette3',\r\n  'i18n!csui/controls/settings/impl/nls/lang',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'hbs!csui/controls/settings/summary.description/impl/summary.descriptions',\r\n  'hbs!csui/controls/settings/summary.description/impl/summary.description'\r\n], function ($, _, Backbone, Marionette, lang, TabableRegionBehavior, template, itemTemplate) {\r\n  'use strict';\r\n\r\n  var SummaryDescriptionItemView = Marionette.View.extend({\r\n\r\n    template: itemTemplate,\r\n\r\n    className: 'column-item',\r\n    templateContext: function () {\r\n      return {\r\n        name: this._nameResolver(),\r\n        label: this.model.get('key'),\r\n        checked: !!this.model.get('selected')\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      itemContainer: '.column-item-container'\r\n    },\r\n\r\n    triggers: {\r\n      'click @ui.itemContainer': 'click:itemContainer',\r\n      'keydown @ui.itemContainer': {event: \"keydown:itemContainer\", stopPropagation:false, preventDefault: false}\r\n    },\r\n\r\n    constructor: function SummaryDescriptionItemView(options) {\r\n      options || (options = {});\r\n      this.options = options;\r\n      Marionette.View.call(this, options);\r\n      this.listenTo(this.model, 'change', this.render);\r\n    },\r\n\r\n    _nameResolver: function () {\r\n      var key = this.model.get('key'), name;\r\n      switch (key) {\r\n        case 'SO': {\r\n          name = lang.SummaryOnly;\r\n          break;\r\n        }\r\n        case 'SP': {\r\n          name = lang.SummaryPreferred;\r\n          break;\r\n        }\r\n        case 'DO': {\r\n          name = lang.DescriptionOnly;\r\n          break;\r\n        }\r\n        case 'DP': {\r\n          name = lang.DescriptionPreferred;\r\n          break;\r\n        }\r\n        case 'SD': {\r\n          name = lang.SummaryAndDescription;\r\n          break;\r\n        }\r\n        default: {\r\n          name = this.model.get('name');\r\n        }\r\n      }\r\n      return name;\r\n    }\r\n\r\n  });\r\n\r\n  var SummaryDescriptionCollectionView = Marionette.CollectionView.extend({\r\n\r\n    childView: SummaryDescriptionItemView,\r\n\r\n    childViewOptions: {\r\n      //Todo: provide selected collection option here\r\n    },\r\n\r\n    constructor: function SummaryDescriptionCollectionView(options) {\r\n      options || (options = {});\r\n      this.options = options;\r\n      this.focusIndex = 0;\r\n      Marionette.CollectionView.call(this, options);\r\n    },\r\n\r\n    onChildviewClickItemContainer: function (childView) {\r\n      this.selectSummary(childView);\r\n    },\r\n\r\n    selectSummary: function (childView) {\r\n      this.collection.findWhere({selected: true}).unset('selected');\r\n      childView.model.set('selected', true);\r\n      this.options.settingsView.options.data.summary_description = \r\n          childView.model.get('key');\r\n      this.options.selectedCollection = childView.model.get('key');\r\n      this.options.settingsView.model.get(\r\n          'display').summary_description.selected = childView.model.get('key');\r\n      childView.$el.find(\".column-item-container\").trigger('focus');\r\n    },\r\n\r\n    onChildviewKeydownItemContainer: function (childView, event) {\r\n      var keyCode    = event.keyCode,\r\n          focusables = this.$el.find('*[tabindex]');\r\n      if (keyCode === 27) {\r\n        this.$el.closest(\".csui-search-settings\").trigger('focus');\r\n        this.options.settingsView.triggerMethod('close:menu', event);\r\n      } else if (keyCode === 13 || keyCode === 32) {\r\n        //Enter or Space key show settings view\r\n        this.selectSummary(childView);\r\n      } else if (focusables.length) {\r\n        if (keyCode === 38 || keyCode === 40) {\r\n          if (keyCode === 38) { //up arrow\r\n            this.focusIndex > 0 && --this.focusIndex;\r\n          }\r\n          else {//down arrow\r\n            this.focusIndex < (focusables.length - 1) && ++this.focusIndex;\r\n          }\r\n          $(focusables[this.focusIndex]).trigger('focus');\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n        }\r\n        if (event.keyCode === 9) {\r\n          var backArrowElement = this.$el.parents(\".csui-summary-description-list\").find(\r\n              '.arrow_back');\r\n          backArrowElement.trigger('focus');\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n        }\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  var SummaryDescriptionView = Marionette.View.extend({\r\n\r\n    template: template,\r\n\r\n    className: 'csui-summary-description-list',\r\n\r\n    ui: {\r\n      backArrow: '.arrow_back'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.backArrow': 'onClickBackArrow',\r\n      'keydown @ui.backArrow': 'onKeyPressBackArrow',\r\n      \"keydown\": \"onKeyInView\"\r\n    },\r\n\r\n    regions: {\r\n      columnsList: '.columns-list'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegionBehavior: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    currentlyFocusedElement: function (event) {\r\n      var tabElements = this.$('*[tabindex]');\r\n      if (tabElements.length) {\r\n        tabElements.prop('tabindex', 0);\r\n      }\r\n      if (!!event && event.shiftKey) {\r\n        return $(tabElements[tabElements.length - 1]);\r\n      } else {\r\n        return $(tabElements[0]);\r\n      }\r\n    },\r\n\r\n    templateContext: function () {\r\n      var self = this;\r\n      //Todo: remove this line and handle it from item view by providing options\r\n      _.each(this.options.availableCollection && this.options.availableCollection.models,\r\n          function (model, index) {\r\n            if (model.get('key') === self.options.selectedCollection) {\r\n              model.set('selected', true);\r\n              model.set('checked',true);\r\n            }\r\n          });\r\n      return {\r\n        label: lang.summaryDescriptionTitle,\r\n        available: this.options.availableCollection && this.options.availableCollection.models,\r\n        backButtonTitle: lang.SearchBackToolTip,\r\n        backButtonAria: lang.SearchBackAria\r\n      };\r\n    },\r\n\r\n    constructor: function SummaryDescriptionView(options) {\r\n      options || (options = {});\r\n      this.options = options;\r\n      Marionette.View.call(this, options);\r\n    },\r\n\r\n    onClickBackArrow: function (event) {\r\n      this.showSettingsView(event);\r\n    },\r\n\r\n    onKeyPressBackArrow: function (event) {\r\n      var keyCode = event.keyCode;\r\n      if (keyCode === 13 || keyCode === 32 || keyCode === 37) {\r\n        this.showSettingsView(event);\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n      }\r\n    },\r\n\r\n    showSettingsView: function (event) {\r\n      this.options.settingsView.showSettings(\"settingsDropDownContainer\",\r\n          this.options.settingsView.settingsDropDownView);\r\n    },\r\n\r\n    onRender: function () {\r\n      this.summaryDescriptionCollectionView = new SummaryDescriptionCollectionView(this.options);\r\n      this.showChildView('columnsList', this.summaryDescriptionCollectionView);\r\n    },\r\n\r\n    onKeyInView: function (event) {\r\n      var keyCode    = event.keyCode,\r\n          focusables = this.$el.find('.column-item-container'),\r\n          focusIndex = 0;\r\n      if (keyCode === 27) {\r\n        this.$el.closest(\".csui-search-settings\").trigger('focus');\r\n        this.options.settingsView.triggerMethod('close:menu', event);\r\n      } else if (focusables.length) {\r\n        if (keyCode === 9 || keyCode === 16) { // tab\r\n          if (event.shiftKey) {\r\n            focusIndex = focusables.length - 1;\r\n          } else {\r\n            focusIndex = 0;\r\n          }\r\n          this.summaryDescriptionCollectionView.focusIndex = 0;\r\n          $(focusables[focusIndex]).trigger('focus');\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  return SummaryDescriptionView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/settings/impl/settings.dropdown',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<a class=\\\"csui-settings-option\\\" href=\\\"javascript:void(0);\\\" tabindex=\\\"0\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"menuitem\\\">\\r\\n  <span class=\\\"csui-settings-option-title\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n  <span class=\\\"icon icon-next-card\\\"></span>\\r\\n</a>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_settings_impl_settings.dropdown', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/settings/impl/settings.dropdown.view',['csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette3',\r\n  'i18n!csui/controls/settings/impl/nls/lang',\r\n  'csui/controls/settings/selected.columns/selected.columns.view',\r\n  'csui/controls/settings/summary.description/summary.description.view',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'hbs!csui/controls/settings/impl/settings.dropdown'\r\n], function ($, _, Backbone, Marionette, lang, SelectedColumnsView, SummaryDescriptionView,\r\n    TabableRegionBehavior, template) {\r\n  'use strict';\r\n\r\n  var SettingsDropDownOptionView = Marionette.View.extend({\r\n    tagName: 'li',\r\n    template: template,\r\n    className: 'binf-list-group-item',\r\n\r\n    //Todo: Provide false property to stopPropagation to support ctrl +\r\n    triggers: {\r\n      'click a': {event: \"show:settings\"},\r\n      'keydown a': {event: \"show:settings:dropdown\", preventDefault: false}\r\n    },\r\n\r\n    constructor: function SettingsDropDownOptionView(options) {\r\n      options || (options = {});\r\n      this.options = options;\r\n      Marionette.View.call(this, options);\r\n    },\r\n\r\n    showColumnsSettings: function (event) {\r\n      var display = this.model && this.model.get('display'),\r\n          selectedColumnsCollection, availableColumnsCollection;\r\n      if (display && display.display_regions) {\r\n        selectedColumnsCollection = display.display_regions.selected;\r\n        availableColumnsCollection = display.display_regions.available;\r\n      }\r\n      selectedColumnsCollection && selectedColumnsCollection.where({\r\n        isNew: true\r\n      }).map(function (model) {\r\n        model.set({\r\n          isNew: false\r\n        }, {\r\n          silent: true\r\n        });\r\n      });\r\n      this.options.showSettings('selectedColumnsContainer', new SelectedColumnsView({\r\n        settingsDropDownView: this,\r\n        tableCollection: this.options.tableCollection,\r\n        collection: selectedColumnsCollection,\r\n        availableColumnsCollection: availableColumnsCollection,\r\n        settings: this.model\r\n      }));\r\n    },\r\n\r\n    showSummaryOrDescription: function (event) {\r\n      // TODO: use this.model\r\n      var display = this.model && this.model.get('display'),\r\n          availableCollection, selectedCollection;\r\n      if (display.summary_description && display.summary_description.available) {\r\n        availableCollection = display.summary_description.available;\r\n        selectedCollection = display.summary_description.selected;\r\n      }\r\n      this.options.originatingView.showSettings('summaryOrDescriptionContainer',\r\n          new SummaryDescriptionView({\r\n            settingsDropDownView: this,\r\n            selectedCollection: selectedCollection,\r\n            availableCollection: availableCollection,\r\n            collection: availableCollection,\r\n            settings: this.model\r\n          }));\r\n    }\r\n\r\n  });\r\n\r\n  var SettingsDropDownView = Marionette.CollectionView.extend({\r\n    constructor: function SettingsDropDownView() {\r\n      this.focusIndex = 0;\r\n      Marionette.CollectionView.apply(this, arguments);\r\n    },\r\n\r\n    className: 'binf-list-group',\r\n\r\n    tagName: 'ul',\r\n\r\n    childView: SettingsDropDownOptionView,\r\n\r\n    childViewEvents: {\r\n      'show:settings:dropdown': 'onShowSettingsDropdown',\r\n      'show:settings': 'onShowSettings'\r\n    },\r\n\r\n    childViewOptions: function () {\r\n      return {\r\n        settingsView: this.options.settingsView\r\n      };\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegionBehavior: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    currentlyFocusedElement: function (event) {\r\n      var tabElements = this.$('*[tabindex]');\r\n      if (tabElements.length) {\r\n        tabElements.prop('tabindex', 0);\r\n      }\r\n      if (!!event && event.shiftKey) {\r\n        return $(tabElements[tabElements.length - 1]);\r\n      } else {\r\n        return $(tabElements[0]);\r\n      }\r\n    },\r\n\r\n    onShowSettings: function (view, event) {\r\n      this.options.settingsView.showSettings(view.model.get('id'), view.model.get(\r\n          'view'));\r\n    },\r\n\r\n    onShowSettingsDropdown: function (view, event) {\r\n      var keyCode    = event.keyCode,\r\n          focusables = this.$el.find('a[tabindex]');\r\n      if (keyCode === 27) {\r\n        this.$el.closest(\".csui-search-settings\").trigger('focus');\r\n        this.options.settingsView.triggerMethod('close:menu', event);\r\n      } else if (keyCode === 13 || keyCode === 32 || keyCode === 39) {\r\n        this.onShowSettings(view, event);\r\n      } else if (focusables.length) {\r\n        if (keyCode === 38 || keyCode === 40) {\r\n          if (keyCode === 38) { //up arrow\r\n            this.focusIndex > 0 && --this.focusIndex;\r\n          }\r\n          else {//down arrow\r\n            this.focusIndex < (focusables.length - 1) && ++this.focusIndex;\r\n          }\r\n          $(focusables[this.focusIndex]).trigger('focus');\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n        }\r\n      }\r\n    }\r\n  });\r\n  return SettingsDropDownView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/settings/impl/settings',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"selected-columns-container\\\"></div>\\r\\n<div class=\\\"available-columns-container\\\"></div>\\r\\n<div class=\\\"summary-description-container\\\"></div>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    return \"<div id=\\\"\"\n    + this.escapeExpression(this.lambda(depth0, depth0))\n    + \"\\\"></div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"settings-dropdown-container csui-settings-show\\\" tabindex=\\\"0\\\"></div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showDefaults : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers.each.call(depth0,(depth0 != null ? depth0.regions : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_settings_impl_settings', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/settings/impl/settings',[],function(){});\n","csui.define('csui/controls/settings/settings.view',['require', 'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette3', 'i18n',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/settings/impl/settings.dropdown.view',\r\n  'csui/controls/settings/selected.columns/selected.columns.view',\r\n  'csui/controls/settings/summary.description/summary.description.view',\r\n  'i18n!csui/controls/settings/impl/nls/lang',\r\n  'hbs!csui/controls/settings/impl/settings',\r\n  'css!csui/controls/settings/impl/settings'\r\n], function (require, $, _, Backbone, Marionette, i18n, TabableRegionBehavior, SettingsDropDownView,\r\n    SelectedColumnsView, SummaryDescriptionView, lang, template) {\r\n  'use strict';\r\n\r\n  var SettingsView = Marionette.View.extend({\r\n\r\n    constructor: function SettingsView(options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        showDefaults: true\r\n      });\r\n      this.plugins = _.each(options.options, function (setting, key) {\r\n        setting.region = \"#\" + setting.id;\r\n      });\r\n\r\n      Marionette.View.call(this, options);\r\n    },\r\n\r\n    className: 'csui-settings-container',\r\n\r\n    template: template,\r\n\r\n    templateContext: function () {\r\n      var context = {\r\n        showDefaults: this.options.showDefaults,\r\n        regions: _.map(this.plugins, function (region) {\r\n          return region.region.substring(1);\r\n        })\r\n      };\r\n      return context;\r\n    },\r\n\r\n    regions: function () {\r\n      var regions = {\r\n        'settingsDropDownContainer': this.options.settingsDropDownContainer ||\r\n                                     '.settings-dropdown-container'\r\n      };\r\n      if (this.options.showDefaults) {\r\n        _.extend(regions, {\r\n          'selectedColumnsContainer': '.selected-columns-container',\r\n          'availableColumnsContainer': '.available-columns-container',\r\n          'summaryOrDescriptionContainer': '.summary-description-container'\r\n        });\r\n      }\r\n\r\n      _.each(this.plugins, function (plugin) {\r\n        regions[plugin.id] = plugin.region;\r\n      });\r\n\r\n      return regions;\r\n    },\r\n\r\n    ui: function () {\r\n      var ui = {\r\n        settingsDropDownContainer: '.settings-dropdown-container'\r\n      };\r\n      if (this.options.showDefaults) {\r\n        _.extend(ui, {\r\n          selectedColumnsContainer: '.selected-columns-container',\r\n          availableColumnsContainer: '.available-columns-container',\r\n          summaryOrDescriptionContainer: '.summary-description-container'\r\n        });\r\n      }\r\n      _.each(this.plugins, function (plugin) {\r\n        ui[plugin.id] = plugin.region;\r\n      });\r\n      return ui;\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegionBehavior: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    currentlyFocusedElement: function (event) {\r\n      var tabElements = this.$('*[tabindex]');\r\n      if (tabElements.length) {\r\n        tabElements.prop('tabindex', 0);\r\n      }\r\n      if (!!event && event.shiftKey) {\r\n        return $(tabElements[tabElements.length - 1]);\r\n      } else {\r\n        return $(tabElements[0]);\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n      var optionsCollection = new Backbone.Collection(this.options.options);\r\n      if (this.options.showDefaults) {\r\n\r\n        var display = this.model && this.model.get('display'),\r\n            selectedColumnsCollection, availableColumnsCollection;\r\n        //Keeping the current state of model for ESC press\r\n        this.prevModel = JSON.parse(JSON.stringify(display));\r\n        if (display && display.display_regions) {\r\n          selectedColumnsCollection = display.display_regions.selected;\r\n          availableColumnsCollection = display.display_regions.available;\r\n        }\r\n\r\n        var availableCollection, selectedCollection;\r\n        if (display && display.summary_description && display.summary_description.available) {\r\n          availableCollection = display.summary_description.available;\r\n          selectedCollection = display.summary_description.selected;\r\n        }\r\n\r\n        selectedColumnsCollection && selectedColumnsCollection.where({\r\n          isNew: true\r\n        }).map(function (model) {\r\n          model.set({\r\n            isNew: false\r\n          }, {\r\n            silent: true\r\n          });\r\n        });\r\n\r\n        optionsCollection.add([{\r\n          id: 'selectedColumnsContainer',\r\n          label: lang.columnSettingsTitle,\r\n          view: new SelectedColumnsView({\r\n            settingsView: this,\r\n            isTabularView: this.options.isTabularView,\r\n            tableCollection: this.options.tableCollection,\r\n            collection: selectedColumnsCollection,\r\n            availableColumnsCollection: availableColumnsCollection,\r\n            settings: this.model\r\n          })\r\n        }, {\r\n          id: 'summaryOrDescriptionContainer',\r\n          label: lang.summaryDescriptionTitle,\r\n          view: new SummaryDescriptionView({\r\n            settingsView: this,\r\n            selectedCollection: selectedCollection,\r\n            availableCollection: availableCollection,\r\n            collection: availableCollection,\r\n            settings: this.model\r\n          })\r\n        }], {\r\n          at: 0\r\n        });\r\n      }\r\n      this.settingsDropDownView = new SettingsDropDownView({\r\n        settingsView: this,\r\n        model: this.model,\r\n        tableCollection: this.options.tableCollection,\r\n        collection: optionsCollection,\r\n        showSettings: this.showSettings.bind(this)\r\n      });\r\n      this.showChildView(\"settingsDropDownContainer\", this.settingsDropDownView);\r\n      this.currentCard = this.ui.settingsDropDownContainer;\r\n    },\r\n\r\n    onShow: function () {\r\n      var self = this;\r\n      this.$el.css('height', this.currentCard.outerHeight());\r\n      setTimeout(function () {\r\n        if (self.settingsDropDownView.$el.find(\".binf-list-group-item a\").length > 0) {\r\n          $(self.settingsDropDownView.$el.find(\".binf-list-group-item a\")[0]).trigger('focus');\r\n        }\r\n      }, 0);\r\n    },\r\n\r\n    showSettings: function (regionName, childView) {\r\n      if (!this.isCardChanging) {\r\n        this.isCardChanging = true;\r\n        this.showChildView(regionName, childView);\r\n        this.animate(this.currentCard, this.ui[regionName]);\r\n        this.currentCard = this.ui[regionName];\r\n      }      \r\n    },\r\n\r\n    animate: function (current, next) {\r\n      this.$el && this.$el.css('height', next.outerHeight());\r\n      var self = this;\r\n      if (next.index() > current.index()) {\r\n        next.one('animationend', function () {\r\n          delete self.isCardChanging;\r\n          next.addClass('csui-settings-show').removeClass('animate-show');\r\n          next.find(\"[tabindex]:first\").trigger('focus');\r\n        });\r\n        next.addClass('animate-show');\r\n      } else {\r\n        current.one('animationend', function () {\r\n          delete self.isCardChanging;\r\n          current.removeClass('csui-settings-show animate-hide');\r\n          next.find(\"[tabindex]:first\").trigger('focus');\r\n        });\r\n        current.addClass('animate-hide');\r\n      }\r\n    },\r\n  });\r\n  return SettingsView;\r\n});\r\n\n","csui.define('csui/widgets/search.results/controls/sorting/impl/nls/localized.strings',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/widgets/search.results/controls/sorting/impl/nls/root/localized.strings',{\r\n  sortBy: 'Sort by...',\r\n  sortByThis: 'Sort by {0}',\r\n  sortOptionsAria: 'Sort options',\r\n  ascending: '{0}: Click to sort ascending',\r\n  descending: '{0}: Click to sort descending'\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/widgets/search.results/controls/sorting/impl/sort.menu',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <div class=\\\"csui-search-sort-options \\\">\\r\\n    <button id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\" type=\\\"button\\\" class=\\\"binf-btn binf-btn-default binf-dropdown-toggle\\\"\\r\\n            data-binf-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.sortButtonAria || (depth0 != null ? depth0.sortButtonAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"sortButtonAria\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n      <span class=\\\"cs-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n      <span class=\\\"cs-icon icon-caret-down\\\"></span>\\r\\n    </button>\\r\\n    <ul class=\\\"binf-dropdown-menu\\\" role=\\\"menu\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.listAria || (depth0 != null ? depth0.listAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"listAria\",\"hash\":{}}) : helper)))\n    + \"\\\"></ul>\\r\\n  </div>\\r\\n  <a href=\\\"javascript:void(0);\\\" class=\\\"cs-icon search-sort-btn icon-sortArrowDown\\\"></a>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.sortEnable : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_widgets_search.results_controls_sorting_impl_sort.menu', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/widgets/search.results/controls/sorting/sort.menu.view',['module',\r\n  'require',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/utils/log',\r\n  'i18n!csui/widgets/search.results/controls/sorting/impl/nls/localized.strings',\r\n  'hbs!csui/widgets/search.results/controls/sorting/impl/sort.menu',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/lib/binf/js/binf'\r\n], function (module, require, $, _, Backbone, Marionette, log, lang, template,\r\n    PerfectScrollingBehavior, TabableRegionBehavior) {\r\n\r\n  var SearchSortingView = Marionette.ItemView.extend({\r\n\r\n    className: 'cs-sort-links',\r\n    template: template,\r\n    templateHelpers: function () {\r\n      var messages = {\r\n        sortBy: lang.sortBy\r\n      };\r\n      var selectedTitle = this.selected.get('title') ? this.selected.get('title') :\r\n                          this.constants.DEFAULT_SORT;\r\n      return {\r\n        messages: messages,\r\n        sortEnable: this.collection.models.length && !!this.collection.sorting &&\r\n                    this.options.enableSorting,\r\n        id: _.uniqueId('sortButton'),\r\n        sortButtonAria: lang.sortOptionsAria,\r\n        listAria: lang.sortOptionsAria\r\n      };\r\n    },\r\n\r\n    constants: {\r\n      SORT_ASC: \"asc\",\r\n      SORT_DESC: \"desc\",\r\n      DEFAULT_SORT: \"relevance\"\r\n    },\r\n\r\n    events: {\r\n      'click .binf-dropdown-menu > li > a': 'onSortOptionClick',\r\n      'click a.search-sort-btn': 'onSortOrderClick',\r\n      \"keydown\": \"onKeyInView\"\r\n    },\r\n\r\n    ui: {\r\n      toggle: '>.csui-search-sort-options>.binf-dropdown-toggle',\r\n      selectedLabel: '>.csui-search-sort-options>.binf-dropdown-toggle >.cs-label',\r\n      selectedIcon: '>.csui-search-sort-options>.binf-dropdown-toggle >.cs-icon',\r\n      sortOrderBtn: 'a.search-sort-btn'\r\n    },\r\n\r\n    constructor: function SearchSortingView(options) {\r\n      Marionette.View.prototype.constructor.apply(this, arguments);\r\n\r\n      this.config = this.options.config || {};\r\n\r\n      this.selected = new Backbone.Model();\r\n      if (this.collection) {\r\n        var orderBy = this.options.orderBy || this.collection.orderBy;\r\n        this.collection.setOrder(orderBy, false);\r\n        this.listenTo(this.collection, 'reset', this.render); // render after reset of collection\r\n      }\r\n      this.listenTo(this.collection, 'change', this._refreshSelection);\r\n      this.listenTo(this.selected, 'change', this._updateSelection);\r\n    },\r\n\r\n    onRender: function () {\r\n      this.ui.toggle.binf_dropdown();\r\n      this.ui.sortOrderBtn.hide();\r\n      if (this.collection.sorting !== undefined\r\n          && this.collection.sorting.links !== undefined) {\r\n        if (this.collection.sorting.sort &&\r\n            this.collection.sorting.sort[0] !== this.constants.DEFAULT_SORT) {\r\n          this._setSelection(this.collection.sorting.links[this.collection.sorting.sort]);\r\n          this._addDropdownItems($.extend({}, this.collection.sorting.links),\r\n              this.collection.sorting.sort[0]);\r\n          this.ui.sortOrderBtn.show();\r\n        } else {\r\n          this._setSelection(this.collection.sorting.links[this.constants.DEFAULT_SORT]);\r\n          this._addDropdownItems($.extend({}, this.collection.sorting.links), \"\");\r\n          this.$el.find(\".binf-dropdown-menu > :first-child\").addClass(\"binf-active\");\r\n          this.$el.find(\".binf-dropdown-menu > :first-child a.csui-sort-option\").attr(\"aria-checked\", \"true\");\r\n          this.$el.find(\".binf-dropdown-menu > :first-child .cs-icon\").addClass(\r\n              \"icon-listview-checkmark\");\r\n          this.ui.sortOrderBtn.hide();\r\n        }\r\n        this.ui.selectedLabel.text(this.selected.get('title'));\r\n        if (this.selected.get(\"order\") === this.constants.SORT_ASC) {\r\n          this.ui.sortOrderBtn.removeClass(\"icon-sortArrowDown\");\r\n          this.ui.sortOrderBtn.addClass(\"icon-sortArrowUp\");\r\n          var titleD = _.str.sformat(lang.descending, this.selected.get('title'));\r\n          this.ui.sortOrderBtn.attr('title', titleD).attr('aria-label', titleD);\r\n        } else {\r\n          this.ui.sortOrderBtn.removeClass(\"icon-sortArrowUp\");\r\n          this.ui.sortOrderBtn.addClass(\"icon-sortArrowDown\");\r\n          var titleA = _.str.sformat(lang.ascending, this.selected.get('title'));\r\n          this.ui.sortOrderBtn.attr('title', titleA).attr('aria-label', titleA);\r\n        }\r\n      }\r\n    },\r\n    onKeyInView: function (event) {\r\n      // Watch for tab key\r\n      if (event.keyCode === 9) {\r\n        !!this.$el.find('.binf-open') && this.$el.find('.binf-open').removeClass('binf-open');\r\n      }\r\n\r\n    },\r\n    behaviors: {\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.binf-dropdown-menu',\r\n        suppressScrollX: true\r\n      },\r\n      TabableRegionBehavior: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    currentlyFocusedElement: function (event) {\r\n      var tabElements = this.$('*[tabindex]');\r\n      if (tabElements.length) {\r\n        tabElements.prop('tabindex', 0);\r\n      }\r\n      if (!!event && event.shiftKey) {\r\n        return $(tabElements[tabElements.length - 1]);\r\n      } else {\r\n        if (this.orderClicked) {\r\n          return this.ui.sortOrderBtn;\r\n        } else {\r\n          return $(tabElements[0]);\r\n        }\r\n      }\r\n    },\r\n\r\n    _setSelection: function (model) {\r\n      var sortObj = {};\r\n      if (this.collection.sorting.sort) {\r\n        if (this.collection.sorting.sort[0].indexOf(this.constants.SORT_DESC) === 0) {\r\n          sortObj.id = this.collection.sorting.sort[0].replace(/desc_/g, '');\r\n          sortObj.order = this.constants.SORT_DESC;\r\n        }\r\n        if (this.collection.sorting.sort[0].indexOf(this.constants.SORT_ASC) === 0) {\r\n          sortObj.id = this.collection.sorting.sort[0].replace(/asc_/g, '');\r\n          sortObj.order = this.constants.SORT_ASC;\r\n        }\r\n      } else {\r\n        sortObj.id = \"\";\r\n        sortObj.order = this.constants.SORT_DESC;\r\n      }\r\n      sortObj.title = _.str.trim((model && model.name) ? this.trimSortOptionName(model.name) :\r\n                                 \"empty\");\r\n      var titleVal = _.str.sformat(lang.sortByThis, sortObj.title);\r\n      this.$el.find('.csui-search-sort-options \t.binf-dropdown-toggle').attr('title', titleVal);\r\n      this.selected.set(sortObj);\r\n    },\r\n\r\n    _updateSelection: function () {\r\n      this.ui.selectedLabel.text(this.selected.get('title'));\r\n    },\r\n\r\n    _refreshSelection: function (model) {\r\n      if (!!(model.collection && model.collection.inMetadataNavigationView)) {\r\n        model.collection.isSortOptionSelected = true;\r\n      }\r\n      if (model.get('id') === this.selected.get('id')) {\r\n        this._setSelection(model);\r\n      }\r\n    },\r\n\r\n    resetCollection: function (filter, autoFetch) {\r\n      this.collection.setOrder(filter, true);\r\n    },\r\n\r\n    sortPage: function (e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      var orderBy = [];\r\n      var idVal = $(e.currentTarget).attr('data-csui-sortoption-id');\r\n      if (idVal !== undefined) {\r\n        orderBy.push(idVal + \" \" + this.constants.SORT_DESC);\r\n      } else {\r\n        orderBy.push(\"\");\r\n      }\r\n      this.resetCollection(orderBy.join(), true);\r\n    },\r\n\r\n    _addDropdownItems: function (sorting, activeOption) {\r\n      var jqUl = this.$el.find('.binf-dropdown-menu'),\r\n        self = this;\r\n      if (sorting[this.constants.DEFAULT_SORT]) {\r\n        var name = self.trimSortOptionName(sorting[self.constants.DEFAULT_SORT].name);\r\n        jqUl.append(\r\n          '<li role=\"presentation\"><a role=\"menuitemradio\" aria-checked=\"false\" href=\"#\" class=\"csui-sort-option\" data-binf-toggle=\"tab\"><span class=\"cs-icon\"></span><span class=\"cs-label\" title=\"' +\r\n           name + '\">' + name + '</span></a></li>');\r\n        delete sorting[self.constants.DEFAULT_SORT];\r\n      }\r\n\r\n      for (var sort in sorting) {\r\n        if (sort.search(\"asc_\") === 0) {\r\n          delete sorting[sort];\r\n        } else {\r\n          var id2Use = sort.replace(/desc_/g, '');\r\n          var nam = self.trimSortOptionName(sorting[sort].name);\r\n          if (activeOption.split(/_(.+)/, 2)[1] === sort.split(/_(.+)/, 2)[1]) {\r\n            jqUl.append('<li role=\"presentation\" class=\"binf-active\"><a role=\"menuitemradio\" aria-checked=\"true\" data-csui-sortoption-id=\"' +\r\n              id2Use +\r\n              '\" href=\"#\" class=\"csui-sort-option\" data-binf-toggle=\"tab\"><span class=\"cs-icon icon-listview-checkmark\"></span><span class=\"cs-label\" title=\"' +\r\n              nam + '\">' + nam + '</span></a></li>');\r\n          } else {\r\n            jqUl.append('<li role=\"presentation\"><a role=\"menuitemradio\" aria-checked=\"false\" data-csui-sortoption-id=\"' +\r\n              id2Use +\r\n              '\" href=\"#\" class=\"csui-sort-option\" data-binf-toggle=\"tab\"><span class=\"cs-icon\"></span><span class=\"cs-label\" title=\"' +\r\n              nam + '\">' + nam + '</span></a></li>');\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    activate: function (element) {\r\n      if (this.$el.find(\"li\").hasClass(\"binf-active\") === true) {\r\n        this.$el.find(\"li\").removeClass(\"binf-active\");\r\n        this.$el.find(\"li a.csui-sort-option\").attr('aria-checked', 'false');\r\n        this.$el.find(\"li .cs-icon\").removeClass(\"icon-listview-checkmark\");\r\n      }\r\n      $(element.parentElement).addClass(\"binf-active\");\r\n      $(element).find(\"a.csui-sort-option\").attr('aria-checked', 'true');\r\n      $(element).find(\"span.cs-icon\").addClass(\"icon-listview-checkmark\");\r\n    },\r\n\r\n    resetSelection: function (id, name) {\r\n      var sortObj = {};\r\n      sortObj.id = id;\r\n      sortObj.title = _.str.trim(name);\r\n      sortObj.order = this.constants.SORT_DESC;\r\n      this.selected.set(sortObj);\r\n    },\r\n\r\n    onSortOptionClick: function (event) {\r\n      this.collection.isSortOptionSelected = true;\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      if (event.currentTarget.children[1].innerHTML.toLowerCase() === this.constants.DEFAULT_SORT) {\r\n        this.ui.sortOrderBtn.hide();\r\n      }\r\n      this.orderClicked = false;\r\n      this.activate(event.currentTarget);\r\n      var id2Use = $(event.currentTarget).attr('data-csui-sortoption-id');\r\n      if (id2Use === undefined) {\r\n        id2Use = \"\";\r\n      }\r\n      this.resetSelection(id2Use, event.currentTarget.children[1].innerHTML);\r\n      this.sortPage(event);\r\n      this.ui.toggle.binf_dropdown('toggle');\r\n      this.trigger(\"change:sortOrder\");\r\n    },\r\n\r\n    onSortOrderClick: function (event) {\r\n      this.collection.isSortOptionSelected = true;\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      this.orderClicked = true;\r\n      var orderBy = [];\r\n      if (this.ui.sortOrderBtn.hasClass(\"icon-sortArrowDown\")) {\r\n        this.ui.sortOrderBtn.removeClass(\"icon-sortArrowDown\");\r\n        this.ui.sortOrderBtn.addClass(\"icon-sortArrowUp\");\r\n        orderBy.push(this.selected.id + \" \" + this.constants.SORT_ASC);\r\n      } else {\r\n        this.ui.sortOrderBtn.removeClass(\"icon-sortArrowUp\");\r\n        this.ui.sortOrderBtn.addClass(\"icon-sortArrowDown\");\r\n        orderBy.push(this.selected.id + \" \" + this.constants.SORT_DESC);\r\n      }\r\n      this.collection.setOrder(orderBy.join(), true);\r\n    },\r\n\r\n    trimSortOptionName: function (name) {\r\n      return name.replace(/\\(([;\\s\\w\\\"\\=\\,\\:\\.\\/\\~\\{\\}\\?\\!\\-\\%\\&\\#\\$\\^\\(\\)]*?)\\)/g, \"\");\r\n    }\r\n\r\n  });\r\n\r\n  return SearchSortingView;\r\n});\r\n\n","csui.define('csui/widgets/search.results/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/widgets/search.results/impl/nls/root/lang',{\r\n  loadingSearchResultMessage: \"Loading search results...\",\r\n  noSearchResultMessage: \"No results found.\",\r\n  searchQueryKeyboardShortcut:  \"Press Ctrl+F3 to go to the Search Query box\",\r\n  suggestionKeyword: \"Suggestions:\",\r\n  searchSuggestion1: \"Make sure all words are spelled correctly.\",\r\n  searchSuggestion2: \"Try different keywords.\",\r\n  searchSuggestion3: \"Try more general keywords.\",\r\n  searchSuggestion4: \"Try broadening or removing the location restriction.\",\r\n  failedSearchResultMessage: \"Loading search results failed.\",\r\n  owner: \"Owner\",\r\n  created: \"Created\",\r\n  createdBy: \"Created by\",\r\n  modified: \"Modified\",\r\n  size: \"Size\",\r\n  type: \"Type\",\r\n  items: \"Items\",\r\n  searchResults: \"Search Results\",\r\n  searchSettings: \"Search Settings\",\r\n  clearAll: \"Clear all\",\r\n  about: \"About\",\r\n  expandAll: \"Expand all\",\r\n  collapseAll: \"Collapse all\",\r\n  relevance: \"Relevance\",\r\n  name: \"Name\",\r\n  creationDate: \"CreationDate\",\r\n  showMore: \"Show more\",\r\n  showMoreAria: \"Show more metadata\",\r\n  showLess: \"Show less\",\r\n  showLessAria: \"Show less metadata\",\r\n  selectAll: \"Select all results on current page.\",\r\n  selectAllAria: 'Select all results on current page',\r\n  selectItem: 'Select {0}',\r\n  selectItemAria: 'Select {0}. When selected an action bar of options can be reached per shift-tab',\r\n  searchBackTooltip: 'Go back',\r\n  searchBackTooltipTo: 'Go back to \\'{0}\\'',\r\n  searchBackToHome: 'Home',\r\n  versionLabel: 'v',\r\n  versionSeparator: '.',\r\n  filterExpandTooltip: 'Show filters',\r\n  filterCollapseTooltip: 'Hide filters',\r\n  filterExpandAria: 'Show filter panel',\r\n  filterCollapseAria: 'Hide filter panel',\r\n  customSearchTab: 'Search',\r\n  searchFilterTab: 'Refine by',\r\n  mimeTypeAria: 'type {0}',\r\n  itemBreadcrumbAria: 'Breadcrumb {0}',\r\n  formatForNone: \"{0} items\",\r\n  formatForOne: \"{0} item\",\r\n  formatForTwo: \"{0} items\",\r\n  formatForFive: \"{0} items\",\r\n  promotedLabel: \"Promoted\",\r\n  dialogTitle: \"Filters\",\r\n  dialogTemplate: \"Applying filters would clear your current selection.\" + \"\\n\" +\r\n                  \"Do you want to proceed?\",\r\n  standardSearchView: \"Standard search view\",\r\n  tabularSearchView: \"Tabular search view\",\r\n  showDescription: \"Show description\",\r\n  hideDescription: \"Hide description\",\r\n  descriptionColumnTitle: \"Description\",\r\n  summaryColumnTitle: \"Summary\"\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/widgets/search.results/impl/search.results.header',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"    <span class=\\\"csui-search-facet-filter-parent\\\">\\r\\n      <span class=\\\"csui-search-filter icon icon-toolbarFilter\\\" role=\\\"button\\\"\\r\\n            aria-label=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.filterAria : stack1), depth0))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.searchFilterTooltip : stack1), depth0))\n    + \"\\\"\\r\\n            tabindex=\\\"0\\\"></span>\\r\\n    </span>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"      <div class=\\\"csui-search-header-action csui-search-settings\\\"\\r\\n           title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.settingsLabel : stack1), depth0))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.settingsLabel : stack1), depth0))\n    + \"\\\" tabindex=\\\"0\\\" role=\\\"menu\\\" aria-haspopup=\\\"true\\\"\\r\\n           aria-expanded=\\\"false\\\">\\r\\n        <svg class=\\\"csui-svg-icon csui-svg-icon-normal\\\" focusable=\\\"false\\\">\\r\\n          <use xlink:href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.spritePath || (depth0 != null ? depth0.spritePath : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"spritePath\",\"hash\":{}}) : helper)))\n    + \"#themes--carbonfiber--image--generated_icons--action_settings32\\\"></use>\\r\\n        </svg>\\r\\n        <svg class=\\\"csui-svg-icon csui-svg-icon-hover\\\" focusable=\\\"false\\\">\\r\\n          <use\\r\\n              xlink:href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.spritePath || (depth0 != null ? depth0.spritePath : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"spritePath\",\"hash\":{}}) : helper)))\n    + \"#themes--carbonfiber--image--generated_icons--action_settings32.hover\\\"></use>\\r\\n        </svg>\\r\\n        <svg class=\\\"csui-svg-icon csui-svg-icon-active\\\" focusable=\\\"false\\\">\\r\\n          <use\\r\\n              xlink:href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.spritePath || (depth0 != null ? depth0.spritePath : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"spritePath\",\"hash\":{}}) : helper)))\n    + \"#themes--carbonfiber--image--generated_icons--action_settings32.active\\\"></use>\\r\\n        </svg>\\r\\n        <div class=\\\"csui-settings-dropdown\\\"></div>\\r\\n      </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"csui-search-header\\\">\\r\\n   <span class=\\\"csui-search-arrow-back-parent\\\">\\r\\n   <span class=\\\"icon arrow_back cs-go-back\\\" aria-label=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.searchBackTooltip : stack1), depth0))\n    + \"\\\"\\r\\n         title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.searchBackTooltip : stack1), depth0))\n    + \"\\\" tabindex=\\\"0\\\" role=\\\"button\\\"></span>\\r\\n   </span>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.enableSearchFilter : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"  <div class=\\\"csui-search-header-title\\\"></div>\\r\\n  <div class=\\\"csui-search-right-header-container\\\">\\r\\n    <div class=\\\"csui-search-header-action csui-search-sorting\\\" id=\\\"csui-search-sorting\\\"></div>\\r\\n    <span class=\\\"csui-search-header-action icon icon-description-toggle binf-hidden\\\"\\r\\n          aria-label=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.descriptionTitle : stack1), depth0))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.descriptionTitle : stack1), depth0))\n    + \"\\\"\\r\\n          role=\\\"button\\\" tabindex=\\\"0\\\"></span>\\r\\n    <div class=\\\"csui-search-header-action csui-tabular-view\\\"\\r\\n         aria-label=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.tabularViewIconTitle : stack1), depth0))\n    + \"\\\"\\r\\n         role=\\\"button\\\" title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.tabularViewIconTitle : stack1), depth0))\n    + \"\\\" tabindex=\\\"0\\\">\\r\\n      <svg class=\\\"csui-svg-icon csui-svg-icon-normal csui-icon-off\\\" focusable=\\\"false\\\">\\r\\n        <use\\r\\n            xlink:href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.spritePath || (depth0 != null ? depth0.spritePath : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"spritePath\",\"hash\":{}}) : helper)))\n    + \"#themes--carbonfiber--image--generated_icons--action_table_tabular32\\\"></use>\\r\\n      </svg>\\r\\n      <svg class=\\\"csui-svg-icon csui-svg-icon-hover csui-icon-off\\\" focusable=\\\"false\\\">\\r\\n        <use\\r\\n            xlink:href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.spritePath || (depth0 != null ? depth0.spritePath : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"spritePath\",\"hash\":{}}) : helper)))\n    + \"#themes--carbonfiber--image--generated_icons--action_table_tabular32.hover\\\"></use>\\r\\n      </svg>\\r\\n      <svg class=\\\"csui-svg-icon csui-svg-icon-active csui-icon-off\\\" focusable=\\\"false\\\">\\r\\n        <use\\r\\n            xlink:href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.spritePath || (depth0 != null ? depth0.spritePath : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"spritePath\",\"hash\":{}}) : helper)))\n    + \"#themes--carbonfiber--image--generated_icons--action_table_tabular32.active\\\"></use>\\r\\n      </svg>\\r\\n      <svg class=\\\"csui-svg-icon csui-svg-icon-normal csui-icon-on\\\" focusable=\\\"false\\\">\\r\\n        <use\\r\\n            xlink:href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.spritePath || (depth0 != null ? depth0.spritePath : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"spritePath\",\"hash\":{}}) : helper)))\n    + \"#themes--carbonfiber--image--generated_icons--action_table_standard32\\\"></use>\\r\\n      </svg>\\r\\n      <svg class=\\\"csui-svg-icon csui-svg-icon-hover csui-icon-on\\\" focusable=\\\"false\\\">\\r\\n        <use\\r\\n            xlink:href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.spritePath || (depth0 != null ? depth0.spritePath : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"spritePath\",\"hash\":{}}) : helper)))\n    + \"#themes--carbonfiber--image--generated_icons--action_table_standard32.hover\\\"></use>\\r\\n      </svg>\\r\\n      <svg class=\\\"csui-svg-icon csui-svg-icon-active csui-icon-on\\\" focusable=\\\"false\\\">\\r\\n        <use\\r\\n            xlink:href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.spritePath || (depth0 != null ? depth0.spritePath : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"spritePath\",\"hash\":{}}) : helper)))\n    + \"#themes--carbonfiber--image--generated_icons--action_table_standard32.active\\\"></use>\\r\\n      </svg>\\r\\n    </div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.showSettings : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"  </div>\\r\\n</div>\\r\\n<div class=\\\"csui-table-rowselection-toolbar\\\"></div>\";\n}});\nHandlebars.registerPartial('csui_widgets_search.results_impl_search.results.header', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/widgets/search.results/impl/search.results.header.title',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"csui-search-header-title-container csui-fadeout\\\">\\r\\n  <h2 id=\\\"resultsTitle\\\" class=\\\"csui-results-title\\\"></h2>\\r\\n  <div id=\\\"customSearchTitle\\\" class=\\\"csui-custom-search-title\\\"></div>\\r\\n</div>\\r\\n<span id=\\\"headerCount\\\" class=\\\"headerCount\\\"></span>\\r\\n<span id=\\\"searchHeaderCountLive\\\" role=\\\"status\\\" class=\\\"binf-sr-only\\\" aria-live=\\\"polite\\\"></span>\";\n}});\nHandlebars.registerPartial('csui_widgets_search.results_impl_search.results.header.title', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/widgets/search.results/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/widgets/search.results/nls/root/lang',{\r\n  aboutNHits: \"About {0} hits\",\r\n  ToolbarItemReserve: \"Reserve\",\r\n  ToolbarItemUnreserve: \"Unreserve\"\r\n});\r\n\n","\ncsui.define('css!csui/widgets/search.results/impl/search.results',[],function(){});\n","csui.define('csui/widgets/search.results/impl/search.results.header.title.view',[\r\n  'csui/lib/underscore', 'csui/lib/marionette',\r\n  'hbs!csui/widgets/search.results/impl/search.results.header.title',\r\n  'i18n!csui/widgets/search.results/nls/lang',\r\n  'i18n!csui/widgets/search.results/impl/nls/lang',\r\n  'css!csui/widgets/search.results/impl/search.results'\r\n], function (_, Marionette, template, publicLang, lang) {\r\n  'use strict';\r\n\r\n  var TitleView = Marionette.ItemView.extend({\r\n\r\n    template: template,\r\n\r\n    constructor: function TitleView(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    ui: {\r\n      resultTitle: '#resultsTitle',\r\n      customSearchTitle: '#customSearchTitle',\r\n      headerCount: '#headerCount',\r\n      searchHeaderCountLive: '#searchHeaderCountLive'\r\n    },\r\n\r\n    _assignTotalItemElem: function () {\r\n      this.count = this.options.count || 0;\r\n      var countTxt     = _.str.sformat(publicLang.aboutNHits, this.count),\r\n          countTxtAria = \"\";\r\n      if (this.count !== 0) {\r\n        countTxtAria = countTxt;\r\n      } else {\r\n        countTxtAria = lang.noSearchResultMessage;\r\n      }\r\n      this.ui.headerCount.empty();\r\n      this.ui.headerCount.append(countTxt);\r\n\r\n      // with aria-live for the screen reader\r\n      this.countTextAria = lang.searchResults + \": \" + countTxtAria + \". \" +\r\n                           lang.searchQueryKeyboardShortcut;\r\n      this.ui.searchHeaderCountLive.text(this.countTextAria);\r\n\r\n      return true;\r\n    },\r\n\r\n    _updateSearchResultsTitle: function () {\r\n      var searchHeaderTitle, tooltipText;\r\n      if (!!this.options.useCustomTitle && !!this.title) {\r\n        this.ui.customSearchTitle.text(this.title);\r\n        tooltipText = lang.searchResults + ': ' + this.title;\r\n        searchHeaderTitle = lang.searchResults + ': ';\r\n      } else {\r\n        searchHeaderTitle = this.options.searchHeaderTitle || lang.searchResults;\r\n        tooltipText = searchHeaderTitle;\r\n      }\r\n      this.ui.resultTitle.text(searchHeaderTitle);\r\n      this.ui.resultTitle.parent().attr(\"title\", tooltipText);\r\n    },\r\n\r\n    setCustomSearchTitle: function (title) {\r\n      this.title = '\"' + title + '\"';\r\n      this.ui.customSearchTitle.text(title);\r\n      var resultsTitle = lang.searchResults + ': ';\r\n      this.ui.resultTitle.text(resultsTitle);\r\n      this.ui.resultTitle.parent().attr(\"title\", resultsTitle + this.title);\r\n    },\r\n\r\n    onRender: function () {\r\n      this._assignTotalItemElem();\r\n      this._updateSearchResultsTitle();\r\n    }\r\n\r\n  });\r\n\r\n  return TitleView;\r\n});\r\n\n","csui.define('csui/widgets/search.results/impl/search.results.header.view',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette', 'csui/utils/url', 'csui/utils/base',\r\n  'csui/utils/contexts/factories/previous.node',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/namedsessionstorage',\r\n  'csui/models/nodes',\r\n  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/utils/accessibility',\r\n  'csui/pages/start/perspective.routing',\r\n  'csui/controls/settings/settings.view',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/widgets/search.results/controls/sorting/sort.menu.view',\r\n  'i18n!csui/widgets/search.results/impl/nls/lang',\r\n  'hbs!csui/widgets/search.results/impl/search.results.header',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/widgets/search.results/impl/search.results.header.title.view',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n  'csui/themes/carbonfiber/svg_sprites/symbol/sprite',\r\n  'css!csui/widgets/search.results/impl/search.results'\r\n], function (_, $, Backbone, Marionette, Url, base, PreviousNodeModelFactory, NextNodeModelFactory,\r\n    NamedSessionStorage, NodeCollection, UserModelFactory, SearchQueryModelFactory, Accessibility,\r\n    PerspectiveRouting, SettingsView, GlobalMessage, TabableRegionBehavior, SortingView, lang,\r\n    headerTemplate, ApplicationScopeModelFactory, TitleView, ViewEventsPropagationMixin, sprite) {\r\n  \"use strict\";\r\n  var accessibleTable = Accessibility.isAccessibleTable(),\r\n      searchSortingRegion;\r\n  var SearchHeaderView = Marionette.LayoutView.extend({\r\n    className: \"csui-search-results-header\",\r\n    template: headerTemplate,\r\n    templateHelpers: function () {\r\n      var messages = {\r\n        searchResults: lang.searchResults,\r\n        clearAll: lang.clearAll,\r\n        about: lang.about,\r\n        searchBackTooltip: lang.searchBackTooltip,\r\n        searchFilterTooltip: lang.filterExpandTooltip,\r\n        filterAria: lang.filterExpandAria,\r\n        enableSearchFilter: this.options.enableFacetFilter,\r\n        tabularViewIconTitle: lang.tabularSearchView,\r\n        descriptionTitle: lang.showDescription,\r\n        showSettings: !!this.options.enableSearchSettings,\r\n        settingsLabel: lang.searchSettings,\r\n        tabularSearchView: this.collection.prevSearchDisplayStyle === \"TabularView\"\r\n      };\r\n      return {\r\n        spritePath: sprite.getSpritePath(),\r\n        messages: messages\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      back: '.cs-go-back',\r\n      parent: '.csui-search-arrow-back-parent',\r\n      filter: '.csui-search-filter',\r\n      filterParent: '.csui-search-facet-filter-parent',\r\n      resultTitle: '.csui-results-title',\r\n      searchHeaderTitle: '.csui-search-header-title',\r\n      settingsMenu: '.csui-search-settings',\r\n      toggleResultsView: '.csui-tabular-view',\r\n      toggleDescription: '.icon-description-toggle'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.back': 'onClickBack',\r\n      'click @ui.parent': 'onClickBack',\r\n      'keypress @ui.back': 'onClickBack',\r\n      'click @ui.filter': 'onClickFilter',\r\n      'keypress @ui.filter': 'onClickFilter',\r\n      'click @ui.filterParent': 'onClickFilter',\r\n      'click @ui.settingsMenu': '_createSettingsDropdown',\r\n      'keydown @ui.settingsMenu': 'showSettingsDropdown',\r\n      'click @ui.toggleResultsView': 'toggleView',\r\n      'keypress @ui.toggleResultsView': 'toggleView',\r\n      'click @ui.toggleDescription': 'onToggleDescriptionClick',\r\n      'keypress @ui.toggleDescription': 'onToggleDescriptionClick'\r\n    },\r\n\r\n    regions: {\r\n      settingsRegion: '.csui-settings-dropdown'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegionBehavior: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    currentlyFocusedElement: function (event) {\r\n      var tabElements = this.$('*[tabindex]');\r\n      if (tabElements.length) {\r\n        tabElements.prop('tabindex', 0);\r\n      }\r\n      if (!!event && event.shiftKey) {\r\n        return $(tabElements[tabElements.length - 1]);\r\n      } else {\r\n        return $(tabElements[0]).hasClass('csui-acc-focusable-active') ? this.ui.filter :\r\n               $(tabElements[0]);\r\n      }\r\n    },\r\n    namedSessionStorage: new NamedSessionStorage(),\r\n    constructor: function SearchHeaderView(options) {\r\n      options || (options = {});\r\n      this.localStorage = options && options.localStorage;\r\n      Marionette.LayoutView.prototype.constructor.call(this, options); // apply (modified)\r\n      // options to this\r\n      if (this.collection) {\r\n        this.listenTo(this.collection, 'reset',\r\n            this.updateHeader) // render after reset of collection\r\n            .listenTo(this.collection, 'remove', this._collectionItemRemoved);\r\n      }\r\n      // Use a local clone to remember the node, which may have been visited\r\n      // before the page with this widget got open; the original previousNode\r\n      // gets reset with every perspective change\r\n      this.previousNode = options.context.getModel(PreviousNodeModelFactory).clone();\r\n      this.nextNode = options.context.getModel(NextNodeModelFactory);\r\n      this.searchQuery = options.context.getModel(SearchQueryModelFactory);\r\n      this.applicationScope = options.context.getModel(ApplicationScopeModelFactory);\r\n      this.context = options.context;\r\n      if (this.applicationScope.previous('id') === \"\" || this._isPreviousRouter(\"Landing\")) {\r\n        /* Previous page is Home Page */\r\n        if (this.namedSessionStorage && this.namedSessionStorage.get(\"previousNodeId\")) {\r\n          /* Clear previous node info from sessionStorage as previous page is home page */\r\n          this.namedSessionStorage.remove(\"previousNodeName\");\r\n          this.namedSessionStorage.remove(\"previousNodeId\");\r\n        }\r\n      }\r\n\r\n      //retreive user preferred search display style from local storage\r\n      if (this.localStorage.storage.getItem('PrevSearchDisplayStyle')) {\r\n        this.showDescription = this.localStorage.get(\r\n            this._createSearchDisplayStyleKey() + '_showDescription');\r\n      }\r\n    },\r\n\r\n    initialize: function () {\r\n      this.titleView = this.options.titleView || new TitleView({});\r\n    },\r\n\r\n    updateHeader: function () {\r\n      this.renderTitleView();\r\n      if (this.collection && this.collection.length) {\r\n        this.ui.back.addClass('search_results_data');\r\n        this.ui.filter.addClass('search_results_data');\r\n        this.ui.toggleResultsView.removeClass(\"binf-hidden\");\r\n      } else {\r\n        this.ui.back.addClass('search_results_nodata');\r\n        this.ui.filter.addClass('search_results_nodata');\r\n        this.ui.toggleResultsView.addClass(\"binf-hidden\");\r\n      }\r\n      this.updateToggleIcon();\r\n      this.updateToggleDescriptionIcon();\r\n      this.updateToggleDescription();\r\n      if (this.collection.prevSearchDisplayStyle === \"TabularView\") {\r\n        this._createSortRegion();\r\n        this._createSortingView();\r\n      }\r\n    },\r\n\r\n    updateToggleDescriptionIcon: function () {\r\n      if (this.collection.prevSearchDisplayStyle === \"TabularView\") {\r\n        this.$el.find('.icon-description-toggle').removeClass(\r\n            'search-settings-none');\r\n        this.$el.find('.icon-description-toggle').removeClass(\r\n            'binf-hidden');\r\n        if (this.showDescription) {\r\n          this.$el.find('.icon-description-toggle').attr(\"title\",\r\n              lang.hideDescription);\r\n          this.$el.find('.icon-description-toggle').attr(\"aria-label\",\r\n              lang.hideDescription);\r\n        } else {\r\n          this.$el.find('.icon-description-toggle').attr(\"title\",\r\n              lang.showDescription);\r\n          this.$el.find('.icon-description-toggle').attr(\"aria-label\",\r\n              lang.showDescription);\r\n        }\r\n      } else {\r\n        this.$el.find('.icon-description-toggle').addClass(\r\n            'binf-hidden');\r\n        this.$el.find('.icon-description-toggle').removeClass(\r\n            'icon-description-shown');\r\n      }\r\n    },\r\n\r\n    updateToggleDescription: function () {\r\n      if (this.options.originatingView &&\r\n          this.options.originatingView.collection.prevSearchDisplayStyle === \"TabularView\") {\r\n        if (accessibleTable && this.options.originatingView.targetView) {\r\n          this.options.originatingView.getAdditionalColumns();\r\n        } else {\r\n          var descriptiveItems = this.options.originatingView.collection.filter(\r\n              function (model) { return model.get('description') }),\r\n              summaryItems = this.options.originatingView.collection.filter(\r\n                  function (model) { return model.get('summary') }),\r\n              showDescriptionFlag = this.localStorage.get(\r\n                  this._createSearchDisplayStyleKey() + '_showDescription');\r\n          this.selectedSettings = (this.selectedSettings) ? this.selectedSettings :\r\n                                  this.collection.selectedSettings;\r\n          switch (this.selectedSettings) {\r\n          case 'DO': {\r\n            if (descriptiveItems.length) {\r\n              this.$el.find('.icon-description-toggle').removeClass('binf-hidden');\r\n              this.trigger('toggle:description', {showDescriptions: showDescriptionFlag});\r\n              if (showDescriptionFlag) {\r\n                this.$el.find('.icon-description-toggle').removeClass(\r\n                    'icon-description-hidden')\r\n                    .addClass('icon-description-shown');\r\n                this.$el.find('.csui-description-collapsed').removeClass(\r\n                    'csui-description-collapsed');\r\n              }\r\n            } else if (!this.$el.find('.icon-description-toggle').hasClass('binf-hidden')) {\r\n              this.$el.find('.icon-description-toggle').addClass('binf-hidden');\r\n              this.trigger('toggle:description', {showDescriptions: false});\r\n              this.options.originatingView && this.options.originatingView.targetView &&\r\n              this.options.originatingView.targetView.$el.find('.cs-description').addClass(\r\n                  'csui-description-collapsed');\r\n            }\r\n            break;\r\n          }\r\n          case 'SP':\r\n          case 'DP':\r\n          case 'SD': {\r\n            if (descriptiveItems.length || summaryItems.length) {\r\n              this.$el.find('.icon-description-toggle').removeClass('binf-hidden');\r\n              this.trigger('toggle:description', {showDescriptions: showDescriptionFlag});\r\n              if (showDescriptionFlag) {\r\n                this.$el.find('.icon-description-toggle').removeClass(\r\n                    'icon-description-hidden')\r\n                    .addClass('icon-description-shown');\r\n                this.$el.find('.csui-description-collapsed').removeClass(\r\n                    'csui-description-collapsed');\r\n              }\r\n            } else if (!this.$el.find('.icon-description-toggle').hasClass('binf-hidden')) {\r\n              this.$el.find('.icon-description-toggle').addClass('binf-hidden');\r\n              this.trigger('toggle:description', {showDescriptions: false});\r\n              this.options.originatingView && this.options.originatingView.targetView &&\r\n              this.options.originatingView.targetView.$el.find('.cs-description').addClass(\r\n                  'csui-description-collapsed');\r\n            }\r\n            break;\r\n          }\r\n          case 'SO': {\r\n            if (summaryItems.length) {\r\n              this.$el.find('.icon-description-toggle').removeClass('binf-hidden');\r\n              this.trigger('toggle:description', {showDescriptions: showDescriptionFlag});\r\n              if (showDescriptionFlag) {\r\n                this.$el.find('.icon-description-toggle').removeClass(\r\n                    'icon-description-hidden')\r\n                    .addClass('icon-description-shown');\r\n                this.$el.find('.csui-description-collapsed').removeClass(\r\n                    'csui-description-collapsed');\r\n              }\r\n            } else if (!this.$el.find('.icon-description-toggle').hasClass('binf-hidden')) {\r\n              this.$el.find('.icon-description-toggle').addClass('binf-hidden');\r\n              this.trigger('toggle:description', {showDescriptions: false});\r\n              this.options.originatingView && this.options.originatingView.targetView &&\r\n              this.options.originatingView.targetView.$el.find('.cs-description').addClass(\r\n                  'csui-description-collapsed');\r\n            }\r\n            break;\r\n          }\r\n          case 'NONE': {\r\n            this.$el.find('.icon-description-toggle').addClass('search-settings-none');\r\n            this.options.originatingView && this.options.originatingView.targetView &&\r\n            this.options.originatingView.targetView.$el.find('.cs-description').addClass(\r\n                'csui-description-collapsed');\r\n            this.trigger('toggle:description', {showDescriptions: false});\r\n            break;\r\n          }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    onRender: function () {\r\n      this.renderTitleView();\r\n      if (this.collection && this.collection.length) {\r\n        this.ui.back.addClass('search_results_data');\r\n        this.ui.filter.addClass('search_results_data');\r\n        this.ui.toggleResultsView.removeClass(\"binf-hidden\");\r\n      } else {\r\n        this.ui.back.addClass('search_results_nodata');\r\n        this.ui.filter.addClass('search_results_nodata');\r\n        this.ui.toggleResultsView.addClass(\"binf-hidden\");\r\n      }\r\n\r\n      this.rendered = true;\r\n      this.$el.show();\r\n\r\n      // This checks the whole browser history, since the page has been loaded;\r\n      // not just the history in the window, since the Smart UI has appeared there.\r\n      // Making the page behave differently, when opened in the browser directly\r\n      // and when navigating to it from some link is a bad practice.  UI breaks\r\n      // the principle, that the URL shows a resource in the same way.  *If you\r\n      // reload the page - it is just hitting F5 - the artificial state built\r\n      // among the internal navigation gets lost anyway*.  It is better to leave\r\n      // the browser history on the browser and its handling on the browser and\r\n      // its buttons and not trying to \"help the user\" by duplicating the\r\n      // functionality like this.\r\n      if (this.options.enableBackButton) {\r\n        this.ui.back.attr('title', this.options.backButtonToolTip);\r\n        this.ui.back.attr('aria-label', this.options.backButtonToolTip);\r\n      } else if (PerspectiveRouting.getInstance(this.options).hasRouted() || history.state ||\r\n                 this._isViewStateModelEnabled() ||\r\n                 this.previousNode.get('id') ||\r\n                 (!!this.namedSessionStorage && this.namedSessionStorage.get(\"previousNodeId\")) ||\r\n                 this._isPreviousRouter(\"Metadata\")) {\r\n        // In integration scenario we cannot depend on history.state to show back button.\r\n        //So providing a option to show backbutton based on option\r\n        this._setBackButtonTitle();\r\n      } else {\r\n        this.ui.back.hide();\r\n        this.ui.parent.hide();\r\n      }\r\n      if (!this.tableRowSelectionToolbarRegion) {\r\n\r\n        this._createToolbarRegion();\r\n\r\n        this.options.originatingView._updateToolbarActions();\r\n      }\r\n    },\r\n\r\n    renderTitleView: function () {\r\n      _.extend(this.titleView.options, {\r\n        count: this.collection && this.collection.totalCount,\r\n        useCustomTitle: !!this.options.useCustomTitle,\r\n        searchHeaderTitle: this.collection && this.collection.searching ?\r\n                           this.collection.searching.result_title : lang.searchResults\r\n      });\r\n\r\n      this.titleView.render();\r\n      Marionette.triggerMethodOn(this.titleView, 'before:show', this.titleView, this);\r\n      this.ui.searchHeaderTitle.append(this.titleView.el);\r\n      Marionette.triggerMethodOn(this.titleView, 'show', this.titleView, this);\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      this.titleView.destroy();\r\n    },\r\n\r\n    showSettingsDropdown: function (event) {\r\n      var keyCode = event.keyCode;\r\n      if (keyCode === 13 || keyCode === 32) {\r\n        this._createSettingsDropdown(event);\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      }\r\n    },\r\n\r\n    _createSettingsDropdown: function (event) {\r\n      var eventTarget = event.target;\r\n      if (!eventTarget.classList.contains('csui-search-settings')) {\r\n        return; // event bubbled from dropdown to toolbar item => ignore it\r\n      }\r\n      if (!this.settingsView || (this.settingsView && this.settingsView.isDestroyed())) {\r\n        $(document).on('mouseup.dropdown' + this.cid, _.bind(this._closeSettingsMenu, this));\r\n        this.data = {};\r\n        this.settingsView = new SettingsView({\r\n          model: this.options.settings,\r\n          tableCollection: this.collection,\r\n          data: this.data,\r\n          isTabularView: this.collection.prevSearchDisplayStyle === 'TabularView'\r\n        });\r\n        this.listenTo(this.settingsView, 'close:menu', _.bind(function (event) {\r\n          this._destroySettingsDropdown(event);\r\n        }, this));\r\n        this.settingsRegion.show(this.settingsView);\r\n        this.propagateEventsToViews(this.settingsView);\r\n        this.settingsView.$el.find('.binf-show').trigger('focus');\r\n        this.settingsView.isVisible = true;\r\n        this.listenTo(this.settingsView, 'update:showSummaryDescriptions', function () {\r\n          this.selectedSettings = this.settingsView.model.get(\r\n              'display').summary_description.selected;\r\n          if (this.collection.prevSearchDisplayStyle === \"TabularView\") {\r\n            this.options.originatingView.targetView.selectedSettings = this.selectedSettings;\r\n            this.options.originatingView.targetView.options.descriptionRowViewOptions\r\n                .showSummaryOnly = this.selectedSettings === 'SO';\r\n            this.render();\r\n            this.updateHeader();\r\n            this._createSortRegion();\r\n            this._createSortingView();\r\n            this._createToolbarRegion();\r\n            this.options.originatingView._updateToolbarActions();\r\n            if (this.options.originatingView.collection.selectedItems &&\r\n                this.options.originatingView.collection.selectedItems.length > 0) {\r\n              this.options.originatingView.collection.selectedItems.reset(\r\n                  this.options.originatingView.targetView._allSelectedNodes.models);\r\n              this.options.originatingView.targetView._tableRowSelectionToolbarView.trigger(\r\n                  'toggle:condensed:header');\r\n            }\r\n          } else {\r\n            this.options.originatingView.targetView.render();\r\n            this.options.originatingView.targetView.trigger('render:metadata');\r\n          }\r\n        });\r\n      } else {\r\n        this._destroySettingsDropdown();\r\n      }\r\n    },\r\n\r\n    _destroySettingsDropdown: function (event) {\r\n      this.settingsView.destroy();\r\n      $(document).off('mouseup.dropdown' + this.cid);\r\n      if (!!this.data.summary_description || !!this.data.display_regions) {\r\n        this.options.originatingView.blockActions();\r\n        // setting the isSortOptionSelected only when there is a change in search settings\r\n        this.collection.isSortOptionSelected = true;\r\n        this.formData = new FormData();\r\n        var self = this;\r\n        _.mapObject(this.data, function (value, key) {\r\n          if (key === 'display_regions') {\r\n            self.formData.append(key, value);\r\n          } else if (key === 'summary_description') {\r\n            self.formData.append(key, value);\r\n          }\r\n        });\r\n        this.settingsView.model.save(null, {\r\n          parse: false,\r\n          data: this.formData,\r\n          processData: false,\r\n          cache: false,\r\n          contentType: false\r\n        }).done(_.bind(function (response) {\r\n          if (!!self.data.summary_description) {\r\n            self.settingsView.model.get(\r\n                'display').summary_description.selected = self.data.summary_description;\r\n            self.settingsView.trigger('update:showSummaryDescriptions');\r\n            self.options.originatingView.collection.settings_changed = false;\r\n          }\r\n          if (!!self.data.display_regions) {\r\n            self.options.originatingView.unblockActions();\r\n            self.options.originatingView.collection.settings_changed = true;\r\n            self.settingsView.options.tableCollection.fetch();\r\n          }\r\n          if (!self.options.originatingView.collection.settings_changed) {\r\n            self.options.originatingView.executeEndProcess();\r\n            self.trigger('render:table');\r\n          }\r\n          this.$el.find(\".csui-search-settings\").trigger('focus');\r\n        }, this)).fail(function (error) {\r\n          //onfailure to save search settings\r\n          error = new base.Error(error);\r\n          GlobalMessage.showMessage('error', error.message);\r\n          self.options.originatingView.unblockActions();\r\n        });\r\n        if (this.options.originatingView && this.options.originatingView.targetView &&\r\n            this.options.originatingView.targetView.standardHeaderView) { \r\n          this.options.originatingView.targetView.standardHeaderView.expandAllView.pageChange();\r\n          this.options.originatingView.targetView.standardHeaderView.expandAllView._isExpanded = false;\r\n        }\r\n      }\r\n      if (this.settingsView.isChanged) {\r\n        var regionModelCollection = this.settingsView.model.get(\r\n            'display').display_regions.selected;\r\n        _.each(this.options.originatingView.tableColumns.models, _.bind(function (model) {\r\n          var key = model.get('key');\r\n          if (key !== 'reserved' && key !== 'favorite') {\r\n            var availableModel = regionModelCollection.findWhere({key: key});\r\n            var newSequence = regionModelCollection.indexOf(availableModel);\r\n            model.set('sequence', newSequence);\r\n          }\r\n        }, this));\r\n        if (this.options.originatingView) {\r\n          this.trigger('render:table');\r\n          this.settingsView.isChanged = false;\r\n        }\r\n      }\r\n    },\r\n\r\n    _closeSettingsMenu: function (e) {\r\n      if ((this.ui.settingsMenu.is && this.ui.settingsMenu.is(e && e.target)) ||\r\n          (this.settingsView && this.settingsView.$el.has(e && e.target).length)) {\r\n        e.stopPropagation();\r\n      } else if (!(this.settingsView && this.settingsView.isDestroyed())) {\r\n        this._destroySettingsDropdown(e);\r\n        this.$el.find(\".csui-search-settings\").trigger('focus');\r\n      }\r\n    },\r\n\r\n    onToggleDescriptionClick: function (e) {\r\n      if ((e.type === 'keypress' && (e.keyCode === 13 || e.keyCode === 32)) ||\r\n          (e.type === 'click')) {\r\n        e.preventDefault();\r\n        var originatingView = this.options.originatingView;\r\n        if (!this.showDescription) {\r\n          this.localStorage.set(this._createSearchDisplayStyleKey() + '_showDescription', true);\r\n          originatingView.targetView.options.descriptionRowViewOptions.showDescriptions = true;\r\n          this.$el.find('.icon-description-toggle').attr(\"title\", lang.hideDescription);\r\n          this.$el.find('.icon-description-toggle').attr(\"aria-label\", lang.hideDescription);\r\n          originatingView.$el.find('.icon-description-toggle').removeClass(\r\n              'icon-description-hidden')\r\n              .addClass('icon-description-shown');\r\n          originatingView.$el.find('.csui-description-collapsed').removeClass(\r\n              'csui-description-collapsed');\r\n          this.showDescription = true;\r\n          this.trigger('toggle:description', {showDescriptions: true});\r\n        } else {\r\n          this.localStorage.set(this._createSearchDisplayStyleKey() + '_showDescription', false);\r\n          originatingView.targetView.options.descriptionRowViewOptions.showDescriptions = false;\r\n          originatingView.$el.find('.icon-description-toggle').addClass('icon-description-hidden')\r\n              .removeClass('icon-description-shown');\r\n          this.$el.find('.icon-description-toggle').attr(\"title\", lang.showDescription);\r\n          this.$el.find('.icon-description-toggle').attr(\"aria-label\", lang.showDescription);\r\n          originatingView.$el.find('.cs-description').addClass('csui-description-collapsed');\r\n          this.showDescription = false;\r\n          this.trigger('toggle:description', {showDescriptions: false});\r\n        }\r\n        this.$el.find('.icon-description-toggle').trigger('focus');\r\n      }\r\n    },\r\n\r\n    toggleView: function (e) {\r\n      if ((e.type === 'keypress' && (e.keyCode === 13 || e.keyCode === 32)) ||\r\n          (e.type === 'click')) {\r\n        e.stopImmediatePropagation();\r\n        e.preventDefault();\r\n        if (this.collection.prevSearchDisplayStyle === \"TabularView\") {\r\n          if (this.$el.parent('#header').hasClass('csui-show-header')) {\r\n            this.$el.parent('#header').removeClass('csui-show-header');\r\n          }\r\n          this.$el.find('.csui-table-rowselection-toolbar').addClass('binf-hidden');\r\n          this._prevSearchDisplayStyleLocalStorage(\"StandardView\");\r\n          this.collection.prevSearchDisplayStyle = \"StandardView\";\r\n          searchSortingRegion && searchSortingRegion.$el.empty();\r\n        } else {\r\n          this._prevSearchDisplayStyleLocalStorage(\"TabularView\");\r\n          this.collection.prevSearchDisplayStyle = \"TabularView\";\r\n          this._createSortRegion();\r\n          this.collection.isSortOptionSelected = true;\r\n          this._createSortingView();\r\n          this._createToolbarRegion();\r\n        }\r\n        this.updateToggleIcon();\r\n        this.updateToggleDescriptionIcon();\r\n        this.updateToggleDescription();\r\n        this.trigger('reload:searchForm');\r\n      }\r\n    },\r\n\r\n    updateToggleIcon: function () {\r\n      if (this.collection.prevSearchDisplayStyle === \"TabularView\") {\r\n        this.ui.toggleResultsView.attr(\"title\", lang.standardSearchView);\r\n        this.ui.toggleResultsView.attr(\"aria-label\", lang.standardSearchView);\r\n        this.ui.toggleResultsView.find('.csui-icon-off').addClass('binf-hidden');\r\n        this.ui.toggleResultsView.find('.csui-icon-on').removeClass('binf-hidden');\r\n      } else {\r\n        this.ui.toggleResultsView.attr(\"title\", lang.tabularSearchView);\r\n        this.ui.toggleResultsView.attr(\"aria-label\", lang.tabularSearchView);\r\n        this.ui.toggleResultsView.find('.csui-icon-on').addClass('binf-hidden');\r\n        this.ui.toggleResultsView.find('.csui-icon-off').removeClass('binf-hidden');\r\n      }\r\n\r\n    },\r\n\r\n    _createSortRegion: function () {\r\n      searchSortingRegion = new Marionette.Region({\r\n        el: '#csui-search-sorting'\r\n      });\r\n    },\r\n\r\n    _createSortingView: function () {\r\n      var originatingView = this.options.originatingView,\r\n          sortingView;\r\n\r\n      if (originatingView) {\r\n        if (!originatingView.sortingView) {\r\n          sortingView = new SortingView({\r\n            collection: this.options.collection,\r\n            enableSorting: this.options.enableSorting !== undefined ? this.options.enableSorting :\r\n                           true\r\n          });\r\n        } else {\r\n          sortingView = originatingView.sortingView;\r\n        }\r\n        searchSortingRegion.show(sortingView);\r\n      }\r\n    },\r\n\r\n    _createToolbarRegion: function () {\r\n      var tableRowSelectionToolbarRegion = new Marionette.Region({\r\n        el: '.csui-search-results-header .csui-table-rowselection-toolbar'\r\n      });\r\n      this.tableRowSelectionToolbarRegion = tableRowSelectionToolbarRegion;\r\n    },\r\n\r\n    _isPreviousRouter: function (name) {\r\n      var viewStateModel = this.context.viewStateModel;\r\n      return viewStateModel && viewStateModel.get(viewStateModel.CONSTANTS.LAST_ROUTER) === name;\r\n    },\r\n\r\n    _syncStorage: function (name, id) {\r\n      this.namedSessionStorage.set(\"previousNodeName\", name);\r\n      this.namedSessionStorage.set(\"previousNodeId\", id);\r\n    },\r\n\r\n    _prevSearchDisplayStyleLocalStorage: function (searchDisplayStyle) {\r\n      this.localStorage.set(this._createSearchDisplayStyleKey(), searchDisplayStyle);\r\n    },\r\n\r\n    _setBackButtonTitle: function () {\r\n      var name;\r\n      if (this._isPreviousRouter(\"Metadata\")) {\r\n        var viewStateModel = this.context.viewStateModel;\r\n        var info = viewStateModel.get(viewStateModel.CONSTANTS.METADATA_CONTAINER);\r\n        name = info.name;\r\n        this._syncStorage(name, info.id);\r\n      } else if (this.searchQuery.attributes.location_id1 === undefined &&\r\n                 !this.previousNode.get('id') &&\r\n                 !(this.namedSessionStorage && this.namedSessionStorage.get(\"previousNodeId\"))) {\r\n        name = lang.searchBackToHome;\r\n        this.namedSessionStorage = null;\r\n      } else {\r\n        if (this.previousNode.get('id')) {\r\n          name = this.previousNode.get('name');\r\n          this._syncStorage(name, this.previousNode.get('id'));\r\n        } else {\r\n          name = this.namedSessionStorage.get(\"previousNodeName\");\r\n        }\r\n      }\r\n      this.ui.back.attr('title', _.str.sformat(lang.searchBackTooltipTo, name));\r\n      this.ui.back.attr('aria-label', _.str.sformat(lang.searchBackTooltipTo, name));\r\n    },\r\n\r\n    setCustomSearchTitle: function (title) {\r\n      !!this.titleView.setCustomSearchTitle &&\r\n      this.titleView.setCustomSearchTitle(title);\r\n    },\r\n\r\n    _collectionItemRemoved: function () {\r\n      var originalCount = this.collection.totalCount;\r\n      this.collection.totalCount = --this.collection.totalCount;\r\n      if (this.collection.prevSearchDisplayStyle === \"TabularView\" && this.tableRowSelectionToolbarRegion) {\r\n        delete this.tableRowSelectionToolbarRegion;\r\n      }\r\n      this.render();\r\n      this.collection.totalCount = originalCount;\r\n    },\r\n\r\n    onClickBack: function (event) {\r\n      if (this.backButtonClicked) {\r\n        // protect against getting called twice when search invoked from my assignments and hitting\r\n        // the back button in the search result.\r\n        return;\r\n      }\r\n      this.backButtonClicked = true;\r\n      if ((event.type === 'keypress' && event.keyCode === 13) || (event.type === 'click')) {\r\n        if (this.options.enableBackButton) {\r\n          event.stopPropagation();\r\n          //To notify the caller about back button navigation\r\n          //as we don't have previousNode in integration scenario\r\n          this.trigger(\"go:back\");\r\n        } else if (this._isViewStateModelEnabled()) {\r\n          this.context.viewStateModel.restoreLastRouter();\r\n        } else if (this.previousNode.get('id') ||\r\n                   (!!this.namedSessionStorage && this.namedSessionStorage.get(\"previousNodeId\"))) {\r\n          // Force reloading of the widget data.\r\n          this.nextNode.set('id', undefined, {silent: true});\r\n          this.nextNode.set('id', this.namedSessionStorage.get(\"previousNodeId\"));\r\n        } else {\r\n          this.applicationScope.set('id', '');\r\n        }\r\n      }\r\n    },\r\n\r\n    _isViewStateModelEnabled: function () {\r\n      return this.context && this.context.viewStateModel;\r\n    },\r\n\r\n    onClickFilter: function (event) {\r\n      if ((event.type === 'keypress' && event.keyCode === 13) || (event.type === 'click')) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.trigger(\"toggle:filter\", this.options.originatingView);\r\n        this.trigger(\"focus:filter\", this.options.originatingView);\r\n      }\r\n    },\r\n\r\n    _createSearchDisplayStyleKey: function () {\r\n      var context = this.context || (this.options && this.options.context),\r\n          srcUrl = new Url().getAbsolute(),\r\n          userID = context && context.getModel(UserModelFactory).get('id'), hostname;\r\n      if (srcUrl) {\r\n        hostname = srcUrl.split('//')[1].split('/')[0].split(':')[0];\r\n      }\r\n      return hostname + userID;\r\n    }\r\n  });\r\n  _.extend(SearchHeaderView.prototype, ViewEventsPropagationMixin);\r\n  return SearchHeaderView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/widgets/search.results/impl/metadata/search.metadata',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<span class=\\\"csui-search-metadata binf-col-lg-4 binf-col-md-4 binf-col-sm-4\\r\\n                    binf-col-xs-4\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n<span class=\\\"csui-search-metadata-spacer binf-col-lg-1 binf-col-md-1 binf-col-sm-1\\r\\n     binf-col-xs-1\\\"></span>\\r\\n<span class=\\\"searchDetails binf-col-lg-7 binf-col-md-7 binf-col-sm-7\\r\\n                    binf-col-xs-7\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.tooltipText || (depth0 != null ? depth0.tooltipText : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"tooltipText\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.value || (depth0 != null ? depth0.value : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"value\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_widgets_search.results_impl_metadata_search.metadata', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/widgets/search.results/impl/metadata/search.metadata.view',[\r\n  'csui/lib/underscore', 'csui/lib/marionette', 'csui/utils/base',\r\n  'csui/controls/table/cells/cell.factory', 'csui/controls/table/cells/templated/templated.view',\r\n  'csui/utils/types/date', 'i18n!csui/widgets/search.results/impl/nls/lang',\r\n  'hbs!csui/widgets/search.results/impl/metadata/search.metadata',\r\n  'css!csui/widgets/search.results/impl/search.results'\r\n], function (_, Marionette, base, cellViewFactory, cellView, date, lang, itemTemplate) {\r\n  \"use strict\";\r\n\r\n  var SearchMetadataItemView = Marionette.ItemView.extend({\r\n    className: \"csui-search-item-details binf-col-lg-12\",\r\n    template: itemTemplate,\r\n    attributes: {\r\n      'role': 'listitem'\r\n    },\r\n    templateHelpers: function () {\r\n      if (this._index < this.options.displayCount) {\r\n        if (this._index < 2) {\r\n          this.el.classList.add('csui-search-result-item-tobe-hide');\r\n        }\r\n      } else {\r\n        this.el.classList.add('csui-search-hidden-items');\r\n        this.el.classList.add('truncated-' + this.options.rowId);\r\n      }\r\n      var CellView = cellViewFactory.getCellView(this.model);\r\n      if (CellView.columnClassName === \"\") {\r\n        CellView = cellView;\r\n      }\r\n      var column       = {\r\n            CellView: CellView,\r\n            attributes: this.model.attributes,\r\n            name: this.model.get(\"key\"),\r\n            title: this.model.get('title') || this.model.get('name') ||\r\n                   this.model.get(\"column_name\")\r\n          },\r\n          metadataView = new CellView({\r\n            tagName: 'span',\r\n            model: this.options.searchItemModel,\r\n            column: column\r\n          });\r\n      var metadataValue = metadataView.getValueData && metadataView.getValueData();\r\n      return {\r\n        label: this.model.get(\"name\"),\r\n        value: metadataValue &&\r\n               (metadataValue.formattedValue || metadataValue.value || metadataValue.name),\r\n        tooltipText: metadataValue &&\r\n                     (metadataValue.value || metadataValue.name || metadataValue.nameAria)\r\n      };\r\n    }\r\n  });\r\n\r\n  var SearchMetadataCollectionView = Marionette.CollectionView.extend({\r\n    className: \"csui-search-items-metadata\",\r\n    childView: SearchMetadataItemView,\r\n    ui: {\r\n      fieldsToBeHiddenOnHover: '.csui-search-result-item-tobe-hide'\r\n    },\r\n    childViewOptions: function () {\r\n      return {\r\n        rowId: this.options.rowId,\r\n        searchItemModel: this.model,\r\n        displayCount: this.childDisplayCount\r\n      };\r\n    },\r\n\r\n    constructor: function SearchMetadataCollectionView(options) {\r\n      options || (options = {});\r\n      this.options = options;\r\n\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n      var desc    = this.model.get(\"description\"),\r\n          summary = this.model.get(\"summary\");\r\n\r\n      this.childDisplayCount = ((summary && summary.length) || (desc && desc.length)) ? 3 : 2;\r\n    },\r\n    filter: function (child, index, collection) {\r\n      if (child.get('key') === 'size' || child.get('key') === 'OTObjectSize') {\r\n        return (this.model.get(child.get('key')) &&\r\n                this.model.get(child.get('key') + \"_formatted\") !== \"\");\r\n      } else if ([\"OTLocation\", \"OTName\", \"OTMIMEType\", \"reserved\", \"favorite\"].indexOf(\r\n              child.get('key')) >= 0) {\r\n        return;\r\n      } else {\r\n        return (this.model.get(child.get('key')) && this.model.get(child.get('key')) !== \"\");\r\n      }\r\n    },\r\n    onRender: function () {\r\n      var collection = this.collection;\r\n      this.collection.comparator = function (model) {\r\n        return model.get(\"definitions_order\");\r\n      };\r\n      this.collection.sort();\r\n      this.bindUIElements();\r\n    }\r\n  });\r\n\r\n  return SearchMetadataCollectionView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/widgets/search.results/impl/breadcrumbs/search.breadcrumbs',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"    <li role=\\\"menuitem\\\" class=\\\"csui-breadcrumb-menu binf-hidden\\\">\\r\\n      <a class='csui-breadcrumb csui-acc-focusable' href=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.node_link_url : stack1), depth0))\n    + \"\\\"\\r\\n         data-id=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.id : stack1), depth0))\n    + \"\\\"\\r\\n         title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"</a>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"  <li class=\\\"tail\\\">\\r\\n    <a class=\\\"csui-breadcrumb csui-acc-focusable\\\" href=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.node_link_url : stack1), depth0))\n    + \"\\\"\\r\\n       data-id=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.id : stack1), depth0))\n    + \"\\\"\\r\\n       title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.attributes : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"</a>\\r\\n  </li>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<li class=\\\"binf-dropdown binf-hidden binf-search-breadcrumb-ddmenu\\\">\\r\\n  <a href=\\\"#\\\" class=\\\"binf-dropdown-toggle csui-subcrumb csui-acc-focusable\\\"\\r\\n     data-binf-toggle=\\\"dropdown\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.subcrumbTooltip || (depth0 != null ? depth0.subcrumbTooltip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"subcrumbTooltip\",\"hash\":{}}) : helper)))\n    + \"\\\">...</a>\\r\\n  <ul class=\\\"binf-dropdown-menu\\\" role=\\\"menu\\\">\\r\\n\"\n    + ((stack1 = helpers.each.call(depth0,(depth0 != null ? depth0.crumbs : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"  </ul>\\r\\n</li>\\r\\n\\r\\n\"\n    + ((stack1 = helpers.each.call(depth0,(depth0 != null ? depth0.crumbs : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_widgets_search.results_impl_breadcrumbs_search.breadcrumbs', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/widgets/search.results/impl/breadcrumbs/search.breadcrumbs.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette3',\r\n  'hbs!csui/widgets/search.results/impl/breadcrumbs/search.breadcrumbs',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/utils/node.links/node.links'\r\n], function (_, $, Backbone, Marionette, SearchResultsBreadCrumbTemplate, NextNodeModelFactory,\r\n    TabableRegionBehavior, NodeLinks) {\r\n\r\n  var SearchResultsBreadCrumbView = Marionette.View.extend({\r\n\r\n    tagName: 'ol',\r\n\r\n    className: 'binf-breadcrumb',\r\n\r\n    template: SearchResultsBreadCrumbTemplate,\r\n\r\n    templateContext: function () {\r\n      var messages = {\r\n        'crumbs': this.collection.models,\r\n        'subcrumbTooltip': this.lang.subcrumbTooltip\r\n      };\r\n      return messages;\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    events: {'keydown': 'onKeyInView'},\r\n\r\n    _breadcrumbSelector: 'a.csui-acc-focusable:visible',\r\n\r\n    constructor: function SearchResultsBreadCrumbView(options) {\r\n      options || (options = {});\r\n      this.lang = options.lang || {};\r\n      this.collection = options.collection;\r\n      this.isRtl = options.isRtl;\r\n      this.connector = this.collection.connector;\r\n\r\n      var crumbModels = this.collection.models;\r\n      for (var i = 0; i < crumbModels.length; i++) {\r\n        crumbModels[i].attributes.node_link_url = this._getAncestorUrl(crumbModels[i]);\r\n      }\r\n      Marionette.View.call(this, options);\r\n\r\n      this.listenTo(this.collection, 'update reset', this._adjustToFit);\r\n      this.context = this.options.context;\r\n      this.accLastBreadcrumbElementFocused = true;\r\n      this.accNthBreadcrumbElementFocused = 0;\r\n\r\n      this.resizeTimer = undefined;\r\n      $(window).on('resize.' + this.cid, {view: this}, this._onWindowResize);\r\n    },\r\n\r\n    _getAncestorUrl: function (crumbModel) {\r\n      // If the ancestor points to a real node, which is connected\r\n      // to a server, set href of the link to the open the container\r\n      // perspective of the ancestor.\r\n      return crumbModel.get('id') > 0 && (this.connector) &&\r\n             NodeLinks.getUrl(crumbModel, {connector: this.connector}) || '#';\r\n    },\r\n\r\n    _onWindowResize: function (event) {\r\n      if (event && event.data && event.data.view) {\r\n        var self = event.data.view;\r\n        // optimization for rapid mouse movement and redraw when mouse movement slows down or stop\r\n        if (self.resizeTimer) {\r\n          clearTimeout(self.resizeTimer);\r\n        }\r\n        self.resizeTimer = setTimeout(function () {\r\n          self._adjustToFit();\r\n        }, 200);\r\n      }\r\n    },\r\n\r\n    isTabable: function () {\r\n      return this.collection.models.length > 1;\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      if (this.isTabable()) {\r\n        if (this.accLastBreadcrumbElementFocused) {\r\n          return this.$(this._breadcrumbSelector + ':last');\r\n        } else {\r\n          var breadcrumbElements = this.$(this._breadcrumbSelector);\r\n          return $(breadcrumbElements[this.accNthBreadcrumbElementFocused]);\r\n        }\r\n      } else {\r\n        return $();\r\n      }\r\n    },\r\n\r\n    synchronizeCollections: function () {\r\n      return true;\r\n    },\r\n\r\n    onKeyInView: function (event) {\r\n      var allBreadcrumbElements;\r\n\r\n      switch (event.keyCode) {\r\n      case 37:\r\n      case 38:\r\n        // left arrow key\r\n        // up arrow key\r\n\r\n        allBreadcrumbElements = this.$(this._breadcrumbSelector);\r\n        if (this.accLastBreadcrumbElementFocused) {\r\n          if (allBreadcrumbElements.length > 1) {\r\n            this.accLastBreadcrumbElementFocused = false;\r\n            this.accNthBreadcrumbElementFocused = allBreadcrumbElements.length - 2;\r\n          }\r\n        } else {\r\n          if (this.accNthBreadcrumbElementFocused > 0) {\r\n            this.accNthBreadcrumbElementFocused--;\r\n          }\r\n        }\r\n        this.trigger('changed:focus', this);\r\n        this.currentlyFocusedElement().trigger('focus');\r\n\r\n        break;\r\n      case 39:\r\n      case 40:\r\n        // right arrow key\r\n        // down arrow key\r\n\r\n        if (!this.accLastBreadcrumbElementFocused) {\r\n          allBreadcrumbElements = this.$(this._breadcrumbSelector);\r\n          if (this.accNthBreadcrumbElementFocused < allBreadcrumbElements.length - 1) {\r\n            this.accNthBreadcrumbElementFocused++;\r\n            this.trigger('changed:focus', this);\r\n            this.currentlyFocusedElement().trigger('focus');\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    },\r\n\r\n    refresh: function () {\r\n      this._adjustToFit();\r\n    },\r\n\r\n    _adjustToFit: function () {\r\n      if (this.collection.length > 1) {\r\n        if (!!this.options.hasPromoted) {\r\n          this.render();\r\n        }\r\n        this.el.getElementsByClassName('binf-dropdown')[0].classList.add('binf-hidden');\r\n        var availableWidth       = this.el.offsetWidth,\r\n            childs               = this.el.getElementsByClassName('tail'),\r\n            ddChilds             = this.el.getElementsByClassName('csui-breadcrumb-menu'),\r\n            lastEle              = childs[childs.length - 1],\r\n            widthOfPromotedLabel = 0,\r\n            hideAndShowCrumbs    = _.bind(function (index) {\r\n              if (index === 0) {\r\n                this.el.getElementsByClassName('binf-dropdown')[0].classList.remove('binf-hidden');\r\n              }\r\n              childs[index].classList.add('binf-hidden');\r\n              ddChilds[index].classList.remove('binf-hidden');\r\n            }, this);\r\n        if (this.options.hasPromoted) {\r\n          widthOfPromotedLabel = this.$el.closest('.csui-search-promoted-breadcrumbs-row').find(\r\n                  '.csui-search-promoted').outerWidth() + 1;\r\n        }\r\n        for (var i = 0; i < childs.length; i++) {\r\n          childs[i].classList.remove('binf-hidden');\r\n          ddChilds[i].classList.add('binf-hidden');\r\n        }\r\n\r\n        for (i = 0; i < this.collection.length - 1; i++) {\r\n          if (this.isRtl) {\r\n            // RTL case check always last element's offset left to whole element's offset left.\r\n            if (lastEle.offsetLeft > this.el.offsetLeft) {\r\n              hideAndShowCrumbs(i);\r\n            } else {\r\n              break;\r\n            }\r\n          } else {\r\n            // total available width should be less than last element's offset left and 32px (last\r\n            // element's width including at least one character and ellipses) and if the current\r\n            // row has promoted label and exclude it's width.\r\n            if (availableWidth < (lastEle.offsetLeft + 32 - widthOfPromotedLabel)) {\r\n              hideAndShowCrumbs(i);\r\n            } else {\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        this.triggerMethod('tabable');\r\n      }\r\n    },\r\n\r\n    _getMaxDisplayWidth: function () {\r\n      return (this.el.offsetWidth * 0.9);\r\n    },\r\n\r\n    _getDisplayWidth: function () {\r\n      var childs       = this.el.children,\r\n          displayWidth = 0;\r\n      for (var i = 0; i < childs.length; i++) {\r\n        displayWidth += childs[i].offsetWidth;\r\n      }\r\n      return displayWidth;\r\n    },\r\n\r\n    onClickAncestor: function (model, node) {\r\n      //TODO: need to implement with proper model.\r\n      //console.log('onClickAncestor: need to execute default action');\r\n      //var args = {node: node};\r\n      //this.trigger('before:defaultAction', args);\r\n      //if (!args.cancel) {\r\n      //  var nodeId = node.get('id');\r\n      //  if (this._nextNode.get('id') === nodeId) {\r\n      //    // when id is same as nextNode's id, nextNode.set(id) event is not triggered\r\n      //    this._nextNode.unset('id', {silent: true});\r\n      //  }\r\n      //\r\n      //  var viewStateModel = this.context && this.context.viewStateModel;\r\n      //  var viewState = viewStateModel && viewStateModel.get('state');\r\n      //  if (viewState) {\r\n      //    this.context.viewStateModel.set('state', _.omit(viewState, 'filter'), {silent: true});\r\n      //  }\r\n      //\r\n      //  // The nodestable uses this event to remove the order_by from the viewStateModel\r\n      //  this._nextNode.trigger('before:change:id', nodeId);\r\n      //  viewStateModel && viewStateModel.set('browsing', true);\r\n      //  this._nextNode.set('id', nodeId);\r\n      //}\r\n      //\r\n      //this.$el.trigger('setCurrentTabFocus');\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      $(window).off('resize.' + this.cid, this._onWindowResize);\r\n    }\r\n\r\n  });\r\n\r\n  return SearchResultsBreadCrumbView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/widgets/search.results/impl/search.result',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \" aria-describedby=\\\"idOfPromotedLabel\\\" \";\n},\"3\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"                <div class=\\\"csui-search-results-version csui-search-item-version-\"\n    + this.escapeExpression(((helper = (helper = helpers.cid || (depth0 != null ? depth0.cid : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cid\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n                  <a href=\\\"javascript:void(0);\\\" class=\\\"csui-search-version-label\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.versionLabel : stack1), depth0))\n    + \" \"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.versions : depth0)) != null ? stack1.version_number_name : stack1), depth0))\n    + \"\\r\\n                  </a>\\r\\n                </div>\\r\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"              <div class=\\\"csui-search-promoted\\\" id=\\\"idOfPromotedLabel\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.promoted_label || (depth0 != null ? depth0.promoted_label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"promoted_label\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.promoted_label || (depth0 != null ? depth0.promoted_label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"promoted_label\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n                <span class=\\\"csui-search-promoted-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.promoted_label || (depth0 != null ? depth0.promoted_label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"promoted_label\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n              </div>\\r\\n\";\n},\"7\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"              <div class=\\\"csui-search-breadcrumb\\\">\\r\\n                <div class=\\\"csui-search-item-breadcrumb csui-search-item-breadcrumb-\"\n    + this.escapeExpression(((helper = (helper = helpers.cid || (depth0 != null ? depth0.cid : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cid\",\"hash\":{}}) : helper)))\n    + \"\\\"></div>\\r\\n                <div class=\\\"csui-search-row-spacer binf-col-lg-12 binf-col-md-12 binf-col-sm-12\\r\\n                binf-col-xs-12\\\"></div>\\r\\n              </div>\\r\\n\";\n},\"9\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"              <div class=\\\"csui-search-item-action-\"\n    + this.escapeExpression(((helper = (helper = helpers.cid || (depth0 != null ? depth0.cid : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cid\",\"hash\":{}}) : helper)))\n    + \"-\"\n    + this.escapeExpression(((helper = (helper = helpers.version_id || (depth0 != null ? depth0.version_id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"version_id\",\"hash\":{}}) : helper)))\n    + \" csui-search-item-inline-actions\\\"></div>\\r\\n\";\n},\"11\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"              <div class=\\\"csui-search-item-action-\"\n    + this.escapeExpression(((helper = (helper = helpers.cid || (depth0 != null ? depth0.cid : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cid\",\"hash\":{}}) : helper)))\n    + \" csui-search-item-inline-actions\\\"></div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"csui-search-item-row-wrapper csui-search-item-complete-row binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\">\\r\\n  <div class=\\\"csui-search-item-row binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\">\\r\\n    <h3 class=\\\"csui-search-item-hide-h3\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</h3>\\r\\n    <div class=\\\"csui-search-item-check\\\"></div>\\r\\n    <div class=\\\"csui-search-item-icon\\\">\\r\\n      <a href=\"\n    + this.escapeExpression(((helper = (helper = helpers.defaultActionUrl || (depth0 != null ? depth0.defaultActionUrl : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"defaultActionUrl\",\"hash\":{}}) : helper)))\n    + \"\\r\\n       \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.has_promoted : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n                        aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \" \"\n    + this.escapeExpression(((helper = (helper = helpers.mimeTypeAria || (depth0 != null ? depth0.mimeTypeAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"mimeTypeAria\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.OTName || (depth0 != null ? depth0.OTName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"OTName\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n                  class=\\\"csui-search-item-link \"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.inactiveclass : stack1), depth0))\n    + \"\\\"><span class=\\\"csui-type-icon\\\"></span></a>\\r\\n      </div>\\r\\n    <div class=\\\"csui-search-col2 binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\">\\r\\n      <div class=\\\"csui-search-item-left-panel binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\">\\r\\n        <div class=\\\"csui-search-item\\\">\\r\\n          <div class=\\\"csui-search-item-name-wrapper\\\">\\r\\n            <div class=\\\"csui-search-item-name \\\">\\r\\n              <a href=\"\n    + this.escapeExpression(((helper = (helper = helpers.defaultActionUrl || (depth0 != null ? depth0.defaultActionUrl : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"defaultActionUrl\",\"hash\":{}}) : helper)))\n    + \"  \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.has_promoted : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n                  aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \" \"\n    + this.escapeExpression(((helper = (helper = helpers.mimeTypeAria || (depth0 != null ? depth0.mimeTypeAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"mimeTypeAria\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.OTName || (depth0 != null ? depth0.OTName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"OTName\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n                  class=\\\"csui-search-item-link \"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.inactiveclass : stack1), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.OTName || (depth0 != null ? depth0.OTName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"OTName\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.has_version : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"              <div class=\\\"csui-icon csui-search-results-nodestateicon csui-search-item-nodestateicon\\r\\n                  csui-search-item-nodestateicon-\"\n    + this.escapeExpression(((helper = (helper = helpers.cid || (depth0 != null ? depth0.cid : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cid\",\"hash\":{}}) : helper)))\n    + \"\\\"></div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"csui-search-item-content-wrapper binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\">\\r\\n          <div class=\\\"csui-search-promoted-breadcrumbs-row\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.has_promoted : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(5, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.showBreadcrumb : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(7, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"          </div>\\r\\n          <p class=\\\"csui-search-item-desc csui-overflow-description binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\"></p>\\r\\n          <div class=\\\"csui-search-row-spacer binf-col-lg-12 binf-col-md-12 binf-col-sm-12\\r\\n        binf-col-xs-12 csui-search-row-spacer-divider\\\"></div>\\r\\n          <p class=\\\"csui-search-item-summary csui-overflow-summary binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\"></p>\\r\\n        </div>\\r\\n        <div class=\\\"csui-search-row-spacer binf-col-lg-12 binf-col-md-12 binf-col-sm-12\\r\\n        binf-col-xs-12 csui-search-row-spacer-divider\\\"></div>\\r\\n      </div>\\r\\n      <div class=\\\"csui-search-item-center-panel binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\"></div>\\r\\n      <div class=\\\"csui-search-item-right-panel\\\">\\r\\n        <div class=\\\"csui-search-item-control-\"\n    + this.escapeExpression(((helper = (helper = helpers.cid || (depth0 != null ? depth0.cid : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cid\",\"hash\":{}}) : helper)))\n    + \" binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\">\\r\\n          <div class=\\\"csui-search-toolbar-container binf-hidden binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.version_id : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(9, data, 0),\"inverse\":this.program(11, data, 0)})) != null ? stack1 : \"\")\n    + \"          </div>\\r\\n          <div class=\\\"csui-search-row-spacer binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\"></div>\\r\\n          <div role=\\\"list\\\" class=\\\"csui-search-item-details-wrapper binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"csui-search-item-action-panel csui-search-item-action-panel-\"\n    + this.escapeExpression(((helper = (helper = helpers.cid || (depth0 != null ? depth0.cid : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cid\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n      <div class=\\\"csui-search-item-fav search-fav-\"\n    + this.escapeExpression(((helper = (helper = helpers.cid || (depth0 != null ? depth0.cid : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cid\",\"hash\":{}}) : helper)))\n    + \"\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('csui_widgets_search.results_impl_search.result', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/widgets/search.results/impl/search.empty',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"csui-no-result-message-wrapper\\\">\\r\\n    <p class=\\\"csui-no-result-message\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.message || (depth0 != null ? depth0.message : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"message\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.message || (depth0 != null ? depth0.message : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"message\",\"hash\":{}}) : helper)))\n    + \"</p>\\r\\n    <div class=\\\"csui-display-hide\\\">\\r\\n        <ul class=\\\"csui-search-suggestion-list\\\">\\r\\n            <li>\"\n    + this.escapeExpression(((helper = (helper = helpers.searchSuggestion1 || (depth0 != null ? depth0.searchSuggestion1 : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"searchSuggestion1\",\"hash\":{}}) : helper)))\n    + \"</li>\\r\\n            <li>\"\n    + this.escapeExpression(((helper = (helper = helpers.searchSuggestion2 || (depth0 != null ? depth0.searchSuggestion2 : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"searchSuggestion2\",\"hash\":{}}) : helper)))\n    + \"</li>\\r\\n            <li>\"\n    + this.escapeExpression(((helper = (helper = helpers.searchSuggestion3 || (depth0 != null ? depth0.searchSuggestion3 : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"searchSuggestion3\",\"hash\":{}}) : helper)))\n    + \"</li>\\r\\n            <li>\"\n    + this.escapeExpression(((helper = (helper = helpers.searchSuggestion4 || (depth0 != null ? depth0.searchSuggestion4 : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"searchSuggestion4\",\"hash\":{}}) : helper)))\n    + \"</li>\\r\\n        </ul>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_widgets_search.results_impl_search.empty', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/widgets/search.results/controls/expandall/impl/expandall',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"csui-search-expandall-wrapper\\\">\\r\\n  <div class=\\\"csui-search-expandall-text\\\"\\r\\n       title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.expandAll : stack1), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.expandAll : stack1), depth0))\n    + \"</div>\\r\\n  <button class=\\\"csui-search-header-expand-all\\\" aria-label=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.expandAll : stack1), depth0))\n    + \"\\\"\\r\\n          title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.expandAll : stack1), depth0))\n    + \"\\\" aria-pressed=\\\"false\\\">\\r\\n    <span class=\\\"icon csui-icon icon-expandArrowDown\\\"></span>\\r\\n  </button>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('csui_widgets_search.results_controls_expandall_impl_expandall', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/widgets/search.results/controls/expandall/impl/expandall',[],function(){});\n","csui.define('csui/widgets/search.results/controls/expandall/expandall.view',['csui/lib/jquery', 'csui/lib/marionette',\r\n  'hbs!csui/widgets/search.results/controls/expandall/impl/expandall',\r\n  'i18n!csui/widgets/search.results/impl/nls/lang',\r\n  'css!csui/widgets/search.results/controls/expandall/impl/expandall'\r\n], function ($, Marionette, template, lang) {\r\n\r\n  var expandAllView = Marionette.ItemView.extend({\r\n\r\n    template: template,\r\n    templateHelpers: function () {\r\n      var messages = {\r\n        expandAll: lang.expandAll\r\n      };\r\n      return {\r\n        messages: messages\r\n      };\r\n    },\r\n\r\n    events: {\r\n      'click @ui.expandAllSelector': 'expandAll'\r\n    },\r\n\r\n    ui: {\r\n      expandAllSelector: '.csui-search-header-expand-all',\r\n      expandIcon: '.icon',\r\n      expandAllLabelText: '.csui-search-expandall-text'\r\n    },\r\n\r\n    expandAll: function (event) {\r\n      if (this.collection.length > 0) {\r\n        var that = this;\r\n        if (this._isExpanded) {\r\n          this._isExpanded = false;\r\n\r\n          this.ui.expandAllLabelText.html(lang.expandAll);\r\n          this.ui.expandAllLabelText.attr('title', lang.expandAll);\r\n          $(\".csui-expand-all\").addClass(\"csui-collapse-all\");\r\n          this.ui.expandIcon.removeClass('icon-expandArrowUp');\r\n          this.ui.expandIcon.addClass('icon-expandArrowDown');\r\n          this.ui.expandIcon.attr('title', lang.expandAll);\r\n          this.ui.expandAllSelector.attr('title', lang.expandAll).attr('aria-pressed', 'true').attr('aria-label', lang.expandAll);\r\n          this.options.view.$el.find(\".\" + this.options._eleCollapse).trigger('click');\r\n        } else {\r\n          this._isExpanded = true;\r\n\r\n          this.ui.expandAllLabelText.html(lang.collapseAll);\r\n          this.ui.expandAllLabelText.attr('title', lang.collapseAll);\r\n          $(\".csui-expand-all\").removeClass(\"csui-collapse-all\");\r\n          this.ui.expandIcon.removeClass('icon-expandArrowDown');\r\n          this.ui.expandIcon.addClass('icon-expandArrowUp');\r\n          this.ui.expandIcon.attr('title', lang.collapseAll);\r\n          this.ui.expandAllSelector.attr('title', lang.collapseAll).attr('aria-pressed', 'false').attr('aria-label', lang.collapseAll);\r\n          this.options.view.$el.find(\".\" + this.options._eleExpand).trigger('click');\r\n        }\r\n\r\n          if (this.options.view.options.layoutView) {\r\n            this.options.view.options.layoutView.updateScrollbar();\r\n          }\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      }\r\n    },\r\n\r\n    pageChange: function () {\r\n      if (this.ui.expandIcon instanceof Object &&\r\n          this.ui.expandIcon[0].classList.contains(this.options._eleCollapse)) {\r\n        this.ui.expandIcon.removeClass(this.options._eleCollapse).addClass(\r\n            this.options._eleExpand).attr('title', lang.expandAll);\r\n            this.ui.expandAllLabelText.html(lang.expandAll);\r\n            this.ui.expandAllLabelText.attr('title', lang.expandAll);\r\n            this.ui.expandAllSelector.attr('title', lang.expandAll).attr('aria-pressed', 'false').attr('aria-label', lang.expandAll);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return expandAllView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/widgets/search.results/impl/standard/standard.search.results.header',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div\\r\\n    class=\\\"csui-search-header-left-actions binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\">\\r\\n  <div class=\\\"binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\">\\r\\n    <div id=\\\"selectAllCheckBox\\\" class=\\\"csui-select-all csui-search-item-check\\\"></div>\\r\\n    <div id=\\\"SelectedItemsCounter\\\" class=\\\"csui-selected-items-counter-view\\\"></div>\\r\\n    <div id=\\\"toolbar\\\"\\r\\n         class=\\\"csui-search-toolbar binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\"></div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"csui-search-header-right-actions\\\">\\r\\n  <div class=\\\"binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\">\\r\\n    <div class=\\\"csui-search-header-actions\\\">\\r\\n      <div class=\\\"csui-search-sorting\\\" id=\\\"csui-search-sort\\\"></div>\\r\\n      <div class=\\\"csui-expand-all\\\" id=\\\"expandAllArrow\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div> \\r\\n\";\n}});\nHandlebars.registerPartial('csui_widgets_search.results_impl_standard_standard.search.results.header', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/widgets/search.results/impl/standard/standard.search.results.header.view',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/controls/tabletoolbar/tabletoolbar.view',\r\n  'csui/widgets/search.results/controls/expandall/expandall.view',\r\n  'csui/controls/checkbox/checkbox.view',\r\n  'csui/widgets/search.results/controls/sorting/sort.menu.view',\r\n  'csui/controls/selected.count/selected.count.view',\r\n  'csui/models/node/node.model',\r\n  'i18n!csui/widgets/search.results/impl/nls/lang',\r\n  'hbs!csui/widgets/search.results/impl/standard/standard.search.results.header',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n  'css!csui/widgets/search.results/impl/search.results'\r\n], function (_, $, Backbone, Marionette, TableToolbarView, ExpandAllView, CheckboxView, SortingView,\r\n    SelectedCountView, NodeModel, lang, template, ViewEventsPropagationMixin) {\r\n  'use strict';\r\n  var StandardSearchResultsHeaderView = Marionette.LayoutView.extend({\r\n    template: template,\r\n    regions: {\r\n      expandAllRegion: '#expandAllArrow',\r\n      sortRegion: '#csui-search-sort',\r\n      selectAllRegion: '#selectAllCheckBox',\r\n      toolbarRegion: '#toolbar',\r\n      selectedCounterRegion: '#SelectedItemsCounter'\r\n    },\r\n    constructor: function StandardSearchResultsHeaderView(options) {\r\n      options || (options = {});\r\n      this.collection = options.collection;\r\n      this.resultsView = options.view;\r\n      this.options = options.options;\r\n      this.localStorage = options.localStorage;\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n      this.listenTo(this.collection, 'remove', this._updateToolItems)\r\n          .listenTo(this.collection, 'sync', this._updateToolItems);\r\n      this.setSelectAllView();\r\n      this.setSortingView();\r\n      this.setExpandAllView();\r\n      this._setToolBar();\r\n      this._setSelectionCounterView();\r\n      this.listenTo(this.collection, \"sync\", this._removeAllSelections);\r\n      this.listenTo(this.collection, 'reset', function () {\r\n         this.expandAllView.pageChange();\r\n      });\r\n      this.listenTo(this, 'dom:refresh', this._refreshEle);\r\n      this.listenTo(this.options.originatingView, 'query:changed', function () {\r\n        if (this.expandAllView) {\r\n          this.expandAllView._isExpanded = false;\r\n        }\r\n      });\r\n    },\r\n\r\n    _refreshEle: function() {\r\n      if(this.toolbarView){\r\n        this.toolbarView.trigger('dom:refresh');\r\n      }\r\n      if (this._selectAllView) {\r\n        this._selectAllView.triggerMethod('dom:refresh');\r\n      }\r\n      if (this.expandAllView) {\r\n        this.expandAllView.triggerMethod('dom:refresh');\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n        this.sortRegion.show(this.sortingView);\r\n        this.expandAllRegion.show(this.expandAllView);\r\n        this.selectedCounterRegion.show(this.selectedCounterView);\r\n        this.selectAllRegion.show(this._selectAllView);\r\n        this.toolbarRegion.show(this.toolbarView);\r\n        this._updateToolItems();\r\n    },\r\n\r\n    // Toolbar view\r\n    _setToolBar: function () {\r\n      var self       = this,\r\n          parentNode = new NodeModel({id: undefined},\r\n              {connector: this.collection.connector});\r\n      this.collection.node = parentNode;\r\n\r\n      // toolbarItems is an object with several TooItemFactories in it (for each toolbar one)\r\n      this.toolbarView = new TableToolbarView({\r\n        toolbarItems: this.options.toolbarItems,\r\n        toolbarItemsMasks: this.options.toolbarItemsMasks,\r\n        collection: this.collection,\r\n        originatingView: this.options.originatingView,\r\n        container: this.container,\r\n        context: this.options.context,\r\n        toolbarCommandController: this.options.originatingView.commandController,\r\n        events: function () {\r\n          return _.extend({}, TableToolbarView.prototype.events, {\r\n            'keydown': self.onKeyInViewInToolbarView\r\n          });\r\n        }\r\n      });\r\n      this.listenTo(this.toolbarView, 'refresh:tabindexes', function () {\r\n        // unlike in nodes table view, for header toolbar in search results has to navigate through\r\n        // tab key instead-of direction keys\r\n        this.toolbarView.$el.find('.csui-otherToolbar>ul>li>a:visible').attr('tabindex', 0);\r\n      });\r\n    },\r\n\r\n    _updateToolItems: function () {\r\n      if (this.toolbarView) {\r\n        var nodes = this.collection.selectedItems.models;\r\n        if (nodes && nodes.length === 1) {\r\n          this.toolbarView.options.collection.node = nodes[0].parent;\r\n        } else {\r\n          this.toolbarView.options.collection.node = new NodeModel({id: undefined},\r\n              {connector: this.collection.connector});\r\n        }\r\n        this.toolbarView.updateForSelectedChildren(nodes);\r\n      }\r\n      //TODO: check for the purpose of the below code\r\n        // if (this.collection.length === 0) {\r\n        //   this.el.classList.add('binf-hidden');\r\n        // } else {\r\n        //   this.el.classList.remove('binf-hidden');\r\n        // }\r\n      //TODO: End\r\n    },\r\n\r\n    onKeyInViewInToolbarView: function (event) {\r\n      switch (event.keyCode) {\r\n      case 37:\r\n      case 39:\r\n        // right arrow\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        break;\r\n      }\r\n    },\r\n\r\n    // Select counter view\r\n    _setSelectionCounterView: function () {\r\n      //this.collection.selectedItems = new Backbone.Collection();\r\n      this.selectedCounterView = new SelectedCountView({\r\n        collection: this.collection.selectedItems,\r\n        scrollableParent: '.csui-result-list'\r\n      });\r\n      this.listenTo(this.collection.selectedItems, 'remove reset add', this._updateToolItems);\r\n      this.listenTo(this.selectedCounterView.collection, 'remove', this._updateRowsState);\r\n      this.listenTo(this.selectedCounterView.collection, 'reset', _.bind(function () {\r\n        if (this.collection.prevSearchDisplayStyle === \"StandardView\") {\r\n          this.resultsView._rowStates.set(StandardSearchResultsHeaderView.RowStatesSelectedRows,\r\n              []);\r\n        }\r\n      }, this));\r\n    },\r\n\r\n    _updateRowsState: function (models) {\r\n      var updateModels = [];\r\n      if (!(models instanceof Array)) {\r\n        updateModels.push(models);\r\n      } else {\r\n        updateModels = models;\r\n      }\r\n      if (this.collection.prevSearchDisplayStyle === 'StandardView') {\r\n        _.each(updateModels, function (model) {\r\n          var newSelectedModelIds = this.resultsView._rowStates.get(\r\n              StandardSearchResultsHeaderView.RowStatesSelectedRows);\r\n          newSelectedModelIds = _.without(newSelectedModelIds, model.get('id'));\r\n          this.collection.selectedItems.remove(model);\r\n          this.resultsView._rowStates.set(StandardSearchResultsHeaderView.RowStatesSelectedRows,\r\n              newSelectedModelIds);\r\n        }, this);\r\n\r\n      }\r\n    },\r\n\r\n    // Select view\r\n    setSelectAllView: function () {\r\n      this._selectAllView = new CheckboxView({\r\n        checked: this._calculateSelectAllCheckedStatus(),\r\n        disabled: this.collection.length === 0,\r\n        ariaLabel: lang.selectAllAria,\r\n        title: lang.selectAll\r\n      });\r\n\r\n      this.listenTo(this._selectAllView, 'clicked', function (e) {\r\n        e.cancel = true;  // don't update checkbox immediately\r\n\r\n        var checked = this._selectAllView.model.get('checked'); // state before clicking cb\r\n\r\n        switch (checked) {\r\n        case 'true':\r\n          // all rows are selected -> deselect all\r\n          var updateModels = [],\r\n              modelId      = this.resultsView._rowStates.get(\r\n                  StandardSearchResultsHeaderView.RowStatesSelectedRows);\r\n          modelId.forEach(function (modelID) {\r\n            var model = this.collection.selectedItems.findWhere({id: modelID});\r\n            this.collection.selectedItems.remove(model);\r\n          }, this);\r\n          this.resultsView._rowStates.set(StandardSearchResultsHeaderView.RowStatesSelectedRows,\r\n              []);\r\n          break;\r\n        default:\r\n          // no or some rows are selected -> select all, except those that are not selectable\r\n          var selectedModelIds = [];\r\n          var newlySelected = this.collection.filter(function (model) {\r\n            if (model.get('selectable') !== false) {\r\n              selectedModelIds.push(model.get('id'));\r\n              if (!this.collection.selectedItems.findWhere({id: model.get('id')})) {\r\n                return true;\r\n              }\r\n            }\r\n            return false;\r\n          }, this);\r\n          this.collection.selectedItems.add(newlySelected);\r\n          this.resultsView._rowStates.set(StandardSearchResultsHeaderView.RowStatesSelectedRows,\r\n              selectedModelIds);\r\n        }\r\n      });\r\n\r\n      this.listenTo(this.resultsView._rowStates,\r\n          'change:' + StandardSearchResultsHeaderView.RowStatesSelectedRows,\r\n          function () {\r\n            this._updateSelectAllCheckbox();\r\n          });\r\n\r\n      this.listenTo(this.collection, 'reset', function () {\r\n        this._updateSelectAllCheckbox();\r\n      });\r\n    },\r\n\r\n    _updateSelectAllCheckbox: function () {\r\n      if (this._selectAllView) {\r\n        this._selectAllView.setChecked(this._calculateSelectAllCheckedStatus());\r\n        this._selectAllView.setDisabled(this.collection.length === 0);\r\n      }\r\n    },\r\n\r\n    _removeAllSelections: function () {\r\n      var selectedItemCollection = [];\r\n      this.collection.each(_.bind(function (model) {\r\n        if (!!this.collection.selectedItems.findWhere({id: model.get('id')})) {\r\n          selectedItemCollection.push(model.get('id'));\r\n        }\r\n      }, this));\r\n      // resetting the rowstates only selectedItems present to updated checkboxes properly\r\n      selectedItemCollection.length &&\r\n      this.resultsView._rowStates.set({'selected': []}, {'silent': true});\r\n      this.resultsView._rowStates.set(StandardSearchResultsHeaderView.RowStatesSelectedRows,\r\n          selectedItemCollection);\r\n      // if (this.selectedItems.length > 0 && this.headerView.collection.showTabularSearchView) {\r\n      //   this.selectedItems.reset(this.tableView._allSelectedNodes.models);\r\n      // }\r\n    },\r\n\r\n    _calculateSelectAllCheckedStatus: function () {\r\n      var selected = this.resultsView._rowStates.get(\r\n          StandardSearchResultsHeaderView.RowStatesSelectedRows);\r\n          if (selected && selected.length) {\r\n                  var all  = selected.length === this.collection.length;\r\n            if (selected.length > 0 && !all) {\r\n              return 'mixed';\r\n            } else {\r\n              return selected.length > 0;\r\n            }\r\n          }\r\n    },\r\n\r\n    // Sorting view\r\n    setSortingView: function () {\r\n      this.sortingView = new SortingView({\r\n        collection: this.collection,\r\n        enableSorting: this.options.enableSorting !== undefined ? this.options.enableSorting : true\r\n      });\r\n      return true;\r\n    },\r\n\r\n    // Expand all view\r\n    setExpandAllView: function () {\r\n      this.expandAllView = new ExpandAllView({\r\n        collection: this.collection,\r\n        view: this.resultsView,\r\n        _eleCollapse: \"icon-expandArrowUp\",\r\n        _eleExpand: \"icon-expandArrowDown\"\r\n      });\r\n      return this.expandAllView;\r\n    },\r\n  }, {\r\n    RowStatesSelectedRows: 'selected'\r\n  });\r\n\r\n  _.extend(StandardSearchResultsHeaderView.prototype, ViewEventsPropagationMixin);\r\n  return StandardSearchResultsHeaderView;\r\n});\n","csui.define('csui/widgets/search.results/impl/standard/standard.search.results.view',[\r\n  'module',\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/utils/base',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/controls/table/cells/favorite/favorite.view',\r\n  'csui/controls/checkbox/checkbox.view',\r\n  'csui/controls/node.state/node.states.view',\r\n  'csui/controls/node.state/node.state.icons',\r\n  'csui/widgets/search.results/impl/metadata/search.metadata.view',\r\n  'i18n!csui/widgets/search.results/impl/nls/lang',\r\n  'csui/controls/tableactionbar/tableactionbar.view',\r\n  'i18n', 'csui/models/node/node.model',\r\n  'csui/utils/nodesprites', 'csui/controls/node-type.icon/node-type.icon.view',\r\n  'csui/widgets/search.results/impl/breadcrumbs/search.breadcrumbs.view',\r\n  'csui/models/nodeancestors',\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  'csui/utils/contexts/factories/search.metadata.factory',\r\n  'hbs!csui/widgets/search.results/impl/search.result',\r\n  'hbs!csui/widgets/search.results/impl/search.empty',\r\n  'csui/utils/node.links/node.links',\r\n  'csui/utils/accessibility',\r\n  'csui/utils/log',\r\n  'csui/widgets/search.results/impl/standard/standard.search.results.header.view',\r\n  'csui/lib/handlebars.helpers.xif',\r\n  'css!csui/widgets/search.results/impl/search.results',\r\n  'csui/lib/jquery.mousehover',\r\n  'csui/lib/jquery.redraw'\r\n], function (module, _, $, Backbone, Marionette, base, BlockingView, FavoritesView, CheckboxView,\r\n    NodeStateCollectionView, nodeStateIcons, SearchMetadataView, lang, TableActionBarView, i18n,\r\n    NodeModel, NodeSpriteCollection, NodeTypeIconView, BreadcrumbsView, NodeAncestorCollection,\r\n    DefaultActionBehavior, SearchMetadataFactory, itemTemplate, emptyTemplate, nodeLinks,\r\n    Accessibility, log, StandardSearchResultsHeaderView) {\r\n  'use strict';\r\n\r\n  var accessibleTable = Accessibility.isAccessibleTable();\r\n\r\n  var config = _.extend({\r\n    enableFacetFilter: true, // LPAD-60082: Enable/disable facets\r\n    enableBreadcrumb: true,\r\n    enableSearchSettings: true, // global enable/disable search settings, but LPAD 81034 ctor can overrule\r\n    showInlineActionBarOnHover: !accessibleTable,\r\n    forceInlineActionBarOnClick: false,\r\n    inlineActionBarStyle: \"csui-table-actionbar-bubble\"\r\n  }, module.config());\r\n  var SearchStaticUtils = {\r\n    isAppleMobile: base.isAppleMobile(),\r\n    mimeTypes: {},\r\n    isRtl: i18n && i18n.settings.rtl\r\n  };\r\n\r\n  var NoSearchResultView = Marionette.ItemView.extend({\r\n\r\n    className: 'csui-empty',\r\n    template: emptyTemplate,\r\n\r\n    constructor: function NoSearchResultView(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this.model, 'change', this.render);\r\n    }\r\n\r\n  });\r\n  var SearchResultItemView = Marionette.LayoutView.extend({\r\n\r\n    className: function () {\r\n      var classList = 'binf-list-group-item binf-col-lg-12 binf-col-md-12 binf-col-sm-12' +\r\n                      ' binf-col-xs-12 ';\r\n      classList += this.hasVersioned ? 'csui-search-result-version-item' : '';\r\n      classList += !!this.hasPromoted ? ' csui-search-promoted-item' : '';\r\n      return classList;\r\n    },\r\n    template: itemTemplate,\r\n\r\n    regions: {\r\n      favRegion: \".csui-search-item-fav\",\r\n      selectionRegion: \".csui-search-item-check\",\r\n      searchMetadataRegion: \".csui-search-item-details-wrapper\",\r\n      breadcrumbRegion: \".csui-search-item-breadcrumb\",\r\n      nodeStateRegion: \".csui-search-item-nodestateicon\"\r\n    },\r\n\r\n    ui: {\r\n      descriptionField: '.csui-overflow-description',\r\n      summaryField: '.csui-overflow-summary',\r\n      modifiedByField: '.csui-search-modified-by',\r\n      metadataDetails: '.csui-search-item-details',\r\n      inlineToolbarContainer: '.csui-search-toolbar-container',\r\n      inlineToolbar: '.csui-search-item-row',\r\n      arrowIcon: '.search-results-item-expand .icon'\r\n    },\r\n\r\n    events: {\r\n      'click .csui-search-item-link': 'openSearchItem',\r\n      'click .csui-search-version-label': 'openVersionHistory',\r\n      'click .icon-expandArrowUp': 'showMetadataInfo',\r\n      'click .icon-expandArrowDown': 'hideMetadataInfo'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      var defaultActionController = this.options.defaultActionController,\r\n          checkModelHasAction     = defaultActionController.hasAction.bind(defaultActionController),\r\n          inActiveClass           = checkModelHasAction(this.model) ? '' :\r\n                                    'csui-search-no-default-action',\r\n          messages                = {\r\n            created: lang.created,\r\n            createdby: lang.createdBy,\r\n            modified: lang.modified,\r\n            owner: lang.owner,\r\n            type: lang.type,\r\n            items: lang.items,\r\n            showMore: lang.showMore, // where does this show up\r\n            showLess: lang.showLess,\r\n            versionLabel: lang.versionLabel,\r\n            versionSeparator: lang.versionSeparator,\r\n            inactiveclass: inActiveClass,\r\n            showBreadcrumb: config.enableBreadcrumb && this.model.collection.isLocationColumnAvailable\r\n          },\r\n          defaultActionUrl        = this.defaultActionUrl,\r\n          promotedText            = this.promotedText;\r\n\r\n      var retValue = {\r\n        showOwner: this.model.attributes.hasOwnProperty('owner_user_id'), // LPAD-61022: hide owner, if not set in response\r\n        messages: messages,\r\n        defaultActionUrl: defaultActionUrl,\r\n        has_promoted: this.hasPromoted,\r\n        promoted_label: lang.promotedLabel,\r\n        promoted_text: promotedText.replace(/,/g, ', '),\r\n        has_version: this.hasVersioned,\r\n        cid: this.cid,\r\n        itemBreadcrumb: this.itemBreadcrumb,\r\n        mimeTypeAria: this.mimeTypeAria\r\n      };\r\n      return retValue;\r\n    },\r\n\r\n    openSearchItem: function (event) {\r\n      event.preventDefault();\r\n      this.trigger(\"click:item\", this.model);\r\n    },\r\n\r\n    constructor: function SearchResultItemView(options) {\r\n      options || (options = {});\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n      this.collection = options.collection;\r\n      this.model.attributes.mime_type = !!this.model.attributes.mime_type ?\r\n                                        this.model.attributes.mime_type :\r\n                                        (this.model.attributes.versions ?\r\n                                         this.model.attributes.versions.mime_type : \"\");\r\n      this._hiddenMetadataElements = $();\r\n      var mimType = this.model.attributes.mime_type;\r\n      this.mimeTypeSearch = SearchStaticUtils.mimeTypes[mimType];\r\n\r\n      if (!this.mimeTypeSearch) {\r\n        // TODO: Share the better type name used by NodeTypeIconView\r\n        SearchStaticUtils.mimeTypes[mimType] = NodeSpriteCollection.findTypeByNode(this.model);\r\n      }\r\n\r\n      this.mimeTypeSearch = SearchStaticUtils.mimeTypes[mimType];\r\n\r\n      _.extend(this.model.attributes, {\r\n        collection_id: this.model.cid,\r\n        mime_type_search: this.mimeTypeSearch\r\n      });\r\n\r\n      var ancestors  = this.model.attributes.ancestors,\r\n          ancLen     = ancestors ? ancestors.length : 0,\r\n          parent     = ancLen ? ancestors[ancLen - 1] : undefined,\r\n          parentName = parent && parent.attributes ? parent.attributes.name : undefined;\r\n\r\n      this.itemBreadcrumb = _.str.sformat(lang.itemBreadcrumbAria, parentName);\r\n\r\n      this.mimeTypeAria = _.str.sformat(lang.mimeTypeAria, this.mimeTypeSearch);\r\n\r\n      this.hasVersioned = this.hasVersion();\r\n      this.hasPromoted = this.hasPromoted();\r\n\r\n      this.defaultActionUrl = nodeLinks.getUrl(this.model, {connector: this.model.connector});\r\n      this.promotedText = '';\r\n      if (!!this.hasPromoted) {\r\n        this.promotedText = !!this.hasBestBet() ? this.model.get('bestbet') :\r\n                            this.model.get('nickname');\r\n        this.promotedText = this.promotedText.toString();\r\n      }\r\n\r\n      this._rowStates = options.rowStates;\r\n      this.addOwnerDisplayName();\r\n      this.addCreatedUserDisplayName();\r\n      this.listenTo(this._rowStates, 'change:' + StandardSearchResultsView.RowStatesSelectedRows,\r\n          this._selectionChanged\r\n      );\r\n\r\n      this.listenTo(this.model, 'change', function () {\r\n        // Ignore the sole 'change:csuiDelayedActionsRetrieved' event and not re-render every row\r\n        // for all rows in the collection.  This has performance impact and flickering effect.\r\n        // Only the TableActionToolbar should be re-rendered, and it is already done by itself\r\n        // with delayedActions event listening.\r\n        if (_.size(this.model.changed) === 1 &&\r\n            _.has(this.model.changed, 'csuiDelayedActionsRetrieved')) {\r\n          return;\r\n        }\r\n        if (this.model.changed.name) {\r\n          this.model.set({OTName: this.model.changed['name']});\r\n        }\r\n        this.render();\r\n        this.updateItemdetails();\r\n      });\r\n      // to handle rename scenario for selected items, which are not part of existing collection.\r\n      if (this.model.get('name') !== this.model.get('OTName')) {\r\n        this.model.set({OTName: this.model.get('name')});\r\n        this.render();\r\n        this.updateItemdetails();\r\n      }\r\n      this.listenTo(this.options.parentView, 'render:metadata',\r\n          _.bind(function (metadataModels) {\r\n            this.searchMetadataView = new SearchMetadataView({\r\n              rowId: this.cid,\r\n              collection: this.options.parentView.metadata,\r\n              model: this.model\r\n            });\r\n\r\n            var tableColumns = this.searchMetadataView.options.collection.models;\r\n            if (tableColumns && tableColumns.length === 1 && tableColumns[0].get(\"key\") === null) {\r\n              this.searchMetadataView.options.collection.add(metadataModels, {'silent': true});\r\n            }\r\n\r\n            this.searchMetadataRegion.show(this.searchMetadataView);\r\n          }, this));\r\n\r\n      if (SearchStaticUtils.isAppleMobile === false) {\r\n        this.$el.on('mouseenter.' + this.cid, '.csui-search-item-row',\r\n            _.bind(this._hoverStart, this));\r\n        this.$el.on('mouseleave.' + this.cid, '.csui-search-item-row',\r\n            _.bind(this._hoverEnd, this));\r\n      }\r\n    },\r\n\r\n    _hoverStart: function () {\r\n      this.showInlineActions();\r\n    },\r\n\r\n    _hoverEnd: function () {\r\n      this.hideInlineActions();\r\n    },\r\n\r\n    _selectionChanged: function (rowStatesModel) {\r\n      var previous = rowStatesModel.previous(StandardSearchResultsView.RowStatesSelectedRows);\r\n      var changed = rowStatesModel.changed[StandardSearchResultsView.RowStatesSelectedRows];\r\n\r\n      var deselected = _.difference(previous, changed);\r\n      var selected = _.difference(changed, previous);\r\n\r\n      var id = this.model.get('id');\r\n\r\n      if (_.contains(deselected, id)) {\r\n        this.model.set('csuiIsSelected', false);\r\n        this._checkboxView.setChecked(false);\r\n        this.ui.inlineToolbar.removeClass('selected');\r\n      }\r\n      if (_.contains(selected, id)) {\r\n        this._checkboxView.setChecked(true);\r\n        this.ui.inlineToolbar.addClass('selected');\r\n\r\n        this.hideInlineActions(); // hide if a item was selected by checkbox\r\n      }\r\n    },\r\n\r\n    initActionViews: function (options) {\r\n      this.favView = new FavoritesView({\r\n        tagName: 'div',\r\n        focusable: true,\r\n        model: options.model,\r\n        context: options.context,\r\n        tableView: options.tableView\r\n      });\r\n\r\n      var selectedModelIds = this._rowStates.get(StandardSearchResultsView.RowStatesSelectedRows);\r\n      var checked = _.contains(selectedModelIds, this.model.get('id'));\r\n      var checkboxTitle = _.str.sformat(lang.selectItem, options.model.get('name'));\r\n      var checkboxAriaLabel = _.str.sformat(lang.selectItemAria, options.model.get('name'));\r\n\r\n      var selectable = options.model.get('selectable') !== false;\r\n      this._checkboxView = new CheckboxView({\r\n        checked: checked ? 'true' : 'false',\r\n        disabled: !selectable,\r\n        ariaLabel: checkboxAriaLabel,\r\n        title: checkboxTitle\r\n      });\r\n\r\n      this.listenTo(this._checkboxView.model, 'change:checked', function (event) {\r\n        this._markAsSelected(event.changed.checked === 'true');\r\n      });\r\n\r\n      //options.models = SearchMetadataItems;\r\n      options.connector = options.model.connector;\r\n      if (!!config.enableBreadcrumb && this.model.collection.isLocationColumnAvailable) {\r\n        this.addBreadcrumbs(options);\r\n      }\r\n    },\r\n\r\n    _getEnabledNodeStateIcons: function () {\r\n      var nodeStateIconsPrototype, enabledNodeStateIcons;\r\n      nodeStateIconsPrototype = Object.getPrototypeOf(nodeStateIcons);\r\n      enabledNodeStateIcons = new nodeStateIconsPrototype.constructor(\r\n          nodeStateIcons.filter(function (iconModel) {\r\n            var IconView = iconModel.get('iconView');\r\n            try {\r\n              return IconView && (!IconView.enabled || IconView.enabled({\r\n                    context: this.options.context,\r\n                    node: this.model\r\n                  }));\r\n            } catch (error) {\r\n              log.warn('Evaluating an icon view failed.\\n{0}',\r\n                  error.message) && console.warn(log.last);\r\n            }\r\n          }, this));\r\n      return enabledNodeStateIcons;\r\n    },\r\n\r\n    _markAsSelected: function (select) {\r\n      var newSelectedModelIds;\r\n      var modelId = this.model.get('id');\r\n      var selectedModelIds = this._rowStates.get(StandardSearchResultsView.RowStatesSelectedRows);\r\n      if (select) {\r\n        if (!_.contains(selectedModelIds, modelId)) {\r\n          this.collection.selectedItems.add(this.model);\r\n          newSelectedModelIds = selectedModelIds.concat([modelId]);\r\n          this._rowStates.set(StandardSearchResultsView.RowStatesSelectedRows, newSelectedModelIds);\r\n        }\r\n      } else {\r\n        if (_.contains(selectedModelIds, modelId)) {\r\n          var modelRemoved = this.collection.selectedItems.findWhere({id: this.model.get('id')});\r\n          this.collection.selectedItems.remove(modelRemoved);\r\n          newSelectedModelIds = _.without(selectedModelIds, modelId);\r\n          this._rowStates.set(StandardSearchResultsView.RowStatesSelectedRows, newSelectedModelIds);\r\n        }\r\n      }\r\n\r\n    },\r\n\r\n    addBreadcrumbs: function (options) {\r\n      var ancestors = new NodeAncestorCollection(\r\n          options.model.attributes.ancestors, {\r\n            node: options.model, autofetch: false\r\n          });\r\n      if (!this.hasPromoted || (this.hasPromoted && this.model.get(\"ancestors\"))) {\r\n        this.breadcrumbsView = new BreadcrumbsView({\r\n          context: options.context,\r\n          collection: ancestors,\r\n          startSubCrumbs: 0,\r\n          isRtl: SearchStaticUtils.isRtl\r\n          // TODO: Use {fetchOnCollectionUpdate: false} to prevent\r\n          // the control from an extra fetching of the collection.\r\n        });\r\n        this.breadcrumbsView.synchronizeCollections(true);\r\n      } else {\r\n        // for volumes donot include breadcrumbs for best_bets/nick_names results.\r\n        if (options.model.parent.get('id') > 0) {\r\n          this.getAncestors(options).fetch().done(_.bind(function (response) {\r\n            if(!!this.breadcrumbsView.completeCollection) {\r\n              this.breadcrumbsView.completeCollection.length &&\r\n              this.breadcrumbsView.completeCollection.last().set({'showAsLink': true},\r\n                  {'silent': true});\r\n              this.model.attributes.ancestors = this.breadcrumbsView.completeCollection.models;\r\n            } else {\r\n              this.breadcrumbsView.collection.length &&\r\n              this.breadcrumbsView.collection.last().set({'showAsLink': true}, {'silent': true});\r\n              this.model.attributes.ancestors = this.breadcrumbsView.collection.models;\r\n            }\r\n            this.breadcrumbsView.synchronizeCollections();\r\n            if (this.model.collection && this.model.collection.fetched) {\r\n              this.model.trigger(\"change:ancestors\", this.model);\r\n            }\r\n          }, this));\r\n        } else {\r\n          this.breadcrumbsView = undefined;\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n\r\n    getAncestors: function (opts) {\r\n      var node            = opts.model,\r\n          ancestorOptions = {node: node.parent, autofetch: false},\r\n          newAncestors    = new NodeAncestorCollection(undefined, ancestorOptions);\r\n      this.breadcrumbsView = new BreadcrumbsView({\r\n        context: opts.context,\r\n        collection: newAncestors,\r\n        startSubCrumbs: 0,\r\n        hasPromoted: this.hasPromoted,\r\n        isRtl: SearchStaticUtils.isRtl\r\n      });\r\n      return newAncestors;\r\n    },\r\n\r\n    onRender: function (e) {\r\n      this.initActionViews(this.options);\r\n      var enabledStateIcons = this._getEnabledNodeStateIcons();\r\n      if (enabledStateIcons.length) {\r\n        this.nodeStateView = new NodeStateCollectionView({\r\n          context: this.options.context,\r\n          node: this.options.model,\r\n          tableView: this.options.originatingView,\r\n          targetView: this.options.originatingView,\r\n          collection: enabledStateIcons\r\n        });\r\n        this.nodeStateRegion.show(this.nodeStateView);\r\n      }\r\n\r\n      var meta = this.model.get(\"search_result_metadata\");\r\n      if (!!meta && (meta.current_version !== false && meta.version_type !== \"minor\") &&\r\n          this.model.get('favorite') !== undefined) { // LPAD-61021) {\r\n        this.favRegion.show(this.favView);\r\n      }\r\n      if (!!config.enableBreadcrumb && !!this.breadcrumbsView) {\r\n        this.breadcrumbRegion.show(this.breadcrumbsView);\r\n        this.$el.find('ol.binf-breadcrumb').attr('aria-label', this.itemBreadcrumb);\r\n\r\n        var nodesCount = this.$el.find('ol.binf-breadcrumb > li').length;\r\n        if (nodesCount === 1) {\r\n          this.$el.find('.tail').addClass(\"one-node\");\r\n        } else if (nodesCount === 2) {\r\n          this.$el.find('.tail').addClass(\"two-nodes\");\r\n        }\r\n      }\r\n      this.selectionRegion.show(this._checkboxView);\r\n      if (this.model.collection && this._checkboxView.options.checked === \"true\") {\r\n        this.$el.find('.csui-search-item-row').addClass('selected');\r\n      }\r\n      this.trigger('render:metadata');\r\n      this._nodeIconView = new NodeTypeIconView({\r\n        el: this.$('.csui-type-icon').get(0),\r\n        node: this.model\r\n      });\r\n      this._nodeIconView.render();\r\n\r\n      var selectedSettings = this.model.collection.selectedSettings;\r\n      var description = '', summary = '';\r\n      if (selectedSettings) {\r\n        switch (selectedSettings) {\r\n        case 'SD' :\r\n        {\r\n          description = this.model.get(\"description\");\r\n          summary = this.model.get(\"summary\");\r\n          break;\r\n        }\r\n        case 'SO' :\r\n        {\r\n          description = this.model.get(\"summary\");\r\n          break;\r\n        }\r\n        case 'SP' :\r\n        {\r\n          description = this.model.get(\"summary\")\r\n                        || this.model.get(\"description\");\r\n          break;\r\n        }\r\n        case 'DP' :\r\n        {\r\n          description = this.model.get(\"description\")\r\n                        || this.model.get(\"summary\");\r\n          break;\r\n        }\r\n        case 'DO' :\r\n        {\r\n          description = this.model.get(\"description\");\r\n          break;\r\n        }\r\n        default :\r\n        {\r\n          description = '';\r\n        }\r\n        }\r\n      }\r\n      if (description && description.length > 0) {\r\n        this.el.getElementsByClassName('csui-search-item-desc')[0].innerHTML = description;\r\n      }\r\n      if (summary && summary.length > 0) {\r\n        this.el.getElementsByClassName('csui-search-item-summary')[0].innerHTML = summary;\r\n      }\r\n      this.listenTo(this, 'adjust:breadcrumb', function () {\r\n        this.breadcrumbsView.refresh();\r\n      });\r\n    },\r\n\r\n    hasVersion: function () {\r\n      var hasVer = this.model.get('versions');\r\n      if (hasVer) {\r\n        var srMetadata = this.model.get(\"search_result_metadata\");\r\n        hasVer = srMetadata &&\r\n                 (srMetadata.current_version === false || srMetadata.version_type === 'minor');\r\n      }\r\n      return hasVer;\r\n    },\r\n\r\n    hasBestBet: function () {\r\n      var bestBets = this.model.get('bestbet');\r\n      return !!bestBets && !!bestBets.length;\r\n    },\r\n\r\n    hasNickName: function () {\r\n      var nickName = this.model.get('nickname');\r\n      return !!nickName && !!nickName.length;\r\n    },\r\n\r\n    hasPromoted: function () {\r\n      return !!this.hasBestBet() || !!this.hasNickName();\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      if (this._nodeIconView) {\r\n        this._nodeIconView.destroy();\r\n      }\r\n      if (this.$el && SearchStaticUtils.isAppleMobile === false) {\r\n        this.$el.off('mouseenter.' + this.cid, '.csui-search-item-row', this._hoverStart);\r\n        this.$el.off('mouseleave.' + this.cid, '.csui-search-item-row', this._hoverEnd);\r\n      }\r\n    },\r\n\r\n    onShow: function (e) {\r\n      this.updateItemdetails(e);\r\n      if (this.nodeStateView) {\r\n        var stateViews = this.nodeStateView.el.getElementsByTagName('li');\r\n        if (stateViews.length === 1) {\r\n          this.$el.addClass('csui-search-result-nodestate-item');\r\n        } else if (stateViews.length === 2) {\r\n          this.$el.addClass('csui-search-result-nodestate-item2');\r\n        } else if (stateViews.length > 2) {\r\n          this.$el.addClass('csui-search-result-nodestate-more');\r\n        }\r\n      }\r\n    },\r\n\r\n    _toggleExpand: function (buttonEl) {\r\n      this.bindUIElements();\r\n      if (this._isExpanded) {\r\n        this._isExpanded = false;\r\n        $('.truncated-' + this.cid).hide();\r\n        buttonEl.attr('title', lang.showMore)\r\n                .attr('aria-expanded', 'false')\r\n                .attr('aria-label', lang.showMoreAria);\r\n        this.ui.arrowIcon.removeClass('icon-expandArrowUp');\r\n        this.ui.arrowIcon.addClass('icon-expandArrowDown');\r\n        this.ui.descriptionField.removeClass(\"csui-search-item-desc-height\");\r\n        this.ui.descriptionField.addClass(\"csui-overflow\");\r\n        this.ui.summaryField.removeClass(\"csui-search-item-summary-height\");\r\n        this.ui.summaryField.addClass(\"csui-overflow\");\r\n      } else {\r\n        this._isExpanded = true;\r\n        $('.truncated-' + this.cid).show();\r\n        buttonEl.attr('title', lang.showLess)\r\n                .attr('aria-expanded', 'true')\r\n                .attr('aria-label', lang.showLessAria);\r\n        this.ui.arrowIcon.removeClass('icon-expandArrowDown');\r\n        this.ui.arrowIcon.addClass('icon-expandArrowUp');\r\n        this.ui.descriptionField.addClass(\"csui-search-item-desc-height\");\r\n        this.ui.descriptionField.removeClass(\"csui-overflow\");\r\n        this.ui.summaryField.addClass(\"csui-search-item-summary-height\");\r\n        this.ui.summaryField.removeClass(\"csui-overflow\");\r\n      }\r\n    },\r\n\r\n    updateItemdetails: function (e) {\r\n      var self           = this,\r\n          hasDescription = this.hasDescriptionText(this.ui.descriptionField[0]), // for few objects it could be summary.\r\n          hasSummary     = this.hasDescriptionText(this.ui.summaryField[0]);\r\n\r\n      if (hasDescription) {\r\n        this.ui.descriptionField.addClass(\"csui-overflow\");\r\n      }\r\n\r\n      this.$el.find('.truncated-' + this.cid).addClass('binf-hidden');\r\n\r\n      if (hasSummary) {\r\n        this.ui.summaryField.addClass(\"csui-overflow\");\r\n      }\r\n\r\n      if (!!config.enableBreadcrumb && this.breadcrumbsView) {\r\n        this.breadcrumbsView.refresh();\r\n      }\r\n\r\n      if (this.$el.find('.search-results-item-expand').length === 0) {\r\n        this.$el.find('.csui-search-item-fav.search-fav-' + this.cid)\r\n            .after(\r\n                '<button class=\"search-results-item-expand\" title=\"' + lang.showMore +\r\n                '\" aria-expanded=\"false\" aria-label=\"' + lang.showMoreAria +\r\n                '\"><span class=\"icon icon-expandArrowDown\"></span></button>')\r\n            .next().on('click', function () {\r\n          self._toggleExpand.call(self, $(this));\r\n        });\r\n      }\r\n\r\n      if (!hasDescription) {   //when there is no description, hide description field and 'Modified' metadata property\r\n        this.ui.descriptionField.addClass(\"binf-hidden\");\r\n        this.ui.modifiedByField.addClass(\"binf-hidden\");\r\n      }\r\n\r\n      if (!hasSummary) {   //when there is no summary, hide summary field\r\n        this.ui.summaryField.addClass(\"binf-hidden\");\r\n      }\r\n    },\r\n\r\n    addOwnerDisplayName: function () {\r\n      var ownerDisplayName = \"\";\r\n      if (!!this.model.attributes.owner_user_id_expand) {\r\n        ownerDisplayName = this.getDisplayName(this.model.attributes.owner_user_id_expand);\r\n      }\r\n      _.extend(this.model.attributes, {\r\n        owner_display_name: ownerDisplayName\r\n      });\r\n    },\r\n\r\n    addCreatedUserDisplayName: function () {\r\n      var createUserDisplayName = \"\";\r\n      if (!!this.model.attributes.create_user_id_expand) {\r\n        createUserDisplayName = this.getDisplayName(this.model.attributes.create_user_id_expand);\r\n      }\r\n      _.extend(this.model.attributes, {\r\n        create_user_display_name: createUserDisplayName\r\n      });\r\n    },\r\n\r\n    getDisplayName: function (userInfo) {\r\n      return userInfo.name_formatted || userInfo.name;\r\n    },\r\n\r\n    hasDescriptionText: function (el) {\r\n      return (el && el.textContent.trim().length > 0);\r\n    },\r\n\r\n    showInlineActions: function () {\r\n      if (this.ui.inlineToolbarContainer.find('.csui-table-actionbar').length === 0) {\r\n        if (this.collection.selectedItems.length > 0) {\r\n          // no inline bar if items are selected by checkbox\r\n          return;\r\n        }\r\n\r\n        this._hiddenMetadataElements = this.$el.find('.csui-search-item-details:lt(2)');\r\n        this._hiddenMetadataElements.addClass(\"binf-hidden\");\r\n\r\n        this.ui.inlineToolbarContainer.removeClass(\"binf-hidden\");\r\n\r\n        var versionId   = this.model.attributes.version_id ?\r\n                          \"-\" + this.model.attributes.version_id :\r\n                          \"\",\r\n            selectedRow = $(\".csui-search-item-action-\" + this.cid + versionId)[0];\r\n        var args = {\r\n          sender: this,\r\n          target: selectedRow,\r\n          node: this.model\r\n        };\r\n        this.trigger(\"enterSearchRow\", args);\r\n      }\r\n    },\r\n\r\n    hideInlineActions: function () {\r\n      this.ui.inlineToolbarContainer.addClass(\"binf-hidden\");\r\n      this._hiddenMetadataElements.removeClass(\"binf-hidden\");\r\n      this._hiddenMetadataElements = $();\r\n      if (!this._isExpanded) {\r\n        var descLength = this.ui.descriptionField.html().trim().length;\r\n        if (descLength <= 0) {\r\n          this.ui.descriptionField.addClass(\"binf-hidden\");\r\n          this.ui.modifiedByField.addClass(\"binf-hidden\");\r\n        }\r\n\r\n        var summaryLength = this.ui.summaryField.html().trim().length;\r\n        if (summaryLength <= 0) {\r\n          this.ui.summaryField.addClass(\"binf-hidden\");\r\n        }\r\n      }\r\n\r\n      var versionId   = this.model.attributes.version_id ? \"-\" + this.model.attributes.version_id :\r\n                        \"\",\r\n          selectedRow = $(\".csui-search-item-action-\" + this.cid + versionId)[0];\r\n      var args = {\r\n        sender: this,\r\n        target: selectedRow,\r\n        node: []\r\n      };\r\n      this.trigger(\"leaveSearchRow\", args);\r\n    },\r\n\r\n    openVersionHistory: function (event) {\r\n      var self         = this,\r\n          args         = {},\r\n          selectedNode = [];\r\n      var versionId   = this.model.attributes.version_id ? \"-\" + this.model.attributes.version_id :\r\n                        \"\",\r\n          selectedRow = $(\".csui-search-item-action-\" + this.cid + versionId)[0];\r\n      selectedNode = this.model;\r\n      args = {\r\n        sender: self,\r\n        target: selectedRow,\r\n        model: selectedNode\r\n      };\r\n      self.options.originatingView.openVersionHistory(args);\r\n    },\r\n\r\n    showMetadataInfo: function (event) {\r\n      this.ui.descriptionField.removeClass(\"binf-hidden\");\r\n      this.ui.modifiedByField.removeClass(\"binf-hidden\");\r\n      this.ui.summaryField.removeClass(\"binf-hidden\");\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    },\r\n\r\n    hideMetadataInfo: function (event) {\r\n      var descLength = this.ui.descriptionField.html().trim().length;\r\n      if (descLength <= 0) {\r\n        this.ui.descriptionField.addClass(\"binf-hidden\");\r\n        this.ui.modifiedByField.addClass(\"binf-hidden\");\r\n      }\r\n      var summaryLength = this.ui.summaryField.html().trim().length;\r\n      if (summaryLength <= 0) {\r\n        this.ui.summaryField.addClass(\"binf-hidden\");\r\n      }\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n  });\r\n\r\n  var StandardSearchResultsView = Marionette.CollectionView.extend({\r\n\r\n    className: 'binf-list-group',\r\n\r\n    childView: SearchResultItemView,\r\n    childViewOptions: function () {\r\n\r\n      return {\r\n        context: this.options.context,\r\n        defaultActionController: this.defaultActionController,\r\n        metadata: this.metadata,\r\n        rowStates: this._rowStates,\r\n        originatingView: this.options.originatingView,\r\n        headerView: this.options.originatingView.headerView,\r\n        parentView: this,\r\n        isLocationColumnAvailable: this.isLocationColumnAvailable > -1,\r\n        collection: this.collection\r\n      };\r\n    },\r\n\r\n    emptyView: NoSearchResultView,\r\n    emptyViewOptions: function () {\r\n      return {\r\n        model: this.emptyModel\r\n      };\r\n    },\r\n\r\n    behaviors: {\r\n      DefaultAction: {\r\n        behaviorClass: DefaultActionBehavior\r\n      }\r\n    },\r\n\r\n    childEvents: {\r\n      'click:item': 'onClickItem'\r\n    },\r\n\r\n    constructor: function SearchResultListView(options) {\r\n      options || (options = {});\r\n      this.options = options;\r\n      this.context = options.context;\r\n      this.collection = options.collection;\r\n      this.localStorage = this.options.localStorage;\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n      this.setRowStates();\r\n      this.setInlineActionBarEvents();\r\n      this.metadata = this.options.metadata ||\r\n                      this.context.getCollection(SearchMetadataFactory, this);\r\n      this.setStandardSearchHeaderView();\r\n      this.listenTo(this, 'update:tool:items', this._updateToolItems);\r\n\r\n      //TODO: after sync\r\n      this.listenTo(this.collection, 'sync', function () {\r\n        // on page navigation new models are loaded into this.resultsView.collection,\r\n        // so replacing with new models in this.selectedItems to maintain consistency.\r\n        this.collection.selectedItems && this.collection.selectedItems.length &&\r\n        this.collection.each(_.bind(function (model) {\r\n          var index = this.collection.selectedItems.findIndex({id: model.get('id')});\r\n          if (index !== -1 && this.collection.selectedItems.at(index) !== model) {\r\n            this.collection.selectedItems.remove(this.collection.selectedItems.at(index));\r\n            this.collection.selectedItems.add(model, {at: index});\r\n            model.set('csuiIsSelected', true);\r\n            var newSelectedModelIds;\r\n            var modelId = model.get('id');\r\n            var selectedModelIds = this._rowStates.get(StandardSearchResultsView.RowStatesSelectedRows);\r\n            if (!_.contains(selectedModelIds, modelId)) {\r\n              this.collection.selectedItems.add(this.model);\r\n              newSelectedModelIds = selectedModelIds.concat([modelId]);\r\n              this._rowStates.set(StandardSearchResultsView.RowStatesSelectedRows, newSelectedModelIds);\r\n            }\r\n          } else {\r\n            this._updateToolItems();\r\n          }\r\n        }, this));\r\n      });\r\n\r\n      this.listenTo(this.collection, \"sync\", this._focusOnFirstSearchResultElement);\r\n      this.listenTo(this.options.originatingView, 'render:metadata', this.renderMetadataModels);\r\n\r\n      this.listenTo(this, 'dom:refresh', function () {\r\n        this.standardHeaderView.triggerMethod('dom:refresh');\r\n      });\r\n      BlockingView.delegate(this, options.originatingView);\r\n\r\n      this.collection.originatingView = options.originatingView;\r\n      this.emptyModel = new Backbone.Model({\r\n        message: lang.noSearchResultMessage,\r\n        suggestionKeyword: lang.suggestionKeyword,\r\n        searchSuggestion1: lang.searchSuggestion1,\r\n        searchSuggestion2: lang.searchSuggestion2,\r\n        searchSuggestion3: lang.searchSuggestion3,\r\n        searchSuggestion4: lang.searchSuggestion4\r\n      });\r\n      this.listenTo(this.collection, 'sync', function () {\r\n        var tabElements = this.options.originatingView.facetView &&\r\n                          this.options.originatingView.facetView.$('.csui-facet');\r\n        if (tabElements && tabElements.length) {\r\n          tabElements.prop('tabindex', 0);\r\n        }\r\n      });\r\n      this.listenTo(this.collection, 'error', function () {\r\n        this.emptyModel.set('message', lang.failedSearchResultMessage);\r\n      });\r\n      this.listenTo(this, 'dom:refresh', this._refreshDom);\r\n      this.listenTo(this, 'facet:opened', function () {\r\n        //To adjust the breadcrumb whenever search results width changes.\r\n        if ($(window).width() > 1023) {\r\n          this.children.each(function (view) {\r\n            view.trigger('adjust:breadcrumb');\r\n          });\r\n        }\r\n      });\r\n      this.listenTo(this, 'destroy:header:view', function () {\r\n        this.standardHeaderView.destroy();\r\n        this.standardHeaderView = undefined;\r\n      });\r\n    },\r\n\r\n    _focusOnFirstSearchResultElement: function () {\r\n      if(this.options.originatingView && (!this.options.originatingView.collection.settings_changed))\r\n      {\r\n        this.$el.find(\".binf-list-group-item:first-child .csui-search-item-name > a\").trigger(\r\n            'focus');\r\n      } else {\r\n        this.options.originatingView.collection.settings_changed = false;\r\n      }\r\n     },\r\n\r\n    renderMetadataModels: function () {\r\n\r\n      this.metadata = _.extend({}, this.metadata,\r\n          this.collection.searching && this.collection.searching.sortedColumns);\r\n      var metadataModels = _.filter(this.metadata.models,\r\n          function (item) {\r\n            return !item.get(\"default\");\r\n          });\r\n      this.trigger('render:metadata', metadataModels);\r\n    },\r\n\r\n    setRowStates: function () {\r\n      this._rowStates = new Backbone.Model();\r\n      this._rowStates.set(StandardSearchResultsView.RowStatesSelectedRows, []);\r\n    },\r\n\r\n    setStandardSearchHeaderView: function () {\r\n      this.standardHeaderView = new StandardSearchResultsHeaderView({\r\n        collection: this.collection,\r\n        view: this,\r\n        options: this.options,\r\n        selectedItems: this.collection.selectedItems\r\n      });\r\n    },\r\n    _updateToolItems: function () {\r\n      this.standardHeaderView && this.standardHeaderView._updateToolItems();\r\n    },\r\n    _showInlineActionBar: function (args) {\r\n      if (!!args) {\r\n        this._savedHoverEnterArgs = null;\r\n\r\n        var parentId = args.node.get('parent_id');\r\n        if (parentId instanceof Object) {\r\n          parentId = args.node.get('parent_id').id;\r\n        }\r\n        var parentNode = new NodeModel({id: parentId},\r\n            {connector: args.node.connector});\r\n\r\n        this.inlineToolbarView = new TableActionBarView(_.extend({\r\n              context: this.options.context,\r\n              commands: this.defaultActionController.commands,\r\n              delayedActions: this.collection.delayedActions,\r\n              collection: this.options.toolbarItems.inlineToolbar || [],\r\n              toolItemsMask: this.options.toolbarItemsMasks.toolbars.inlineToolbar,\r\n              container: parentNode,\r\n              containerCollection: this.collection,\r\n              model: args.node,\r\n              originatingView: this.options.originatingView,\r\n              notOccupiedSpace: 0\r\n            }, this.options.toolbarItems.inlineToolbar &&\r\n               this.options.toolbarItems.inlineToolbar.options)\r\n        );\r\n\r\n        this.listenTo(this.inlineToolbarView, 'after:execute:command',\r\n            this.options.originatingView._toolbarCommandExecuted);\r\n        this.inlineToolbarView.render();\r\n        this.listenTo(this.inlineToolbarView, 'destroy', function () {\r\n          this.inlineToolbarView = undefined;\r\n          if (this._savedHoverEnterArgs) {\r\n            this._showInlineActionBarWithDelay(this._savedHoverEnterArgs);\r\n          }\r\n        }, this);\r\n        $(args.target).append(this.inlineToolbarView.$el);\r\n        this.inlineToolbarView.triggerMethod(\"show\");\r\n      }\r\n    },\r\n    setInlineActionBarEvents: function () {\r\n      this.listenTo(this, 'childview:enterSearchRow',\r\n          this._showInlineActionBarWithDelay);\r\n      this.listenTo(this, 'childview:openVersionHistory',\r\n          this.openVersionHistory);\r\n      this.listenTo(this, 'childview:leaveSearchRow', this._actionBarShouldDestroy);\r\n      this.listenTo(this.collection, \"reset\", this._destroyInlineActionBar);\r\n    },\r\n    _showInlineActionBarWithDelay: function (_view, args) {\r\n      if (this._showInlineActionbarTimeout) {\r\n        clearTimeout(this._showInlineActionbarTimeout);\r\n      }\r\n      var self = this;\r\n      this._showInlineActionbarTimeout = setTimeout(function () {\r\n        self._showInlineActionbarTimeout = undefined;\r\n        // if (!self.targetView.lockedForOtherContols) {\r\n        // don't show the action bar control if the searchresult view is locked because a different\r\n        // control is already open\r\n        self._showInlineActionBar.call(self, args);\r\n        //}\r\n      }, 200);\r\n    },\r\n    _actionBarShouldDestroy: function (_view, args) {\r\n      if (this._showInlineActionbarTimeout) {\r\n        clearTimeout(this._showInlineActionbarTimeout);\r\n        this._showInlineActionbarTimeout = undefined;\r\n      }\r\n      if (this.inlineToolbarView) {\r\n        //this.inlineToolbarView.updateForSelectedChildren(args.node);\r\n        this.inlineToolbarView.destroy();\r\n      }\r\n    },\r\n    _destroyInlineActionBar: function () {\r\n      if (this.inlineToolbarView) {\r\n        this.inlineToolbarView.destroy();\r\n        this.inlineToolbarView = undefined;\r\n      }\r\n    },\r\n\r\n    onClickItem: function (target) {\r\n      this.triggerMethod('execute:defaultAction', target.model);\r\n    },\r\n\r\n    onScrollTop: function () {\r\n      $('.binf-list-group').scrollTop(0);\r\n    },\r\n\r\n    _refreshDom: function () {\r\n      this.$el.addClass(\"list-group-height\");\r\n      this.onScrollTop();\r\n    }\r\n  }, {\r\n    RowStatesSelectedRows: 'selected'\r\n  });\r\n\r\n  return StandardSearchResultsView;\r\n});\n","csui.define('csui/controls/table/rows/description/search.description.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette', 'csui/utils/base',\r\n  'csui/controls/table/rows/description/description.view'\r\n], function (_, $, Marionette, base, DescriptionView) {\r\n\r\n  var SearchDescriptionView = DescriptionView.extend({\r\n\r\n    templateHelpers: function () {\r\n      var description = '',\r\n          modded      = '',\r\n          summaryModded= '',\r\n          title = '',\r\n          summaryTitle = '',\r\n          originalDescription = '',\r\n          originalSummary = '',\r\n          summary ='',\r\n          selectedSettings = this.options && this.options.tableView && this.options.tableView.selectedSettings,\r\n          summary_description = false;\r\n\r\n      switch (selectedSettings) {\r\n        case 'SD' : {\r\n          description = this.model.get(\"description\");\r\n          summary = this.model.get(\"summary\");\r\n          summary_description = true;\r\n          break;\r\n        }\r\n        case 'SO' : {\r\n          description = this.model.get(\"summary\");\r\n          break;\r\n        }\r\n        case 'SP' : {\r\n          description = this.model.get(\"summary\")\r\n              || this.model.get(\"description\");\r\n          break;\r\n        }\r\n        case 'DP' : {\r\n          description = this.model.get(\"description\")\r\n              || this.model.get(\"summary\");\r\n          break;\r\n        }\r\n        case 'DO' : {\r\n          description = this.model.get(\"description\");\r\n          break;\r\n        }\r\n        case 'NONE':\r\n          break;\r\n        default : {\r\n          description = '';\r\n        }\r\n      }\r\n      if (description && description.length > 0) {\r\n        description = description.replace(/</gi, '&lt;').replace(/>/gi, '&gt;');\r\n        originalDescription = description;\r\n        var hhRegEx = /&lt;HH&gt;/gi;\r\n        var hhEndRegEx = /&lt;\\/HH&gt;/gi;\r\n        modded = description.replace(hhRegEx, '<span class=\"csui-summary-hh\">');\r\n        modded = modded.replace(hhEndRegEx, '</span>');\r\n        title = originalDescription.replace(hhRegEx, '');\r\n        title = title.replace(hhEndRegEx, '');\r\n      }\r\n      if (summary_description && summary && summary.length > 0) {\r\n        summary = summary.replace(/</gi, '&lt;').replace(/>/gi, '&gt;');\r\n        originalSummary = summary;\r\n        var hhRegExSum = /&lt;HH&gt;/gi;\r\n        var hhEndRegExSum = /&lt;\\/HH&gt;/gi;\r\n        summaryModded = summary.replace(hhRegExSum, '<span class=\"csui-summary-hh\">');\r\n        summaryModded = summaryModded.replace(hhEndRegExSum, '</span>');\r\n        summaryTitle = originalSummary.replace(hhRegExSum, '');\r\n        summaryTitle = summaryTitle.replace(hhEndRegExSum, '');\r\n      }\r\n      return _.extend(DescriptionView.prototype.templateHelpers.apply(this), {\r\n        complete_description: title,\r\n        current_description: modded,\r\n        complete_summary: summaryTitle,\r\n        current_summary: summaryModded,\r\n        search_description: true,\r\n        search_summary: true,\r\n        summary_description_available: summary_description && summary,\r\n        descriptionAvailable : description\r\n      });\r\n    }\r\n  });\r\n\r\n  return SearchDescriptionView;\r\n});\r\n\n","csui.define('csui/widgets/search.results/impl/tabular/tabular.search.results.view',[\r\n  'module',\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/utils/base', 'csui/controls/table/table.view',\r\n  'csui/controls/table/rows/description/search.description.view',\r\n  'csui/controls/table.rowselection.toolbar/table.rowselection.toolbar.view',\r\n  'csui/controls/tableactionbar/tableactionbar.view',\r\n  'csui/utils/accessibility',\r\n  'csui/lib/jquery.mousehover',\r\n  'csui/lib/jquery.redraw',\r\n], function (module, _, $, Backbone, Marionette, base, TableView, DescriptionRowView,\r\n  TableRowSelectionToolbarView, TableActionBarView, Accessibility) {\r\n  'use strict';\r\n\r\n  var accessibleTable = Accessibility.isAccessibleTable();\r\n\r\n  var TabularSearchResultsView = TableView.extend({\r\n\r\n    ui: {\r\n      toggleDetails: '.csui-table-cell-_toggledetails.sorting_disabled'\r\n    },\r\n\r\n    events: {\r\n      'mouseup @ui.toggleDetails': 'onToggleOrChangePageSize',\r\n      'keypress @ui.toggleDetails': 'onToggleOrChangePageSize',\r\n      'mouseup .binf-table > thead > tr > th:not(.sorting_disabled)': 'onTableSortClick',\r\n      'keypress .binf-table > thead > tr > th:not(.sorting_disabled)': 'onTableSortClick'\r\n    },\r\n\r\n    constructor: function TabularSearchResultsView(options) {\r\n\r\n      this.collection = options.collection;\r\n      this.options = options;\r\n\r\n      this.columns = this.collection.searching && this.collection.searching.sortedColumns;\r\n      if (options.accessibleTable) {\r\n        this.getAdditionalColumns();\r\n      }\r\n      this.collection.columns = (this.columns) ? this.columns : this.tableColumns;\r\n\r\n      this.settings = this.options.originatingView.getSettings();\r\n      if (this.settings && this.settings.get('display')) {\r\n        var selectedSummary = this.settings.get('display').summary_description.selected;\r\n        this.showSummaryOnly = (selectedSummary === 'SO') ? true : false;\r\n      }\r\n      this.defaultActionController = this.options.defaultActionController;\r\n      var args = _.extend({\r\n        context: this.options.context,\r\n        connector: this.collection.options.connector,\r\n        collection: this.collection,\r\n        columns: this.options.columns,\r\n        enableSorting: this.options.enableSorting !== undefined ? this.options.enableSorting : true,\r\n        tableColumns: this.options.tableColumns,\r\n        pageSize: this.options.data.pageSize || this.options.pageSize,\r\n        originatingView: this.options.originatingView,\r\n        container: this.options.container,\r\n        orderBy: this.collection.orderBy,\r\n        filterBy: this.options.filterBy,\r\n        actionItems: this.defaultActionController.actionItems,\r\n        descriptionRowView: DescriptionRowView,\r\n        descriptionRowViewOptions: {\r\n          firstColumnIndex: 2,\r\n          lastColumnIndex: 2,\r\n          showDescriptions: false,\r\n          showSummary: true,\r\n          collapsedHeightIsOneLine: true,\r\n          displayInEntireRow: true,\r\n          showSummaryOnly: this.showSummaryOnly,\r\n          descriptionColspan: 7\r\n        },\r\n        commands: this.defaultActionController.commands,\r\n        blockingParentView: this.options.originatingView,\r\n        parentView: this.options.originatingView,\r\n        inlineBar: {\r\n          viewClass: TableActionBarView,\r\n          options: _.extend({\r\n            collection: this.options.toolbarItems.tabularInlineToolbar || [],\r\n            toolItemsMask: this.options.toolbarItemsMasks.toolbars.tabularInlineToolbar,\r\n            delayedActions: this.collection.delayedActions,\r\n            container: this.container,\r\n            containerCollection: this.collection\r\n          }, this.options.toolbarItems.tabularInlineToolbar &&\r\n             this.options.toolbarItems.tabularInlineToolbar.options, {\r\n            inlineBarStyle: this.options.config.inlineActionBarStyle,\r\n            forceInlineBarOnClick: this.options.config.forceInlineActionBarOnClick,\r\n            showInlineBarOnHover: this.options.config.showInlineActionBarOnHover\r\n          })\r\n        },\r\n        allSelectedNodes: this.collection.selectedItems,\r\n        customLabels: this.options.customLabels\r\n      });\r\n\r\n      options = _.extend(options, args);\r\n\r\n      TableView.prototype.constructor.call(this, options);\r\n      this.selectedSettings = this.collection.selectedSettings;\r\n      this._showEmptyViewText = !this.collection.length;\r\n      this.listenTo(this.options.originatingView, 'render:table',function () {\r\n        this.columns = this.options.originatingView.columns;\r\n        this.render();\r\n      });\r\n      this.listenTo(this.options.originatingView, 'toggle:description', function (showDescription) {\r\n        this.showDetailRowDescriptions(showDescription);\r\n        this.trigger('update:scrollbar');\r\n      });\r\n\r\n      this._setTableViewEvents();\r\n\r\n      this.listenTo(this, 'set:tablerow:assets', function() {\r\n\r\n        // must be after setTableView\r\n        this.columns = this.options.originatingView.columns;\r\n        this.setTableRowSelectionToolbar({\r\n          toolItemFactory: this.options.toolbarItems.tableHeaderToolbar || [],\r\n          toolbarItemsMask: this.options.toolbarItemsMasks.toolbars.tableHeaderToolbar,\r\n          // condensed header toggle is only available for main NodesTable, not derived tables\r\n          showSelectionCounter: true\r\n        });\r\n        this._setTableRowSelectionToolbarEventListeners();\r\n      });\r\n\r\n      \r\n      this.listenTo(this.options.originatingView, \"properties:view:destroyed\", this.onPropertiesViewDestroyed);\r\n      \r\n      this.listenTo(this.options.originatingView, \"permissions:view:destroyed\", this.onPropertiesViewDestroyed);\r\n\r\n      this.listenTo(this.collection, 'remove', function () {\r\n        if (!this.collection.selectedItems.length && (this.collection.models.length === 0 || \r\n              this.collection.totalCount < this.collection.topCount)) {\r\n          this.collection.trigger('sync');\r\n        }\r\n      });\r\n    },\r\n\r\n    onRender: function () {\r\n      if (this.collection.selectedItems.length) {\r\n        this.collection.selectedItems.trigger('reset');\r\n      }\r\n    },\r\n\r\n    _setTableViewEvents: function () {\r\n      this.listenTo(this, 'tableRowSelected', function (args) {\r\n        this.cancelAnyExistingInlineForm.call(this);\r\n        if (this.collection.selectedItems) {\r\n          var selectedNodes  = args.nodes,\r\n              selectedModels = this.collection.selectedItems.models.slice(0);\r\n          _.each(selectedNodes, function (selectedNode) {\r\n            if (!this.collection.selectedItems.get(selectedNode)) {\r\n              selectedModels.push(selectedNode);\r\n            }\r\n          }, this);\r\n          this.collection.selectedItems.reset(selectedModels);\r\n        }\r\n      });\r\n      if (this.container) {\r\n        this.listenTo(this.container, 'change:id', function () {\r\n          if (this.options.fixedFilterOnChange) {\r\n            this.collection.clearFilter(false);\r\n            this.collection.setFilter(this.options.fixedFilterOnChange, false);\r\n          }\r\n          else if (this.options.clearFilterOnChange) {\r\n            this.collection.clearFilter(false);\r\n          }\r\n          if (this.options.resetOrderOnChange) {\r\n            this.collection.resetOrder(false);\r\n          }\r\n          if (this.options.resetLimitOnChange) {\r\n            this.collection.resetLimit(false);\r\n          }\r\n        });\r\n      }\r\n      this.listenTo(this.collection.selectedItems, 'reset', function () {\r\n        if (this.tableToolbarView) {\r\n          // update table toolbar after row selection changed\r\n          //this.tableToolbarView.filterToolbarView.collection.status.thumbnailViewState = this.tableView.thumbnailView;\r\n          this.options.originatingView.headerView.tableRowSelectionToolbarRegion.show(this._tableRowSelectionToolbarView);\r\n          this._onSelectionUpdateCssClasses(this.collection.selectedItems.length);\r\n        }\r\n        var selectedItems = this.collection.selectedItems;\r\n        this.collection.each(function (node) {\r\n          var selectedItem = selectedItems.get(node.get('id'));\r\n          node.set('csuiIsSelected', selectedItem !== undefined);\r\n        });\r\n      });\r\n\r\n      this.listenTo(this, 'tableRowUnselected', function (args) {\r\n        if (this.collection.selectedItems) {\r\n          var unselectedNodes = args.nodes;\r\n          _.each(unselectedNodes, function (unselectedNode) {\r\n            this.collection.selectedItems.remove(unselectedNode, {silent: true});\r\n          }, this);\r\n          this.collection.selectedItems.reset(_.clone(this.collection.selectedItems.models));\r\n        }\r\n      });\r\n\r\n      this.listenTo(this, 'execute:defaultAction', function (node) {\r\n        var args = {node: node};\r\n        this.trigger('before:defaultAction', args);\r\n        if (!args.cancel) {\r\n          var self = this;\r\n          this.defaultActionController\r\n              .executeAction(node, {\r\n                context: this.options.context,\r\n                originatingView: this.options.originatingView\r\n              })\r\n              .done(function () {\r\n                self.trigger('executed:defaultAction', args);\r\n              });\r\n        }\r\n      });\r\n      if (this.enableDragNDrop) {\r\n        this.listenTo(this, 'tableRowRendered', function (row) {\r\n          var rowdragNDrop = this.setDragNDrop(row);\r\n          this._assignDragArea(rowdragNDrop, $(row.target));\r\n          this._assignDragArea(rowdragNDrop, row.expandedRows);\r\n        });\r\n      }\r\n      return true;\r\n    },\r\n\r\n    setTableRowSelectionToolbar: function (options) {\r\n      this._tableRowSelectionToolbarView = new TableRowSelectionToolbarView({\r\n        toolItemFactory: options.toolItemFactory,\r\n        toolbarItemsMask: options.toolbarItemsMask,\r\n        toolbarCommandController: this.options.originatingView.commandController,\r\n        showCondensedHeaderToggle: options.showCondensedHeaderToggle,\r\n        showSelectionCounter: true,\r\n        scrollableParent: '.csui-nodetable tbody',\r\n        // if toolbarCommandController is not defined, a new ToolbarCommandController\r\n        // with the following commands is created\r\n        commands: this.defaultActionController.commands,\r\n        selectedChildren: this.collection.selectedItems,\r\n        container: this.collection.node,\r\n        context: this.context,\r\n        originatingView: this.options.originatingView,\r\n        collection: this.collection\r\n      });\r\n      var toolbarView = this._tableRowSelectionToolbarView;\r\n      this.listenTo(toolbarView, 'toggle:condensed:header', function () {\r\n        // only show/hide the condensed header when in row selection mode\r\n        this.options.originatingView.headerView.$el.find('.csui-search-header').toggleClass('csui-show-header');\r\n        this.showingBothToolbars = this.options.originatingView.headerView &&\r\n        this.options.originatingView.headerView.$el.find('.csui-search-header').hasClass(\r\n                                      'csui-show-header');\r\n        if (this.showingBothToolbars) {\r\n          this.options.originatingView.headerView.$el.find('.csui-search-header').removeClass(\r\n              'csui-table-rowselection-toolbar-visible');\r\n              this.options.originatingView.headerView.$el.parent('#header').addClass('csui-show-header');\r\n        } else {\r\n          this.options.originatingView.headerView.$el.find('.csui-search-header').addClass(\r\n              'csui-table-rowselection-toolbar-visible');\r\n              this.options.originatingView.headerView.$el.parent('#header').removeClass('csui-show-header');\r\n        }\r\n        // let the right toolbar know to update its attributes\r\n        toolbarView.trigger('toolbar:activity', true, this.showingBothToolbars);\r\n      });\r\n\r\n      this.listenTo(toolbarView, 'render', function () {\r\n          this.listenTo(toolbarView._selectedCountView.collection,'remove', function (models) {\r\n            var model = this.collection.findWhere({id: models.get('id')});\r\n            if (model) {\r\n              model.set('csuiIsSelected', false);\r\n            } else {\r\n              models.set('csuiIsSelected', false);\r\n            }\r\n            this._onSelectionUpdateCssClasses(this.collection.selectedItems.length);\r\n          });\r\n      });\r\n    },\r\n\r\n    _setTableRowSelectionToolbarEventListeners: function () {\r\n      // listen for change of the selected rows in the table.view and if at least one row is\r\n      // selected, display the table-row-selected-toolbar and hide the table-toolbar\r\n      this.listenTo(this.collection.selectedItems, 'reset', function () {\r\n          var headerView = this.options.originatingView && this.options.originatingView.headerView;\r\n          headerView.tableRowSelectionToolbarRegion &&\r\n             headerView.tableRowSelectionToolbarRegion.$el.removeClass('binf-hidden');\r\n          this._tableRowSelectionToolbarView._rightToolbarView.options.showCondensedHeaderToggle = true;\r\n          headerView.tableRowSelectionToolbarRegion &&\r\n          headerView.tableRowSelectionToolbarRegion.show(this._tableRowSelectionToolbarView);\r\n          this._onSelectionUpdateCssClasses(this.collection.selectedItems.length);\r\n      });\r\n\r\n    },\r\n\r\n    _onSelectionUpdateCssClasses: function (selectionLength, stopTriggerToolbarActivity) {\r\n      var $rowSelectionToolbarEl = this.options.originatingView.headerView.tableRowSelectionToolbarRegion.$el;\r\n      var headerVisible = this.options.originatingView.headerView &&\r\n      this.options.originatingView.headerView.$el.find('.csui-search-header').hasClass(\r\n                              'csui-show-header');\r\n      this._tableRowSelectionToolbarVisible = !selectionLength;\r\n      if (accessibleTable) {\r\n        if (selectionLength > 0) {\r\n          if (!this._tableRowSelectionToolbarVisible) {\r\n            this._tableRowSelectionToolbarVisible = true;\r\n            // make tableToolbar invisible\r\n            //  and rowSelectionToolbar visible\r\n\r\n            // this lets the tableToolbar disappear\r\n            if (!headerVisible && !this.showingBothToolbars) {\r\n              this.options.originatingView.headerView.$el.find('.csui-search-header').addClass(\r\n                  'csui-table-rowselection-toolbar-visible');\r\n            }\r\n            // this lets the rowSelectionToolbar appear\r\n            $rowSelectionToolbarEl.removeClass('binf-hidden');\r\n            $rowSelectionToolbarEl.addClass('csui-table-rowselection-toolbar-visible');\r\n          }\r\n          this._tableRowSelectionToolbarView.trigger('toolbar:activity',\r\n              this._tableRowSelectionToolbarVisible, headerVisible);\r\n        } else {\r\n          this.showingBothToolbars = false;\r\n          if (this._tableRowSelectionToolbarVisible) {\r\n            this._tableRowSelectionToolbarVisible = false;\r\n            // make tableToolbar visible\r\n            //  and rowSelectionToolbar invisible\r\n\r\n            // without the rowSelectionToolbar, it is not necessary to have height for both toolbars\r\n            this.options.originatingView.headerView.$el.find('.csui-search-header').removeClass('csui-show-header');\r\n\r\n            // this lets the tableToolbar appear\r\n            this.options.originatingView.headerView.$el.find('.csui-search-header').removeClass('binf-hidden');\r\n            this.options.originatingView.headerView.$el.find('.csui-search-header').removeClass(\r\n                'csui-table-rowselection-toolbar-visible');\r\n\r\n            // this lets the rowSelectionToolbar disappear\r\n            $rowSelectionToolbarEl.removeClass('csui-table-rowselection-toolbar-visible');\r\n            this.options.originatingView.headerView.$el.parent('#header').removeClass('csui-show-header');\r\n          }\r\n        }\r\n      } else {\r\n        if (selectionLength > 0) {\r\n          if (!this._tableRowSelectionToolbarVisible) {\r\n            this._tableRowSelectionToolbarVisible = true;\r\n            // make tableToolbar invisible\r\n            //  and rowSelectionToolbar visible\r\n\r\n            // this will start the transition on height of rowSelectionToolbar from 0 to full\r\n            // height, which smoothly lets the rowSelectionToolbar appear\r\n            $rowSelectionToolbarEl\r\n                .removeClass('binf-hidden').redraw()\r\n                .addClass('csui-table-rowselection-toolbar-visible');\r\n\r\n            // this will start the transition on height of search header to 0, which finally lets\r\n            // the search header disappear\r\n            if (!headerVisible && !this.showingBothToolbars) {\r\n              this.options.originatingView.headerView.$el.find('.csui-search-header').addClass(\r\n                  'csui-table-rowselection-toolbar-visible');\r\n            }\r\n          }\r\n          this._tableRowSelectionToolbarView.trigger('toolbar:activity',\r\n              this._tableRowSelectionToolbarVisible, headerVisible);\r\n        } else {\r\n          this.showingBothToolbars = false;\r\n          if (this._tableRowSelectionToolbarVisible) {\r\n            this._tableRowSelectionToolbarVisible = false;\r\n            // make tableToolbar visible\r\n            //  and rowSelectionToolbar invisible\r\n\r\n            // without the rowSelectionToolbar, it is not necessary to have height for both toolbars\r\n            this.options.originatingView.headerView.$el.find('.csui-search-header').removeClass('csui-show-header');\r\n            $rowSelectionToolbarEl\r\n                .removeClass('csui-table-rowselection-toolbar-visible');\r\n\r\n            // this will start the transition on height of tableToolbar from 0 to full\r\n            // height, which smoothly lets the tableToolbar appear\r\n            this.options.originatingView.headerView.$el.find('.csui-search-header').removeClass(\r\n                'csui-table-rowselection-toolbar-visible');\r\n                this.options.originatingView.headerView.$el.parent('#header').removeClass('csui-show-header');\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    onTableSortClick: function (event) {\r\n      //Setting the isSortOptionSelected whenever sort is performed from table columns\r\n      //Instead of setting it after collection sync\r\n      if ((event.type === 'keypress' && (event.keyCode === 13 || event.keyCode === 32)) ||\r\n      (event.type === 'mouseup')) {\r\n        this.collection.isSortOptionSelected = false;\r\n      }\r\n    },\r\n\r\n    onToggleOrChangePageSize: function (event) {\r\n      if ((event.type === 'keypress' && (event.keyCode === 13 || event.keyCode === 32)) ||\r\n          (event.type === 'mouseup')) {\r\n        this.collection.isSortOptionSelected = true;\r\n      }\r\n    },\r\n\r\n    onPropertiesViewDestroyed: function () {\r\n      this.onMetadataNavigationViewDestroyed();\r\n      this.options.originatingView.headerView.updateToggleDescription();\r\n      this.render();\r\n    },\r\n\r\n    onMetadataNavigationViewDestroyed: function () {\r\n      if (!!this.collection.inMetadataNavigationView && this.isTabularView) {\r\n        this.collection.inMetadataNavigationView = false;\r\n      }\r\n    },\r\n\r\n  });\r\n\r\n  return TabularSearchResultsView;\r\n});\n","csui.define('csui/models/widget/search.results/search.metadata/search.columns',['csui/lib/underscore', \"csui/lib/backbone\",\r\n  'i18n!csui/models/impl/nls/lang'\r\n], function (_, Backbone, lang) {\r\n\r\n  var metadataColumnModel = Backbone.Model.extend({\r\n\r\n    idAttribute: \"key\",\r\n\r\n    defaults: {\r\n      key: null,  // key from the resource definitions\r\n      sequence: 0 // smaller number moves the column to the front\r\n    }\r\n\r\n  });\r\n\r\n  var metadataColumnCollection = Backbone.Collection.extend({\r\n\r\n    model: metadataColumnModel,\r\n    comparator: \"sequence\",\r\n\r\n    getColumnKeys: function () {\r\n      return this.pluck('key');\r\n    },\r\n\r\n    deepClone: function () {\r\n      return new metadataColumnCollection(\r\n          this.map(function (column) {\r\n            return column.attributes;\r\n          }));\r\n    }\r\n  });\r\n\r\n  var metadataColumns = new metadataColumnCollection([\r\n    {\r\n      key: 'OTMIMEType',\r\n      sequence: 0,\r\n      titleIconInHeader: 'mime_type',\r\n      permanentColumn: true // don't wrap column due to responsiveness into details row\r\n    },\r\n    {\r\n      key: 'OTName',\r\n      sequence: 1,\r\n      permanentColumn: true, // don't wrap column due to responsiveness into details row\r\n      isNaming: true  // use this column as a starting point for the inline forms\r\n    },\r\n    {\r\n      key: 'version_id',\r\n      column_key: 'version_id',\r\n      title: lang.version,\r\n      noTitleInHeader: true,\r\n      permanentColumn: true,\r\n      sequence: 2\r\n    },\r\n    {\r\n      key: 'reserved',\r\n      column_key: 'reserved',\r\n      sequence: 3,\r\n      title: lang.state, // \"reserved\" is just to bind the column to some property\r\n      noTitleInHeader: true, // don't display a text in the column header\r\n      permanentColumn: true\r\n    },\r\n    {\r\n      key: 'favorite',\r\n      column_key: 'favorite',\r\n      sequence: 910,\r\n      title: lang.favorite,\r\n      noTitleInHeader: true,\r\n      permanentColumn: true // don't wrap column due to responsiveness into details row\r\n    }\r\n  ]);\r\n\r\n  return metadataColumns;\r\n});\n","\n","csui.define('csui/widgets/search.results/impl/toolbaritems',['csui/lib/underscore', \"module\",\r\n  // Load extra tool items to be added to this collection\r\n  'csui-ext!csui/widgets/search.results/impl/toolbaritems'\r\n], function (_, module, extraToolItems) {\r\n\r\n  // TODO: Deprecate this module\r\n\r\n  if (extraToolItems) {\r\n    _.each(extraToolItems, function (moduleToolItems) {\r\n      // TODO: log a deprecation warning\r\n    });\r\n  }\r\n\r\n  return extraToolItems;\r\n\r\n});\r\n\n","csui.define('csui/widgets/search.results/toolbaritems',[\r\n  'csui/lib/underscore',\r\n  'i18n!csui/widgets/search.results/nls/lang',\r\n  'i18n!csui/controls/tabletoolbar/impl/nls/localized.strings',\r\n  'csui/controls/toolbar/toolitems.factory',\r\n  'csui/controls/toolbar/toolitem.model',\r\n  // Load extra tool items to be added to this collection\r\n  'csui-ext!csui/widgets/search.results/toolbaritems',\r\n  // Load extra tool items from the previous module location\r\n  'csui/widgets/search.results/impl/toolbaritems'\r\n], function (_, publicLang, lang, ToolItemsFactory, TooItemModel, extraToolItems,\r\n    oldExtraToolItems) {\r\n  'use strict';\r\n\r\n  // Keep the keys in sync with csui/widgets/search.results/toolbaritems.masks\r\n  var toolbarItems = {\r\n\r\n    filterToolbar: new ToolItemsFactory({\r\n          filter: [\r\n            {\r\n              signature: \"Filter\",\r\n              name: lang.ToolbarItemFilter,\r\n              icon: \"icon icon-toolbarFilter\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_filter32\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          addTrailingDivider: false\r\n        }),\r\n    tableHeaderToolbar: new ToolItemsFactory({\r\n          info: [\r\n            {\r\n              signature: \"Properties\",\r\n              name: lang.ToolbarItemInfo,\r\n              icon: \"icon icon-toolbar-metadata\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_properties32\"\r\n            },\r\n            {\r\n              signature: \"CopyLink\",\r\n              name: lang.ToolbarItemCopyLink\r\n            }\r\n          ],\r\n          edit: [\r\n            {signature: \"Edit\", name: lang.ToolbarItemEdit, flyout: \"edit\", promoted: true},\r\n            {signature: \"EditActiveX\", name: \"EditActiveX\", flyout: \"edit\"},\r\n            {signature: \"EditOfficeOnline\", name: \"EditOfficeOnline\", flyout: \"edit\"},\r\n            {signature: \"EditWebDAV\", name: \"EditWebDAV\", flyout: \"edit\"}\r\n          ],\r\n          share: [\r\n            {\r\n              signature: 'SendTo',\r\n              name: lang.ToolbarItemSendTo,\r\n              flyout: 'sendto',\r\n              group: 'share'\r\n            },\r\n            {\r\n              signature: 'Share',\r\n              name: lang.ToolbarItemShare,\r\n              flyout: 'share',\r\n              promoted: true,\r\n              group: 'share'\r\n            },\r\n            {\r\n              signature: 'EmailLink',\r\n              name: lang.ToolbarItemEmailLink,\r\n              flyout: 'sendto',\r\n              promoted: true,\r\n              group: 'share'\r\n            }\r\n          ],\r\n          main: [\r\n            {signature: \"InlineEdit\", name: lang.ToolbarItemRename, onlyInTouchBrowser: true},\r\n            {signature: \"permissions\", name: lang.ToolbarItemPermissions},\r\n            {signature: \"Download\", name: lang.ToolbarItemDownload},\r\n            {signature: \"ReserveDoc\", name: publicLang.ToolbarItemReserve},\r\n            {signature: \"UnreserveDoc\", name: publicLang.ToolbarItemUnreserve},\r\n            {signature: \"Copy\", name: lang.ToolbarItemCopy},\r\n            {signature: \"Move\", name: lang.ToolbarItemMove},\r\n            {signature: \"AddVersion\", name: lang.ToolbarItemAddVersion},\r\n            {signature: \"Collect\", name: lang.ToolbarCollect},\r\n            {signature: \"Delete\", name: lang.ToolbarItemDelete},\r\n            {signature: \"RemoveCollectedItems\", name: lang.ToolbarItemRemoveCollectionItems},\r\n            {signature: \"ZipAndDownload\", name: lang.MenuItemZipAndDownload}\r\n          ],\r\n          shortcut: [\r\n            {signature: \"OriginalCopyLink\", name: lang.ToolbarItemOriginalCopyLink},\r\n            {signature: \"OriginalEdit\", name: lang.ToolbarItemOriginalEdit},\r\n            {signature: \"OriginalEmailLink\", name: lang.ToolbarItemOriginalShare},\r\n            {signature: \"OriginalReserveDoc\", name: publicLang.ToolbarItemOriginalReserve},\r\n            {signature: \"OriginalUnreserveDoc\", name: publicLang.ToolbarItemOriginalUnreserve},\r\n            {signature: \"OriginalCopy\", name: lang.ToolbarItemOriginalCopy},\r\n            {signature: \"OriginalMove\", name: lang.ToolbarItemOriginalMove},\r\n            {signature: \"OriginalAddVersion\", name: lang.ToolbarItemAddVersion},\r\n            {signature: \"OriginalDownload\", name: lang.ToolbarItemOriginalDownload},\r\n            {signature: \"OriginalDelete\", name: lang.ToolbarItemOriginalDelete}\r\n          ]\r\n        },\r\n        {\r\n          maxItemsShown: 15,\r\n          dropDownIcon: \"icon icon-toolbar-more\",\r\n          dropDownSvgId: \"themes--carbonfiber--image--generated_icons--action_more32\",\r\n          dropDownText: lang.ToolbarItemMore,\r\n          addGroupSeparators: false,\r\n          lazyActions: true\r\n        }),\r\n    otherToolbar: new ToolItemsFactory({\r\n          info: [\r\n            {\r\n              signature: \"Properties\",\r\n              name: lang.ToolbarItemInfo,\r\n              icon: \"icon icon-toolbar-metadata\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_properties32\"\r\n            },\r\n            {\r\n              signature: \"CopyLink\",\r\n              name: lang.ToolbarItemCopyLink\r\n            }\r\n          ],\r\n          edit: [\r\n            {signature: \"Edit\", name: lang.ToolbarItemEdit, flyout: \"edit\", promoted: true},\r\n            {signature: \"EditActiveX\", name: \"EditActiveX\", flyout: \"edit\"},\r\n            {signature: \"EditOfficeOnline\", name: \"EditOfficeOnline\", flyout: \"edit\"},\r\n            {signature: \"EditWebDAV\", name: \"EditWebDAV\", flyout: \"edit\"}\r\n          ],\r\n          share: [\r\n            {\r\n              signature: 'SendTo',\r\n              name: lang.ToolbarItemSendTo,\r\n              flyout: 'sendto',\r\n              group: 'share'\r\n            },\r\n            {\r\n              signature: 'Share',\r\n              name: lang.ToolbarItemShare,\r\n              flyout: 'share',\r\n              promoted: true,\r\n              group: 'share'\r\n            },\r\n            {\r\n              signature: 'EmailLink',\r\n              name: lang.ToolbarItemEmailLink,\r\n              flyout: 'sendto',\r\n              promoted: true,\r\n              group: 'share'\r\n            }\r\n          ],\r\n          main: [\r\n            {signature: \"permissions\", name: lang.ToolbarItemPermissions},\r\n            {signature: \"Download\", name: lang.ToolbarItemDownload},\r\n            {signature: \"ReserveDoc\", name: publicLang.ToolbarItemReserve},\r\n            {signature: \"UnreserveDoc\", name: publicLang.ToolbarItemUnreserve},\r\n            {signature: \"Copy\", name: lang.ToolbarItemCopy},\r\n            {signature: \"Move\", name: lang.ToolbarItemMove},\r\n            {signature: \"AddVersion\", name: lang.ToolbarItemAddVersion},\r\n            {signature: \"Collect\", name: lang.ToolbarCollect},\r\n            {signature: \"Delete\", name: lang.ToolbarItemDelete},\r\n            {signature: \"ZipAndDownload\", name: lang.MenuItemZipAndDownload}\r\n          ]\r\n        },\r\n        {\r\n          maxItemsShown: 5,\r\n          dropDownText: lang.ToolbarItemMore,\r\n          dropDownIcon: \"icon icon-toolbar-more\",\r\n          dropDownSvgId: \"themes--carbonfiber--image--generated_icons--action_more32\",\r\n          addGroupSeparators: false,\r\n          lazyActions: true\r\n        }),\r\n    inlineToolbar: new ToolItemsFactory({\r\n          info: [\r\n            {\r\n              signature: \"Properties\",\r\n              name: lang.ToolbarItemInfo,\r\n              icon: \"icon icon-toolbar-metadata\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_properties32\"\r\n            },\r\n            {\r\n              signature: \"CopyLink\",\r\n              name: lang.ToolbarItemCopyLink,\r\n              icon: \"icon icon-toolbar-copylink\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_copy_link32\"\r\n            }\r\n          ],\r\n          edit: [\r\n            {\r\n              signature: \"Edit\",\r\n              name: lang.ToolbarItemEdit,\r\n              icon: \"icon icon-toolbar-edit\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_edit32\"\r\n            }\r\n          ],\r\n          share: [\r\n          ],\r\n          other: [\r\n            {\r\n              signature: \"permissions\",\r\n              name: lang.ToolbarItemPermissions,\r\n              icon: \"icon icon-toolbar-permissions\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_view_perms32\"\r\n            },\r\n            {\r\n              signature: \"Download\",\r\n              name: lang.ToolbarItemDownload,\r\n              icon: \"icon icon-toolbar-download\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_download32\"\r\n            },\r\n            {\r\n              signature: \"ReserveDoc\",\r\n              name: publicLang.ToolbarItemReserve,\r\n              icon: \"icon icon-toolbar-reserve\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_reserve32\"\r\n            },\r\n            {\r\n              signature: \"UnreserveDoc\",\r\n              name: publicLang.ToolbarItemUnreserve,\r\n              icon: \"icon icon-toolbar-unreserve\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_reserve32\"\r\n            },\r\n            {\r\n              signature: \"Copy\",\r\n              name: lang.ToolbarItemCopy,\r\n              icon: \"icon icon-toolbar-copy\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_copy32\"\r\n            },\r\n            {\r\n              signature: \"Move\",\r\n              name: lang.ToolbarItemMove,\r\n              icon: \"icon icon-toolbar-move\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_move32\"\r\n            },\r\n            {\r\n              signature: \"AddVersion\",\r\n              name: lang.ToolbarItemAddVersion,\r\n              icon: \"icon icon-toolbar-add-version\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_add_version32\"\r\n            },\r\n            {\r\n              signature: \"Collect\",\r\n              name: lang.ToolbarCollect,\r\n              icon: \"icon icon-toolbar-actioncollect\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_collect32\"\r\n            },\r\n            {\r\n              signature: \"Delete\",\r\n              name: lang.ToolbarItemDelete,\r\n              icon: \"icon icon-toolbar-delete\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_delete32\"\r\n            },\r\n            {\r\n              signature: \"ZipAndDownload\",\r\n              name: lang.MenuItemZipAndDownload,\r\n              icon: \"icon icon-toolbar-download\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_download32\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          maxItemsShown: 5,\r\n          dropDownText: lang.ToolbarItemMore,\r\n          dropDownIcon: \"icon icon-toolbar-more\",\r\n          dropDownSvgId: \"themes--carbonfiber--image--generated_icons--action_more32\",\r\n          addGroupSeparators: false\r\n        }),\r\n    tabularInlineToolbar: new ToolItemsFactory({\r\n          info: [\r\n            {\r\n              signature: \"Properties\",\r\n              name: lang.ToolbarItemInfo,\r\n              icon: \"icon icon-toolbar-metadata\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_properties32\"\r\n            },\r\n            {\r\n              signature: \"CopyLink\",\r\n              name: lang.ToolbarItemCopyLink,\r\n              icon: \"icon icon-toolbar-copylink\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_copy_link32\"\r\n            }\r\n          ],\r\n          edit: [\r\n            {\r\n              signature: \"Edit\",\r\n              name: lang.ToolbarItemEdit,\r\n              icon: \"icon icon-toolbar-edit\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_edit32\"\r\n            }\r\n          ],\r\n          share: [\r\n           \r\n          ],       \r\n          other: [\r\n            {\r\n              signature: \"permissions\",\r\n              name: lang.ToolbarItemPermissions,\r\n              icon: \"icon icon-toolbar-permissions\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_view_perms32\"\r\n            },\r\n            {\r\n              signature: \"Download\",\r\n              name: lang.ToolbarItemDownload,\r\n              icon: \"icon icon-toolbar-download\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_download32\"\r\n            },\r\n            {\r\n              signature: \"ReserveDoc\",\r\n              name: publicLang.ToolbarItemReserve,\r\n              icon: \"icon icon-toolbar-reserve\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_reserve32\"\r\n            },\r\n            {\r\n              signature: \"UnreserveDoc\",\r\n              name: publicLang.ToolbarItemUnreserve,\r\n              icon: \"icon icon-toolbar-unreserve\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_reserve32\"\r\n            },\r\n            {\r\n              signature: \"Copy\",\r\n              name: lang.ToolbarItemCopy,\r\n              icon: \"icon icon-toolbar-copy\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_copy32\"\r\n            },\r\n            {\r\n              signature: \"Move\",\r\n              name: lang.ToolbarItemMove,\r\n              icon: \"icon icon-toolbar-move\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_move32\"\r\n            },\r\n            {\r\n              signature: \"AddVersion\",\r\n              name: lang.ToolbarItemAddVersion,\r\n              icon: \"icon icon-toolbar-add-version\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_add_version32\"\r\n            },\r\n            {\r\n              signature: \"Collect\",\r\n              name: lang.ToolbarCollect,\r\n              icon: \"icon icon-toolbar-actioncollect\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_collect32\"\r\n            },\r\n            {\r\n              signature: \"Delete\",\r\n              name: lang.ToolbarItemDelete,\r\n              icon: \"icon icon-toolbar-delete\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_delete32\"\r\n            },\r\n            {\r\n              signature: \"ZipAndDownload\",\r\n              name: lang.MenuItemZipAndDownload,\r\n              icon: \"icon icon-toolbar-download\",\r\n              svgId: \"themes--carbonfiber--image--generated_icons--action_download32\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          maxItemsShown: 5,\r\n          dropDownText: lang.ToolbarItemMore,\r\n          dropDownIcon: \"icon icon-toolbar-more\",\r\n          dropDownSvgId: \"themes--carbonfiber--image--generated_icons--action_more32\",\r\n          addGroupSeparators: false\r\n        }),\r\n\r\n    versionToolItems: ['properties', 'open', 'download', 'delete']\r\n  };\r\n\r\n  if (oldExtraToolItems) {\r\n    addExtraToolItems(oldExtraToolItems);\r\n  }\r\n\r\n  if (extraToolItems) {\r\n    addExtraToolItems(extraToolItems);\r\n  }\r\n\r\n  function addExtraToolItems(extraToolItems) {\r\n    _.each(extraToolItems, function (moduleToolItems) {\r\n      _.each(moduleToolItems, function (toolItems, key) {\r\n        var targetToolbar = toolbarItems[key];\r\n        if (!targetToolbar) {\r\n          throw new Error('Invalid target toolbar: ' + key);\r\n        }\r\n        _.each(toolItems, function (toolItem) {\r\n          toolItem = new TooItemModel(toolItem);\r\n          targetToolbar.addItem(toolItem);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  return toolbarItems;\r\n});\r\n\n","csui.define('csui/widgets/search.results/toolbaritems.masks',['module', 'csui/lib/underscore',\r\n  'csui/controls/toolbar/toolitems.mask',\r\n  'csui/utils/toolitem.masks/global.toolitems.mask'\r\n], function (module, _, ToolItemMask, GlobalMenuItemsMask) {\r\n  'use strict';\r\n\r\n  // Keep the keys in sync with csui/widgets/search.results/toolbaritems\r\n  var toolbars = ['otherToolbar', 'inlineToolbar'];\r\n\r\n  function ToolbarItemsMasks() {\r\n    var config = module.config(),\r\n        globalMask = new GlobalMenuItemsMask();\r\n    // Create and populate masks for every toolbar\r\n    this.toolbars = _.reduce(toolbars, function (toolbars, toolbar) {\r\n      var mask = new ToolItemMask(globalMask, {normalize: false});\r\n      // Masks passed in by separate require.config calls are sub-objects\r\n      // stored in the outer object be different keys\r\n      _.each(config, function (source, key) {\r\n        source = source[toolbar];\r\n        if (source) {\r\n          mask.extendMask(source);\r\n        }\r\n      });\r\n      // Enable restoring the mask to its initial state\r\n      mask.storeMask();\r\n      toolbars[toolbar] = mask;\r\n      return toolbars;\r\n    }, {});\r\n  }\r\n\r\n  ToolbarItemsMasks.toolbars = toolbars;\r\n\r\n  return ToolbarItemsMasks;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/search.results/search.settings/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/utils/url'\r\n], function (_, $, Backbone, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      var originalSync = prototype.sync;\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var url         = this.connector.getConnectionUrl().getApiBase('v2'),\r\n              queryString = \"\",\r\n              templateId  = this.options.templateId;\r\n          if (templateId) {\r\n            queryString = Url.combine(queryString, \"/template/\" + templateId);\r\n          } else {\r\n            queryString = Url.combine(queryString, \"/template\");\r\n          }\r\n          queryString = Url.combine(queryString, \"/settings/display\");\r\n\r\n          return Url.combine(url, 'search' + queryString);\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          return originalSync.apply(this, arguments);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/widget/search.results/search.settings/search.settings.model',['csui/lib/jquery', 'csui/lib/underscore', \"csui/lib/backbone\",\r\n  'csui/models/mixins/connectable/connectable.mixin', 'csui/utils/url',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/widget/search.results/search.settings/server.adaptor.mixin'\r\n], function ($, _, Backbone, ConnectableMixin, Url, FetchableMixin, ServerAdaptorMixin) {\r\n  \"use strict\";\r\n\r\n  var RegionsModel = Backbone.Model.extend({\r\n    constructor: function RegionsModel() {\r\n      Backbone.Model.apply(this, arguments);\r\n    }\r\n  });\r\n\r\n  var RegionsModelCollection = Backbone.Collection.extend({\r\n    model: RegionsModel,\r\n\r\n    constructor: function RegionsModelCollection() {\r\n      Backbone.Collection.apply(this, arguments);\r\n    },\r\n\r\n    isFetchable: false\r\n  });\r\n\r\n  var SearchSettingsModel = Backbone.Model.extend({\r\n    constructor: function SearchSettingsModel(attributes, options) {\r\n      this.options = options || (options = {});\r\n      Backbone.Model.apply(this, arguments);\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    idAttribute: \"key\",\r\n\r\n    defaults: {\r\n      key: null,  // key from the resource definitions\r\n      sequence: 0 // smaller number moves the column to the front\r\n    },\r\n\r\n    isNew: function () {\r\n      return false;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      response = response.results && response.results.data;\r\n      var displayRegions = ['available', 'selected'];\r\n      _.each(response && response.display, function (item) {\r\n        if (_.isObject(item)) {\r\n          displayRegions.map(function (region) {\r\n            if (item[region]) {\r\n              if (_.isArray(item[region])) {\r\n                item[region] = new RegionsModelCollection(item[region]);\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n      return response;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return true;\r\n    },\r\n\r\n    getColumnKeys: function () {\r\n      return this.pluck('key');\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(SearchSettingsModel.prototype);\r\n  FetchableMixin.mixin(SearchSettingsModel.prototype);\r\n  ServerAdaptorMixin.mixin(SearchSettingsModel.prototype);\r\n\r\n  return SearchSettingsModel;\r\n});\n","csui.define('csui/utils/contexts/factories/search.settings.factory',['require', 'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/search.results/search.settings/search.settings.model'\r\n], function (require, module, _, Backbone, CollectionFactory, ConnectorFactory,\r\n    SearchSettingsCollection) {\r\n\r\n  var SearchSettingsFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'searchSettings',\r\n\r\n    constructor: function SearchSettingsFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var searchSettings = this.options.searchSettings || {};\r\n      if (!(searchSettings instanceof Backbone.Collection)) {\r\n        var connector  = context.getObject(ConnectorFactory, options),\r\n            config     = module.config(),\r\n            templateId = options.templateId;\r\n        searchSettings = new SearchSettingsCollection(searchSettings.models, _.extend({\r\n          connector: connector,\r\n          templateId: templateId\r\n        }, searchSettings.options, config.options, {\r\n          autofetch: true,\r\n          autoreset: true\r\n        }));\r\n      }\r\n      this.property = searchSettings;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n  return SearchSettingsFactory;\r\n});\n","csui.define('csui/utils/contexts/factories/search.results.facets.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/search.results/search.facets'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory, SearchFacetCollection) {\r\n\r\n  var SearchResultFacetCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'searchFacets',\r\n\r\n    constructor: function SearchResultFacetCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var facets = this.options.searchFacets || {};\r\n      if (!(facets instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            query     = facets.options.query,\r\n            config    = module.config();\r\n        facets = new SearchFacetCollection(facets.models, _.extend({\r\n          connector: connector,\r\n          query: query,\r\n          stateEnabled: true\r\n        }, facets.options, config.options, {\r\n          autofetch: true,\r\n          autoreset: true\r\n        }));\r\n      }\r\n      this.property = facets;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  return SearchResultFacetCollectionFactory;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/widgets/search.results/impl/search.results',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"          <div class=\\\"csui-search-left-panel-tabs\\\">\\r\\n          <ul role=\\\"tablist\\\">\\r\\n              <li class=\\\"csui-tab csui-search-custom-tab\\\" role=\\\"presentation\\\">\\r\\n                <a title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.customSearchTab : stack1), depth0))\n    + \"\\\" tabindex=\\\"0\\\"  role=\\\"tab\\\">\\r\\n                  <span>\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.customSearchTab : stack1), depth0))\n    + \"</span>\\r\\n                </a>\\r\\n              </li>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showFacetPanel : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"            </ul>\\r\\n          </div>\\r\\n\";\n},\"2\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                <li class=\\\"csui-tab csui-search-facet-tab\\\" role=\\\"presentation\\\">\\r\\n                  <a title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.searchFilterTab : stack1), depth0))\n    + \"\\\" tabindex=\\\"0\\\" role=\\\"tab\\\">\\r\\n                    <span>\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.searchFilterTab : stack1), depth0))\n    + \"</span>\\r\\n                  </a>\\r\\n                </li>\\r\\n\";\n},\"4\":function(depth0,helpers,partials,data) {\n    return \"            <div class=\\\"csui-search-results-custom\\\">\\r\\n              <div id=\\\"csui-search-custom-container\\\"></div>\\r\\n            </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<!-- TODO: need to apply localization -->\\r\\n<div id=\\\"header\\\"></div>\\r\\n<div class=\\\"binf-container-fluid\\\">\\r\\n  <div class=\\\"csui-facet-table-container\\\">\\r\\n    <div class=\\\"csui-search-left-panel csui-popover-panel csui-is-hidden\\\">\\r\\n      <div class=\\\"csui-popover-panel-container\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.enableCustomSearch : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"        <div class=\\\"csui-search-left-panel-content\\\"  role=\\\"tabpanel\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.enableCustomSearch : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(4, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"          <div id=\\\"facetview\\\" class=\\\"csui-facetview\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"csui-search-results-body binf-col-lg-12 binf-col-md-12 binf-col-xs-12\\\">\\r\\n      <div id=\\\"csui-search-custom-results\\\">\\r\\n        <div class=\\\"csui-search-results-content binf-col-lg-12 binf-col-md-12\\\">\\r\\n          <div id=\\\"facetbarview\\\"></div>\\r\\n          <div\\r\\n              class=\\\"csui-search-tool-container binf-hidden binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\">\\r\\n            <div class='csui-standard-header-view' id=\\\"csui-standard-header-view\\\"></div>\\r\\n          </div>\\r\\n          <div id=\\\"results\\\" tabindex=\\\"-1\\\" class=\\\"csui-result-list binf-col-lg-12 binf-col-md-12\\r\\n          binf-col-sm-12 binf-col-xs-12\\\"></div>\\r\\n          <div class='csui-search-loading-wrapper'>\\r\\n            <div class='csui-search-loading'>\"\n    + this.escapeExpression(((helper = (helper = helpers.loadingMessage || (depth0 != null ? depth0.loadingMessage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"loadingMessage\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n          </div>\\r\\n          <div\\r\\n              class=\\\"csui-search-row-divider binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\"></div>\\r\\n        </div>\\r\\n\\r\\n        <div id=\\\"pagination\\\"\\r\\n             class=\\\"binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\"></div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_widgets_search.results_impl_search.results', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/widgets/search.results/search.results.view',[\r\n  'module',\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/utils/base', 'csui/utils/url',\r\n  'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/utils/contexts/factories/search.results.factory',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/widgets/search.results/impl/search.results.header.view',\r\n  'csui/widgets/search.results/impl/standard/standard.search.results.view',\r\n  'csui/widgets/search.results/impl/tabular/tabular.search.results.view',\r\n  'csui/controls/table/table.view',\r\n  'csui/controls/table/rows/description/search.description.view',\r\n  'csui/models/widget/search.results/search.metadata/search.columns',\r\n  'csui/models/nodechildrencolumn',\r\n  'csui/controls/table.rowselection.toolbar/table.rowselection.toolbar.view',\r\n  'csui/controls/pagination/nodespagination.view',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/widgets/search.results/toolbaritems',\r\n  'csui/widgets/search.results/toolbaritems.masks',\r\n  'csui/widgets/search.custom/impl/search.object.view',\r\n  'csui/utils/contexts/factories/search.settings.factory',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'i18n!csui/widgets/search.results/impl/nls/lang',\r\n  'csui/controls/tableactionbar/tableactionbar.view',\r\n  'csui/utils/contexts/factories/search.results.facets.factory',\r\n  'csui/models/node/node.model',\r\n  'csui/models/nodes',\r\n  'csui/utils/commands/properties',\r\n  'csui/utils/contexts/factories/user',\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  'csui/utils/contexts/factories/search.metadata.factory',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/controls/toolbar/toolbar.command.controller',\r\n  'hbs!csui/widgets/search.results/impl/search.results',\r\n  'csui/utils/defaultactionitems',\r\n  'csui/utils/commands',\r\n  'csui/utils/namedlocalstorage',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/controls/facet.panel/facet.panel.view',\r\n  'csui/controls/facet.bar/facet.bar.view',\r\n  'csui/utils/accessibility',\r\n  'csui/lib/handlebars.helpers.xif',\r\n  'css!csui/widgets/search.results/impl/search.results',\r\n  'csui/lib/jquery.mousehover',\r\n  'csui/lib/jquery.redraw'\r\n], function (module, _, $, Backbone, Marionette, base, Url, SearchQueryModelFactory,\r\n    SearchResultsCollectionFactory, LayoutViewEventsPropagationMixin, HeaderView,\r\n    StandardSearchResultsView, TabularSearchResultsView,\r\n    TableView, DescriptionRowView, tableColumns,\r\n    NodeChildrenColumnModel, TableRowSelectionToolbarView, PaginationView,\r\n    BlockingView, toolbarItems, ToolbarItemsMasks,\r\n    SearchObjectView, SearchSettingsFactory,\r\n    GlobalMessage, lang, TableActionBarView, SearchResultFacetCollectionFactory, NodeModel, NodeCollection,\r\n    PropertiesCommand, UserModelFactory, DefaultActionBehavior, SearchMetadataFactory, PerfectScrollingBehavior,\r\n    ToolbarCommandController, layoutTemplate, defaultActionItems,\r\n    commands, NamedLocalStorage, ModalAlert, FacetPanelView, FacetBarView, Accessibility) {\r\n  'use strict';\r\n\r\n  var accessibleTable = Accessibility.isAccessibleTable(),\r\n      STANDARD_VIEW = 'StandardView',\r\n      TABULAR_VIEW = 'TabularView';\r\n\r\n  var config = _.extend({\r\n    enableFacetFilter: true, // LPAD-60082: Enable/disable facets\r\n    enableBreadcrumb: true,\r\n    enableSearchSettings: true, // global enable/disable search settings, but LPAD 81034 ctor can overrule\r\n    showInlineActionBarOnHover: !accessibleTable,\r\n    forceInlineActionBarOnClick: false,\r\n    inlineActionBarStyle: \"csui-table-actionbar-bubble\"\r\n  }, module.config());\r\n\r\n  var SearchResultsView = Marionette.LayoutView.extend({\r\n\r\n    className: 'csui-search-results binf-panel binf-panel-default',\r\n    template: layoutTemplate,\r\n    templateHelpers: function () {\r\n      var messages = {\r\n        customSearchTab: lang.customSearchTab,\r\n        searchFilterTab: lang.searchFilterTab,\r\n        enableCustomSearch: this.enableCustomSearch\r\n      };\r\n      return {\r\n        messages: messages,\r\n        enableCustomSearch: this.enableCustomSearch,\r\n        loadingMessage: lang.loadingSearchResultMessage,\r\n        showFacetPanel: this.options.showFacetPanel !== false\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      toolBarContainer: '.csui-search-tool-container',\r\n      customSearchContainer: '.csui-search-results-custom',\r\n      facetView: '#facetview',\r\n      customViewTab: '.csui-search-custom-tab',\r\n      facetViewTab: '.csui-search-facet-tab',\r\n      searchResultsContent: '.csui-search-results-content',\r\n      searchResultsBody: \".csui-search-results-body\",\r\n      searchSidePanel: \".csui-search-left-panel\",\r\n      loadingEle: '.csui-search-loading-wrapper'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.customViewTab': 'openCustomView',\r\n      'click @ui.facetViewTab': 'openFacetView',\r\n      'keypress @ui.customViewTab': 'openCustomView',\r\n      'keypress @ui.facetViewTab': 'openFacetView',\r\n      'mouseup @ui.toggleDetails': 'onToggleOrChangePageSize',\r\n      'keypress @ui.toggleDetails': 'onToggleOrChangePageSize',\r\n      'mouseup .csui-paging-navbar > ul > li:not(.csui-overflow) > a': 'onChangePage',\r\n      'keypress .csui-paging-navbar > ul > li:not(.csui-overflow) > a': 'onChangePage',\r\n      'mouseup .csui-pagesize-menu ul.csui-dropdown-list a': 'onToggleOrChangePageSize',\r\n      'keypress .csui-pagesize-menu ul.csui-dropdown-list a': 'onToggleOrChangePageSize',\r\n      'click': 'stopClosingSearchBox'\r\n    },\r\n\r\n    regions: {\r\n      headerRegion: '#header',\r\n      resultsRegion: '#results',\r\n      paginationRegion: '#pagination',\r\n      standardHeaderRegion: '#csui-standard-header-view',\r\n      customSearchRegion: '#csui-search-custom-container',\r\n      facetBarRegion: '#facetbarview',\r\n      facetRegion: '#facetview',\r\n      tableRowSelectionToolbarRegion: '.csui-table-rowselection-toolbar'\r\n    },\r\n\r\n    behaviors: {\r\n\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.csui-result-list',\r\n        suppressScrollX: true,\r\n        // like bottom padding of container, otherwise scrollbar is shown always\r\n        scrollYMarginOffset: 15\r\n      },\r\n      DefaultAction: {\r\n        behaviorClass: DefaultActionBehavior\r\n      }\r\n\r\n    },\r\n\r\n    namedLocalStorage: new NamedLocalStorage('PrevSearchDisplayStyle'),\r\n\r\n    getPageSize: function() {\r\n      var pageSize = this.namedLocalStorage.get(\r\n          this._createSearchDisplayStyleKey() + '_PrevSRPageSize');\r\n      return pageSize || 10;\r\n    },\r\n\r\n    constructor: function SearchResultsView(options) {\r\n      options || (options = {});\r\n      this.context = options.context;\r\n      options.pageSize = this.getPageSize();\r\n      options.data || (options.data = {});\r\n\r\n      options.toolbarItems || (options.toolbarItems = toolbarItems);\r\n      options.toolbarItemsMasks || (options.toolbarItemsMasks = new ToolbarItemsMasks());\r\n      this.context = options.context;\r\n\r\n      if (!options.query) {\r\n        options.query = this.context.getModel(SearchQueryModelFactory);\r\n      }\r\n\r\n      if (options.collection) {\r\n        // If the collection was passed from outside and might be of a limited scope\r\n        if (!options.collection.fetched) {\r\n          // Store the scope to restore later and cancel limiting the scope of the response\r\n          this._originalScope = options.collection.getResourceScope();\r\n        }\r\n      } else {\r\n        options.collection = this.context.getModel(SearchResultsCollectionFactory, options);\r\n      }\r\n\r\n      var doLoadSearchSettings = (options.enableSearchSettings !== undefined) ?\r\n                                 options.enableSearchSettings : config.enableSearchSettings;\r\n\r\n      if (doLoadSearchSettings) {\r\n        var templateId = options.query ? options.query.get(\"query_id\") : undefined;\r\n        this.loadSearchSettings(templateId);\r\n      }\r\n\r\n      if (!options.collection.fetched) {\r\n        // Ask the server to check for permitted actions V2 - only default actions\r\n        options.collection.setResourceScope(\r\n            SearchResultsCollectionFactory.getDefaultResourceScope());\r\n        options.collection.setDefaultActionCommands(\r\n            defaultActionItems.getAllCommandSignatures(commands));\r\n        options.collection.setEnabledDelayRestCommands(true);\r\n        if (options.collection.delayedActions) {\r\n          this.listenTo(options.collection.delayedActions, 'error',\r\n              function (collection, request, options) {\r\n                var error = new base.Error(request);\r\n                GlobalMessage.showMessage('error', error.message);\r\n              });\r\n        }\r\n      }\r\n\r\n      options.collection.isSortOptionSelected = true;\r\n\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n\r\n      this.collection.selectedItems = new Backbone.Collection();\r\n      this.metadata = options.metadata ||\r\n                      this.context.getCollection(SearchMetadataFactory, options);\r\n      this.query = options.query;\r\n\r\n      this.collection.setLimit(0, options.pageSize, false);\r\n\r\n      this._toggleCustomSearch();\r\n\r\n      this.commandController = new ToolbarCommandController({commands: commands});\r\n      this.listenTo(this.commandController, 'before:execute:command', this._beforeExecuteCommand);\r\n      this.listenTo(this.commandController, 'after:execute:command', this._toolbarCommandExecuted);\r\n\r\n      var PrevSearchDisplayStyle = this.namedLocalStorage.get(this._createSearchDisplayStyleKey());\r\n      this.collection.prevSearchDisplayStyle = PrevSearchDisplayStyle || STANDARD_VIEW;\r\n\r\n      this.setSearchHeader();\r\n      var self = this;\r\n      this.listenTo(this.headerView, \"go:back\", function () {\r\n        self.trigger(\"go:back\");\r\n      });\r\n\r\n      this.tableColumns = options.tableColumns ? options.tableColumns : tableColumns.deepClone();\r\n\r\n      this.listenTo(this.headerView, \"toggle:filter\", this._completeFilterCommand);\r\n\r\n      this.listenTo(this.headerView, \"focus:filter\", this._focusFilter);\r\n\r\n      this.listenTo(this.headerView, \"reload:searchForm\", this._resetTargetView);\r\n\r\n      //TODO: specific to tb.s.r.v\r\n      this.listenTo(this.headerView, \"render:table\", _.bind(function () {\r\n        this.columns = this.collection.searching && this.collection.searching.sortedColumns;\r\n        this.getAdditionalColumns();\r\n         this.trigger('render:table');\r\n      }, this));\r\n\r\n      this.listenTo(this.headerView, 'toggle:description', function (args) {\r\n        this.trigger('toggle:description', args.showDescriptions);\r\n      });\r\n      //TODO:END.\r\n\r\n\r\n      //TODO:BEGIN: this code should execute after collection sync.\r\n      if (!options.collection.searchFacets) {\r\n        options.collection.searchFacets = this.context.getModel(SearchResultFacetCollectionFactory,\r\n            {\r\n              options: {\r\n                query: this.options.query,\r\n                /* TODO: need make it zero once RESt Api is fixed for error: limit must be a positive integer.*/\r\n                topCount: 1\r\n              },\r\n              detached: true\r\n            });\r\n      }\r\n\r\n      this.facetFilters = options.collection.searchFacets;\r\n\r\n      //TODO:END: this code should execute after collection sync.\r\n\r\n      if (this.enableCustomSearch) {\r\n        this.setCustomSearchView();\r\n        this.listenTo(this.customSearchView, \"change:title\", this.updateHeaderTitle);\r\n      }\r\n\r\n      //TODO: blocking view should come from actual s.r.v.\r\n      if (this.options.blockingParentView) {\r\n        BlockingView.delegate(this, this.options.blockingParentView);\r\n      } else {\r\n        BlockingView.imbue(this);\r\n      }\r\n\r\n      this.listenTo(this.settings, 'sync', _.bind(function () {\r\n        var isLocationColumnAvailable = false,\r\n            selectedSettings          = false;\r\n\r\n        if (this.settings &&\r\n            this.settings.get(\"display\")) {\r\n          if (this.settings.get(\"display\").display_regions &&\r\n              this.settings.get(\"display\").display_regions.selected) {\r\n            isLocationColumnAvailable = _.findIndex(\r\n                this.settings.get(\"display\").display_regions.selected.models,\r\n                function (column, index) {\r\n                  return column.get(\"key\") === 'OTLocation';\r\n                });\r\n          }\r\n\r\n          selectedSettings = this.settings.get(\"display\").summary_description &&\r\n                             this.settings.get(\"display\").summary_description.selected;\r\n\r\n        }\r\n        this.collection.isLocationColumnAvailable = isLocationColumnAvailable > -1;\r\n        this.collection.selectedSettings = selectedSettings;\r\n      }, this));\r\n\r\n      this.listenTo(this.collection, 'sync', function () {\r\n        if (!this.enableCustomSearch) {\r\n          this.$el.parents(\".search-results-container\").addClass(\"csui-global-search\");\r\n        }\r\n      });\r\n\r\n      // Refresh the search results whenever the search query changes\r\n      // on the same perspective\r\n      this.listenTo(this.query, 'change', function () {\r\n        if (this.query.get('forcePerspectiveChange')) {\r\n          // Refreshing of current results is not required since query change enforcing perspective change\r\n          return;\r\n        }\r\n        this.collection.isSortOptionSelected = true;\r\n        this._updatePanels();\r\n        if (doLoadSearchSettings) {\r\n          var templateId = this.query ? this.query.get(\"query_id\") : undefined;\r\n          this.loadSearchSettings(templateId);\r\n        }\r\n        if (this.collection.isFetchable()) {\r\n          var fetchFacets = config.csui && config.csui.fetchFacets;\r\n          this.facetFilters.clearFilter(fetchFacets);\r\n          this.facetFilters.fetched = false;\r\n          this.paginationView.nodeChange();\r\n          this.collection.fetch({\r\n            error: _.bind(this.onSearchResultsFailed, this, options)\r\n          });\r\n          this.trigger('query:changed');\r\n          this.resetScrollToTop();\r\n        }\r\n        //reset selected Items\r\n        //confirmation Message\r\n        this.collection.selectedItems.reset([]);\r\n      });\r\n\r\n      this.listenTo(this.options.context, 'request', this.blockActions)\r\n          .listenTo(this.options.context, 'sync', this._persistState)\r\n          .listenTo(this.options.context, 'error', this.unblockActions)\r\n          .listenTo(this.collection, \"request\", this.executePreProcess)\r\n          .listenTo(this.collection, \"error\", this.unblockActions)\r\n          .listenTo(this.collection, \"destroy\", this.unblockActions)\r\n          .listenTo(this.collection, \"new:page\", this.resetScrollToTop);\r\n\r\n      var prevPageSize = this.namedLocalStorage && this.namedLocalStorage.get(\r\n            this._createSearchDisplayStyleKey() + '_PrevSRPageSize');\r\n      this.options.pageSize = (prevPageSize) ? prevPageSize : 10;\r\n\r\n      this.setPagination();\r\n\r\n      this.listenTo(this.collection, 'sync', this.executeEndProcess);\r\n      this.listenTo(this, 'target:view:changed', this.executeEndProcess);\r\n\r\n      !base.isMozilla() && this.propagateEventsToRegions();\r\n      this.onWinRefresh = _.bind(this.windowRefresh, this);\r\n      $(window).on(\"resize.app\", this.onWinRefresh);\r\n      if (this.enableCustomSearch) {\r\n        this.listenToOnce(this, 'dom:refresh', _.bind(function () {\r\n          if (this.$el.width() > 1023) {\r\n            this.ui.searchSidePanel.addClass('csui-is-visible');\r\n            this.ui.searchResultsBody.addClass('csui-search-results-body-right');\r\n          } else {\r\n            this.ui.searchSidePanel.addClass(\"search-side-panel-overlay\");\r\n            this.ui.searchSidePanel.addClass(\"search-side-panel-auto\");\r\n          }\r\n        }, this));\r\n      }\r\n    },\r\n\r\n    executePreProcess: function () {\r\n        if (this.$el.is(':visible')) {\r\n      // Begin: set the loading element's position.\r\n      var completeArea = this.el,\r\n          resultsArea  = completeArea.getElementsByClassName('csui-result-list')[0];\r\n      if (resultsArea.getBoundingClientRect().left !== completeArea.getBoundingClientRect().left) {\r\n        // when there is any side panel opened without overlay, then reduce left for loading ele.\r\n        this.ui.loadingEle.addClass('csui-side-panel-exists');\r\n      }\r\n      // End: set the loading element's position.\r\n      this.ui.loadingEle.removeClass('binf-hidden');\r\n      }\r\n      this.blockActions();\r\n    },\r\n\r\n    executeEndProcess: function () {\r\n      if (!this.targetView) {\r\n        this.setTargetView();\r\n\r\n        this.paginationRegion.show(this.paginationView);\r\n        this.targetView.trigger('set:inline:actionbar:events');\r\n        this._setFacetBarView();\r\n        if (this.facetBarView && this.options.showFacetPanel !== false) {\r\n          this.facetBarRegion.show(this.facetBarView);\r\n        }\r\n        this.correctFilterAria();\r\n      }\r\n\r\n      if (this.collection.length) {\r\n        this.trigger('render:metadata');\r\n        this.columns = this.collection.searching && this.collection.searching.sortedColumns;\r\n        this.getAdditionalColumns();\r\n        this.targetView.trigger('set:tablerow:assets');\r\n        if(!!this.collection.settings_changed && this.collection.prevSearchDisplayStyle === 'TabularView') {\r\n          // render only when column settings change\r\n          this.trigger('render:table');\r\n          this.collection.settings_changed = false;\r\n        }\r\n      }\r\n\r\n      this.updateActionToolBar();\r\n      this.updateScrollbar();\r\n      this.unblockSearchResultsActions();\r\n    },\r\n\r\n    unblockSearchResultsActions: function () {\r\n      this.ui.loadingEle.removeClass('csui-side-panel-exists');\r\n      this.ui.loadingEle.addClass('binf-hidden');\r\n      this.unblockActions();\r\n    },\r\n\r\n    collectionEvents: {'reset': 'updateLayoutView'},\r\n\r\n    updateLayoutView: function () {\r\n      //while loading search url directly - page size is set to local storage page size\r\n      var prevPageSize = this.namedLocalStorage && this.namedLocalStorage.get(\r\n              this._createSearchDisplayStyleKey() + '_PrevSRPageSize');\r\n      prevPageSize = (prevPageSize) ? prevPageSize : 10;\r\n      this.paginationView.options.pageSize = prevPageSize;\r\n      this.paginationView.selectedPageSize = prevPageSize;\r\n    },\r\n\r\n    stopClosingSearchBox: function (event) {\r\n      // return in case of binf-dropdown as it is bind at document level\r\n      // and on click of arrow_back icon\r\n      if ($(event.target).closest('.binf-dropdown').length\r\n          || $(event.target).hasClass('binf-dropdown')\r\n          || $(event.target).hasClass('arrow_back')) {\r\n        return;\r\n      }\r\n      // preventing global search icon to close\r\n      event.stopPropagation();\r\n    },\r\n\r\n    setPagination: function () {\r\n      this.paginationView = new PaginationView({\r\n        collection: this.collection,\r\n        pageSize: this.options.pageSize,\r\n        defaultDDList: [10, 25, 50, 100] // LPAD-48290, to make consistent with classic console\r\n      });\r\n\r\n      this.listenTo(this.paginationView, 'pagesize:updated', function (paginationView) {\r\n        this.paginationView.pageSize = paginationView.pageSize;\r\n        this.namedLocalStorage.set(this._createSearchDisplayStyleKey() + '_PrevSRPageSize',\r\n            this.paginationView.pageSize);\r\n      });\r\n      return true;\r\n    },\r\n\r\n    onToggleOrChangePageSize: function (event) {\r\n      if ((event.type === 'keypress' && (event.keyCode === 13 || event.keyCode === 32)) ||\r\n          (event.type === 'mouseup')) {\r\n        this.collection.isSortOptionSelected = true;\r\n      }\r\n    },\r\n\r\n    onChangePage: function (event) {\r\n      var targetPageTab = $(event.currentTarget),\r\n          pageNum       = parseInt(targetPageTab.attr('data-pageid'), 10);\r\n      if (pageNum + 1 !== this.paginationView.currentPageNum) {\r\n        this.onToggleOrChangePageSize(event);\r\n      }\r\n    },\r\n\r\n    //TODO: remove _persistState function.\r\n    _persistState: function () {\r\n      this.unblockActions();\r\n    },\r\n\r\n    loadSearchSettings: function (templateId) {\r\n      this.options.templateId = templateId;\r\n      if (this.settings && this.settings.options) {\r\n        this.settings.options.templateId = templateId;\r\n      }\r\n      this.settings = this.options.settings ||\r\n                      this.context.getCollection(SearchSettingsFactory, this.options);\r\n      this.settings.fetch();\r\n    },\r\n\r\n    _createSearchDisplayStyleKey: function () {\r\n\r\n      var context = this.context || (this.options && this.options.context),\r\n          srcUrl  = new Url().getAbsolute(),\r\n          userID  = context && context.getModel(UserModelFactory).get('id'), hostname;\r\n      if (srcUrl) {\r\n        hostname = srcUrl.split('//')[1].split('/')[0].split(':')[0];\r\n      }\r\n\r\n      return hostname + userID;\r\n\r\n    },\r\n\r\n    setTargetView: function() {\r\n      this.columns = this.collection.searching && this.collection.searching.sortedColumns;\r\n      if (accessibleTable) {\r\n        this.getAdditionalColumns();\r\n      }\r\n      this.collection.columns = (this.columns) ? this.columns : this.tableColumns;\r\n      if (this.settings && this.settings.get('display')) {\r\n        var selectedSummary = this.settings.get('display').summary_description.selected;\r\n        this.showSummaryOnly = (selectedSummary === 'SO') ? true : false;\r\n      }\r\n\r\n      var currentTemplate = this.collection.prevSearchDisplayStyle;\r\n\r\n      if (currentTemplate === TABULAR_VIEW) {\r\n        this.ui.toolBarContainer.addClass('binf-hidden');\r\n        this.targetView = this.setTabularSearchView();\r\n        this.targetView.trigger('set:tablerow:assets');\r\n      } else {\r\n        this.ui.toolBarContainer.removeClass('binf-hidden');\r\n        this.targetView = this.setStandardSearchView();\r\n      }\r\n\r\n      this.resultsRegion.show(this.targetView, this);\r\n      if (currentTemplate === STANDARD_VIEW) {\r\n        this.standardHeaderRegion.show(this.targetView.standardHeaderView);\r\n        this.targetView.standardHeaderView._removeAllSelections();\r\n      } else {\r\n        this.trigger('toggle:description', this.headerView.showDescription);\r\n      }\r\n\r\n    },\r\n\r\n    _resetTargetView: function() {\r\n      // BEGIN: destroy existing target view and empty the region.\r\n      this.targetView.trigger('destroy:header:view');\r\n      this.targetView.destroy();\r\n      this.targetView = undefined;\r\n      this.resultsRegion.empty();\r\n      // END: destroy existing target view and empty the region.\r\n\r\n      this.setTargetView();\r\n      this.executeEndProcess();\r\n      this.resetScrollToTop();\r\n    },\r\n\r\n\r\n\r\n    setStandardSearchView: function() {\r\n      var args = _.extend(this.options, {\r\n        collection: this.collection,\r\n        originatingView: this,\r\n        headerEle: this.ui.toolBarContainer,\r\n        context: this.context,\r\n        metadata: this.metadata\r\n      });\r\n      return new StandardSearchResultsView(args);\r\n    },\r\n\r\n    setTabularSearchView: function() {\r\n      var args = _.extend(this.options, {\r\n        collection: this.collection,\r\n        columns: this.columns,\r\n        tableColumns: this.tableColumns,\r\n        originatingView: this,\r\n        container: this.container,\r\n        defaultActionController: this.defaultActionController,\r\n        config: config,\r\n        customLabels: {\r\n          emptyTableText: lang.noSearchResultMessage\r\n        }\r\n      });\r\n      return new TabularSearchResultsView(args);\r\n    },\r\n\r\n\r\n\r\n    _focusFilter: function (view) {\r\n      !!view && view.headerView.ui.filter.trigger('focus');\r\n      this.correctFilterAria(view);\r\n      var tabElements = this.facetView && this.facetView.$('.csui-facet');\r\n      if (tabElements && tabElements.length) {\r\n        tabElements.prop('tabindex', 0);\r\n      }\r\n    },\r\n    // adapt title, icon, aria-expanded and aria-label\r\n    correctFilterAria: function (view) {\r\n      if (!!view && !!view.headerView) {\r\n        if (this.ui.searchSidePanel.hasClass('csui-is-visible')) {\r\n          view.headerView.ui.filter\r\n              .attr(\"title\", lang.filterCollapseTooltip)\r\n              .addClass('icon-toolbarFilterCollapse')\r\n              .attr(\"aria-label\", lang.filterCollapseAria);\r\n        } else {\r\n          view.headerView.ui.filter\r\n              .attr(\"title\", lang.filterExpandTooltip)\r\n              .removeClass('icon-toolbarFilterCollapse')\r\n              .attr(\"aria-label\", lang.filterExpandAria);\r\n        }\r\n      }\r\n    },\r\n    onSearchResultsFailed: function (model, request, message) {\r\n      var error = new base.RequestErrorMessage(message);\r\n      ModalAlert.showError(error.toString());\r\n    },\r\n    updateScrollbar: function () {\r\n      this.triggerMethod('update:scrollbar', this);\r\n    },\r\n\r\n    resetScrollToTop: function () {\r\n      var scrollContainer = this.$('#results');\r\n      scrollContainer.scrollTop(0);\r\n      // if needed: triggerMethod(this, \"update:scrollbar\");\r\n    },\r\n\r\n    updateActionToolBar: function () {\r\n      if (this.collection.length === 0) {\r\n        this.ui.toolBarContainer.addClass('binf-hidden');\r\n        if (!this.enableCustomSearch) {\r\n          this.ui.customSearchContainer.addClass('binf-hidden');\r\n        }\r\n      } else if (this.collection.prevSearchDisplayStyle === \"StandardView\") {\r\n        this.ui.toolBarContainer.removeClass('binf-hidden');\r\n        this.ui.customSearchContainer.removeClass('binf-hidden');\r\n      }\r\n    },\r\n\r\n    openVersionHistory: function (args) {\r\n      var nodes = new NodeCollection();\r\n      nodes.push(args.model);\r\n      var status = {\r\n        nodes: nodes,\r\n        container: args.model.collection.node,\r\n        collection: args.model.collection,\r\n        selectedTab: new Backbone.Model({title: 'Versions'})\r\n      };\r\n      status = _.extend(status, {originatingView: this});\r\n      // view properties of an existing item\r\n      var propertiesCmd = new PropertiesCommand();\r\n      propertiesCmd.execute(status, this.options)\r\n          .always(function (args) {\r\n            //self.cancel();\r\n          });\r\n    },\r\n\r\n    onPropertiesViewDestroyed: function () {\r\n      this.onMetadataNavigationViewDestroyed();\r\n      var showDescription = this.namedLocalStorage.get(\r\n          this._createSearchDisplayStyleKey() + '_showDescription');\r\n      if (this.collection.prevSearchDisplayStyle === TABULAR_VIEW) {\r\n        this.headerView.updateToggleDescription();\r\n        this.tableView && this.tableView.render();\r\n      }\r\n      this.paginationView && this.paginationView.collectionChange();\r\n    },\r\n\r\n    onPermissionViewDestroyed: function () {\r\n      this.onPropertiesViewDestroyed();\r\n    },\r\n\r\n    onMetadataNavigationViewDestroyed: function () {\r\n      if (!!this.collection.inMetadataNavigationView && this.isTabularView) {\r\n        this.collection.inMetadataNavigationView = false;\r\n      }\r\n    },\r\n\r\n    _toggleCustomSearch: function () {\r\n      this.enableCustomSearch = !!this.options.customSearchViewModel ||\r\n                                !!this.options.customSearchView || this.query.get(\"query_id\") &&\r\n                                                                   Object.keys(\r\n                                                                       this.query.attributes).length >\r\n                                                                   1;\r\n      if (this.enableCustomSearch) {\r\n        this.$el.find(\"#csui-search-custom-container\").addClass('csui-search-custom-container');\r\n        this.$el.find(\"#csui-search-custom-results\").addClass(\"csui-search-custom-results\");\r\n        this.$el.find(\".csui-search-custom-tab\").addClass('binf-active');\r\n        this.$el.find(\".csui-search-custom-tab > a\").attr('aria-selected', 'true');\r\n      } else {\r\n        if (this.customSearchView && this.query.get(\"where\")) {\r\n          this.customSearchRegion.empty();\r\n          this.$el.find(\"#csui-search-custom-container\").removeClass(\r\n              'csui-search-custom-container');\r\n          this.$el.find(\"#csui-search-custom-results\").removeClass(\"csui-search-custom-results\");\r\n        }\r\n      }\r\n    },\r\n\r\n    _updatePanels: function () {\r\n      this._toggleCustomSearch();\r\n      if (!this.enableCustomSearch) {\r\n        if (this.ui.searchSidePanel.hasClass('csui-is-visible')) {\r\n          var view = this;\r\n          this.ui.searchSidePanel.one(this._transitionEnd(),\r\n              function () {\r\n                view.$el.find(\".csui-search-results-custom\").addClass('binf-hidden');\r\n                view.$el.find(\".csui-search-left-panel-tabs\").addClass('binf-hidden');\r\n                if (!view.ui.searchSidePanel.hasClass('csui-is-visible')) {\r\n                  view.ui.searchSidePanel.addClass('csui-is-hidden');\r\n                }\r\n                view.ui.facetView.removeClass('binf-hidden');\r\n              });\r\n          this.ui.searchResultsBody.removeClass(\"csui-search-results-body-right\");\r\n          this.ui.searchSidePanel.removeClass(\"csui-is-visible\");\r\n        } else {\r\n          this.$el.find(\".csui-search-results-custom\").addClass('binf-hidden');\r\n          this.$el.find(\".csui-search-left-panel-tabs\").addClass('binf-hidden');\r\n          this.ui.facetView.removeClass('binf-hidden');\r\n        }\r\n      } else {\r\n        this.$el.find(\".csui-search-results-custom\").removeClass('binf-hidden');\r\n        this.$el.find(\".csui-search-left-panel-tabs\").removeClass('binf-hidden');\r\n        this.ui.searchResultsBody.addClass(\"csui-search-results-body-right\");\r\n      }\r\n      if (this.headerView) {\r\n        this.headerView.options.useCustomTitle = this.enableCustomSearch;\r\n      }\r\n      if (this.facetView) {\r\n        this.facetView.options.data.showTitle = !this.enableCustomSearch;\r\n        //re-render facetView to show title\r\n        this.facetView.render();\r\n      }\r\n    },\r\n\r\n    openCustomView: function (e) {\r\n      //Show custom search panel, hide search facet\r\n      if (this.enableCustomSearch) {\r\n        if ((e.type === 'keypress' && e.keyCode === 13) || (e.type === 'click')) {\r\n          this.ui.facetView.addClass('binf-hidden');\r\n          this.$el.find(\".csui-search-results-custom\").removeClass('binf-hidden');\r\n          this.$el.find(\".csui-search-facet-tab\").removeClass('binf-active');\r\n          this.$el.find(\".csui-search-facet-tab > a\").removeAttr('aria-selected');\r\n          this.$el.find(\".csui-search-custom-tab\").addClass('binf-active');\r\n          this.$el.find(\".csui-search-custom-tab > a\").attr('aria-selected', 'true');\r\n          e.stopPropagation();\r\n        }\r\n      }\r\n    },\r\n\r\n    openFacetView: function (e) {\r\n      //Show search facet panel, hide custom search panel\r\n      if (this.enableCustomSearch) {\r\n        this.facetFilters.ensureFetched();\r\n        this._ensureFacetPanelViewDisplayed();\r\n        if ((e.type === 'keypress' && e.keyCode === 13) || (e.type === 'click')) {\r\n          this.$el.find(\".csui-search-results-custom\").addClass('binf-hidden');\r\n          this.ui.facetView.removeClass('binf-hidden');\r\n          this.$el.find(\".csui-search-custom-tab\").removeClass('binf-active');\r\n          this.$el.find(\".csui-search-custom-tab > a\").removeAttr('aria-selected');\r\n          this.$el.find(\".csui-search-facet-tab\").addClass('binf-active');\r\n          this.$el.find(\".csui-search-facet-tab > a\").attr('aria-selected', 'true');\r\n          e.stopPropagation();\r\n          this.facetView.triggerMethod('dom:refresh');\r\n        }\r\n      }\r\n    },\r\n\r\n    onDestroy: function () {\r\n      $(window).off(\"resize.app\", this.onWinRefresh);\r\n      // If the collection was passed from outside and might be of a limited scope\r\n      if (this._originalScope) {\r\n        // Restore the scope of the response\r\n        this.options.collection.setResourceScope(this._originalScope);\r\n      }\r\n      this.tableView && this.tableView.destroy();\r\n    },\r\n\r\n    // bubble to regions\r\n    //Dom refresh currently only needed for the Pagination view. When a refresh is called\r\n    //on the searchresultview, it causes the results to constantly expand its length without cause.\r\n    windowRefresh: function () {\r\n      // Window resizing can be triggered between the constructor and rendering;\r\n      // sub-views of this view are not created before the min view is rendered\r\n      this.facetView && this.facetView.triggerMethod('dom:refresh');\r\n      this.targetView && this.targetView.triggerMethod('dom:refresh');\r\n      var panelPosition = this.ui.searchSidePanel.css(\"position\");\r\n      if (panelPosition != \"absolute\") {\r\n        if (this.$el.width() > 1023 &&\r\n            this.ui.searchSidePanel.hasClass(\"search-side-panel-overlay\")) {\r\n          //Entered from width <1024 to width >1024\r\n          this.ui.searchSidePanel.removeClass(\"search-side-panel-overlay\");\r\n          if (this.ui.searchSidePanel.hasClass(\"search-side-panel-auto\")) {\r\n            //open search facet\r\n            this.ui.searchSidePanel.removeClass(\"search-side-panel-auto\");\r\n            this._completeFilterCommand(this, true);\r\n          }\r\n        }\r\n      } else if (!this.ui.searchSidePanel.hasClass(\"search-side-panel-auto\") &&\r\n                 !this.ui.searchSidePanel.hasClass(\"search-side-panel-overlay\")) {\r\n        //Entered from width >1024 to width <1024\r\n        this.ui.searchSidePanel.addClass(\"search-side-panel-overlay\");\r\n        if (this.ui.searchSidePanel.hasClass(\"csui-is-visible\")) {\r\n          //should be opened automatically once width >1024\r\n          this.ui.searchSidePanel.addClass(\"search-side-panel-auto\");\r\n          //close search facet\r\n          this._completeFilterCommand(this, true);\r\n        }\r\n      }\r\n    },\r\n\r\n    setSearchHeader: function () {\r\n      var showSearchSettingsButton = (this.options.enableSearchSettings !== undefined) ?\r\n                                     this.options.enableSearchSettings :\r\n                                     config.enableSearchSettings;\r\n      this.headerView = new HeaderView({\r\n        collection: this.collection,\r\n        filter: this.options.searchString,\r\n        context: this.options.context,\r\n        enableBackButton: this.options.enableBackButton,\r\n        backButtonToolTip: this.options.backButtonToolTip,\r\n        enableFacetFilter: config.enableFacetFilter, // LPAD-60082: Enable/disable facets\r\n        useCustomTitle: this.enableCustomSearch,\r\n        commands: commands,\r\n        originatingView: this,\r\n        titleView: this.options.titleView,\r\n        localStorage: this.namedLocalStorage,\r\n        enableSearchSettings: showSearchSettingsButton,\r\n        settings: !!this.settings ? this.settings : false\r\n      });\r\n      return true;\r\n    },\r\n\r\n    //setStandardSearchHeaderView: function () {\r\n    //  this.standardHeaderView = new StandardSearchResultsHeaderView({\r\n    //    collection: this.collection,\r\n    //    view: this.resultsView,\r\n    //    options: this.options,\r\n    //    selectedItems: this.collection.selectedItems\r\n    //  });\r\n    //  return true;\r\n    //},\r\n\r\n\r\n    getSettings: function() {\r\n      return this.settings;\r\n    },\r\n\r\n    setCustomSearchView: function () {\r\n      this.customSearchView = this.options.customSearchView || new SearchObjectView({\r\n            context: this.options.context,\r\n            savedSearchQueryId: this.query.get(\"query_id\"),\r\n            customValues: this.query,\r\n            parentView: this,\r\n            query: this.query,\r\n            model: this.options.customSearchViewModel\r\n          });\r\n      return true;\r\n    },\r\n\r\n    getAdditionalColumns: function () {\r\n      if (accessibleTable) {\r\n        var selectedSettings = this.headerView && this.headerView.selectedSettings;\r\n        selectedSettings = (selectedSettings) ? selectedSettings :\r\n                           this.settings && this.settings.get(\r\n                               'display').summary_description.selected;\r\n        switch (selectedSettings) {\r\n        case 'SD' :\r\n        case 'SP' :\r\n        case 'DP' :\r\n        {\r\n          if (this.tableView && !this.tableView.columns.findWhere({column_key: 'description'}) ||\r\n              !this.columns.findWhere({column_key: 'description'})) {\r\n            this.getDescriptionColumn();\r\n          }\r\n          if (this.tableView && !this.tableView.columns.findWhere({column_key: 'summary'}) ||\r\n              !this.columns.findWhere({column_key: 'summary'})) {\r\n            this.getSummaryColumn();\r\n          }\r\n          break;\r\n        }\r\n        case 'SO' :\r\n        {\r\n          this.removeDescriptionColumn();\r\n          if (this.tableView && !this.tableView.columns.findWhere({column_key: 'summary'}) ||\r\n              !this.columns.findWhere({column_key: 'summary'})) {\r\n            this.getSummaryColumn();\r\n          }\r\n          break;\r\n        }\r\n        case 'DO' :\r\n        {\r\n          this.removeSummaryColumn();\r\n          if (this.tableView && !this.tableView.columns.findWhere({column_key: 'description'}) ||\r\n              !this.columns.findWhere({column_key: 'description'})) {\r\n            this.getDescriptionColumn();\r\n          }\r\n          break;\r\n        }\r\n        case 'NONE' :\r\n        {\r\n          this.removeSummaryColumn();\r\n          this.removeDescriptionColumn();\r\n        }\r\n        }\r\n      }\r\n    },\r\n\r\n    getDescriptionColumn: function () {\r\n      this.columns.push(new NodeChildrenColumnModel({\r\n        column_key: 'description',\r\n        name: lang.descriptionColumnTitle,\r\n        sortable: false,\r\n        permanentColumn: true,\r\n        type: -1,\r\n        definitions_order: 505\r\n      }));\r\n    },\r\n\r\n    getSummaryColumn: function () {\r\n      this.columns.push(new NodeChildrenColumnModel({\r\n        column_key: 'summary',\r\n        name: lang.summaryColumnTitle,\r\n        sortable: false,\r\n        permanentColumn: true,\r\n        type: -1,\r\n        definitions_order: 506\r\n      }));\r\n    },\r\n\r\n    removeDescriptionColumn: function () {\r\n      if (this.tableView && this.tableView.columns.findWhere({column_key: 'description'})) {\r\n        this.tableView.columns.findWhere({column_key: 'description'}).destroy();\r\n      }\r\n    },\r\n\r\n    removeSummaryColumn: function () {\r\n      if (this.tableView && this.tableView.columns.findWhere({column_key: 'summary'})) {\r\n        this.tableView.columns.findWhere({column_key: 'summary'}).destroy();\r\n      }\r\n    },\r\n\r\n    _beforeExecuteCommand: function (args) {\r\n      // before executing action, keep the collection properties (like, commands, expands, etc.)\r\n      !!this.collection.selectedItems && this.collection.selectedItems.each(function (model) {\r\n        model.collection = args.status.collection;\r\n      });\r\n      if (args.command && args.command.get('selfBlockOnly')) {\r\n        args.status && args.status.toolItemView\r\n        && args.status.toolItemView.$el.find('a').addClass('binf-disabled');\r\n      }\r\n    },\r\n\r\n    // controller for the toolbar actions\r\n    _toolbarCommandExecuted: function (context) {\r\n      if (context && context.commandSignature) {\r\n\r\n        this.targetView && this.targetView.trigger('update:tool:items');\r\n\r\n        // reducing performance to somewhat extent,\r\n        // such that collection will be refetched if it meets the following conditions:\r\n        // 1) if the current command allows to refetch from it's own implementation\r\n        // 2) if the total count is > current page size.\r\n        if (!!context.command && !!context.command.allowCollectionRefetch &&\r\n            this.collection.totalCount > this.collection.topCount) {\r\n          this.collection.fetch();\r\n        }\r\n        if ((context.commandSignature === \"Delete\" || context.commandSignature === \"Move\") &&\r\n            (this.collection.models.length === 0 || this.collection.totalCount < this.collection.topCount)) {\r\n          if(context.commandSignature === \"Move\") {\r\n            this.collection.selectedItems.remove(this.collection.selectedItems.models);\r\n          }\r\n          this.collection.trigger('sync');\r\n        }\r\n      }\r\n    },\r\n\r\n    _updateToolbarActions: function () {\r\n      this.targetView && this.targetView.trigger('set:tablerow:assets');\r\n    },\r\n\r\n    _showInlineActionBar: function (args) {\r\n      if (!!args) {\r\n        this._savedHoverEnterArgs = null;\r\n\r\n        var parentId = args.node.get('parent_id');\r\n        if (parentId instanceof Object) {\r\n          parentId = args.node.get('parent_id').id;\r\n        }\r\n        var parentNode = new NodeModel({id: parentId},\r\n            {connector: args.node.connector});\r\n\r\n        this.inlineToolbarView = new TableActionBarView(_.extend({\r\n              context: this.options.context,\r\n              commands: commands,\r\n              delayedActions: this.collection.delayedActions,\r\n              collection: this.options.toolbarItems.inlineToolbar || [],\r\n              toolItemsMask: this.options.toolbarItemsMasks.toolbars.inlineToolbar,\r\n              container: parentNode,\r\n              containerCollection: this.collection,\r\n              model: args.node,\r\n              originatingView: this,\r\n              notOccupiedSpace: 0\r\n            }, this.options.toolbarItems.inlineToolbar &&\r\n               this.options.toolbarItems.inlineToolbar.options)\r\n        );\r\n\r\n        this.listenTo(this.inlineToolbarView, 'after:execute:command',\r\n            this._toolbarCommandExecuted);\r\n        this.inlineToolbarView.render();\r\n        this.listenTo(this.inlineToolbarView, 'destroy', function () {\r\n          this.inlineToolbarView = undefined;\r\n          if (this._savedHoverEnterArgs) {\r\n            this._showInlineActionBarWithDelay(this._savedHoverEnterArgs);\r\n          }\r\n        }, this);\r\n        $(args.target).append(this.inlineToolbarView.$el);\r\n        this.inlineToolbarView.triggerMethod(\"show\");\r\n      }\r\n    },\r\n\r\n    _showInlineActionBarWithDelay: function (_view, args) {\r\n      if (this._showInlineActionbarTimeout) {\r\n        clearTimeout(this._showInlineActionbarTimeout);\r\n      }\r\n      var self = this;\r\n      this._showInlineActionbarTimeout = setTimeout(function () {\r\n        self._showInlineActionbarTimeout = undefined;\r\n        //if (!self.targetView.lockedForOtherContols) {\r\n          // don't show the action bar control if the searchresult view is locked because a different\r\n          // control is already open\r\n          self._showInlineActionBar.call(self, args);\r\n        //}\r\n      }, 200);\r\n    },\r\n\r\n    _actionBarShouldDestroy: function (_view, args) {\r\n      if (this._showInlineActionbarTimeout) {\r\n        clearTimeout(this._showInlineActionbarTimeout);\r\n        this._showInlineActionbarTimeout = undefined;\r\n      }\r\n      if (this.inlineToolbarView) {\r\n        //this.inlineToolbarView.updateForSelectedChildren(args.node);\r\n        this.inlineToolbarView.destroy();\r\n      }\r\n    },\r\n\r\n    _destroyInlineActionBar: function () {\r\n      if (this.inlineToolbarView) {\r\n        this.inlineToolbarView.destroy();\r\n        this.inlineToolbarView = undefined;\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n      var self = this;\r\n      this.headerRegion.show(this.headerView);\r\n\r\n\r\n\r\n      if (this.enableCustomSearch) {\r\n        this.customSearchRegion.show(this.customSearchView);\r\n      }\r\n      if (this.enableCustomSearch) {\r\n        this.ui.facetView.addClass('binf-hidden');\r\n        this.ui.searchSidePanel.removeClass('csui-is-hidden');\r\n      } else {\r\n        this.ui.searchSidePanel.removeClass('csui-is-visible');\r\n        var view = this;\r\n        this.ui.searchSidePanel.one(this._transitionEnd(),\r\n            function () {\r\n              if (!view.ui.searchSidePanel.hasClass('csui-is-visible')) {\r\n                view.ui.searchSidePanel.addClass('csui-is-hidden');\r\n              }\r\n            });\r\n      }\r\n      this._toggleCustomSearch();\r\n\r\n      // perfect scrollbar stops 'scroll' event propagation, trigger it for elements to listen to\r\n      this.$('.csui-result-list').on('scroll', function () {\r\n        self.trigger('scroll');\r\n      });\r\n    },\r\n\r\n    _ensureFacetPanelViewDisplayed: function () {\r\n      if (this.facetView === undefined && this.options.showFacetPanel !== false) {\r\n        this._setFacetPanelView();\r\n        this.facetRegion.show(this.facetView);\r\n      }\r\n    },\r\n\r\n    _setFacetPanelView: function () {\r\n      this.facetView = new FacetPanelView({\r\n        collection: this.facetFilters,\r\n        blockingLocal: true,\r\n        showTitle: !this.enableCustomSearch\r\n      });\r\n      this.listenTo(this.facetView, 'remove:filter', this._removeFacetFilter)\r\n          .listenTo(this.facetView, 'remove:all', this._removeAll)\r\n          .listenTo(this.facetView, 'apply:filter', this._checkSelectionAndApplyFilter);\r\n    },\r\n\r\n    _removeFacetPanelView: function () {\r\n      this.facetRegion.empty();\r\n      this.facetView = undefined;\r\n    },\r\n\r\n    _setFacetBarView: function () {\r\n      this.facetBarView = new FacetBarView({\r\n        collection: this.facetFilters\r\n      });\r\n      this.listenTo(this.facetBarView, 'remove:filter', this._removeFacetFilter)\r\n          .listenTo(this.facetBarView, 'remove:all', this._removeAll)\r\n          .listenTo(this.facetBarView, 'facet:bar:visible', this._handleFacetBarVisible)\r\n          .listenTo(this.facetBarView, 'facet:bar:hidden', this._handleFacetBarHidden);\r\n    },\r\n\r\n    _checkSelectionAndApplyFilter: function (filter) {\r\n      if (this.collection.selectedItems.length) {\r\n        ModalAlert.confirmQuestion(\r\n            _.str.sformat(lang.dialogTemplate, lang.dialogTitle), lang.dialogTitle, {})\r\n            .done(_.bind(function () {\r\n              this.collection.selectedItems.reset([]);\r\n              this._addToFacetFilter(filter);\r\n            }, this));\r\n      }\r\n      else {\r\n        this._addToFacetFilter(filter);\r\n      }\r\n    },\r\n\r\n    _addToFacetFilter: function (filter) {\r\n      // Update filters, but avoid fecet fetch as fecets will be fetched with search collection\r\n      this.facetFilters.addFilter(filter, false);\r\n      this.collection.setDefaultPageNum();\r\n      this.collection.fetch({fetchFacets: true});\r\n      this.resetScrollToTop();\r\n    },\r\n\r\n    _removeFacetFilter: function (filter) {\r\n      // Update filters, but avoid fecet fetch as fecets will be fetched with search collection\r\n      this.facetFilters.removeFilter(filter, false);\r\n      this.collection.setDefaultPageNum();\r\n      this.collection.fetch({fetchFacets: true});\r\n      this.resetScrollToTop();\r\n    },\r\n\r\n    _removeAll: function () {\r\n      // Update filters, but avoid fecet fetch as fecets will be fetched with search collection\r\n      this.facetFilters.clearFilter(false);\r\n      this.collection.setDefaultPageNum();\r\n      this.collection.fetch({fetchFacets: true});\r\n      this.resetScrollToTop();\r\n    },\r\n\r\n    _completeFilterCommand: function (view, flag) {\r\n      var panelPosition = view.ui.searchSidePanel.css(\"position\"),\r\n          self          = this;\r\n      if (panelPosition === \"absolute\" && flag === undefined) {\r\n        view.ui.searchSidePanel.removeClass(\"search-side-panel-auto\");\r\n        view.ui.searchSidePanel.addClass(\"search-side-panel-overlay\");\r\n      }\r\n      view.showSidePanel = !view.ui.searchSidePanel.hasClass(\"csui-is-visible\");\r\n      if (view.showSidePanel) {\r\n        view.facetFilters.ensureFetched();\r\n        view._ensureFacetPanelViewDisplayed();\r\n        view.ui.searchSidePanel.removeClass('csui-is-hidden');\r\n        view.ui.searchSidePanel.one(view._transitionEnd(),\r\n            function () {\r\n              if (base.isMSBrowser()) {\r\n                if (view.ui.searchSidePanel.hasClass('csui-is-visible')) {\r\n                  view.ui.searchResultsBody.addClass('csui-search-results-body-right');\r\n                }\r\n              }\r\n              view.triggerMethod('dom:refresh');\r\n              if (view.paginationView) {\r\n                view.paginationView.triggerMethod('dom:refresh');\r\n              }\r\n              self.targetView && self.targetView.triggerMethod(\"dom:refresh\");\r\n              view.facetView.triggerMethod('dom:refresh');\r\n              self.targetView.trigger('facet:opened', true);\r\n            }).addClass('csui-is-visible');\r\n        if (!base.isMSBrowser()) {\r\n          if (view.ui.searchSidePanel.hasClass('csui-is-visible')) {\r\n            view.ui.searchResultsBody.addClass('csui-search-results-body-right');\r\n          }\r\n        }\r\n      } else {\r\n        view.ui.searchSidePanel.one(view._transitionEnd(),\r\n            function () {\r\n              if (!view.ui.searchSidePanel.hasClass('csui-is-visible')) {\r\n                view.ui.searchSidePanel.addClass('csui-is-hidden');\r\n              }\r\n              view.triggerMethod('dom:refresh');\r\n              view._removeFacetPanelView();\r\n              if (view.paginationView) {\r\n                view.paginationView.triggerMethod('dom:refresh');\r\n              }\r\n              self.targetView && self.targetView.triggerMethod(\"dom:refresh\");\r\n              self.headerView.currentlyFocusedElement();\r\n              self.headerView.trigger('focus:filter', self);\r\n              self.targetView.trigger('facet:opened', false);\r\n            }).removeClass('csui-is-visible');\r\n        view.ui.searchResultsBody.removeClass('csui-search-results-body-right');\r\n      }\r\n      this.facetView && this.facetView.triggerMethod('dom:refresh');\r\n      this.listenTo(this.facetView, 'dom:refresh', function () {\r\n        this.headerView.currentlyFocusedElement();\r\n        this.headerView.trigger('focus:filter', this);\r\n      });\r\n    },\r\n    _transitionEnd: _.once(\r\n        function () {\r\n          var transitions = {\r\n                transition: 'transitionend',\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                MozTransition: 'transitionend',\r\n                OTransition: 'oTransitionEnd otransitionend'\r\n              },\r\n              element     = document.createElement('div'),\r\n              transition;\r\n          for (transition in transitions) {\r\n            if (typeof element.style[transition] !== 'undefined') {\r\n              return transitions[transition];\r\n            }\r\n          }\r\n        }\r\n    ),\r\n\r\n    updateHeaderTitle: function () {\r\n      this.headerView.setCustomSearchTitle(this.options.title);\r\n    },\r\n\r\n    _handleFacetBarVisible: function () {\r\n      this.ui.searchResultsContent.addClass('csui-facetbarviewOpened');\r\n      this.ui.searchResultsContent.find(\".csui-facet-list-bar .csui-facet-item:last a\").trigger(\r\n          'focus');\r\n    },\r\n\r\n    _handleFacetBarHidden: function () {\r\n      this.ui.searchResultsContent.removeClass('csui-facetbarviewOpened');\r\n      this.headerView.trigger(\"refresh:tabindexes\");\r\n    }\r\n  }, {\r\n    RowStatesSelectedRows: 'selected'\r\n  });\r\n\r\n  _.extend(SearchResultsView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return SearchResultsView;\r\n});\n","\ncsui.define('json!csui/widgets/search.custom/search.custom.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{widgetTitle}}\",\r\n  \"description\": \"{{widgetDescription}}\",\r\n  \"kind\": \"tile\",\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"savedSearchQueryId\": {\r\n        \"title\": \"{{savedSearchQueryTitle}}\",\r\n        \"description\": \"{{savedSearchQueryDescription}}\",\r\n        \"type\": \"string\"\r\n      }\r\n    },\r\n    \"required\": [\r\n      \"savedSearchQueryId\"\r\n    ]\r\n  },\r\n  \"options\": {\r\n    \"fields\": {\r\n      \"savedSearchQueryId\": {\r\n        \"type\": \"otcs_node_picker\",\r\n        \"type_control\": {\r\n          \"parameters\": {\r\n            \"select_types\": [258]\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n);\n\n","\ncsui.define('json!csui/widgets/search.results/search.results.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{widgetTitle}}\",\r\n  \"description\": \"{{widgetDescription}}\",\r\n  \"kind\": \"fullpage\",\r\n  \"schema\": {},\r\n  \"options\": {},\r\n  \"actions\": [\r\n    {\r\n      \"toolItems\": \"csui/widgets/search.results/toolbaritems\",\r\n      \"toolItemMasks\": \"csui/widgets/search.results/toolbaritems.masks\",\r\n      \"toolbars\": [\r\n        {\r\n          \"id\": \"otherToolbar\",\r\n          \"title\": \"{{otherToolbarTitle}}\",\r\n          \"description\": \"{{otherToolbarDescription}}\"\r\n        },\r\n        {\r\n          \"id\": \"inlineToolbar\",\r\n          \"title\": \"{{inlineToolbarTitle}}\",\r\n          \"description\": \"{{inlineToolbarDescription}}\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n);\n\n","csui.define('csui/widgets/search.custom/impl/nls/search.custom.manifest',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/widgets/search.custom/impl/nls/root/search.custom.manifest',{\r\n  \"widgetTitle\": \"Custom View Search\",\r\n  \"widgetDescription\": \"Shows custom view search form for the given saved search query.\",\r\n  \"savedSearchQueryTitle\": \"Search query\",\r\n  \"savedSearchQueryDescription\": \"An existing saved search query object\"\r\n});\r\n\n","\n","csui.define('csui/widgets/search.results/impl/nls/search.results.manifest',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/widgets/search.results/impl/nls/root/search.results.manifest',{\r\n  \"widgetTitle\": \"Search Results\",\r\n  \"widgetDescription\": \"Shows objects found by a full-text search query and offers the most important actions for them.\",\r\n  \"otherToolbarTitle\": \"List Header Toolbar\",\r\n  \"otherToolbarDescription\": \"Toolbar, which is activated in the list header, once a list item is selected.\",\r\n  \"inlineToolbarTitle\": \"Inline Toolbar\",\r\n  \"inlineToolbarDescription\": \"Toolbar, which is displayed on the right side of a list item, when the mouse cursor is moving above it.\"\r\n});\r\n\n","\n","csui.define('bundles/csui-search',[\r\n  // Models\r\n  'csui/models/widget/search.results/facet.server.adaptor.mixin',\r\n  'csui/models/widget/search.results/search.facets',\r\n  'csui/models/widget/search.results/object.to.model',\r\n\r\n  // Application widgets\r\n  'csui/widgets/search.custom/search.custom.view',\r\n  'csui/widgets/search.custom/impl/search.object.view',\r\n  'csui/widgets/search.custom/impl/search.customquery.factory',\r\n  'csui/widgets/search.results/search.results.view',\r\n  'csui/widgets/search.results/toolbaritems',\r\n  'csui/widgets/search.results/impl/toolbaritems',\r\n\r\n  // Application widgets manifests\r\n  'json!csui/widgets/search.custom/search.custom.manifest.json',\r\n  'json!csui/widgets/search.results/search.results.manifest.json',\r\n  'i18n!csui/widgets/search.custom/impl/nls/search.custom.manifest',\r\n  'i18n!csui/widgets/search.results/impl/nls/search.results.manifest',\r\n\r\n  // Tool items and tool item masks\r\n  'csui/widgets/search.results/toolbaritems',\r\n  'csui/widgets/search.results/toolbaritems.masks'\r\n], {});\r\n\r\ncsui.require(['require', 'css'], function (require, css) {\r\n  css.styleLoad(require, 'csui/bundles/csui-search', true);\r\n});\r\n\n"]}