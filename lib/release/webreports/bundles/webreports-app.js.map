{"version":3,"sources":["../../src/utils/url.webreports.js","../../src/models/wrtext/wrtext.model.js","../../src/utils/contexts/factories/wrtext.model.factory.js","../../src/mixins/webreports.view.mixin.js","../../src/widgets/tilereport/impl/nls/tilereport.lang.js","../../src/widgets/tilereport/impl/nls/root/tilereport.lang.js","../../src/widgets/tilereport/impl/tilereport!hbs","../../src/widgets/tilereport/impl/tilereport!css","../../src/style/webreports!css","../../src/widgets/tilereport/tilereport.view.js","../../src/widgets/tilereport/tilereport.manifest.json!json","../../src/widgets/tilereport/impl/nls/tilereport.manifest.js","../../src/widgets/tilereport/impl/nls/root/tilereport.manifest.js","../../src/widgets/nodeslistreport/impl/expanding.behavior.js","../../src/models/nodestablereport/impl/nls/lang.js","../../src/models/nodestablereport/impl/nls/root/lang.js","../../src/models/nodestablereport/impl/nls/lang!i18n","../../src/models/nodestablereport/nodestablereport.model.js","../../src/utils/contexts/factories/nodestablereport.js","../../src/utils/contexts/factories/nodestablereportcolumns.js","../../src/models/nodestablereport/impl/nodestablereport.columns.js","../../../../../../../../../../empty:/controls/tabletoolbar/impl/nls/localized.strings!i18n","../../src/controls/nodestablereport/impl/nodestablereport.toolbaritems.js","../../src/controls/nodestablereport/impl/nodestablereport.toolbaritems.masks.js","../../src/controls/nodestablereport/impl/nodestablereport!hbs","../../src/controls/nodestablereport/impl/nls/nodestablereport.lang.js","../../src/controls/nodestablereport/impl/nls/root/nodestablereport.lang.js","../../src/controls/nodestablereport/impl/nodestablereport!css","../../src/controls/nodestablereport/nodestablereport.view.js","../../src/widgets/nodeslistreport/impl/nls/lang.js","../../src/widgets/nodeslistreport/impl/nls/root/lang.js","../../src/widgets/nodeslistreport/nodeslistreport.view.js","../../src/widgets/nodeslistreport/nodeslistreport.manifest.json!json","../../src/widgets/nodeslistreport/impl/nls/nodeslistreport.manifest.js","../../src/widgets/nodeslistreport/impl/nls/root/nodeslistreport.manifest.js","../../src/widgets/nodeslistreport/impl/nls/nodeslistreport.manifest!i18n","../../src/models/widget.carousel/folder.model.js","../../src/models/widget.carousel/folder.collection.js","../../src/utils/contexts/factories/carousel.collection.factory.js","../../src/controls/carousel/impl/nls/carousel.lang.js","../../src/controls/carousel/impl/nls/root/carousel.lang.js","../../src/controls/carousel/impl/carousel!css","../../src/controls/carousel/impl/carousel.indicator.item.view.js","../../src/controls/carousel/impl/carousel.indicator.collection.view.js","../../src/controls/carousel/impl/carousel.slide.item!hbs","../../src/controls/carousel/impl/carousel.slide.item.view.js","../../src/controls/carousel/impl/carousel.slide.collection.view.js","../../src/controls/carousel/impl/carousel.generic!hbs","../../src/controls/carousel/carousel.view.js","../../src/models/widget.carousel/widget.carousel.model.js","../../src/widgets/widget.carousel/widget.carousel.layout.view.js","../../src/widgets/widget.carousel/impl/nls/widget.carousel.lang.js","../../src/widgets/widget.carousel/impl/nls/root/widget.carousel.lang.js","../../src/controls/carousel/impl/carousel.tile!hbs","../../src/widgets/widget.carousel/widget.carousel.view.js","../../src/widgets/widget.carousel/widget.carousel.manifest.json!json","../../src/widgets/widget.carousel/impl/nls/widget.carousel.manifest.js","../../src/widgets/widget.carousel/impl/nls/root/widget.carousel.manifest.js","../../src/widgets/widget.carousel/impl/nls/widget.carousel.manifest!i18n","../../src/utils/table.validate.js","../../src/models/tablereport/tablereport.model.js","../../src/utils/contexts/factories/table.report.factory.js","../../src/controls/table.report/impl/table.report.columns.js","../../src/controls/table.report/impl/table.report!hbs","../../src/controls/table.report/impl/nls/table.report.lang.js","../../src/controls/table.report/impl/nls/root/table.report.lang.js","../../src/controls/table.report/impl/table.report!css","../../src/controls/table.report/table.report.view.js","../../src/widgets/table.report/impl/nls/table.report.lang.js","../../src/widgets/table.report/impl/nls/root/table.report.lang.js","../../src/widgets/table.report/impl/table.report.tile!hbs","../../src/widgets/table.report/table.report.view.js","../../src/widgets/table.report/table.report.manifest.json!json","../../src/widgets/table.report/impl/nls/table.report.manifest.js","../../src/widgets/table.report/impl/nls/root/table.report.manifest.js","../../src/widgets/parameter.prompt.form/impl/header/parameter.prompt.header!hbs","../../src/widgets/parameter.prompt.form/impl/nls/lang.js","../../src/widgets/parameter.prompt.form/impl/nls/root/lang.js","../../src/widgets/parameter.prompt.form/impl/header/parameter.prompt.header!css","../../src/widgets/parameter.prompt.form/impl/header/parameter.prompt.header.view.js","../../src/widgets/parameter.prompt.form/impl/footer/parameter.prompt.footer!hbs","../../src/widgets/parameter.prompt.form/impl/footer/parameter.prompt.footer!css","../../src/widgets/parameter.prompt.form/impl/footer/parameter.prompt.footer.view.js","../../src/models/run.webreport.pre/run.webreport.pre.model.js","../../src/utils/contexts/factories/run.webreport.pre.factory.js","../../src/utils/commands/open.classic.webreport.js","../../src/models/run.webreport/run.webreport.model.js","../../src/utils/contexts/factories/run.webreport.factory.js","../../src/controls/run.webreport.pre/impl/nls/lang.js","../../src/controls/run.webreport.pre/impl/nls/root/lang.js","../../src/controls/run.webreport.pre/impl/nls/lang!i18n","../../src/utils/commands/execute.webreport.js","../../src/controls/run.webreport.pre/run.webreport.pre.controller.js","../../src/widgets/parameter.prompt.form/impl/parameter.prompt.layout!hbs","../../src/widgets/parameter.prompt.form/impl/parameter.prompt!css","../../src/widgets/parameter.prompt.form/parameter.prompt.form.view.js","../../src/widgets/parameter.prompt.form/parameter.prompt.form.manifest.json!json","../../src/widgets/parameter.prompt.form/impl/nls/parameter.prompt.form.manifest.js","../../src/widgets/parameter.prompt.form/impl/nls/root/parameter.prompt.form.manifest.js","../../src/widgets/parameter.prompt.form/impl/nls/parameter.prompt.form.manifest!i18n","../../src/utils/commands/defaultactionitems.js","../../src/utils/commands/open.webreport.js","../../src/controls/status.screen/impl/status.screen!hbs","../../src/controls/status.screen/impl/nls/lang.js","../../src/controls/status.screen/impl/nls/root/lang.js","../../src/controls/status.screen/impl/status.screen!css","../../src/controls/status.screen/status.screen.view.js","../../src/controls/table.report/cells/launch.subwebreport/impl/launch.subwebreport!hbs","../../src/controls/table.report/cells/launch.subwebreport/impl/nls/launch.subwebreport.lang.js","../../src/controls/table.report/cells/launch.subwebreport/impl/nls/root/launch.subwebreport.lang.js","../../src/controls/table.report/cells/launch.subwebreport/impl/launch.subwebreport!css","../../src/controls/table.report/cells/launch.subwebreport/launch.subwebreport.view.js","webreports-app.js"],"names":["csui","define","_","Url","NodeModelFactory","extend","appendWebReportParameters","query","parameters","isUndefined","isArray","this","combineQueryString","_serializeWebReportParameters","appendCurrentContainer","context","csuiContainerID","getCurrentContainerID","appendSWRCellID","options","subWebReportCellID","data","swrLaunchCell","id","parseInt","isNaN","node","getModel","get","serializedParms","each","parmPair","name","length","value","getWebReportParametersAsData","parmsObject","getDataAsWebReportParameters","parmsArray","isObject","mapObject","val","key","push","Backbone","UrlWebReports","ConnectableMixin","WrTextModel","Model","constructor","attributes","prototype","apply","arguments","makeConnectable","url","combine","connector","connection","parse","response","source","mixin","ModelFactory","ConnectorFactory","propertyPrefix","getObject","property","wrtext","fetch","dataType","setCommonModelOptions","modelOptions","has","root","en-us","en","dialogTitle","module","hbs","Handlebars","t","template","1","depth0","helpers","partials","stack1","helper","call","icon","hash","fn","program","inverse","noop","escapeExpression","title","helperMissing","2","4","compiler","main","header","registerPartial","$","Marionette","base","TileView","WrTextModelFactory","WebReportsViewMixin","PerfectScrollingBehavior","lang","ScriptExecutingRegion","Region","attachHtml","view","$el","html","append","el","ContentView","ItemView","className","render","model","TileReportView","isBoolean","scroll","listenTo","_updateScrollbar","contentViewOptions","triggerMethod","regionClass","contentView","templateHelpers","getClosestLocalizedString","titleBarIcon","behaviors","PerfectScrolling","behaviorClass","contentParent","suppressScrollX","scrollYMarginOffset","scrollingDisabled","onRender","height","css","$schema","description","kind","supportedKinds","schema","type","properties","enum","default","items","required","fields","type_control","select_types","widgetTitle","widgetDescription","tileTitle","tileDescription","iconTitle","iconDescription","headerTitle","headerDescription","scrollTitle","scrollDescription","idTitle","idDescription","firstParamTitle","firstParamDescription","secondParamTitle","secondParamDescription","paramNameTitle","paramNameDescription","paramValTitle","paramValDescription","DialogView","ExpandingBehavior","getOption","object","isFunction","onExpand","collection","clone","expandedViewValue","expandedViewClass","View","expandedViewOptions","expandedView","orderBy","limited","dialog","iconLeft","imageLeftUrl","imageLeftClass","iconRight","largeSize","_expandOtherView","_onCollapseExpandedView","show","size","NodeChildrenColumnModel","NodeChildrenColumnCollection","NodeModel","FetchableMixin","CommandableMixin","BrowsableMixin","BrowsableV1RequestMixin","BrowsableV2ResponseMixin","ExpandableV2Mixin","config","defaults","defaultPageSize","NodesTableReportColumnModel","NodesTableReportColumnCollection","getColumnModels","columnKeys","definitions","columns","column","columnKey","sort","getV2Columns","results","metadata","container_size","versions","file_size","align","keys","NodesTableReportModel","node_version","undefined","short_name","container","size_formatted","mime_type","NodesTableReportCollection","Collection","makeFetchable","makeCommandable","makeBrowsable","makeBrowsableV1Request","makeBrowsableV2Response","makeExpandableV2","skipCount","skip","topCount","pageSize","filters","filter","models","reset","toJSON","actualSkipCount","totalCount","filteredCount","getBrowsableUrlQuery","getExpandableResourcesUrlQuery","resetColumnsV2","parseBrowsedState","parseBrowsedItems","_renameColumnKeys","newColumns","originalSetFilter","setFilter","CollectionFactory","commands","NodesTableReportCollectionFactory","nodestablereport","getDefaultResourceScope","autoreset","deepClone","versions.element(0)","includeResources","getAllSignatures","nodestablereport_columns","getCollection","TableColumnModel","idAttribute","sequence","TableColumnCollection","comparator","getColumnKeys","pluck","map","titleIconInHeader","noTitleInHeader","permanentColumn","ToolItemsFactory","tableHeaderToolbar","signature","ToolbarItemInfo","ToolbarItemEdit","ToolbarItemShare","ToolbarItemDownload","ToolbarItemRename","onlyInTouchBrowser","ToolbarItemReserve","ToolbarItemUnreserve","ToolbarItemCopy","ToolbarItemMove","ToolbarItemAddVersion","shortcut","ToolbarItemOriginalEdit","ToolbarItemOriginalShare","ToolbarItemOriginalReserve","ToolbarItemOriginalUnreserve","ToolbarItemOriginalCopy","ToolbarItemOriginalMove","ToolbarItemOriginalDownload","inlineActionbar","other","maxItemsShown","dropDownText","ToolbarItemMore","dropDownIcon","dropdownMenuListInProperties","ToolItemMask","GlobalMenuItemsMask","ToolbarItemsMasks","globalMask","toolbars","reduce","toolbar","mask","normalize","extendMask","storeMask","imageUrl","5","imageClass","TableView","PaginationView","ToolbarView","ToolbarCommandController","TableActionBarView","DefaultActionBehavior","BlockingView","LayoutViewEventsPropagationMixin","NodesTableReportColumnCollectionFactory","nodesTableReportColumns","toolbarItems","defaultPageSizes","showInlineActionBarOnHover","forceInlineActionBarOnClick","inlineActionBarStyle","clearFilterOnChange","resetOrderOnChange","resetLimitOnChange","fixedFilterOnChange","NodesTableReportView","LayoutView","regions","tableRegion","paginationRegion","DefaultAction","_processOptions","imbue","propagateEventsToRegions","setExpand","_setTableView","_setPagination","tableView","paginationView","ddItemsList","pageSizes","contains","tableColumns","commandController","toolbarItemsMasks","args","originatingView","columnsWithSearch","filterBy","actionItems","defaultActionController","blockingParentView","parentView","clientSideDataOperation","alternativeHeader","viewClass","toolbarItemsMask","toolbarCommandController","inlineBar","toolItemsMask","delayedActions","containerCollection","inlineBarStyle","forceInlineBarOnClick","showInlineBarOnHover","_setTableViewEvents","trigger","cancel","self","executeAction","done","searchPlaceholder","emptyListText","ListView","StandardListItem","ServerExpandingBehavior","NodesTableReportChildrenCollectionFactory","NodeTypeIconView","NodesListReportView","parent","events","click @ui.moreLink","keyup @ui.searchBox","keydown @ui.searchBox","ui","moreLink","initialize","enableMoreLink","synchronizeCollections","waitingOnServer","responseFromServer","enable","isEmpty","fetched","blocking","blockActions","unblockActions","emptyViewOptions","text","childEvents","click:item","before:destroy","childView","childViewOptions","enableIcon","emptySearch","ExpandableList","dialogTitleIconRight","dialogClassName","filterNodeList","filterValue","searchInput","focus","onSearchKeyUp","event","clearTimeout","keyTimer","which","searchFieldClearerClicked","setTimeout","bind","onSearchKeyDown","preventDefault","filterChanged","onBeforeDestroyItem","_nodeIconView","destroy","onClickItem","target","onClickHeader","onMoreLinkClick","stopPropagation","listViewOnRender","clearer","toggle","onRenderItem","keyword","clearFilter","placeHolderTitle","placeHolderDescription","reportParamTitle1","reportParamDescription1","reportParamTitle2","reportParamDescription2","CarouselFolderModel","CarouselFolderCollection","carousel","CarouselCollectionFactory","tagName","data-binf-target","data-binf-slide-to","indexOf","IndicatorItemView","CollectionView","index","starting_index","requestedWidgetModels","dataURL","_index","SlideItemView","childViewContainer","starting:slide:added","onStartingChildAdded","item","carousel_container","attr","BINF","IndicatorCollectionView","SlideCollectionView","currentSlideIndex","nextSlideIndex","isCycling","auto_cycle","interval","pause_on_hover","wrap","indicator_container","slide_container","behavior","bindAll","getRegion","loadSlide","onShow","startCarousel","onShowCarousel","onDestroy","pauseCarousel","click #carousel_play_button","click #carousel_pause_button","slide.binf.carousel","slid.binf.carousel","onBeforeSlide","onAfterSlide","binf_carousel","pause","parentEl","WidgetModel","widget_loaded","GenericCarousel","activeSlideIndex","CSUIWidgetCollection","currentlyLoadingSlideIndex","currentWidgetID","currentWidgetOptions","currentWidgetContext","previousSlideIndex","maxSlidesNum","allSlidesSynced","widgets","splice","console","warn","list","JSON","slice","toLowerCase","click ol.binf-carousel-indicators > li","relatedTarget","region","regionManager","currentWidget","at","currentView","isChartRenderedInCarousel","isChartRendered","bindChartExpandedViewEvents","onIndicatorClick","allSlides","find","children","i","addRegion","addClass","onDomRefresh","firstSlideView","firstSlideRegion","on","carouselView","e","onExpandWidget","waitForCollapseIcon","setInterval","onCollapseWidget","clearInterval","widgetPath","slideModel","slideCollection","postWidgetLoad","loadWidget","fetchWidget","widgetModel","includeView","includeManifest","includeServerModule","includeToolItems","add","childWidgetDataObject","newFactories","newFactoryKeys","filteredFactories","originalFactories","_factories","originalWidgetOptions","onChildContentViewRender","onChildSync","nextWidgetModel","isLastSlide","_restoreIndicators","set","selector","animate","margin-bottom","removeClass","syncCheck","requestedWidget","widgetType","stopListening","onChildFilterValueChange","where","widget_synced","onAllSlidesSynced","6","unless","CarouselView","headerIconTitle","headerIconDescription","behaviorTitle","behaviorDescription","cycleTitle","cycleDescription","intervalTitle","intervalDescription","hoverTitle","hoverDescription","loopTitle","loopDescription","childTitle","childDescription","defaultPageSizeOptions","maxPageSize","checkPageSize","pageSizeOptions","checkPageSizeOptions","reject","num","tableValidate","TableReportColumnModel","TableReportColumnCollection","TableReportCollection","sortBy","sortOrder","_processColumns","firstSortableColumn","findWhere","column_key","name_formatted","iconClass","hoverText","tablereport","TableReportCollectionFactory","TableColumns","TableReportView","selectRows","selectColumn","setPagination","defaultDDList","optionLabels","sourceTitle","sourceDescription","columnFilterTitle","columnFilterDescription","optionsSortOrderDsc","optionsSortOrderAsc","directionTitle","directionDescription","pageSizeTitle","pageSizeDescription","pageSizeOptionsTitle","pageSizeOptionsDescription","sortTitle","sortDescription","swrLaunchCellTitle","swrLaunchCellDescription","swrLaunchCellIDTitle","swrLaunchCellIDDescription","swrLaunchCellIconClassTitle","swrLaunchCellIconClassDescription","swrLaunchCellHoverTextTitle","swrLaunchCellHoverTextDescription","parametersArrayTitle","parametersArrayDescription","parameterObjectTitle","parameterObjectDescription","parameterNameTitle","parameterNameDescription","parameterValueTitle","parameterValueDescription","go_back_tooltip","back_button","webreport_name","goBackTooltip","runWebReport","ViewEventsPropagationMixin","backArrow","triggers","click @ui.backArrow","showBackIcon","Commands","submitWR","cancelWR","click @ui.submitWR","click @ui.cancelWR","FormModel","RunWRPreModel","parametersModel","destinationModel","params","resource","path","param","parameters_data","destination_data","forms","CommandHelper","OpenClassicPageCommand","scope","enabled","status","getJustOneNode","getUrlQueryParameters","baseParms","func","objAction","objId","nexturl","location","href","RunWebReportModel","parms","resp","clearParameters","RunWRModel","WebReportParameters","RunWebReport","Cancel","WebReportExecutedSuccessfully","WebReportExecutingInBackground","anErrorOccurredExecutingTheWebReport","okLabel","CommandModel","GlobalMessage","RunWRModelFactory","convertParametersToFormData","parm","encodeURI","execute","executeWRModel","requestAttrs","crud_method","deferred","Deferred","http_method","lower_http_method","runInBackground","executeOptions","hasParameters","sync","success","serverAttrs","resolve","error","request","statusText","errorThrown","Error","showMessage","message","errorDetails","promise","NodeCollection","CommandError","RunWRPreModelFactory","OpenClassicWebReport","ExecuteWebReportCommand","RunWebReportPreController","runWRPreModel","_getCommandStatus","commandStatus","nodes","switchToPromptView","initialStatus","selected","first","_getAtLeastOneNode","require","PromptView","NextNodeFactory","PreviousNodeFactory","NodeFactory","NodesTableWidget","attrs","promptView","newAttrs","previousNode","nextNode","thisNode","promptViewOptions","RunWRController","showCloseIcon","clear","silent","_showOriginatingView","$wrPrompts","$originatingView","width","hide","triggerMethodOn","direction","complete","isDisplayed","requireSwitched","remove","checkForPromptParameters","showPrompts","_blockParentActions","getRunWRPreModel","_checkPrompts","fail","_unblockParentActions","getFormView","formView","WRRunModel","promptModel","FormView","executeWR","executeWRCommand","executionMethod","_checkExecutionRoute","openInClassic","prompting","executeModel","statusScreenOptions","showStatusScreen","OpenClassic","jqxhr","additionalModelMap","primary","secondary","version","workflow","_getStatusScreenModels","outputData","WorkItemModelFactory","primaryID","secondaryID","primaryFactory","primaryNode","secondaryNode","secondaryFactory","promises","output_destination","destination_specific","eval","workflow_attach_output","process_id","subprocess_id","task_id","whenAll","then","dataPackages","attachmentsID","wfAttachmentsNode","attachment_folder_id","_renderStatusScreen","log","statusScreenDialog","statusScreenView","specifics","outputDestination","StatusScreen","buttons","label","close","click","dialogView","rib","executionRoute","currentSchema","currentOptions","formSchema","formOptions","promptRoute","promptFileId","hasOwnProperty","hidden","origView","NodeSpriteCollection","PromptHeaderView","PromptFooterView","content","footer","onClickBackArrow","show:prompt:form","onBeforeShow","showChildView","getChildView","_closePromptView","_blockActions","_unblockActions","parmData","validate","getValues","alpaca","original","equals","runningInBackground","noFurtherResponse","outputMessage","3","useConversion","sentForConversion","destinationMessage","primaryData2","primaryIsLink","dualRows","7","9","11","primaryData","13","15","secondaryIconClass","secondaryNodeInfo","secondaryData","16","genericIsProcessingMessage","versionDestinationMessage","nodeDestinationMessage","storedInContainer","emailDestinationMessage","formAppendDestinationMessage","formOverwriteDestinationMessage","formOverwriteDestinationMessage2","formUpdateDestinationMessage","serverDestinationMessage","ftpDestinationMessage","workflowDestinationMessage","workflowAttachmentMessage","unknownWebReportDestination","document","customView","attachments","NodeLinks","SmartNodes","iconContainer","secondaryContainer","parentLink","click #primaryNodeLink","click #secondaryNodeLink","onClickNodeLink","isSupported","onClickSecondaryLink","actionNode","destination","executionModel","use_conversion_engine","run_in_background","helperData","export_type","duplicate_name_action","str","sformat","node_type","parentURL","getUrl","email_subject","append_form","rows_affected","workflow_title","secondaryNodeURL","primaryIconView","secondaryIconView","primaryIcon","secondaryIcon","prepend","icon_label","icon_class","button_label","TemplatedCellView","cellViewRegistry","LaunchSubWebreportCellView","renderValue","getValueData","launchSWR","click @ui.launchSWR","onClickLaunchSubWebreport","WRNode","launchWebReport","nodeCollection","openWebReport","hasFixedWidth","columnClassName","registerByColumnKey","styleLoad"],"mappings":"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","file":"webreports-app.js","sourcesContent":["csui.define('webreports/utils/url.webreports',['csui/lib/underscore','csui/utils/url','csui/utils/contexts/factories/node'], function (_,Url, NodeModelFactory) {\r\n\r\n    var UrlWebReports = _.extend({\r\n\r\n        appendWebReportParameters: function (query, parameters) {\r\n\r\n            // Append any WebReport parameters to the RestURL if present\r\n            if (!_.isUndefined(parameters)) {\r\n                // Currently supported array format generated by the Perspective Manager\r\n                if (_.isArray(parameters)) {\r\n                    query = this.combineQueryString(query, this._serializeWebReportParameters(parameters));\r\n                } else {\r\n                    // Support parameters in legacy format\r\n                    query = this.combineQueryString(query, parameters);\r\n                }\r\n            }\r\n\r\n            return query;\r\n        },\r\n\r\n        appendCurrentContainer: function (query, context) {\r\n\r\n            var csuiContainerID;\r\n\r\n            // Append the containerID parameter to the RestURL if present\r\n            if (!_.isUndefined(context)) {\r\n                csuiContainerID = this.getCurrentContainerID(context);\r\n\r\n                if (csuiContainerID){\r\n                    query = this.combineQueryString(query, 'csuiContainerID='+ csuiContainerID );\r\n                }\r\n            }\r\n\r\n            return query;\r\n        },\r\n\r\n        appendSWRCellID: function (query, options) {\r\n\r\n            var subWebReportCellID;\r\n\r\n            // Append the containerID parameter to the RestURL if present\r\n            if (options && options.data && options.data.swrLaunchCell && options.data.swrLaunchCell.id) {\r\n\r\n                subWebReportCellID = parseInt(options.data.swrLaunchCell.id, 10);\r\n\r\n                if (typeof subWebReportCellID === \"number\" && !isNaN(subWebReportCellID)){\r\n                    query = this.combineQueryString(query, 'subwebreport_id='+ subWebReportCellID );\r\n                }\r\n            }\r\n\r\n            return query;\r\n        },\r\n\r\n        getCurrentContainerID: function (context) {\r\n            var csuiContainerID,\r\n                node = context.getModel(NodeModelFactory);\r\n\r\n            if (!_.isUndefined(node)){\r\n                csuiContainerID = node.get('id');\r\n            }\r\n            return csuiContainerID;\r\n        },\r\n\r\n        _serializeWebReportParameters: function(parameters){\r\n            var serializedParms = '';\r\n\r\n            _.each(parameters, function (parmPair) {\r\n                if ( parmPair.name !== '' ) {\r\n                    if (serializedParms.length) {\r\n                        serializedParms += '&' + parmPair.name + '=' + parmPair.value;\r\n                    } else {\r\n                        serializedParms += parmPair.name + '=' + parmPair.value;\r\n                    }\r\n                }\r\n            });\r\n\r\n            return serializedParms;\r\n        },\r\n\r\n        /* Converts parameters in the format:\r\n                parameters: [\r\n                    {\r\n                        name: 'myparm1',\r\n                        value: 'val1'\r\n                    },\r\n                    {\r\n                        name: 'myparm2',\r\n                        value: 'val2'\r\n                    }\r\n                ]\r\n\r\n           To the format:\r\n\r\n                {\r\n                    myparm1: 'val1',\r\n                    myparm2: 'val2'\r\n                }\r\n\r\n           This is used to generate an object to pass in as data to a POST API.\r\n        */\r\n\r\n        getWebReportParametersAsData: function(parameters){\r\n\r\n            var parmsObject = {};\r\n\r\n            if (_.isArray(parameters)) {\r\n                _.each(parameters, function (parmPair) {\r\n                    if ( parmPair.name !== '' ) {\r\n                        parmsObject[parmPair.name] = parmPair.value;\r\n                    }\r\n                });\r\n            }\r\n\r\n            return parmsObject;\r\n        },\r\n\r\n        /*  The inverse of getWebReportParametersAsData( parameters ).\r\n\r\n         Converts parameters in the format:\r\n             {\r\n             myparm1: 'val1',\r\n             myparm2: 'val2'\r\n             }\r\n\r\n         To the format:\r\n             [\r\n                 {\r\n                     name: 'myparm1',\r\n                     value: 'val1'\r\n                 },\r\n                 {\r\n                     name: 'myparm2',\r\n                     value: 'val2'\r\n                 }\r\n             ]\r\n\r\n         Used to pass parameters from the prompt screen into a WR using Widget destinations.\r\n        */\r\n        getDataAsWebReportParameters: function(parameters){\r\n\r\n\r\n            var parmsArray = [];\r\n\r\n            if ( _.isObject(parameters) ){\r\n                _.mapObject( parameters, function (val, key){\r\n                    parmsArray.push({\"name\":key, \"value\": val});\r\n                });\r\n            }\r\n\r\n            return parmsArray;\r\n        }\r\n\r\n    }, Url);\r\n\r\n    return UrlWebReports;\r\n\r\n});\r\n\n","csui.define('webreports/models/wrtext/wrtext.model',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'webreports/utils/url.webreports',\r\n  'csui/models/mixins/connectable/connectable.mixin'\r\n], function (_, Backbone, UrlWebReports, ConnectableMixin) {\r\n\r\n  var WrTextModel = Backbone.Model.extend({\r\n\r\n    // Constructor gives an explicit name to the object in the debugger\r\n    constructor: function WrTextModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n      // Enable this model for communication with the CS REST API\r\n        this.makeConnectable(options);\r\n    },\r\n\r\n    // Computes the REST API URL using the connection options\r\n      url: function () {\r\n\r\n          var parameters = this.get('parameters'),\r\n              context = this.get('context'),\r\n              query = '';\r\n\r\n          // Append any WebReport parameters to the RestURL if present\r\n          query = UrlWebReports.appendWebReportParameters(query, parameters);\r\n\r\n          // Append the containerID parameter to the RestURL if present\r\n          query = UrlWebReports.appendCurrentContainer(query, context);\r\n\r\n          // Call WebReport API using WebReport format rather than JSON\r\n          return UrlWebReports.combine(this.connector.connection.url + '/nodes/' + this.get('id'),\r\n                  query ? '/output?format=webreport&' + query : '/output?format=webreport');\r\n      },\r\n\r\n    // Massage the server response, so that it looks like object attributes\r\n    parse: function (response) {\r\n      // Create an object with the key source and value of the HTML response text\r\n      return {source: response};\r\n    }\r\n\r\n  });\r\n\r\n  ConnectableMixin.mixin(WrTextModel.prototype);\r\n\r\n  return WrTextModel;\r\n\r\n});\r\n\n","csui.define('webreports/utils/contexts/factories/wrtext.model.factory',[\r\n  'csui/lib/underscore',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector',\r\n  'webreports/models/wrtext/wrtext.model'\r\n], function (_,ModelFactory, ConnectorFactory, WrTextModel) {\r\n\r\n  var WrTextModelFactory = ModelFactory.extend({\r\n\r\n    // Unique prefix of the default model instance, when this model is assigned\r\n    // to a context it can be shared by multiple widgets\r\n    propertyPrefix: 'wrtext',\r\n\r\n    constructor: function WrTextModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      // Obtain the server connector from the application context to share\r\n      // the server connection with the rest of the application; include\r\n      // the options, which can contain settings for dependent factories\r\n      var connector = context.getObject(ConnectorFactory, options);\r\n\r\n      // Expose the model instance in the `property` key on this factory\r\n      // instance to be used by the context\r\n      this.property = new WrTextModel(options.wrtext.attributes, {\r\n        connector: connector\r\n      });\r\n    },\r\n\r\n    fetch: function (options) {\r\n\r\n      // Expect HTML from the model not JSON\r\n      if (options){\r\n        _.extend(options,{dataType:'html'});\r\n      } else {\r\n        options = {dataType:'html'};\r\n      }\r\n\r\n      // Just fetch the model exposed by this factory\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  return WrTextModelFactory;\r\n\r\n});\r\n\n","csui.define('webreports/mixins/webreports.view.mixin',['csui/lib/underscore', 'webreports/utils/url.webreports'\r\n], function (_, Url) {\r\n    \"use strict\";\r\n\r\n    var WebReportsViewMixin = {\r\n\r\n        mixin: function (prototype) {\r\n            return _.extend(prototype, {\r\n                setCommonModelOptions: function(options){\r\n\r\n                    var parameters,\r\n                        modelOptions = {};\r\n\r\n                    if (options && options.data) {\r\n\r\n                        // Widgets can pass in WebReport parameters to append to the URL\r\n                        if (_.has(options.data, 'parameters')) {\r\n                            parameters = options.data.parameters;\r\n                            if(!_.isUndefined(parameters) && typeof parameters === \"object\") {\r\n                                _.extend(modelOptions,{parameters: parameters});\r\n\r\n                                // Flatten the parameters and add them directly to the modelOptions\r\n                                // This is needed so that the unique key generated for the collection in the context takes the parameters into account\r\n                                // Nested objects don't get taken into account.\r\n                                _.extend( modelOptions, Url.getWebReportParametersAsData(parameters));\r\n                            }\r\n                        }\r\n\r\n                        // Add the id to the modelOptions\r\n                        if (options.data.id) {\r\n                            _.extend(modelOptions,{id: options.data.id});\r\n                        }\r\n\r\n                        // If the widget is loaded in a container context then we can get the id\r\n                        // from the page context\r\n                        if (options.context) {\r\n                            _.extend(modelOptions,{context: options.context});\r\n                        }\r\n\r\n                    }\r\n\r\n                    return modelOptions;\r\n                }\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n    return WebReportsViewMixin;\r\n});\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('webreports/widgets/tilereport/impl/nls/tilereport.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('webreports/widgets/tilereport/impl/nls/root/tilereport.lang',{\r\n  dialogTitle: 'Tile Report'\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!webreports/widgets/tilereport/impl/tilereport',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"    <div class=\\\"tile-header\\\">\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.icon : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n        <div class=\\\"tile-title\\\">\\r\\n            <h2 class=\\\"csui-heading\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"</h2>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"tile-controls\\\"></div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n\";\n},\"2\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"            <div class=\\\"tile-type-icon\\\">\\r\\n                <span class=\\\"icon title-icon \"\n    + this.escapeExpression(((helper = (helper = helpers.icon || (depth0 != null ? depth0.icon : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"icon\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-hidden=\\\"true\\\"></span>\\r\\n            </div>\\r\\n\";\n},\"4\":function(depth0,helpers,partials,data) {\n    return \"    <div class=\\\"webreports-tilereport-spacer\\\"></div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.header : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(4, data, 0)})) != null ? stack1 : \"\")\n    + \"\\r\\n\\r\\n\\r\\n<div class=\\\"tile-content\\\"></div>\\r\\n\\r\\n<div class=\\\"tile-footer\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('webreports_widgets_tilereport_impl_tilereport', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!webreports/widgets/tilereport/impl/tilereport',[],function(){});\n","\ncsui.define('css!webreports/style/webreports',[],function(){});\n","// WebReports TileReport widget view. This renders a standard csui tile with HTML content returned from a WebReport.\r\ncsui.define('webreports/widgets/tilereport/tilereport.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/utils/base',\r\n  'csui/controls/tile/tile.view',\r\n  'webreports/utils/contexts/factories/wrtext.model.factory',\r\n  'webreports/mixins/webreports.view.mixin',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'i18n!webreports/widgets/tilereport/impl/nls/tilereport.lang',\r\n  'hbs!webreports/widgets/tilereport/impl/tilereport',\r\n  'csui/lib/perfect-scrollbar',\r\n  'css!webreports/widgets/tilereport/impl/tilereport',\r\n  'css!webreports/style/webreports.css'\r\n], function (_, $, Marionette, base, TileView, WrTextModelFactory, WebReportsViewMixin,\r\n    PerfectScrollingBehavior, lang, template) {\r\n\r\n    // Custom region that will execute <script> blocks that are in the WebReport output when they are appended\r\n    // to the parent container. Without this, any script blocks that are in the WebReport's response are not\r\n    // executed until the perspective is fully appended to the document.  In external systems (and the Widget Carousel)\r\n    // this allows the scripts to execute without additional appends.\r\n    var ScriptExecutingRegion = Marionette.Region.extend({\r\n        attachHtml: function(view) {\r\n            this.$el.html('').append(view.el);\r\n        }\r\n    });\r\n\r\n    // This view is rendered by the main view and inserted into the appropriate content div in the template\r\n    var ContentView = Marionette.ItemView.extend({\r\n\r\n       className: 'webreports-tilereport-content',\r\n\r\n       render: function () {\r\n\r\n            var source;\r\n\r\n            if (this.model){\r\n                source = this.model.get('source');\r\n                if(!_.isUndefined(source)) {\r\n                    this.$el.html(source);\r\n                }\r\n            }\r\n\r\n            return this;\r\n        }\r\n    });\r\n\r\n      var TileReportView = TileView.extend({\r\n\r\n          // Constructor gives an explicit name to the object in the debugger and\r\n          // can update the options for the parent view, which `initialize` cannot\r\n          constructor: function TileReportView(options) {\r\n\r\n\r\n              if (options && options.data) {\r\n\r\n                  // Check if the header is disabled using `header: false` in the options.\r\n              var header = ( _.has(options.data, 'header')) && _.isBoolean(options.data.header) ? options.data.header : true,\r\n                  // Check if scrolling is disabled using `scroll: false` in the options.\r\n                  scroll = (_.has(options.data, 'scroll')) && _.isBoolean(options.data.scroll) ? options.data.scroll : true,\r\n                  modelOptions;\r\n\r\n                  options.data.header = header;\r\n                  options.data.scroll = scroll;\r\n\r\n                  modelOptions = this.setCommonModelOptions(options);\r\n\r\n                  // Set up the model using the WRTextModelFactory\r\n                  // This will return a model rather than a collection.\r\n                  // This model executes a WebReport with response type of text/html and stores the\r\n                  // responseText in a single property called 'source'.\r\n                 options.model = options.context.getModel(WrTextModelFactory, { attributes: modelOptions } );\r\n\r\n                  // Whenever properties of the model change, re-render the view\r\n                  // This ensures the WebReport output is rendered to the view when the data\r\n                  // has been fetched.\r\n                  this.listenTo(options.model, 'change', this.render);\r\n\r\n                  // TODO: Does the scroll-bar really need to be re-rendered?\r\n                  this.listenTo(options.model, 'change', this._updateScrollbar);\r\n\r\n                  // Set the options for ContentView so the main content pain has the context when it renders.\r\n                  // These options are checked and loaded in the _renderContentView function of TileView\r\n                  // before show is called for the view.\r\n                  this.contentViewOptions = options;\r\n\r\n              }\r\n\r\n              // Call the parent constructor to ensure the object is built with all the inherited features.\r\n              TileView.prototype.constructor.apply(this, arguments);\r\n          },\r\n\r\n          _updateScrollbar: function () {\r\n              this.triggerMethod('update:scrollbar', this);\r\n          },\r\n\r\n\r\n          regionClass: ScriptExecutingRegion,\r\n\r\n          contentView: ContentView,\r\n\r\n          template: template,\r\n\r\n          templateHelpers: function () {\r\n\r\n              var helpers = {\r\n                  title: base.getClosestLocalizedString(this.options.data.title, lang.dialogTitle),\r\n                  icon: this.options.data.titleBarIcon || 'title-webreports'\r\n              };\r\n\r\n              // Check if the header is disabled using `header: false` in the options.\r\n              if (this.options.data.header === true){\r\n                  _.extend(helpers,{header:this.options.data.header});\r\n              }\r\n\r\n              return helpers;\r\n\r\n          },\r\n\r\n          behaviors: {\r\n\r\n              PerfectScrolling: {\r\n                  behaviorClass: PerfectScrollingBehavior,\r\n                  contentParent: '> .tile-content',\r\n                  suppressScrollX: true,\r\n                  // Required to prevent toolbar loading even when content doesn't overflow.\r\n                  scrollYMarginOffset: 15,\r\n                  scrollingDisabled: function () {\r\n                      return !this.options.data.scroll;\r\n                  }\r\n              }\r\n\r\n          },\r\n\r\n\r\n          onRender: function () {\r\n\r\n              // You can get issues when re-rendering the view\r\n              // if contentView has already been instantiated.\r\n              // Need to reset this to the constructor function before the contentView render is triggered\r\n              // This is a shim and will probably need to be fixed elsewhere.\r\n              // TODO: Check if this needs fixing in core `TileView`\r\n\r\n              if (this.contentView && typeof this.contentView === \"object\"){\r\n                  this.contentView = this.contentView.constructor;\r\n              }\r\n\r\n              if (this.options.data.header === false){\r\n\r\n                  this.$(\".tile-content\")\r\n                                      // Content originally set to 90% of the div because of the header\r\n                                      // Need to reset the height\r\n                                        .height(\"100%\")\r\n                                      // Need to override the 5px top margin assigned to the content\r\n                                      // as this breaks the tile alignment when the header is removed\r\n                                        .css('margin-top','0px');\r\n              }\r\n          }\r\n\r\n      });\r\n\r\n    // Add the mixin functionality to the target view\r\n    WebReportsViewMixin.mixin(TileReportView.prototype);\r\n\r\n      return TileReportView;\r\n\r\n});\r\n\n","\ncsui.define('json!webreports/widgets/tilereport/tilereport.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{widgetTitle}}\",\r\n  \"description\": \"{{widgetDescription}}\",\r\n  \"kind\": \"header\",\r\n  \"supportedKinds\": [\"tile\", \"header\", \"fullpage\"],\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"title\": {\r\n        \"title\": \"{{tileTitle}}\",\r\n        \"description\": \"{{tileDescription}}\",\r\n        \"type\": \"object\"\r\n      },\r\n      \"titleBarIcon\": {\r\n        \"title\": \"{{iconTitle}}\",\r\n        \"description\": \"{{iconDescription}}\",\r\n        \"type\": \"string\"\r\n      },\r\n      \"header\": {\r\n        \"title\": \"{{headerTitle}}\",\r\n        \"description\": \"{{headerDescription}}\",\r\n        \"type\": \"boolean\",\r\n        \"enum\": [\r\n          true,\r\n          false\r\n        ],\r\n        \"default\": true\r\n      },\r\n      \"scroll\": {\r\n        \"title\": \"{{scrollTitle}}\",\r\n        \"description\": \"{{scrollDescription}}\",\r\n        \"type\": \"boolean\",\r\n        \"enum\": [\r\n          true,\r\n          false\r\n        ],\r\n        \"default\": true\r\n      },\r\n      \"id\": {\r\n        \"title\": \"{{idTitle}}\",\r\n        \"description\": \"{{idDescription}}\",\r\n        \"type\": \"integer\"\r\n      },\r\n      \"parameters\": {\r\n        \"type\": \"array\",\r\n        \"title\": \"{{firstParamTitle}}\",\r\n        \"description\": \"{{firstParamDescription}}\",\r\n        \"items\": {\r\n          \"type\": \"object\",\r\n          \"title\": \"{{secondParamTitle}}\",\r\n          \"description\": \"{{secondParamDescription}}\",\r\n          \"properties\": {\r\n            \"name\": {\r\n              \"type\": \"string\",\r\n              \"title\": \"{{paramNameTitle}}\",\r\n              \"description\": \"{{paramNameDescription}}\"\r\n            },\r\n            \"value\": {\r\n              \"type\": \"string\",\r\n              \"title\": \"{{paramValTitle}}\",\r\n              \"description\": \"{{paramValDescription}}\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    \"required\": [\"id\"]\r\n  },  \r\n  \"options\": {\r\n    \"fields\": {\r\n      \"id\": {\r\n        \"type\": \"otcs_node_picker\",\r\n        \"type_control\": {\r\n          \"parameters\": {\r\n            \"select_types\": [30303]\r\n          }\r\n        }\r\n      },\r\n      \"title\": {\r\n        \"type\": \"otcs_multilingual_string\"\r\n      }\r\n    }\r\n  }\r\n});\n\n","csui.define('webreports/widgets/tilereport/impl/nls/tilereport.manifest',{\r\n\t// Always load the root bundle for the default locale (en-us)\r\n\t\"root\": true,\r\n\t// Do not load English locale bundle provided by the root bundle\r\n\t\"en-us\": false,\r\n\t\"en\": false\r\n});\r\n\n","csui.define('webreports/widgets/tilereport/impl/nls/root/tilereport.manifest',{\r\n\t\"widgetTitle\": \"HTML WebReport\",\r\n\t\"widgetDescription\": \"Returns the HTML output of a WebReport and inserts it into a tile\",\r\n\t\"tileTitle\": \"Title\",\r\n\t\"tileDescription\": \"Title for the tile\",\r\n\t\"iconTitle\": \"Icon class\",\r\n\t\"iconDescription\": \"CSS class supplying the icon in the tile header\",\r\n\t\"headerTitle\": \"Header\",\r\n\t\"headerDescription\": \"Boolean stating whether the header should be included or not\",\r\n\t\"scrollTitle\": \"Scroll\",\r\n\t\"scrollDescription\": \"Boolean stating whether the scrollbar should be included or not\",\r\n\t\"idTitle\": \"WebReport ID\",\r\n\t\"idDescription\": \"DataID for the WebReport which contains the HTML\",\r\n\t\"firstParamTitle\": \"WebReport Parameters\",\r\n\t\"firstParamDescription\": \"Key/Value pairs of parameters to be passed into the WebReport.\",\r\n\t\"secondParamTitle\": \"WebReport Parameters\",\r\n\t\"secondParamDescription\": \"Key/Value pairs of parameters to be passed into the WebReport.\",\r\n\t\"paramNameTitle\": \"Parameter Name\",\r\n\t\"paramNameDescription\": \"The name of the URL parameter.\",\r\n\t\"paramValTitle\": \"Parameter Value\",\r\n\t\"paramValDescription\": \"The value of the URL parameter.\"\r\n});\n","// Expands the limited view by showing the full one in a modal dialog\r\ncsui.define('webreports/widgets/nodeslistreport/impl/expanding.behavior',[\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/controls/dialog/dialog.view', 'csui/behaviors/expanding/expanding.behavior'\r\n], function (_, Backbone, Marionette, DialogView, ExpandingBehavior) {\r\n\r\n  var ServerExpandingBehavior = ExpandingBehavior.extend({\r\n\r\n    constructor: function ServerExpandingBehavior(options, view) {\r\n      ExpandingBehavior.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    // Need to override this function because we're using server-side pagination and filtering\r\n    // The original behavior assumes client-side and checks for the completeCollection object which\r\n    // we aren't using\r\n    onExpand: function () {\r\n      var collection = this.view.collection.clone();\r\n\r\n      var expandedViewValue = this.getOption('expandedView'),\r\n          expandedViewClass = expandedViewValue.prototype instanceof Backbone.View ?\r\n                              expandedViewValue :\r\n                              expandedViewValue.call(this.view),\r\n          expandedViewOptions = getOption(this.options, 'expandedViewOptions', this.view);\r\n      this.expandedView = new expandedViewClass(_.extend({\r\n        context: this.view.options.context,\r\n        collection: collection,\r\n        orderBy: getOption(this.options, 'orderBy', this.view),\r\n        limited: false\r\n      }, expandedViewOptions));\r\n      this.dialog = new DialogView({\r\n        iconLeft: getOption(this.options, 'titleBarIcon', this.view) ||\r\n                  getOption(this.view.options, 'titleBarIcon', this.view),\r\n        imageLeftUrl: getOption(this.options, 'titleBarImageUrl', this.view),\r\n        imageLeftClass: getOption(this.options, 'titleBarImageClass', this.view),\r\n        title: getOption(this.options, 'dialogTitle', this.view),\r\n        iconRight: getOption(this.options, 'dialogTitleIconRight', this.view),\r\n        className: getOption(this.options, 'dialogClassName', this.view),\r\n        largeSize: true,\r\n        view: this.expandedView\r\n      });\r\n      this.listenTo(this.dialog, 'before:hide', this._expandOtherView);\r\n      this.listenTo(this.dialog, 'hide', this.view._onCollapseExpandedView);  // Workaround until LPAD-53271 is implemented:  callback on original view when the expandedview is collapsed\r\n      this._expandOtherView(false);\r\n      this.dialog.show();\r\n    }\r\n\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for functiona objects too.\r\n  function getOption(object, property, context) {\r\n    if (object == null) {\r\n      return void 0;\r\n    }\r\n    var value = object[property];\r\n    return _.isFunction(value) ? object[property].call(context) : value;\r\n  }\r\n\r\n  return ServerExpandingBehavior;\r\n\r\n});\r\n\n","csui.define('webreports/models/nodestablereport/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('webreports/models/nodestablereport/impl/nls/root/lang',{\r\n  size: 'Size'\r\n});\n","\n","csui.define('webreports/models/nodestablereport/nodestablereport.model',['module','csui/lib/underscore', 'csui/lib/backbone', 'webreports/utils/url.webreports',\r\n    'csui/models/nodechildrencolumn', 'csui/models/nodechildrencolumns', 'csui/models/node/node.model',\r\n    'csui/models/mixins/connectable/connectable.mixin', 'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/commandable/commandable.mixin',\r\n    'csui/models/browsable/browsable.mixin', 'csui/models/browsable/v1.request.mixin','csui/models/browsable/v2.response.mixin',\r\n    'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n\t'i18n!webreports/models/nodestablereport/impl/nls/lang'\r\n], function (module, _, Backbone, UrlWebReports, NodeChildrenColumnModel, NodeChildrenColumnCollection, NodeModel,\r\n             ConnectableMixin, FetchableMixin, CommandableMixin, BrowsableMixin, BrowsableV1RequestMixin,BrowsableV2ResponseMixin,ExpandableV2Mixin, lang ) {\r\n\r\n    var config = module.config();\r\n    _.defaults(config, {\r\n        defaultPageSize: 30\r\n    });\r\n\r\n    var NodesTableReportColumnModel = NodeChildrenColumnModel.extend({});\r\n\r\n    var NodesTableReportColumnCollection = NodeChildrenColumnCollection.extend({\r\n\r\n        model: NodesTableReportColumnModel,\r\n\r\n        // private\r\n        getColumnModels: function (columnKeys, definitions) {\r\n            var columns = NodeChildrenColumnCollection.prototype.getColumnModels.call(\r\n                this, columnKeys, definitions);\r\n            _.each(columns, function (column) {\r\n                var columnKey = column['column_key'];\r\n                if (columnKey === 'type' || columnKey === 'name' || columnKey === 'modify_date') {\r\n                    column.sort = true;\r\n                }\r\n            }, this);\r\n            return columns;\r\n        },\r\n\r\n        // private: convert v2 'metadata' to v1 'definitions' for backward code compatibility and\r\n        //          reuse purpose\r\n        getV2Columns: function (response) {\r\n\r\n            // Note: from a long discussion with the server developer, use the common 'metadata' (or\r\n            // called 'definitions' in v1) in the first element. Elements in the collection can have\r\n            // different extended metadata (definitions).  If a business case arises that\r\n            // extended definitions are needed, will discuss again with them and add that support.\r\n\r\n            var definitions = (response.results && response.results[0] &&\r\n                response.results[0].metadata && response.results[0].metadata.properties) || {};\r\n\r\n            // For v2 calls, the 'size' column is not available.  Either the 'container_size' or\r\n            // 'file_size' is available.  Create a 'size' definition here for compatibility with existing\r\n            // code.\r\n            if (!definitions.size &&\r\n                (definitions.container_size ||\r\n                (definitions.versions && definitions.versions.file_size))) {\r\n                definitions.size = definitions.container_size || definitions.versions.file_size;\r\n                definitions.size.align = 'right';\r\n                definitions.size.key = 'size';\r\n                definitions.size.name = lang.size;\r\n                definitions.size.sort = true;\r\n            }\r\n\r\n            var columnKeys = _.keys(definitions);\r\n\r\n            return this.getColumnModels(columnKeys, definitions);\r\n        }\r\n\r\n    });\r\n\r\n    var NodesTableReportModel = NodeModel.extend({\r\n\r\n        parse: function (response, options) {\r\n            var node, node_version;\r\n            if (response.data && response.data.properties) {\r\n                node = response.data.properties;\r\n                node_version = (!_.isUndefined(response.data.versions)) ? response.data.versions : undefined;\r\n            } else {\r\n                node = response;\r\n                node_version = (!_.isUndefined(response.versions)) ? response.versions : undefined;\r\n            }\r\n            node.short_name = node.name; // node.name.length > 20 ? node.name.substr(0, 20) + '...' : node.name;\r\n            if (!node.size) {\r\n                if (node.container) {\r\n                    node.size = node.container_size;\r\n                } else if (node_version) {\r\n                    node.size = node_version.file_size;\r\n                    // The size table cell expects size_formatted to be defined correctly or undefined. The server global\r\n                    // we call, incorrectly sets this as 0KB for documents. Setting this to undefined works around this\r\n                    // and allows the formatted value to be derived from the size later on during table cell render.\r\n                    node.size_formatted = undefined;\r\n                }\r\n            }\r\n            if (!node.mime_type && node_version && node_version.mime_type) {\r\n                node.mime_type = node_version.mime_type;\r\n            }\r\n            return NodeModel.prototype.parse.call(this, response, options);\r\n        }\r\n\r\n    });\r\n\r\n    var NodesTableReportCollection = Backbone.Collection.extend({\r\n\r\n\t\t\tmodel: NodesTableReportModel,\r\n\r\n\t\t\tconstructor: function NodesTableReportCollection(attributes, options) {\r\n\t\t\t\tBackbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n\t\t\t\t//if (!this.connector) {\r\n\t\t\t\t//    this.connector = options.connector;\r\n\t\t\t\t//}\r\n\r\n\t\t\t\tif (_.isUndefined(options)){\r\n\t\t\t\t\toptions = {};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (options && options.id && !this.id) {\r\n\t\t\t\t\tthis.id = options.id;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.options = options;\r\n\r\n\t\t\t\tthis.makeConnectable(options)\r\n\t\t\t\t\t.makeFetchable(options)\r\n\t\t\t\t\t.makeCommandable(options)\r\n\t\t\t\t\t.makeBrowsable(options)\r\n\t\t\t\t\t.makeBrowsableV1Request(options)\r\n\t\t\t\t\t.makeBrowsableV2Response(options)\r\n                    .makeExpandableV2(options);\r\n\r\n\t\t\t\tthis.skipCount = options.skip || 0;\r\n\t\t\t\tthis.topCount = options.pageSize || config.defaultPageSize;\r\n\t\t\t\tthis.filters = options.filter || {};\r\n\t\t\t\tthis.orderBy = options.orderBy || 'name';\r\n\r\n\t\t\t\tthis.columns = new NodesTableReportColumnCollection();\r\n\t\t\t},\r\n\r\n\t\t\tclone: function () {\r\n                // Provide the options; they may include connector and other parameters\r\n                var clone = new this.constructor(this.models, this.options);\r\n\r\n                // Clone sub-models not covered by Backbone\r\n                if (this.columns) {\r\n                    clone.columns.reset(this.columns.toJSON());\r\n                }\r\n\r\n                // Clone additional properties set directly on the collection\r\n                clone.actualSkipCount = this.actualSkipCount;\r\n                clone.totalCount = this.totalCount;\r\n                clone.filteredCount = this.filteredCount;\r\n                clone.skipCount = this.skipCount;\r\n                clone.filters = this.filters;\r\n\r\n                return clone;\r\n\t\t\t},\r\n\r\n\t\t\turl: function () {\r\n\t\t\t\tvar query = '',\r\n\t\t\t\t\tcontext = this.options.context || undefined,\r\n\t\t\t\t\tparameters = this.options.parameters || undefined;\r\n\r\n\t\t\t\tquery = UrlWebReports.combineQueryString(\r\n\t\t\t\t\tquery,\r\n\t\t\t\t\tthis.getBrowsableUrlQuery(),\r\n                    this.getExpandableResourcesUrlQuery()\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// Append any WebReport parameters to the RestURL if present\r\n\t\t\t\tquery = UrlWebReports.appendWebReportParameters(query, parameters);\r\n\r\n\t\t\t\t// Append the containerID parameter to the RestURL if present\r\n\t\t\t\tquery = UrlWebReports.appendCurrentContainer(query, context);\r\n\r\n\t\t\t\treturn UrlWebReports.combine(this.connector.connection.url + '/nodes/' + this.id,\r\n\t\t\t\t\tquery ? '/output?format=webreport&' + query : '/output?format=webreport');\r\n\t\t\t},\r\n\r\n\t\t\tparse: function (response, options) {\r\n\t\t\t\tvar webReportBrowseData;\r\n\r\n\t\t\t\tthis.columns && this.columns.resetColumnsV2(response, options);\r\n\t\t\t\tthis.parseBrowsedState(response, options);\r\n\t\t\t\twebReportBrowseData = this.parseBrowsedItems(response, options);\r\n\t\t\t\treturn webReportBrowseData;\r\n\t\t\t},\r\n\r\n\t\t\t_renameColumnKeys: function (columns) {\r\n\r\n\t\t\t\tvar newColumns = {};\r\n\r\n\t\t\t\t_.each(columns, function (value, key) {\r\n\t\t\t\t\tkey = value.key;\r\n\t\t\t\t\tnewColumns[key] = value;\r\n\t\t\t\t} );\r\n\t\t\t\treturn newColumns;\r\n\t\t\t}\r\n\t\t}\r\n    );\r\n\r\n    BrowsableMixin.mixin(NodesTableReportCollection.prototype);\r\n    ConnectableMixin.mixin(NodesTableReportCollection.prototype);\r\n    FetchableMixin.mixin(NodesTableReportCollection.prototype);\r\n\tCommandableMixin.mixin(NodesTableReportCollection.prototype);\r\n    BrowsableV1RequestMixin.mixin(NodesTableReportCollection.prototype);\r\n    BrowsableV2ResponseMixin.mixin(NodesTableReportCollection.prototype);\r\n    ExpandableV2Mixin.mixin(NodesTableReportCollection.prototype);\r\n\r\n    var originalSetFilter = NodesTableReportCollection.prototype.setFilter;\r\n\r\n    NodesTableReportCollection.prototype.setFilter = function (value, attributes, options){\r\n\r\n        // If the filter has changed, reset the skipCount so the page reverts to 1.\r\n        this.skipCount = 0;\r\n\r\n        return originalSetFilter.apply(this, [value, attributes, options]);\r\n    };\r\n\r\n    return NodesTableReportCollection;\r\n\r\n});\r\n\n","csui.define('webreports/utils/contexts/factories/nodestablereport',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'webreports/models/nodestablereport/nodestablereport.model', 'csui/utils/commands',\r\n  'csui/utils/deepClone/deepClone','csui/utils/contexts/factories/node'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory, NodesTableReportCollection, commands) {\r\n  'use strict';\r\n\r\n  var NodesTableReportCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'nodestablereport',\r\n\r\n    constructor: function NodesTableReportCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      // Obtain the server connector from the application context to share\r\n      // the server connection with the rest of the application; include\r\n      // the options, which can contain settings for dependent factories\r\n\r\n      var nodestablereport = this.options.nodestablereport || {};\r\n\r\n      if (!(nodestablereport instanceof Backbone.Collection)) {\r\n\t\tvar connector = context.getObject(ConnectorFactory, options);\r\n        var config = module.config();\r\n        nodestablereport = new NodesTableReportCollection(nodestablereport.models, _.extend({\r\n        connector: connector}, nodestablereport.attributes, config.options,\r\n            NodesTableReportCollectionFactory.getDefaultResourceScope(),\r\n\t\t{\r\n          // Prefer refreshing the entire table to rendering one row after another.\r\n          autoreset: true\r\n        }));\r\n      }\r\n      this.property = nodestablereport;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  }, {\r\n\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        // The latest version properties can be considered common properties\r\n        // too (the MIME type is there, for example)\r\n        fields: {\r\n          properties: [],\r\n          'versions.element(0)': []\r\n        },\r\n        // Get property definitions to support table columns\r\n        includeResources: ['metadata'],\r\n        // Ask the server to check for permitted actions\r\n        commands: commands.getAllSignatures()\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return NodesTableReportCollectionFactory;\r\n\r\n});\r\n\n","csui.define('webreports/utils/contexts/factories/nodestablereportcolumns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'webreports/utils/contexts/factories/nodestablereport'\r\n], function (module, _, Backbone, CollectionFactory, NodesTableReportCollectionFactory) {\r\n\r\n  var NodesTableReportColumnsCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'nodestablereport_columns',\r\n\r\n    constructor: function NodesTableReportColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      var nodestablereport_columns = this.options.nodestablereport_columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getCollection(NodesTableReportCollectionFactory, { attributes: nodestablereport_columns.attributes });\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return NodesTableReportColumnsCollectionFactory;\r\n\r\n});\r\n\n","csui.define('webreports/models/nodestablereport/impl/nodestablereport.columns',[\"csui/lib/backbone\"], function (Backbone) {\r\n\r\n  var TableColumnModel = Backbone.Model.extend({\r\n\r\n    idAttribute: \"key\",\r\n\r\n    defaults: {\r\n      key: null,  // key from the resource definitions\r\n      sequence: 0 // smaller number moves the column to the front\r\n    }\r\n\r\n  });\r\n\r\n  var TableColumnCollection = Backbone.Collection.extend({\r\n\r\n    model: TableColumnModel,\r\n    comparator: \"sequence\",\r\n\r\n    getColumnKeys: function () {\r\n      return this.pluck('key');\r\n    },\r\n\r\n    deepClone: function () {\r\n      return new TableColumnCollection(\r\n          this.map(function (column) {\r\n            return column.attributes;\r\n          }));\r\n    }\r\n\r\n\r\n  });\r\n\r\n  // Fixed (system) columns have sequence number < 100, dynamic columns\r\n  // have sequence number > 1000\r\n\r\n  var tableColumns = new TableColumnCollection([\r\n    {\r\n      key: 'type',\r\n      sequence: 10,\r\n      titleIconInHeader: 'mime_type',\r\n    },\r\n    {\r\n      key: 'name',\r\n      sequence: 20\r\n    },\r\n    {\r\n      key: 'reserved',\r\n      sequence: 30,\r\n      noTitleInHeader: true // don't display a column header\r\n    },\r\n    {\r\n      key: 'size',\r\n      sequence: 40\r\n    },\r\n    {\r\n      key: 'modify_date',\r\n      sequence: 50\r\n    },\r\n    {\r\n      key: 'favorite',\r\n      sequence: 910,\r\n      noTitleInHeader: true, // don't display a column header\r\n      permanentColumn: true // don't wrap column due to responsiveness into details row\r\n    }\r\n  ]);\r\n\r\n  return tableColumns;\r\n\r\n});\r\n\n","\n","csui.define('webreports/controls/nodestablereport/impl/nodestablereport.toolbaritems',['csui/lib/underscore',\r\n  'i18n!csui/controls/tabletoolbar/impl/nls/localized.strings',\r\n  'csui/controls/toolbar/toolitems.factory'\r\n], function (_, lang, ToolItemsFactory) {\r\n\r\n  var toolbarItems = {\r\n    tableHeaderToolbar: new ToolItemsFactory({\r\n      main: [\r\n        {\r\n          signature: \"Properties\",\r\n          name: lang.ToolbarItemInfo,\r\n          icon: \"icon icon-toolbar-metadata\"\r\n        },\r\n        {signature: \"Edit\", name: lang.ToolbarItemEdit},\r\n        {signature: \"EmailLink\", name: lang.ToolbarItemShare},\r\n        {signature: \"Download\", name: lang.ToolbarItemDownload},\r\n        {signature: \"InlineEdit\", name: lang.ToolbarItemRename, onlyInTouchBrowser: true},\r\n        {signature: \"ReserveDoc\", name: lang.ToolbarItemReserve},\r\n        {signature: \"UnreserveDoc\", name: lang.ToolbarItemUnreserve},\r\n        {signature: \"Copy\", name: lang.ToolbarItemCopy},\r\n        {signature: \"Move\", name: lang.ToolbarItemMove},\r\n        {signature: \"AddVersion\", name: lang.ToolbarItemAddVersion}\r\n      ],\r\n      shortcut: [\r\n        {signature: \"OriginalEdit\", name: lang.ToolbarItemOriginalEdit},\r\n        {signature: \"OriginalEmailLink\", name: lang.ToolbarItemOriginalShare},\r\n        {signature: \"OriginalReserveDoc\", name: lang.ToolbarItemOriginalReserve},\r\n        {signature: \"OriginalUnreserveDoc\", name: lang.ToolbarItemOriginalUnreserve},\r\n        {signature: \"OriginalCopy\", name: lang.ToolbarItemOriginalCopy},\r\n        {signature: \"OriginalMove\", name: lang.ToolbarItemOriginalMove},\r\n        {signature: \"OriginalAddVersion\", name: lang.ToolbarItemAddVersion},\r\n        {signature: \"OriginalDownload\", name: lang.ToolbarItemOriginalDownload}\r\n      ]\r\n    }),\r\n\r\n    inlineActionbar: new ToolItemsFactory({\r\n          other: [\r\n            {\r\n              signature: \"Properties\", name: lang.ToolbarItemInfo,\r\n              icon: \"icon icon-toolbar-metadata\"\r\n            },\r\n            {signature: \"Edit\", name: lang.ToolbarItemEdit, icon: \"icon icon-toolbar-edit\"},\r\n            {signature: \"EmailLink\", name: lang.ToolbarItemShare, icon: \"icon icon-toolbar-share\"},\r\n            {\r\n              signature: \"Download\", name: lang.ToolbarItemDownload,\r\n              icon: \"icon icon-toolbar-download\"\r\n            },\r\n            {\r\n              signature: \"ReserveDoc\", name: lang.ToolbarItemReserve,\r\n              icon: \"icon icon-toolbar-reserve\"\r\n            },\r\n            {\r\n              signature: \"UnreserveDoc\",\r\n              name: lang.ToolbarItemUnreserve,\r\n              icon: \"icon icon-toolbar-unreserve\"\r\n            },\r\n            {signature: \"Copy\", name: lang.ToolbarItemCopy, icon: \"icon icon-toolbar-copy\"},\r\n            {signature: \"Move\", name: lang.ToolbarItemMove, icon: \"icon icon-toolbar-move\"},\r\n            {\r\n              signature: \"AddVersion\",\r\n              name: lang.ToolbarItemAddVersion,\r\n              icon: \"icon icon-toolbar-add-version\"\r\n            },\r\n            {\r\n              signature: \"InlineEdit\", name: lang.ToolbarItemRename,\r\n              icon: \"icon icon-toolbar-rename\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          maxItemsShown: 5,\r\n          dropDownText: lang.ToolbarItemMore,\r\n          dropDownIcon: \"icon icon-toolbar-more\"\r\n        }),\r\n\r\n    // Menu list for the Item Name's dropdown menu in Properties view\r\n    dropdownMenuListInProperties: new ToolItemsFactory({\r\n          main: [\r\n            {signature: \"Edit\", name: lang.ToolbarItemEdit},\r\n            {signature: \"EmailLink\", name: lang.ToolbarItemShare},\r\n            {signature: \"Download\", name: lang.ToolbarItemDownload},\r\n            {signature: \"ReserveDoc\", name: lang.ToolbarItemReserve},\r\n            {signature: \"UnreserveDoc\", name: lang.ToolbarItemUnreserve},\r\n            {signature: \"Copy\", name: lang.ToolbarItemCopy},\r\n            {signature: \"Move\", name: lang.ToolbarItemMove},\r\n            {signature: \"AddVersion\", name: lang.ToolbarItemAddVersion}\r\n          ],\r\n          shortcut: [\r\n            {signature: \"OriginalEdit\", name: lang.ToolbarItemOriginalEdit},\r\n            {signature: \"OriginalEmailLink\", name: lang.ToolbarItemOriginalShare},\r\n            {signature: \"OriginalReserveDoc\", name: lang.ToolbarItemOriginalReserve},\r\n            {signature: \"OriginalUnreserveDoc\", name: lang.ToolbarItemOriginalUnreserve},\r\n            {signature: \"OriginalCopy\", name: lang.ToolbarItemOriginalCopy},\r\n            {signature: \"OriginalMove\", name: lang.ToolbarItemOriginalMove},\r\n            {signature: \"OriginalAddVersion\", name: lang.ToolbarItemAddVersion},\r\n            {signature: \"OriginalDownload\", name: lang.ToolbarItemOriginalDownload}\r\n          ]\r\n        },\r\n        {\r\n          maxItemsShown: 0, // force toolbar to immediately start with a drop-down list\r\n          dropDownIcon: \"icon icon-expandArrowDown\"\r\n        }\r\n    )\r\n\r\n  };\r\n\r\n  return toolbarItems;\r\n\r\n});\r\n\n","csui.define('webreports/controls/nodestablereport/impl/nodestablereport.toolbaritems.masks',['module', 'csui/lib/underscore',\r\n  'csui/controls/toolbar/toolitems.mask',\r\n  'csui/utils/toolitem.masks/global.toolitems.mask'\r\n], function (module, _, ToolItemMask, GlobalMenuItemsMask) {\r\n  'use strict';\r\n\r\n  // Keep the keys in sync with csui/widgets/nodestable/toolbaritems\r\n  var toolbars = ['tableHeaderToolbar', 'inlineActionbar'];\r\n\r\n  function ToolbarItemsMasks() {\r\n    var config = module.config(),\r\n        globalMask = new GlobalMenuItemsMask();\r\n    // Create and populate masks for every toolbar\r\n    this.toolbars = _.reduce(toolbars, function (toolbars, toolbar) {\r\n      var mask = new ToolItemMask(globalMask, {normalize: false});\r\n      // Masks passed in by separate require.config calls are sub-objects\r\n      // stored in the outer object be different keys\r\n      _.each(config, function (source, key) {\r\n        source = source[toolbar];\r\n        if (source) {\r\n          mask.extendMask(source);\r\n        }\r\n      });\r\n      // Enable restoring the mask to its initial state\r\n      mask.storeMask();\r\n      toolbars[toolbar] = mask;\r\n      return toolbars;\r\n    }, {});\r\n  }\r\n\r\n  ToolbarItemsMasks.toolbars = toolbars;\r\n\r\n  return ToolbarItemsMasks;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!webreports/controls/nodestablereport/impl/nodestablereport',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"    <div class=\\\"tile-header\\\">\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.icon : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.program(4, data, 0)})) != null ? stack1 : \"\")\n    + \"\\r\\n        <div class=\\\"tile-title\\\">\\r\\n             <h2 class=\\\"csui-heading\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"</h2>\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\";\n},\"2\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"            <div class=\\\"tile-type-icon\\\">\\r\\n                <span class=\\\"icon \"\n    + this.escapeExpression(((helper = (helper = helpers.icon || (depth0 != null ? depth0.icon : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"icon\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-hidden=\\\"true\\\"></span>\\r\\n            </div>\\r\\n\";\n},\"4\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.imageUrl : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(5, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"5\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"                <div class=\\\"tile-type-image \"\n    + this.escapeExpression(((helper = (helper = helpers.imageClass || (depth0 != null ? depth0.imageClass : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"imageClass\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n                    <img src=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.imageUrl || (depth0 != null ? depth0.imageUrl : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"imageUrl\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-hidden=\\\"true\\\">\\r\\n                </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.header : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n<div class=\\\"webreports-nodestablereport-view\\\">\\r\\n    <div id=\\\"tableview\\\"></div>\\r\\n    <div id=\\\"paginationview\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('webreports_controls_nodestablereport_impl_nodestablereport', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('webreports/controls/nodestablereport/impl/nls/nodestablereport.lang',{\r\n    // Always load the root bundle for the default locale (en-us)\r\n    \"root\": true,\r\n    // Do not load English locale bundle provided by the root bundle\r\n    \"en-us\": false,\r\n    \"en\": false\r\n});\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('webreports/controls/nodestablereport/impl/nls/root/nodestablereport.lang',{\r\n    dialogTitle: 'Nodes Table Report'\r\n});\r\n\n","\ncsui.define('css!webreports/controls/nodestablereport/impl/nodestablereport',[],function(){});\n","csui.define('webreports/controls/nodestablereport/nodestablereport.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/handlebars', 'csui/lib/marionette',  // 3rd party libraries\r\n    'module',\r\n    'csui/utils/contexts/factories/connector',\r\n    'csui/controls/table/table.view',\r\n    'csui/controls/pagination/nodespagination.view',\r\n    'csui/controls/toolbar/toolbar.view',\r\n    'csui/utils/commands',\r\n    'csui/utils/base',\r\n    'csui/controls/toolbar/toolbar.command.controller',\r\n    'csui/controls/tableactionbar/tableactionbar.view',\r\n    'csui/behaviors/default.action/default.action.behavior',\r\n    'csui/controls/progressblocker/blocker',\r\n    'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n    'webreports/utils/contexts/factories/nodestablereportcolumns',\r\n    'webreports/utils/contexts/factories/nodestablereport',\r\n    'webreports/models/nodestablereport/impl/nodestablereport.columns',\r\n    'webreports/controls/nodestablereport/impl/nodestablereport.toolbaritems',\r\n    'webreports/controls/nodestablereport/impl/nodestablereport.toolbaritems.masks',\r\n    'webreports/mixins/webreports.view.mixin',\r\n    'hbs!webreports/controls/nodestablereport/impl/nodestablereport',\r\n    'i18n!webreports/controls/nodestablereport/impl/nls/nodestablereport.lang',\r\n    'css!webreports/controls/nodestablereport/impl/nodestablereport',\r\n    'css!webreports/style/webreports.css'\r\n], function (_, $, Handlebars, Marionette, module,ConnectorFactory, TableView, PaginationView, ToolbarView, commands, base, ToolbarCommandController, TableActionBarView, DefaultActionBehavior, BlockingView, LayoutViewEventsPropagationMixin, NodesTableReportColumnCollectionFactory, NodesTableReportCollectionFactory, nodesTableReportColumns, toolbarItems, ToolbarItemsMasks, WebReportsViewMixin, template, lang) {\r\n    \"use strict\";\r\n\r\n    var config = module.config();\r\n    _.defaults(config, {\r\n        defaultPageSize: 30,\r\n        defaultPageSizes: [30, 50, 100],\r\n        showInlineActionBarOnHover: true,\r\n        forceInlineActionBarOnClick: false,\r\n        inlineActionBarStyle: \"csui-table-actionbar-bubble\",\r\n        clearFilterOnChange: true,\r\n        resetOrderOnChange: false,\r\n        resetLimitOnChange: true,\r\n        fixedFilterOnChange: false\r\n    });\r\n\r\n    var NodesTableReportView = Marionette.LayoutView.extend({\r\n\r\n        template: template,\r\n\r\n        regions: {\r\n            tableRegion: '#tableview',\r\n            paginationRegion: '#paginationview'\r\n        },\r\n\r\n        behaviors: {\r\n\r\n            DefaultAction: {\r\n                behaviorClass: DefaultActionBehavior\r\n            }\r\n\r\n        },\r\n\r\n        constructor: function NodesTableReportView(options) {\r\n\r\n            // Set up the options with correctly initialized values\r\n            options = this._processOptions(options);\r\n\r\n            // Prepare the options to pass onto the collection\r\n            var modelOptions = this.setCommonModelOptions(options);\r\n\r\n            // Allow blocking with the spinner indicator\r\n            BlockingView.imbue(this);\r\n\r\n            // Set up Marionette prototype chain\r\n            Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n            // Ensure regions correctly respond to any actions show callbacks when called against the layout view\r\n            this.propagateEventsToRegions();\r\n\r\n            this.collection = this.options.collection || this.context.getCollection(NodesTableReportCollectionFactory, { attributes: modelOptions });\r\n            // Set the RestAPI expand options for node fields.\r\n            this.collection.setExpand('properties', ['parent_id', 'reserved_user_id']);\r\n            this.columns = this.options.columns || this.context.getCollection(NodesTableReportColumnCollectionFactory, { attributes: modelOptions });\r\n\r\n        },\r\n\r\n        onRender: function () {\r\n\r\n            if (this.collection) {\r\n\r\n                this._setTableView(this.options);\r\n                this._setPagination();\r\n\r\n            }\r\n\r\n            this.tableRegion.show(this.tableView);\r\n            this.paginationRegion.show(this.paginationView);\r\n\r\n        },\r\n\r\n        templateHelpers: function () {\r\n            var helpers = {\r\n                title: base.getClosestLocalizedString(this.options.data.title, lang.dialogTitle),\r\n                icon: this.options.data.titleBarIcon || 'title-webreports'\r\n            };\r\n\r\n            // Check if the header is disabled using `header: false` in the options.\r\n            if (this.options.data.header !== false){\r\n                _.extend(helpers,{header: true});\r\n            }\r\n\r\n            return helpers;\r\n        },\r\n\r\n        _processOptions: function(options){\r\n\r\n            if (_.isUndefined(options)){\r\n                options = {};\r\n            }\r\n\r\n            // Process options and set some default values\r\n            _.defaults(options, {\r\n                data: {},\r\n                pageSize: config.defaultPageSize,\r\n                ddItemsList: config.defaultPageSizes,\r\n                toolbarItems: toolbarItems,\r\n                clearFilterOnChange: config.clearFilterOnChange,\r\n                resetOrderOnChange: config.resetOrderOnChange,\r\n                resetLimitOnChange: config.resetLimitOnChange,\r\n                fixedFilterOnChange: config.fixedFilterOnChange\r\n            });\r\n\r\n            // Set page size values for pagination control\r\n            var pageSize  = options.data.pageSize || options.pageSize,\r\n                pageSizes = options.data.pageSizes || options.ddItemsList;\r\n\r\n            if (!_.contains(pageSizes, pageSize)) {\r\n                pageSizes.push(pageSize);\r\n                options.data.pageSizes = pageSizes.sort();\r\n            }\r\n\r\n            // Set the title bar icon for the control.\r\n            options.data.titleBarIcon = ( _.has(options.data, 'titleBarIcon')) ? 'title-icon '+ options.data.titleBarIcon : 'title-icon title-webreports';\r\n\r\n            // Process the context and connector\r\n            this.context = options.context;\r\n            if (!options.connector) {\r\n                options.connector = this.context.getObject(ConnectorFactory);\r\n            }\r\n            this.connector = options.connector;\r\n\r\n            // Process the table columns\r\n            this.tableColumns = options.tableColumns || nodesTableReportColumns.deepClone();\r\n\r\n            // Process the commands that show in the header and inline action bar\r\n            this.commands = options.commands || commands;\r\n            this.commandController = new ToolbarCommandController({commands: this.commands});\r\n\r\n            // Process any toolbarItemMasks\r\n            // TODO: this isn't fully implemented for this table yet. At the moment this code is here to prevent errors and do some basic setup.\r\n            if (!options.toolbarItemsMasks) {\r\n                options.toolbarItemsMasks = new ToolbarItemsMasks();\r\n            }\r\n\r\n            this.options = options;\r\n\r\n            return options;\r\n        },\r\n\r\n        _setTableView: function (options) {\r\n            options || (options = {});\r\n\r\n            var args = _.extend({\r\n                context: this.options.context,\r\n                connector: this.connector,\r\n                collection: this.collection,\r\n                columns: this.columns,\r\n                tableColumns: this.tableColumns,\r\n                pageSize: this.options.data.pageSize || this.options.pageSize,\r\n                originatingView: this,\r\n                columnsWithSearch: [\"name\"],\r\n                orderBy: this.options.data.orderBy || this.options.orderBy,\r\n                filterBy: this.options.filterBy,\r\n                actionItems: this.defaultActionController.actionItems,\r\n                commands: this.defaultActionController.commands,\r\n                blockingParentView: this,\r\n                parentView: this,\r\n                clientSideDataOperation: false,\r\n                alternativeHeader: {\r\n                    viewClass: ToolbarView,\r\n                    options: {\r\n                        toolbarItems: this.options.toolbarItems,\r\n                        toolbarItemsMask: this.options.toolbarItemsMasks.toolbars.tableHeaderToolbar,\r\n                        toolbarCommandController: this.commandController\r\n                    }\r\n                },\r\n                inlineBar: {\r\n                    viewClass: TableActionBarView,\r\n                    options: _.extend({\r\n                        collection: this.options.toolbarItems.inlineActionbar,\r\n                        toolItemsMask: this.options.toolbarItemsMasks.toolbars.inlineActionbar,\r\n                        delayedActions: this.collection.delayedActions,\r\n                        container: this.container,\r\n                        containerCollection: this.collection\r\n                    }, this.options.toolbarItems.inlineActionbar.options, {\r\n                        inlineBarStyle: config.inlineActionBarStyle,\r\n                        forceInlineBarOnClick: config.forceInlineActionBarOnClick,\r\n                        showInlineBarOnHover: config.showInlineActionBarOnHover\r\n                    })\r\n                }\r\n            }, options);\r\n\r\n            this.tableView = new TableView(args);\r\n\r\n            this._setTableViewEvents();\r\n        },\r\n\r\n        _setPagination: function () {\r\n            this.paginationView = new PaginationView({\r\n                collection: this.collection,\r\n                pageSize: this.options.data.pageSize || this.options.pageSize\r\n            });\r\n            return true;\r\n        },\r\n\r\n        _setTableViewEvents: function(){\r\n\r\n            // Listen for the node click and execute the default action\r\n            this.listenTo(this.tableView, 'execute:defaultAction', function (node) {\r\n                var args = {node: node};\r\n                this.trigger('before:defaultAction', args);\r\n                if (!args.cancel) {\r\n                    var self = this;\r\n                    this.defaultActionController.executeAction(node, {\r\n                        context: this.options.context,\r\n                        originatingView: this\r\n                    }).done(function () {\r\n                        self.trigger('executed:defaultAction', args);\r\n                    });\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n    });\r\n\r\n    _.extend(NodesTableReportView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n    // Add the mixin functionality to the target view\r\n    WebReportsViewMixin.mixin(NodesTableReportView.prototype);\r\n\r\n    return NodesTableReportView;\r\n});\n","csui.define('webreports/widgets/nodeslistreport/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('webreports/widgets/nodeslistreport/impl/nls/root/lang',{\r\n  dialogTitle: 'WebReports NodesList',\r\n  searchPlaceholder: 'Search NodesList Report',\r\n  emptyListText: 'No results found.'\r\n});\r\n\n","// Shows a list of nodes returned by a WebReport\r\ncsui.define('webreports/widgets/nodeslistreport/nodeslistreport.view',['csui/lib/underscore',\r\n    'csui/lib/marionette',\r\n    'csui/utils/base',\r\n    'csui/controls/list/list.view',\r\n    'csui/controls/listitem/listitemstandard.view',\r\n    'csui/controls/progressblocker/blocker',\r\n    'webreports/widgets/nodeslistreport/impl/expanding.behavior',\r\n    'csui/behaviors/default.action/default.action.behavior',\r\n    'webreports/utils/contexts/factories/nodestablereport',\r\n    'webreports/controls/nodestablereport/nodestablereport.view',\r\n    'csui/controls/node-type.icon/node-type.icon.view',\r\n    'webreports/mixins/webreports.view.mixin',\r\n    'i18n!webreports/widgets/nodeslistreport/impl/nls/lang',\r\n    'css!webreports/style/webreports.css'\r\n], function (_, Marionette, base, ListView, StandardListItem, BlockingView,\r\n             ServerExpandingBehavior, DefaultActionBehavior, NodesTableReportChildrenCollectionFactory,\r\n             NodesTableReportView, NodeTypeIconView, WebReportsViewMixin, lang) {\r\n\r\n    var NodesListReportView = ListView.extend({\r\n\r\n        constructor: function NodesListReportView(options) {\r\n            options || (options = {});\r\n            options.data || (options.data = {});\r\n            options.data.titleBarIcon = ( _.has(options.data, 'titleBarIcon') && options.data.titleBarIcon !== \"\") ? 'title-icon '+ options.data.titleBarIcon : 'title-icon title-webreports';\r\n            // This option gets passed onto the NodesTableView on expand to prevent getting two headers loaded.\r\n            options.data.header = false;\r\n\r\n            BlockingView.imbue({\r\n                parent: this\r\n            });\r\n\r\n            ListView.prototype.constructor.apply(this, arguments);\r\n        },\r\n\r\n        events: function(){\r\n            return _.extend({},ListView.prototype.events,{\r\n                'click @ui.moreLink': 'onMoreLinkClick',\r\n                'keyup @ui.searchBox': 'onSearchKeyUp',\r\n                'keydown @ui.searchBox': 'onSearchKeyDown'\r\n            });\r\n        },\r\n\r\n        ui: function(){\r\n            return _.extend({},ListView.prototype.ui,{\r\n                'moreLink': '.cs-more.tile-expand'\r\n            });\r\n        },\r\n\r\n        initialize: function() {\r\n\r\n            var options = this.options,\r\n                modelOptions;\r\n\r\n            modelOptions = this.setCommonModelOptions(options);\r\n\r\n            this.collection = this.options.collection ||\r\n                this.options.context.getCollection(NodesTableReportChildrenCollectionFactory, { attributes: modelOptions });\r\n\r\n            // Ensure a check is done for an empty collection so the expand button is hidden.\r\n\r\n            this.listenTo(this.collection, 'reset', this.enableMoreLink);\r\n\r\n            // Handle name filtering in the search box\r\n            // This will use server-side name filtering\r\n\r\n            this.listenTo(this, 'change:filterValue', this.synchronizeCollections);\r\n\r\n            // Watch for requests going to the server and back to implement the loading indicator.\r\n            this.listenTo(this.collection, 'request', this.waitingOnServer);\r\n            this.listenTo(this.collection, 'sync error', this.responseFromServer);\r\n        },\r\n\r\n        enableMoreLink: function () {\r\n            var enable = !this.isEmpty();\r\n            // Hide the expand button if no results were returned from the server.\r\n            this.ui.moreLink[enable ? 'removeClass' : 'addClass']('hidden');\r\n        },\r\n\r\n        isEmpty: function () {\r\n            return this.collection.fetched && this.collection.models.length === 0 && !this.blocking;\r\n        },\r\n\r\n        waitingOnServer: function() {\r\n            this.blocking = true;\r\n            this.blockActions();\r\n        },\r\n\r\n        responseFromServer: function() {\r\n            this.blocking = false;\r\n            this.unblockActions();\r\n            this.render();\r\n        },\r\n\r\n        emptyViewOptions: {\r\n            text: lang.emptyListText\r\n        },\r\n\r\n        childEvents: {\r\n            'click:item': 'onClickItem',\r\n            'render': 'onRenderItem',\r\n            'before:destroy': 'onBeforeDestroyItem'\r\n        },\r\n\r\n        templateHelpers: function () {\r\n            return {\r\n                title: base.getClosestLocalizedString(this.options.data.title, lang.dialogTitle),\r\n                icon: this.options.data.titleBarIcon,\r\n                searchPlaceholder: base.getClosestLocalizedString(this.options.data.searchPlaceholder, lang.searchPlaceholder)\r\n            };\r\n        },\r\n\r\n        childView: StandardListItem,\r\n\r\n        childViewOptions: {\r\n            templateHelpers: function () {\r\n                return {\r\n                    name: this.model.get('name'),\r\n                    enableIcon: true\r\n                };\r\n            }\r\n        },\r\n\r\n        blocking: false,\r\n\r\n        emptySearch: false,\r\n\r\n        behaviors: {\r\n\r\n            ExpandableList: {\r\n                behaviorClass: ServerExpandingBehavior,\r\n                expandedView: NodesTableReportView,\r\n                expandedViewOptions: function () {\r\n                    return this.options;\r\n                },\r\n\r\n                orderBy: 'name asc',\r\n                titleBarIcon: function () {\r\n                    return this.options.data.titleBarIcon;\r\n                },\r\n                dialogTitle: function () {\r\n                    return base.getClosestLocalizedString(this.options.data.title, lang.dialogTitle);\r\n                },\r\n                dialogTitleIconRight: \"icon-tileCollapse\",\r\n                dialogClassName: 'webreports-nodeslistreport-table'\r\n            },\r\n\r\n            DefaultAction: {\r\n                behaviorClass: DefaultActionBehavior\r\n            }\r\n\r\n        },\r\n\r\n        // the prototype function in list.view.js assumes client-side data, so every change updates the collection\r\n        // we are making REST request which needs to happen only after end of input.\r\n        // so the following 4 functions take care of that\r\n         filterNodeList: function(filterValue) {\r\n             this.options.filterValue = filterValue;\r\n             this.trigger('change:filterValue');\r\n             this.ui.searchInput.focus();\r\n         },\r\n\r\n         onSearchKeyUp: function(event) {\r\n             clearTimeout(this.keyTimer);\r\n             if (event.which === 27) {\r\n                // ESC key should clear field\r\n                this.searchFieldClearerClicked();\r\n             }\r\n             else {\r\n                this.keyTimer = setTimeout(_.bind(this.filterNodeList,this,this.ui.searchInput.val()),600);\r\n             }\r\n         },\r\n\r\n         onSearchKeyDown: function(event) {\r\n             if (event.which === 13) {\r\n                 // RETURN key should be ignored to prevent a page reload\r\n                 event.preventDefault();\r\n                 return false;\r\n             }\r\n             clearTimeout(this.keyTimer);\r\n         },\r\n\r\n         searchFieldClearerClicked: function () {\r\n             this.ui.searchInput.val('');\r\n             this.emptySearch = true;\r\n             this.filterNodeList('');\r\n         },\r\n\r\n        filterChanged: function (event) {\r\n            // disabled (see previous comment)\r\n            return false;\r\n        },\r\n\r\n        // Workaround for until LPAD-53271 is implemented:\r\n        // Lets the carousel widget know when the expandedView is collapsed\r\n        _onCollapseExpandedView: function(){\r\n            this.view.triggerMethod('collapse');\r\n        },\r\n\r\n        onBeforeDestroyItem: function (childView) {\r\n            if (childView._nodeIconView) {\r\n                childView._nodeIconView.destroy();\r\n            }\r\n        },\r\n\r\n        onClickItem: function (target) {\r\n            this.triggerMethod('execute:defaultAction', target.model);\r\n        },\r\n\r\n        onClickHeader: function( target) {\r\n            // Only expand the view when the header is clicked\r\n            // if results were returned from the server.\r\n            if ( !this.isEmpty() ){\r\n                this.triggerMethod('expand');\r\n            }\r\n        },\r\n\r\n        onMoreLinkClick: function (event) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.triggerMethod('expand');\r\n        },\r\n\r\n        onRender: function () {\r\n            var listViewOnRender = ListView.prototype.onRender;\r\n\r\n            if ( listViewOnRender ) {\r\n                // Call prototype onRender so we get the events correctly bound.\r\n                listViewOnRender.apply(this, arguments);\r\n            }\r\n\r\n            if (_.has(this.collection.filters, \"name\") || this.emptySearch) {\r\n\r\n                // ListView onRender hides and toggles off these elements. Need to revert this.\r\n                this.ui.searchInput.show();\r\n                this.ui.clearer.toggle(true);\r\n\r\n                this.ui.searchInput.val(this.collection.filters.name);\r\n                this.ui.searchInput.focus();\r\n                this.ui.headerTitle.toggle();\r\n                this.emptySearch = false;\r\n\r\n            }\r\n\r\n            this.collection.setExpand('properties', ['parent_id', 'reserved_user_id']);\r\n        },\r\n\r\n        onRenderItem: function (childView) {\r\n            childView._nodeIconView = new NodeTypeIconView({\r\n                el: childView.$('.csui-type-icon').get(0),\r\n                node: childView.model\r\n            });\r\n            childView._nodeIconView.render();\r\n        },\r\n\r\n        synchronizeCollections: function () {\r\n            var keyword = this.options.filterValue;\r\n            // If a name filter is applied and the keyword is blank then\r\n            // we need to clear the filter\r\n            if (!keyword.length && _.has(this.collection.filters, \"name\")) {\r\n                this.collection.clearFilter();\r\n                this.emptySearch = true;\r\n            }\r\n            if (keyword.length >= 3) {\r\n                this.collection.setFilter({name: keyword});\r\n                this.collection.reset();\r\n            } else {\r\n                this.collection.reset(this.collection.models);\r\n            }\r\n        }\r\n\r\n\r\n    });\r\n\r\n    // Add the mixin functionality to the target view\r\n    WebReportsViewMixin.mixin(NodesListReportView.prototype);\r\n\r\n    return NodesListReportView;\r\n\r\n});\r\n\n","\ncsui.define('json!webreports/widgets/nodeslistreport/nodeslistreport.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{widgetTitle}}\",\r\n  \"description\": \"{{widgetDescription}}\",\r\n  \"kind\": \"tile\",\r\n  \"supportedKinds\": [\"tile\"],\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"title\": {\r\n        \"title\": \"{{tileTitle}}\",\r\n        \"description\": \"{{tileDescription}}\",\r\n        \"type\": \"object\"\r\n      },\r\n      \"titleBarIcon\": {\r\n        \"title\": \"{{iconTitle}}\",\r\n        \"description\": \"{{iconDescription}}\",\r\n        \"type\": \"string\"\r\n      },\r\n      \"searchPlaceholder\": {\r\n        \"title\": \"{{placeHolderTitle}}\",\r\n        \"description\": \"{{placeHolderDescription}}\",\r\n        \"type\": \"object\"\r\n      },\r\n      \"id\": {\r\n        \"title\": \"{{idTitle}}\",\r\n        \"description\": \"{{idDescription}}\",\r\n        \"type\": \"integer\"\r\n      },\r\n      \"parameters\": {\r\n        \"type\": \"array\",\r\n        \"title\": \"{{reportParamTitle1}}\",\r\n        \"description\": \"{{reportParamDescription1}}\",\r\n        \"items\": {\r\n          \"type\": \"object\",\r\n          \"title\": \"{{reportParamTitle2}}\",\r\n          \"description\": \"{{reportParamDescription2}}\",\r\n          \"properties\": {\r\n            \"name\": {\r\n              \"type\": \"string\",\r\n              \"title\": \"{{paramNameTitle}}\",\r\n              \"description\": \"{{paramNameDescription}}\"\r\n            },\r\n            \"value\": {\r\n              \"type\": \"string\",\r\n              \"title\": \"{{paramValTitle}}\",\r\n              \"description\": \"{{paramValDescription}}\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    \"required\": [\"id\"]\r\n  },  \r\n  \"options\": {\r\n    \"fields\": {\r\n      \"id\": {\r\n        \"type\": \"otcs_node_picker\",\r\n        \"type_control\": {\r\n          \"parameters\": {\r\n            \"select_types\": [30303]\r\n          }\r\n        }\r\n      },\r\n      \"title\": {\r\n        \"type\": \"otcs_multilingual_string\"\r\n      },\r\n      \"searchPlaceholder\": {\r\n        \"type\": \"otcs_multilingual_string\"\r\n      }\r\n    }\r\n  }\r\n});\n\n","csui.define('webreports/widgets/nodeslistreport/impl/nls/nodeslistreport.manifest',{\r\n\t// Always load the root bundle for the default locale (en-us)\r\n\t\"root\": true,\r\n\t// Do not load English locale bundle provided by the root bundle\r\n\t\"en-us\": false,\r\n\t\"en\": false\r\n});\r\n\n","csui.define('webreports/widgets/nodeslistreport/impl/nls/root/nodeslistreport.manifest',{\r\n\t\"widgetTitle\": \"Nodes List WebReport\",\r\n\t\"widgetDescription\": \"Loads an expandable Nodes List based on the output of a WebReport\",\r\n\t\"tileTitle\": \"Title\",\r\n\t\"tileDescription\": \"Title for the tile\",\r\n\t\"iconTitle\": \"Icon class\",\r\n\t\"iconDescription\": \"CSS class supplying the icon in the tile header\",\r\n\t\"placeHolderTitle\": \"Search Placeholder\",\r\n\t\"placeHolderDescription\": \"Specify custom string to be used when the user clicks search\",\r\n\t\"idTitle\": \"WebReport ID\",\r\n\t\"idDescription\": \"DataID for the WebReport which contains the HTML\",\r\n\t\"reportParamTitle1\": \"WebReport Parameters\",\r\n\t\"reportParamDescription1\": \"Key/Value pairs of parameters to be passed into the WebReport.\",\r\n\t\"reportParamTitle2\": \"WebReport Parameters\",\r\n\t\"reportParamDescription2\": \"Key/Value pairs of parameters to be passed into the WebReport.\",\r\n\t\"paramNameTitle\": \"Parameter Name\",\r\n\t\"paramNameDescription\": \"The name of the URL parameter.\",\r\n\t\"paramValTitle\": \"Parameter Value\",\r\n\t\"paramValDescription\": \"The value of the URL parameter.\"\r\n});\n","\n","csui.define('webreports/models/widget.carousel/folder.model',[\r\n    'csui/lib/underscore',\r\n    'csui/lib/backbone',\r\n    'webreports/utils/url.webreports',\r\n    'csui/models/mixins/connectable/connectable.mixin'\r\n], function (_, Backbone, UrlWebReports, ConnectableMixin) {\r\n\r\n    //todo:  use models/node/node.model instead?\r\n\r\n    var CarouselFolderModel = Backbone.Model.extend({\r\n\r\n        // Constructor gives an explicit name to the object in the debugger\r\n        constructor: function CarouselFolderModel(attributes, options) {\r\n            Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n        }\r\n\r\n    });\r\n\r\n    return CarouselFolderModel;\r\n\r\n});\r\n\n","csui.define('webreports/models/widget.carousel/folder.collection',[\r\n    'csui/lib/underscore', 'csui/lib/backbone', // 3rd party libraries\r\n    'webreports/utils/url.webreports',\r\n    'webreports/models/widget.carousel/folder.model',\r\n    'csui/models/mixins/connectable/connectable.mixin'\r\n], function (_, Backbone, UrlWebReports, CarouselFolderModel, ConnectableMixin) {\r\n\r\n    //todo:  use models/node/node.model instead?\r\n\r\n    var CarouselFolderCollection = Backbone.Collection.extend({\r\n\r\n        // Constructor gives an explicit name to the object in the debugger\r\n        constructor: function CarouselFolderCollection(models, options) {\r\n            Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n            if (_.isUndefined(options)){\r\n                options = {};\r\n            }\r\n\r\n            // todo: this should be source_folder_id or similar:\r\n            if (options && options.id && !this.id) {\r\n                this.id = options.id;\r\n            }\r\n\r\n            /* Required options:\r\n                source_folder_id => The parentID that contains the types you want to show:\r\n                max_items  => the maximum number of items returned by the restAPI, which affect how many slides end up in the carousel\r\n                mime_type =>  Integer, subtype of the type of nodes to return.  This might just affect HTML/img/video mimetypes, might be programmatically set?\r\n                sort => controls the sort column\r\n                sort_dir => controls sort direction: \"asc\" or \"desc\"\r\n            */\r\n            this.options = options;\r\n\r\n            // Enable this model for communication with the CS REST API\r\n            this.makeConnectable(options);\r\n        },\r\n\r\n        model: CarouselFolderModel,\r\n\r\n\r\n        // Computes the REST API URL using the connection options\r\n        url: function () {\r\n\r\n            var query = '',\r\n                context = this.options.context || undefined,\r\n                parameters = this.options.parameters || undefined;\r\n\r\n            // Append any WebReport parameters to the RestURL if present\r\n            //query = UrlWebReports.appendWebReportParameters(query, parameters);\r\n\r\n            // Append the containerID parameter to the RestURL if present\r\n           // query = UrlWebReports.appendCurrentContainer(query, context);\r\n\r\n            // This will ultimately depend on the content types of the slide.\r\n            // For now, start with getting the contents of a CS folder:\r\n\r\n            // example:\r\n            //      .../cs.exe/api/v1/nodes/97823/nodes?extra=false&commands=default&limit=100&sort=asc_create_date\r\n            return UrlWebReports.combine(this.connector.connection.url + '/nodes/' + this.id,\r\n                '/nodes?extra=false&commands=default&limit=100&sort=asc_create_date');\r\n        },\r\n\r\n        // Massage the server response, so that it looks like object attributes\r\n        parse: function (response) {\r\n            return response.data;\r\n        }\r\n\r\n    });\r\n\r\n    ConnectableMixin.mixin(CarouselFolderCollection.prototype);\r\n\r\n    return CarouselFolderCollection;\r\n\r\n});\r\n\n","csui.define('webreports/utils/contexts/factories/carousel.collection.factory',[\r\n    'module',\r\n    'csui/lib/underscore',\r\n    'csui/lib/backbone',\r\n    'csui/utils/contexts/factories/factory',\r\n    'csui/utils/contexts/factories/connector',\r\n    'webreports/models/widget.carousel/folder.collection'\r\n], function (module,_, Backbone, CollectionFactory, ConnectorFactory, CarouselFolderCollection) {\r\n\r\n    var CarouselFolderCollectionFactory = CollectionFactory.extend({\r\n\r\n        // Unique prefix of the default collection instance, when this collection is assigned\r\n        // to a context it can be shared by multiple widgets\r\n        propertyPrefix: 'carousel',\r\n\r\n        constructor: function CarouselFolderCollectionFactory(context, options) {\r\n            CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n            // Obtain the server connector from the application context to share\r\n            // the server connection with the rest of the application; include\r\n            // the options, which can contain settings for dependent factories\r\n            var connector = context.getObject(ConnectorFactory, options);\r\n            options.connector = connector;\r\n            var carousel = this.options.carousel || {};\r\n\r\n            if (!(carousel instanceof Backbone.Collection)) {\r\n                var config = module.config();\r\n                carousel = new CarouselFolderCollection(carousel.models, _.extend({\r\n                    connector: connector}, carousel.attributes, config.options, {\r\n                    // Prefer refreshing the entire collection to rendering one row after another.\r\n                    autoreset: true\r\n                }));\r\n            }\r\n\r\n            // Expose the collection instance in the `property` key on this factory\r\n            // instance to be used by the context\r\n            this.property = carousel;\r\n        },\r\n\r\n        fetch: function (options) {\r\n            // Just fetch the collection exposed by this factory\r\n            return this.property.fetch(options);\r\n        }\r\n\r\n    });\r\n\r\n    return CarouselFolderCollectionFactory;\r\n\r\n});\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('webreports/controls/carousel/impl/nls/carousel.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('webreports/controls/carousel/impl/nls/root/carousel.lang',{\r\n  dialogTitle: 'Carousel'\r\n});\r\n\n","\ncsui.define('css!webreports/controls/carousel/impl/carousel',[],function(){});\n","csui.define('webreports/controls/carousel/impl/carousel.indicator.item.view',[\r\n    'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette','csui/lib/backbone', // 3rd party libraries\r\n    'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n    'webreports/utils/contexts/factories/carousel.collection.factory',\r\n    'i18n!webreports/controls/carousel/impl/nls/carousel.lang',\r\n    'css!webreports/controls/carousel/impl/carousel'\r\n], function (_, $, Marionette, Backbone, PerfectScrollingBehavior, CarouselCollectionFactory, lang) {\r\n\r\n    var CarouselIndicatorItemView = Marionette.ItemView.extend({\r\n\r\n        // Constructs a DOM element that looks like this:\r\n        //      <li class=\"{{activeClass}}\" data-binf-target=\"#carousel-main-data-container\" data-binf-slide-to=\"{{index}}\"></li>\r\n\r\n        // No template needed as the data is defined here:\r\n        template: false,\r\n\r\n        tagName: \"li\",\r\n\r\n        // Define the additional data-attrs:\r\n        attributes: function () {\r\n            return {\r\n                \"data-binf-target\": \"#carousel-main-data-container\",\r\n                \"data-binf-slide-to\": this.model.collection.indexOf( this.model )\r\n            };\r\n        },\r\n\r\n        // Dynamically set the class:\r\n        className: function () {\r\n\r\n            var activeClass = ( this.model.collection.indexOf( this.model) === 0 )? 'binf-active' : '';\r\n\r\n            return activeClass;\r\n        }\r\n\r\n    });\r\n\r\n    return CarouselIndicatorItemView;\r\n\r\n});\r\n\n","csui.define('webreports/controls/carousel/impl/carousel.indicator.collection.view',[\r\n\t'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette', 'csui/lib/backbone',// 3rd party libraries\r\n\t'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n\t'webreports/controls/carousel/impl/carousel.indicator.item.view',\r\n\t'i18n!webreports/controls/carousel/impl/nls/carousel.lang',\r\n\t'css!webreports/controls/carousel/impl/carousel'\r\n], function (_, $, Marionette, Backbone, PerfectScrollingBehavior, IndicatorItemView, lang) {\r\n\t\r\n\tvar CarouselIndicatorCollectionView = Marionette.CollectionView.extend({\r\n\r\n\t\tchildView: IndicatorItemView,\r\n\r\n\t\ttagName: \"ol\",\r\n\r\n\t\tclassName: \"binf-carousel-indicators\",\r\n\r\n\t\tchildViewOptions: function (model, index) {\r\n\r\n\t\t\treturn {\r\n\t\t\t\tstarting_index: this.options.data.starting_index\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tconstructor: function CarouselIndicatorCollectionView(options) {\r\n\r\n\t\t\tvar attributes;\r\n\r\n\t\t\tif (options && options.data) {\r\n\t\t\t\t\r\n\t\t\t\tattributes = {\r\n\t\t\t\t\tid: options.data.id,\r\n\t\t\t\t\tmodels: options.data.requestedWidgetModels\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t// Call the parent constructor to ensure the object is built with all the inherited features.\r\n\t\t\tMarionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n\t\t}\r\n\t});\r\n\r\n\treturn CarouselIndicatorCollectionView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!webreports/controls/carousel/impl/carousel.slide.item',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"slide-container\\\" data-src=\\\"\\\">\\r\\n\t<div class=\\\"slide\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('webreports_controls_carousel_impl_carousel.slide.item', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('webreports/controls/carousel/impl/carousel.slide.item.view',[\r\n    'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette','csui/lib/backbone', // 3rd party libraries\r\n    'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n    'webreports/utils/contexts/factories/carousel.collection.factory',\r\n    'i18n!webreports/controls/carousel/impl/nls/carousel.lang',\r\n    'hbs!webreports/controls/carousel/impl/carousel.slide.item',\r\n    'css!webreports/controls/carousel/impl/carousel'\r\n], function (_, $, Marionette, Backbone, PerfectScrollingBehavior, CarouselCollectionFactory, lang, template) {\r\n\t\r\n    var CarouselSlideItemView = Marionette.ItemView.extend({\r\n        \r\n        className: function () {\r\n            // Check if this is the first model in the collection and mark it as active\r\n            var activeClass = ( typeof this.model !== \"undefined\" && this.model.collection.indexOf( this.model ) === 0 ) ? \" binf-active\" : \"\";\r\n            return \"binf-item\" + activeClass;\r\n        },\r\n\r\n        template: template,\r\n\r\n        templateHelpers: function () {\r\n\r\n            var dataURL = ( typeof this.model !== \"undefined\"  ) ? this.model.get(\"id\") : \"\";\r\n\r\n            return {\r\n                dataURL:  dataURL,\r\n                index: this._index\r\n                };\r\n        },\r\n        \r\n        onRender: function (){\r\n            // Trigger getting content of the starting slide:\r\n            if (this._index === this.options.starting_index) {\r\n                this.trigger(\"starting:slide:added\", this.$el );\r\n            }\r\n        }\r\n\r\n    });\r\n\r\n    return CarouselSlideItemView;\r\n\r\n});\r\n\n","csui.define('webreports/controls/carousel/impl/carousel.slide.collection.view',[\r\n\t'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette', 'csui/lib/backbone', // 3rd party libraries\r\n\t'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n\t'webreports/controls/carousel/impl/carousel.slide.item.view',\r\n\t'i18n!webreports/controls/carousel/impl/nls/carousel.lang',\r\n\t'css!webreports/controls/carousel/impl/carousel'\r\n], function (_, $, Marionette, Backbone, PerfectScrollingBehavior, SlideItemView, lang) {\r\n\t\r\n\tvar CarouselSlideCollectionView = Marionette.CollectionView.extend({\r\n\r\n\t\tchildView: SlideItemView,\r\n\r\n\t\tchildViewContainer: \".carousel-slides-container\",\r\n\r\n\t\tclassName: \"binf-carousel-inner\",\r\n\r\n\t\tchildViewOptions: function (model, index) {\r\n\r\n\t\t\treturn {\r\n\t\t\t\tstarting_index: this.options.data.starting_index\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tchildEvents: {\r\n\t\t\t\"starting:slide:added\": \"onStartingChildAdded\"\r\n\t\t},\r\n\r\n\t\tonStartingChildAdded: function (item) {\r\n\t\t\tthis.trigger('starting:slide:added', item);\r\n\t\t},\r\n\r\n\t\tconstructor: function CarouselSlideCollectionView(options) {\r\n\r\n\t\t\tif (options && options.data) {\r\n\t\t\t\t\r\n\t\t\t\tvar attributes = {\r\n\t\t\t\t\t\t\tid: options.data.id,\r\n\t\t\t\t\t\t\tmodels: options.data.requestedWidgetModels\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Call the parent constructor to ensure the object is built with all the inherited features.\r\n\t\t\tMarionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n\t\t},\r\n\r\n\t\tui: {\r\n\t\t\tcarousel_container: \"#carousel-main-data-container\"\r\n\t\t},\r\n\r\n\t\tonRender: function () {\r\n\t\t\t// Assign the carousel listbox roll to the wrapper div\r\n\t\t\tthis.$el.attr(\"role\", \"listbox\");\r\n\t\t}\r\n\t});\r\n\r\n\treturn CarouselSlideCollectionView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!webreports/controls/carousel/impl/carousel.generic',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<!-- Indicators -->\\r\\n<span class=\\\"carousel-indicators-container\\\"></span>\\r\\n\\r\\n<!-- Wrapper for slides -->\\r\\n<span class=\\\"carousel-slides-container\\\"></span>\";\n}});\nHandlebars.registerPartial('webreports_controls_carousel_impl_carousel.generic', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('webreports/controls/carousel/carousel.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette', 'csui/lib/backbone',  // 3rd party libraries\r\n\t'csui/lib/binf/js/binf',\r\n\t'csui/utils/base',\r\n\t'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n\t'webreports/utils/contexts/factories/carousel.collection.factory',\r\n\t'webreports/controls/carousel/impl/carousel.indicator.collection.view',\r\n\t'webreports/controls/carousel/impl/carousel.slide.collection.view',\r\n\t'i18n!webreports/controls/carousel/impl/nls/carousel.lang',\r\n\t'hbs!webreports/controls/carousel/impl/carousel.generic',\r\n\t'css!webreports/controls/carousel/impl/carousel'\r\n], function (_, $, Marionette, Backbone, BINF, base, PerfectScrollingBehavior, CarouselCollectionFactory, IndicatorCollectionView, SlideCollectionView,  lang, template) {\r\n\r\n\tvar CarouselContentView = Marionette.LayoutView.extend({\r\n\r\n\t\tcurrentSlideIndex: 0,\r\n\t\tnextSlideIndex: 0,\r\n\t\tisCycling: false,\r\n\r\n\t\tdefaults: {\r\n\t\t\ttitle : \"\",\r\n\t\t\ttitleBarIcon: \"\",\r\n\t\t\theader: false,\r\n\t\t\tauto_cycle: true,\r\n\t\t\tinterval: 5000,\r\n\t\t\tpause_on_hover: \"hover\",\r\n\t\t\twrap: true\r\n\t\t},\r\n\r\n\t\ttemplate: template,\r\n\r\n\t\ttagName: \"div\",\r\n\r\n\t\tclassName: \"binf-carousel binf-slide lazy\",\r\n\r\n\t\tattributes: {\r\n\t\t\t\"id\": \"carousel-main-data-container\"\r\n\t\t},\r\n\r\n\t\tregions: {\r\n\t\t\tindicator_container: \".carousel-indicators-container\",\r\n\t\t\tslide_container: \".carousel-slides-container\"\r\n\t\t},\r\n\r\n\t\tconstructor: function CarouselContentView(options) {\r\n\t\t\t// Carousel options:\r\n\t\t\toptions.data.title = ( _.has( options.data, \"title\") ) ? base.getClosestLocalizedString(options.data.title, this.defaults.title) : this.defaults.title;\r\n\t\t\toptions.data.titleBarIcon = (  _.has( options.data, \"titleBarIcon\") ) ? options.data.titleBarIcon : this.defaults.titleBarIcon;\r\n\t\t\toptions.data.header = (  _.has( options.data, \"header\") ) ? options.data.header : this.defaults.header;\r\n\t\t\toptions.data.behavior.auto_cycle = ( _.has( options.data, \"behavior\") && _.has( options.data.behavior, \"auto_cycle\") ) ? options.data.behavior.auto_cycle : this.defaults.auto_cycle;\r\n\t\t\toptions.data.behavior.interval = ( _.has( options.data, \"behavior\") && _.has( options.data.behavior, \"interval\") ) ? options.data.behavior.interval : this.defaults.interval;\r\n\t\t\toptions.data.behavior.pause_on_hover = ( _.has( options.data, \"behavior\") && _.has( options.data.behavior, \"pause_on_hover\") ) ? ((options.data.behavior.pause_on_hover) ? \"hover\" : false ): this.defaults.pause_on_hover;\r\n\t\t\toptions.data.behavior.wrap = ( _.has( options.data, \"behavior\") && _.has( options.data.behavior, \"wrap\") ) ? options.data.behavior.wrap : this.defaults.wrap;\r\n\r\n\t\t\t// Call the parent constructor to ensure the object is built with all the inherited features.\r\n\t\t\tMarionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n\t\t\t_.bindAll( this, \"onAfterSlide\", \"onBeforeSlide\", \"loadSlide\");\r\n\t\t},\r\n\r\n\r\n\t\tonRender: function() {\r\n\t\t\tthis.getRegion('indicator_container').show(new IndicatorCollectionView(this.options));\r\n\t\t\tthis.getRegion('slide_container').show(new SlideCollectionView(this.options));\r\n\r\n\t\t\t// Load the first slide:\r\n\t\t\tthis.loadSlide(0);\r\n\t\t},\r\n\r\n\t\tonShow: function () {\r\n\t\t\t// set the starting state of the carousel:\r\n\t\t\tif (this.options.data.behavior.auto_cycle) {\r\n\t\t\t\tthis.startCarousel();\r\n\t\t\t}\r\n\r\n\t\t\t// Hook for code that needs to happen during onShow:\r\n\t\t\tthis.onShowCarousel(this.$el);\r\n\t\t},\r\n\r\n\t\tonDestroy: function(){\r\n\t\t\tif (this.isCycling) {\r\n\t\t\t\tthis.pauseCarousel();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tevents: {\r\n\t\t\t\"click #carousel_play_button\": \"startCarousel\",\r\n\t\t\t\"click #carousel_pause_button\": \"pauseCarousel\",\r\n\t\t\t\"slide.binf.carousel\": \"onBeforeSlide\",  \t// Executes just before the slide transitions into the stage.\r\n\t\t\t\"slid.binf.carousel\": \"onAfterSlide\"\t\t// Executes right after the slide has transitioned onto the stage.\r\n\t\t},\r\n\r\n\t\tonBeforeSlide: function (event) {\r\n\t\t\t// Code to run just before the slide transitions onto the stage\r\n\t\t},\r\n\r\n\t\tonAfterSlide: function ( event ){\r\n\t\t\t// Code to run after the slide has transitioned\r\n\t\t},\r\n\r\n\t\tstartCarousel: function () {\r\n\t\t\tthis.isCycling = true;\r\n\t\t\tthis.$el.binf_carousel({\r\n\t\t\t\tinterval: this.options.data.behavior.interval,\r\n\t\t\t\tpause: this.options.data.behavior.pause_on_hover,\r\n\t\t\t\twrap: this.options.data.behavior.wrap\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tpauseCarousel: function () {\r\n\t\t\tthis.isCycling = false;\r\n\t\t\tthis.$el.binf_carousel('pause');\r\n\t\t},\r\n\r\n\t\tonShowCarousel: function (parentEl) {\r\n\t\t\t// Hook for extra code to run between showing the carousel widget and loading the first slide.\r\n\t\t},\r\n\r\n\t\tloadSlide: function (index) {\r\n\t\t\t// Code that loads content for a slide.\r\n\t\t}\r\n\t\t\r\n\t});\r\n\r\n\treturn CarouselContentView;\r\n\r\n});\n","csui.define('webreports/models/widget.carousel/widget.carousel.model',[\r\n    'csui/lib/underscore',\r\n    'csui/lib/backbone',\r\n    'csui/models/widget/widget.model',\r\n    'webreports/utils/url.webreports',\r\n    'csui/models/mixins/connectable/connectable.mixin'\r\n], function (_, Backbone, WidgetModel, UrlWebReports, ConnectableMixin) {\r\n\r\n    // todo:  this might not be necessary, look into using the csui widgetModel:\r\n    var CarouselWidgetModel = WidgetModel.extend({\r\n        defaults: {\r\n            type: \"\",\r\n            options: [],\r\n            widget_loaded: false\r\n        }\r\n    });\r\n\r\n    return CarouselWidgetModel;\r\n\r\n});\r\n\n","csui.define('webreports/widgets/widget.carousel/widget.carousel.layout.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette', 'csui/lib/backbone',  // 3rd party libraries\r\n\t'csui/lib/binf/js/binf',\r\n\t'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n\t'webreports/controls/carousel/carousel.view',\r\n\t'webreports/models/widget.carousel/widget.carousel.model'\r\n], function (_, $, Marionette, Backbone, BINF, PerfectScrollingBehavior, GenericCarousel,  WidgetModel) {\r\n\r\n\t/* Widget Carousel:\r\n\t\t\t- Uses Bootstrap/binf carousel component.\r\n\t\t\t- Widget options include an array of widgets as they are configured in a normal perspective\r\n\t\t\t\t- Each widget in this array becomes a slide of the carousel\r\n\t\t\t- There are 2 collections here:\r\n\t \t\t\t#1) a collection of the requested widgets as per the perspective config (\"WidgetSlidesCollection\" = options.collection),\r\n\t \t\t\t#2) a collection of the corresponding widget models from CSUI frameworks WidgetCollection (\"CSUIWidgetCollection\").\r\n\t  \t\t\tThese aren't a 1-to-1 relationship:\r\n\t\t\t\t\t- the WidgetSlidesCollection (options.collection) will have 1 model for each slide in the carousel, containing the type (aka: path) of widget that's used and the options for that widget.\r\n\t\t\t\t\t- the CSUIWidgetCollection will  have 1 model for each unique widget type, and contains the main views/manifest for that widget.\r\n\t\t\t- A region is created on each slide to hold the widget output.\r\n\t\t\t- When a slide loads, the actual Widget is retrieved from the WidgetCollection, and its View is instantiated/collection fetched using the options passed in. It is shown to the slide's region.\r\n\t\t\t- When the current slide has completely loaded its Widget and widget content, it does the same thing for the next slide to lazy load it in the background.\r\n\t*/\r\n\r\n\tvar CarouselContentView = GenericCarousel.extend({\r\n\r\n\t\tactiveSlideIndex: 0,  // Index of the slide that's currently on the stage.\r\n\t\tCSUIWidgetCollection: new Backbone.Collection(),\r\n\t\tcurrentlyLoadingSlideIndex: 0, // Index of the slide that's being loading.\r\n\t\tcurrentWidgetID: null,\r\n\t\tcurrentWidgetOptions: null,\r\n\t\tcurrentWidgetContext: null,\r\n\t\tpreviousSlideIndex: 0, // Index of the slide that originally loaded and kicked off lazy-loading of the next slide (low-water mark)\r\n\t\tmaxSlidesNum: 10,\r\n\t\tallSlidesSynced: false,\r\n\r\n\t\tconstructor: function CarouselContentView(options) {\r\n\r\n\t\t\t// Verify the requested widgets:\r\n\t\t\tif (_.has(options.data, \"widgets\") ){\r\n\r\n\t\t\t\t// Max slides check:\r\n\t\t\t\tif (options.data.widgets.length > this.maxSlidesNum){\r\n\t\t\t\t\toptions.data.widgets.splice(this.maxSlidesNum);\r\n\t\t\t\t\tconsole.warn( \"The maximum number of widgets allowed in the carousel is \" + options.data.widgets.length +\".  The additional widgets have been removed from the carousel.\" );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Convert options type and field names from the requested widgets to be used by the core WidgetCollection:\r\n\t\t\t\t_.each( options.data.widgets, function(options, index, list){\r\n\r\n\t\t\t\t\tif ( (typeof options.options ) === \"string\") {\r\n\t\t\t\t\t\toptions.options = JSON.parse(options.options);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Check if this is a CI widget.\r\n\t\t\t\t\t// If it's not a WR widget OR it's the carousel widget itself, don't add a slide for the widget:\r\n\t\t\t\t\tif ( options.type.slice( 0, options.type.indexOf(\"/\")).toLowerCase() !== \"webreports\" || options.type === \"webreports/widgets/carousel\") {\r\n\t\t\t\t\t\tlist.splice(index, 1);\r\n\t\t\t\t\t\tconsole.warn( \"The \"+ options.type +\" widget is not supported in the carousel.  It has been removed.\" );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\t\t\t\toptions.data.widgets = [];\r\n\t\t\t}\r\n\r\n\t\t\t// Create the widgetSlidesCollection:\r\n\t\t\t_.extend( options, { collection: new Backbone.Collection(options.data.widgets) });\r\n\r\n\t\t\t// Call the parent constructor to ensure the object is built with all the inherited features.\r\n\t\t\tGenericCarousel.prototype.constructor.apply(this, arguments);\r\n\r\n\t\t\t_.bindAll( this, \"onAfterSlide\", \"onBeforeSlide\", \"loadSlide\", \"loadWidget\", \"fetchWidget\", \"postWidgetLoad\");\r\n\t\t},\r\n\r\n\t\tevents: {\r\n\t\t\t\"slide.binf.carousel\": \"onBeforeSlide\",\r\n\t\t\t\"slid.binf.carousel\": \"onAfterSlide\",\r\n\t\t\t\"click ol.binf-carousel-indicators > li\" : \"onIndicatorClick\"\r\n\t\t},\r\n\r\n\t\t// loads and renders a widget for a given slide index:\r\n\t\tonBeforeSlide: function (event) {\r\n\t\t\tvar index =  $( event.relatedTarget).index();\r\n\r\n\t\t\tthis.loadSlide( index );\r\n\t\t},\r\n\r\n\t\tonAfterSlide: function (event) {\r\n\t\t\tvar index =  $( event.relatedTarget).index(),\r\n\t\t\t\tregion = this.regionManager.get(\"slide\" + index),\r\n\t\t\t\tcurrentWidget = this.collection.at(index);\r\n\r\n\t\t\t// Special case for VisualData widgets:\r\n\t\t\t// \t\tForce them to re-render in order for the svg to get the correct height/widget.\r\n\t\t\tif ( _.has(region, \"currentView\") && _.has(region.currentView, \"contentView\") && currentWidget.get(\"type\").indexOf(\"visual.data\") !== -1 && (!region.isChartRenderedInCarousel)) {\r\n\r\n\t\t\t\t// This is a VisualData widget, so fire its dom:refresh event to reset and render the svg:\r\n\t\t\t\tregion.currentView.contentView.isChartRendered = false;\r\n\t\t\t\tregion.currentView.contentView.triggerMethod(\"dom:refresh\");\r\n\t\t\t\tregion.isChartRenderedInCarousel = true;  // flag so this only runs the first time the slide transitions onto the stage\r\n\r\n\t\t\t\t// Bind events to the expandedView button:\r\n\t\t\t\tthis.bindChartExpandedViewEvents(region.currentView);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonIndicatorClick: function (event) {\r\n\r\n\t\t\tif ( !(this.allSlidesSynced)) {\r\n\t\t\t\tconsole.warn(\"Carousel controls are disabled until all slides are fully loaded\");\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tonShowCarousel: function (parentEl) {\r\n\r\n\t\t\tvar allSlides = parentEl.find(\".carousel-slides-container .binf-carousel-inner\").children();\r\n\r\n\t\t\tif ( this.options.data.widgets.length > 0 ) {\r\n\r\n\t\t\t\t// Create regions for each slide:\r\n\t\t\t\tfor (var i = 0; i < allSlides.length; i++) {\r\n\t\t\t\t\tthis.regionManager.addRegion( \"slide\" + i, new Marionette.Region({\r\n\t\t\t\t\t\tel: allSlides[i]\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// No widgets supplied, so pause the carousel:\r\n\t\t\t\tconsole.warn(\"The carousel is empty, please add some widgets\");\r\n\t\t\t\tthis.pauseCarousel();\r\n\t\t\t}\r\n\r\n\t\t\t// Pause the carousel until all slides are completely loaded:\r\n\t\t\tif (this.options.data.behavior.auto_cycle && this.isCycling ) {\r\n\t\t\t\tthis.pauseCarousel();\r\n\t\t\t}\r\n\r\n\t\t\t// Hide the UI controls until all the slides are loaded:\r\n\t\t\tthis.regionManager.get('indicator_container').$el.find(\"li\").addClass(\"carousel-content-loading\");\r\n\r\n\t\t},\r\n\r\n\t\tonDomRefresh: function(){\r\n\r\n\t\t\t// Special case for visual data widgets.\r\n\t\t\t// If the first slide contains a chart widget, this will re-render the svg:\r\n\t\t\tvar firstSlideView,\r\n\t\t\t\tfirstSlideRegion = this.regionManager.get(\"slide0\"),\r\n\t\t\t\tcurrentWidget = this.collection.at(0);\r\n\r\n\t\t\tif (_.has(firstSlideRegion, \"currentView\") && currentWidget.get(\"type\").indexOf(\"visual.data\") !== -1 ){\r\n\r\n\t\t\t\tfirstSlideView = firstSlideRegion.currentView;\r\n\r\n\t\t\t\tif (_.has(firstSlideView, \"contentView\") && (!firstSlideView.contentView.isChartRendered)){\r\n\r\n\t\t\t\t\t// Fire the dom:refresh for the contentView:\r\n\t\t\t\t\tfirstSlideView.contentView.triggerMethod(\"dom:refresh\");\r\n\r\n\t\t\t\t\t// Flag for later:\r\n\t\t\t\t\tfirstSlideRegion.isChartRenderedInCarousel = true;\r\n\r\n\t\t\t\t\t// Bind events to the expandedView button:\r\n\t\t\t\t\tthis.bindChartExpandedViewEvents(firstSlideView );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t// Used to bind events to the expand and collapse buttons for the standard ExpandingBehavior:\r\n\t\tbindChartExpandedViewEvents: function( view ){\r\n\r\n\t\t\t// Bind events to the expandedView button:\r\n\t\t\tview.$el.find(\".icon-tileExpand,.tile-header\").on(\"click\", {view: view, carouselView: this}, function(e){\r\n\r\n\t\t\t\t// Pause the Carousel:\r\n\t\t\t\te.data.carouselView.onExpandWidget();\r\n\r\n\r\n\t\t\t\t// TODO: need an LPAD to do this in a more structured way:\r\n\t\t\t\t// Wait for the Collapse button to exist and hang an event off it:\r\n\t\t\t\tvar waitForCollapseIcon = setInterval( function() {\r\n\t\t\t\t\t\tif ( $('.icon-tileCollapse').length > 0) {\r\n\r\n\t\t\t\t\t\t\t// Bind an event to when the Collapse icon is clicked:\r\n\t\t\t\t\t\t\t$('.icon-tileCollapse').on(\"click\", {view: e.data.view, carouselView: e.data.carouselView}, function(e){\r\n\r\n\t\t\t\t\t\t\t\t// Re-render the chart:\r\n\t\t\t\t\t\t\t\te.data.view.contentView.triggerMethod(\"dom:refresh\");\r\n\r\n\t\t\t\t\t\t\t\t// Start the Carousel again:\r\n\t\t\t\t\t\t\t\te.data.carouselView.onCollapseWidget();\r\n\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tclearInterval(waitForCollapseIcon);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 150);\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\tloadSlide: function (index) {\r\n\r\n\t\t\tvar widgetPath,\r\n\t\t\t\tslideModel,\r\n\t\t\t\tslideCollection = this.regionManager.get(\"slide_container\").currentView.collection;\r\n\r\n\t\t\t// Keep the indexes for later reference:\r\n\t\t\tthis.previousSlideIndex = this.currentlyLoadingSlideIndex;\r\n\t\t\tthis.currentlyLoadingSlideIndex = index;\r\n\r\n\t\t\t// Make sure we have data to work with:\r\n\t\t\tif ( !_.isUndefined( slideCollection )) {\r\n\r\n\t\t\t\tslideModel = slideCollection.at(index);\r\n\r\n\t\t\t\tif ( !_.isUndefined( slideModel )) {\r\n\r\n\t\t\t\t\t// Has this slide already been loaded?\r\n\t\t\t\t\tif ( !slideModel.get(\"widget_loaded\") ){\r\n\r\n                        widgetPath = slideModel.get(\"type\");\r\n\r\n\t\t\t\t\t\t// capture the widget options for callbacks:\r\n\t\t\t\t\t\tthis.currentWidgetOptions = slideModel.get(\"options\"); // passed when constructing the widget View later on\r\n\t\t\t\t\t\tthis.currentWidgetID = widgetPath;\r\n\r\n\t\t\t\t\t\tthis.loadWidget(widgetPath).done(this.fetchWidget);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Slide is already loaded, but run the wrap up function:\r\n\t\t\t\t\t\tthis.postWidgetLoad();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Gets the CSUI widget model from the widget collection:\r\n\t\tloadWidget: function (id) {\r\n\r\n\t\t\tvar widgetModel;\r\n\r\n\t\t\twidgetModel = new WidgetModel(\r\n\t\t\t\t{\r\n\t\t\t\t\tid: id\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tincludeView: true,\r\n\t\t\t\t\tincludeManifest: false,\r\n\t\t\t\t\tincludeServerModule: false,\r\n\t\t\t\t\tincludeToolItems: false\r\n\t\t\t\t});\r\n\r\n\t\t\tthis.CSUIWidgetCollection.add(widgetModel);\r\n\r\n\t\t\treturn widgetModel.fetch(); // This can take some time if the widget has a lot of collateral (views/templates/controls/etc)\r\n\t\t},\r\n\r\n\t\t// Loads the view for the widget into the slide region, and fetches the widget contents:\r\n\t\tfetchWidget: function () {\r\n\r\n\t\t\tvar key,\r\n\t\t\t\tview,\r\n\t\t\t\tchildWidgetDataObject,\r\n\t\t\t\tnewFactories,\r\n\t\t\t\tnewFactoryKeys,\r\n\t\t\t\tfilteredFactories = {},\r\n\t\t\t\toriginalFactories = _.clone(this.options.context._factories),\r\n\t\t\t\toriginalWidgetOptions = this.collection.at(this.currentlyLoadingSlideIndex).get(\"options\"),\r\n\t\t\t\tregion = this.regionManager.get(\"slide\" + this.currentlyLoadingSlideIndex),\r\n\t\t\t\twidgetModel = this.CSUIWidgetCollection.get(this.currentWidgetID),\r\n\t\t\t\tWidgetView = widgetModel.get('view');\r\n\r\n\t\t\t// Construct the WidgetView:\r\n\t\t\tview = new WidgetView({\r\n\t\t\t\tcontext: this.options.context,\r\n\t\t\t\tdata: originalWidgetOptions\r\n\t\t\t});\r\n\r\n\t\t\t// Check for the expand behaviour in the view:\r\n\t\t\t// For now, only check the top level view for the behavior and not any child views.\r\n\t\t\tif (_.has( view, \"behaviors\") && _.has( view.behaviors, \"ExpandableList\")){\r\n\r\n\t\t\t\t// Most likely the NodesList report that has an ExpandableList behaviour.\r\n\t\t\t\tthis.listenTo(view, \"expand\", this.onExpandWidget);\r\n\t\t\t\tthis.listenTo(view, \"collapse\", this.onCollapseWidget);\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Listen to the child widget to see when it's data is changed (aka response comes back from the server):\r\n\t\t\tif ( _.has(view, \"model\")){\r\n\t\t\t\tchildWidgetDataObject = view.model;\r\n\t\t\t} else if (_.has(view, \"collection\")){\r\n\t\t\t\tchildWidgetDataObject = view.collection;\r\n\t\t\t} else if ( _.has(view, \"contentView\") ) {\r\n\t\t\t\t// Special case for widgets that have their model/collection in a child contentView:\r\n\t\t\t\t// aka - visual data widget\r\n\t\t\t\tthis.listenTo( view, \"render\", _.bind( this.onChildContentViewRender, this, view, this.currentlyLoadingSlideIndex) );\r\n\t\t\t}\r\n\r\n\t\t\t// Attach callback for when data from the child widget is sync'd:\r\n\t\t\tif (typeof childWidgetDataObject !== \"undefined\"){\r\n\t\t\t\tthis.listenTo( childWidgetDataObject, \"sync\", _.bind( this.onChildSync, this, view, this.currentlyLoadingSlideIndex ) );\r\n\t\t\t}\r\n\r\n\t\t\t// Show the view in the slide's region.\r\n\t\t\t// This renders the child/contentViews as well:\r\n\t\t\tregion.show(view);\r\n\r\n\r\n\t\t\t// LPAD-53273:  workaround until api/methods are available to get widget data after the perspective has loaded without re-loading everything\r\n\t\t\t// Filter out any factories in the context that have already been loaded to prevent ALL of them being\r\n\t\t\t// fetched each time a new widget is loaded into the carousel.\r\n\t\t\tif ( (_.isEmpty( originalFactories)) ) {\r\n\r\n\t\t\t\t// If the factories are empty, we're loading the first widget so just capture the existing factories:\r\n\t\t\t\tfilteredFactories = view.options.context._factories;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// There were some objects in the factory.\r\n\t\t\t\t// Filter out any factories that have already been loaded:\r\n\t\t\t\tnewFactories = this.options.context._factories;\r\n\t\t\t\tnewFactoryKeys = _.keys(newFactories);\r\n\r\n\t\t\t\tfor ( var i=0; i<newFactoryKeys.length; i++ ) {\r\n\t\t\t\t\tif ( !(newFactoryKeys[i] in originalFactories ) ){\r\n\t\t\t\t\t\tfilteredFactories[newFactoryKeys[i]] = newFactories[newFactoryKeys[i]];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Fetch the filteredFactories only, not the entire context:\r\n\t\t\tfor ( key in filteredFactories ){\r\n\t\t\t\tif ( _.isFunction(filteredFactories[key].fetch ) ) {\r\n\t\t\t\t\tfilteredFactories[key].fetch( _.extend( _.clone( originalWidgetOptions ) ) );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.postWidgetLoad();\r\n\r\n\t\t},\r\n\r\n\t\t/* Called after the widget is entirely loaded, which isn't directly after the slide transitions due to deferred actions.\r\n\t\t We want to load the next slide if:\r\n\t\t - It isn't already loaded,\r\n\t\t - It's the 'next' slide, and not the slides after the next slide.\r\n\t\t This needs to be called after all deferred events/actions of the widget are complete, not necessarily after the slide transition events.\r\n\t\t */\r\n\t\tpostWidgetLoad: function() {\r\n\r\n\t\t\tvar nextWidgetModel,\r\n\t\t\t\tisLastSlide = ( this.collection.length === (this.currentlyLoadingSlideIndex + 1) ),\r\n\t\t\t\tcurrentWidget = this.collection.at(this.currentlyLoadingSlideIndex);\r\n\r\n\t\t\tif (this.currentlyLoadingSlideIndex === 0){\r\n                // Put blip back to its normal state for the first slide\r\n                this._restoreIndicators(\"li.binf-active\");\r\n\t\t\t}\r\n\r\n\t\t\t// Flag the model to indicate that the slide has been loaded already:\r\n\t\t\tif (!currentWidget.get(\"widget_loaded\")) {\r\n\t\t\t\tcurrentWidget.set(\"widget_loaded\", true);\r\n\t\t\t}\r\n\r\n\t\t\t// We're not on the last slide, so continue:\r\n\t\t\tif (!isLastSlide){\r\n\r\n\t\t\t\tnextWidgetModel = this.collection.at( this.currentlyLoadingSlideIndex + 1 );\r\n\r\n\t\t\t\t// Load the next slide and its content:\r\n\t\t\t\tif ( nextWidgetModel.get(\"widget_loaded\") !== true ) {\r\n\t\t\t\t\tthis.loadSlide( this.currentlyLoadingSlideIndex + 1 );\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_restoreIndicators: function(selector) {\r\n\t\t\tif (selector) {\r\n                // Put blips back to their normal state:\r\n                this.regionManager.get('indicator_container').$el.find(selector).animate({\r\n                    \"height\": \"16px\",\r\n                    \"margin-bottom\": \"0px\"\r\n                }).removeClass(\"carousel-content-loading\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Called whenever a contentView in a child report is rendered:\r\n\t\tonChildContentViewRender: function(view, index) {\r\n\r\n\t\t\tvar childWidgetDataObject,\r\n\t\t\t\tchildView;\r\n\r\n\t\t\tif ( _.has(view, \"contentView\" ) ){\r\n\r\n\t\t\t\tchildView = view.contentView;\r\n\r\n\t\t\t\tif (_.has(childView, \"collection\")){\r\n\t\t\t\t\tchildWidgetDataObject = childView.collection;\r\n\t\t\t\t} else if ( _.has(childView, \"model\")) {\r\n\t\t\t\t\tchildWidgetDataObject = childView.model;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Attach a callback for when the data for this child contentView is sync'd and dom:refresh'd:\r\n\t\t\tif (typeof childWidgetDataObject !== \"undefined\") {\r\n\t\t\t\tthis.listenTo(childWidgetDataObject, \"sync\", _.bind(this.onChildSync, this, view, index));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonChildSync: function(view, index) {\r\n\r\n\t\t\tvar syncCheck,\r\n\t\t\t\trequestedWidget = this.collection.at(index),\r\n\t\t\t\twidgetType = requestedWidget.get(\"type\");\r\n\r\n\r\n\t\t\t// Mark the child widget to indicate it's been sync'd:\r\n\t\t\trequestedWidget.set(\"widget_synced\", true);\r\n\r\n\t\t\t// Stop listening to sync events to avoid firing unnecessary callbacks for subsequent syncs after the initial load.\r\n\t\t\t// Only on the VisualDataWidget for now, to prevent this from running each time a filter is changed after it's initially loaded, and it goes to the server for new data.\r\n\t\t\tif ( widgetType.indexOf(\"visual.data\") !== -1 ) {\r\n\r\n\t\t\t\tif (_.has(view, \"contentView\" ) && _.has(view.contentView, \"collection\") ) {\r\n\t\t\t\t\tthis.stopListening( view.contentView.collection, \"sync\");\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// If this is a NodesList, bind an event for when they open the Search form so the\r\n\t\t\t// Carousel doesn't cycle while they're using the search/filter control:\r\n\t\t\tif (widgetType.indexOf(\"nodeslistreport\") !== -1 ) {\r\n\t\t\t\tthis.listenTo(view,\"change:filterValue\", _.bind(this.onChildFilterValueChange, this, view) );\r\n\t\t\t}\r\n\r\n\t\t\t// Check to see if all the other models have completed their sync:\r\n\t\t\tsyncCheck = this.collection.where({\"widget_synced\": true});\r\n\r\n\t\t\tif (syncCheck.length === this.collection.length) {\r\n\t\t\t\t// All the widgets are synced:\r\n\t\t\t\tthis.onAllSlidesSynced();\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tonAllSlidesSynced: function() {\r\n\r\n\t\t\t// Start the carousel according to config now that all slides are loaded:\r\n\t\t\tif (this.options.data.behavior.auto_cycle) {\r\n\t\t\t\tthis.startCarousel();\r\n\t\t\t}\r\n\r\n\t\t\t// Put blips back to their normal state:\r\n            this._restoreIndicators(\"li:not('.binf-active')\");\r\n\r\n\t\t\t// Flag for later checks:\r\n\t\t\tthis.allSlidesSynced = true;\r\n\t\t},\r\n\r\n\t\t// Called for NodesListReports:\r\n\t\tonChildFilterValueChange: function(view) {\r\n\t\t\tif ( view.ui.searchInput.val() === \"\" ) {\r\n\t\t\t\t// The search has been cleared, start the Carousel accordingly:\r\n\t\t\t\tthis.onCollapseWidget();\r\n\t\t\t} else {\r\n\t\t\t\t// Something is still in the search bar, so pause the Carousel accordingly:\r\n\t\t\t\tthis.onExpandWidget();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonExpandWidget: function() {\r\n\t\t\t// Pause the carousel while the expandedView is open:\r\n\t\t\tif (this.isCycling) {\r\n\t\t\t\tthis.pauseCarousel();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonCollapseWidget: function() {\r\n\t\t\t// Restart the carousel once the expandedView is collapsed:\r\n\t\t\tif ( (!this.isCycling) && this.options.data.behavior.auto_cycle ){\r\n\t\t\t\tthis.startCarousel();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\treturn CarouselContentView;\r\n\r\n});\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('webreports/widgets/widget.carousel/impl/nls/widget.carousel.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('webreports/widgets/widget.carousel/impl/nls/root/widget.carousel.lang',{\r\n  dialogTitle: 'Widget Carousel'\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!webreports/controls/carousel/impl/carousel.tile',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"    <div class=\\\"tile-header\\\">\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.icon : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n        <div class=\\\"tile-title\\\">\\r\\n             <h2 class=\\\"csui-heading\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"</h2>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"tile-controls\\\"></div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n\";\n},\"2\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"            <div class=\\\"tile-type-icon\\\">\\r\\n                <span class=\\\"icon title-icon \"\n    + this.escapeExpression(((helper = (helper = helpers.icon || (depth0 != null ? depth0.icon : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"icon\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-hidden=\\\"true\\\"></span>\\r\\n            </div>\\r\\n\";\n},\"4\":function(depth0,helpers,partials,data) {\n    return \"    <div class=\\\"webreports-tilereport-spacer\\\"></div>\\r\\n\";\n},\"6\":function(depth0,helpers,partials,data) {\n    return \" carousel-tile-content\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.header : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(4, data, 0)})) != null ? stack1 : \"\")\n    + \"\\r\\n\\r\\n\\r\\n<div class=\\\"tile-content\"\n    + ((stack1 = helpers.unless.call(depth0,(depth0 != null ? depth0.header : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":this.program(6, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\\"></div>\\r\\n\\r\\n<div class=\\\"tile-footer\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('webreports_controls_carousel_impl_carousel.tile', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// WebReports Carousel widget view. This renders a standard csui tile to house the carousel.\r\ncsui.define('webreports/widgets/widget.carousel/widget.carousel.view',[\r\n    'csui/lib/underscore',\r\n    'csui/utils/base',\r\n    'csui/controls/tile/tile.view',\r\n    'webreports/widgets/widget.carousel/widget.carousel.layout.view',\r\n    'i18n!webreports/widgets/widget.carousel/impl/nls/widget.carousel.lang',\r\n    'hbs!webreports/controls/carousel/impl/carousel.tile',\r\n    'css!webreports/controls/carousel/impl/carousel',\r\n    'css!webreports/style/webreports.css'\r\n], function (_, base, TileView, CarouselView, lang, template) {\r\n\r\n    var CarouselTileView = TileView.extend({\r\n\r\n        contentView: CarouselView,\r\n\r\n        template: template,\r\n\r\n        constructor: function CarouselTileView(options) {\r\n\r\n            if (options.data && options.data.contentView){\r\n                this.contentView = options.data.contentView;\r\n            }\r\n\r\n            // These options are checked and loaded in the _renderContentView function of TileView\r\n            // before show is called for the view.\r\n            this.contentViewOptions = options;\r\n\r\n            // Call the parent constructor to ensure the object is built with all the inherited features.\r\n            TileView.prototype.constructor.apply(this, arguments);\r\n        },\r\n        \r\n        templateHelpers: function () {\r\n\r\n            var helpers = {\r\n                title: base.getClosestLocalizedString(this.options.data.title, lang.dialogTitle),\r\n                icon: this.options.data.titleBarIcon || 'title-webreports'\r\n            };\r\n\r\n            // Check if the header is disabled using `header: false` in the options.\r\n            if (this.options.data.header === true){\r\n                _.extend(helpers,{header:this.options.data.header});\r\n            }\r\n\r\n            return helpers;\r\n\r\n        },\r\n\r\n        onRender: function(){\r\n            if (this.options.data.header === false){\r\n\r\n                this.$(\".tile-content\")\r\n                    // Content originally set to 90% of the div because of the header\r\n                    // Need to reset the height\r\n                    .height(\"100%\")\r\n                    // Need to override the 5px top margin assigned to the content\r\n                    // as this breaks the tile alignment when the header is removed\r\n                    .css('margin-top','0px');\r\n            }\r\n        }\r\n\r\n    });\r\n\r\n    return CarouselTileView;\r\n\r\n});\r\n\n","\ncsui.define('json!webreports/widgets/widget.carousel/widget.carousel.manifest.json',{\r\n\t\"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n\t\"title\": \"{{widgetTitle}}\",\r\n\t\"description\": \"{{widgetDescription}}\",\r\n\t\"kind\": \"header\",\r\n\t\"supportedKinds\": [\"tile\", \"header\", \"fullpage\"],\r\n\t\"schema\": {\r\n\t\t\"type\": \"object\",\r\n\t\t\"properties\": {\r\n\t\t\t\"header\": {\r\n\t\t\t\t\"title\": \"{{headerTitle}}\",\r\n\t\t\t\t\"description\": \"{{headerDescription}}\",\r\n\t\t\t\t\"type\": \"boolean\",\r\n\t\t\t\t\"enum\": [\r\n\t\t\t\t\ttrue,\r\n\t\t\t\t\tfalse\r\n\t\t\t\t],\r\n\t\t\t\t\"default\": false\r\n\t\t\t},\r\n\t\t\t\"title\": {\r\n\t\t\t\t\"title\": \"{{tileTitle}}\",\r\n\t\t\t\t\"description\": \"{{tileDescription}}\",\r\n\t\t\t\t\"type\": \"object\"\r\n\t\t\t},\r\n\t\t\t\"titleBarIcon\": {\r\n\t\t\t\t\"title\": \"{{headerIconTitle}}\",\r\n\t\t\t\t\"description\": \"{{headerIconDescription}}\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t\"behavior\": {\r\n\t\t\t\t\"type\": \"object\",\r\n\t\t\t\t\"title\": \"{{behaviorTitle}}\",\r\n\t\t\t\t\"description\": \"{{behaviorDescription}}\",\r\n\t\t\t\t\"properties\": {\r\n\t\t\t\t\t\"auto_cycle\": {\r\n\t\t\t\t\t\t\"title\": \"{{cycleTitle}}\",\r\n\t\t\t\t\t\t\"description\": \"{{cycleDescription}}\",\r\n\t\t\t\t\t\t\"type\": \"boolean\",\r\n\t\t\t\t\t\t\"enum\": [\r\n\t\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\"default\": true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"interval\": {\r\n\t\t\t\t\t\t\"title\": \"{{intervalTitle}}\",\r\n\t\t\t\t\t\t\"description\": \"{{intervalDescription}}\",\r\n\t\t\t\t\t\t\"type\": \"integer\",\r\n\t\t\t\t\t\t\"default\": 5000\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"pause_on_hover\": {\r\n\t\t\t\t\t\t\"title\": \"{{hoverTitle}}\",\r\n\t\t\t\t\t\t\"description\": \"{{hoverDescription}}\",\r\n\t\t\t\t\t\t\"type\": \"boolean\",\r\n\t\t\t\t\t\t\"enum\": [\r\n\t\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\"default\": true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"wrap\": {\r\n\t\t\t\t\t\t\"title\": \"{{loopTitle}}\",\r\n\t\t\t\t\t\t\"description\": \"{{loopDescription}}\",\r\n\t\t\t\t\t\t\"type\": \"boolean\",\r\n\t\t\t\t\t\t\"enum\": [\r\n\t\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\"default\": true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t\"widgets\": {\r\n\t\t\t\t\"type\": \"widgetarray\",\r\n\t\t\t\t\"title\": \"{{childTitle}}\",\r\n\t\t\t\t\"description\": \"{{childDescription}}\"\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\"options\": {\r\n\t\t\"fields\": {\r\n\t\t\t\"title\": {\r\n\t\t\t\t\"type\": \"otcs_multilingual_string\"\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\n\n","csui.define('webreports/widgets/widget.carousel/impl/nls/widget.carousel.manifest',{\r\n\t// Always load the root bundle for the default locale (en-us)\r\n\t\"root\": true,\r\n\t// Do not load English locale bundle provided by the root bundle\r\n\t\"en-us\": false,\r\n\t\"en\": false\r\n});\r\n\n","csui.define('webreports/widgets/widget.carousel/impl/nls/root/widget.carousel.manifest',{\r\n\t\"widgetTitle\": \"Widget Carousel\",\r\n\t\"widgetDescription\": \"This widget cycles through up to 10 slides, each of which can contain a different child widget from the Content Server WebReports widget group.\",\r\n\t\"headerTitle\": \"Show header\",\r\n\t\"headerDescription\": \"Select whether the tile will include a header that contains the title and title icon.\",\r\n\t\"tileTitle\": \"Title\",\r\n\t\"tileDescription\": \"Enter the title for the Widget Carousel.\",\r\n\t\"headerIconTitle\": \"Icon class\",\r\n\t\"headerIconDescription\": \"Enter the CSS class for the icon that will appear in the header.\",\r\n\t\"behaviorTitle\": \"Behavior\",\r\n\t\"behaviorDescription\": \"Control how the Widget Carousel behaves.\",\r\n\t\"cycleTitle\": \"Cycle automatically\",\r\n\t\"cycleDescription\": \"Select whether the Carousel rotates through the slides after loading or waits for the user to click navigation.\",\r\n\t\"intervalTitle\": \"Interval\",\r\n\t\"intervalDescription\": \"If cycling, the time in milliseconds that each slide appears before advancing to the next one.\",\r\n\t\"hoverTitle\": \"Pause on hover\",\r\n\t\"hoverDescription\": \"If cycling, select whether the slides stop advancing when the user points to the current slide or continue advancing regardless of the cursor position.\",\r\n\t\"loopTitle\": \"Loop\",\r\n\t\"loopDescription\": \"If cycling, select whether slides rotate in an endless loop or only appear once.\",\r\n\t\"childTitle\": \"Child widgets\",\r\n\t\"childDescription\": \"Add up to 10 slides, in order, by dragging a child widget from the Content Server WebReports widget group to the Child Widget Drop Area. Click each child widget to configure its options. \"\r\n});\r\n\r\n\n","\n","csui.define('webreports/utils/table.validate',[\r\n    'module',\r\n    'csui/lib/underscore'\r\n], function (module, _) {\r\n\r\n    var config = module.config();\r\n    _.defaults(config, {\r\n        defaultPageSize: 30,\r\n        defaultPageSizeOptions: [30, 50, 100],\r\n        maxPageSize: 100\r\n    });\r\n\r\n    var tableValidate = _.extend({\r\n\r\n        checkPageSize: function (pageSize, pageSizeOptions) {\r\n\r\n            //if pageSize provided but no pageSizeOptions, default pageSizeOptions are used\r\n            if (pageSize && !pageSizeOptions) {\r\n                pageSizeOptions = config.defaultPageSizeOptions;\r\n            }\r\n\r\n            // check to ensure pageSize falls within available pageSizeOptions\r\n            if (_.contains(pageSizeOptions, pageSize)) {\r\n                return pageSize;\r\n            }\r\n            else {\r\n                pageSize = config.defaultPageSize;\r\n            }\r\n            return pageSize;\r\n        },\r\n\r\n        checkPageSizeOptions: function (pageSizeOptions, pageSize) {\r\n            \r\n            //if pageSize provided but no pageSizeOptions, default pageSizeOptions are used\r\n            if (pageSizeOptions && !pageSize) {\r\n                pageSizeOptions = config.defaultPageSizeOptions;\r\n            }\r\n\r\n            //limit pageSizeOptions parameter to fall between 1 and the maxPageSize value\r\n            pageSizeOptions = _.reject(pageSizeOptions, function (num) {\r\n                return num < 1 || num > config.maxPageSize;\r\n            });\r\n\r\n            //verify that the provided pageSize value is contained within the pageSizeOptions array\r\n            if (_.contains(pageSizeOptions, pageSize)) {\r\n                return pageSizeOptions;\r\n            }\r\n            else {\r\n                pageSizeOptions = config.defaultPageSizeOptions;\r\n            }\r\n            return pageSizeOptions;\r\n        }\r\n\r\n    });\r\n\r\n    return tableValidate;\r\n});\r\n\n","csui.define('webreports/models/tablereport/tablereport.model',['module', 'csui/lib/underscore', 'csui/lib/backbone', 'webreports/utils/url.webreports', 'webreports/utils/table.validate',\r\n\t'csui/models/nodechildrencolumn', 'csui/models/nodechildrencolumns', 'csui/models/node/node.model',\r\n\t'csui/models/mixins/connectable/connectable.mixin', 'csui/models/mixins/fetchable/fetchable.mixin',\r\n\t'csui/models/browsable/browsable.mixin', 'csui/models/browsable/v1.request.mixin', 'csui/models/browsable/v2.response.mixin'\r\n], function (module, _, Backbone, UrlWebReports, tableValidate, NodeChildrenColumnModel, NodeChildrenColumnCollection, NodeModel,\r\n\tConnectableMixin, FetchableMixin, BrowsableMixin, BrowsableV1RequestMixin, BrowsableV2ResponseMixin) {\r\n\r\n\tvar TableReportColumnModel = Backbone.Model.extend({\r\n\r\n\t\tidAttribute: \"column_key\",\r\n\r\n\t\tconstructor: function TableReportColumnModel(attributes, options) {\r\n\r\n\t\t\tBackbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tvar TableReportColumnCollection = Backbone.Collection.extend({\r\n\r\n\t\tmodel: TableReportColumnModel,\r\n\r\n\t\tconstructor: function TableReportColumnCollection(models, options) {\r\n\r\n\t\t\tBackbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n\t\t}\r\n\t});\r\n\r\n\tvar TableReportCollection = Backbone.Collection.extend({\r\n\r\n\t\t// Constructor gives an explicit name to the object in the debugger\r\n\t\tconstructor: function TableReportCollection(attributes, options) {\r\n\r\n\t\t\tBackbone.Collection.prototype.constructor.apply(this, arguments);\r\n\t\t\tthis.columns = new TableReportColumnCollection();\r\n\r\n\t\t\t//validate pageSize and pageSizeOption values\r\n\t\t\tif (options.data.pageSize || options.data.pageSizeOptions) {\r\n\t\t\t\toptions.data.pageSize = tableValidate.checkPageSize(options.data.pageSize, options.data.pageSizeOptions);\r\n\t\t\t\toptions.data.pageSizeOptions = tableValidate.checkPageSizeOptions(options.data.pageSizeOptions, options.data.pageSize);\r\n\t\t\t}\r\n\r\n\t\t\tif (options.data.sortBy && options.data.sortOrder) {\r\n\t\t\t\t// Direct calls to the model by the SDK won't have the orderBy in the options.\r\n\t\t\t\tif (!options.data.orderBy) {\r\n\t\t\t\t\toptions.data.orderBy = options.data.sortBy + \" \" + options.data.sortOrder;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// This is needed for the mixins to process sorting correctly.\r\n\t\t\t\toptions.orderBy = options.data.sortBy + \" \" + options.data.sortOrder;\r\n\t\t\t}\r\n\r\n\t\t\tthis.orderBy = options.data.orderBy;\r\n\t\t\tthis.options = options;\r\n\r\n\t\t\t// Enable this model for communication with the CS REST API\r\n\t\t\tthis.makeConnectable(options)\r\n\t\t\t\t.makeBrowsable(options)\r\n\t\t\t\t.makeBrowsableV1Request(options)\r\n\t\t\t\t.makeBrowsableV2Response(options)\r\n\t\t\t\t.makeFetchable(options);\r\n\t\t},\r\n\t\turl: function () {\r\n\t\t\tvar query = '',\r\n\t\t\t\tcontext = this.options.context || undefined,\r\n\t\t\t\tparameters = this.options.data.parameters || undefined;\r\n\r\n\t\t\tquery = UrlWebReports.combineQueryString(\r\n\t\t\t\tquery,\r\n\t\t\t\tthis.getBrowsableUrlQuery()\r\n\t\t\t);\r\n\r\n\t\t\t// Append any WebReport parameters to the RestURL if present\r\n\t\t\tquery = UrlWebReports.appendWebReportParameters(query, parameters);\r\n\r\n\t\t\t// Append the containerID parameter to the RestURL if present\r\n\t\t\tquery = UrlWebReports.appendCurrentContainer(query, context);\r\n\r\n\t\t\t// Append the SWRCellID parameter to the RestURL if present\r\n\t\t\tquery = UrlWebReports.appendSWRCellID(query, this.options);\r\n\r\n\t\t\treturn UrlWebReports.combine(this.connector.connection.url + '/nodes/' + this.options.data.id,\r\n\t\t\t\tquery ? '/output?format=webreport&' + query : '/output?format=webreport');\r\n\t\t},\r\n\r\n\t\tparse: function (response) {\r\n\r\n\t\t\tthis.parseBrowsedState(response, this.options);\r\n\r\n\t\t\tthis.columns.reset(this._processColumns(response));\r\n\t\t\treturn response.data;\r\n\t\t},\r\n\r\n\t\t_processColumns: function (response) {\r\n\r\n\t\t\tvar firstSortableColumn;\r\n\r\n\t\t\t// If no default sort column has been set, set this based on the first sortable column from the server\r\n\t\t\tif (this.orderBy === \"\") {\r\n\t\t\t\tfirstSortableColumn = _.findWhere(response.columns, { sort: true });\r\n\t\t\t\tif (!_.isUndefined(firstSortableColumn)) {\r\n\t\t\t\t\tthis.orderBy = firstSortableColumn.column_key + \" ASC\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn _.map(response.columns, _.bind(function (column) {\r\n\r\n\t\t\t\tvar options,\r\n\t\t\t\t\tswrLaunchCell;\r\n\r\n\t\t\t\tif (column.name_formatted && column.name_formatted !== \"\") {\r\n\t\t\t\t\tcolumn.name = column.name_formatted;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (column.column_key === 'subwebreportid') {\r\n\t\t\t\t\toptions = this.options;\r\n\t\t\t\t\tif (options && options.data && options.data.swrLaunchCell) {\r\n\t\t\t\t\t\tswrLaunchCell = options.data.swrLaunchCell;\r\n\t\t\t\t\t\tif (swrLaunchCell.iconClass) {\r\n\t\t\t\t\t\t\tcolumn.iconClass = swrLaunchCell.iconClass;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (swrLaunchCell.hoverText) {\r\n\t\t\t\t\t\t\tcolumn.hoverText = swrLaunchCell.hoverText;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn column;\r\n\r\n\t\t\t}, this));\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tBrowsableMixin.mixin(TableReportCollection.prototype);\r\n\tConnectableMixin.mixin(TableReportCollection.prototype);\r\n\tBrowsableV1RequestMixin.mixin(TableReportCollection.prototype);\r\n\tBrowsableV2ResponseMixin.mixin(TableReportCollection.prototype);\r\n\tFetchableMixin.mixin(TableReportCollection.prototype);\r\n\r\n\tvar originalSetFilter = TableReportCollection.prototype.setFilter;\r\n\r\n\tTableReportCollection.prototype.setFilter = function (value, attributes, options) {\r\n\r\n\t\t// If the filter has changed, reset the skipCount so the page reverts to 1.\r\n\t\tthis.skipCount = 0;\r\n\r\n\t\treturn originalSetFilter.apply(this, [value, attributes, options]);\r\n\t};\r\n\r\n\treturn TableReportCollection;\r\n\r\n});\r\n\n","csui.define('webreports/utils/contexts/factories/table.report.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'webreports/models/tablereport/tablereport.model','csui/utils/contexts/factories/node'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory, TableReportCollection) {\r\n\r\n  var TableReportCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'tablereport',\r\n\r\n    constructor: function TableReportCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      // Obtain the server connector from the application context to share\r\n      // the server connection with the rest of the application; include\r\n      // the options, which can contain settings for dependent factories\r\n\r\n      var connector = context.getObject(ConnectorFactory, options);\r\n      options.connector = connector;\r\n      var tablereport = this.options.tablereport || {};\r\n\r\n      if (!(tablereport instanceof Backbone.Collection)) {\r\n        var config = module.config();\r\n        tablereport = new TableReportCollection(tablereport.models, _.extend({\r\n        connector: connector}, tablereport.attributes, config.options, {\r\n          // Prefer refreshing the entire table to rendering one row after another.\r\n          autoreset: true\r\n        }));\r\n      }\r\n      this.property = tablereport;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  return TableReportCollectionFactory;\r\n\r\n});\r\n\n","csui.define('webreports/controls/table.report/impl/table.report.columns',[\"csui/lib/backbone\"], function (Backbone) {\r\n\tvar TableColumnModel = Backbone.Model.extend({\r\n\r\n\t\tidAttribute: \"key\",\r\n\r\n\t\tdefaults: {\r\n\t\t\tkey: null,  // key from the resource definitions\r\n\t\t\tsequence: 0 // smaller number moves the column to the front\r\n\t\t}\r\n\r\n\t});\r\n\tvar TableColumnCollection = Backbone.Collection.extend({\r\n\r\n\t\tmodel: TableColumnModel,\r\n\t\tcomparator: \"sequence\"\r\n\r\n\t});\r\n\tvar\ttableColumns = new TableColumnCollection();\r\n\treturn tableColumns;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!webreports/controls/table.report/impl/table.report',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"    <div class=\\\"tile-header\\\">\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.icon : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.program(4, data, 0)})) != null ? stack1 : \"\")\n    + \"\\r\\n        <div class=\\\"tile-title\\\">\\r\\n             <h2 class=\\\"csui-heading\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"</h2>\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\";\n},\"2\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"            <div class=\\\"tile-type-icon\\\">\\r\\n                <span class=\\\"icon \"\n    + this.escapeExpression(((helper = (helper = helpers.icon || (depth0 != null ? depth0.icon : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"icon\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-hidden=\\\"true\\\"></span>\\r\\n            </div>\\r\\n\";\n},\"4\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.imageUrl : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(5, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"5\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"                <div class=\\\"tile-type-image \"\n    + this.escapeExpression(((helper = (helper = helpers.imageClass || (depth0 != null ? depth0.imageClass : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"imageClass\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n                    <img src=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.imageUrl || (depth0 != null ? depth0.imageUrl : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"imageUrl\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-hidden=\\\"true\\\">\\r\\n                </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.header : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n<div class=\\\"webreports-tablereport-view\\\">\\r\\n    <div id=\\\"tableview\\\"></div>\\r\\n    <div id=\\\"paginationview\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('webreports_controls_table.report_impl_table.report', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('webreports/controls/table.report/impl/nls/table.report.lang',{\r\n    // Always load the root bundle for the default locale (en-us)\r\n    \"root\": true,\r\n    // Do not load English locale bundle provided by the root bundle\r\n    \"en-us\": false,\r\n    \"en\": false\r\n});\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('webreports/controls/table.report/impl/nls/root/table.report.lang',{\r\n    dialogTitle: 'Table Report'\r\n});\r\n\n","\ncsui.define('css!webreports/controls/table.report/impl/table.report',[],function(){});\n","csui.define('webreports/controls/table.report/table.report.view',['csui/lib/underscore','csui/lib/handlebars', 'csui/lib/marionette',\r\n\t'csui/utils/contexts/factories/connector',\r\n\t'csui/controls/table/table.view',\r\n\t'csui/controls/pagination/nodespagination.view',\r\n    'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n\t'webreports/utils/contexts/factories/table.report.factory',\r\n\t'webreports/utils/table.validate',\r\n\t'webreports/controls/table.report/impl/table.report.columns',\r\n\t'hbs!webreports/controls/table.report/impl/table.report',\r\n    'i18n!webreports/controls/table.report/impl/nls/table.report.lang',\r\n    'css!webreports/controls/table.report/impl/table.report',\r\n    'css!webreports/style/webreports.css'\r\n], function (_, Handlebars, Marionette, ConnectorFactory, TableView, PaginationView, LayoutViewEventsPropagationMixin, TableReportCollectionFactory, tableValidate, TableColumns, template, lang) {\r\n\t\"use strict\";\r\n\r\n\tvar TableReportView = Marionette.LayoutView.extend({\r\n\r\n\t\ttemplate: template,\r\n\r\n\t\tregions: {\r\n\t\t\ttableRegion: '#tableview',\r\n\t\t\tpaginationRegion: '#paginationview'\r\n\t\t},\r\n\r\n\r\n\t\tconstructor: function TableLayoutView(options) {\r\n\r\n\t\t\tif(_.has(options.data, \"columnsWithSearch\")){\r\n\t\t\t\tif(typeof options.data.columnsWithSearch === \"string\") {\r\n\r\n\t\t\t\t\toptions.data.columnsWithSearch = [options.data.columnsWithSearch];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n            if (options.data.sortBy && options.data.sortOrder) {\r\n                options.data.orderBy = options.data.sortBy + \" \" + options.data.sortOrder;\r\n            }\r\n\r\n\t\t\tif (!this.options.tableColumns){\r\n                this.options.tableColumns = TableColumns;\r\n\t\t\t}\r\n\r\n            // Set the title bar icon for the control.\r\n            options.data.titleBarIcon = ( _.has(options.data, 'titleBarIcon')) ? 'title-icon '+ options.data.titleBarIcon : 'title-icon title-webreports';\r\n\r\n\r\n\t\t\tMarionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n            // Ensure regions correctly respond to any actions show callbacks when called against the layout view\r\n            this.propagateEventsToRegions();\r\n\r\n\t\t},\r\n\r\n\t\tinitialize: function(){\r\n\t\t\tthis.collection = this.options.collection ||\r\n\t\t\t\tthis.options.context.getCollection(TableReportCollectionFactory, {attributes: this.options});\r\n\t\t\tthis.columns = this.options.context.getCollection(TableReportCollectionFactory, {attributes: this.options});\r\n\r\n\t\t},\r\n\r\n\t\tonRender: function () {\r\n\r\n\r\n\t\t\tif (this.collection) {\r\n\t\t\t\tthis.tableView = new TableView({\r\n\t\t\t\t\tcontext: this.options.context,\r\n\t\t\t\t\tconnector: this.options.context.getObject(ConnectorFactory),\r\n\t\t\t\t\tcollection: this.collection,\r\n\t\t\t\t\tcolumns: this.collection.columns,\r\n\t\t\t\t\ttableColumns: this.options.tableColumns,\r\n\t\t\t\t\tselectRows: this.options.data.selectRows || 'none',\r\n\t\t\t\t\tcolumnsWithSearch: this.options.data.columnsWithSearch || [],\r\n\t\t\t\t\torderBy: this.options.data.orderBy || '',\r\n\t\t\t\t\tselectColumn: false\r\n\t\t\t\t});\r\n\t\t\t\tthis.setPagination();\r\n\r\n\t\t\t} else if (this.tableView) {\r\n\t\t\t\tthis.stopListening(this.tableView);\r\n\t\t\t\tdelete this.tableView;\r\n\t\t\t}\r\n\r\n\t\t\tthis.tableRegion.show(this.tableView);\r\n\t\t\tthis.paginationRegion.show(this.paginationView);\r\n\r\n\r\n\t\t},\r\n\r\n        templateHelpers: function () {\r\n            var helpers = {\r\n                title: this.options.data.title || lang.dialogTitle,\r\n                icon: this.options.data.titleBarIcon || 'title-webreports'\r\n            };\r\n\r\n            // Check if the header is disabled using `header: false` in the options.\r\n            if (this.options.data.header !== false){\r\n                _.extend(helpers,{header: true});\r\n            }\r\n\r\n            return helpers;\r\n        },\r\n\r\n\t\tsetPagination: function () {\r\n\r\n\t\t\tvar pageSize = tableValidate.checkPageSize(this.options.data.pageSize, this.options.data.pageSizeOptions);\r\n\t\t\tvar pageSizeOptions = tableValidate.checkPageSizeOptions(this.options.data.pageSizeOptions, pageSize);\r\n\r\n\t\t\tthis.paginationView = new PaginationView({\r\n\t\t\t\tcollection: this.collection,\r\n\t\t\t\tdefaultDDList: pageSizeOptions,\r\n\t\t\t\tpageSize: pageSize\r\n\t\t\t});\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\t});\r\n\r\n    _.extend(TableReportView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n\treturn TableReportView;\r\n});\r\n\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('webreports/widgets/table.report/impl/nls/table.report.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('webreports/widgets/table.report/impl/nls/root/table.report.lang',{\r\n  dialogTitle: 'Table Report'\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!webreports/widgets/table.report/impl/table.report.tile',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"        <div class=\\\"tile-type-icon\\\">\\r\\n            <span class=\\\"icon title-icon \"\n    + this.escapeExpression(((helper = (helper = helpers.icon || (depth0 != null ? depth0.icon : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"icon\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-hidden=\\\"true\\\"></span>\\r\\n        </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"tile-header\\\">\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.icon : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n    <div class=\\\"tile-title\\\">\\r\\n        <h2 class=\\\"csui-heading\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"</h2>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"tile-controls\\\"></div>\\r\\n\\r\\n</div>\\r\\n\\r\\n<div class=\\\"tile-content\\\"></div>\\r\\n\\r\\n<div class=\\\"tile-footer\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('webreports_widgets_table.report_impl_table.report.tile', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('webreports/widgets/table.report/table.report.view',[\r\n\t'csui/lib/underscore',\r\n\t'csui/controls/tile/tile.view',\r\n\t'webreports/controls/table.report/table.report.view',\r\n\t'webreports/controls/nodestablereport/nodestablereport.view',\r\n\t'i18n!webreports/widgets/table.report/impl/nls/table.report.lang',\r\n\t'hbs!webreports/widgets/table.report/impl/table.report.tile',\r\n\t'css!webreports/style/webreports.css'\r\n], function (_, TileView, TableReportView, NodesTableReportView, lang, template) {\r\n\r\n\tvar TableReportTileView = TileView.extend({\r\n\r\n\t\tcontentView: TableReportView,\r\n\r\n\t\ttemplate: template,\r\n\r\n\t\tconstructor: function TableReportTileView(options) {\r\n\r\n\t\t\tif (options.data){\r\n\t\t\t\t// Since we're rendering a header in the tile we don't need it in the table controls\r\n                options.data.header = false;\r\n\r\n                if (options.data.sortBy && options.data.sortOrder) {\r\n                \toptions.data.orderBy = options.data.sortBy + \" \" + options.data.sortOrder;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// These options are checked and loaded in the _renderContentView function of TileView\r\n\t\t\t// before show is called for the view.\r\n\t\t\tthis.contentViewOptions = options;\r\n\r\n\t\t\t// Call the parent constructor to ensure the object is built with all the inherited features.\r\n\t\t\tTileView.prototype.constructor.apply(this, arguments);\r\n\t\t},\r\n\r\n\t\ttemplateHelpers: function () {\r\n\r\n\t\t\tvar helpers = {\r\n\t\t\t\ttitle: this.options.data.title || lang.dialogTitle,\r\n\t\t\t\ticon: this.options.data.titleBarIcon || 'title-webreports'\r\n\t\t\t};\r\n\r\n\t\t\treturn helpers;\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n\treturn TableReportTileView;\r\n\r\n});\r\n\n","\ncsui.define('json!webreports/widgets/table.report/table.report.manifest.json',{\r\n\t\"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n\t\"title\": \"{{widgetTitle}}\",\r\n\t\"description\": \"{{widgetDescription}}\",\r\n\t\"kind\": \"fullpage\",\r\n\t\"supportedKinds\": [\r\n\t\t\"fullpage\"\r\n\t],\r\n\t\"schema\": {\r\n\t\t\"type\": \"object\",\r\n\t\t\"properties\": {\r\n\t\t\t\"title\": {\r\n\t\t\t\t\"title\": \"{{tileTitle}}\",\r\n\t\t\t\t\"description\": \"{{tileDescription}}\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t\"id\": {\r\n\t\t\t\t\"title\": \"{{sourceTitle}}\",\r\n\t\t\t\t\"description\": \"{{sourceDescription}}\",\r\n\t\t\t\t\"type\": \"integer\"\r\n\t\t\t},\r\n\t\t\t\"titleBarIcon\": {\r\n\t\t\t\t\"title\": \"{{headerIconTitle}}\",\r\n\t\t\t\t\"description\": \"{{headerIconDescription}}\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t\"columnsWithSearch\": {\r\n\t\t\t\t\t\"title\": \"{{columnFilterTitle}}\",\r\n\t\t\t\t\t\"description\": \"{{columnFilterDescription}}\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t\"sortBy\": {\r\n\t\t\t\t\"title\": \"{{sortTitle}}\",\r\n\t\t\t\t\"description\": \"{{sortDescription}}\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t\"sortOrder\": {\r\n\t\t\t\t\"title\": \"{{directionTitle}}\",\r\n\t\t\t\t\"description\": \"{{directionDescription}}\",\r\n\t\t\t\t\"type\": \"string\",\r\n\t\t\t\t\"enum\": [\"desc\",\"asc\"],\r\n\t\t\t\t\"default\": \"desc\"\r\n\t\t\t},\r\n\t\t\t\"pageSize\": {\r\n\t\t\t\t\"title\": \"{{pageSizeTitle}}\",\r\n\t\t\t\t\"description\": \"{{pageSizeDescription}}\",\r\n\t\t\t\t\"type\": \"integer\",\r\n\t\t\t\t\"enum\": \"pageSizeOptions\",\r\n\t\t\t\t\"default\": 30\r\n\t\t\t},\r\n\t\t\t\"pageSizeOptions\": {\r\n\t\t\t\t\"title\": \"{{pageSizeOptionsTitle}}\",\r\n\t\t\t\t\"description\": \"{{pageSizeOptionsDescription}}\",\r\n\t\t\t\t\"type\": \"array\",\r\n\t\t\t\t\"default\": [30, 50, 100]\r\n\t\t\t},\r\n\t\t\t\"swrLaunchCell\": {\r\n\t\t\t\t\"type\": \"object\",\r\n\t\t\t\t\"title\": \"{{swrLaunchCellTitle}}\",\r\n\t\t\t\t\"description\": \"{{swrLaunchCellDescription}}\",\r\n\t\t\t\t\"properties\": {\r\n\t\t\t\t\t\"id\": {\r\n\t\t\t\t\t\t\"title\": \"{{swrLaunchCellIDTitle}}\",\r\n\t\t\t\t\t\t\"description\": \"{{swrLaunchCellIDDescription}}\",\r\n\t\t\t\t\t\t\"type\": \"integer\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"iconClass\": {\r\n\t\t\t\t\t\t\"title\": \"{{swrLaunchCellIconClassTitle}}\",\r\n\t\t\t\t\t\t\"description\": \"{{swrLaunchCellIconClassDescription}}\",\r\n\t\t\t\t\t\t\"type\": \"string\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"hoverText\": {\r\n\t\t\t\t\t\t\"title\": \"{{swrLaunchCellHoverTextTitle}}\",\r\n\t\t\t\t\t\t\"description\": \"{{swrLaunchCellHoverTextDescription}}\",\r\n\t\t\t\t\t\t\"type\": \"string\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"parameters\": {\r\n\t\t\t\t\"type\": \"array\",\r\n\t\t\t\t\"title\": \"{{parametersArrayTitle}}\",\r\n\t\t\t\t\"description\": \"{{parametersArrayDescription}}\",\r\n\t\t\t\t\"items\": {\r\n\t\t\t\t\t\"type\": \"object\",\r\n\t\t\t\t\t\"title\": \"{{parameterObjectTitle}}\",\r\n\t\t\t\t\t\"description\": \"{{parameterObjectDescription}}\",\r\n\t\t\t\t\t\"properties\": {\r\n\t\t\t\t\t\t\"name\": {\r\n\t\t\t\t\t\t\t\"type\": \"string\",\r\n\t\t\t\t\t\t\t\"title\": \"{{parameterNameTitle}}\",\r\n\t\t\t\t\t\t\t\"description\": \"{{parameterNameDescription}}\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"value\": {\r\n\t\t\t\t\t\t\t\"type\": \"string\",\r\n\t\t\t\t\t\t\t\"title\": \"{{parameterValueTitle}}\",\r\n\t\t\t\t\t\t\t\"description\": \"{{parameterValueDescription}}\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\"required\": [\"id\", \"sortBy\", \"sortOrder\" ],\r\n\t\"options\": {\r\n\t\t\"fields\": {\r\n\t\t\t\"id\": {\r\n\t\t\t\t\"type\": \"otcs_node_picker\",\r\n\t\t\t\t\"type_control\": {\r\n\t\t\t\t\t\"parameters\": {\r\n\t\t\t\t\t\t\"select_types\": [\r\n\t\t\t\t\t\t\t30303\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"sortOrder\": {\r\n\t\t\t\t\"type\": \"select\",\r\n\t\t\t\t\"optionLabels\": [\"{{optionsSortOrderDsc}}\", \"{{optionsSortOrderAsc}}\"]\r\n\t\t\t},\r\n\t\t\t\"swrLaunchCell\": {\r\n\t\t\t\t\"fields\": {\r\n\t\t\t\t\t\"id\": {\r\n\t\t\t\t\t\t\"type\": \"otcs_node_picker\",\r\n\t\t\t\t\t\t\"type_control\": {\r\n\t\t\t\t\t\t\t\"parameters\": {\r\n\t\t\t\t\t\t\t\t\"select_types\": [30303]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\n\n","csui.define('webreports/widgets/table.report/impl/nls/table.report.manifest',{\r\n\t// Always load the root bundle for the default locale (en-us)\r\n\t\"root\": true,\r\n\t// Do not load English locale bundle provided by the root bundle\r\n\t\"en-us\": false,\r\n\t\"en\": false\r\n});\r\n\n","csui.define('webreports/widgets/table.report/impl/nls/root/table.report.manifest',{\r\n\t\"widgetTitle\": \"Table Report\",\r\n\t\"widgetDescription\": \"This basic widget will take information from various sources and organize them into a table format\",\r\n\t\"tileTitle\": \"Title\",\r\n\t\"tileDescription\": \"Enter the title for the Table Report\",\r\n\t\"sourceTitle\": \"Source WebReport\",\r\n\t\"sourceDescription\": \"Browse to select the WebReport that retrieves the data that you want to render as a table\",\r\n\t\"headerIconTitle\": \"Icon class\",\r\n\t\"headerIconDescription\": \"Enter the CSS class for the icon that will appear in the header\",\r\n\t\"columnFilterTitle\": \"Name of searchable column\",\r\n\t\"columnFilterDescription\": \"Enter the name for the column that allows searching in the table header\",\r\n    \"optionsSortOrderDsc\": \"Descending\",\r\n    \"optionsSortOrderAsc\": \"Ascending\",\r\n    \"directionTitle\": \"Sort Direction\",\r\n    \"directionDescription\": \"Select whether to sort the column in Ascending or Descending order\",\r\n\t\"pageSizeTitle\": \"Page Size\",\r\n\t\"pageSizeDescription\": \"Set the number of objects that will be returned per page.\",\r\n\t\"pageSizeOptionsTitle\": \"Page Size Options\",\r\n\t\"pageSizeOptionsDescription\": \"Sets the available page size options\",\r\n\t\"sortTitle\": \"Sort By\",\r\n    \"sortDescription\": \"Enter the column name of the default sort column\",\r\n    \"swrLaunchCellTitle\": \"Launch WebReport Column\",\r\n\t\"swrLaunchCellDescription\": \"Show an icon in a table column to launch a WebReport\",\r\n\t\"swrLaunchCellIDTitle\":\"Icon WebReport ID\",\r\n\t\"swrLaunchCellIDDescription\":\"The ID of the WebReport that will launch when the icon is clicked\",\r\n\t\"swrLaunchCellIconClassTitle\":\"Icon Class\",\r\n\t\"swrLaunchCellIconClassDescription\":\"A CSS class to apply to the icon. Allows a custom icon to be defined\",\r\n\t\"swrLaunchCellHoverTextTitle\":\"Icon Hover Text\",\r\n\t\"swrLaunchCellHoverTextDescription\":\"Specify custom hover text to show when loading the icon\",\r\n    \"parametersArrayTitle\": \"Source Parameters\",\r\n    \"parametersArrayDescription\": \"Specify one or more Key/Value pairs of parameters to pass into the Source WebReport, as required\",\r\n    \"parameterObjectTitle\": \"Source Parameters\",\r\n    \"parameterObjectDescription\": \"Specify one or more Key/Value pairs of parameters to pass into the Source WebReport, as required\",\r\n    \"parameterNameTitle\": \"Parameter Name\",\r\n    \"parameterNameDescription\": \"The name of the URL parameter\",\r\n    \"parameterValueTitle\": \"Parameter Value\",\r\n    \"parameterValueDescription\": \"The value of the URL parameter\"\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!webreports/widgets/parameter.prompt.form/impl/header/parameter.prompt.header',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\t\t<span class=\\\"icon arrow_back cs-go-back\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.go_back_tooltip || (depth0 != null ? depth0.go_back_tooltip : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"go_back_tooltip\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"link\\\"></span>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"csui-title-container\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.back_button : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\t<span id=\\\"\\\" class=\\\"title\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.webreport_name || (depth0 != null ? depth0.webreport_name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"webreport_name\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('webreports_widgets_parameter.prompt.form_impl_header_parameter.prompt.header', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('webreports/widgets/parameter.prompt.form/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('webreports/widgets/parameter.prompt.form/impl/nls/root/lang',{\r\n  goBackTooltip: 'Go back',\r\n  runWebReport: \"Run WebReport\",\r\n  cancel: \"Cancel\"\r\n});\r\n\n","\ncsui.define('css!webreports/widgets/parameter.prompt.form/impl/header/parameter.prompt.header',[],function(){});\n","csui.define('webreports/widgets/parameter.prompt.form/impl/header/parameter.prompt.header.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/lib/marionette',\r\n\t'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n\t'hbs!webreports/widgets/parameter.prompt.form/impl/header/parameter.prompt.header',\r\n\t'i18n!webreports/widgets/parameter.prompt.form/impl/nls/lang',\r\n\t'css!webreports/widgets/parameter.prompt.form/impl/header/parameter.prompt.header'\r\n], function (_, $, Backbone, Marionette, ViewEventsPropagationMixin,\r\n\t\t\t template, lang) {\r\n\r\n\tvar PromptHeaderView = Marionette.ItemView.extend({\r\n\r\n\t\tclassName: 'webreport-parameter-prompt-header',\r\n\r\n\t\ttemplate: template,\r\n\r\n\t\tui: {\r\n\t\t\tbackArrow: '.cs-go-back'\r\n\t\t},\r\n\r\n\t\ttriggers: {\r\n\t\t\t\"click @ui.backArrow\": \"onClickBackArrow\"\r\n\t\t},\r\n\r\n\t\tconstructor: function PromptHeaderView(options) {\r\n\t\t\toptions || (options = {});\r\n\t\t\tthis.options = options;\r\n\r\n\t\t\tMarionette.ItemView.prototype.constructor.call(this, options);\r\n\r\n\t\t},\r\n\r\n\t\ttemplateHelpers: function () {\r\n\t\t\t\r\n\t\t\tvar model = (_.has( this.model, \"models\")) ? this.model.models[0] : this.model,\r\n\t\t\t\tshowBackIcon = ( _.has(this.options, \"showBackIcon\") ) ? this.options.showBackIcon : true;\r\n\r\n\t\t\treturn {\r\n\t\t\t\twebreport_name: model.get(\"name\"),\r\n\t\t\t\tgo_back_tooltip: lang.goBackTooltip,\r\n\t\t\t\tback_button: showBackIcon\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tonClickHeader: function (event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopPropagation();\r\n\t\t}\r\n\t});\r\n\r\n\treturn PromptHeaderView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!webreports/widgets/parameter.prompt.form/impl/footer/parameter.prompt.footer',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<button type=\\\"button\\\" class=\\\"binf-btn binf-btn-primary submitWR\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.runWebReport || (depth0 != null ? depth0.runWebReport : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"runWebReport\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n<button type=\\\"button\\\" class=\\\"binf-btn binf-btn-secondary cancelWR\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.cancel || (depth0 != null ? depth0.cancel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancel\",\"hash\":{}}) : helper)))\n    + \"</button>\";\n}});\nHandlebars.registerPartial('webreports_widgets_parameter.prompt.form_impl_footer_parameter.prompt.footer', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!webreports/widgets/parameter.prompt.form/impl/footer/parameter.prompt.footer',[],function(){});\n","csui.define('webreports/widgets/parameter.prompt.form/impl/footer/parameter.prompt.footer.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/lib/marionette',\r\n\t'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n\t'csui/utils/commands',\r\n\t'hbs!webreports/widgets/parameter.prompt.form/impl/footer/parameter.prompt.footer',\r\n\t'i18n!webreports/widgets/parameter.prompt.form/impl/nls/lang',\r\n\t'css!webreports/widgets/parameter.prompt.form/impl/footer/parameter.prompt.footer'\r\n], function (_, $, Backbone, Marionette, ViewEventsPropagationMixin,\r\n\t\t\t Commands,\r\n\t\t\t  template, lang) {\r\n\r\n\tvar PromptFooterView = Marionette.ItemView.extend({\r\n\r\n\t\tclassName: 'webreport-parameter-prompt-footer',\r\n\r\n\t\ttemplate: template,\r\n\r\n\t\ttemplateHelpers: function () {\r\n\t\t\treturn {\r\n\t\t\t\tcancel: lang.cancel,\r\n\t\t\t\trunWebReport: lang.runWebReport\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tui: {\r\n\t\t\t\"submitWR\": \"button.submitWR\",\r\n\t\t\t\"cancelWR\": \"button.cancelWR\"\r\n\t\t},\r\n\r\n\t\ttriggers: {\r\n\t\t\t\"click @ui.submitWR\": \"submitWR\",\r\n\t\t\t\"click @ui.cancelWR\": \"cancelWR\"\r\n\t\t},\r\n\r\n\t\tconstructor: function PromptFooterView(options) {\r\n\t\t\toptions || (options = {});\r\n\t\t\tthis.options = options;\r\n\t\t\tthis.node = this.options.model;\r\n\t\t\tMarionette.ItemView.prototype.constructor.call(this, options);\r\n\t\t}\r\n\r\n\t});\r\n\r\n\treturn PromptFooterView;\r\n});\n","csui.define('webreports/models/run.webreport.pre/run.webreport.pre.model',[\r\n\t'csui/lib/jquery',\r\n\t'csui/lib/underscore',\r\n\t'csui/lib/backbone',\r\n\t'csui/utils/base',\r\n\t'csui/models/form',\r\n\t'csui/models/mixins/connectable/connectable.mixin'\r\n], function ($, _, Backbone, base, FormModel, ConnectableMixin) {\r\n\t'use strict';\r\n\r\n\tvar RunWRPreModel = FormModel.extend({\r\n\r\n\t\tparametersModel: undefined,\r\n\t\tdestinationModel: undefined,\r\n\r\n\t\tconstructor: function RunWRPreModel(attributes, options) {\r\n\r\n\t\t\tthis.options = options || (options = {});\r\n\r\n\t\t\tBackbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n\t\t\tthis.makeConnectable(options);\r\n\r\n\t\t},\r\n\r\n\t\turl: function () {\r\n\t\t\tvar path = \"forms/nodes/run\",\r\n\t\t\t\tconnector = this.connector,\r\n\t\t\t\tparams = {\r\n\t\t\t\t\tid: this.options.id\r\n\t\t\t\t},\r\n\t\t\t\tresource = path + '?' + $.param(params);\r\n\t\t\treturn base.Url.combine( connector.connection.url, resource);\r\n\t\t},\r\n\r\n\t\tparse: function (response) {\r\n\t\t\tthis.parametersModel = new Backbone.Model( response.data.parameters_data );\r\n\t\t\tthis.destinationModel = new Backbone.Model( response.data.destination_data );\r\n\t\t\treturn response.forms[0];\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tConnectableMixin.mixin(RunWRPreModel.prototype);\r\n\r\n\treturn RunWRPreModel;\r\n\r\n});\r\n\n","csui.define('webreports/utils/contexts/factories/run.webreport.pre.factory',[\r\n\t'csui/lib/underscore',\r\n\t'csui/utils/contexts/factories/factory',\r\n\t'csui/utils/contexts/factories/connector',\r\n\t'webreports/models/run.webreport.pre/run.webreport.pre.model'\r\n], function (_,ModelFactory, ConnectorFactory, RunWRPreModel) {\r\n\r\n\tvar runWebReportPreFactory = ModelFactory.extend({\r\n\r\n\t\t// Unique prefix of the default model instance, when this model is assigned\r\n\t\t// to a context it can be shared by multiple widgets\r\n\t\tpropertyPrefix: 'runwebreportpre',\r\n\r\n\t\tconstructor: function runWebReportPreFactory(context, options) {\r\n\r\n\t\t\t// Don't pass the attributes into the model:\r\n\t\t\tif (_.has(options,\"attributes\")){\r\n\t\t\t\tdelete options.attributes;\r\n\t\t\t}\r\n\t\t\tif (_.has(options, this.propertyPrefix) && _.has(options[this.propertyPrefix], \"attributes\")){\r\n\t\t\t\tdelete options[this.propertyPrefix].attributes;\r\n\t\t\t}\r\n\r\n\t\t\tModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n\t\t\t// Obtain the server connector from the application context to share\r\n\t\t\t// the server connection with the rest of the application; include\r\n\t\t\t// the options, which can contain settings for dependent factories\r\n\t\t\tvar connector = context.getObject(ConnectorFactory, options),\r\n\t\t\t\tmodelOptions = _.extend( options.options, {\r\n\t\t\t\tconnector: connector\r\n\t\t\t});\r\n\r\n\t\t\t// Expose the model instance in the `property` key on this factory\r\n\t\t\t// instance to be used by the context\r\n\t\t\tthis.property = new RunWRPreModel( {}, modelOptions );\r\n\t\t}\r\n\r\n\t});\r\n\r\n\treturn runWebReportPreFactory;\r\n\r\n});\n","csui.define('webreports/utils/commands/open.classic.webreport',['csui/lib/underscore', 'csui/utils/commandhelper', 'csui/utils/commands/open.classic.page'\r\n], function (_, CommandHelper, OpenClassicPageCommand) {\r\n\r\n    var OpenClassicWebReportCommand = OpenClassicPageCommand.extend({\r\n\r\n        defaults: {\r\n            signature: 'OpenClassicWebReport',\r\n            scope: \"single\"\r\n        },\r\n        \r\n        enabled: function (status) {\r\n            var node = CommandHelper.getJustOneNode(status);\r\n            return node && node.get('type') === 30303;\r\n        },\r\n\r\n        getUrlQueryParameters: function (node, options) {\r\n            var additionalParms,\r\n                baseParms = {\r\n                func: 'll',\r\n                objAction: 'RunReport',\r\n                objId: node.get('id'),\r\n                nexturl: location.href\r\n            };\r\n\r\n            if ( _.has(options, \"parameters\") ) {\r\n                // blend any parms entered in the prompt forms:\r\n                baseParms = _.extend( baseParms, options.parameters );\r\n            }\r\n\r\n            return baseParms;\r\n        }\r\n\r\n    });\r\n\r\n    return OpenClassicWebReportCommand;\r\n\r\n});\n","csui.define('webreports/models/run.webreport/run.webreport.model',[\r\n\t'csui/lib/underscore',\r\n\t'csui/lib/backbone',\r\n\t'csui/utils/base',\r\n\t'csui/models/mixins/connectable/connectable.mixin'\r\n], function (_, Backbone, base, ConnectableMixin ) {\r\n\r\n\tvar RunWebReportModel = Backbone.Model.extend({\r\n\r\n\t\tconstructor: function RunWebReportModel(attributes, options) {\r\n\t\t\tthis.options = options || {};\r\n\t\t\tBackbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n\t\t\tthis.makeConnectable(this.options);\r\n\t\t},\r\n\r\n\t\turl: function () {\r\n\t\t\tvar parms,\r\n\t\t\t\toptions = this.options,\r\n\t\t\t\tid = options.id,\r\n\t\t\t\tconnector = this.connector,\r\n\t\t\t\tpath = \"nodes/\"+ id +\"/output\";\r\n\r\n\t\t\t// Add in any prompt parameter values to the query:\r\n\t\t\tif (_.has(options, \"parameters\")) {\r\n\r\n\t\t\t\t// Support for name/value pairs in a single object only, not an array of objects:\r\n\t\t\t\tif ( !_.isArray(options.parameters) && _.isObject(options.parameters)){\r\n\t\t\t\t\tparms = options.parameters;\r\n\t\t\t\t\tpath = path + \"?\" + base.Url.combineQueryString(parms);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn base.Url.combine( connector.connection.url, path );\r\n\r\n\t\t},\r\n\r\n\t\tparse: function(resp, options) {\r\n\t\t\t// update the destinationModel with the resolved/current destination_data:\r\n\t\t\tif (_.has(options, \"destinationModel\")){\r\n\t\t\t\toptions.destinationModel.set( resp.data.destination_data, options);\r\n\t\t\t} else {\r\n\t\t\t\toptions.destinationModel = new Backbone.Model(resp.data.destination_data);\r\n\t\t\t}\r\n\r\n\t\t\treturn resp;\r\n\t\t},\r\n\r\n\t\t// Removes any parameters passed on the model:\r\n\t\tclearParameters: function () {\r\n\t\t\tif ( _.has(this, \"options\") && _.has(this.options, \"parameters\") ) {\r\n\t\t\t\tdelete( this.options.parameters);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t});\r\n\r\n\tConnectableMixin.mixin(RunWebReportModel.prototype);\r\n\r\n\treturn RunWebReportModel;\r\n\r\n});\n","csui.define('webreports/utils/contexts/factories/run.webreport.factory',[\r\n\t'csui/lib/underscore',\r\n\t'csui/utils/contexts/factories/factory',\r\n\t'csui/utils/contexts/factories/connector',\r\n\t'webreports/models/run.webreport/run.webreport.model'\r\n], function (_,ModelFactory, ConnectorFactory, RunWRModel) {\r\n\r\n\tvar RunWRModelFactory = ModelFactory.extend({\r\n\r\n\t\t// Unique prefix of the default model instance, when this model is assigned\r\n\t\t// to a context it can be shared by multiple widgets\r\n\t\tpropertyPrefix: 'runwrmodel',\r\n\r\n\t\tconstructor: function RunWRModelFactory(context, options) {\r\n\t\t\t\r\n\t\t\t// Don't pass the attributes into the model:\r\n\t\t\tif (_.has(options,\"attributes\")){\r\n\t\t\t\tdelete options.attributes;\r\n\t\t\t}\r\n\t\t\tif (_.has(options, this.propertyPrefix) && _.has(options[this.propertyPrefix], \"attributes\")){\r\n\t\t\t\tdelete options[this.propertyPrefix].attributes;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n\t\t\tvar connector = context.getObject(ConnectorFactory, options),\r\n\t\t\t\tmodelOptions = _.extend( options.options, {\r\n\t\t\t\t\tconnector: connector\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t// Pass through any populated parameters:\r\n\t\t\tif (_.has(options,\"parameters\") ) {\r\n\t\t\t\tmodelOptions = _.extend( modelOptions, {\r\n\t\t\t\t\tparameters: options.parameters\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Expose the model instance in the `property` key on this factory\r\n\t\t\t// instance to be used by the context\r\n\t\t\tthis.property = new RunWRModel({}, modelOptions);\r\n\t\t}\r\n\r\n\t});\r\n\r\n\treturn RunWRModelFactory;\r\n\r\n});\r\n\n","csui.define('webreports/controls/run.webreport.pre/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('webreports/controls/run.webreport.pre/impl/nls/root/lang',{\r\n  WebReportParameters: \"WebReport Parameters\",\r\n  RunWebReport: \"Run WebReport\",\r\n  Cancel: \"Cancel\",\r\n  WebReportExecutedSuccessfully: \"WebReport executed successfully\",\r\n  WebReportExecutingInBackground: \"WebReport is executing in background\",\r\n  anErrorOccurredExecutingTheWebReport: \"An error occurred executing the WebReport\",\r\n  okLabel: \"OK\"\r\n});\r\n\n","\n","csui.define('webreports/utils/commands/execute.webreport',['csui/lib/underscore', 'csui/lib/jquery',\r\n\t'csui/utils/base',\r\n\t'csui/utils/commandhelper', 'csui/models/command',\r\n\t'csui/controls/globalmessage/globalmessage',\r\n\t'webreports/utils/contexts/factories/run.webreport.factory',\r\n\t'i18n!webreports/controls/run.webreport.pre/impl/nls/lang'\r\n], function (_, $,\r\n\t\t\t base,\r\n\t\t\t CommandHelper, CommandModel,\r\n\t\t\t GlobalMessage,\r\n\t\t\t RunWRModelFactory,\r\n\t\t\t lang ){\r\n\r\n\tvar ExecuteWebReport = CommandModel.extend({\r\n\r\n\t\tdefaults: {\r\n\t\t\tsignature: 'ExecuteWebReport',\r\n\t\t\tscope: \"single\"\r\n\t\t},\r\n\r\n\t\tenabled: function (status) {\r\n\t\t\tvar node = CommandHelper.getJustOneNode(status);\r\n\t\t\treturn node && node.get('type') === 30303;\r\n\t\t},\r\n\r\n\t\t// Converts a json object of parameters into form data for POSTing:\r\n\t\tconvertParametersToFormData: function(parameters){\r\n\t\t\t\r\n\t\t\tvar serializedParms = '';\r\n\t\t\t\r\n\t\t\tif ( _.isObject( parameters ) && !_.isArray( parameters) ){\r\n\r\n\t\t\t\t_.each( parameters, function(value, key, list){\r\n\r\n\t\t\t\t\tvar parm,\r\n\t\t\t\t\t\tval;\r\n\r\n\t\t\t\t\tparm = encodeURI(key);\r\n\t\t\t\t\tval = encodeURI(value);\r\n\r\n\t\t\t\t\tif (serializedParms.length) {\r\n\r\n\t\t\t\t\t\tserializedParms += '&' + parm + '=' + val;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tserializedParms += parm + '=' + val;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn serializedParms;\r\n\t\t},\r\n\r\n\t\texecute: function (status, options) {\r\n\r\n\t\t\t// Generate a request to execute the WebReport on the server:\r\n\t\t\tvar executeWRModel,\r\n\t\t\t\trequestAttrs,\r\n\t\t\t\tcrud_method = \"read\", // GET default\r\n\t\t\t\tdeferred = $.Deferred(),\r\n\t\t\t\tdestinationModel = options.destinationModel,\r\n\t\t\t\thttp_method = destinationModel.get(\"http_method\"),\r\n\t\t\t\tlower_http_method = http_method.toLowerCase(),\r\n\t\t\t\trunInBackground = destinationModel.get(\"run_in_background\"),\r\n\t\t\t\texecuteOptions = {\r\n\t\t\t\t\tattributes: {\r\n\t\t\t\t\t\tid: options.node.get(\"id\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tid: options.node.get(\"id\")\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\thasParameters = ( _.has( options, \"parameters\" ) );\r\n\r\n\r\n\t\t\texecuteWRModel = options.context.getModel( RunWRModelFactory, executeOptions );\r\n\r\n\r\n\t\t\tif (lower_http_method === \"get\") {\r\n\r\n\t\t\t\t// Set the CRUD value:\r\n\t\t\t\tcrud_method = \"read\";\r\n\r\n\t\t\t\t// Pass the current parameters through the model, which are added as query parameters:\r\n\t\t\t\tif ( hasParameters && _.has(executeWRModel, \"options\" ) ) {\r\n\t\t\t\t\texecuteWRModel.options =  _.extend( executeWRModel.options, {\r\n\t\t\t\t\t\tparameters: options.parameters\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Set the CRUD value:\r\n\t\t\t\tswitch ( lower_http_method ) {\r\n\r\n\t\t\t\t\tcase \"post\":\r\n\t\t\t\t\t\tcrud_method = \"create\";\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"put\":\r\n\t\t\t\t\t\tcrud_method = \"update\";\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"patch\":\r\n\t\t\t\t\t\tcrud_method = \"patch\";\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"delete\":\r\n\t\t\t\t\t\tcrud_method = \"delete\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( hasParameters ) {\r\n\t\t\t\t\t// Convert the parameters object into form data for the POST:\r\n\t\t\t\t\trequestAttrs = this.convertParametersToFormData( options.parameters );\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Make a request that will execute the WR:\r\n\t\t\t// \t\t- The success functions stores the response data as attrs, similar to the Backbone.save().\r\n\t\t\texecuteWRModel\r\n\t\t\t\t.sync( crud_method, executeWRModel, {\r\n\t\t\t\t\tdata: requestAttrs,\r\n\t\t\t\t\tsuccess: function(resp) {\r\n\t\t\t\t\t\t // store the response as the model's attrs:\r\n\t\t\t\t\t\t if (resp) {\r\n\t\t\t\t\t\t\t var serverAttrs = executeWRModel.parse(resp, options);\r\n\t\t\t\t\t\t\t executeWRModel.set(serverAttrs, options);\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t// Clear out the passed parms so they don't linger in the context:\r\n\t\t\t\t\t\texecuteWRModel.clearParameters();\r\n\t\t\t\t\t\tdeferred.resolve( arguments, executeWRModel );\r\n\t\t\t\t\t },\r\n\t\t\t\t\terror: function(request, statusText, errorThrown ){\r\n\t\t\t\t\t\tvar error = new base.Error(request);\r\n\t\t\t\t\t\tGlobalMessage.showMessage(\"error\", error.message, error.errorDetails);\r\n\t\t\t\t\t\texecuteWRModel.clearParameters();\r\n\t\t\t\t\t\tdeferred.reject();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\tif (runInBackground){\r\n\t\t\t\t// resolve right away in order to show the Status Screen now instead of after the WR has executed:\r\n\t\t\t\tdeferred.resolve( [{}, \"success\"], executeWRModel, true );\r\n\t\t\t}\r\n\r\n\t\t\treturn deferred.promise();\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n\treturn ExecuteWebReport;\r\n\r\n});\n","csui.define('webreports/controls/run.webreport.pre/run.webreport.pre.controller',['csui/lib/underscore', 'csui/lib/jquery',\r\n\t'csui/models/nodes',\r\n\t'csui/utils/command.error',\r\n\t'csui/controls/globalmessage/globalmessage',\r\n\t'csui/controls/progressblocker/blocker',\r\n\t'webreports/utils/contexts/factories/run.webreport.pre.factory',\r\n\t'webreports/utils/commands/open.classic.webreport',\r\n\t'webreports/utils/commands/execute.webreport',\r\n\t'i18n!webreports/controls/run.webreport.pre/impl/nls/lang'\r\n], function (_, $,\r\n\t\t\t NodeCollection,\r\n\t\t\t CommandError,\r\n\t\t\t GlobalMessage,\r\n\t\t\t BlockingView,\r\n\t\t\t RunWRPreModelFactory,\r\n\t\t\t OpenClassicWebReport,\r\n\t\t\t ExecuteWebReportCommand,\r\n\t\t\t lang) {\r\n\t'use strict';\r\n\r\n\tfunction RunWebReportPreController() {\r\n\t}\r\n\r\n\t_.extend(RunWebReportPreController.prototype, {\r\n\r\n\t\trunWRPreModel: undefined,\r\n\t\tdestinationModel: undefined,\r\n\t\tparametersModel: undefined,\r\n\r\n\r\n\t\t_getCommandStatus: function(){\r\n\t\t\tvar status;\r\n\t\t\tif (typeof this.commandStatus === \"undefined\") {\r\n\t\t\t\tstatus = {\r\n\t\t\t\t\tnodes: new NodeCollection(this.options.node)\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tstatus = this.commandStatus;\r\n\t\t\t}\r\n\r\n\t\t\treturn status;\r\n\t\t},\r\n\r\n\t\t/////////////////////////////////\r\n\t\t// Moved from OpenWebReport cmd\r\n\t\t//////////////////////////////////\r\n\t\tswitchToPromptView: function(initialStatus, options) {\r\n\r\n\t\t\tvar nodes,\r\n\t\t\t\tcontext,\r\n\t\t\t\toriginatingView,\r\n\t\t\t\tself = this,\r\n\t\t\t\tdeferred = $.Deferred(),\r\n\t\t\t\tstatus = this._getCommandStatus(),\r\n\t\t\t\tselected = status.nodes,\r\n\t\t\t\tcontainer = status.container,\r\n\t\t\t\tnavigationView = true;\r\n\r\n\t\t\tif (selected && selected.first() === container) {\r\n\t\t\t\t// The container properties were requested for the container\r\n\t\t\t\tselected = container;\r\n\t\t\t\tnavigationView = false;\r\n\t\t\t} else {\r\n\t\t\t\tnodes = this._getAtLeastOneNode(status);\r\n\t\t\t}\r\n\r\n\t\t\tcontext = status.context || options && options.context;\r\n\r\n\t\t\toriginatingView = status.originatingView || options.originatingView;\r\n\r\n\t\t\t// WR node executed from a list view.\r\n\t\t\t// Render the prompt view in situ:\r\n\t\t\trequire([ 'csui/lib/marionette', 'csui/lib/backbone',\r\n\t\t\t\t'webreports/widgets/parameter.prompt.form/parameter.prompt.form.view',\r\n\t\t\t\t'csui/controls/dialog/dialog.view',\r\n\t\t\t\t'csui/utils/contexts/factories/next.node',\r\n\t\t\t\t'csui/utils/contexts/factories/previous.node',\r\n\t\t\t\t'csui/utils/contexts/factories/node',\r\n\t\t\t\t'csui/widgets/nodestable/nodestable.view'\r\n\t\t\t], function ( Marionette, Backbone, PromptView, DialogView, NextNodeFactory, PreviousNodeFactory, NodeFactory, NodesTableWidget) {\r\n\r\n\t\t\t\tvar attrs,\r\n\t\t\t\t\tparm,\r\n\t\t\t\t\tpromptView,\r\n\t\t\t\t\tnewAttrs = {},\r\n\t\t\t\t\tpreviousNode = context.getModel(PreviousNodeFactory),\r\n\t\t\t\t\tnextNode = context.getModel(NextNodeFactory),\r\n\t\t\t\t\tthisNode = context.getModel(NodeFactory),\r\n\t\t\t\t\tpromptViewOptions = {\r\n\t\t\t\t\t\tRunWRController: self,\r\n\t\t\t\t\t\tmodel: selected,\r\n\t\t\t\t\t\toriginatingView: originatingView,\r\n\t\t\t\t\t\tcontext: context,\r\n\t\t\t\t\t\tshowCloseIcon: originatingView ? false : true,\r\n\t\t\t\t\t\tshowBackIcon: originatingView ? true : false\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t// Set the previousNode to the current node so we come back here:\r\n\t\t\t\tpreviousNode.clear({silent: true});\r\n\t\t\t\tpreviousNode.set(thisNode.attributes);\r\n\r\n\t\t\t\t// Clear out the nextNode, as the user might hit the back button to Cancel:\r\n\t\t\t\tnextNode.clear({silent:true});\r\n\r\n\t\t\t\t// Pre-populate any parameters on the WR node with any passed values:\r\n\t\t\t\tif (_.has(self.options, \"parameters\")){\r\n\r\n\t\t\t\t\t// The parms stored on the WR node:\r\n\t\t\t\t\tattrs = self.runWRPreModel.attributes.data;\r\n\r\n\t\t\t\t\t// Loop through any parms passed in:\r\n\t\t\t\t\tfor (parm in self.options.parameters) {\r\n\r\n\t\t\t\t\t\t// Only allow passing parms that are defined on the WR itself:\r\n\t\t\t\t\t\tif ( _.has( attrs, parm) ){\r\n\t\t\t\t\t\t\tnewAttrs[parm] = self.options.parameters[parm];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tself.runWRPreModel.set(\"data\", newAttrs );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tpromptView = new PromptView( promptViewOptions );\r\n\r\n\t\t\t\t// replace the originatingView with sliding left/right animation if it's coming from a NodesTable widget:\r\n\t\t\t\tif (originatingView instanceof NodesTableWidget) {\r\n\r\n\t\t\t\t\tvar _showOriginatingView,\r\n\t\t\t\t\t\t$wrPrompts,\r\n\t\t\t\t\t\t$originatingView = originatingView.$el,\r\n\t\t\t\t\t\tntWidthVal = $originatingView.width(),\r\n\t\t\t\t\t\tntWidth = ntWidthVal + 'px';\r\n\r\n\t\t\t\t\t$originatingView.parent().append(\"<div class='wr-prompt-parameters-wrapper'></div>\");\r\n\t\t\t\t\t$wrPrompts = $($originatingView.parent().find('.wr-prompt-parameters-wrapper')[0]);\r\n\t\t\t\t\t$wrPrompts.hide();\r\n\r\n\t\t\t\t\tpromptView.render();\r\n\t\t\t\t\tMarionette.triggerMethodOn(promptView, 'before:show');\r\n\t\t\t\t\t$wrPrompts.append(promptView.el);\r\n\r\n\t\t\t\t\t$originatingView.hide('blind', {\r\n\t\t\t\t\t\tdirection: 'left',\r\n\t\t\t\t\t\tcomplete: function () {\r\n\t\t\t\t\t\t\t$wrPrompts.show('blind',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tdirection: 'right',\r\n\t\t\t\t\t\t\t\t\tcomplete: function () {\r\n\t\t\t\t\t\t\t\t\t\tMarionette.triggerMethodOn(promptView, 'show');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t100);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 100);\r\n\r\n\t\t\t\t\t$originatingView.promise().done(function() {\r\n\t\t\t\t\t\toriginatingView.isDisplayed = false;\r\n\t\t\t\t\t\tdeferred.resolve();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t_showOriginatingView = function () {\r\n\t\t\t\t\t\t$wrPrompts.hide('blind', {\r\n\t\t\t\t\t\t\tdirection: 'right',\r\n\t\t\t\t\t\t\tcomplete: function () {\r\n\t\t\t\t\t\t\t\t$originatingView.show('blind',\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tdirection: 'left',\r\n\t\t\t\t\t\t\t\t\t\tcomplete: function () {\r\n\t\t\t\t\t\t\t\t\t\t\toriginatingView.triggerMethod('dom:refresh');\r\n\t\t\t\t\t\t\t\t\t\t\toriginatingView.isDisplayed = true;\r\n\t\t\t\t\t\t\t\t\t\t\t//reset required switch to default.\r\n\t\t\t\t\t\t\t\t\t\t\t!!status.collection && (status.collection.requireSwitched = false);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t100);\r\n\t\t\t\t\t\t\t\tpromptView.destroy();\r\n\t\t\t\t\t\t\t\t$wrPrompts.remove();\r\n\t\t\t\t\t\t\t\tdeferred.resolve();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 100);\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tBackbone.listenTo(promptView, 'promptView:close', _.bind(_showOriginatingView, self));\r\n\t\t\t\t\tBackbone.listenTo(promptView, 'promptView:close:without:animation', function () {\r\n\t\t\t\t\t\t$originatingView.show('blind',\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tdirection: 'left',\r\n\t\t\t\t\t\t\t\tcomplete: function () {\r\n\t\t\t\t\t\t\t\t\toriginatingView.triggerMethod('dom:refresh');\r\n\r\n\t\t\t\t\t\t\t\t\t//reset required switch to default.\r\n\t\t\t\t\t\t\t\t\t!!status.collection && (status.collection.requireSwitched = false);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t100);\r\n\t\t\t\t\t\tpromptView.destroy();\r\n\t\t\t\t\t\t$wrPrompts.remove();\r\n\t\t\t\t\t\tdeferred.resolve();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t} else {  // show PromptView in a modal dialog\r\n\r\n\t\t\t\t\tself.dialog = new DialogView({\r\n\t\t\t\t\t\tclassName: 'wr-prompt-parameters',\r\n\t\t\t\t\t\tlargeSize: true,\r\n\t\t\t\t\t\tview: promptView\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tself.dialog.show();\r\n\r\n\t\t\t\t\t// UX specs does not have header bar\r\n\t\t\t\t\tself.dialog.ui.header.hide();\r\n\t\t\t\t\tself.dialog.listenTo(promptView, 'promptView:close', function () {\r\n\t\t\t\t\t\tself.dialog.destroy();\r\n\t\t\t\t\t\tdeferred.resolve();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tself.dialog.listenTo(promptView, 'promptView:close:without:animation', function () {\r\n\t\t\t\t\t\tself.dialog.destroy();\r\n\t\t\t\t\t\tdeferred.resolve();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}, function (error) { // error require-ing;\r\n\t\t\t\tdeferred.reject(new CommandError(error));\r\n\t\t\t});\r\n\r\n\r\n\r\n\r\n\t\t\treturn deferred.promise();\r\n\t\t},\r\n\r\n\t\t// Modified version of CommandHelper.getAtLeastOneNode:\r\n\t\t_getAtLeastOneNode: function (status) {\r\n\t\t\tif (!status.nodes) {\r\n\t\t\t\treturn new NodeCollection();\r\n\t\t\t}\r\n\r\n\t\t\tif (status.nodes.length === 1 && status.collection) {\r\n\t\t\t\treturn status.collection;\r\n\t\t\t} else {\r\n\t\t\t\treturn status.nodes;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t//////////////////////////////////////\r\n\t\t//  end Moved from OpenWebReport cmd\r\n\t\t//////////////////////////////////////\r\n\r\n\t\t// Entry point for checking if a WR has prompt parms:\r\n\t\tcheckForPromptParameters: function (options) {\r\n\t\t\t\r\n\t\t\tvar showPrompts,\r\n\t\t\t\trunWRmodel,\r\n\t\t\t\tself = this,\r\n\t\t\t\tdeferred = $.Deferred();\r\n\r\n\t\t\tthis.options = options;\r\n\t\t\tthis._blockParentActions();\r\n\r\n\t\t\trunWRmodel = this.getRunWRPreModel(options)\r\n\t\t\t\t.done( function(){\r\n\t\t\t\t\tshowPrompts = self._checkPrompts();\r\n\t\t\t\t\tdeferred.resolve(showPrompts);\r\n\t\t\t\t})\r\n\t\t\t\t.fail( function(){\r\n\t\t\t\t\tself._unblockParentActions();\r\n\t\t\t\t\tdeferred.reject();\r\n\t\t\t\t});\r\n\r\n\t\t\treturn deferred.promise();\r\n\r\n\t\t},\r\n\r\n\t\t// Returns a form view for the WR that can be shown in a number of places:\r\n\t\tgetFormView: function (options) {\r\n\r\n\t\t\tvar i,\r\n\t\t\t\texistingParms,\r\n\t\t\t\tparm,\r\n\t\t\t\tformView,\r\n\t\t\t\tschema,\r\n\t\t\t\tWRRunModel = ( _.has(this, \"runWRPreModel\")) ? this.runWRPreModel : (_.has(options, \"promptModel\")) ? options.promptModel : undefined, // 2nd case is for special scenarios like test pages\r\n\t\t\t\tdeferred = $.Deferred();\r\n\r\n\r\n\t\t\t// Check if we still don't have a model:\r\n\t\t\tif ( typeof WRRunModel !== \"undefined\") {\r\n\r\n\t\t\t\tschema = WRRunModel.get( \"schema\" );\r\n\r\n\t\t\t\t// Clear out the title property on the schema model, so it doesn't show up in the Form view\r\n\t\t\t\t// Otherwise, it shows up twice (once in the FormView, and once in the Dialog window):\r\n\t\t\t\tschema.title = \"\";\r\n\t\t\t\tWRRunModel.set(\"schema\", schema);\r\n\t\t\t\t\r\n\t\t\t\trequire([\r\n\t\t\t\t\t'csui/controls/form/form.view'\r\n\t\t\t\t], function (FormView) {\r\n\t\t\t\t\t// Create a FormView using the WR Prompt parameters model:\r\n\t\t\t\t\tformView = new FormView({\r\n\t\t\t\t\t\tcontext: options.context,\r\n\t\t\t\t\t\tmodel: WRRunModel\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tdeferred.resolve(formView);\r\n\r\n\t\t\t\t}, function (error) {\r\n\t\t\t\t\tdeferred.reject();\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// No model to use:\r\n\t\t\t\tdeferred.reject();\r\n\t\t\t}\r\n\r\n\t\t\treturn deferred.promise();\r\n\r\n\t\t},\r\n\r\n\t\t// Invoke to actually execute the WR:\r\n\t\texecuteWR: function ( parms ){\r\n\r\n\t\t\tvar executeWRCommand,\r\n\t\t\t\texecutionMethod,\r\n\t\t\t\tstatus,\r\n\t\t\t\tstatusScreenDialog,\r\n\t\t\t\tself = this,\r\n\t\t\t\tnode = this.options.node,\r\n\t\t\t\toptions = _.extend( this.options, {\r\n\t\t\t\t\tdestinationModel: this.destinationModel\r\n\t\t\t\t}),\r\n\t\t\t\tdestinationModel = this.destinationModel,\r\n\t\t\t\toutputDestination = destinationModel.get(\"output_destination\"),\r\n\t\t\t\tuseClassic = true;\r\n\r\n\r\n\t\t\t// Check where we need to send the user:\r\n\t\t\texecutionMethod = this._checkExecutionRoute();\r\n\r\n\t\t\tif ( executionMethod === \"classic\") {\r\n\r\n\t\t\t\t// Need to open the WR in classic:\r\n\t\t\t\tthis.openInClassic( parms );\r\n\t\t\t\tthis._unblockParentActions();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// This WR can be executed in the smartUI.\r\n\t\t\t\texecuteWRCommand = new ExecuteWebReportCommand();\r\n\r\n\t\t\t\tstatus = this.commandStatus;\r\n\r\n\t\t\t\t// Add the entered parameters into the query and make sure the originatingView is still blocked:\r\n\t\t\t\tif (typeof parms !== \"undefined\") {\r\n\t\t\t\t\t_.extend(parms, {\"prompting\": \"done\"}); // let the server know that prompting is complete.\r\n\t\t\t\t\tthis.options.parameters = parms;\r\n\t\t\t\t\tthis._blockParentActions();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Make sure the command is enabled:\r\n\t\t\t\tif (executeWRCommand.enabled(status)) {\r\n\r\n\t\t\t\t\t// Execute the WR:\r\n\t\t\t\t\texecuteWRCommand\r\n\t\t\t\t\t\t.execute(status, this.options )\r\n\t\t\t\t\t\t.done(function( results, executeModel, runInBackground ){\r\n\r\n\t\t\t\t\t\t\tvar executionResults,\r\n\t\t\t\t\t\t\t\tdestination_data,\r\n\t\t\t\t\t\t\t\tresponse = results[0],\r\n\t\t\t\t\t\t\t\tstatus = results[1];\r\n\r\n\r\n\t\t\t\t\t\t\tif (self.destinationModel.get(\"show_status_screen\") === true ){\r\n\r\n\t\t\t\t\t\t\t\tself.statusScreenOptions = _.extend(self.options, {\r\n\t\t\t\t\t\t\t\t\texecuteModel: executeModel,\r\n\t\t\t\t\t\t\t\t\trunInBackground: runInBackground\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t// Show the status screen right away:\r\n\t\t\t\t\t\t\t\tself.showStatusScreen();\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t// WR is configured NOT to show the Status Screen\r\n\t\t\t\t\t\t\t\tself._unblockParentActions();\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.fail(function() {\r\n\t\t\t\t\t\t\tself._unblockParentActions();\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\t// Handoff to the classic WR opener:\r\n\t\topenInClassic: function (parms) {\r\n\r\n\t\t\tvar status,\r\n\t\t\t\tOpenClassic = new OpenClassicWebReport();\r\n\r\n\t\t\t// Add the entered parameters into the query:\r\n\t\t\tif (typeof parms !== \"undefined\") {\r\n\t\t\t\t_.extend(parms, {\"prompting\": \"done\"}); // let the classic UI know that prompting is complete.\r\n\t\t\t\tthis.options.parameters = parms;\r\n\t\t\t}\r\n\r\n\t\t\t// If there's a status, it's invoked via a Command:\r\n\t\t\tif (typeof this.commandStatus !== \"undefined\") {\r\n\r\n\t\t\t\tstatus = this.commandStatus;\r\n\r\n\t\t\t\tOpenClassic.execute(status, this.options);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Not launched from a command, could be a test page.\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t// Gets the RunWRPre model:\r\n\t\tgetRunWRPreModel: function(options) {\r\n\r\n\t\t\tvar self = this,\r\n\t\t\t\tattributes = options,\r\n\t\t\t\tdeferred = $.Deferred();\r\n\r\n\t\t\tthis.runWRPreModel = options.context.getModel(RunWRPreModelFactory, {\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\tid: options.node.get(\"id\")\r\n\t\t\t\t},\r\n\t\t\t\toptions: {\r\n\t\t\t\t\tid: options.node.get(\"id\")\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.runWRPreModel\r\n\t\t\t\t.fetch()\r\n\t\t\t\t.done( function(data, status, jqxhr){\r\n\t\t\t\t\tself.destinationModel = self.runWRPreModel.destinationModel;\r\n\t\t\t\t\tself.parametersModel = self.runWRPreModel.parametersModel;\r\n\t\t\t\t\tdeferred.resolve();\r\n\t\t\t\t});\r\n\r\n\t\t\treturn deferred.promise();\r\n\r\n\t\t},\r\n\r\n\r\n\t\t// Map to the additional models we need to lookup for the status screen for each destination type:\r\n\t\tadditionalModelMap: {\r\n\t\t\tnode: {\r\n\t\t\t\tprimary: \"outputData.node_id\",\r\n\t\t\t\tsecondary: \"destination_data.destination_specific.create_in_id\"\r\n\t\t\t},\r\n\r\n\t\t\tversion: {\r\n\t\t\t\tprimary: \"destination_data.destination_specific.add_version_to_id\"\r\n\t\t\t\t//secondary: undefined // todo:  LLWR-10682\r\n\t\t\t},\r\n\r\n\t\t\tworkflow: {\r\n\t\t\t\tprimary: \"destination_data.destination_specific.workflow_map_id\",\r\n\t\t\t\tsecondary: \"outputData.work_id\"\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\r\n\t\t// Pre-populate the models required for the status screen:\r\n\t\t_getStatusScreenModels: function() {\r\n\r\n\t\t\tvar options = this.statusScreenOptions,\r\n\t\t\t\toutputData = options.executeModel.get(\"data\"),\r\n\t\t\t\tdestination_data = outputData.destination_data,\r\n\t\t\t\tself = this,\r\n\t\t\t\tdeferred = $.Deferred();\r\n\r\n\t\t\t// Get a new node model so we can show the icon/name/default action/etc:\r\n\t\t\trequire( [\"csui/utils/contexts/factories/node\",\r\n\t\t\t\t\t\"workflow/models/workitem/workitem.model.factory\"],\r\n\t\t\t\tfunction( NodeFactory, WorkItemModelFactory ){\r\n\r\n\t\t\t\t\tvar\tprimaryID,\r\n\t\t\t\t\t\tsecondaryID,\r\n\t\t\t\t\t\tprimaryFactory,\r\n\t\t\t\t\t\tprimaryNode,\r\n\t\t\t\t\t\tsecondaryNode,\r\n\t\t\t\t\t\tsecondaryFactory,\r\n\t\t\t\t\t\tpromises = [],\r\n\t\t\t\t\t\ttarget = destination_data.output_destination;\r\n\r\n\r\n\t\t\t\t\t// If it's a node destination, is this a Version destination or a Node destination with the Add Version option?\r\n\t\t\t\t\tif (target === \"node\") {\r\n\t\t\t\t\t\tif ( _.has( destination_data.destination_specific, \"add_version_to_id\" )) {\r\n\t\t\t\t\t\t\t// this is really the version destination:\r\n\t\t\t\t\t\t\ttarget = \"version\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tprimaryFactory = NodeFactory;\r\n\t\t\t\t\tsecondaryFactory = NodeFactory;\r\n\r\n\t\t\t\t\t// Always get the primary node model:\r\n\t\t\t\t\tprimaryID = eval( self.additionalModelMap[target].primary );\r\n\r\n\t\t\t\t\t// Get the right model for the corresponding Destination type:\r\n\t\t\t\t\tif ( destination_data.output_destination === 'workflow') {\r\n\r\n\t\t\t\t\t\t// The WF Attachments id is returned on the WorkItem model.\r\n\t\t\t\t\t\t// We use the WFMap as the node model so we can get a general WF icon, and get the workItem model so we can get the attachmentsID.\r\n\t\t\t\t\t\tif ( destination_data.destination_specific.workflow_attach_output === true ) {\r\n\r\n\t\t\t\t\t\t\tsecondaryFactory = WorkItemModelFactory;\r\n\t\t\t\t\t\t\tsecondaryID = eval( self.additionalModelMap[target].secondary );\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsecondaryID = undefined;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tsecondaryID = eval( self.additionalModelMap[target].secondary );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t////////////////////////////////\r\n\t\t\t\t\t// Get the primary model:\r\n\t\t\t\t\t////////////////////////////////\r\n\t\t\t\t\tprimaryNode = options.context.getModel(primaryFactory, {attributes: {\r\n\t\t\t\t\t\tid: primaryID\r\n\t\t\t\t\t} });\r\n\r\n\t\t\t\t\tpromises.push( primaryNode.fetch() );\r\n\r\n\t\t\t\t\t/////////////////////////////////////////\r\n\t\t\t\t\t// Get the secondary model if needed:\r\n\t\t\t\t\t/////////////////////////////////////////\r\n\t\t\t\t\tif ( typeof secondaryID !== \"undefined\" ) {\r\n\r\n\t\t\t\t\t\tsecondaryNode = options.context.getModel(secondaryFactory, {\r\n\t\t\t\t\t\t\tattributes: {\r\n\t\t\t\t\t\t\t\tid: secondaryID\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif ( destination_data.output_destination === 'workflow' && destination_data.destination_specific.workflow_attach_output === true ){\r\n\r\n\t\t\t\t\t\t\t// For WorkItem models we have to set the attributes after, they can't be passed in during construction:\r\n\t\t\t\t\t\t\tsecondaryNode.set({\r\n\t\t\t\t\t\t\t\tprocess_id: secondaryID,\r\n\t\t\t\t\t\t\t\tsubprocess_id: secondaryID,\r\n\t\t\t\t\t\t\t\ttask_id: 1\r\n\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\tsilent: true  // prevent any of the callbacks from running and changing the perspective\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpromises.push( secondaryNode.fetch() );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$.whenAll.apply( $, promises ).then( function(results){\r\n\r\n\t\t\t\t\t\tvar dataPackages,\r\n\t\t\t\t\t\t\tattachmentsID,\r\n\t\t\t\t\t\t\twfAttachmentsNode;\r\n\r\n\t\t\t\t\t\toptions.primaryNode = primaryNode;\r\n\t\t\t\t\t\toptions.secondaryNode = secondaryNode;\r\n\r\n\t\t\t\t\t\tif ( destination_data.output_destination === \"workflow\" && destination_data.destination_specific.workflow_attach_output === true) {\r\n\r\n\t\t\t\t\t\t\t// For WF Destinations where the output was attached to the WF, also look up the WF attachments model so we can get its ID:\r\n\t\t\t\t\t\t\tif ( secondaryNode.has( \"data_packages\" ) ){\r\n\r\n\t\t\t\t\t\t\t\tdataPackages = secondaryNode.get(\"data_packages\");\r\n\r\n\t\t\t\t\t\t\t\tif ( _.isArray( dataPackages )\r\n\t\t\t\t\t\t\t\t\t&& dataPackages.length > 0\r\n\t\t\t\t\t\t\t\t\t&& _.has( dataPackages[0], \"data\")\r\n\t\t\t\t\t\t\t\t\t&& _.has(dataPackages[0].data, \"attachment_folder_id\")\r\n\t\t\t\t\t\t\t\t\t) {\r\n\r\n\t\t\t\t\t\t\t\t\tattachmentsID = dataPackages[0].data.attachment_folder_id;\r\n\r\n\t\t\t\t\t\t\t\t\twfAttachmentsNode = options.context.getModel(NodeFactory, {\r\n\t\t\t\t\t\t\t\t\t\tattributes: {\r\n\t\t\t\t\t\t\t\t\t\t\tid: attachmentsID\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\twfAttachmentsNode\r\n\t\t\t\t\t\t\t\t\t\t.fetch()\r\n\t\t\t\t\t\t\t\t\t\t.then( function() {\r\n\t\t\t\t\t\t\t\t\t\t\tself.options.wfAttachmentsNode = wfAttachmentsNode;\r\n\t\t\t\t\t\t\t\t\t\t\tself._renderStatusScreen();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\tconsole.warn( \"The dataID for the Workflow Attachments is not available.\" );\r\n\t\t\t\t\t\t\t\t\tself._unblockParentActions();\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tconsole.log( \"Could not get data packages from Worklow model.\" );\r\n\t\t\t\t\t\t\t\tself._unblockParentActions();\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tself._renderStatusScreen();\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}, function( error ) {\r\n\t\t\t\t\t// error requiring node models:\r\n\t\t\t\t\tself._unblockParentActions();\r\n\t\t\t\t}); // require\r\n\r\n\t\t},\r\n\r\n\t\t// Shows the Status Screen.\r\n\t\t// Checks to make sure the required models are populated before showing the Status Screen view\r\n\t\t_renderStatusScreen: function() {\r\n\r\n\t\t\tvar dialogTitle,\r\n\t\t\t\tstatusScreenDialog,\r\n\t\t\t\tstatusScreenView,\r\n\t\t\t\thasSecondaryNode,\r\n\t\t\t\tself = this,\r\n\t\t\t\toptions = this.statusScreenOptions,\r\n\t\t\t\tspecifics = options.destinationModel.get(\"destination_specific\"),\r\n\t\t\t\toutputDestination = options.destinationModel.get(\"output_destination\"),\r\n\t\t\t\tdeferred = $.Deferred();\r\n\r\n\r\n\t\t\tif ( outputDestination === \"node\" ) {\r\n\t\t\t\t// Is this Node destination with Add Version, or the Version destination?\r\n\t\t\t\tif ( _.has(specifics, \"add_version_to_id\")){\r\n\t\t\t\t\toutputDestination = \"version\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tdialogTitle = ( options.destinationModel.get(\"run_in_background\") ) ? lang.WebReportExecutingInBackground : lang.WebReportExecutedSuccessfully;\r\n\r\n\t\t\tthis._unblockParentActions();\r\n\r\n\t\t\t// Require in the status view to prevent cyclic dependencies:\r\n\t\t\trequire( [\r\n\t\t\t\t\t'csui/controls/dialog/dialog.view',\r\n\t\t\t\t\t'webreports/controls/status.screen/status.screen.view'],\r\n\t\t\t\tfunction( DialogView,\r\n\t\t\t\t\t\t  StatusScreen ){\r\n\r\n\t\t\t\t\t// Create the dialog view first:\r\n\t\t\t\t\tstatusScreenDialog = new DialogView({\r\n\t\t\t\t\t\ttitle: dialogTitle,\r\n\t\t\t\t\t\tbuttons: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: lang.okLabel,\r\n\t\t\t\t\t\t\t\tclose: true,\r\n\t\t\t\t\t\t\t\tclick: _.bind(self._unblockParentActions, self)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Create the Status Screen view, passing in the dialogView for easy access later:\r\n\t\t\t\t\tstatusScreenView = new StatusScreen( _.extend( options, {dialogView: statusScreenDialog}) );\r\n\r\n\t\t\t\t\t// Set the Status Screen view as the view for the DialogView:\r\n\t\t\t\t\tstatusScreenDialog.options.view = statusScreenView;\r\n\r\n\t\t\t\t\t// Listen for when one of the links is clicked in the Status Screen, so we can turn off the blocking view:\r\n\t\t\t\t\tstatusScreenView.on( \"onClickNodeLink\", _.bind( self._unblockParentActions, self) )\r\n\t\t\t\t\t\t\t\t\t.on( \"onClickSecondaryLink\", _.bind( self._unblockParentActions, self));\r\n\r\n\t\t\t\t\t// Show the DialogView:\r\n\t\t\t\t\tstatusScreenDialog.show();\r\n\r\n\t\t\t\t\tdeferred.resolve();\r\n\r\n\t\t\t\t},\r\n\t\t\t\tfunction(){\r\n\t\t\t\t\tdeferred.reject();\r\n\t\t\t\t}\r\n\r\n\t\t\t); // end require\r\n\r\n\r\n\t\t},\r\n\r\n\r\n\t\tshowStatusScreen: function(){\r\n\r\n\t\t\tvar options = this.statusScreenOptions,\r\n\t\t\t\trib = options.runInBackground,\r\n\t\t\t\tdestination_data = (rib) ? options.destinationModel.toJSON() : options.executeModel.get(\"data\").destination_data // if it's running in background, use the destination info from the runPre forms result since we don't have the actual output yet\r\n\t\t\t\t;\r\n\r\n\t\t\t// Check to see if we need to get any additional models for the status screen:\r\n\t\t\tif (!rib && destination_data.output_destination in this.additionalModelMap ) {\r\n\t\t\t\tthis._getStatusScreenModels();\r\n\t\t\t} else {\r\n\t\t\t\t// We have all we need:\r\n\t\t\t\tthis._renderStatusScreen();\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t// Evaluates the destination setting and routes accordingly.\r\n\t\t// Used for WRs that DON'T have any prompts, but use the Browser destination:\r\n\t\t_checkExecutionRoute: function(parms){\r\n\r\n\t\t\tvar executionRoute,\r\n\t\t\t\tdestinationModel = this.destinationModel;\r\n\r\n\t\t\tswitch (destinationModel.get(\"output_destination\")) {\r\n\r\n\t\t\t\t// browser and desktop use the classic opener:\r\n\t\t\t\tcase \"browser\":\r\n\t\t\t\tcase \"desktop\":\r\n\t\t\t\t\texecutionRoute = \"classic\";\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t// everything else uses the status screen currently:\r\n\t\t\t\t\texecutionRoute = \"smart_ui\";\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn executionRoute;\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\r\n\t\t// Checks the runPre model to see if the WebReport has any prompt-able parameters:\r\n\t\t// Returns 1 of 3 possible states:\r\n\t\t//\t\t\t- WR has no parameters to prompt (noPrompts)\r\n\t\t//\t\t\t- WR has parameters that are supported in the smartUI (showSmartPrompts)\r\n\t\t//\t\t\t- WR has parameters that aren't supported in smartUI OR a custom prompt screen. (showClassicPrompts)\r\n\t\t_checkPrompts: function () {\r\n\r\n\t\t\tvar parm,\r\n\t\t\t\tcurrentSchema,\r\n\t\t\t\tcurrentOptions,\r\n\t\t\t\tformSchema,\r\n\t\t\t\tformOptions,\r\n\t\t\t\tpromptRoute = \"noPrompts\",\r\n\t\t\t\tparametersModel = this.parametersModel,\r\n\t\t\t\tpromptFileId = parametersModel.get(\"prompt_file_id\"),\r\n\t\t\t\tshowPrompts = false,\r\n\t\t\t\thasCustomPromptScreen = false,\r\n\t\t\t\trunWRPreModel = this.runWRPreModel,\r\n\t\t\t\tself = this;\r\n\r\n\r\n\t\t\tif (typeof runWRPreModel !== \"undefined\") {\r\n\r\n\t\t\t\thasCustomPromptScreen = ( typeof promptFileId !== \"undefined\" && promptFileId !== \"\" );\r\n\r\n\t\t\t\tif ( hasCustomPromptScreen ) {\r\n\r\n\t\t\t\t\t// There's a custom prompt screen:\r\n\t\t\t\t\tpromptRoute = \"showClassicPrompts\";\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// No custom prompt screen, now check each parameter for compatibilty with SmartUI:\r\n\t\t\t\t\tformSchema = runWRPreModel.get(\"schema\");\r\n\t\t\t\t\tformOptions = runWRPreModel.get(\"options\");\r\n\r\n\t\t\t\t\tif (typeof formSchema !== \"undefined\" && typeof formOptions !== \"undefined\") {\r\n\r\n\t\t\t\t\t\tfor (parm in formSchema.properties) {\r\n\r\n\t\t\t\t\t\t\tif (formSchema.properties.hasOwnProperty(parm)) {\r\n\r\n\t\t\t\t\t\t\t\tcurrentSchema = formSchema.properties[parm];\r\n\t\t\t\t\t\t\t\tcurrentOptions = formOptions.fields[parm];\r\n\r\n\t\t\t\t\t\t\t\t// Do we have any viewable prompt parms?\r\n\t\t\t\t\t\t\t\tif (currentOptions.hidden === false) {\r\n\r\n\t\t\t\t\t\t\t\t\t// Is it a Custom parm?\r\n\t\t\t\t\t\t\t\t\tif (currentSchema.type === \"Custom\") {\r\n\r\n\t\t\t\t\t\t\t\t\t\t// There's a Custom prompt parameter, so we need to show the Classic prompt page:\r\n\t\t\t\t\t\t\t\t\t\tpromptRoute = \"showClassicPrompts\";\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t// This parameter is supported in the smartUI:\r\n\t\t\t\t\t\t\t\t\t\tpromptRoute = \"showSmartPrompts\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (promptRoute === \"showSmartPrompts\") {\r\n\t\t\t\t// Need to show the prompt screen.\r\n\t\t\t\tthis.switchToPromptView(status, this.options)\r\n\t\t\t\t\t.done(function(){\r\n\t\t\t\t\t\tself._unblockParentActions();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t} else if (promptRoute === \"showClassicPrompts\") {\r\n\r\n\t\t\t\t// Need to prompt in the classic UI:\r\n\t\t\t\tthis.openInClassic();\r\n\t\t\t\tthis._unblockParentActions();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// no prompts:\r\n\t\t\t\tthis.executeWR(this.options.parameters);\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\treturn promptRoute;\r\n\r\n\t\t},\r\n\r\n\t\t_blockParentActions: function () {\r\n\t\t\tvar origView;\r\n\t\t\tif (_.has(this, \"options\") && _.has( this.options, \"originatingView\") ){\r\n\t\t\t\torigView = this.options.originatingView;\r\n\t\t\t\torigView && origView.blockActions && origView.blockActions();\r\n\t\t\t\torigView && origView.tableView && origView.tableView.blockActions && origView.tableView.blockActions();\r\n\t\t\t} else {\r\n\t\t\t\t// We don't have parent view:\r\n\t\t\t\tconsole.log(\"Prepping WebReport...\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_unblockParentActions: function () {\r\n\t\t\tvar origView;\r\n\t\t\tif (_.has(this, \"options\") && _.has( this.options, \"originatingView\") ){\r\n\t\t\t\torigView = this.options.originatingView;\r\n\t\t\t\torigView && origView.unblockActions && origView.unblockActions();\r\n\t\t\t\torigView && origView.tableView && origView.tableView.unblockActions && origView.tableView.unblockActions();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t_.extend(RunWebReportPreController, {version: \"1.0\"});\r\n\r\n\treturn RunWebReportPreController;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!webreports/widgets/parameter.prompt.form/impl/parameter.prompt.layout',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"webreport-parameter-prompt\\\">\\r\\n\t<div class=\\\"webreport-parameter-prompt-header-container\\\"></div>\\r\\n\t<div class=\\\"webreport-parameter-prompt-content-container\\\"></div>\\r\\n\t<div class=\\\"webreport-parameter-prompt-footer-container\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('webreports_widgets_parameter.prompt.form_impl_parameter.prompt.layout', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!webreports/widgets/parameter.prompt.form/impl/parameter.prompt',[],function(){});\n","csui.define('webreports/widgets/parameter.prompt.form/parameter.prompt.form.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n\t'csui/utils/base', 'csui/models/node/node.model',\r\n\t'csui/utils/contexts/factories/node',\r\n\t'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n\t'csui/utils/nodesprites',\r\n\t'csui/controls/progressblocker/blocker',\r\n\t'webreports/widgets/parameter.prompt.form/impl/header/parameter.prompt.header.view',\r\n\t'webreports/widgets/parameter.prompt.form/impl/footer/parameter.prompt.footer.view',\r\n\t'csui/utils/commandhelper',\r\n\t'csui/utils/commands',\r\n\t'webreports/controls/run.webreport.pre/run.webreport.pre.controller',\r\n\t'i18n!webreports/widgets/parameter.prompt.form/impl/nls/lang',\r\n\t'hbs!webreports/widgets/parameter.prompt.form/impl/parameter.prompt.layout',\r\n\t'css!webreports/widgets/parameter.prompt.form/impl/parameter.prompt'\r\n], function (_, $, Marionette, base, NodeModel,\r\n\t\t\t NodeModelFactory,\r\n\t\t\t ViewEventsPropagationMixin, NodeSpriteCollection,\r\n\t\t\t BlockingView,\r\n\t\t\t PromptHeaderView,\r\n\t\t\t PromptFooterView,\r\n\t\t\t CommandHelper,\r\n\t\t\t commands,\r\n\t\t\t RunWebReportPreController,\r\n\t\t\t lang, template) {\r\n\r\n\tvar ParameterPromptLayoutView = Marionette.LayoutView.extend({\r\n\r\n\t\ttemplate: template,\r\n\r\n\t\tregions: {\r\n\t\t\theader: \".webreport-parameter-prompt-header-container\",\r\n\t\t\tcontent: \".webreport-parameter-prompt-content-container\",\r\n\t\t\tfooter: \".webreport-parameter-prompt-footer-container\"\r\n\t\t},\r\n\r\n\t\tconstructor: function (options) {\r\n\t\t\tMarionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n\t\t\tthis.options = options;\r\n\r\n\t\t\tthis.RunWRController = ( _.has( options, \"RunWRController\") ) ? options.RunWRController : new RunWebReportPreController(); //2nd case is for test page scenarios\r\n\r\n\t\t\tBlockingView.imbue(this);\r\n\t\t},\r\n\r\n\t\tchildEvents: {\r\n\t\t\t\"submitWR\": \"submitWR\",\r\n\t\t\t\"cancelWR\": \"cancelWR\",\r\n\t\t\t\"onClickBackArrow\": \"_closePromptView\",\r\n\t\t\t\"show:prompt:form\": \"showPromptForm\"\r\n\t\t},\r\n\r\n\t\tonBeforeShow: function(){\r\n\r\n\t\t\tvar self = this,\r\n\t\t\t\toptions = this.options || {};\r\n\r\n\t\t\tthis.blockActions();\r\n\r\n\t\t\t// Get the FormView:\r\n\t\t\tthis.RunWRController.getFormView(options)\r\n\t\t\t\t.done(function( formView ){\r\n\r\n\t\t\t\t\tif ( typeof formView !== \"undefined\" ){\r\n\t\t\t\t\t\tself.showChildView( \"content\", formView );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tself.unblockActions();\r\n\t\t\t\t});\r\n\r\n\t\t\t// Show the Header:\r\n\t\t\tthis.showChildView( \"header\", new PromptHeaderView( options ));\r\n\t\t\t\r\n\t\t\t// Show the footer:\r\n\t\t\tthis.showChildView( \"footer\", new PromptFooterView( options ));\r\n\r\n\t\t\t// Handle close events:\r\n\t\t\tthis.listenTo(this.getChildView(\"header\"), \"promptView:close\", function () {\r\n\t\t\t\t\tself.trigger(\"promptView:close\");\r\n\t\t\t\t})\r\n\t\t\t\t// stops listening, so that the second subscribed event won't do any harm\r\n\t\t\t\t.listenTo(options.context, 'request', function () {\r\n\t\t\t\t\tself._closePromptView();\r\n\t\t\t\t})\r\n\t\t\t\t.listenTo(options.context, 'request:perspective', function () {\r\n\t\t\t\t\tself._closePromptView();\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\t_blockActions: function () {\r\n\t\t\tvar origView = this.options.originatingView;\r\n\t\t\torigView && origView.blockActions && origView.blockActions();\r\n\t\t},\r\n\r\n\t\t_unblockActions: function () {\r\n\t\t\tvar origView = this.options.originatingView;\r\n\t\t\torigView && origView.unblockActions && origView.unblockActions();\r\n\t\t},\r\n\r\n\r\n\t\tsubmitWR: function() {\r\n\r\n\t\t\t// Gather up the parms and pass them into the classic view:\r\n\t\t\tvar parm,\r\n\t\t\t\tparmData,\r\n\t\t\t\tschema,\r\n\t\t\t\tpromptView = this.getRegion(\"content\").currentView,\r\n\t\t\t\tparmsOK = promptView.validate();\r\n\r\n\t\t\tif (parmsOK === true) {\r\n\r\n\t\t\t\tparmData = promptView.getValues(); // The entered values\r\n\r\n\r\n\t\t\t\t// Check for any parms that are Not A Number, which is the value that alpaca returns for Number fields that are empty.\r\n\t\t\t\t// This prevents the NaN value being passed into the WR execution instead of a blank value.\r\n\t\t\t\tif ( _.has(promptView, \"alpaca\") && _.has(promptView.alpaca, \"schema\") && _.has(promptView.alpaca.schema, \"properties\")){\r\n\r\n\t\t\t\t\tschema =  promptView.alpaca.schema.properties;\r\n\r\n\t\t\t\t\tfor ( parm in schema ) {\r\n\r\n\t\t\t\t\t\tif ( schema[parm].type === \"number\" ){\r\n\r\n\t\t\t\t\t\t\tif (isNaN(parmData[parm])) {\r\n\t\t\t\t\t\t\t\t// Empty out the parms value so we don't pass NaN to the WR execution:\r\n\t\t\t\t\t\t\t\tparmData[parm] = \"\";\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t// We have the entered parameter data, now execute the WR:\r\n\t\t\t\tthis.RunWRController.executeWR( parmData );\r\n\r\n\t\t\t\t// Go back to the previous view:\r\n\t\t\t\tthis._closePromptView();\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tcancelWR: function() {\r\n\t\t\tthis._closePromptView();\r\n\t\t},\r\n\r\n\t\t_closePromptView: function() {\r\n\r\n\t\t\tvar node = this.options.model;\r\n\r\n\t\t\tif (node.get('type') === 1 && node.original && node.original.get('type') === 0) {\r\n\t\t\t\tthis.trigger(\"promptView:close\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.trigger('promptView:close:without:animation');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\treturn ParameterPromptLayoutView;\r\n\r\n});\r\n\n","\ncsui.define('json!webreports/widgets/parameter.prompt.form/parameter.prompt.form.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{widgetTitle}}\",\r\n  \"description\": \"{{widgetDescription}}\",\r\n  \"kind\": \"fullpage\",\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {}\r\n  },\r\n  \"options\": {}\r\n}\r\n);\n\n","csui.define('webreports/widgets/parameter.prompt.form/impl/nls/parameter.prompt.form.manifest',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('webreports/widgets/parameter.prompt.form/impl/nls/root/parameter.prompt.form.manifest',{\r\n  \"widgetTitle\": \"Parameter Prompt Widget\",\r\n  \"widgetDescription\": \"Displays a form to prompt the user for information based on the WebReports' Parameters settings\",\r\n  \"idTitle\": \"ID\",\r\n  \"idDescription\": \"The WebReport node for which to show the prompts\"\r\n});\r\n\r\n\n","\n","csui.define('webreports/utils/commands/defaultactionitems',[],function () {\r\n    'use strict';\r\n\r\n    return [\r\n        // WebReports\r\n        {\r\n            equals: {type: [30303]},\r\n            signature: 'OpenWebReport',\r\n            sequence: 30\r\n        }\r\n    ];\r\n\r\n});\r\n\n","csui.define('webreports/utils/commands/open.webreport',['require', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n\t'csui/utils/command.error', 'csui/utils/commandhelper', 'csui/models/command',\r\n\t'csui/models/nodes',\r\n\t'webreports/controls/run.webreport.pre/run.webreport.pre.controller'\r\n], function (require, _, $, Marionette,\r\n\t\t\t CommandError, CommandHelper, CommandModel,\r\n\t\t\t NodeCollection,\r\n\t\t\t RunWebReportPreController ) {\r\n\r\n\tvar OpenWebReportCommand = CommandModel.extend({\r\n\r\n\t\tconstructor: function OpenWebReportCommand() {\r\n\t\t\tCommandModel.prototype.constructor.call(this);\r\n\t\t\tthis.RunWRController = new RunWebReportPreController();\r\n\t\t},\r\n\r\n\t\tdefaults: {\r\n\t\t\tsignature: 'OpenWebReport',\r\n\t\t\tscope: \"single\"\r\n\t\t},\r\n\r\n\t\tenabled: function (status) {\r\n\t\t\tvar node = CommandHelper.getJustOneNode(status);\r\n\t\t\treturn node && node.get('type') === 30303;\r\n\t\t},\r\n\r\n\t\texecute: function (status, options) {\r\n\r\n\t\t\tvar theForms,\r\n\t\t\t\tshowPrompts,\r\n\t\t\t\tself = this,\r\n\t\t\t\tdeferred = $.Deferred();\r\n\r\n\r\n\t\t\tif ( !(_.has(options, \"node\") )) {\r\n\t\t\t\toptions.node = status.nodes.models[0];\r\n\t\t\t}\r\n\r\n\t\t\tthis.RunWRController.commandStatus = status;\r\n\r\n\t\t\t// Hand-off to the controller to determine prompt parameters/destination routes:\r\n\t\t\tshowPrompts = this.RunWRController.checkForPromptParameters(options)\r\n\t\t\t\t.done(function(){\r\n\t\t\t\t\tdeferred.resolve();\r\n\t\t\t\t})\r\n\t\t\t\t.fail(function(error){\r\n\t\t\t\t\tdeferred.reject();\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\treturn deferred.promise();\r\n\t\t}\r\n\r\n\t});\r\n\r\n\treturn OpenWebReportCommand;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!webreports/controls/status.screen/impl/status.screen',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\r\\n\t\t<div class=\\\"webreport-status-screen-row webreport-status-screen-data\\\">\\r\\n\t\t\t<div class=\\\"webreports-destination-icon-container icon_status_task_running_behind\\\" aria-hidden=\\\"true\\\"></div>\\r\\n\t\t\t<div class=\\\"webreports-destination-status-description\\\">\\r\\n\t\t\t\t<p>\"\n    + this.escapeExpression(((helper = (helper = helpers.runningInBackground || (depth0 != null ? depth0.runningInBackground : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"runningInBackground\",\"hash\":{}}) : helper)))\n    + \"</p>\\r\\n\t\t\t\t<p>\"\n    + this.escapeExpression(((helper = (helper = helpers.noFurtherResponse || (depth0 != null ? depth0.noFurtherResponse : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"noFurtherResponse\",\"hash\":{}}) : helper)))\n    + \"</p>\\r\\n\t\t\t\t<br>\\r\\n\t\t\t\t<p>\"\n    + this.escapeExpression(((helper = (helper = helpers.outputMessage || (depth0 != null ? depth0.outputMessage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"outputMessage\",\"hash\":{}}) : helper)))\n    + \"</p>\\r\\n\t\t\t</div>\\r\\n\t\t</div>\\r\\n\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.useConversion : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(4, data, 0),\"inverse\":this.program(6, data, 0)})) != null ? stack1 : \"\");\n},\"4\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\r\\n\t\t<div class=\\\"webreport-status-screen-row webreport-status-screen-data\\\">\\r\\n\t\t\t<div class=\\\"webreports-destination-icon-container icon_status_task_delayed\\\" aria-hidden=\\\"true\\\"></div>\\r\\n\t\t\t<div class=\\\"webreports-destination-status-description\\\">\\r\\n\t\t\t\t<p>\"\n    + this.escapeExpression(((helper = (helper = helpers.sentForConversion || (depth0 != null ? depth0.sentForConversion : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"sentForConversion\",\"hash\":{}}) : helper)))\n    + \"</p>\\r\\n\t\t\t\t<br>\\r\\n\t\t\t\t<p>\"\n    + this.escapeExpression(((helper = (helper = helpers.outputMessage || (depth0 != null ? depth0.outputMessage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"outputMessage\",\"hash\":{}}) : helper)))\n    + \"</p>\\r\\n\t\t\t</div>\\r\\n\t\t</div>\\r\\n\\r\\n\";\n},\"6\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"\\r\\n\t\t<div class=\\\"webreport-status-screen-row webreport-status-screen-data\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.iconClass : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(7, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\t\t\t<div class=\\\"webreports-destination-status-description\\\">\\r\\n\t\t\t\t<p>\"\n    + this.escapeExpression(((helper = (helper = helpers.destinationMessage || (depth0 != null ? depth0.destinationMessage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"destinationMessage\",\"hash\":{}}) : helper)))\n    + \"</p>\\r\\n\t\t\t\t\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.primaryData2 : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(9, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n\t\t\t\t<p>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.primaryIsLink : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(11, data, 0),\"inverse\":this.program(13, data, 0)})) != null ? stack1 : \"\")\n    + \"\t\t\t\t</p>\\r\\n\t\t\t</div>\\r\\n\t\t</div>\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.dualRows : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(15, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n\t\";\n},\"7\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\t\t\t\t<div class=\\\"webreports-destination-icon-container \"\n    + this.escapeExpression(((helper = (helper = helpers.iconClass || (depth0 != null ? depth0.iconClass : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"iconClass\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-hidden=\\\"true\\\"></div>\\r\\n\";\n},\"9\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<br><p>\"\n    + this.escapeExpression(((helper = (helper = helpers.primaryData2 || (depth0 != null ? depth0.primaryData2 : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"primaryData2\",\"hash\":{}}) : helper)))\n    + \"</p>\";\n},\"11\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\t\t\t\t\t\t<a id=\\\"primaryNodeLink\\\" href=\\\"#\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.primaryData || (depth0 != null ? depth0.primaryData : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"primaryData\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n\";\n},\"13\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\t\t\t\t\t\t<span class=\\\"webreports-status-screen-highlighted-text\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.primaryData || (depth0 != null ? depth0.primaryData : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"primaryData\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"15\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"\t\t<div class=\\\"webreport-status-screen-row webreport-status-screen-misc-data\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.secondaryIconClass : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(16, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\t\t\t<div class=\\\"webreports-destination-status-description\\\">\\r\\n\t\t\t\t<p>\"\n    + this.escapeExpression(((helper = (helper = helpers.secondaryNodeInfo || (depth0 != null ? depth0.secondaryNodeInfo : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"secondaryNodeInfo\",\"hash\":{}}) : helper)))\n    + \"</p>\\r\\n\t\t\t\t<p><a id=\\\"secondaryNodeLink\\\" href=\\\"#\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.secondaryData || (depth0 != null ? depth0.secondaryData : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"secondaryData\",\"hash\":{}}) : helper)))\n    + \"</a></p>\\r\\n\t\t\t</div>\\r\\n\t\t</div>\\r\\n\";\n},\"16\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\t\t\t\t<div class=\\\"webreports-destination-icon-container \"\n    + this.escapeExpression(((helper = (helper = helpers.secondaryIconClass || (depth0 != null ? depth0.secondaryIconClass : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"secondaryIconClass\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-hidden=\\\"true\\\"></div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"webreport-status-screen-container\\\">\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.runInBackground : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(3, data, 0)})) != null ? stack1 : \"\")\n    + \"\\r\\n\\r\\n</div>\";\n}});\nHandlebars.registerPartial('webreports_controls_status.screen_impl_status.screen', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('webreports/controls/status.screen/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('webreports/controls/status.screen/impl/nls/root/lang',{\r\n  genericIsProcessingMessage: \"The output of this report will be processed according to the parameters set under the Destination tab for this WebReport.\",\r\n  runningInBackground: \"This report is being run as a background task.\",\r\n  noFurtherResponse: \"You will not receive any further response for this report.\",\r\n  sentForConversion:  \"This report has been sent for conversion.\",\r\n  versionDestinationMessage: \"WebReport data has been added as a new version to the Content Server Document called:\",\r\n  nodeDestinationMessage: \"WebReport data has been sent to a new Content Server {0} called:\",\r\n  storedInContainer: \"Stored in container:\",\r\n  emailDestinationMessage: \"Report data has been sent as an email successfully.\",\r\n  formAppendDestinationMessage: \"New rows added to the Form:\",\r\n  formOverwriteDestinationMessage: \"Existing Form data cleared.\",\r\n  formOverwriteDestinationMessage2: \"New rows added to the Form:\",\r\n  formUpdateDestinationMessage: \"Rows updated in the Form:\",\r\n  serverDestinationMessage: \"The report output has been successfully downloaded to the server.\",\r\n  ftpDestinationMessage: \"The report output has been successfully sent to the FTP server.\",\r\n  workflowDestinationMessage: \"The following Workflow was successfully initiated:\",\r\n  workflowAttachmentMessage: \"The WebReport output was attached and can be found here:\",\r\n  unknownWebReportDestination: \"Unknown WebReport destination: \",\r\n  document: \"Document\",\r\n  customView: \"Custom View\",\r\n  attachments: \"Attachments\"\r\n});\n","\ncsui.define('css!webreports/controls/status.screen/impl/status.screen',[],function(){});\n","csui.define('webreports/controls/status.screen/status.screen.view',[\r\n\t'csui/lib/underscore',\r\n\t'csui/lib/marionette',\r\n\t'csui/controls/node-type.icon/node-type.icon.view',\r\n\t'csui/utils/node.links/node.links',\r\n\t'csui/behaviors/default.action/default.action.behavior',\r\n\t'csui/utils/smart.nodes/smart.nodes',\r\n\t'hbs!webreports/controls/status.screen/impl/status.screen',\r\n\t'i18n!webreports/controls/status.screen/impl/nls/lang',\r\n\t'css!webreports/controls/status.screen/impl/status.screen'\r\n], function( _,\r\n\t\t\t Marionette,\r\n\t\t\t NodeTypeIconView,\r\n\t\t\t NodeLinks,\r\n\t\t\t DefaultActionBehavior,\r\n\t\t\t SmartNodes,\r\n\t\t\t template,\r\n\t\t\t lang) {\r\n\t\r\n\t\r\n\tvar statusScreenView = Marionette.ItemView.extend({\r\n\r\n\t\tclassName: 'custom-message',\r\n\t\ttemplate: template,\r\n\r\n\t\tui: {\r\n\t\t\ticonContainer: \".webreport-status-screen-data\",\r\n\t\t\tsecondaryContainer: \".webreport-status-screen-misc-data\",\r\n\t\t\tparentLink: \".parentLink\"\r\n\t\t},\r\n\r\n\t\t\tevents: {\r\n\t\t\t'click #primaryNodeLink': \"onClickNodeLink\",\r\n\t\t\t'click #secondaryNodeLink': \"onClickSecondaryLink\"\r\n\t\t},\r\n\r\n\t\tbehaviors: {\r\n\t\t\tDefaultAction: {\r\n\t\t\t\tbehaviorClass: DefaultActionBehavior\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonClickNodeLink: function(event){\r\n\r\n\t\t\t// Do not navigate to the URL; it is there to bookmarking only\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\t// Trigger the default action and close the dialog:\r\n\t\t\tthis.triggerMethod('execute:defaultAction', this.options.primaryNode);\r\n\r\n\t\t\t// Close the dialog if the node is supported in the SmartUI, otherwise leave it open as the action executes in a new tab.\r\n\t\t\tif ( SmartNodes.isSupported(this.options.primaryNode) ){\r\n\t\t\t\tthis.options.dialogView.triggerMethod(\"click:close\", event);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tonClickSecondaryLink: function(event){\r\n\r\n\t\t\tvar actionNode,\r\n\t\t\t\topenWorkItemCommand,\r\n\t\t\t\twfAssignment,\r\n\t\t\t\tassignments,\r\n\t\t\t\twfData,\r\n\t\t\t\tdestination = this.options.destinationModel.get(\"output_destination\");\r\n\r\n\t\t\t// Do not navigate to the URL; it is there to bookmarking only\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\tif ( destination === \"workflow\" && _.has( this.options, \"wfAttachmentsNode\" ) ) {\r\n\r\n\t\t\t\tactionNode = this.options.wfAttachmentsNode;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tactionNode = this.options.secondaryNode;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Trigger the default action:\r\n\t\t\tthis.triggerMethod('execute:defaultAction', actionNode);\r\n\r\n\t\t\t// Close the dialog if the node is supported in the SmartUI, otherwise leave it open as the action executes in a new tab.\r\n\t\t\tif ( SmartNodes.isSupported( actionNode ) ){\r\n\t\t\t\tthis.options.dialogView.triggerMethod(\"click:close\", event);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t\r\n\r\n\t\ttemplateHelpers: function(){\r\n\r\n\t\t\tvar primaryNode,\r\n\t\t\t\tsecondaryNode,\r\n\t\t\t\tdestinationMessage,\r\n\t\t\t\tdestinationModel = this.options.destinationModel,\r\n\t\t\t\texecutionModel = this.options.executeModel,\r\n\t\t\t\toutputData = destinationModel.get(\"run_in_background\") ? destinationModel.toJSON() : executionModel.get(\"data\"),\r\n\t\t\t\tdestination_data = destinationModel.get(\"run_in_background\") ? outputData : outputData.destination_data,\r\n\t\t\t\tspecifics = destination_data.destination_specific,\r\n\t\t\t\tuseConversion = destination_data.use_conversion_engine,\r\n\t\t\t\trib = destination_data.run_in_background,\r\n\t\t\t\tgenericIsProcessingMessage = lang.genericIsProcessingMessage,\r\n\t\t\t\thelperData = {\r\n\t\t\t\t\tuseConversion: useConversion,\r\n\t\t\t\t\trunInBackground: rib\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\tif (rib) {\r\n\r\n\t\t\t\t// Running in background (takes precedence over other settings):\r\n\t\t\t\thelperData = _.extend( helperData, {\r\n\t\t\t\t\trunningInBackground: lang.runningInBackground,\r\n\t\t\t\t\tnoFurtherResponse: lang.noFurtherResponse,\r\n\t\t\t\t\toutputMessage: genericIsProcessingMessage\r\n\t\t\t\t});\r\n\r\n\t\t\t} else if (useConversion){\r\n\r\n\t\t\t\t// Using conversion:\r\n\t\t\t\thelperData = _.extend( helperData, {\r\n\t\t\t\t\tsentForConversion:  lang.sentForConversion,\r\n\t\t\t\t\toutputMessage: genericIsProcessingMessage\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Normal destination:\r\n\t\t\t\tswitch (destination_data.output_destination.toLowerCase()) {\r\n\r\n\t\t\t\t\tcase \"node\":\r\n\r\n\t\t\t\t\t\t// CS Node and CS Version:\r\n\t\t\t\t\t\tprimaryNode = this.options.primaryNode; // resulting output node\r\n\t\t\t\t\t\tsecondaryNode = this.options.secondaryNode; // parent of the output node\r\n\r\n\t\t\t\t\t\t// Update the message wording for new nodes/versions.\r\n\t\t\t\t\t\t// \"Version\" destination can be configured 2 ways:\r\n\t\t\t\t\t\t//   - CS Node destination with the Version export type, or\r\n\t\t\t\t\t\t//   - CS Node destination with the \"Add Version to Original\" Duplicate Name Action setting.\r\n\t\t\t\t\t\tif ( specifics.export_type.toLowerCase() === \"version\" || specifics.duplicate_name_action.toLowerCase() === \"addver\" ) {\r\n\r\n\t\t\t\t\t\t\thelperData = _.extend( helperData, {\r\n\t\t\t\t\t\t\t\tprimaryData: primaryNode.get(\"name\"),\r\n\t\t\t\t\t\t\t\tprimaryIsLink: true,\r\n\t\t\t\t\t\t\t\tdestinationMessage: lang.versionDestinationMessage,\r\n\t\t\t\t\t\t\t\tdualRows: false\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\thelperData = _.extend( helperData, {\r\n\t\t\t\t\t\t\t\tprimaryData: primaryNode.get(\"name\"),\r\n\t\t\t\t\t\t\t\tprimaryIsLink: true,\r\n\t\t\t\t\t\t\t\tdestinationMessage: _.str.sformat(lang.nodeDestinationMessage, (specifics.node_type === \"doc\") ? lang.document : lang.customView),\r\n\t\t\t\t\t\t\t\tsecondaryNodeInfo: lang.storedInContainer,\r\n\t\t\t\t\t\t\t\tparentURL: NodeLinks.getUrl(secondaryNode),\r\n\t\t\t\t\t\t\t\tsecondaryData: secondaryNode.get(\"name\"),\r\n\t\t\t\t\t\t\t\tdualRows: true\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\r\n\t\t\t\t\tcase \"email\":\r\n\r\n\t\t\t\t\t\thelperData = _.extend( helperData, {\r\n\t\t\t\t\t\t\tprimaryIsLink: false,\r\n\t\t\t\t\t\t\tdestinationMessage: lang.emailDestinationMessage,\r\n\t\t\t\t\t\t\tprimaryData: specifics.email_subject,\r\n\t\t\t\t\t\t\tdualRows: false,\r\n\t\t\t\t\t\t\ticonClass: \"icon_status_email_sent\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\r\n\r\n\t\t\t\t\tcase \"form\":\r\n\r\n\t\t\t\t\t\tswitch (specifics.append_form) {\r\n\r\n\t\t\t\t\t\t\tcase \"append\":\r\n\t\t\t\t\t\t\t\tdestinationMessage = lang.formAppendDestinationMessage;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase \"overwrite\":\r\n\t\t\t\t\t\t\t\tdestinationMessage = lang.formOverwriteDestinationMessage;\r\n\t\t\t\t\t\t\t\t_.extend( helperData, {\r\n\t\t\t\t\t\t\t\t\tprimaryData2:  lang.formOverwriteDestinationMessage2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase \"update\":\r\n\t\t\t\t\t\t\t\tdestinationMessage = lang.formUpdateDestinationMessage;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\thelperData = _.extend( helperData, {\r\n\t\t\t\t\t\t\tprimaryIsLink:false,\r\n\t\t\t\t\t\t\tdualRows: false,\r\n\t\t\t\t\t\t\tdestinationMessage: destinationMessage,\r\n\t\t\t\t\t\t\tprimaryData: outputData.rows_affected,\r\n\t\t\t\t\t\t\ticonClass: \"mime_form\"\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\r\n\t\t\t\t\tcase \"server\":\r\n\t\t\t\t\t\t// Don't show the output location/path to prevent info disclosure:\r\n\t\t\t\t\t\thelperData = _.extend( helperData, {\r\n\t\t\t\t\t\t\tprimaryIsLink: false,\r\n\t\t\t\t\t\t\tdualRows: false,\r\n\t\t\t\t\t\t\tdestinationMessage: lang.serverDestinationMessage,\r\n\t\t\t\t\t\t\ticonClass: \"icon_status_ftp_server\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\r\n\r\n\t\t\t\t\tcase \"ftp\":\r\n\t\t\t\t\t\t// Don't show the output location/path to prevent info disclosure:\r\n\t\t\t\t\t\thelperData = _.extend( helperData, {\r\n\t\t\t\t\t\t\tprimaryIsLink: false,\r\n\t\t\t\t\t\t\tdestinationMessage: lang.ftpDestinationMessage,\r\n\t\t\t\t\t\t\tdualRows: false,\r\n\t\t\t\t\t\t\ticonClass: \"icon_status_ftp_server\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\r\n\r\n\t\t\t\t\tcase \"workflow\":\r\n\r\n\t\t\t\t\t\tprimaryNode = this.options.primaryNode; // The dataID of the original WF map\r\n\t\t\t\t\t\tsecondaryNode = this.options.secondaryNode;  // The workID that was initiated\r\n\r\n\t\t\t\t\t\thelperData = _.extend( helperData, {\r\n\t\t\t\t\t\t\tprimaryIsLink: false,\r\n\t\t\t\t\t\t\tdualRows: specifics.workflow_attach_output,\r\n\t\t\t\t\t\t\tdestinationMessage: lang.workflowDestinationMessage,\r\n\t\t\t\t\t\t\tprimaryData: specifics.workflow_title\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t\t// WR output was attached to the WF:\r\n\t\t\t\t\t\tif (specifics.workflow_attach_output === true) {\r\n\r\n\t\t\t\t\t\t\t// Re-use the primary node, which is the Workflow Attachments dir:\r\n\t\t\t\t\t\t\thelperData = _.extend( helperData, {\r\n\t\t\t\t\t\t\t\tsecondaryNodeURL: NodeLinks.getUrl(secondaryNode),\r\n\t\t\t\t\t\t\t\tsecondaryNodeInfo: lang.workflowAttachmentMessage,\r\n\t\t\t\t\t\t\t\tsecondaryData: lang.attachments\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.warn(lang.unknownWebReportDestination + destination_data.output_destination);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\treturn helperData;\r\n\t\t},\r\n\r\n\r\n\t\tonRender: function() {\r\n\r\n\t\t\t// Render the icon view for the targetted node and its parent:\r\n\t\t\tvar primaryIconView,\r\n\t\t\t\tsecondaryIconView,\r\n\t\t\t\tprimaryIcon,\r\n\t\t\t\tsecondaryIcon,\r\n\t\t\t\tdestinationModel = this.options.destinationModel,\r\n\t\t\t\tspecifics = destinationModel.get(\"destination_specific\"),\r\n\t\t\t\tuseConversion = destinationModel.get(\"use_conversion_engine\"),\r\n\t\t\t\trib = destinationModel.get(\"run_in_background\");\r\n\r\n\r\n\t\t\tif (!rib && !useConversion) {\r\n\r\n\t\t\t\t// Normal destination:\r\n\t\t\t\tswitch (destinationModel.get(\"output_destination\").toLowerCase()) {\r\n\r\n\t\t\t\t\tcase \"node\":\r\n\r\n\t\t\t\t\t\t// CS Node and CS Version:\r\n\r\n\t\t\t\t\t\t// We always need a primary icon, add the rendered icons to the beginning of the containers:\r\n\t\t\t\t\t\tprimaryIconView = new NodeTypeIconView({node: this.options.primaryNode});\r\n\t\t\t\t\t\tprimaryIcon = primaryIconView.render();\r\n\t\t\t\t\t\tthis.ui.iconContainer.prepend(primaryIcon.$el);\r\n\r\n\t\t\t\t\t\t// We only need the 2nd model if it's Node Export Type, not for Version Export Type:\r\n\t\t\t\t\t\tif (_.has(specifics, \"export_type\") && specifics.export_type.toLowerCase() === \"node\") {\r\n\r\n\t\t\t\t\t\t\tsecondaryIconView = new NodeTypeIconView({node: this.options.secondaryNode});\r\n\t\t\t\t\t\t\tsecondaryIcon = secondaryIconView.render();\r\n\t\t\t\t\t\t\tthis.ui.secondaryContainer.prepend(secondaryIcon.$el);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"workflow\":\r\n\r\n\t\t\t\t\t\t// CS Workflow destination, add Attachments icon if the output is attached:\r\n\t\t\t\t\t\tprimaryIconView = new NodeTypeIconView({node: this.options.primaryNode});\r\n\t\t\t\t\t\tprimaryIcon = primaryIconView.render();\r\n\t\t\t\t\t\tthis.ui.iconContainer.prepend(primaryIcon.$el);\r\n\r\n\t\t\t\t\t\tif (destinationModel.get(\"destination_specific\").workflow_attach_output === true) {\r\n\t\t\t\t\t\t\tsecondaryIconView = new NodeTypeIconView({node: this.options.wfAttachmentsNode}),\r\n\t\t\t\t\t\t\t\tsecondaryIcon = secondaryIconView.render();\r\n\r\n\t\t\t\t\t\t\t// Add the rendered icons to the beginning of the containers:\r\n\t\t\t\t\t\t\tthis.ui.secondaryContainer.prepend(secondaryIcon.$el);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n\treturn statusScreenView;\r\n\t\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!webreports/controls/table.report/cells/launch.subwebreport/impl/launch.subwebreport',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<a href=\\\"#\\\" class=\\\"launch-subwebreport\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.icon_label || (depth0 != null ? depth0.icon_label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"icon_label\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n    <span class=\\\"icon \"\n    + this.escapeExpression(((helper = (helper = helpers.icon_class || (depth0 != null ? depth0.icon_class : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"icon_class\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"Launch SubWebReport\\\" role=\\\"button img\\\"></span>\\r\\n</a>\";\n}});\nHandlebars.registerPartial('webreports_controls_table.report_cells_launch.subwebreport_impl_launch.subwebreport', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('webreports/controls/table.report/cells/launch.subwebreport/impl/nls/launch.subwebreport.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('webreports/controls/table.report/cells/launch.subwebreport/impl/nls/root/launch.subwebreport.lang',{\r\n  button_label: 'Launch Sub-WebReport'\r\n\r\n});\r\n\n","\ncsui.define('css!webreports/controls/table.report/cells/launch.subwebreport/impl/launch.subwebreport',[],function(){});\n","csui.define('webreports/controls/table.report/cells/launch.subwebreport/launch.subwebreport.view',['csui/lib/backbone', 'csui/lib/underscore', 'csui/utils/commands', 'csui/controls/table/cells/templated/templated.view',\r\n    'csui/utils/contexts/factories/connector',\r\n    'csui/controls/table/cells/cell.registry',\r\n    'csui/models/node/node.model',\r\n    'hbs!webreports/controls/table.report/cells/launch.subwebreport/impl/launch.subwebreport',\r\n    'i18n!webreports/controls/table.report/cells/launch.subwebreport/impl/nls/launch.subwebreport.lang',\r\n    'css!webreports/controls/table.report/cells/launch.subwebreport/impl/launch.subwebreport'\r\n], function(Backbone, _, commands, TemplatedCellView, ConnectorFactory, cellViewRegistry, NodeModel, template, lang) {\r\n\r\n    var LaunchSubWebreportCellView = TemplatedCellView.extend({\r\n\r\n        template: template,\r\n\r\n\t\t// The original prototype for this is CellView. This extends from Marionette.View\r\n        // and requires the cell content to be rendered by the renderValue function\r\n        renderValue: function () {\r\n            var data = this.getValueData(),\r\n                html = data ? this.template(data) : '';\r\n\r\n            this.$el.html(html);\r\n        },\r\n\r\n        getValueData: function () {\r\n            var hoverText,\r\n                iconClass,\r\n                column = this.options.column;\r\n\r\n\r\n            if (column.attributes){\r\n                // If the column has a user-defined hoverText value then use it.\r\n                // This customises the title of the icon.\r\n                if(column.attributes.hoverText){\r\n                    hoverText = column.attributes.hoverText;\r\n                }\r\n\r\n                // If the column has a user-defined css value for the icon then use it.\r\n                if(column.attributes.iconClass){\r\n                    iconClass = column.attributes.iconClass;\r\n                }\r\n            }\r\n\r\n            return {\r\n                icon_label: hoverText || lang.button_label,\r\n                icon_class: iconClass || 'icon-subwebreport'\r\n            };\r\n        },\r\n\r\n        ui: {\r\n            launchSWR: '.launch-subwebreport'\r\n        },\r\n\r\n        events: {\r\n            'click @ui.launchSWR': 'onClickLaunchSubWebreport'\r\n        },\r\n\r\n        onClickLaunchSubWebreport: function(event) {\r\n            event.preventDefault();\r\n\r\n            var connector = this.options.context.getObject(ConnectorFactory),\r\n                WRNode = new NodeModel({\r\n                    id: this.model.get('subwebreportid')\r\n                }, {\r\n                    connector: connector\r\n                });\r\n\r\n            WRNode.fetch().done(_.bind(function() {\r\n                this.launchWebReport(WRNode);\r\n            }, this));\r\n\r\n        },\r\n\r\n        launchWebReport: function(node) {\r\n            var nodeCollection = new Backbone.Collection([node]),\r\n                openWebReport = commands.get('OpenWebReport'),\r\n                status = {\r\n                    nodes: nodeCollection,\r\n                    context: this.options.context\r\n                };\r\n\r\n            if (openWebReport && openWebReport.enabled(status)) {\r\n                openWebReport.execute(status, {\r\n                    context: this.options.context,\r\n                    parameters: this.model.attributes\r\n                });\r\n            }\r\n        }\r\n\r\n    }, {\r\n        hasFixedWidth: true,\r\n        columnClassName: 'launch-subwebreport-col'\r\n    });\r\n\r\n    cellViewRegistry.registerByColumnKey(\"subwebreportid\", LaunchSubWebreportCellView);\r\n\r\n    return LaunchSubWebreportCellView;\r\n\r\n});\n","// Placeholder for the build target file; the name must be the same,\r\n// include public modules from this component\r\n\r\ncsui.define('bundles/webreports-app',[\r\n\r\n    // Widgets:\r\n    \"webreports/widgets/tilereport/tilereport.view\",\r\n    \"json!webreports/widgets/tilereport/tilereport.manifest.json\",\r\n\t\"i18n!webreports/widgets/tilereport/impl/nls/tilereport.manifest\",\r\n    \"webreports/widgets/nodeslistreport/nodeslistreport.view\",\r\n    \"json!webreports/widgets/nodeslistreport/nodeslistreport.manifest.json\",\r\n\t\"i18n!webreports/widgets/nodeslistreport/impl/nls/nodeslistreport.manifest\",\r\n\t\"webreports/widgets/widget.carousel/widget.carousel.view\",\r\n    \"json!webreports/widgets/widget.carousel/widget.carousel.manifest.json\",\r\n\t\"i18n!webreports/widgets/widget.carousel/impl/nls/widget.carousel.manifest\",\r\n\t\"webreports/widgets/table.report/table.report.view\",\r\n\t\"json!webreports/widgets/table.report/table.report.manifest.json\",\r\n\t\"i18n!webreports/widgets/table.report/impl/nls/table.report.manifest\",\r\n\t\"webreports/widgets/parameter.prompt.form/parameter.prompt.form.view\",\r\n\t\"json!webreports/widgets/parameter.prompt.form/parameter.prompt.form.manifest.json\",\r\n\t\"i18n!webreports/widgets/parameter.prompt.form/impl/nls/parameter.prompt.form.manifest\",\r\n\t\r\n    // Models:\r\n    \"webreports/models/nodestablereport/nodestablereport.model\",\r\n    \"webreports/models/tablereport/tablereport.model\",\r\n    \"webreports/models/wrtext/wrtext.model\",\r\n\t\"webreports/models/widget.carousel/widget.carousel.model\",\r\n\t\"webreports/models/run.webreport.pre/run.webreport.pre.model\",\r\n\t\"webreports/models/run.webreport/run.webreport.model\",\r\n\r\n    // Commands:\r\n    \"webreports/utils/commands/defaultactionitems\",\r\n    \"webreports/utils/commands/open.webreport\",\r\n\t\"webreports/utils/commands/open.classic.webreport\",\r\n\t\"webreports/utils/commands/execute.webreport\",\r\n\t\r\n\t// Controls:\r\n\t\"webreports/controls/nodestablereport/nodestablereport.view\",\r\n\t\"webreports/controls/run.webreport.pre/run.webreport.pre.controller\",\r\n\t\"webreports/controls/status.screen/status.screen.view\",\r\n\t\"webreports/controls/table.report/table.report.view\",\r\n\r\n\t// Cells:\r\n    \"webreports/controls/table.report/cells/launch.subwebreport/launch.subwebreport.view\"\r\n\r\n\r\n], {});\r\n\r\ncsui.require([\"require\", \"css\"], function (require, css) {\r\n\r\n    css.styleLoad(require, \"webreports/bundles/webreports-app\");\r\n\r\n});\r\n\n"]}