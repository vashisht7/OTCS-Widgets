{"version":3,"file":"workflow-all.js","sources":["../../src/toolbars/impl/nls/lang.js","../../src/toolbars/impl/nls/root/lang.js","../../src/toolbars/impl/workflow.nodestable.toolbaritems!css","../../src/toolbars/workflow.nodestable.toolbaritems.js","../../src/toolbars/workflow.expanded.widget.toolbaritems.js","../../src/toolbars/workflow.search.toolbaritems.js","../../src/toolbars/workflow.workspaceheader.toolbaritems.js","../../src/utils/workitem.extension.controller.js","../../src/models/activity/activity.model.js","../../src/models/activity/activity.collection.model.js","../../src/models/activity/activity.collection.model.factory.js","../../src/widgets/workitem/workitem.activities/impl/nls/lang.js","../../src/widgets/workitem/workitem.activities/impl/nls/root/lang.js","../../src/widgets/workitem/workitem.activities/impl/activity.item!hbs","../../src/widgets/workitem/workitem.activities/impl/activity.item!css","../../src/widgets/workitem/workitem.activities/impl/activity.item.view.js","../../src/widgets/workitem/workitem.activities/impl/activity.list.view.js","../../src/widgets/workitem/workitem.activities/impl/workitem.activities!hbs","../../src/widgets/workitem/workitem.activities/impl/workitem.activities!css","../../src/widgets/workitem/workitem.activities/workitem.activities.view.js","../../src/widgets/workitem/workitem.activities/workitem.activities.controller.js","../../src/behaviors/list.keyboard.behavior.js","../../src/widgets/workitem/workitem.attachments/impl/nls/lang.js","../../src/widgets/workitem/workitem.attachments/impl/nls/root/lang.js","../../src/widgets/workitem/workitem.attachments/impl/nls/lang!i18n","../../src/widgets/workitem/workitem.attachments/impl/workitem.attachments.draganddrop.view.js","../../src/widgets/workitem/workitem.attachments/impl/workitem.attachment.tableactionbar.js","../../../../../../../../../empty:/controls/tabletoolbar/impl/nls/localized.strings!i18n","../../src/widgets/workitem/workitem.attachments/workitem.attachments.toolbaritems.js","../../src/commands/open.shortlink/open.shortlink.js","../../src/widgets/workitem/workitem.attachments/impl/workitem.attachmentitem!hbs","../../src/widgets/workitem/workitem.attachments/impl/workitem.attachments!css","../../src/widgets/workitem/workitem.attachments/impl/workitem.attachmentitem.view.js","../../src/widgets/workitem/workitem.attachments/impl/workitem.attachments.emptyDragAndDrop!hbs","../../src/widgets/workitem/workitem.attachments/impl/workitem.attachments.emptyDragAndDrop.view.js","../../src/widgets/workitem/workitem.attachments/impl/workitem.attachmentlist!hbs","../../src/widgets/workitem/workitem.attachments/impl/workitem.attachmentlist.view.js","../../src/widgets/workitem/workitem.attachments/impl/workitem.attachments.addfromDesktop.js","../../src/widgets/workitem/workitem.attachments/impl/workitem.attachments.addfromCS.js","../../src/widgets/workitem/workitem.attachments/impl/workitem.attachments.addShortcut.js","../../src/widgets/workitem/workitem.attachments/impl/workitem.attachmenttoolbar!hbs","../../src/widgets/workitem/workitem.attachments/impl/workitem.attachmenttoolbar.view.js","../../src/widgets/workitem/workitem.attachments/impl/workitem.attachments!hbs","../../src/widgets/workitem/workitem.attachments/workitem.attachments.view.js","../../src/widgets/workitem/workitem.attachments/workitem.attachments.controller.js","../../src/controls/popover/impl/popover!hbs","../../src/controls/popover/impl/popover!css","../../src/controls/popover/popover.view.js","../../src/controls/userpicker/userpicker.view.js","../../src/widgets/action/action.body/impl/action.body!hbs","../../src/widgets/action/action.body/impl/action.body.comment!hbs","../../src/widgets/action/action.body/impl/action.body.reviewDurationDate!hbs","../../src/widgets/action/action.body/impl/action.body.reviewDurationUnit!hbs","../../src/widgets/action/action.body/impl/action.body.authenticate!hbs","../../src/widgets/action/action.body/impl/assigneetypeselector!hbs","../../src/widgets/action/action.body/impl/nls/lang.js","../../src/widgets/action/action.body/impl/nls/root/lang.js","../../src/widgets/action/action.body/impl/action.body!css","../../src/widgets/action/action.body/action.body.view.js","../../src/dialogs/action.dialog/impl/nls/lang.js","../../src/dialogs/action.dialog/impl/nls/root/lang.js","../../src/dialogs/action.dialog/impl/action.dialog!css","../../src/dialogs/action.dialog/action.dialog.js","../../src/dialogs/action.dialog/action.dialog.model.js","../../src/models/wfstatus/wfstatus.model.js","../../src/models/wfstatus/wfstatus.model.factory.js","../../src/controls/usercards/impl/usercard!hbs","../../src/controls/usercards/nls/lang.js","../../src/controls/usercards/nls/root/lang.js","../../src/controls/usercards/impl/usercard!css","../../src/controls/usercards/usercard.view.js","../../src/models/wfstatus/usercard.model.js","../../src/controls/usercards/usercards.view.js","../../src/controls/usercards/impl/usercards.list!hbs","../../src/controls/usercards/usercards.list.view.js","../../src/controls/stepcards/impl/stepcard!hbs","../../src/controls/stepcards/nls/lang.js","../../src/controls/stepcards/nls/root/lang.js","../../src/controls/stepcards/impl/stepcard!css","../../src/controls/stepcards/stepcard.view.js","../../src/controls/stepcards/impl/stepcard.empty!hbs","../../src/controls/stepcards/stepcard.empty.view.js","../../src/controls/stepcards/impl/stepcards!hbs","../../src/controls/stepcards/stepcards.view.js","../../src/controls/stepcards/impl/stepcards.list!hbs","../../src/controls/stepcards/stepcards.list.view.js","../../src/widgets/wfstatus/impl/wfstatusitem.body!hbs","../../src/widgets/wfstatus/impl/nls/lang.js","../../src/widgets/wfstatus/impl/nls/root/lang.js","../../src/widgets/wfstatus/impl/wfstatus.progress!css","../../src/widgets/wfstatus/impl/wfstatusitem.body.view.js","../../src/models/wfstatus/tabpanel.model.js","../../src/widgets/wfstatus/impl/wfstatusitem.tabpanel.view.js","../../src/widgets/wfstatus/impl/wfstatusitem.details!hbs","../../src/widgets/wfstatus/impl/wfstatusitem.details.view.js","../../src/widgets/wfstatus/impl/wfstatusitem.attachments!hbs","../../src/widgets/wfstatus/impl/wfstatusitem.attachments.view.js","../../src/models/wfstatus/wfstatusinfo.model.js","../../src/models/wfstatus/wfstatusinfo.model.factory.js","../../src/utils/wfstatus.extension.controller.js","../../src/widgets/wfstatus/impl/wfstatus.progress!hbs","../../src/widgets/wfstatus/impl/wfstatus.progress.view!csui-ext","../../src/widgets/wfstatus/impl/wfstatus.progress.view.js","../../src/utils/workitem.util.js","../../src/widgets/workitem/workitem/impl/header!hbs","../../src/widgets/workitem/workitem/impl/workitem!css","../../src/widgets/workitem/workitem/impl/header.view.js","../../src/widgets/workitem/workitem/impl/footer.view.js","../../src/widgets/message/impl/message!hbs","../../src/widgets/message/impl/nls/lang.js","../../src/widgets/message/impl/nls/root/lang.js","../../src/widgets/message/impl/message!css","../../src/widgets/message/message.view.js","../../src/widgets/workitem/workitem.properties/impl/workitem.instructions!hbs","../../src/widgets/workitem/workitem.properties/impl/nls/lang.js","../../src/widgets/workitem/workitem.properties/impl/nls/root/lang.js","../../src/widgets/workitem/workitem.properties/impl/workitem.instructions!css","../../src/widgets/workitem/workitem.properties/impl/workitem.instructions.view.js","../../src/widgets/workitem/workitem.properties/impl/workitem.properties!hbs","../../src/widgets/workitem/workitem.properties/impl/workitem.properties!css","../../src/controls/form/fields/alpaca/alpcsuirealfield.js","../../src/controls/breadcrumbs/impl/breadcrumb/breadcrumb.view.js","../../src/controls/breadcrumbs/breadcrumbs.view.js","../../src/controls/form/impl/fields/itempicker/itempicker!hbs","../../src/controls/form/impl/nls/lang.js","../../src/controls/form/impl/nls/root/lang.js","../../src/controls/form/impl/fields/itempicker/itempicker!css","../../src/controls/form/fields/itempickerfield.view.js","../../src/controls/form/fields/alpaca/alpcsuiitemreferencefield.js","../../src/widgets/workitem/workitem.properties/workitem.properties.view.js","../../src/widgets/workitem/workitem.body/impl/workitem.body!hbs","../../src/widgets/workitem/workitem.body/impl/nls/lang.js","../../src/widgets/workitem/workitem.body/impl/nls/root/lang.js","../../src/widgets/workitem/workitem.body/impl/workitem.body!css","../../src/widgets/workitem/workitem.body/workitem.body.view.js","../../src/widgets/workitem/workitem.tabPanel/workitem.tabPanel.view.js","../../src/widgets/workitem/workitem/impl/workitem!hbs","../../src/widgets/workitem/workitem/impl/workitem.nopackages!hbs","../../src/widgets/workitem/workitem/impl/workitem.fullview!hbs","../../src/widgets/workitem/workitem/workitem.view.js","../../src/models/wfstatus/wfstatus.table.model.js","../../src/models/wfstatus/wfstatus.collection.factory.js","../../src/controls/visualdata/impl/wfdonut!hbs","../../src/controls/visualdata/impl/wfdonut!css","../../src/controls/visualdata/visual.data.donut.view.js","../../src/controls/behaviors/wfstatus.infinite.scrolling.behavior.js","../../src/controls/infinite.table/infinite.table.view.js","../../src/widgets/wfstatus/wfstatus.columns.js","../../src/models/wfstatus/wfstatus.column.factory.js","../../src/widgets/wfstatus/impl/wfstatuslist!hbs","../../src/widgets/wfstatus/impl/wfstatus!css","../../src/widgets/wfstatus/impl/wfstatus.list.view.js","../../src/widgets/wfstatus/impl/wfstatus.extended!hbs","../../src/widgets/wfstatus/impl/wfstatus.extended.view.js","../../src/widgets/wfstatus/impl/wfstatus!hbs","../../src/widgets/wfstatus/wfstatus.view.js","../../src/widgets/wfmonitor/impl/nls/lang.js","../../src/widgets/wfmonitor/impl/nls/root/lang.js","../../src/widgets/wfmonitor/wfmonitor.view.js","../../src/controls/table/cells/status.cell.js","../../src/controls/table/cells/date.cell.js","../../src/controls/table/cells/impl/assignee!hbs","../../src/controls/table/cells/impl/assignee!css","../../src/controls/table/cells/assignee.cell.js","../../src/controls/table/cells/impl/currentstep!hbs","../../src/controls/table/cells/impl/currentstep!css","../../src/controls/table/cells/currentstep.cell.js","../../src/models/proxyuser/proxy.user.form.model.js","../../src/controls/proxyuser/impl/proxy.user.form!hbs","../../src/controls/proxyuser/proxy.user.form.view.js","../../src/controls/proxyuser/impl/nls/lang.js","../../src/controls/proxyuser/impl/nls/root/lang.js","../../src/controls/proxyuser/impl/proxy.user.empty!hbs","../../src/controls/proxyuser/impl/proxyuser!css","../../src/controls/proxyuser/proxy.user.empty.view.js","../../src/controls/proxyuser/impl/proxy.user.tab!hbs","../../src/controls/proxyuser/proxy.user.tab.view.js","../../src/controls/proxyuser/proxy.user.tab.extension.js","../../src/perspective/context/plugins/workflow.perspective.context.plugin.js","../../src/perspective/context/plugins/impl/perspectives/workflow.json!json","../../src/widgets/wfstatus/wfstatus.manifest.json!json","../../src/widgets/wfmonitor/wfmonitor.manifest.json!json","../../src/widgets/wfstatus/impl/nls/wfstatus.manifest.js","../../src/widgets/wfstatus/impl/nls/root/wfstatus.manifest.js","../../src/widgets/wfmonitor/impl/nls/wfmonitor.manifest.js","../../src/widgets/wfstatus/impl/nls/wfstatus.manifest!i18n","../../src/widgets/wfmonitor/impl/nls/root/wfmonitor.manifest.js","workflow-all.js"],"names":[],"mappings":"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","sourcesContent":["// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('workflow/toolbars/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('workflow/toolbars/impl/nls/root/lang',{\r\n  NodesTableToolbarInitiateLabel: 'Start workflow',\r\n  NodesTableToolbarEditLabel: 'Edit'\r\n});\r\n\n","\ncsui.define('css!workflow/toolbars/impl/workflow.nodestable.toolbaritems',[],function(){});\n","csui.define('workflow/toolbars/workflow.nodestable.toolbaritems',['i18n!workflow/toolbars/impl/nls/lang',\r\n        'css!workflow/toolbars/impl/workflow.nodestable.toolbaritems'\r\n], function (lang) {\r\n  'use strict';\r\n\r\n  return {\r\n    tableHeaderToolbar: [\r\n      {\r\n        signature: 'InitiateWorkflow',\r\n        name: lang.NodesTableToolbarInitiateLabel,\r\n        group: 'main'\r\n      },\r\n      {\r\n        signature: 'InitiateDocumentWorkflow',\r\n        name: lang.NodesTableToolbarInitiateLabel,\r\n        group: 'main'\r\n      },\r\n      {\r\n        signature: 'EditWorkflowMap',\r\n        name: lang.NodesTableToolbarEditLabel,\r\n        group: 'main'\r\n      }\r\n    ],\r\n    inlineActionbar: [\r\n      {\r\n        signature: 'InitiateWorkflow',\r\n        name: lang.NodesTableToolbarInitiateLabel,\r\n        icon: 'icon icon-toolbar-wfinitiate',\r\n        group: 'other'\r\n      },\r\n      {\r\n        signature: 'InitiateDocumentWorkflow',\r\n        name: lang.NodesTableToolbarInitiateLabel,\r\n        icon: 'icon icon-toolbar-wfinitiate',\r\n        group: 'other'\r\n      },\r\n      {\r\n        signature: 'EditWorkflowMap',\r\n        name: lang.NodesTableToolbarEditLabel,\r\n        icon: 'icon icon-toolbar-edit',\r\n        group: 'other'\r\n      }\r\n    ]\r\n  };\r\n\r\n});\r\n\n","csui.define('workflow/toolbars/workflow.expanded.widget.toolbaritems',['i18n!workflow/toolbars/impl/nls/lang',\r\n        'css!workflow/toolbars/impl/workflow.nodestable.toolbaritems'\r\n], function (lang) {\r\n  'use strict';\r\n\r\n  return {\r\n    tableHeaderToolbar: [\r\n      \r\n      {\r\n        signature: 'InitiateDocumentWorkflow',\r\n        name: lang.NodesTableToolbarInitiateLabel,\r\n        group: 'main'\r\n      }\r\n    ],\r\n    inlineActionbar: [\r\n      \r\n      {\r\n        signature: 'InitiateDocumentWorkflow',\r\n        name: lang.NodesTableToolbarInitiateLabel,\r\n        icon: 'icon icon-toolbar-wfinitiate',\r\n        group: 'other'\r\n      }\r\n    ]\r\n  };\r\n\r\n});\r\n\n","csui.define('workflow/toolbars/workflow.search.toolbaritems',['i18n!workflow/toolbars/impl/nls/lang',\r\n        'css!workflow/toolbars/impl/workflow.nodestable.toolbaritems'\r\n], function (lang) {\r\n  'use strict';\r\n\r\n  return {\r\n    otherToolbar: [\r\n       {\r\n         signature: 'InitiateWorkflow',\r\n         name: lang.NodesTableToolbarInitiateLabel,\r\n         group: 'main'\r\n       },\r\n       {\r\n         signature: 'InitiateDocumentWorkflow',\r\n         name: lang.NodesTableToolbarInitiateLabel,\r\n         group: 'main'\r\n       }\r\n    ],\r\n     tableHeaderToolbar: [\r\n       {\r\n         signature: 'InitiateWorkflow',\r\n         name: lang.NodesTableToolbarInitiateLabel,\r\n         group: 'main'\r\n       }\r\n    ],\r\n     inlineToolbar: [\r\n       {\r\n         signature: 'InitiateWorkflow',\r\n         name: lang.NodesTableToolbarInitiateLabel,\r\n         icon: 'icon icon-toolbar-wfinitiate',\r\n         group: 'other'\r\n       },\r\n       {\r\n         signature: 'InitiateDocumentWorkflow',\r\n         name: lang.NodesTableToolbarInitiateLabel,\r\n         icon: 'icon icon-toolbar-wfinitiate',\r\n         group: 'other'\r\n       }\r\n    ],\r\n     tabularInlineToolbar: [\r\n       {\r\n         signature: 'InitiateWorkflow',\r\n         name: lang.NodesTableToolbarInitiateLabel,\r\n         icon: 'icon icon-toolbar-wfinitiate',\r\n         group: 'other'\r\n       }\r\n    ]\r\n\r\n  };\r\n\r\n});\r\n\n","csui.define('workflow/toolbars/workflow.workspaceheader.toolbaritems',[\r\n  'i18n!workflow/toolbars/impl/nls/lang',\r\n], function (lang) {\r\n  'use strict';\r\n\r\n  var headerToolbarItems = {\r\n    delayedActionsToolbar: [\r\n      {\r\n        signature: 'InitiateDocumentWorkflow',\r\n        name: lang.NodesTableToolbarInitiateLabel\r\n      }\r\n    ]\r\n  };\r\n  return headerToolbarItems;\r\n});\r\n\n","csui.define('workflow/utils/workitem.extension.controller',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/utils/log'\r\n], function (_, $, Backbone, log) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Work item extensions controller.\r\n   * Base object for other extension controller for the workflow Smart UI.\r\n   *\r\n   * @param options\r\n   * @constructor\r\n   */\r\n  function WorkItemExtensionController(options) {\r\n    this.context = options.context;\r\n  }\r\n\r\n  // Attach all inheritable methods to the Controller prototype.\r\n  _.extend(WorkItemExtensionController.prototype, {\r\n\r\n    /**\r\n     * Initialize is an empty function by default. Override it with your own\r\n     * initialization logic.\r\n     */\r\n    initialize: function () {},\r\n\r\n    /**\r\n     * Validates the controller for the given data package type and sub type\r\n     * @param type Type of the data package\r\n     * @param sub_type Sub type of the data package\r\n     * @returns {boolean} true when this controller can handle this data package, false if not\r\n     */\r\n    validate: function (type, sub_type) {\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Execute method for the controller.\r\n     * It does the main work for the controller and returns a promise object\r\n     * which is resolved when the controller work is done (e.g. a model is loaded)\r\n     * The parameter of the promise done method contains an member viewToShow\r\n     * this is the view which has to be shown in the work item view.\r\n     * @param options Parameters for the execution method, integration point, model, data package data, parent view, ...\r\n     * @return {promise} Returns a promise which will be resolved when the necessary actions are done.\r\n     *                   The argument of the done method has to contain the view which has to be displayed in the property viewToShow\r\n     */\r\n    execute: function (options) {\r\n      var deferred = $.Deferred();\r\n\r\n      // resolve the dummy promise\r\n      deferred.resolve();\r\n\r\n      // return the dummy promise\r\n      return deferred.promise();\r\n    },\r\n\r\n    /**\r\n     * ExcuteAction function for the controller.\r\n     *\r\n     * @param options Parameters for the function, including workitem model, executed action, ...\r\n     * @returns {*}\r\n     */\r\n    executeAction: function (options) {\r\n      var deferred = $.Deferred();\r\n\r\n      // resolve the dummy promise\r\n      deferred.resolve();\r\n\r\n      // return the dummy promise\r\n      return deferred.promise();\r\n    },\r\n\r\n    /**\r\n     * customizeFooter function for the controller.\r\n     *\r\n     * @param options Parameters for the function, including buttonlist and workitem model\r\n     * action, ...\r\n     * @returns {*}\r\n     */\r\n    customizeFooter: function (options) {\r\n      var deferred = $.Deferred();\r\n\r\n      // resolve the dummy promise\r\n      deferred.resolve();\r\n\r\n      // return the dummy promise\r\n      return deferred.promise();\r\n    }\r\n  });\r\n\r\n  WorkItemExtensionController.extend = Backbone.Model.extend;\r\n\r\n  // Definitions of the possible extension points\r\n  WorkItemExtensionController.ExtensionPoints = {\r\n    // Show an additional side bar view\r\n    AddSidebar: 1,\r\n    // Show an additional view in the forms area\r\n    AddForm: 2,\r\n    // Show extension view instead of the workitem view\r\n    FullView: 3\r\n  };\r\n\r\n  return WorkItemExtensionController;\r\n});\r\n\n","csui.define('workflow/models/activity/activity.model',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone'\r\n], function (_, $, Backbone) {\r\n  'use strict';\r\n\r\n  var ActivityModel = Backbone.Model.extend({\r\n\r\n    constructor: function ActivityModel(attributes, options) {\r\n      // initialize options\r\n      options || (options = {});\r\n\r\n      // get the connector\r\n      this.connector = options.connector || options.collection.connector;\r\n\r\n      // initialize model\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n    }\r\n  });\r\n\r\n  return ActivityModel;\r\n\r\n});\n","csui.define('workflow/models/activity/activity.collection.model',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/utils/url',\r\n  'workflow/models/activity/activity.model'\r\n], function (_, $, Backbone, Url, ActivityModel) {\r\n  'use strict';\r\n\r\n  var ActivityCollection = Backbone.Collection.extend({\r\n\r\n    // the model\r\n    model: ActivityModel,\r\n\r\n    url: function () {\r\n      var url = this.connector.connection.url.replace('/v1', '/v2');\r\n      return Url.combine(url,\r\n          'processes', this._processId,\r\n          'subprocesses', this._subprocessId,\r\n          'activities');\r\n    },\r\n\r\n    parse: function (response) {\r\n      return response.results.data;\r\n    },\r\n\r\n    constructor: function ActivityCollection(context, options) {\r\n      // initialize type\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      // connect model\r\n      if (options && options.connector) {\r\n        options.connector.assignTo(this);\r\n      }\r\n    },\r\n\r\n    isFetchable: function () {\r\n      if (this._processId !== undefined && this._subprocessId !== undefined) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    setData: function (data) {\r\n      this._processId = data.processId;\r\n      this._subprocessId = data.subprocessId;\r\n    }\r\n  });\r\n\r\n  // return type\r\n  return ActivityCollection;\r\n});\r\n\n","csui.define('workflow/models/activity/activity.collection.model.factory',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector',\r\n  'workflow/models/activity/activity.collection.model'\r\n], function ($, _, ModelFactory, ConnectorFactory, ActivityCollectionModel) {\r\n  'use strict';\r\n\r\n  var ActivityCollectionModelFactory = ModelFactory.extend({\r\n\r\n    // Unique prefix of the default model instance, when this model is placed\r\n    // to a context to be shared by multiple widgets\r\n    propertyPrefix: 'activities',\r\n\r\n    constructor: function ActivityCollectionModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      // Obtain the server connector from the application context to share\r\n      // the server connection with the rest of the application; include\r\n      // the options, which can contain settings for dependent factories\r\n      var connector = context.getObject(ConnectorFactory, options);\r\n      this.context = context;\r\n\r\n      // Expose the model instance in the `property` key on this factory\r\n      // instance to be used by the context\r\n      this.property = new ActivityCollectionModel(undefined, {\r\n        connector: connector\r\n      });\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  return ActivityCollectionModelFactory;\r\n});\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('workflow/widgets/workitem/workitem.activities/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","// Defines localizable strings in the default language (English)\r\ncsui.define('workflow/widgets/workitem/workitem.activities/impl/nls/root/lang',{\r\n  actionLabel: 'Action taken',\r\n  actionAriaLabel: 'Action taken by',\r\n  actionTextAttachmentAttach: 'Attach',\r\n  actionTextAttachmentUpdate: 'Update',\r\n  actionTextForward: 'Forward',\r\n  actionTextReassign: 'Re-assign',\r\n  actionTextReview: 'Send for review',\r\n  actionTextReply: 'Reply',\r\n  actionTextSendOn: 'Send on',\r\n  actionTextStart: 'Start',\r\n  actionTextForwardTo: 'Forwarded to:',\r\n  actionTextReassignTo: 'Reassigned to:',\r\n  actionTextReviewTo: 'Sent to:',\r\n  viewTitle: 'Activities',\r\n  anonymousUserName: 'Anonymous User',\r\n  dateAria: '{0}: Date of Activity',\r\n  activityAria: '{0}:{1} at {2}:{3}',\r\n  linkTitleAria: '{0} of type {1}'\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/workitem/workitem.activities/impl/activity.item',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    <div class=\\\"attachment\\\">\\r\\n      <div class=\\\"attachment-icon\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.attachmentIcon || (depth0 != null ? depth0.attachmentIcon : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"attachmentIcon\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n      <div class=\\\"attachment-name\\\">\\r\\n        <a href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.attachmentUrl || (depth0 != null ? depth0.attachmentUrl : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"attachmentUrl\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-describedby=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.attachmentDescID || (depth0 != null ? depth0.attachmentDescID : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"attachmentDescID\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.attachmentName || (depth0 != null ? depth0.attachmentName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"attachmentName\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n      </div>\\r\\n    </div>\\r\\n    <p id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.attachmentDescID || (depth0 != null ? depth0.attachmentDescID : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"attachmentDescID\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"attachment-desc\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.attachmentDesc || (depth0 != null ? depth0.attachmentDesc : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"attachmentDesc\",\"hash\":{}}) : helper)))\n    + \"</p>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.comment : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(4, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.reassign : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(6, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"4\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"      <p class=\\\"comment\\\" title =\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.commentText || (depth0 != null ? depth0.commentText : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"commentText\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.commentText || (depth0 != null ? depth0.commentText : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"commentText\",\"hash\":{}}) : helper)))\n    + \"</p>\\r\\n\";\n},\"6\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"      <div class=\\\"reassign\\\">\\r\\n        <p class=\\\"reassign-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.reassignLabel || (depth0 != null ? depth0.reassignLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"reassignLabel\",\"hash\":{}}) : helper)))\n    + \"</p>\\r\\n        <div class=\\\"reassign-user\\\"></div>\\r\\n      </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"activity-item\\\">\\r\\n  <div class=\\\"header\\\">\\r\\n    <div hidden id=\"\n    + this.escapeExpression(((helper = (helper = helpers.ariaDescribedById || (depth0 != null ? depth0.ariaDescribedById : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ariaDescribedById\",\"hash\":{}}) : helper)))\n    + \">\"\n    + this.escapeExpression(((helper = (helper = helpers.activityAriaDescription || (depth0 != null ? depth0.activityAriaDescription : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"activityAriaDescription\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"details\\\">\\r\\n      <div class=\\\"user\\\"></div>\\r\\n      <p class=\\\"date\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.dateAria || (depth0 != null ? depth0.dateAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"dateAria\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.exactDate || (depth0 != null ? depth0.exactDate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"exactDate\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.date || (depth0 != null ? depth0.date : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"date\",\"hash\":{}}) : helper)))\n    + \"</p>\\r\\n    </div>\\r\\n    <p class=\\\"action\\\">\\r\\n      <span class=\\\"action-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.actionLabel || (depth0 != null ? depth0.actionLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"actionLabel\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n      <span class=\\\"action-text\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.action || (depth0 != null ? depth0.action : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"action\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n    </p>\\r\\n  </div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.attachment : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(3, data, 0)})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_widgets_workitem_workitem.activities_impl_activity.item', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!workflow/widgets/workitem/workitem.activities/impl/activity.item',[],function(){});\n","csui.define('workflow/widgets/workitem/workitem.activities/impl/activity.item.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  'csui/controls/form/fields/userfield.view',\r\n  'csui/controls/node-type.icon/node-type.icon.view',\r\n  'csui/models/member',\r\n  'csui/models/node/node.model',\r\n  'csui/utils/base',\r\n  'csui/utils/commands/open',\r\n  'csui/utils/nodesprites',\r\n  'i18n!workflow/widgets/workitem/workitem.activities/impl/nls/lang',\r\n  'hbs!workflow/widgets/workitem/workitem.activities/impl/activity.item',\r\n  'css!workflow/widgets/workitem/workitem.activities/impl/activity.item'\r\n], function (_, $, Backbone, Marionette, DefaultActionBehavior, UserFieldView, NodeTypeIconView,\r\n    MemberModel, NodeModel, base, OpenCommand, NodeSpriteCollection, lang, template) {\r\n  'use strict';\r\n\r\n  var Activity = Marionette.LayoutView.extend({\r\n\r\n    className: 'workflow-activity',\r\n\r\n    template: template,\r\n    tagName: 'li',\r\n\r\n    templateHelpers: function () {\r\n      // get attachment infomation\r\n      this.activityAriaDescribedById = _.uniqueId('ActivityDescID_');\r\n      var info = this._getAttachmentInfo();\r\n      var comment = this.model.get('comment');\r\n      var activityDate = this._getAuditDate(true);\r\n      var activityAction = this._getAuditAction();\r\n      var ariaComment;\r\n      if (comment && comment.length !== 0){\r\n        ariaComment = comment;\r\n      }\r\n      else{\r\n        ariaComment = \"\";\r\n      }\r\n      var activityAriaDescription = _.str.sformat(lang.activityAria, lang.actionLabel, activityAction, activityDate, ariaComment);\r\n      // return the JSON for the template\r\n      return {\r\n        date: activityDate,\r\n        exactDate: this._getAuditDate(false),\r\n        actionLabel: lang.actionLabel,\r\n        action: activityAction,\r\n        comment: (comment && comment.length !== 0),\r\n        commentText: comment,\r\n        reassign: this._isReassignAction(),\r\n        reassignLabel: this._getReassignLabel(),\r\n        attachment: info.isAttachmentAction,\r\n        attachmentUrl: info.url,\r\n        attachmentName: info.name,\r\n        attachmentDesc: info.description,\r\n        attachmentDisabled: this._hasAttachmentOpenAction(),\r\n        dateAria: lang.dateAria.replace('{0}', activityDate),\r\n        attachmentDescID:_.uniqueId('descID_'),\r\n        activityAriaDescription:activityAriaDescription,\r\n        ariaDescribedById: this.activityAriaDescribedById\r\n      };\r\n    },\r\n\r\n    events: {\r\n      'click .attachment-name > a': 'onDownloadAttachment'\r\n    },\r\n\r\n    _getAuditDate: function (friendly) {\r\n      if (friendly === true) {\r\n        // convert the audit date to a user friendly date\r\n        return base.formatFriendlyDateTime(this.model.get('date'));\r\n      } else {\r\n        // convert the audit date to exact date/time representation\r\n        return base.formatExactDateTime(this.model.get('date'));\r\n      }\r\n    },\r\n\r\n    _getAuditAction: function () {\r\n      var props;\r\n      // get the action type\r\n      var action = this.model.get('action');\r\n      switch (action) {\r\n      case 'start':\r\n        action = lang.actionTextStart;\r\n        break;\r\n      case 'sendon':\r\n        action = lang.actionTextSendOn;\r\n        break;\r\n      case 'forward':\r\n        action = lang.actionTextForward;\r\n        break;\r\n      case 'review':\r\n        action = lang.actionTextReview;\r\n        break;\r\n      case 'reassign':\r\n        action = lang.actionTextReassign;\r\n        break;\r\n      case 'reply':\r\n        action = lang.actionTextReply;\r\n        break;\r\n      case 'disposition':\r\n        props = this.model.get('action_properties');\r\n        action = props.label || props.event;\r\n        break;\r\n      case 'attachment':\r\n        props = this.model.get('action_properties');\r\n        switch (props.event) {\r\n        case 'create':\r\n          action = lang.actionTextAttachmentAttach;\r\n          break;\r\n        case 'addversion':\r\n          action = lang.actionTextAttachmentUpdate;\r\n          break;\r\n        }\r\n        break;\r\n      }\r\n      // return localized action\r\n      return action;\r\n    },\r\n\r\n    _isReassignAction: function () {\r\n      var action = this.model.get('action');\r\n      return action === 'forward' || action === 'review' || action === 'reassign';\r\n    },\r\n\r\n    _isAttachmentAction: function () {\r\n      var action = this.model.get('action');\r\n      return action === 'attachment';\r\n    },\r\n\r\n    _hasAttachmentOpenAction: function () {\r\n      // attachment has open action\r\n      return (this.nodeModel && this.nodeModel.actions.get('open'));\r\n    },\r\n\r\n    _getAttachmentInfo: function () {\r\n      // initialize return\r\n      var ret = {\r\n        isAttachmentAction: this._isAttachmentAction()\r\n      };\r\n      // add attachment information\r\n      if (ret.isAttachmentAction === true) {\r\n        var props = this.model.get('action_properties').node;\r\n        if (!_.isUndefined(props)) {\r\n          // prepare return\r\n          ret.id = props.id;\r\n          ret.name = props.name;\r\n          ret.description = props.description;\r\n          ret.type = props.type;\r\n          ret.mime_type = props.mime_type;\r\n          ret.url = DefaultActionBehavior.getDefaultActionNodeUrl(\r\n              new Backbone.Model(props, {connector: this.model.connector}));\r\n        }\r\n      }\r\n      // return\r\n      return ret;\r\n    },\r\n\r\n    _getReassignLabel: function () {\r\n      // get the reassgn action label\r\n      var label = this.model.get('action');\r\n      switch (label) {\r\n      case 'forward':\r\n        label = lang.actionTextForwardTo;\r\n        break;\r\n      case 'reassign':\r\n        label = lang.actionTextReassignTo;\r\n        break;\r\n      case 'review':\r\n        label = lang.actionTextReviewTo;\r\n        break;\r\n      }\r\n      // return localized label\r\n      return label;\r\n    },\r\n\r\n    regions: {\r\n      userRegion: '.activity-item .user',\r\n      reassignUserRegion: '.activity-item .reassign-user',\r\n      attachmentIconRegion: '.activity-item .attachment-icon'\r\n    },\r\n\r\n    constructor: function Activity(options) {\r\n      // initialize options\r\n      options || (options = {});\r\n\r\n      // initialize parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    onDownloadAttachment: function (event) {\r\n      // instead executing the link, execute the 'open' command.\r\n      event.preventDefault();\r\n      if (this._hasAttachmentOpenAction()) {\r\n        new OpenCommand().execute({\r\n          nodes: new Backbone.Collection([this.nodeModel])\r\n        }, {\r\n          context: this.options.context\r\n        });\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n      var self = this;\r\n\r\n      // retrieve the audit user\r\n      var userdef = $.Deferred();\r\n      var userId = this.model.get('user_id');\r\n      if (userId && userId !== 0) {\r\n        // load the user\r\n        var auditUser = new MemberModel({id: userId}, {connector: self.options.connector});\r\n        userdef = auditUser.fetch();\r\n      } else {\r\n        // anonymous user rendered when the users are suppressed by the audit\r\n        userdef.resolve({data: {display_name: lang.anonymousUserName}});\r\n      }\r\n      $.when(userdef).then(function (data) {\r\n        // render the user\r\n        var view = new UserFieldView({\r\n          context: self.options.context,\r\n          mode: 'readonly',\r\n          model: new Backbone.Model({\r\n            data: data.data,\r\n            schema: {\r\n              readonly: true\r\n            }\r\n          }),\r\n          alpaca: {\r\n            options: {}\r\n          }\r\n        });\r\n        //with this the aria-label is changed and an aria-describedby added inside the UserFieldView\r\n        self.listenTo(view, 'render', function () {\r\n          var label = view.$('a.esoc-user-container').attr('aria-label');\r\n          view.$('a.esoc-user-container').attr('aria-label', lang.actionAriaLabel + label);\r\n          view.$('a.esoc-user-container').attr('aria-describedby', this.activityAriaDescribedById);\r\n        });\r\n        if (self.userRegion) {\r\n          self.userRegion.show(view);\r\n        }\r\n      });\r\n\r\n      // retrieve the forward-to user\r\n      if (this._isReassignAction() === true) {\r\n        var reassigndef = $.Deferred();\r\n        var reassignId = this.model.get('action_properties').user_id;\r\n        if (reassignId && reassignId !== 0) {\r\n          var reassignUser = new MemberModel({id: reassignId}, {connector: self.options.connector});\r\n          reassigndef = reassignUser.fetch();\r\n        } else {\r\n          // anonymous user rendered when the users are suppressed by the audit\r\n          reassigndef.resolve({data: {display_name: lang.anonymousUserName}});\r\n        }\r\n        $.when(reassigndef).then(function (data) {\r\n          // render the user\r\n          var view = new UserFieldView({\r\n            context: self.options.context,\r\n            mode: 'readonly',\r\n            model: new Backbone.Model({\r\n              data: data.data,\r\n              schema: {\r\n                readonly: true\r\n              }\r\n            }),\r\n            alpaca: {\r\n              options: {}\r\n            }\r\n          });\r\n          //with this the aria-label is changed inside the UserFieldView\r\n          self.listenTo(view, 'render', function () {\r\n            var label = view.$('a.esoc-user-container').attr('aria-label');\r\n            var reassignLabel = this._getReassignLabel();\r\n            //get rid of the \":\" in the reassignLabel\r\n            view.$('a.esoc-user-container').attr('aria-label', reassignLabel.substring(0,reassignLabel.length-1) + label);\r\n          });\r\n          if (self.reassignUserRegion) {\r\n            self.reassignUserRegion.show(view);\r\n          }\r\n        });\r\n      }\r\n      // attachment mime-type icon\r\n      if (this._isAttachmentAction() === true) {\r\n\r\n        // fetch the attachment node\r\n        self.nodeModel = new NodeModel(this._getAttachmentInfo(), {\r\n          connector: this.options.connector,\r\n          expand: {\r\n            properties: ['original_id']\r\n          },\r\n          commands: ['open'],\r\n          defaultActionCommands: ['open']\r\n        });\r\n        self.nodeModel.fetch().then(function () {\r\n          // initialize and show the icon view\r\n          var view = new NodeTypeIconView({node: self.nodeModel});\r\n          if (self.attachmentIconRegion) {\r\n            self.attachmentIconRegion.show(view);\r\n          }\r\n          // enable / disable link behavior\r\n          if (!self._hasAttachmentOpenAction()) {\r\n            self.$('.attachment > div').addClass('disabled');\r\n          }\r\n          var exactNodeSprite = NodeSpriteCollection.findByNode(self.nodeModel) || {},\r\n              mimeTypeFromNodeSprite;\r\n          if (exactNodeSprite.attributes) {\r\n            //For type document the mimetype has to be get here\r\n            mimeTypeFromNodeSprite = exactNodeSprite.get('mimeType');\r\n          }\r\n          var title = mimeTypeFromNodeSprite || self.nodeModel.get(\"type_name\") || self.nodeModel.get(\"type\");\r\n          if (self.nodeModel.get(\"name\") && title) {\r\n            var linkTitleAria = _.str.sformat(lang.linkTitleAria, self.nodeModel.get(\"name\"), title);\r\n            self.$(\".attachment-name a\").attr(\"aria-label\", linkTitleAria);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  });\r\n\r\n  return Activity;\r\n});\n","csui.define('workflow/widgets/workitem/workitem.activities/impl/activity.list.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'workflow/models/activity/activity.collection.model.factory',\r\n  'workflow/widgets/workitem/workitem.activities/impl/activity.item.view',\r\n  'i18n!workflow/widgets/workitem/workitem.activities/impl/nls/lang'\r\n], function (_, $, Marionette, TabableRegionBehavior, ActivityCollectionModelFactory, ActivityView,\r\n    lang) {\r\n  'use strict';\r\n\r\n  var ActivityList = Marionette.CollectionView.extend({\r\n\r\n    className: 'workflow-activity-list',\r\n\r\n    childView: ActivityView,\r\n\r\n    tagName: 'ul',\r\n\r\n    //holds the list of the focusable items for all activities items\r\n    //that is 1 or 2 User links and 0 or 1 attachment link\r\n    focusableElements: [],\r\n\r\n    childViewOptions: function () {\r\n      return {\r\n        context: this.options.context,\r\n        connector: this.collection.connector\r\n      };\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    // storage for the selected index for KEyboard Accessibility\r\n    selectedIndex: 0,\r\n\r\n    // support up/down navigation,\r\n    onKeyDown: function (e) {\r\n      var $preElem;\r\n      switch (e.keyCode) {\r\n      case 38: // up\r\n        // previous listitem is selected\r\n        $preElem = this.currentlyFocusedElement();\r\n        this._moveTo(e, this._selectPrevious(), $preElem);\r\n        break;\r\n      case 40: // down\r\n        // next listitem is selected\r\n        $preElem = this.currentlyFocusedElement();\r\n        this._moveTo(e, this._selectNext(), $preElem);\r\n        break;\r\n      }\r\n    },\r\n\r\n    _moveTo: function (event, $elem, $preElem) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      setTimeout(_.bind(function () {\r\n        $elem.trigger(\"focus\");\r\n        $preElem.prop('tabindex', '-1');\r\n        $elem.prop('tabindex', '0');\r\n      }, this), 50);\r\n    },\r\n\r\n    _selectNext: function () {\r\n      if (this.selectedIndex < this.focusableElements.length - 1) {\r\n        this.selectedIndex++;\r\n      }\r\n      return this.currentlyFocusedElement();\r\n    },\r\n\r\n    _selectPrevious: function () {\r\n      if (this.selectedIndex > 0) {\r\n        this.selectedIndex--;\r\n      }\r\n      return this.currentlyFocusedElement();\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      //empty the focusableElements lists\r\n      this.focusableElements = [];\r\n      var $collection = this.$('li');\r\n      var that = this;\r\n      //fill the focusableElements lists\r\n      _.each($collection, function ($item) {\r\n        //create list with user link, this can be 2 in case of e.g. send for review...\r\n        var $focusableUserLinks = $($item).find('.esoc-user-container');\r\n        _.each($focusableUserLinks, function ($focusableUserLink) {\r\n          that.focusableElements.push($focusableUserLink);\r\n        });\r\n        //in case of an attachment activity add the attachment link\r\n        var $focusableAttachmentLinks = $($item).find('.attachment-name > a');\r\n        _.each($focusableAttachmentLinks, function ($focusableAttachmentLink) {\r\n          that.focusableElements.push($focusableAttachmentLink);\r\n        });\r\n      });\r\n      //return the selected element of the list\r\n      var elementOfFocus = (this.focusableElements.length > this.selectedIndex) ?\r\n                           this.$(this.focusableElements[this.selectedIndex]) : null;\r\n      return elementOfFocus;\r\n    },\r\n\r\n    constructor: function ActivityList(options) {\r\n      // initialize options\r\n      options || (options = {});\r\n      options.collection = options.collection ? options.collection :\r\n                           options.context.getModel(ActivityCollectionModelFactory);\r\n\r\n      // apply the process id\r\n      if (options.processId !== undefined && options.subprocessId !== undefined) {\r\n        options.collection.setData({\r\n          processId: options.processId,\r\n          subprocessId: options.subprocessId\r\n        });\r\n      }\r\n\r\n      // initialize parent\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n    }\r\n  });\r\n\r\n  // return the list\r\n  return ActivityList;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/workitem/workitem.activities/impl/workitem.activities',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"workflow-activities\\\" tabindex=\\\"-1\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_widgets_workitem_workitem.activities_impl_workitem.activities', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!workflow/widgets/workitem/workitem.activities/impl/workitem.activities',[],function(){});\n","csui.define('workflow/widgets/workitem/workitem.activities/workitem.activities.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'workflow/widgets/workitem/workitem.activities/impl/activity.list.view',\r\n  'hbs!workflow/widgets/workitem/workitem.activities/impl/workitem.activities',\r\n  'css!workflow/widgets/workitem/workitem.activities/impl/workitem.activities'\r\n], function (_, $, Marionette, PerfectScrollingBehavior, LayoutViewEventsPropagationMixin, ActivitiesListView, template) {\r\n  'use strict';\r\n\r\n  var WorkflowActivitiesView = Marionette.LayoutView.extend({\r\n\r\n    className: 'workflow-activities-container',\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      activitiesListRegion: '.workflow-activities'\r\n    },\r\n\r\n    constructor: function WorkflowActivitiesView(options) {\r\n      // initialize options\r\n      this.options = options || (options = {});\r\n      // initialize view\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    behaviors: {\r\n      ScrollingBehavior: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.workflow-activities',\r\n        suppressScrollX: true,\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n      // initialize view\r\n      var listView = new ActivitiesListView(this.options);\r\n      // show\r\n      this.activitiesListRegion.show(listView);\r\n    }\r\n  });\r\n\r\n  _.extend(WorkflowActivitiesView.prototype, LayoutViewEventsPropagationMixin);\r\n  return WorkflowActivitiesView;\r\n});\r\n\n","// An application widget is exposed via a RequireJS module\r\ncsui.define('workflow/widgets/workitem/workitem.activities/workitem.activities.controller',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/utils/log',\r\n  'csui/utils/contexts/factories/node',\r\n  'workflow/utils/workitem.extension.controller',\r\n  'workflow/models/activity/activity.collection.model.factory',\r\n  'workflow/widgets/workitem/workitem.activities/workitem.activities.view',\r\n  'i18n!workflow/widgets/workitem/workitem.activities/impl/nls/lang'\r\n], function (_, $, Backbone, Marionette, log, NodeModelFactory, WorkItemExtensionController,\r\n    ActivityCollectionModelFactory, ActivityView, lang) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Workitem integration controller\r\n   * @param options Initialization options like context, data, parent view\r\n   * @constructor\r\n   */\r\n  var WorkItemActivitiesController = WorkItemExtensionController.extend({\r\n\r\n    // Type of the activities package\r\n    type: 100,\r\n    // Sub type of the activities package\r\n    sub_type: 100,\r\n    //This defines the tab order\r\n    position: 2,\r\n\r\n    constructor: function WorkItemActivitiesController(attributes, options) {\r\n      WorkItemExtensionController.prototype.constructor.apply(this, arguments);\r\n\r\n      options || (options = {});\r\n\r\n      this.context = attributes.context;\r\n    },\r\n\r\n    /**\r\n     * Validates the data package\r\n     * @param type\r\n     * @param sub_type\r\n     * @returns {boolean}\r\n     */\r\n    validate: function (type, sub_type) {\r\n      //only return true when this isn't draft only when not draft the tab should be displayed\r\n      if (type === this.type && sub_type === this.sub_type) {\r\n        //Activities data package\r\n        return true;\r\n      }\r\n      // other data packages\r\n      return false;\r\n    },\r\n\r\n    // Execute the controller action\r\n    execute: function (options) {\r\n\r\n      // Deferred object to control the model loading\r\n      var deferred = $.Deferred();\r\n\r\n      // Check the current requested extension point\r\n      //activities view isn't visible in Draft\r\n      if (options.extensionPoint === WorkItemExtensionController.ExtensionPoints.AddSidebar &&\r\n          !options.model.get(\"isDraft\") && (options.model.get(\"isDoc\") === undefined) &&\r\n          (options.model.get(\"isDocDraft\") === undefined)) {\r\n\r\n        // initialize the activities collection\r\n        var activities = this.context.getModel(ActivityCollectionModelFactory);\r\n        activities.setData({\r\n          processId: options.model.get('process_id'),\r\n          subprocessId: options.model.get('subprocess_id')\r\n        });\r\n        activities.fetch();\r\n\r\n        // this is the model necessary for the tabPanel it must contain a title, viewToRender and \r\n        // viewToRenderOptions and a position which defins the order of  the tabs        \r\n        var args = {\r\n          title: lang.viewTitle,\r\n          position: this.position,\r\n          viewToRender: ActivityView,\r\n          viewToRenderOptions: {\r\n            context: this.context,\r\n            collection: activities\r\n          }\r\n        };\r\n        // return the promise\r\n        deferred.resolve(args);\r\n        return deferred.promise();\r\n      } else {\r\n        // this extension point is not supported from this integration, don't return a view\r\n        deferred.resolve({});\r\n        return deferred.promise();\r\n      }\r\n    }\r\n  });\r\n\r\n  return WorkItemActivitiesController;\r\n});\r\n\n","csui.define('workflow/behaviors/list.keyboard.behavior',[\r\n  'module',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette'\r\n], function (module, _, $, Marionette) {\r\n  'use strict';\r\n\r\n  var ListKeyboardBehavior = Marionette.Behavior.extend({\r\n\r\n    defaults: {\r\n      'currentlyFocusedElementSelector': 'li:nth-child({0})'\r\n    },\r\n\r\n    constructor: function ListKeyboardBehavior(options, view) {\r\n      // apply marionette behavior implementation\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      // extend the views\r\n      _.extend(view, {\r\n\r\n        // storage for the selected index\r\n        selectedIndex: 0,\r\n        //necessary variables for the inline actions behavior\r\n        $inlineItems: undefined,\r\n        inlineItemIndex: 0,\r\n        inlineDropDownIsOpenSelector: \"\",\r\n        $inlineItemsDropDown: undefined,\r\n        inlineItemDropDownIndex: -1,\r\n\r\n        // support up/down navigation\r\n        onKeyDown: function (e) {\r\n          var $preElem;\r\n          switch (e.keyCode) {\r\n          case 27: //escape\r\n            //with escape reset in any case the inlineItemDropDownIndex\r\n            this.inlineItemDropDownIndex = -1;\r\n            break;\r\n          case 38: // up\r\n            //in case there is a $inlineItemsDropDown defined and it is open, the 'key up' and\r\n            // 'key down' should move inside the menuitems\r\n            if ((this.$inlineItemsDropDown !== undefined) && (this.$inlineItemsDropDown.length !== 0) && (this.$(this.inlineDropDownIsOpenSelector).length > 0 )){\r\n              this._moveInlineMenu(e, this._selectPreviousInlineElementMenu());\r\n            }else {\r\n              // previous listitem is selected\r\n              $preElem = this.currentlyFocusedElement();\r\n              this._moveTo(e, this._selectPrevious(), $preElem);\r\n            }\r\n            break;\r\n          case 40: // down\r\n            //in case there is a $inlineItemsDropDown defined and it is open, the 'key up' and\r\n            // 'key down' should move inside the menuitems\r\n            if ((this.$inlineItemsDropDown !== undefined) && (this.$inlineItemsDropDown.length !== 0) && (this.$(this.inlineDropDownIsOpenSelector).length > 0 )){\r\n              this._moveInlineMenu(e, this._selectNextInlineElementMenu());\r\n            }else {\r\n              // next listitem is selected\r\n              $preElem = this.currentlyFocusedElement();\r\n              this._moveTo(e, this._selectNext(), $preElem);\r\n            }\r\n            break;\r\n          case 39: //key right\r\n            //only if this isn't in edit mode , move right inside the inline actions of this item\r\n            if (!($(e.target).hasClass('cs-input'))) {\r\n              if ((this.$inlineItems.length !== 0) &&\r\n                  (this.$(this.inlineDropDownIsOpenSelector).length === 0 )) {\r\n                this._moveInline(e, this._selectNextInlineElement());\r\n              }\r\n            }\r\n            break;\r\n          case 37: //key left\r\n            //only if this isn't in edit mode, move left inside the inline actions of this item\r\n            if (!($(e.target).hasClass('cs-input'))) {\r\n              if ((this.$inlineItems.length !== 0) && (this.$(this.inlineDropDownIsOpenSelector).length === 0 )) {\r\n                this._moveInline(e, this._selectPreviousInlineElement());\r\n              }\r\n            }\r\n            break;\r\n          }\r\n        },\r\n\r\n        _moveInlineMenu: function (event, $elem) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n\r\n          setTimeout(_.bind(function () {\r\n            //set all inlinelements to -1\r\n            this.$inlineItemsDropDown.prop('tabindex', '-1');\r\n            $elem.trigger(\"focus\");\r\n            $elem.prop('tabindex', '0');\r\n          }, this), 50);\r\n        },\r\n\r\n        _selectNextInlineElementMenu: function () {\r\n          if (this.inlineItemDropDownIndex < this.$inlineItemsDropDown.length - 1) {\r\n            this.inlineItemDropDownIndex++;\r\n          }\r\n          return this.$(this.$inlineItemsDropDown[this.inlineItemDropDownIndex]);\r\n        },\r\n\r\n        _selectPreviousInlineElementMenu: function () {\r\n          if (this.inlineItemDropDownIndex > 0) {\r\n            this.inlineItemDropDownIndex--;\r\n          }\r\n          return this.$(this.$inlineItemsDropDown[this.inlineItemDropDownIndex]);\r\n        },\r\n\r\n        _moveInline: function (event, $elem) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n\r\n          setTimeout(_.bind(function () {\r\n            //set all inlinelements to -1\r\n            this.$inlineItems.prop('tabindex', '-1');\r\n            $elem.trigger(\"focus\");\r\n            $elem.prop('tabindex', '0');\r\n          }, this), 50);\r\n        },\r\n\r\n        _selectNextInlineElement: function () {\r\n          if (this.inlineItemIndex < this.$inlineItems.length - 1) {\r\n            this.inlineItemIndex++;\r\n          }\r\n          return this.$(this.$inlineItems[this.inlineItemIndex]);\r\n        },\r\n\r\n        _selectPreviousInlineElement: function () {\r\n          if (this.inlineItemIndex > 0) {\r\n            this.inlineItemIndex--;\r\n          }\r\n          return this.$(this.$inlineItems[this.inlineItemIndex]);\r\n        },\r\n\r\n        _moveTo: function (event, $elem, $preElem) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n\r\n          setTimeout(_.bind(function () {\r\n            $elem.trigger('focus');\r\n            $preElem.prop('tabindex', '-1');\r\n            $elem.prop('tabindex', '0');\r\n          }, this), 50);\r\n        },\r\n\r\n        _selectNext: function () {\r\n          var collection = this.collection || this.model;\r\n          if (this.selectedIndex < collection.length - 1) {\r\n            this.selectedIndex++;\r\n          }\r\n          return this.currentlyFocusedElement();\r\n        },\r\n\r\n        _selectPrevious: function () {\r\n          if (this.selectedIndex > 0) {\r\n            this.selectedIndex--;\r\n          }\r\n          return this.currentlyFocusedElement();\r\n        },\r\n\r\n        currentlyFocusedElementSelector: this.options.currentlyFocusedElementSelector,\r\n\r\n        currentlyFocusedElement: function () {\r\n          // reset the focused list index whenever the previous index is larger than the\r\n          // currently rendered elements\r\n          var collection = this.collection || this.model;\r\n          if ((this.selectedIndex !== 0) && (this.selectedIndex >= collection.length)) {\r\n            this.selectedIndex = collection.length - 1;\r\n          }\r\n          //find all items\r\n          var $item = this.$(this.currentlyFocusedElementSelector);\r\n          //return the selected element of the list\r\n          var elementOfFocus = ($item.length > this.selectedIndex) ?\r\n                               this.$($item[this.selectedIndex]) : null;\r\n          return elementOfFocus;\r\n        }\r\n      });\r\n    } // constructor\r\n  });\r\n\r\n  return ListKeyboardBehavior;\r\n});\r\n\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('workflow/widgets/workitem/workitem.attachments/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('workflow/widgets/workitem/workitem.attachments/impl/nls/root/lang',{\r\n  TabTitle: 'Attachments',\r\n  AddToolbarItemLabel: 'Add attachment',\r\n  AddFromContentServerLabel: 'Add from Content Server',\r\n  AddFromDesktopLabel: 'Add from Desktop',\r\n  AddShortcutLabel: 'Add shortcut',\r\n  AddDocumentLabel: 'Add document(s)',\r\n  ButtonLabelAdd: 'Add',\r\n  CommandNameAdd: 'Add',\r\n  CommandVerbAdd: 'add',\r\n  CommandDoneVerbAdd: 'copied',\r\n  AddPageLeavingWarning: 'If you leave the page now, pending items will not be added.',\r\n  AddingOneFile: 'Adding file',\r\n  AddFilesSucceeded: '{0} files succeeded.',\r\n  AddOneFileSucceeded: 'Add succeeded.',\r\n  AddFiles: 'Adding {0} files',\r\n  AddFilesFailed: '{2} files failed to add.',\r\n  AddFilesOneFailed: '1 file failed to add.',\r\n  CopyOneFileFailed: 'Copy failed',\r\n\r\n  CopyingNodes: 'Copying {0} nodes',\r\n  CopyingNode: 'Copying 1 node',\r\n  DropMessage: 'Drop your item(s) here',\r\n  EmptyDragAndDropMessage: 'Drag and drop files here',\r\n  MessageItemCopied: '{0} item copied.',\r\n  MessageItemsCopied: '{0} items copied.',\r\n  AddingNodes: 'Adding {0} nodes',\r\n  AddingNode: 'Adding 1 node',\r\n  MessageItemAdded: '{0} item Added.',\r\n  MessageItemsAdded: '{0} items Added.',\r\n\r\n  ErrorMessageLoadAttachments: 'Workflow attachments could not be loaded.',\r\n\r\n  DescriptionPlaceholder: 'Add description',\r\n  NamePlaceholder: 'Enter file name',\r\n  FileAlreadyExists: 'An item with the name \\'{0}\\' already exists',\r\n  MaxLengthReached: 'This field must contain at most 248 numbers or characters.',\r\n  Cancel: 'Cancel',\r\n  NoFiles: 'No files were dropped.',\r\n  AddTypeDenied: 'Cannot add documents to {1}.',\r\n  AttachmentsFailMessageTitle: 'Unable to start the workflow',\r\n  AttachmentsFailMessage: 'An error prevented {0} from being attached to the workflow.',\r\n\r\n  linkTitleAria: '{0} of type {1}'\r\n\r\n});\r\n\n","\n","csui.define('workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments.draganddrop.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/controls/draganddrop/draganddrop.view',\r\n  'csui/controls/fileupload/fileupload',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'i18n!workflow/widgets/workitem/workitem.attachments/impl/nls/lang'\r\n], function (_, Marionette, DragAndDrop, FileUploadHelper, GlobalMessage, lang) {\r\n  'use strict';\r\n  var WorkItemDragDropView = DragAndDrop.extend({\r\n    constructor: function WorkItemDragDropView(options) {\r\n      DragAndDrop.prototype.constructor.call(this, options);\r\n    },\r\n    onDropView: function (currentEvent) {\r\n      currentEvent.preventDefault();\r\n      currentEvent.stopPropagation();\r\n      var self         = this,\r\n          dataTransfer = currentEvent.originalEvent &&\r\n                         currentEvent.originalEvent.dataTransfer ||\r\n              {\r\n                files: currentEvent.originalEvent &&\r\n                       currentEvent.originalEvent.target &&\r\n                       currentEvent.originalEvent.target.files || []\r\n              };\r\n      this.checkFiles(dataTransfer)\r\n          .always(function (files) {\r\n            files = _.reject(files, function (file) {\r\n              return file instanceof Error;\r\n            });\r\n            if (files.length) {\r\n              if (files.length === 1) {\r\n                self.collection.singleFileUpload = true;\r\n              }\r\n              if (self.canAdd()) {\r\n                var fileUploadModel = FileUploadHelper.newUpload(\r\n                    _.extend({\r\n                      originatingView: self.parentView\r\n                    }, _.clone(self.options))\r\n                );\r\n                //find wether the Upload is done in a folder drop or in parent\r\n                var containerId = self.container ? self.container.get(\"id\") : undefined;\r\n                var parentContainerId = (self.parentView && self.parentView.options && self.parentView.options.collection && self.parentView.options.collection.node) ? self.parentView.options.collection.node.get(\"id\") : undefined;\r\n                if (containerId !== parentContainerId) {\r\n                  //set this to empty to show that the URL's of the parent view collection don't match with the folder drop collection url => this prevents the adding\r\n                  // of the file to the parent collection, which would display the file in the attachment folder\r\n                  fileUploadModel.originalCollectionUrl = \"\";\r\n                }\r\n                fileUploadModel.addFilesToUpload(files, {\r\n                  collection: self.collection\r\n                });\r\n              } else {\r\n                var nodeName = self.container.get('name');\r\n                GlobalMessage.showMessage('error',\r\n                    lang.AddTypeDenied.replace('{1}', nodeName));\r\n              }\r\n            } else {\r\n              GlobalMessage.showMessage('error', lang.NoFiles);\r\n            }\r\n          });\r\n      this.disable();\r\n\r\n    },\r\n\r\n    onOverView: function (currentEvent) {\r\n\r\n      currentEvent.preventDefault();\r\n      currentEvent.stopPropagation();\r\n\r\n      //setting two flags to reduce the show/hide of DropMessage when dragover internally between children.\r\n      this.parentView.showDropMessage = true;\r\n      this.parentView.checkDropMessage = true;\r\n\r\n      if (this.leaveViewTimeout) {\r\n        clearTimeout(this.leaveViewTimeout);\r\n        this.leaveViewTimeout = undefined;\r\n      } else {\r\n        this.enable(false);\r\n      }\r\n\r\n      // MIME type is not reliable - it is guessed just by the file extension\r\n      // and thus often empty - and more about the dragged object cannot be\r\n      // learnt from security reasons\r\n      var dataTransfer = currentEvent.originalEvent &&\r\n                         currentEvent.originalEvent.dataTransfer,\r\n          // Check using items is more reliable, but not available in IE11\r\n          items = dataTransfer.items,\r\n          isFolder = items && items.length === 1 && !items[0].type,\r\n          validItems = items && items.length && _.all(items, function (item) {\r\n            return item.kind === 'file';\r\n          }),\r\n          types = dataTransfer && dataTransfer.types,\r\n          // Firefox contains both 'Files' and application/x-moz-file;\r\n          // it is covered by items above, this is for IE11\r\n          validTypes = types && types.length && _.any(types, function (type) {\r\n            return type.toLowerCase() === 'files';\r\n          }),\r\n          invalidMessage = lang.dropInvalid;\r\n      this.valid = items && validItems || validTypes;\r\n\r\n      if (!this.canAdd()) {\r\n        var validContainer = this.isDndSupportedContainer(this.parentView.container);\r\n        this.valid = validContainer && this.options.isSupportedRowView;\r\n        invalidMessage = lang.dropNotPermitted;\r\n      }\r\n\r\n      // Dropping a single file over a file, highlights file i.e current row,\r\n      // but dropping multiple files over a file, highlights parent container.\r\n      // doesn't support in IE and safari.\r\n      if ((isFolder && this.container.get('type') === 144) ||\r\n          this.valid && items && items.length > 1 && this.container.get('type') === 144) {\r\n        //multiple files dropping to file\r\n        if (!this.currentRowHighlightedTarget) {\r\n          this.currentRowHighlightedTarget = this.highlightedTarget;\r\n          this.highlightedTarget = undefined;\r\n        }\r\n        //checking the parent container permissions\r\n        if (this.parentView.addableTypes && !this.parentView.addableTypes.get(144)) {\r\n          this.valid = false;\r\n        }\r\n\r\n      } else {\r\n        if (this.currentRowHighlightedTarget) {\r\n          this.highlightedTarget = this.currentRowHighlightedTarget;\r\n          this.currentRowHighlightedTarget = undefined;\r\n        }\r\n      }\r\n      if (this.valid) {\r\n        this._resetMessage({items: items});\r\n      }\r\n\r\n      if (!this.overViewTimeout) {\r\n        this.overViewTimeout = undefined;\r\n        var dropMessage = this.parentView.csuiDropMessage, options,\r\n            isCsuiDisabled = dropMessage.hasClass('csui-disabled');\r\n        if (this.valid) {\r\n          isCsuiDisabled && dropMessage.removeClass('csui-disabled');\r\n          options = {disabled: false, highlightedTarget: this.highlightedTarget};\r\n        } else {\r\n          !isCsuiDisabled && dropMessage.addClass('csui-disabled');\r\n          dropMessage.html(this.template({message: invalidMessage}));\r\n          options = {disabled: true};\r\n        }\r\n        dropMessage.show();\r\n        this.visible = true;\r\n        this.trigger('drag:over', this, options);\r\n      }\r\n    }\r\n  });\r\n  return WorkItemDragDropView;\r\n});\r\n\n","csui.define('workflow/widgets/workitem/workitem.attachments/impl/workitem.attachment.tableactionbar',[\r\n  'csui/lib/backbone',\r\n  'csui/controls/tableactionbar/tableactionbar.view',\r\n  'csui/models/nodes',\r\n  'csui/utils/commandhelper',\r\n  'csui/utils/commands/properties'\r\n], function (Backbone, TableActionBarView, NodeCollection, CommandHelper, PropertiesCommand) {\r\n  'use strict';\r\n\r\n  var WorkItemAttachmentActionbar = TableActionBarView.extend({\r\n    // This method is triggered as a nested 'childview:...' event; such\r\n    // events always get the childView as the first argument.\r\n    onChildviewToolitemAction: function (toolItemView, args) {\r\n\r\n      var signature = args.toolItem.get(\"signature\");\r\n      var promisesFromCommands;\r\n      var command = this.commands.findWhere({signature: signature});\r\n\r\n      var status = {\r\n        nodes: new NodeCollection([this.model]),\r\n        container: this.container,\r\n        collection: this.containerCollection,\r\n        originatingView: this.originatingView, // use the workitem view as originating view, so that the full view is replaced.\r\n        context: this.options.context\r\n      };\r\n      Backbone.trigger('closeToggleAction');\r\n      if (signature === \"Properties\") {\r\n\t\t//executing custom property command because csui property command only replacing view of dialog not header and footer\r\n        this.originatingView.collection.propertiesAction = true;\r\n        this.propertiesCommand = new PropertiesCommand();\r\n        promisesFromCommands = this.propertiesCommand.execute(status);\r\n\r\n      } else {\r\n        // a command must be found because otherwise the toolbar item would not be in this bar\r\n        promisesFromCommands = command.execute(status);\r\n      }\r\n      CommandHelper.handleExecutionResults(promisesFromCommands,\r\n          {command: command, suppressSuccessMessage: status.suppressSuccessMessage});\r\n    }\r\n\r\n  });\r\n\r\n  return WorkItemAttachmentActionbar;\r\n\r\n});\r\n\n","\n","csui.define('workflow/widgets/workitem/workitem.attachments/workitem.attachments.toolbaritems',[\r\n  'csui/lib/underscore',\r\n  'csui/controls/toolbar/toolitems.factory',\r\n  'csui/controls/toolbar/toolitem.model',\r\n  'i18n!csui/controls/tabletoolbar/impl/nls/localized.strings'\r\n], function (_, ToolItemsFactory, ToolItemModel, lang) {\r\n  'use strict';\r\n\r\n  var toolbarItems = {\r\n\r\n    // inline action bar\r\n    inlineActionbar: new ToolItemsFactory({\r\n          other: [\r\n            {\r\n              signature: \"Properties\",\r\n              name: lang.ToolbarItemInfo,\r\n              icon: \"icon icon-toolbar-metadata\"\r\n            },\r\n            {\r\n              signature: \"Edit\",\r\n              name: lang.ToolbarItemEdit,\r\n              icon: \"icon icon-toolbar-edit\"\r\n            },\r\n            {\r\n              signature: \"Download\",\r\n              name: lang.ToolbarItemDownload,\r\n              icon: \"icon icon-toolbar-download\"\r\n            },\r\n            {\r\n              signature: \"OpenShortlink\",\r\n              name: lang.ToolbarItemOpen,\r\n              icon: \"icon icon-toolbar-shortcut\"\r\n            },\r\n            {\r\n              signature: \"InlineEdit\",\r\n              name: lang.ToolbarItemRename,\r\n              icon: \"icon icon-toolbar-rename\"\r\n            },\r\n            {\r\n              signature: \"Copy\",\r\n              name: lang.ToolbarItemCopy,\r\n              icon: \"icon icon-toolbar-copy\"\r\n            },\r\n            {\r\n              signature: \"Move\",\r\n              name: lang.ToolbarItemMove,\r\n              icon: \"icon icon-toolbar-move\"\r\n            },\r\n            {\r\n              signature: \"AddVersion\",\r\n              name: lang.ToolbarItemAddVersion,\r\n              icon: \"icon icon-toolbar-add-version\"\r\n            },\r\n            {\r\n              signature: \"Delete\",\r\n              name: lang.ToolbarItemDelete,\r\n              icon: \"icon icon-toolbar-delete\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          maxItemsShown: 4,\r\n          dropDownText: lang.ToolbarItemMore,\r\n          dropDownIcon: \"icon icon-toolbar-more\"\r\n        })\r\n  };\r\n\r\n  return toolbarItems;\r\n});\r\n\n","csui.define('workflow/commands/open.shortlink/open.shortlink',[\"module\", \"csui/lib/underscore\", \"csui/lib/jquery\", \"csui/utils/commandhelper\",\r\n  \"csui/models/command\"\r\n], function (module, _, $, CommandHelper,\r\n    CommandModel) {\r\n  'use strict';\r\n\r\n  var OpenShortlinkCommand = CommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: \"OpenShortlink\",\r\n      command_key: ['openshortlink', 'OpenShortlink'],\r\n      name: 'OpenShortlink',\r\n      verb: 'OpenShortlink',\r\n      doneVerb: 'OpenShortlink',\r\n      scope: \"single\"\r\n    },\r\n\r\n    execute: function (status, options) {\r\n      var node = CommandHelper.getJustOneNode(status);\r\n      var deferred = $.Deferred();\r\n      node.set('ActionBarShortcutOpenCommand', true, {silent: true});\r\n      node.unset('ActionBarShortcutOpenCommand');\r\n      deferred.resolve();\r\n      return deferred.promise();\r\n\r\n    },\r\n\r\n  });\r\n\r\n  return OpenShortlinkCommand;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachmentitem',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"workitem-attachments-item\\\">\\r\\n  <div class=\\\"workitem-attachments-icon\\\"></div>\\r\\n  <div class=\\\"workitem-attachments-info\\\">\\r\\n    <a class=\\\"workitem-attachments-name\\\" href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.defaultActionUrl || (depth0 != null ? depth0.defaultActionUrl : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"defaultActionUrl\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n      <div class=\\\"workitem-attachment-name\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    </a>\\r\\n\\r\\n    <input id=\\\"workitem-attachments-name-input-\"\n    + this.escapeExpression(((helper = (helper = helpers.nodeId || (depth0 != null ? depth0.nodeId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"nodeId\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"workitem-attachments-name-input\\r\\n    binf-form-control cs-input rename-field binf-hidden\\\" placeholder=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.namePlaceholder || (depth0 != null ? depth0.namePlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"namePlaceholder\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n           tabindex=\\\"-1\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.namePlaceholder || (depth0 != null ? depth0.namePlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"namePlaceholder\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n    <span class=\\\"workitem-attachments-name-cancel csui-undo edit-cancel inline-edit-icon\\r\\n      rename-field binf-hidden\\\" tabindex=\\\"-1\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancel || (depth0 != null ? depth0.cancel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancel\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n\\r\\n    <div id=\\\"workitem-attachments-error-message-\"\n    + this.escapeExpression(((helper = (helper = helpers.nodeId || (depth0 != null ? depth0.nodeId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"nodeId\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n         class=\\\"workitem-attachments-error-message binf-hidden\\\"></div>\\r\\n\\r\\n    <div class=\\\"workitem-attachments-description\\\">\\r\\n        <textarea id=\\\"workitem-attachments-description-input-\"\n    + this.escapeExpression(((helper = (helper = helpers.nodeId || (depth0 != null ? depth0.nodeId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"nodeId\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"workitem-attachments-description-input binf-form-control cs-input rename-field\\r\\n      binf-hidden\\\" placeholder=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.descriptionPlaceholder || (depth0 != null ? depth0.descriptionPlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"descriptionPlaceholder\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"-1\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.descriptionPlaceholder || (depth0 != null ? depth0.descriptionPlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"descriptionPlaceholder\",\"hash\":{}}) : helper)))\n    + \"\\\" rows=\\\"2\\\"></textarea>\\r\\n      <span class=\\\"workitem-attachments-description-cancel csui-undo edit-cancel inline-edit-icon\\r\\n      rename-field binf-hidden\\\" tabindex=\\\"-1\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancel || (depth0 != null ? depth0.cancel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancel\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n\\r\\n      <div class=\\\"wrap\\\">\\r\\n        <div>\\r\\n\\r\\n        <span\\r\\n            class=\\\"workitem-attachment-description workitem-attachments-description-ro binf-hidden\\\"\\r\\n            title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.description || (depth0 != null ? depth0.description : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"description\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.description || (depth0 != null ? depth0.description : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"description\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\\r\\n          <span\\r\\n              class=\\\"workitem-attachment-description workitem-attachments-empty-description-ro binf-hidden\\\"\\r\\n              title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.descriptionPlaceholder || (depth0 != null ? depth0.descriptionPlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"descriptionPlaceholder\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.descriptionPlaceholder || (depth0 != null ? depth0.descriptionPlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"descriptionPlaceholder\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"workitem-attachments-actions\\\"></div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_widgets_workitem_workitem.attachments_impl_workitem.attachmentitem', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments',[],function(){});\n","// An application widget is exposed via a RequireJS module\r\ncsui.define('workflow/widgets/workitem/workitem.attachments/impl/workitem.attachmentitem.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  'csui/utils/log',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'workflow/widgets/workitem/workitem.attachments/impl/workitem.attachment.tableactionbar',\r\n  'csui/controls/node-type.icon/node-type.icon.view',\r\n  'workflow/widgets/workitem/workitem.attachments/workitem.attachments.toolbaritems',\r\n  'workflow/commands/open.shortlink/open.shortlink',\r\n  'hbs!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachmentitem',\r\n  'i18n!workflow/widgets/workitem/workitem.attachments/impl/nls/lang',\r\n  'css!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments'\r\n], function (_, $, Marionette, DefaultActionBehavior, log, GlobalMessage,\r\n    TableActionBarView, NodeTypeIconView, toolbarItems, OpenShortlinkCommand, template, lang) {\r\n  'use strict';\r\n\r\n  // An application widget is a view, because it should render a HTML fragment\r\n  var WorkItemAttachmentItemView = Marionette.ItemView.extend({\r\n\r\n    // Outermost parent element should contain a unique widget-specific class\r\n    className: 'workitem-attachment-properties',\r\n\r\n    // Template method rendering the HTML for the view\r\n    template: template,\r\n    tagName: 'li',\r\n    // view behaviors\r\n    // - the default action behavior is required for the default action and the action bar.\r\n    behaviors: {\r\n      DefaultAction: {\r\n        behaviorClass: DefaultActionBehavior\r\n      }\r\n    },\r\n\r\n    // Return JSON object used in the handlebars template\r\n    templateHelpers: function () {\r\n      var attachmentNodeId;\r\n      //id is undefined for 'Initiate from Document with more WFs for initiation active'\r\n      //then original_id is set\r\n      if (this.model.attributes.id) {\r\n        attachmentNodeId = this.model.attributes.id;\r\n      }\r\n      else if (this.model.attributes.original_id) {\r\n        attachmentNodeId = this.model.attributes.original_id;\r\n      }\r\n      return {\r\n        name: this.model.get('name'),\r\n        description: this.model.get('description'),\r\n        defaultActionUrl: DefaultActionBehavior.getDefaultActionNodeUrl(this.model),\r\n        descriptionPlaceholder: lang.DescriptionPlaceholder,\r\n        namePlaceholder: lang.NamePlaceholder,\r\n        nodeId: attachmentNodeId,\r\n        cancel: lang.Cancel\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      attachmentItem: '.workitem-attachments-item',\r\n      attachmentIcon: '.workitem-attachments-icon',\r\n      attachmentAction: 'a.workitem-attachments-name',\r\n      attachmentDescription: 'div.workitem-attachments-description',\r\n      attachmentDescriptionRO: 'span.workitem-attachments-description-ro',\r\n      attachmentDescriptionInput: '.workitem-attachments-description-input',\r\n      attachmentDescriptionCancel: '.workitem-attachments-description-cancel',\r\n      attachmentNameInput: '.workitem-attachments-name-input',\r\n      attachmentName: '.workitem-attachment-name',\r\n      attachmentErrorMsg: '.workitem-attachments-error-message',\r\n      attachmentNameCancel: '.workitem-attachments-name-cancel',\r\n      attachmentEmptyDescriptionRO: '.workitem-attachments-empty-description-ro'\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown',\r\n      'mouse:enter': 'onMouseEnter',\r\n      'mouse:leave': 'onMouseLeave',\r\n      'focusin @ui.attachmentAction': 'onFocusIn',\r\n      'focusout @ui.attachmentItem': 'onFocusOutItem',\r\n      'click @ui.attachmentAction': 'onClickItem'\r\n    },\r\n\r\n    // triggers on the child view are handled on the parent collection view\r\n    triggers: {\r\n      'mouseenter': 'mouse:enter',\r\n      'mouseleave': 'mouse:leave',\r\n      'click @ui.attachmentDescriptionRO, @ui.attachmentEmptyDescriptionRO': 'click:description',\r\n      'click @ui.attachmentDescriptionCancel,@ui.attachmentNameCancel': 'click:cancel'\r\n    },\r\n\r\n    // Constructor gives an explicit name to the object in the debugger and\r\n    // can update the options for the parent view, which `initialize` cannot\r\n    constructor: function WorkItemAttachmentItemView(options) {\r\n      this.options = options;\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n      this.iconView = new NodeTypeIconView({node: this.model});\r\n      this.listenTo(this.model, \"change:csuiInlineFormErrorMessage\", this.onRenameMode);\r\n      this.listenTo(this.model, 'change:ActionBarShortcutOpenCommand', this.openShortlink);\r\n    },\r\n\r\n    onKeyDown: function (event) {\r\n      var keyCode = event.keyCode,\r\n          target  = $(event.target),\r\n          retVal  = true;\r\n      switch (keyCode) {\r\n      case 9: //Tab\r\n        if (target.hasClass('workitem-attachments-description-input') &&\r\n            this.ui.attachmentDescriptionCancel.hasClass(\"binf-hidden\")) {\r\n          this.ui.attachmentNameInput.trigger(\"focus\");\r\n          retVal = false;\r\n        }\r\n        if (target.hasClass('workitem-attachments-name-input')) {\r\n          this.ui.attachmentDescriptionInput.trigger(\"focus\");\r\n          retVal = false;\r\n        }\r\n        if (target.hasClass('workitem-attachments-description-input') &&\r\n            this.ui.attachmentNameCancel.hasClass(\"binf-hidden\")) {\r\n          this.ui.attachmentDescriptionInput.trigger(\"focus\");\r\n          retVal = false;\r\n        }\r\n        break;\r\n      case 27: //Esc\r\n        if (target.hasClass('cs-input') || target.hasClass('edit-cancel')) {\r\n          this._cancelEdit();\r\n          retVal = false;\r\n        }\r\n        break;\r\n      case 32: //Enter and space\r\n      case 13:\r\n        if (target.hasClass('cs-input')) {\r\n          if (keyCode === 13) {\r\n            //enter in the input field, save the new description\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            retVal = false;\r\n            if (this.validateFileName() && !this._parent.errorCase) {\r\n              this._submitDescription();\r\n              this._cancelEdit();\r\n            }\r\n          }\r\n          /* space in the input field, no action here */\r\n        } else if (target.hasClass('edit-cancel')) {\r\n          //space or enter on the cancel button, cancel the edit mode\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          retVal = false;\r\n          this._cancelEdit();\r\n        }\r\n        break;\r\n      case 113:\r\n        //F2 switch to edit mode for name and description\r\n        if (!this.ui.attachmentDescriptionRO.hasClass('binf-hidden') ||\r\n            !this.ui.attachmentEmptyDescriptionRO.hasClass('binf-hidden')) {\r\n          this.onRenameMode();\r\n        }\r\n        //F2 in the input field , save the new name and description\r\n        if (target.hasClass('cs-input')) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          retVal = false;\r\n          if (this.validateFileName() && !this._parent.errorCase) {\r\n            this._submitDescription();\r\n            this._cancelEdit();\r\n          }\r\n        }\r\n        break;\r\n      }\r\n      return retVal;\r\n    },\r\n\r\n    onFocusIn: function (view) {\r\n      this._showActionBar({\r\n        view: view,\r\n        model: view.model\r\n      });\r\n    },\r\n\r\n    onMouseEnter: function (view) {\r\n      this._showActionBar({\r\n        view: view,\r\n        model: view.model\r\n      });\r\n    },\r\n\r\n    onMouseLeave: function (view) {\r\n      this._destroyActionBar();\r\n    },\r\n\r\n    onClickItem: function (event) {\r\n      // Do not navigate to the URL; it is there to bookmarking only\r\n      event.preventDefault();\r\n      this.cancelPrevEdit();\r\n      // Trigger the default action execution handler registered in the\r\n      // DefaultActionBehavior; if the action is disabled, it does nothing\r\n      this.triggerMethod('execute:defaultAction', this.model);\r\n    },\r\n\r\n    onClickDescription: function (e) {\r\n      this._editDescription();\r\n    },\r\n\r\n    /**\r\n     * Click on the cancel button\r\n     * @param e\r\n     */\r\n    onClickCancel: function (e) {\r\n      this._cancelEdit();\r\n    },\r\n\r\n    /**\r\n     * Item has lost the focus, cancel the edit mode\r\n     * @param e\r\n     */\r\n    onFocusOutItem: function (event) {\r\n      var relatedTarget = $(event.relatedTarget);\r\n      if (!relatedTarget.hasClass('cs-input') && !relatedTarget.hasClass('edit-cancel') &&\r\n          !$(event.target).hasClass('edit-cancel') && !$(event.target).hasClass('needsclick')) {\r\n        //validate the filename if the file already exists or exceeds the limit\r\n        if (this.isEditMode() && this.validateFileName() && !this._parent.errorCase) {\r\n          this._submitDescription();\r\n          var flag           = false,\r\n              activeElements = ($(':active').length) ? $(':active') : $(':hover'),\r\n              activeElement  = $(activeElements[activeElements.length - 1]);\r\n          //checking weather the user clicked any of the below elements\r\n          if (activeElement.hasClass('workitem-attachment-description') ||\r\n              activeElement.hasClass('workitem-attachment-name') ||\r\n              activeElement.hasClass('icon icon-toolbar-rename')) {\r\n            flag = true;\r\n          }\r\n          if (!flag) {\r\n            //Cancel the edit mode when clicking outside except on attachment item area\r\n            this._cancelEdit();\r\n          }\r\n        }\r\n        else {\r\n          //in case the focus is set outside of the attachment item => destroy action bar but\r\n          // only then\r\n          if ((relatedTarget.hasClass('csui-toolitem') === false) &&\r\n              (relatedTarget.hasClass('workitem-expand-icon') === false)) {\r\n            this._destroyActionBar();\r\n            this.$(\".workitem-attachments-name\").prop('tabindex', '0');\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Switch to the edit mode for the description\r\n     * @private\r\n     */\r\n    _editDescription: function () {\r\n      //check for the Rename action, it indicates the permission to change the description\r\n      //due to inconsistencies between the load calls for the collection and the model we have to check for Rename and rename action.\r\n      var commandCS = this.model.actions.findWhere({signature: 'Rename'});\r\n      var commandCI = this.model.actions.findWhere({signature: 'rename'});\r\n      // if error case don't switch to edit mode\r\n      if (!_.isUndefined(commandCS) || !_.isUndefined(commandCI) && !this._parent.errorCase) {\r\n\r\n\r\n        //cancel previous editing fileds\r\n        this.cancelPrevEdit();\r\n        //destroy the bar if it exists\r\n        this._destroyActionBar();\r\n\r\n        if (!this.ui.attachmentDescriptionRO.hasClass('binf-hidden') ||\r\n            !this.ui.attachmentEmptyDescriptionRO.hasClass('binf-hidden')) {\r\n          var desc = this.model.get('description');\r\n          this.ui.attachmentDescriptionInput.val(desc);\r\n\r\n          if (this.model.get('description')) {\r\n            this.ui.attachmentDescriptionRO.addClass('binf-hidden');\r\n          } else {\r\n            this.ui.attachmentEmptyDescriptionRO.addClass('binf-hidden');\r\n          }\r\n\r\n          this.ui.attachmentDescriptionInput.removeClass('binf-hidden');\r\n          this.ui.attachmentDescriptionCancel.removeClass('binf-hidden');\r\n          this.ui.attachmentItem.addClass('workitem-attachments-description-edit');\r\n          this.ui.attachmentDescriptionInput.trigger(\"focus\");\r\n\r\n          // toggle the edit mode flag\r\n          this._parent.editMode = this.model.get('id');\r\n          this.triggerMethod('editmode:item', this);\r\n        }\r\n      }\r\n    },\r\n\r\n    _submitDescription: function () {\r\n      if (this.ui.attachmentDescriptionRO.hasClass('binf-hidden')) {\r\n\r\n        //get the new name and description and store it in the model, save it and render the view\r\n        var newDesc = this.ui.attachmentDescriptionInput.val().trim();\r\n        var oldDesc = this.model.get('description');\r\n        var newName = this._checkName();\r\n        var oldName = this.model.get('name');\r\n        if (newName.length === 0) {\r\n          this._cancelEdit();\r\n        } else {\r\n          this.model.set({'name': newName, 'description': newDesc});\r\n          this.model.save({'name': newName, 'description': newDesc},\r\n              {wait: true, patch: true, includeActions: true})\r\n              .done(_.bind(function () {\r\n                var tempNode = this.model.clone();\r\n                tempNode.collection = this.model.collection;\r\n                tempNode.fetch()\r\n                    .then(_.bind(function () {\r\n                      this.model.set(tempNode.attributes);\r\n                      if (tempNode.original) {\r\n                        this.model.original = tempNode.original;\r\n                      }\r\n                      //in case the enter was pressed, the actionbar is rerendered by the this.model.set\r\n                      //but has not the necessary classes and Keyboard Accessiblity settings\r\n                      if (this.$(\".workitem-attachments-actions>div>ul>li>a.csui-toolitem\").length > 0) {\r\n                        this._updateActionBarAndPrepareKeyboardAccess();\r\n                      }\r\n                    }, this));\r\n              }, this))\r\n              .fail(_.bind(function (error) {\r\n                GlobalMessage.showMessage('error', error.responseJSON.error);\r\n                this.model.set({'name': oldName, 'description': oldDesc});\r\n                this.model.fetch();\r\n                this.render();\r\n              }, this));\r\n          // toggle the error flag\r\n          this._parent.errorCase = false;\r\n        }\r\n      }\r\n    },\r\n\r\n    _checkName: function () {\r\n      return this.ui.attachmentName.hasClass(\"binf-hidden\") &&\r\n             this.ui.attachmentDescriptionRO.hasClass(\"binf-hidden\") ?\r\n             this.ui.attachmentNameInput.val().trim() : this.model.get(\"name\");\r\n    },\r\n\r\n    /**\r\n     * Cancel the edit mode for the description, by hiding the edit box and showing the old text\r\n     * @private\r\n     */\r\n    _cancelEdit: function () {\r\n      if (this.ui.attachmentDescriptionRO.hasClass('binf-hidden')) {\r\n        this.ui.attachmentErrorMsg.text('');\r\n        this.ui.attachmentErrorMsg.attr('title', '');\r\n        this.ui.attachmentErrorMsg.addClass(\"binf-hidden\");\r\n        this.$el.find(\"#workitem-attachments-name-input-\" + this.model.attributes.id).removeClass(\r\n            \"workitem-attachments-error-display\");\r\n        this.ui.attachmentItem.removeClass('workitem-attachments-edit-error');\r\n        this.ui.attachmentDescriptionInput.addClass('binf-hidden');\r\n        this.ui.attachmentDescriptionCancel.addClass('binf-hidden');\r\n        if (this.model.get('description')) {\r\n          this.ui.attachmentDescriptionRO.removeClass('binf-hidden');\r\n        } else {\r\n          this.ui.attachmentEmptyDescriptionRO.removeClass('binf-hidden');\r\n        }\r\n        this.ui.attachmentName.removeClass('binf-hidden');\r\n        this.ui.attachmentNameInput.addClass(\"binf-hidden\");\r\n        this.ui.attachmentNameCancel.addClass('binf-hidden');\r\n        this.ui.attachmentItem.removeClass('workitem-attachments-actions-display');\r\n        this.ui.attachmentItem.removeClass('workitem-attachments-description-edit');\r\n\r\n        var name        = this.model.get('name'),\r\n            description = this.model.get('description');\r\n        this.ui.attachmentName.text(name);\r\n        this.ui.attachmentName.attr('title', name);\r\n        this.ui.attachmentDescriptionRO.text(description);\r\n        this.ui.attachmentDescriptionRO.attr('title', description);\r\n        // unsetting the editmode flag\r\n        delete this._parent.editMode;\r\n        this.triggerMethod('editmode:item', this);\r\n        // toggle the error flag\r\n        this._parent.errorCase = false;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns true if the item is in edit mode and not action bar should be shown.\r\n     * @returns {boolean}\r\n     */\r\n    isEditMode: function () {\r\n      //checking the current attachment is in edit mode or not\r\n      if (this._parent.editMode && ( this.model.get('id') === this._parent.editMode )) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n      this.iconView.render();\r\n      this.ui.attachmentIcon.prepend(this.iconView.$el);\r\n      if (this.model.get('description')) {\r\n        this.ui.attachmentDescriptionRO.removeClass('binf-hidden');\r\n      } else {\r\n        var mapsList = this.options.view.model.get('mapsList');\r\n        if (((mapsList && mapsList.length === 1) || !this.options.view.model.get('isDoc')) &&\r\n            !this.options.view.model.get('isWFStatusItemAttachment')) {\r\n          this.ui.attachmentEmptyDescriptionRO.removeClass('binf-hidden');\r\n        }\r\n      }\r\n      //show grayed out items when there is no default action\r\n      if (this.options.defaultActionController &&\r\n          !this.options.defaultActionController.hasAction(this.model)) {\r\n        var inactiveClass = 'workitem-attachment-inactive';\r\n        this.$el.find(\".workitem-attachments-icon\").addClass(inactiveClass);\r\n        this.$el.find(\".workitem-attachments-name\").addClass(inactiveClass);\r\n      }\r\n      //show description in edit mode after adding single attachment\r\n      if (this.model.isLocallyCreated && this.model.collection.singleFileUpload) {\r\n        //delay the switch to the edit mode, so that the item is already rendered and the focus could be set\r\n        _.delay(_.bind(function () {\r\n          this._editDescription();\r\n          //remove the temporarily new flag\r\n          this.model.isLocallyCreated = undefined;\r\n          this.model.collection.singleFileUpload = undefined;\r\n        }, this), 500);\r\n      }\r\n\r\n      if (this.model.attributes) {\r\n        //For type document the mimetype has to be get here\r\n        var mimeTypeFromModel = this.model.get(\"mime_type\");\r\n      }\r\n      var title = mimeTypeFromModel || this.model.get(\"type_name\") || this.model.get(\"type\");\r\n      if (this.model.get(\"name\") && title) {\r\n        var linkTitleAria = _.str.sformat(lang.linkTitleAria, this.model.get(\"name\"), title);\r\n        this.$el.find(\".workitem-attachments-name\").attr(\"aria-label\", linkTitleAria);\r\n      }\r\n    },\r\n\r\n    _updateActionBarAndPrepareKeyboardAccess: function () {\r\n\r\n      //add Class so that the menu is on the left side\r\n      this.tableActionBarView.$el.find(\".binf-dropdown-menu\").addClass('binf-dropdown-menu-right');\r\n      //Add Class so that it is clear that this is inside the action item\r\n      // necessary for the keyboard Accessibility\r\n      this.tableActionBarView.$el.find(\".binf-dropdown-toggle\").addClass('workitem-expand-icon');\r\n\r\n      //Fill the inlineitemslist and reset the inlineItemIndex for keyboard navigation\r\n      var that = this;\r\n      this._parent.inlineItemIndex = 0;\r\n      this._parent.inlineItemDropDownIndex = -1;\r\n      this._parent.$inlineItems = this.$(\".workitem-attachments-name\");\r\n\r\n      //For keyboard navigation set tabindex of all toolitems icons to -1\r\n      //Find all toolitems which aren't in the dropdownlist\r\n      var $toolItems = this.$(\".workitem-attachments-actions>div>ul>li>a.csui-toolitem\");\r\n      $toolItems.prop('tabindex', '-1');\r\n\r\n      //Find expand Icon if available\r\n      var $expandIcon = this.$(\".workitem-attachments-actions .binf-dropdown-toggle\");\r\n      $expandIcon.prop('tabindex', '-1');\r\n\r\n      //create list with the visible icons\r\n      _.each($toolItems, function ($toolItem) {\r\n        that._parent.$inlineItems.push($toolItem);\r\n      });\r\n      _.each($expandIcon, function ($expandIconSolo) {\r\n        that._parent.$inlineItems.push($expandIconSolo);\r\n      });\r\n      this._parent.inlineDropDownIsOpenSelector = \"li.binf-dropdown.binf-open\";\r\n\r\n      //find menuitems of dropdownlist if available\r\n      var $dropDownMenus = this.$(\".workitem-attachments-actions .binf-dropdown-menu a\");\r\n      $dropDownMenus.prop('tabindex', '-1');\r\n\r\n      this._parent.$inlineItemsDropDown = [];\r\n      _.each($dropDownMenus, function ($dropDownMenu) {\r\n        that._parent.$inlineItemsDropDown.push($dropDownMenu);\r\n      });\r\n      that._parent.$inlineItemsDropDown = this.$(that._parent.$inlineItemsDropDown);\r\n    },\r\n\r\n    _showActionBar: function (args) {\r\n\r\n      // is view in edit mode or in dragover mode?\r\n      if (this.isEditMode() || (this.$el.filter('.drag-over').length > 0)) {\r\n        return;\r\n      }\r\n\r\n      //destroy the bar if it exists\r\n      this._destroyActionBar();\r\n      //Adding openshortlinkcommand to commands when the default action is enabled\r\n      if (this.defaultActionController && this.defaultActionController.hasAction(this.model)) {\r\n        this.defaultActionController.commands.add(new OpenShortlinkCommand());\r\n      } else {\r\n        this.defaultActionController.commands.remove([{id: \"OpenShortlink\"}]);\r\n      }\r\n\r\n      // initialize the action bar\r\n      // TODO: the action bar style should be configurable with the module config\r\n      this.tableActionBarView = new TableActionBarView(_.extend({\r\n            context: this.options.context,\r\n            commands: this.defaultActionController.commands,\r\n            collection: toolbarItems.inlineActionbar,\r\n            model: this.model,\r\n            container: this.options.container,\r\n            originatingView: this.options.view,\r\n            containerCollection: this.model.collection //attachment collection\r\n          }, toolbarItems.inlineActionbar.options, {\r\n            inlineActionBarStyle: 'csui-table-actionbar-bubble'\r\n          })\r\n      );\r\n\r\n      // set the action state, without this the css class 'csui-state-undefined' is added to toolbar action bar\r\n      this.tableActionBarView.actionState.set('state', 'full');\r\n\r\n      // render the action bar\r\n      this.tableActionBarView.render();\r\n      this.tableActionBarView.triggerMethod(\"before:show\");\r\n      this.tableActionBarView.triggerMethod(\"show\");\r\n\r\n      // append to DOM\r\n      var container = this.$el.find('.workitem-attachments-actions');\r\n      container.append(this.tableActionBarView.$el);\r\n      container.addClass('workitem-attachments-actions-full');\r\n\r\n      // trigger after:show event\r\n      this.tableActionBarView.triggerMethod(\"after:show\");\r\n      this._updateActionBarAndPrepareKeyboardAccess();\r\n    },\r\n\r\n    openShortlink: function () {\r\n      //destroy action bar\r\n      this._destroyActionBar();\r\n\r\n      // Trigger the default action execution handler registered in the\r\n      // DefaultActionBehavior; if the action is disabled, it does nothing\r\n      this.triggerMethod('execute:defaultAction', this.model);\r\n    },\r\n\r\n    _destroyActionBar: function (args) {\r\n      if (this.tableActionBarView) {\r\n        // remove action bar from DOM\r\n        var actionBarDiv = this.$el;\r\n        actionBarDiv.removeClass('workitem-attachments-actions-full');\r\n        // destroy the view\r\n        this.tableActionBarView.destroy();\r\n        this.tableActionBarView = null;\r\n      }\r\n    },\r\n\r\n    onRenameMode: function () {\r\n      //check for the Rename action, it indicates the permission to change the description\r\n      //due to inconsistencies between the load calls for the collection and the model we have to check for Rename and rename action.\r\n      var commandCS = this.model.actions.findWhere({signature: 'Rename'});\r\n      var commandCI = this.model.actions.findWhere({signature: 'rename'});\r\n      if (!_.isUndefined(commandCS) || !_.isUndefined(commandCI) && !this._parent.errorCase) {\r\n\r\n        if (!this.ui.attachmentName.hasClass('binf-hidden')) {\r\n\r\n          //cancel previous editing fileds\r\n          this.cancelPrevEdit();\r\n          //destroy the bar if it exists\r\n          this._destroyActionBar();\r\n\r\n          var fileName = this.model.get(\"name\");\r\n          this.ui.attachmentNameInput.val(fileName);\r\n\r\n          this.ui.attachmentName.addClass('binf-hidden');\r\n          this.ui.attachmentErrorMsg.addClass('binf-hidden');\r\n          this.ui.attachmentNameInput.removeClass(\"binf-hidden\");\r\n          this.ui.attachmentItem.addClass('workitem-attachments-actions-display');\r\n\r\n          var desc = this.model.get('description');\r\n          this.ui.attachmentDescriptionInput.val(desc);\r\n\r\n          if (this.model.get('description')) {\r\n            this.ui.attachmentDescriptionRO.addClass('binf-hidden');\r\n          } else {\r\n            this.ui.attachmentEmptyDescriptionRO.addClass('binf-hidden');\r\n          }\r\n          this.ui.attachmentDescriptionInput.removeClass('binf-hidden');\r\n          this.ui.attachmentNameCancel.removeClass('binf-hidden');\r\n          this.ui.attachmentNameInput.trigger('focus');\r\n\r\n          var selEnd = (fileName !== undefined && fileName !== '') ? fileName.length : 0;\r\n\r\n          // for documents, highlight text till last dot.\r\n          if (fileName.lastIndexOf('.') > 0 && fileName.lastIndexOf('.') < fileName.length - 1) {\r\n            selEnd = fileName.lastIndexOf('.');\r\n          }\r\n          document.getElementById(\r\n              \"workitem-attachments-name-input-\" + this.model.attributes.id).setSelectionRange(0,\r\n              selEnd);\r\n          // setting editMode to the current editing attachment id\r\n          this._parent.editMode = this.model.get('id');\r\n          this.triggerMethod('editmode:item', this);\r\n\r\n        }\r\n      }\r\n    },\r\n\r\n    validateFileName: function () {\r\n      var that                 = this,\r\n          validFileName        = true,\r\n          maxLength            = 248,\r\n          maxLengthMsg         = lang.MaxLengthReached,\r\n          fileAlreadyExistsMsg = lang.FileAlreadyExists,\r\n          fileName;\r\n      that._parent.errorCase = false;\r\n      if (that.ui.attachmentName.hasClass('binf-hidden') &&\r\n          that.ui.attachmentDescriptionRO.hasClass('binf-hidden')) {\r\n        fileName = that.ui.attachmentNameInput.val();\r\n        if (fileName.length > maxLength) {\r\n          validFileName = that.setErrorMessage(maxLengthMsg);\r\n        } else {\r\n          that.model.collection.forEach(function (model) {\r\n            if (fileName && fileName !== that.model.get('name') &&\r\n                fileName.toLowerCase() === (model.attributes.name).toLowerCase()) {\r\n              fileAlreadyExistsMsg = _.str.sformat(fileAlreadyExistsMsg, fileName);\r\n              validFileName = that.setErrorMessage(fileAlreadyExistsMsg);\r\n            }\r\n          });\r\n        }\r\n      }\r\n      return validFileName;\r\n    },\r\n    setErrorMessage: function (message) {\r\n      this.$el.find(\"#workitem-attachments-name-input-\" + this.model.attributes.id).addClass(\r\n          \"workitem-attachments-error-display\");\r\n      this.ui.attachmentItem.addClass('workitem-attachments-edit-error');\r\n      this.ui.attachmentErrorMsg.text(message);\r\n      this.ui.attachmentErrorMsg.attr('title', message);\r\n      if (this.ui.attachmentErrorMsg.hasClass(\"binf-hidden\")) {\r\n        this.ui.attachmentErrorMsg.removeClass(\"binf-hidden\");\r\n      }\r\n      // set the error flag\r\n      this._parent.errorCase = true;\r\n      return false;\r\n    },\r\n    // this method exits the edit mode of attachment item\r\n    cancelPrevEdit: function () {\r\n      var edit, editItem;\r\n      if (this._parent.$el.find(\r\n              '.workitem-attachments-item.workitem-attachments-actions-display').length) {\r\n        edit = 'workitem-attachments-actions-display';\r\n      }\r\n      else if (this._parent.$el.find(\r\n              '.workitem-attachments-item.workitem-attachments-description-edit').length) {\r\n        edit = 'workitem-attachments-description-edit';\r\n      }\r\n      editItem = this._parent.$el.find('.' + edit);\r\n\r\n      if (editItem.length) {\r\n        editItem.removeClass(edit);\r\n        editItem.find('.workitem-attachments-description-input').addClass('binf-hidden');\r\n        editItem.find('.edit-cancel').addClass('binf-hidden');\r\n        editItem.find('.workitem-attachment-name').removeClass('binf-hidden');\r\n        editItem.find('.workitem-attachments-name-input').addClass(\"binf-hidden\");\r\n        editItem.find('.workitem-attachments-error-message').addClass(\"binf-hidden\");\r\n\r\n        var that                          = this,\r\n            name,\r\n            description,\r\n            attachmentNameEle             = editItem.find('.workitem-attachment-name'),\r\n            attachmentDescriptionEle      = editItem.find(\r\n                'span.workitem-attachments-description-ro'),\r\n            attachmentEmptyDescriptionEle = editItem.find(\r\n                'span.workitem-attachments-empty-description-ro');\r\n\r\n        _.each(this._parent.collection.models, function (model) {\r\n          if (model.get('id') === that._parent.editMode) {\r\n            name = model.get('name');\r\n            description = model.get('description');\r\n            if (description) {\r\n              editItem.find('span.workitem-attachments-description-ro').removeClass('binf-hidden');\r\n              attachmentDescriptionEle.text(description);\r\n              attachmentDescriptionEle.attr('title', description);\r\n            } else {\r\n              editItem.find('span.workitem-attachments-empty-description-ro').removeClass(\r\n                  'binf-hidden');\r\n              attachmentEmptyDescriptionEle.text(lang.DescriptionPlaceholder);\r\n              attachmentEmptyDescriptionEle.attr('title', lang.DescriptionPlaceholder);\r\n            }\r\n            attachmentNameEle.text(name);\r\n            attachmentNameEle.attr('title', name);\r\n            // if error case exists in previous edit then it sets false and delete's editMode\r\n            if (that._parent.errorCase === true) {\r\n              that._parent.errorCase = false;\r\n              // unsetting the editmode flag\r\n              delete that._parent.editMode;\r\n              editItem.find(\"#workitem-attachments-name-input-\" + model.attributes.id).removeClass(\r\n                  \"workitem-attachments-error-display\");\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n  });\r\n\r\n  return WorkItemAttachmentItemView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments.emptyDragAndDrop',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class='work-item-attachments-draganddrop'>\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.dragAndDropEmptyMsg : stack1), depth0))\n    + \"</div>\";\n}});\nHandlebars.registerPartial('workflow_widgets_workitem_workitem.attachments_impl_workitem.attachments.emptyDragAndDrop', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments.emptyDragAndDrop.view',['csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'i18n!workflow/widgets/workitem/workitem.attachments/impl/nls/lang',\r\n  'hbs!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments.emptyDragAndDrop',\r\n  'css!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments'\r\n], function (_, Marionette, lang, WorkItemDragAndDropTemplate) {\r\n  'use strict';\r\n  var EmptyDragAndDropView = Marionette.ItemView.extend({\r\n    template: WorkItemDragAndDropTemplate,\r\n    className: 'workitem-attachments-emptylist',\r\n    tagName: 'li',\r\n    templateHelpers: function () {\r\n      return {\r\n        messages: {\r\n          dragAndDropEmptyMsg: lang.EmptyDragAndDropMessage\r\n        }\r\n      };\r\n    },\r\n    constructor: function EmptyDragAndDropView() {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    }\r\n  });\r\n  return EmptyDragAndDropView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachmentlist',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"workitem-attachments-scrolling\\\" tabindex=\\\"-1\\\">\\r\\n  <ul class=\\\"workitem-attachments-itemlist\\\">\\r\\n  </ul>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('workflow_widgets_workitem_workitem.attachments_impl_workitem.attachmentlist', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// An application widget is exposed via a RequireJS module\r\ncsui.define('workflow/widgets/workitem/workitem.attachments/impl/workitem.attachmentlist.view',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/models/node/node.addable.type.collection',\r\n  'csui/utils/log',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  'workflow/behaviors/list.keyboard.behavior',\r\n  'workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments.draganddrop.view',\r\n  'workflow/widgets/workitem/workitem.attachments/impl/workitem.attachmentitem.view',\r\n  'workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments.emptyDragAndDrop.view',\r\n  'hbs!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachmentlist',\r\n  'css!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments'\r\n], function ($, _, Marionette, TabableRegionBehavior, AddableTypeCollection, log,\r\n    PerfectScrollingBehavior, DefaultActionBehavior, ListKeyboardBehavior, DragAndDrop,\r\n    WorkItemAttachmentItemView, WorkItemDragAndDropEmptyView, template) {\r\n  'use strict';\r\n\r\n  // A collection of Attachments to show some details for Attachments\r\n  var WorkItemAttachmentListView = Marionette.CompositeView.extend({\r\n\r\n    childViewContainer: '.workitem-attachments-itemlist',\r\n\r\n    // defines the child view\r\n    childView: WorkItemAttachmentItemView,\r\n\r\n    //defines the empty view\r\n    emptyView: WorkItemDragAndDropEmptyView,\r\n\r\n    // sets options for child view\r\n    childViewOptions: function () {\r\n      var options         = this.options,\r\n          originatingView = options.view;\r\n      originatingView.collection = this.collection;\r\n      return {\r\n        defaultActionController: this.defaultActionController,\r\n        context: options.context,\r\n        view: originatingView,\r\n        container: options.container\r\n      };\r\n    },\r\n    // listen to child view events\r\n    childEvents: {\r\n      'editmode:item': 'onEditModeItem'\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown'\r\n    },\r\n\r\n    // view behaviors\r\n    // - the default action behavior is required for the default action and the action bar.\r\n    behaviors: {\r\n      DefaultAction: {\r\n        behaviorClass: DefaultActionBehavior\r\n      },\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      },\r\n      ListKeyboard: {\r\n        behaviorClass: ListKeyboardBehavior,\r\n        currentlyFocusedElementSelector: '.workitem-attachments-name'\r\n      },\r\n      ScrollingInstructions: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.workitem-attachments-scrolling',\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 16\r\n      }\r\n    },\r\n\r\n    // each form element should have a parent class\r\n    className: 'workflow-attachmentlist-form',\r\n    template: template,\r\n    ui: {\r\n      dragAndDropArea: 'div.workitem-attachments-scrolling'\r\n    },\r\n\r\n    constructor: function WorkItemAttachmentListView(options) {\r\n      // apply properties to parent\r\n      this.options = options;\r\n      Marionette.CompositeView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    onShow: function () {\r\n      if (this._canApplyDragAndDrop()) {\r\n        this.setDragNDrop();\r\n      }\r\n    },\r\n\r\n    _canApplyDragAndDrop: function () {\r\n      var model    = this.options.view.model,\r\n          mapsList = model.get('mapsList');\r\n      return !model.get('isDoc') || (mapsList && mapsList.length === 1);\r\n    },\r\n\r\n    //after adding new items the tabindex has to be refreshed,focus is set to first item LPAD-64451\r\n    onAddChild: function (row) {\r\n      this.selectedIndex = 0;\r\n      this.trigger('refresh:tabindexes');\r\n      if (this._canApplyDragAndDrop()) {\r\n        this._setDragNDropRow(row);\r\n      }\r\n    },\r\n\r\n    //after removing items the tabindex has to be refreshed,focus is set to first item LPAD-63151\r\n    onRemoveChild: function () {\r\n      this.selectedIndex = 0;\r\n      this.trigger('refresh:tabindexes');\r\n    },\r\n\r\n    /**\r\n     * Item switches the edit mode\r\n     * @param view\r\n     */\r\n    onEditModeItem: function (view) {\r\n      // is view in edit mode?\r\n      if (_.isFunction(view.isEditMode) && !view.isEditMode()) {\r\n        //if the edit mode is ended, refresh tabindexes, so that hte focus is set properly\r\n        this.trigger('refresh:tabindexes');\r\n      }\r\n    },\r\n\r\n    _isDragNDropSupportedRow: function (rowNode) {\r\n      //only support Folder drag&drop\r\n      return (rowNode && rowNode.get('type') === 0);\r\n    },\r\n\r\n    _setDragNDropRow: function (row) {\r\n      var rowNode           = row && row.model,\r\n          isSupportedRow    = this._isDragNDropSupportedRow(rowNode),\r\n          context           = this.options.context,\r\n          currentHoverView  = isSupportedRow ? row.el : this,\r\n          target            = isSupportedRow ? rowNode : this.collection.node,\r\n          highlightedTarget = isSupportedRow ? currentHoverView : this.ui.dragAndDropArea;\r\n\r\n      this.addableTypes = new AddableTypeCollection(undefined, {node: target});\r\n\r\n      this.addableTypes.fetch().done(_.bind(function () {\r\n        currentHoverView.dragNDrop = new DragAndDrop({\r\n          container: target,\r\n          collection: this.collection,\r\n          addableTypes: this.addableTypes,\r\n          context: context,\r\n          highlightedTarget: highlightedTarget,\r\n          originatingView: this,\r\n          isSupportedRowView: isSupportedRow\r\n        });\r\n        this.listenTo(currentHoverView.dragNDrop, 'drag:over', this._addDragDropBorder, this);\r\n        this.listenTo(currentHoverView.dragNDrop, 'drag:leave', this._removeDragDropBorder, this);\r\n\r\n        currentHoverView.dragNDrop.setDragParentView(this, row.el);\r\n\r\n      }, this));\r\n\r\n    },\r\n\r\n    setDragNDrop: function () {\r\n      // load the addable types for the attachment folder\r\n      this.addableTypes = new AddableTypeCollection(undefined, {node: this.collection.node});\r\n      this.addableTypes.fetch().done(_.bind(function () {\r\n        // create the drag and drop view\r\n        this.dragNDrop = new DragAndDrop({\r\n          container: this.collection.node,\r\n          collection: this.collection,\r\n          context: this.options.context,\r\n          addableTypes: this.addableTypes\r\n        });\r\n        // listen to drag and drop events\r\n        this.listenTo(this.dragNDrop, 'drag:over', this._addDragDropBorder, this);\r\n        this.listenTo(this.dragNDrop, 'drag:leave', this._removeDragDropBorder, this);\r\n\r\n        // the csuiDropMessage) is only set once, there might be already one set by any of the\r\n        // _setDragNDropRow (whichever is first), but there are then problems when navigating with the drag over,\r\n        // therefore remove the already set one, then the setDragParentView will set it here again\r\n        if (this.csuiDropMessage) {\r\n          this.csuiDropMessage.remove();\r\n          this.csuiDropMessage = undefined;\r\n        }\r\n        //workitem-attachment-list\r\n        this.dragNDrop.setDragParentView(this, this.ui.dragAndDropArea);\r\n      }, this));\r\n\r\n    },\r\n\r\n    _addDragDropBorder: function (view, options) {\r\n      var disableMethod     = options && options.disabled ? 'addClass' : 'removeClass',\r\n          highlightedTarget = options && options.highlightedTarget ? options.highlightedTarget :\r\n                              this.ui.dragAndDropArea;\r\n      $(highlightedTarget).addClass('drag-over')[disableMethod]('csui-disabled');\r\n    },\r\n\r\n    _removeDragDropBorder: function (options) {\r\n      var highlightedTarget = this.ui.dragAndDropArea;\r\n      options && options.highlightedTarget && options.valid ?\r\n      $(options.highlightedTarget).removeClass('drag-over') :\r\n      $(highlightedTarget).removeClass('drag-over');\r\n    },\r\n\r\n    onDomRefresh: function () {\r\n      //re-rendering children when the domrefresh triggers from metadataview to reflect data changes\r\n      if (this.collection.propertiesAction) {\r\n        Marionette.CollectionView.prototype._renderChildren.call(this);\r\n        this.collection.propertiesAction = false;\r\n        this.onShow();\r\n      }\r\n    }\r\n  });\r\n\r\n  return WorkItemAttachmentListView;\r\n\r\n});\r\n\n","csui.define('workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments.addfromDesktop',['module',\r\n  'require',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/utils/commands/add',\r\n  'csui/dialogs/file.open/file.open.dialog'\r\n], function (module, require, _, $, AddCommand, FileOpenDialog) {\r\n  'use strict';\r\n  var AddFromFileSystem = AddCommand.extend({\r\n    _selectFilesForUpload: function (status, options) {\r\n      var deferred       = $.Deferred(),\r\n          fileOpenDialog = new FileOpenDialog({multiple: true});\r\n      fileOpenDialog\r\n          .on('add:files', function (files) {\r\n            require(['csui/controls/fileupload/fileupload'\r\n            ], function (fileUploadHelper) {\r\n              deferred.resolve();\r\n              var uploadController = fileUploadHelper.newUpload(status, options);\r\n              uploadController.addFilesToUpload(files, {\r\n                collection: status.collection\r\n              });\r\n              if (files.length === 1) {\r\n                status.collection.singleFileUpload = true;\r\n              }\r\n            });\r\n          })\r\n          .on('cancel', function () {\r\n            deferred.reject();\r\n          })\r\n          .show();\r\n      return deferred.promise();\r\n    }\r\n  });\r\n\r\n  return AddFromFileSystem;\r\n\r\n});\n","csui.define('workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments.addfromCS',['module',\r\n  'require',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/utils/log',\r\n  'csui/utils/url',\r\n  'csui/models/command',\r\n  'csui/utils/commandhelper',\r\n  'csui/utils/command.error',\r\n  'i18n!workflow/widgets/workitem/workitem.attachments/impl/nls/lang'\r\n], function (module, require, _, $, log, Url, CommandModel,\r\n    CommandHelper, CommandError, lang) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    parallelism: 3\r\n  });\r\n\r\n  // Dependencies loaded in the execute method first\r\n  var GlobalMessage, ConflictResolver, TaskQueue,\r\n      ApplyPropertiesSelectorView, UploadFileCollection, PageLeavingBlocker;\r\n\r\n  var CopyCommand = CommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: \"Add\",\r\n      name: lang.CommandNameAdd,\r\n      verb: lang.CommandVerbAdd,\r\n      doneVerb: lang.CommandDoneVerbAdd,\r\n      pageLeavingWarning: lang.AddPageLeavingWarning\r\n    },\r\n\r\n    execute: function (status, options) {\r\n      var self = this;\r\n      var deferred = $.Deferred();\r\n      var context = status.context || options && options.context;\r\n      var collection = status.collection;\r\n\r\n      status.suppressSuccessMessage = true;\r\n      require(['csui/controls/globalmessage/globalmessage',\r\n        'csui/controls/conflict.resolver/conflict.resolver',\r\n        'csui/utils/taskqueue',\r\n        'csui/dialogs/node.picker/impl/header/apply.properties.selector/apply.properties.selector.view',\r\n        'csui/models/fileuploads',\r\n        'csui/utils/page.leaving.blocker'\r\n      ], function () {\r\n        GlobalMessage = arguments[0];\r\n        ConflictResolver = arguments[1];\r\n        TaskQueue = arguments[2];\r\n        ApplyPropertiesSelectorView = arguments[3];\r\n        UploadFileCollection = arguments[4];\r\n        PageLeavingBlocker = arguments[5];\r\n\r\n        self._selectCopyOptions(status)\r\n            .done(function (selectedOptions) {\r\n              var selectedNodes = selectedOptions.nodes;\r\n              //Workflow attachment folder\r\n              var targetFolder = collection.node;\r\n              var applyProperties = selectedOptions.applyProperties;\r\n\r\n              // note: for workflow attachments it is always a copy into the current container\r\n              var copyToCurrentFolder = true;\r\n\r\n              //start blocking view\r\n              self._announceOperationStart(status.originatingView);\r\n\r\n              var namesToResolve = _.map(selectedNodes, function (node) {\r\n                var returnObj = {\r\n                  id: node.get('id'),\r\n                  name: node.get('name'),\r\n                  container: node.get('container'),\r\n                  mime_type: node.get('mime_type'),\r\n                  original_id: node.get('original_id'),\r\n                  original: node.original,\r\n                  type: node.get('type'),\r\n                  size: node.get('size'),\r\n                  type_name: node.get('type_name'),\r\n                  state: 'pending',\r\n                  count: 0,\r\n                  total: 1,\r\n                  enableCancel: false\r\n                };\r\n                if (node.get('type') === (144 || 749 || 30309)) {\r\n                  returnObj.size_formatted = node.get('size_formatted');\r\n                }\r\n                return returnObj;\r\n              });\r\n              var copyNamesToResolve = _.map(namesToResolve, function (name) {\r\n                return _.clone(name);\r\n              });\r\n              self._resolveNamingConflicts(targetFolder, copyNamesToResolve)\r\n                  .done(function (copyInstructions) {\r\n\r\n                    _.each(copyInstructions, function (instruction) {\r\n                      if (instruction.id === undefined) {\r\n                        instruction.id = _.findWhere(namesToResolve,\r\n                            {name: instruction.name}).id;\r\n                      }\r\n                    });\r\n\r\n                    self._metadataHandling(copyInstructions,\r\n                        _.extend(selectedOptions, {context: context, targetFolder: targetFolder}))\r\n                        .done(function () {\r\n                          var uploadCollection = new UploadFileCollection(copyInstructions);\r\n\r\n                          var connector = collection.connector;\r\n\r\n                          self._copySelectedNodes(uploadCollection, connector,\r\n                              targetFolder, applyProperties, copyToCurrentFolder,\r\n                              status.collection)\r\n                              .done(function () {\r\n                                GlobalMessage.hideFileUploadProgress();\r\n                                var msg = (copyInstructions.length === 1) ?\r\n                                          lang.MessageItemCopied : lang.MessageItemsCopied;\r\n                                msg = _.str.sformat(msg, copyInstructions.length);\r\n                                GlobalMessage.showMessage('success', msg);\r\n                                deferred.resolve();\r\n                              })\r\n                              .always(function () {\r\n                                self._announceOperationEnd(status.originatingView,\r\n                                    copyToCurrentFolder);\r\n                              })\r\n                              .fail(function (/*copyResults*/) {\r\n                                deferred.reject();\r\n                              });\r\n\r\n                        })\r\n                        .fail(function (error) {\r\n                          self._announceOperationEnd(status.originatingView, copyToCurrentFolder);\r\n                          deferred.reject(error);\r\n                        });\r\n\r\n                  })\r\n                  .fail(function (error) {\r\n                    self._announceOperationEnd(status.originatingView, copyToCurrentFolder);\r\n                    deferred.reject(error);\r\n                  });\r\n            });\r\n      }, function (error) {\r\n        deferred.reject(error);\r\n      });\r\n      return deferred.promise();\r\n    },\r\n\r\n    _announceOperationStart: function (view) {\r\n      var collectionView = view.resultsView || view.tableView;\r\n      if (collectionView) {\r\n        collectionView.blockActions();\r\n      }\r\n      PageLeavingBlocker.enable(this.get('pageLeavingWarning'));\r\n    },\r\n\r\n    _announceOperationEnd: function (view, copyToCurrentFolder) {\r\n      PageLeavingBlocker.disable();\r\n      var collectionView = view.resultsView || view.tableView;\r\n      if (collectionView) {\r\n        if (copyToCurrentFolder) {\r\n          collectionView.collection.fetch();\r\n        }\r\n        collectionView.unblockActions();\r\n      }\r\n    },\r\n\r\n    _selectCopyOptions: function (status) {\r\n      var self = this;\r\n      var deferred = $.Deferred();\r\n\r\n      require(['csui/dialogs/node.picker/node.picker'],\r\n          function (NodePicker) {\r\n            var pickerOptions = _.extend({\r\n              selectableTypes: status.validTypes,\r\n              showAllTypes: true,\r\n              dialogTitle: lang.AddDocumentLabel,\r\n              selectButtonLabel: lang.ButtonLabelAdd,\r\n              initialContainer: status.container,\r\n              startLocation: 'enterprise.volume',\r\n              propertiesSeletor: true,\r\n              globalSearch: true,\r\n              startLocations: ['enterprise.volume', 'current.location', 'personal.volume',\r\n                'favorites', 'recent.containers']\r\n            }, status);\r\n\r\n            self.nodePicker = new NodePicker(pickerOptions);\r\n\r\n            self.nodePicker\r\n                .show()\r\n                .done(function () {\r\n                  deferred.resolve.apply(deferred, arguments);\r\n                })\r\n                .fail(function () {\r\n                  deferred.reject.apply(deferred, arguments);\r\n                });\r\n          }, function (error) {\r\n            deferred.reject(error);\r\n          });\r\n      return deferred.promise();\r\n    },\r\n\r\n    _resolveNamingConflicts: function (targetFolder, nodeNames) {\r\n      var h1 = (nodeNames.length === 1) ? lang.CopyingNode : lang.CopyingNodes;\r\n      var conflictResolver = new ConflictResolver({\r\n        h1Label: _.str.sformat(h1, nodeNames.length),\r\n        actionBtnLabel: 'Add',\r\n        excludeAddVersion: true,\r\n        container: targetFolder,\r\n        files: nodeNames\r\n      });\r\n      return conflictResolver.run();\r\n    },\r\n\r\n    _metadataHandling: function (items, options) {\r\n      var deferred = $.Deferred();\r\n\r\n      require(['csui/widgets/metadata/metadata.copy.move.items.controller'\r\n      ], function (MetadataCopyMoveItemsController) {\r\n        var openMetadata = options.openSelectedProperties;\r\n        var applyProperties = options.applyProperties;\r\n        var metadataController = new MetadataCopyMoveItemsController();\r\n        var controllerFunction;\r\n\r\n        // open the metadata view\r\n        if (openMetadata) {\r\n          controllerFunction = metadataController.CopyMoveItemsWithMetadata;\r\n        } else if (applyProperties === ApplyPropertiesSelectorView.APPLY_DESTINATION_PROPERTIES ||\r\n                   applyProperties === ApplyPropertiesSelectorView.COMBINE_ALL_PROPERTIES) {\r\n          // check for required metadata\r\n          controllerFunction = metadataController.CopyMoveItemsRequiredMetadata;\r\n        } else {\r\n          return deferred.resolve();\r\n        }\r\n\r\n        if (applyProperties === ApplyPropertiesSelectorView.KEEP_ORIGINAL_PROPERTIES) {\r\n          options.inheritance = 'original';\r\n        } else if (applyProperties === ApplyPropertiesSelectorView.APPLY_DESTINATION_PROPERTIES) {\r\n          options.inheritance = 'destination';\r\n        } else if (applyProperties === ApplyPropertiesSelectorView.COMBINE_ALL_PROPERTIES) {\r\n          options.inheritance = 'merged';\r\n        }\r\n\r\n        options.action = 'copy';\r\n        controllerFunction.call(metadataController, items, options)\r\n            .done(function () {\r\n              deferred.resolve();\r\n            })\r\n            .fail(function (error) {\r\n              deferred.reject(error);\r\n            });\r\n\r\n      }, function (error) {\r\n        log.warn('Failed to load MetadataCopyMoveItemsController. {0}', error);\r\n        deferred.reject(error);\r\n      });\r\n\r\n      return deferred.promise();\r\n    },\r\n\r\n    _copySelectedNodes: function (uploadCollection, connector, targetFolder, applyProperties,\r\n        copyToCurrentFolder, targetCollection) {\r\n      var self     = this,\r\n          queue    = new TaskQueue({\r\n            parallelism: config.parallelism\r\n          }),\r\n          promises = _.map(uploadCollection.models, function (model) {\r\n            var deferred = $.Deferred();\r\n            queue.pending.add({\r\n              worker: function () {\r\n                var attributes = model.attributes,\r\n                    targetId   = targetFolder.get('id');\r\n\r\n                self._getCategories(attributes, connector, targetId, applyProperties)\r\n                    .done(function (categories) {\r\n                      self._copyNode(categories, attributes, connector, targetId, model.node)\r\n                          .done(function () {\r\n                            model.set('count', 1);\r\n                            model.deferred.resolve(model);\r\n                            copyToCurrentFolder &&\r\n                            self._addToCurrentTable(model.node, targetCollection, uploadCollection);\r\n                            deferred.resolve(attributes);\r\n                          })\r\n                          .fail(function (cause) {\r\n                            model.deferred.reject(model, new CommandError(cause));\r\n                            deferred.reject();\r\n                          });\r\n                    })\r\n                    .fail(function (cause) {\r\n                      model.deferred.reject(model, new CommandError(cause));\r\n                      deferred.reject();\r\n                    });\r\n                return deferred.promise();\r\n              }\r\n            });\r\n            return deferred.promise();\r\n          });\r\n      GlobalMessage.showFileUploadProgress(uploadCollection, {\r\n        oneFileTitle: lang.AddingOneFile,\r\n        oneFileSuccess: lang.AddOneFileSucceeded,\r\n        multiFileSuccess: lang.AddFilesSucceeded,\r\n        oneFilePending: lang.AddingOneFile,\r\n        multiFilePending: lang.AddFiles,\r\n        oneFileFailure: lang.AddFilesOneFailed,\r\n        multiFileFailure: lang.AddFilesFailed,\r\n        oneFailure: lang.AddFilesOneFailed,\r\n        enableCancel: false\r\n      });\r\n\r\n      return $.whenAll.apply($, promises);\r\n    },\r\n\r\n    _addToCurrentTable: function (node, targetCollection, uploadCollection) {\r\n\r\n      node.isLocallyCreated = true;\r\n      if (uploadCollection.length === 1) {\r\n        targetCollection.singleFileUpload = true;\r\n      }\r\n      CommandHelper\r\n          .refreshModelAttributesFromServer(node, targetCollection)\r\n          .done(function () {\r\n            // clear the original property, otherwise a shortcut icon is shown\r\n            if (node.original) {\r\n              node.attributes.original_id = 0;\r\n              node.original = undefined;\r\n            }\r\n            targetCollection.unshift(node);\r\n          });\r\n\r\n    },\r\n\r\n    _copyNode: function (categories, instruction, connector, targetFolderID, node) {\r\n\r\n      var nodeAttr = {\r\n        \"original_id\": instruction.id,\r\n        \"parent_id\": targetFolderID,\r\n        \"name\": instruction.newName ? instruction.newName : instruction.name,\r\n        \"roles\": categories\r\n      };\r\n      // FileUploadModel should be created with a container or connector\r\n      // to make its node cloneable.  But if not needed, use the default\r\n      // container of the upload controller to provide the connector.\r\n      if (!node.connector) {\r\n        connector.assignTo(node);\r\n      }\r\n\r\n      return node.save(nodeAttr, {\r\n        data: nodeAttr,\r\n        url: connector.connection.url + '/nodes'\r\n      });\r\n    },\r\n\r\n    _getCategories: function (attributes, connector, targetFolderID, applyProperties) {\r\n      var deferred = $.Deferred();\r\n      if (attributes.extended_data && attributes.extended_data.roles) {\r\n        deferred.resolve(attributes.extended_data.roles);\r\n      }\r\n      else {\r\n        //changed because of makeAjaxCall, 'Get' Call isn't allowed to have a body\r\n        var properties= \"?id=\" + attributes.id + \"&parent_id=\" + targetFolderID;\r\n        var ajaxOptions = {\r\n          url: connector.connection.url + '/forms/nodes/copy' + properties,\r\n          method: 'get'\r\n        };\r\n\r\n        connector.makeAjaxCall(ajaxOptions)\r\n            .then(function (response/*, statusText, jqxhr*/) {\r\n              var data = response.forms[1].data;\r\n              var categoryGroupMapping;\r\n              categoryGroupMapping = {};\r\n              categoryGroupMapping[ApplyPropertiesSelectorView.KEEP_ORIGINAL_PROPERTIES] = 'original';\r\n              categoryGroupMapping[ApplyPropertiesSelectorView.APPLY_DESTINATION_PROPERTIES] = 'destination';\r\n              categoryGroupMapping[ApplyPropertiesSelectorView.COMBINE_ALL_PROPERTIES] = 'merged';\r\n              var categories = data[categoryGroupMapping[applyProperties]];\r\n              deferred.resolve({\"categories\": categories});\r\n            })\r\n            .fail(function (error) {\r\n              deferred.reject(error);\r\n            });\r\n      }\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return CopyCommand;\r\n\r\n});\r\n\n","csui.define('workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments.addShortcut',['module',\r\n  'require',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/models/command',\r\n  'csui/utils/commandhelper',\r\n  'csui/utils/command.error',\r\n  'csui/models/node/node.model',\r\n  'i18n!workflow/widgets/workitem/workitem.attachments/impl/nls/lang'\r\n], function (module, require, _, $, CommandModel,\r\n    CommandHelper, CommandError, NodeModel, lang) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    parallelism: 3\r\n  });\r\n\r\n  // Dependencies loaded in the execute method first\r\n  var GlobalMessage, ConflictResolver, TaskQueue,\r\n      ApplyPropertiesSelectorView, UploadFileCollection, PageLeavingBlocker;\r\n\r\n  var AddCommand = CommandModel.extend({\r\n\r\n    defaults: {\r\n      signature: \"Add\",\r\n      name: lang.CommandNameAdd,\r\n      verb: lang.CommandVerbAdd,\r\n      doneVerb: lang.CommandDoneVerbAdd,\r\n      pageLeavingWarning: lang.AddPageLeavingWarning\r\n    },\r\n\r\n    execute: function (status, options) {\r\n      this.options = options;\r\n      var self = this;\r\n      var deferred = $.Deferred();\r\n      var collection = status.collection;\r\n\r\n      status.suppressSuccessMessage = true;\r\n      require(['csui/controls/globalmessage/globalmessage',\r\n        'csui/controls/conflict.resolver/conflict.resolver',\r\n        'csui/utils/taskqueue',\r\n        'csui/dialogs/node.picker/impl/header/apply.properties.selector/apply.properties.selector.view',\r\n        'csui/models/fileuploads',\r\n        'csui/utils/page.leaving.blocker'\r\n      ], function () {\r\n        GlobalMessage = arguments[0];\r\n        ConflictResolver = arguments[1];\r\n        TaskQueue = arguments[2];\r\n        ApplyPropertiesSelectorView = arguments[3];\r\n        UploadFileCollection = arguments[4];\r\n        PageLeavingBlocker = arguments[5];\r\n\r\n        self._selectShortCutCreateOptions(status)\r\n            .done(function (selectedOptions) {\r\n              var selectedNodes = selectedOptions.nodes;\r\n              //Workflow attachment folder\r\n              var targetFolder = collection.node;\r\n              var applyProperties = selectedOptions.applyProperties;\r\n\r\n              //  create workflow attachments into the current container\r\n              var createToCurrentFolder = true;\r\n\r\n              //start blocking view\r\n              self._announceOperationStart(status.originatingView);\r\n\r\n              var namesToResolve = _.map(selectedNodes, function (node) {\r\n                var returnObj = {\r\n                  id: node.get('id'),\r\n                  name: node.get('name'),\r\n                  container: node.get('container'),\r\n                  mime_type: node.get('mime_type'),\r\n                  original_id: node.get('original_id'),\r\n                  original_id_expand: node.get('original_id_expand'),\r\n                  type: node.get('type'),\r\n                  size: node.get('size'),\r\n                  type_name: node.get('type_name'),\r\n                  state: 'pending',\r\n                  count: 0,\r\n                  total: 1,\r\n                  enableCancel: false\r\n                };\r\n                return returnObj;\r\n              });\r\n              var createNamesToResolve = _.map(namesToResolve, function (name) {\r\n                return _.clone(name);\r\n              });\r\n              self._resolveNamingConflicts(targetFolder, createNamesToResolve)\r\n                  .done(function (createInstructions) {\r\n\r\n                    _.each(createInstructions, function (instruction) {\r\n\r\n                      //re-assign shortcut-subtype(1) type as ConflictResolver always returning\r\n                      // document-subtype(144) based on the file extension.\r\n                      instruction.type = _.findWhere(namesToResolve,\r\n                          {name: instruction.name}).type;\r\n\r\n                    });\r\n\r\n                    var uploadCollection = new UploadFileCollection(createInstructions);\r\n                    var connector = collection.connector;\r\n\r\n                    self._createSelectedNodes(uploadCollection, connector,\r\n                        targetFolder, applyProperties, createToCurrentFolder,\r\n                        status.collection)\r\n                        .done(function () {\r\n                          GlobalMessage.hideFileUploadProgress();\r\n                          var msg = (createInstructions.length === 1) ?\r\n                                    lang.MessageItemAdded : lang.MessageItemsAdded;\r\n                          msg = _.str.sformat(msg, createInstructions.length);\r\n                          GlobalMessage.showMessage('success', msg);\r\n                          deferred.resolve();\r\n                        })\r\n                        .always(function () {\r\n                          self._announceOperationEnd(status.originatingView,\r\n                              createToCurrentFolder);\r\n                        })\r\n                        .fail(function () {\r\n                          deferred.reject();\r\n                        });\r\n\r\n                  })\r\n                  .fail(function (error) {\r\n                    self._announceOperationEnd(status.originatingView, createToCurrentFolder);\r\n                    deferred.reject(error);\r\n                  });\r\n            });\r\n      }, function (error) {\r\n        deferred.reject(error);\r\n      });\r\n      return deferred.promise();\r\n    },\r\n\r\n    _announceOperationStart: function (view) {\r\n      var collectionView = view.resultsView || view.tableView;\r\n      if (collectionView) {\r\n        collectionView.blockActions();\r\n      }\r\n      PageLeavingBlocker.enable(this.get('pageLeavingWarning'));\r\n    },\r\n\r\n    _announceOperationEnd: function (view, createToCurrentFolder) {\r\n      PageLeavingBlocker.disable();\r\n      var collectionView = view.resultsView || view.tableView;\r\n      if (collectionView) {\r\n        if (createToCurrentFolder) {\r\n          collectionView.collection.fetch();\r\n        }\r\n        collectionView.unblockActions();\r\n      }\r\n    },\r\n\r\n    _selectShortCutCreateOptions: function (status) {\r\n      var self = this;\r\n      var deferred = $.Deferred();\r\n\r\n      require(['csui/dialogs/node.picker/node.picker'],\r\n          function (NodePicker) {\r\n            var pickerOptions = _.extend({\r\n              showAllTypes: true,\r\n              dialogTitle: lang.AddDocumentLabel,\r\n              selectButtonLabel: lang.ButtonLabelAdd,\r\n              initialContainer: status.container,\r\n              startLocation: 'enterprise.volume',\r\n              propertiesSeletor: true,\r\n              globalSearch: true,\r\n              startLocations: ['enterprise.volume', 'current.location', 'personal.volume',\r\n                'favorites', 'recent.containers']\r\n            }, status);\r\n\r\n            self.nodePicker = new NodePicker(pickerOptions);\r\n\r\n            self.nodePicker\r\n                .show()\r\n                .then(function (args) {\r\n                  var nodes = [];\r\n                  _.each(args.nodes, function (node) {\r\n                    var newNode = new NodeModel({\r\n                      \"type\": self.options.type,\r\n                      \"icon\": node.get('icon'),\r\n                      \"type_name\": self.options.type_name,\r\n                      \"container\": false,\r\n                      \"name\": node.get('name'),\r\n                      \"original_id\": node.get('id'),\r\n                      // Show the right icon for this not-yet-saved node\r\n                      \"original_id_expand\": node.attributes\r\n                    }, {connector: status.container.connector});\r\n                    nodes.push(newNode);\r\n                  });\r\n                  args.nodes = nodes;\r\n                  return args;\r\n                })\r\n                .done(function () {\r\n                  deferred.resolve.apply(deferred, arguments);\r\n                })\r\n                .fail(function () {\r\n                  deferred.reject.apply(deferred, arguments);\r\n                });\r\n          }, function (error) {\r\n            deferred.reject(error);\r\n          });\r\n      return deferred.promise();\r\n    },\r\n\r\n    _resolveNamingConflicts: function (targetFolder, nodeNames) {\r\n      var h1 = (nodeNames.length === 1) ? lang.AddingNode : lang.AddingNodes;\r\n      var conflictResolver = new ConflictResolver({\r\n        h1Label: _.str.sformat(h1, nodeNames.length),\r\n        actionBtnLabel: 'Add',\r\n        excludeAddVersion: true,\r\n        container: targetFolder,\r\n        files: nodeNames\r\n      });\r\n      return conflictResolver.run();\r\n    },\r\n\r\n    _createSelectedNodes: function (uploadCollection, connector, targetFolder, applyProperties,\r\n        createToCurrentFolder, targetCollection) {\r\n      var self     = this,\r\n          queue    = new TaskQueue({\r\n            parallelism: config.parallelism\r\n          }),\r\n          promises = _.map(uploadCollection.models, function (model) {\r\n            var deferred = $.Deferred();\r\n            queue.pending.add({\r\n              worker: function () {\r\n                var attributes = model.attributes,\r\n                    targetId   = targetFolder.get('id');\r\n                self._getCategories(attributes, connector, targetId, applyProperties)\r\n                    .done(function (categories) {\r\n                      self._createNode(categories, attributes, connector, targetId, model.node)\r\n                          .done(function () {\r\n                            model.set('count', 1);\r\n                            model.deferred.resolve(model);\r\n                            createToCurrentFolder &&\r\n                            self._addToCurrentTable(model.node, targetCollection, uploadCollection);\r\n                            deferred.resolve(attributes);\r\n                          })\r\n                          .fail(function (cause) {\r\n                            model.deferred.reject(model, new CommandError(cause));\r\n                            deferred.reject();\r\n                          });\r\n                    })\r\n                    .fail(function (cause) {\r\n                      model.deferred.reject(model, new CommandError(cause));\r\n                      deferred.reject();\r\n                    });\r\n                return deferred.promise();\r\n              }\r\n            });\r\n            return deferred.promise();\r\n          });\r\n      GlobalMessage.showFileUploadProgress(uploadCollection, {\r\n        oneFileTitle: lang.AddingOneFile,\r\n        oneFileSuccess: lang.AddOneFileSucceeded,\r\n        multiFileSuccess: lang.AddFilesSucceeded,\r\n        oneFilePending: lang.AddingOneFile,\r\n        multiFilePending: lang.AddFiles,\r\n        oneFileFailure: lang.AddFilesOneFailed,\r\n        multiFileFailure: lang.AddFilesFailed,\r\n        oneFailure: lang.AddFilesOneFailed,\r\n        enableCancel: false\r\n      });\r\n\r\n      return $.whenAll.apply($, promises);\r\n    },\r\n\r\n    _addToCurrentTable: function (node, targetCollection, uploadCollection) {\r\n\r\n      node.isLocallyCreated = true;\r\n      if (uploadCollection.length === 1) {\r\n        targetCollection.singleFileUpload = true;\r\n      }\r\n      CommandHelper\r\n          .refreshModelAttributesFromServer(node, targetCollection)\r\n          .done(function () {\r\n            targetCollection.unshift(node);\r\n          });\r\n\r\n    },\r\n\r\n    _createNode: function (categories, instruction, connector, targetFolderID, node) {\r\n\r\n      var nodeAttr = {\r\n        \"original_id\": instruction.original_id,\r\n        \"parent_id\": targetFolderID,\r\n        \"name\": instruction.newName ? instruction.newName : instruction.name,\r\n        \"roles\": categories,\r\n        \"action\": 'create',\r\n        \"type\": instruction.type,\r\n        \"original_id_expand\": instruction.original_id_expand\r\n      };\r\n      // FileUploadModel should be created with a container or connector\r\n      // to make its node cloneable.  But if not needed, use the default\r\n      // container of the upload controller to provide the connector.\r\n      if (!node.connector) {\r\n        connector.assignTo(node);\r\n      }\r\n\r\n      return node.save(nodeAttr, {\r\n        data: nodeAttr,\r\n        url: connector.connection.url + '/nodes'\r\n      });\r\n    },\r\n\r\n    _getCategories: function (attributes, connector, targetFolderID, applyProperties) {\r\n      var deferred = $.Deferred();\r\n      if (attributes.extended_data && attributes.extended_data.roles) {\r\n        deferred.resolve(attributes.extended_data.roles);\r\n      }\r\n      else {\r\n        //changed because of makeAjaxCall, 'Get' Call isn't allowed to have a body\r\n        var properties= \"?type=\" + attributes.type + \"&parent_id=\" + targetFolderID;\r\n        var ajaxOptions = {\r\n          url: connector.connection.url + '/forms/nodes/create' + properties,\r\n          method: 'get'\r\n        };\r\n\r\n        connector.makeAjaxCall(ajaxOptions)\r\n            .then(function (response) {\r\n              var data = response.forms[0].data;\r\n              var categoryGroupMapping;\r\n              categoryGroupMapping = {};\r\n              categoryGroupMapping[ApplyPropertiesSelectorView.KEEP_ORIGINAL_PROPERTIES] = 'original';\r\n              categoryGroupMapping[ApplyPropertiesSelectorView.APPLY_DESTINATION_PROPERTIES] = 'destination';\r\n              categoryGroupMapping[ApplyPropertiesSelectorView.COMBINE_ALL_PROPERTIES] = 'merged';\r\n              var categories = data[categoryGroupMapping[applyProperties]];\r\n              deferred.resolve({\"categories\": categories});\r\n            })\r\n            .fail(function (error) {\r\n              deferred.reject(error);\r\n            });\r\n      }\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return AddCommand;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachmenttoolbar',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"workitem-attachment-toolbar-view tile-nav\\\">\\r\\n  <div class=\\\"workitem-attachment-toolbar-add\\\"></div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_widgets_workitem_workitem.attachments_impl_workitem.attachmenttoolbar', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// An application widget is exposed via a RequireJS module\r\ncsui.define('workflow/widgets/workitem/workitem.attachments/impl/workitem.attachmenttoolbar.view',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/utils/log',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/controls/toolbar/toolbar.view',\r\n  'workflow/widgets/workitem/workitem.attachments/workitem.attachments.toolbaritems',\r\n  'workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments.addfromDesktop',\r\n  'workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments.addfromCS',\r\n  'workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments.addShortcut',\r\n  'hbs!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachmenttoolbar',\r\n  'i18n!workflow/widgets/workitem/workitem.attachments/impl/nls/lang',\r\n  'css!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments'\r\n], function ($, _, Marionette, log, GlobalMessage, TabableRegionBehavior,\r\n    LayoutViewEventsPropagationMixin, ToolbarView, toolbarItems, AddFromFileSysCommand,\r\n    AddFromContentServerCommand, AddShortCutServerCommand, template, lang) {\r\n  'use strict';\r\n\r\n  var WorkItemAttachmentsToolbarView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      addToolbarRegion: '.workitem-attachment-toolbar-add' // add toolbar\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    toolbarItemSelector: 'a.' + TabableRegionBehavior.accessibilityFocusableClass,\r\n\r\n    events: {\"keydown\": \"onKeyInView\"},\r\n\r\n    currentlyFocusedElement: function () {\r\n\r\n      var toolbarElements = this.$(this.toolbarItemSelector);\r\n      //Since jquery returns an init object for $(undefined), a check is made first to\r\n      //see if there are any toolbar elements.\r\n      var elementOfFocus = toolbarElements.length ?\r\n                           $(toolbarElements[this.accNthToolbarItemFocused]) : null;\r\n      return elementOfFocus;\r\n    },\r\n\r\n    constructor: function WorkItemAttachmentsToolbarView(options) {\r\n      options || (options = {});\r\n\r\n      this.context = options.context;\r\n      this.toolbarCollection = options.toolbarCollection;\r\n      this.originatingView = options.originatingView;\r\n      this.addableTypes = options.addableTypes;\r\n      this.container = options.container;\r\n      this.attachmentCollection = options.attachmentCollection;\r\n      this.accNthToolbarItemFocused = 0;\r\n\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments); // sets this.options\r\n    },\r\n\r\n    initialize: function () {\r\n\r\n      // create the toolbar with the necessary menu entries\r\n      this.toolbarView = new ToolbarView({\r\n        collection: this.toolbarCollection,\r\n        maxItemsShown: 0,\r\n        dropDownText: lang.AddToolbarItemLabel,\r\n        dropDownIcon: 'icon icon-toolbarAdd'\r\n      });\r\n\r\n      //create the command objects\r\n      this.addFromCSCommand = new AddFromContentServerCommand();\r\n      this.addFromFileSysCommand = new AddFromFileSysCommand();\r\n      this.addShortCutCommand = new AddShortCutServerCommand();\r\n\r\n      // listen to the toolbar action\r\n      this.listenTo(this.toolbarView, 'childview:toolitem:action', this._toolbarItemClicked);\r\n\r\n      // Cause the show events triggered on the parent view re-triggered\r\n      // on the views placed in the inner regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      this.addToolbarRegion.show(this.toolbarView);\r\n    },\r\n\r\n    _closeMenu: function (event, prevent) {\r\n      var dropDownEl = this.$el.find('li.binf-dropdown.binf-open');\r\n      if (dropDownEl.length > 0) {\r\n        var dropDownToggel = this.$el.find('li.binf-dropdown.binf-open > a');\r\n        //remove the open classes, so that the menu closes\r\n        dropDownEl.removeClass('binf-open');\r\n        dropDownToggel.attr('aria-expanded', 'false');\r\n        if (prevent) {\r\n          //prevent the default event, so that the dialog doesn't close\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Check for the ESC (27) and TAB (9) key.\r\n     * Both should close the menu and ESC should not close the dialog in the case the menu is open.\r\n     * @param event\r\n     */\r\n    onKeyInView: function (event) {\r\n      switch (event.keyCode) {\r\n        /* currently we have only one toolbar item, no need for the other key codes from tabeltoolbar view*/\r\n      case 27:\r\n        // ESC key > close menu\r\n        this._closeMenu(event, true);\r\n        break;\r\n      case 9:\r\n        // Tab key > close menu\r\n        this._closeMenu(event, false);\r\n        break;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Toolbar action event\r\n     * @param event Event information, e.g. the model of the toolbar item\r\n     * @private\r\n     */\r\n    _toolbarItemClicked: function (event) {\r\n\r\n      switch (event.model.get('id')) {\r\n      case 'copy':\r\n        // call the add from ContentServer command\r\n        var validTypes = this.addableTypes.map(function (model) {\r\n          return model.get('type');\r\n        });\r\n        this.addFromCSCommand.execute({\r\n          originatingView: this.originatingView,\r\n          context: this.context,\r\n          container: this.container,\r\n          collection: this.attachmentCollection,\r\n          validTypes: validTypes\r\n        });\r\n        break;\r\n      case 'filesystem':\r\n        // call the add from FileSystem command\r\n        var status = {\r\n          originatingView: this.originatingView,\r\n          context: this.context,\r\n          container: this.container,\r\n          collection: this.attachmentCollection,\r\n          data: this.addableTypes\r\n        };\r\n        var fileSysOptions = {\r\n          context: this.context,\r\n          addableType: event.model.get('type'),\r\n          addableTypeName: event.model.get('name')\r\n        };\r\n        this.addFromFileSysCommand.execute(status, fileSysOptions);\r\n        break;\r\n      case 'shortcut':\r\n        // call the add shortcut command\r\n        this.addShortCutCommand.execute({\r\n          originatingView: this.originatingView,\r\n          context: this.context,\r\n          container: this.container,\r\n          collection: this.attachmentCollection\r\n        }, {\r\n          type: 1, //shortcut subtype\r\n          type_name: 'shortcut'\r\n        });\r\n        break;\r\n      default:\r\n        // FixMe: wraning should be removed in production\r\n        GlobalMessage.showMessage(\"warning\", \"not implemented\");\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(WorkItemAttachmentsToolbarView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return WorkItemAttachmentsToolbarView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"workitem-attachment-toolbar\\\"></div>\\r\\n<div class=\\\"workitem-attachment-list\\\"></div>\";\n}});\nHandlebars.registerPartial('workflow_widgets_workitem_workitem.attachments_impl_workitem.attachments', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// An application widget is exposed via a RequireJS module\r\ncsui.define('workflow/widgets/workitem/workitem.attachments/workitem.attachments.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/lib/backbone',\r\n  'csui/lib/jquery',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/utils/log',\r\n  'csui/models/nodechildren',\r\n  'csui/models/node.children2/node.children2',\r\n  'csui/models/node/node.addable.type.collection',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/toolbar/toolitem.model',\r\n  'workflow/widgets/workitem/workitem.attachments/impl/workitem.attachmentlist.view',\r\n  'workflow/widgets/workitem/workitem.attachments/impl/workitem.attachmenttoolbar.view',\r\n  'hbs!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments',\r\n  'i18n!workflow/widgets/workitem/workitem.attachments/impl/nls/lang',\r\n  'css!workflow/widgets/workitem/workitem.attachments/impl/workitem.attachments'\r\n], function (_, Marionette, Backbone, $, ModalAlert, log, NodeChildrenCollection, NodeChildren2Collection,\r\n    AddableTypeCollection,\r\n    BlockingView, GlobalMessage, LayoutViewEventsPropagationMixin,\r\n    TabableRegionBehavior, ToolbarModel, WorkItemAttachmentList, WorkItemAttachmentToolbar,\r\n    template, lang) {\r\n  'use strict';\r\n\r\n  var WorkItemAttachmentsView = Marionette.LayoutView.extend({\r\n\r\n    className: 'workitem-attachments',\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      toolbar: '.workitem-attachment-toolbar',\r\n      list: '.workitem-attachment-list'\r\n    },\r\n\r\n    constructor: function WorkItemAttachmentsView(options) {\r\n      options || (options = {});\r\n\r\n      this.context = options.context;\r\n\r\n      // apply properties to parent\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    _prepareAttachmentActions: function () {\r\n\r\n      // initialize deferred object to return\r\n      var deferred = $.Deferred();\r\n\r\n      // initialize toolbar collection\r\n      this.toolbarCollection = new Backbone.Collection();\r\n\r\n      // load the addable types for the attachment folder\r\n      this.addableTypes = new AddableTypeCollection(undefined, {node: this.model});\r\n      this.addableTypes.fetch().done(_.bind(function () {\r\n        var shortcut, others, fileDoc;\r\n        this.addableTypes.forEach(function (type) {\r\n          switch (type.get('type')) {\r\n          case 1:\r\n            //shortcut\r\n            shortcut = new ToolbarModel({\r\n              name: lang.AddShortcutLabel,\r\n              id: 'shortcut'\r\n            });\r\n            shortcut.status = {};\r\n            break;\r\n          case 144:\r\n            //document\r\n            fileDoc = new ToolbarModel({\r\n              name: lang.AddFromDesktopLabel,\r\n              id: 'filesystem',\r\n              type: type.get('type')\r\n            });\r\n            fileDoc.status = {};\r\n            break;\r\n          default:\r\n            //other types\r\n            if (!others) {\r\n              others = new ToolbarModel({name: lang.AddFromContentServerLabel, id: 'copy'});\r\n              others.status = {};\r\n            }\r\n          }\r\n        });\r\n\r\n        // fill only the set toolbar actions into the collection (order is important!)\r\n        if (fileDoc) {\r\n          this.toolbarCollection.add(fileDoc);\r\n        }\r\n        if (others) {\r\n          this.toolbarCollection.add(others);\r\n        }\r\n        if (shortcut) {\r\n          this.toolbarCollection.add(shortcut);\r\n        }\r\n      }, this)).always(function(){\r\n        // resolve the promise\r\n        deferred.resolve();\r\n      });\r\n\r\n      // return deferred promise\r\n      return deferred.promise();\r\n    },\r\n\r\n    initialize: function () {\r\n\r\n      // initialize blocking view & block actions until finished with all the loading.\r\n      // unblocking is done in success, error callbacks\r\n      if (this.options.blockingParentView) {\r\n        BlockingView.delegate(this, this.options.blockingParentView);\r\n      } else {\r\n        BlockingView.imbue(this);\r\n      }\r\n      this.blockActions();\r\n\r\n      // prepare the toolbar actions based on the addable node types\r\n      var mapsList = this.options.view.model.get('mapsList');\r\n      var isDoc = this.options.view.model.get('isDoc');\r\n      if (isDoc !== true || (mapsList && mapsList.length === 1)) {\r\n\r\n        // prepare attachment actions and wait until finished\r\n        var promise = this._prepareAttachmentActions();\r\n        promise.done(_.bind(function () {\r\n        var node = this.model;\r\n\r\n        if (!this.toolbar) {\r\n          return;\r\n        }\r\n          // load the children from the attachment folder\r\n          this.attachmentCollection = new NodeChildren2Collection(undefined,\r\n              _.defaults({\r\n                autoreset: true,\r\n                includeActions: false,\r\n                delayRestCommands: true,\r\n                fields: {\r\n                  'properties': [],\r\n                  'versions.element(0)': ['owner_id']\r\n                },\r\n                expand: {\r\n                  properties: ['node','original_id']\r\n                },\r\n                commands: ['openshortlink', 'download', 'properties', 'rename', 'delete', 'default', 'addcategory', 'open', 'edit', 'addversion','copy', 'move']\r\n              },\r\n              {node: node}\r\n          ));\r\n\r\n          // create and show the toolbar with the appropriate items or hide it completely\r\n          this.toolbarView = new WorkItemAttachmentToolbar({\r\n            context: this.context,\r\n            originatingView: this,\r\n            toolbarCollection: this.toolbarCollection,\r\n            addableTypes: this.addableTypes,\r\n            container: this.model,\r\n            attachmentCollection: this.attachmentCollection\r\n          });\r\n          this.toolbar.show(this.toolbarView);\r\n\r\n          // hide the toolbar if empty\r\n          if (this.toolbarCollection.length <= 0) {\r\n            this.toolbar.$el.addClass('binf-hidden');\r\n          }\r\n\r\n          var docModels  = this.options.view.model.get(\"docModels\"),\r\n              isNewDraft = this.options.view.model.get(\"isNewDraft\");\r\n          if (docModels && isNewDraft) {\r\n            //adding document(s) to the attachmentcollection if the workflow is triggered from a\r\n            // document\r\n            var checkNodes     = [],\r\n                loadedDocCount = 0,\r\n                that           = this,\r\n                errorDocs      = [];\r\n            _.each(docModels, function (docModel) {\r\n              var docAttributes = docModel.attributes,\r\n                  nodeAttr      = {\r\n                    \"original_id\": docAttributes.original_id,\r\n                    \"parent_id\": that.model.get(\"id\"),\r\n                    \"name\": docAttributes.newName ? docAttributes.newName : docAttributes.name,\r\n                    \"action\": 'create',\r\n                    \"type\": docAttributes.type,\r\n                    \"original_id_expand\": docAttributes.original_id_expand\r\n                  },\r\n                  tmpCheckNode  = {\r\n                    \"name\": nodeAttr.name,\r\n                    \"promise\": docModel.save(nodeAttr, {\r\n                      data: nodeAttr,\r\n                      url: that.model.connector.connection.url + '/nodes'\r\n                    })\r\n                  };\r\n              checkNodes.push(tmpCheckNode);\r\n            });\r\n            _.each(checkNodes, function (checkNode) {\r\n              checkNode.promise.fail(_.bind(function (error) {\r\n                    errorDocs.push(' ' + checkNode.name);\r\n                  }, that))\r\n                  .always(_.bind(function (resp) {\r\n                    if (loadedDocCount === docModels.length - 1) {\r\n                      if (errorDocs.length === 0) {\r\n                        that.showAttachments();\r\n                      } else {\r\n                        this.unblockActions();\r\n                        var title     = lang.AttachmentsFailMessageTitle\r\n                            , message = _.str.sformat(lang.AttachmentsFailMessage, errorDocs)\r\n                            , promise = ModalAlert.showError(message, title);\r\n                        promise.always(function () {\r\n                          that.options.view.parentView._navigateToDocParentNode();\r\n                        });\r\n                      }\r\n                    }\r\n                    loadedDocCount++;\r\n                  }, that));\r\n\r\n            });\r\n          } else {\r\n            this.showAttachments();\r\n          }\r\n\r\n          if (!this.options.view.model.get(\"isDraft\")) {\r\n            $('<input>').attr({\r\n              type: 'hidden',\r\n              id: 'attachmentFolderId',\r\n              name: 'attachmentFolderId',\r\n              value: this.model.get(\"id\")\r\n            }).appendTo('.workitem-view');\r\n          }\r\n\r\n          // create the attachment list view\r\n          this.attachments = new WorkItemAttachmentList({\r\n            context: this.context,\r\n            container: this.model,\r\n            collection: this.attachmentCollection,\r\n            view: this.options.view\r\n          });\r\n\r\n          // Cause the show events triggered on the parent view re-triggered\r\n          // on the views placed in the inner regions\r\n          this.propagateEventsToRegions();\r\n        }, this));\r\n\r\n      } else {\r\n\r\n        var docModels = this.options.view.model.get(\"docModels\");\r\n        if (docModels) {\r\n          this.attachmentCollection = new NodeChildrenCollection(docModels, {});\r\n          this.attachments = new WorkItemAttachmentList({\r\n            context: this.context,\r\n            collection: this.attachmentCollection,\r\n            view: this.options.view\r\n          });\r\n          this.attachments.render();\r\n        }\r\n      }\r\n    },\r\n\r\n    showAttachments: function () {\r\n      this.attachmentCollection.fetch()\r\n          .done(_.bind(function () {\r\n            if (this.attachmentCollection.length > 0) {\r\n              this.attachmentCollection.delayedActions.fetch()\r\n                  .done(_.bind(function () {\r\n                    // show the attachment list when the collection is loaded\r\n                    this.list.show(this.attachments);\r\n                  }, this));\r\n            } else if (this.toolbarCollection.length > 0) {\r\n              // Show drag and drop message only if user has permission to add attachment\r\n              this.list.show(this.attachments);\r\n            }\r\n          }, this))\r\n          .fail(_.bind(function () {\r\n            //show error message\r\n            GlobalMessage.showMessage('error', lang.ErrorMessageLoadAttachments);\r\n          }, this))\r\n          .always(_.bind(function () {\r\n            // unblock actions\r\n            this.unblockActions();\r\n          }, this));\r\n    }\r\n  });\r\n\r\n  _.extend(WorkItemAttachmentsView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return WorkItemAttachmentsView;\r\n\r\n});\r\n\n","// An application widget is exposed via a RequireJS module\r\ncsui.define('workflow/widgets/workitem/workitem.attachments/workitem.attachments.controller',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/utils/log',\r\n  'csui/utils/contexts/factories/node',\r\n  'workflow/utils/workitem.extension.controller',\r\n  'workflow/widgets/workitem/workitem.attachments/workitem.attachments.view',\r\n  'i18n!workflow/widgets/workitem/workitem.attachments/impl/nls/lang',\r\n], function (_, $, log, NodeModelFactory, WorkItemExtensionController, WorkItemAttachmentsView, lang) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Workitem integration controller\r\n   * @param options Initialization options like context, data, parent view\r\n   * @constructor\r\n   */\r\n  var WorkItemAttachmentsController = WorkItemExtensionController.extend({\r\n\r\n    // Type of the attachment package\r\n    type: 1,\r\n    // Sub type of the attachment package\r\n    sub_type: 1,\r\n    //This defines the tab order\r\n    position: 1,\r\n\r\n    constructor: function WorkItemAttachmentsController(attributes, options) {\r\n      WorkItemExtensionController.prototype.constructor.apply(this, arguments);\r\n\r\n      options || (options = {});\r\n\r\n      this.context = attributes.context;\r\n    },\r\n\r\n    /**\r\n     * Validates the data package\r\n     * @param type\r\n     * @param sub_type\r\n     * @returns {boolean}\r\n     */\r\n    validate: function (type, sub_type) {\r\n      if (type === this.type && sub_type === this.sub_type) {\r\n        //attachment data package\r\n        return true;\r\n      }\r\n      // other data packages\r\n      return false;\r\n    },\r\n\r\n    // Execute the controller action\r\n    // In this case load the attachments folder model\r\n    // and when it is loaded create and initialize the attachment view\r\n    // the view is sent as viewToShow property to the done method of the promise.\r\n    // The promise is resolved when the view is created.\r\n    execute: function (options) {\r\n\r\n      var extensionPoint = options.extensionPoint;\r\n      var data = options.data;\r\n      var parentView = options.parentView;\r\n\r\n      // Deferred object to control the model loading\r\n      var deferred = $.Deferred();\r\n\r\n      // Check the current requested extension point\r\n      if (extensionPoint === WorkItemExtensionController.ExtensionPoints.AddSidebar) {\r\n\r\n        // load the node model for the attachment folder\r\n        var model = this.context.getModel(NodeModelFactory,\r\n            {attributes: {id: data.attachment_folder_id}});\r\n\r\n        model.fetch()\r\n            .done(_.bind(function (args) {\r\n              //this is the model necessary for the tabPanel it must contain a title,\r\n              // viewToRender and viewToRenderOptions and a position which defins the order of\r\n              // the tabs\r\n\r\n              args.title = lang.TabTitle;\r\n              args.position = this.position;\r\n              args.viewToRender = WorkItemAttachmentsView;\r\n              args.viewToRenderOptions = {context: this.context, model: model, view: parentView};\r\n              //loading successful, resolve the promise\r\n              deferred.resolve(args);\r\n            }, this))\r\n            .fail(_.bind(function (args) {\r\n              //loading failed, set the error message and reject the promise\r\n              args.errorMsg = lang.ErrorMessageLoadAttachments;\r\n              deferred.reject(args);\r\n            }, this));\r\n\r\n        // return a promise\r\n        return deferred.promise();\r\n      } else {\r\n        // this extension point is not supported from this integration, don't return a view\r\n        deferred.resolve({});\r\n        return deferred.promise();\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return WorkItemAttachmentsController;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/controls/popover/impl/popover',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.isGroup : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"2\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    <div class=\\\"wfstatus-usercard-list-header\\\">\\r\\n      <div class=\\\"wfstatus-usercard-popover-header-labels\\\">\\r\\n        <div class=\\\"wfstatus-usercard-popover-header-group-label\\\"\\r\\n             title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.groupName || (depth0 != null ? depth0.groupName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"groupName\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.groupName || (depth0 != null ? depth0.groupName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"groupName\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n        <div class=\\\"wfstatus-usercard-popover-header-group-status\\\"\\r\\n             title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.status || (depth0 != null ? depth0.status : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"status\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.status || (depth0 != null ? depth0.status : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"status\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n      </div>\\r\\n      <input class=\\\"search wfstatus-user-input\\\" type=\\\"search\\\" title=\\\"Search by Group User\\\"\\r\\n             style=\\\"display: none\\\">\\r\\n      <div\\r\\n          class=\\\"cs-search-icon icon icon-search csui-acc-focusable-active wfstatus-user-search-icon\\\"\\r\\n          title=\\\"Search by Group User\\\"></div>\\r\\n    </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.listViewMulCurrentSteps : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"<div class=\\\"popover wfstatus-popover-scrolling wfstatus-popover-content large\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_controls_popover_impl_popover', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!workflow/controls/popover/impl/popover',[],function(){});\n","csui.define('workflow/controls/popover/popover.view',[\r\n  'require',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'hbs!workflow/controls/popover/impl/popover',\r\n  'css!workflow/controls/popover/impl/popover'\r\n], function (require, $, _, Backbone, Marionette, PerfectScrollingBehavior,\r\n    template) {\r\n  'use strict';\r\n\r\n  var PopOverView = Marionette.LayoutView.extend({\r\n\r\n    className: 'wfstatus-popover-class',\r\n    template: template,\r\n    tagName: 'div',\r\n\r\n    constructor: function PopOverView(options) {\r\n\r\n      options = options || {};\r\n      this.cardListView = options.popoverCardsListView;\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n    },\r\n\r\n    regions: {\r\n      popover: \".wfstatus-popover-content\"\r\n    },\r\n\r\n    events: {\r\n      'click .wfstatus-user-search-icon': 'toggleSearchInput',\r\n      'keyup .wfstatus-user-input': 'searchUser'\r\n    },\r\n\r\n    ui: {\r\n      wfstatusUserInput: '.wfstatus-user-input'\r\n    },\r\n\r\n    behaviors: {\r\n\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.wfstatus-popover-scrolling',\r\n        scrollXMarginOffset: 30,\r\n        suppressScrollX: true,\r\n        // like bottom padding of container, otherwise scrollbar is shown always\r\n        scrollYMarginOffset: 15\r\n      }\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      var utils           = require('workflow/utils/workitem.util'),\r\n          groupDetails    = this.model.get('assignedto') ? this.model.get('assignedto') :\r\n                            this.model.get('task_assignees') ?\r\n                            this.model.get('task_assignees').assignedto : undefined,\r\n          isGroup         = groupDetails !== undefined ? true : false,\r\n          dueDate         = this.model.get('task_due_date') === null ? \"\" :\r\n                            this.model.get('task_due_date'),\r\n          status          = this.model.get('task_status') === null ? \"\" :\r\n                            this.model.get('task_status'),\r\n          statusOptions   = {\r\n            dueDate: dueDate,\r\n            status: status\r\n          },\r\n          formattedStatus = utils.formatStatus(statusOptions);\r\n\r\n      return {\r\n        groupName: isGroup === true ? groupDetails.groupName : '',\r\n        isGroup: isGroup,\r\n        status: formattedStatus.status,\r\n        listViewMulCurrentSteps: !( this.cardListView &&\r\n                                    this.cardListView.options.listViewMulCurrentSteps )\r\n      };\r\n    },\r\n\r\n    onRender: function () {\r\n      this.popover.show(this.cardListView);\r\n    },\r\n\r\n    searchUser: function (e) {\r\n      var searchVal      = e.currentTarget.value,\r\n          userCollection = this.cardListView.completeCollection,\r\n          models;\r\n\r\n      if (searchVal && searchVal.length > 0) {\r\n        var keywords = searchVal.toLowerCase().split(' ');\r\n        models = userCollection.filter(function (item) {\r\n          var name      = item.get(\"name\"),\r\n              firstname = item.get(\"first_name\"),\r\n              lastname  = item.get(\"last_name\");\r\n\r\n          name = name ? name.trim().toLowerCase() : \"\";\r\n          firstname = firstname ? firstname.trim().toLowerCase() : \"\";\r\n          lastname = lastname ? lastname.trim().toLowerCase() : \"\";\r\n\r\n          var isMatch = _.reduce(keywords, function (result, keyword) {\r\n            return result && (name.indexOf(keyword) >= 0 || firstname.indexOf(keyword) >= 0 ||\r\n                              lastname.indexOf(keyword) >= 0);\r\n          }, true);\r\n          return isMatch;\r\n        });\r\n      } else {\r\n        // no filtering\r\n        models = this.cardListView.completeCollection.models;\r\n      }\r\n      this.cardListView.Usercollection.reset(models);\r\n    },\r\n\r\n    toggleSearchInput: function () {\r\n      if (this.ui.wfstatusUserInput.hasClass('binf-active')) {\r\n        $('.wfstatus-user-input').hide();\r\n        $('.wfstatus-usercard-popover-header-labels').show();\r\n        this.ui.wfstatusUserInput.removeClass('binf-active');\r\n      } else {\r\n        $('.wfstatus-user-input').show();\r\n        $('.wfstatus-usercard-popover-header-labels').hide();\r\n        this.ui.wfstatusUserInput.addClass('binf-active');\r\n      }\r\n    },\r\n\r\n    setPopoverSize: function (options) {\r\n\r\n      var userPopoverOptions = {},\r\n          PopOverContentEle  = this.$el.find(\".wfstatus-popover-content.popover\"),\r\n          widgetDialog       = $(options.widgetDialog);\r\n      if (this.cardListView && this.cardListView.options.listViewMulCurrentSteps) {\r\n        // parallelSteps - wfstatus list view multiple current steps\r\n        switch (this.model.get('parallel_steps').length) {\r\n        case 1 :\r\n          PopOverContentEle.addClass(\"wfstatus-list-step-card-size-single\");\r\n          break;\r\n        case 2:\r\n          PopOverContentEle.addClass(\"wfstatus-list-step-card-size-double\");\r\n          break;\r\n        case 3:\r\n          PopOverContentEle.addClass(\"wfstatus-list-step-card-size-triple\");\r\n          break;\r\n        default:\r\n          PopOverContentEle.addClass(\"wfstatus-list-step-card-size-large\");\r\n          break;\r\n        }\r\n      } else {\r\n        //factor - it gives you the dynamic height based on the data email and phone of the user for the single and double users\r\n        var isGroup        = (this.model.get('task_assignees') &&\r\n                              this.model.get('task_assignees').assignedto) ? true :\r\n                             this.model.get('assignedto') ? true : false,\r\n            that           = this,\r\n            popoverOptions = {};\r\n        if (isGroup) {\r\n          var model     = this.model,\r\n              assignees = (model.get('assignedto') &&\r\n                           model.get('assignedto').assignees) ?\r\n                          model.get('assignedto').assignees :\r\n                          model.get('task_assignees').assignees;\r\n          if (assignees.length < 3) {\r\n            popoverOptions.popoverContentEle = PopOverContentEle;\r\n            popoverOptions.popoverView = that;\r\n            popoverOptions.assignees = assignees;\r\n            popoverOptions = that.getGroupPopoverHeightOptions(popoverOptions);\r\n          }\r\n\r\n        } else {\r\n          PopOverContentEle.addClass(\"small\");\r\n          popoverOptions.model = this.model;\r\n          popoverOptions.popoverView = that;\r\n          popoverOptions = that.getSingleUserPopoverHeightFactor(popoverOptions);\r\n        }\r\n        var factor = popoverOptions && popoverOptions.factor ? popoverOptions.factor : 1;\r\n        userPopoverOptions.assigneesLength = popoverOptions && popoverOptions.assigneesLength ?  popoverOptions.assigneesLength : 0;\r\n        userPopoverOptions.userPopoverSize = widgetDialog.height() / factor;\r\n      }\r\n\r\n      return userPopoverOptions;\r\n    },\r\n\r\n    getUsercardDeatilsCount: function (assignee) {\r\n      var phoneCount = 0, emailCount = 0, usercardDeatilsCount = {};\r\n      if (assignee.emailAddress && assignee.emailAddress !== \"\") {\r\n        emailCount += 1;\r\n      }\r\n      if (assignee.phone && assignee.phone !== \"\") {\r\n        phoneCount += 1;\r\n      }\r\n      usercardDeatilsCount.phoneCount = phoneCount;\r\n      usercardDeatilsCount.emailCount = emailCount;\r\n      return usercardDeatilsCount;\r\n    },\r\n\r\n    getGroupPopoverHeightOptions: function (options) {\r\n\r\n      var phoneCount                                   = 0,\r\n          emailCount                                   = 0,\r\n          factor, usercardDeatilsCount, assignee, data = {},\r\n          popOverContentEle                            = options.popoverContentEle,\r\n          popoverView                                  = options.popoverView,\r\n          assignees                                    = options.assignees;\r\n\r\n      if (assignees) {\r\n\r\n        switch (assignees.length) {\r\n        case 1:\r\n          assignee = assignees[0];\r\n          usercardDeatilsCount = popoverView.getUsercardDeatilsCount(assignee);\r\n          phoneCount = usercardDeatilsCount.phoneCount;\r\n          emailCount = usercardDeatilsCount.emailCount;\r\n          popOverContentEle.addClass(\"small\");\r\n          if (phoneCount === 1 && emailCount === 1) {\r\n            factor = 1.0226524280919911;\r\n          } else if (phoneCount === 1) {\r\n            factor = 1.130653266331658;\r\n          } else if (emailCount === 1) {\r\n            factor = 1.142063636363636;\r\n          } else {\r\n            factor = 1.286165534883721;\r\n          }\r\n          data.assigneesLength = 1;\r\n          break;\r\n        case 2:\r\n          _.each(assignees, function (assignee) {\r\n            usercardDeatilsCount = popoverView.getUsercardDeatilsCount(assignee);\r\n            phoneCount += usercardDeatilsCount.phoneCount;\r\n            emailCount += usercardDeatilsCount.emailCount;\r\n          });\r\n\r\n          if (emailCount === 2 && phoneCount === 2) {\r\n            factor = 1.050982178217822;\r\n          } else if (emailCount === 1 && phoneCount === 2) {\r\n            factor = 1.109999058047493;\r\n          } else if (emailCount === 2 && phoneCount === 1) {\r\n            factor = 1.115023871721592;\r\n          } else if (emailCount === 1 && phoneCount === 1) {\r\n            factor = 1.185727272727273;\r\n          } else if (emailCount === 2) {\r\n            factor = 1.192028571428571;\r\n          } else if (emailCount === 1) {\r\n            factor = 1.272123846153846;\r\n          } else if (phoneCount === 2) {\r\n            factor = 1.178691694915254;\r\n          } else if (phoneCount === 1) {\r\n            factor = 1.266257668711656;\r\n          } else {\r\n            factor = 1.362422006688963;\r\n          }\r\n          data.assigneesLength = assignees.length;\r\n          break;\r\n        }\r\n      }\r\n      data.factor = factor;\r\n      return data;\r\n    },\r\n\r\n    getSingleUserPopoverHeightFactor: function (options) {\r\n      var factor, model        = options.model,\r\n          popoverView          = options.popoverView,\r\n          taskAssignees        = model.get(\"task_assignees\") ? model.get(\"task_assignees\") :\r\n                                 model.get('parallel_steps')[0].task_assignees,\r\n          assignee             = taskAssignees.assignee[0],\r\n          usercardDeatilsCount = popoverView.getUsercardDeatilsCount(assignee),\r\n          phoneCount           = usercardDeatilsCount.phoneCount,\r\n          emailCount           = usercardDeatilsCount.emailCount;\r\n\r\n      if (phoneCount === 1 && emailCount === 1) {\r\n        factor = 1.031887005649718;\r\n      } else if (phoneCount === 1) {\r\n        factor = 1.175157894736842;\r\n      } else if (emailCount === 1) {\r\n        factor = 1.19411666666667;\r\n      } else {\r\n        factor = 1.3965;\r\n      }\r\n      return {factor: factor, assigneesLength : 1};\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Showing user card popover\r\n   *\r\n   * @param options - delegateTarget\r\n   *                - cardViewOptions\r\n   *                    - StatusModel\r\n   *                    - context: context,\r\n   *                    - originatingView,\r\n   *                    - wfData: ('process_id', 'subprocess_id','task_id','userId')\r\n   *\r\n   */\r\n\r\n  function ShowPopOver(options) {\r\n\r\n    var Utils = require('workflow/utils/workitem.util');\r\n    Utils.unbindPopover(options);\r\n    var popoverConfig = initializePopover(options);\r\n    bindEvents(options);\r\n    if (options.cardViewOptions.listViewMulCurrentSteps) {\r\n      var cardViewOptions = options.cardViewOptions;\r\n      popoverConfig.listViewMulCurrentSteps = cardViewOptions.listViewMulCurrentSteps;\r\n      cardViewOptions.popoverCardsListView.makeDefaultStepCardActive();\r\n      $('.wfstatus-stepcard').addClass('wfstatus-list-current-step');\r\n    }\r\n    popoverConfig.popoverView.userPopoverOptions = popoverConfig.popoverView.setPopoverSize(\r\n        popoverConfig);\r\n    setPopoverPointer(popoverConfig);\r\n\r\n  }\r\n\r\n  function UnbindPopoverEvents() {\r\n    $(window).off('resize.onPopOver');\r\n    $(window).off('popstate.onPopOver');\r\n    $(window).off('hashchange.onPopOver');\r\n    $(\".wfstatus-table tbody\").off('scroll');\r\n    $(\".binf-modal-backdrop\").off('keydown click');\r\n    $(\".binf-modal-header\").off('keydown click');\r\n  }\r\n\r\n  /**\r\n   * initilizing user card popover\r\n   *\r\n   * @param options - delegateTarget\r\n   *                - cardViewOptions\r\n   *                    - StatusModel\r\n   *                    - context: context,\r\n   *                    - originatingView,\r\n   *                    - wfData: ('process_id', 'subprocess_id','task_id','userId')\r\n   *\r\n   */\r\n  function initializePopover(options) {\r\n\r\n    var cardsDialog,\r\n        cardsDialogPointer,\r\n        cardsDialogMask,\r\n        parentNodeId,\r\n        popoverConfig     = {},\r\n        uniqueID         = _.uniqueId(3),\r\n        defaultContainer = $.fn.binf_modal.getDefaultContainer();\r\n\r\n    cardsDialog = document.createElement('div');\r\n    cardsDialog.id = 'wfstatus-popover_' + uniqueID;\r\n    parentNodeId = \"#wfstatus-popover_\" + uniqueID;\r\n    cardsDialog.setAttribute(\"class\", \"wfstatus-popover\");\r\n\r\n    cardsDialogPointer = document.createElement('div');\r\n    cardsDialogPointer.className = 'wfstatus-popover-arrow';\r\n    cardsDialogPointer.id = 'wfstatus-popover-pointer_' + uniqueID;\r\n\r\n    cardsDialogMask = document.createElement('div');\r\n    cardsDialogMask.id = 'wfstatus-popover-mask_' + uniqueID;\r\n\r\n    $(options.delegateTarget).css(\"overflow\", \"hidden\");\r\n    popoverConfig.widgetDialog = cardsDialog;\r\n    popoverConfig.widgetDialogPointer = cardsDialogPointer;\r\n    popoverConfig.widgetDialogMask = cardsDialogMask;\r\n    popoverConfig.placeholder = options.delegateTarget;\r\n    popoverConfig.widgetBaseElement = options.delegateTarget;\r\n    popoverConfig.container = $(defaultContainer).find('.wfstatus-model-content').length === 1 ?\r\n                              $(defaultContainer).find('.wfstatus-model-content') :\r\n                              $('.binf-modal-content').last();\r\n\r\n    $(defaultContainer).append(cardsDialogMask).append(cardsDialog).append(\r\n        cardsDialogPointer);\r\n\r\n    var PopoverRegion = new Marionette.Region({\r\n      el: parentNodeId\r\n    });\r\n    var popoverView = new PopOverView(options.cardViewOptions);\r\n    PopoverRegion.show(popoverView);\r\n\r\n    popoverConfig.userPopoverOptions = popoverView.userPopoverOptions;\r\n    popoverConfig.popoverView = popoverView;\r\n    $(parentNodeId).css({display: \"block\"}).animate({opacity: 1.0});\r\n\r\n    return popoverConfig;\r\n  }\r\n\r\n  function bindEvents(options) {\r\n    var Utils = require('workflow/utils/workitem.util');\r\n    $(\".binf-modal-header\").on('keydown click',\r\n        {callbackFun: Utils.unbindPopover, popoverOptions: options}, handlePopoverDialog);\r\n    $(\".binf-modal-backdrop\").on('keydown click',\r\n        {callbackFun: Utils.unbindPopover, popoverOptions: options}, handlePopoverDialog);\r\n    $(window).on('resize.onPopOver', function () {\r\n      Utils.unbindPopover(options);\r\n    });\r\n    $(window).on('popstate.onPopOver', function () {\r\n      Utils.unbindPopover(options);\r\n    });\r\n    $(window).on('hashchange.onPopOver', function () {\r\n      Utils.unbindPopover(options);\r\n    });\r\n\r\n    $(\".wfstatus-table tbody\").on('scroll', function () {\r\n      Utils.unbindPopover(options);\r\n    });\r\n    $(document).off('focusin.binf.modal');\r\n  }\r\n\r\n  /**\r\n   * Hnadling keyboard events when usercard popover is open\r\n   * params event\r\n   */\r\n  function handlePopoverDialog(event) {\r\n\r\n    var unbindWidgetFromBody = false,\r\n        _e                   = event || window.event,\r\n        options              = _e.data.popoverOptions;\r\n\r\n    if (_e.type === 'popstate' || _e.type === 'hashchange') {\r\n      unbindWidgetFromBody = true;\r\n    }\r\n    else if ((_e.type === 'keyup' || _e.type === 'keydown')) {\r\n\r\n      if ((_e.keyCode === 27 || _e.which === 27)) {\r\n        if ($('.wfstatus-popover').is(':visible') && $('.cs-dialog').is(':visible')) {\r\n          unbindWidgetFromBody = true;\r\n        }\r\n        setFocusOnTargetEle();\r\n      }\r\n    }\r\n    else if (_e.type === \"resize\") {\r\n      if ($('.wfstatus-popover').is(':visible') && $('.cs-dialog').is(':visible')) {\r\n        unbindWidgetFromBody = true;\r\n      }\r\n      setFocusOnTargetEle();\r\n    } else {\r\n      if (!$(_e.target).closest('.wfstatus-popover').length && _e.type === 'click') {\r\n        if (!($(_e.target).closest('[id*=wfstatus-popover]').length &&\r\n            !$(_e.target).closest('[id*=wfstatus-popover-mask_]').length) &&\r\n            !$(_e.target).closest('[class*=ui-autocomplete]').length) {\r\n          unbindWidgetFromBody = true;\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    if (options.cardViewOptions.stepCardsListView) {\r\n      options.cardViewOptions.stepCardsListView.options.listViewMulCurrentSteps = false;\r\n    }\r\n\r\n    unbindWidgetFromBody ? _e.data.callbackFun(options) : \"\";\r\n\r\n    function setFocusOnTargetEle() {\r\n      if (options) {\r\n        var element = options.popoverOptions;\r\n        if (_e.type === 'keydown') {\r\n          $(element).on('keyup', function (e) {\r\n            if ($(element).is(':focus')) {\r\n              $(element).off('keyup');\r\n              e.stopPropagation();\r\n            }\r\n          });\r\n        }\r\n        if (element) {\r\n          element.trigger(\"focus\");\r\n          setTimeout(function () {\r\n            element.trigger(\"focus\");\r\n          }, 1);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Below function used for auto Adjustment of usercard popover pointer.\r\n   *\r\n   * @param popoverConfig - widgetDialog\r\n   *                     - widgetDialogPointer\r\n   *                     - widgetBaseElement\r\n   *\r\n   */\r\n  function setPopoverPointer(popoverConfig) {\r\n\r\n    var widgetDialog        = $(popoverConfig.widgetDialog),\r\n        widgetDialogPointer = $(popoverConfig.widgetDialogPointer),\r\n        widgetBaseElement   = $(popoverConfig.widgetBaseElement),\r\n        setDialogCenter     = false,\r\n        container           = popoverConfig.container,\r\n        popoverContentEle = $('.wfstatus-popover-content'),\r\n        widgetDialogPositionMy, widgetDialogPositionAt, widgetDialogLeftPos,\r\n        widgetDialogTopPos, widgetDialogRightPos, targetElementLeftPos, targetElementTopPos,\r\n        baseWrapsParent, widgetDialogBottomPos, targetElementBottomPos;\r\n\r\n    popoverConfig.widgetBaseElement = $(popoverConfig.widgetBaseElement).width() === 0 ?\r\n                                      $(\"[data-value=\" +\r\n                                        $(popoverConfig.widgetBaseElement).attr(\"data-value\") +\r\n                                        \"]\") : popoverConfig.widgetBaseElement;\r\n\r\n    widgetDialog.css({\r\n      \"position\": \"absolute\",\r\n      \"left\": \"0\",\r\n      \"top\": \"0\"\r\n    });\r\n    widgetDialogPointer.css({\r\n      \"position\": \"absolute\",\r\n      \"left\": \"0\",\r\n      \"top\": \"0\"\r\n    }).addClass(\"wfstatus-popover-arrow-left\");\r\n\r\n    if (popoverConfig.listViewMulCurrentSteps) {\r\n      widgetDialogPositionMy = \"center top\";\r\n      widgetDialogPositionAt = \"center bottom\";\r\n    } else {\r\n      widgetDialogPositionMy = \"left top\";\r\n      var leftPos = parseInt(widgetBaseElement.outerWidth() + 10, 10);\r\n      widgetDialogPositionAt = \"left+\" + leftPos + \" top -\" +\r\n                               (widgetBaseElement.parent().height() / 2);\r\n    }\r\n\r\n    widgetDialog.position({\r\n      my: widgetDialogPositionMy,\r\n      at: widgetDialogPositionAt,\r\n      of: popoverConfig.widgetBaseElement,\r\n      collision: \"flipfit flipfit\"\r\n    });\r\n    widgetDialogLeftPos = widgetDialog.offset().left;\r\n    widgetDialogTopPos = widgetDialog.offset().top;\r\n    widgetDialogBottomPos = widgetDialogTopPos + widgetDialog.height();\r\n    widgetDialogRightPos = widgetDialogLeftPos + widgetDialog.width();\r\n    targetElementLeftPos = widgetBaseElement.offset().left;\r\n    targetElementTopPos = widgetBaseElement.offset().top;\r\n    targetElementBottomPos = targetElementTopPos + widgetBaseElement.height();\r\n\r\n    var containerTopPos = container.offset().top;\r\n    var containerBottomPos = container.offset().top + container.height();\r\n\r\n    baseWrapsParent = widgetBaseElement.parent().height() ===\r\n                      widgetBaseElement.height();\r\n    if (baseWrapsParent) {\r\n      // if the assignee's cell height and it's parent element's heights are equal,\r\n      // then usercard popover's top should consider wrapper element's height\r\n      targetElementTopPos = widgetBaseElement.offset().top +\r\n                            Math.ceil(widgetBaseElement.height() / 4) + 2;\r\n    }\r\n\r\n    if (popoverConfig.listViewMulCurrentSteps) {\r\n\r\n      var left = targetElementLeftPos + widgetBaseElement.width() / 2;\r\n\r\n      if (widgetDialogTopPos > targetElementTopPos) {\r\n\r\n        widgetDialog.css(\"top\", targetElementBottomPos);\r\n        targetElementBottomPos = widgetBaseElement.offset().top + widgetBaseElement.height();\r\n        popoverContentEle.css(\"max-height\", containerBottomPos - targetElementBottomPos);\r\n        widgetDialogPointer.css({\r\n          \"position\": \"absolute\",\r\n          \"left\": left,\r\n          \"top\": targetElementBottomPos - 10\r\n        });\r\n\r\n        widgetDialogPointer.removeClass(\"wfstatus-popover-arrow-left\").addClass(\r\n            \"wfstatus-popover-arrow-up\");\r\n\r\n        setDialogCenter = parseInt($(widgetDialogPointer).css(\"left\").replace(\"px\", \"\"), 10) +\r\n                          1 > widgetBaseElement.offset().left;\r\n\r\n      } else {\r\n\r\n        var adjustPointer = false;\r\n        if (widgetDialogTopPos < containerTopPos) {\r\n          widgetDialog.css(\"top\", containerTopPos);\r\n          popoverContentEle.css(\"max-height\", (widgetBaseElement.offset().top) - containerTopPos);\r\n\r\n        } else if ((widgetDialogTopPos + widgetDialog.height()) > containerBottomPos) {\r\n          widgetDialog.css(\"top\", targetElementBottomPos);\r\n          targetElementBottomPos = widgetBaseElement.offset().top + widgetBaseElement.height();\r\n          popoverContentEle.css(\"max-height\", containerBottomPos - targetElementBottomPos);\r\n          widgetDialogPointer.css({\r\n            \"position\": \"absolute\",\r\n            \"left\": left,\r\n            \"top\": (targetElementBottomPos / 2) - 1\r\n          });\r\n          widgetDialogPointer.removeClass(\"wfstatus-popover-arrow-right\").addClass(\r\n              \"wfstatus-popover-arrow-up\");\r\n          adjustPointer = true;\r\n        }\r\n\r\n        if (!adjustPointer) {\r\n          widgetDialogPointer.css({\r\n            \"position\": \"absolute\",\r\n            \"left\": left,\r\n            \"top\": widgetBaseElement.offset().top - 1\r\n          });\r\n          widgetDialogPointer.removeClass(\"wfstatus-popover-arrow-right\").addClass(\r\n              \"wfstatus-popover-arrow-down\");\r\n        }\r\n      }\r\n\r\n    } else {\r\n\r\n      if (widgetDialogLeftPos < targetElementLeftPos) {\r\n        widgetDialogPointer.css({\r\n          \"position\": \"absolute\",\r\n          \"left\": widgetDialogRightPos,\r\n          \"top\": targetElementTopPos + 10\r\n        });\r\n\r\n        widgetDialogPointer.removeClass(\"wfstatus-popover-arrow-left\").addClass(\r\n            \"wfstatus-popover-arrow-right\");\r\n\r\n        setDialogCenter = parseInt($(widgetDialogPointer).css(\"left\").replace(\"px\", \"\"), 10) +\r\n                          1 > widgetBaseElement.offset().left;\r\n      } else {\r\n        widgetDialogPointer.css({\r\n          \"position\": \"absolute\",\r\n          \"left\": widgetDialogLeftPos - 10,\r\n          \"top\": targetElementTopPos + 10\r\n        });\r\n        widgetDialogPointer.removeClass(\"wfstatus-popover-arrow-right\").addClass(\r\n            \"wfstatus-popover-arrow-left\");\r\n\r\n        setDialogCenter = parseInt($(widgetDialogPointer).css(\"left\").replace(\"px\", \"\"), 10) +\r\n                          1 < (widgetBaseElement.offset().left + widgetBaseElement.width());\r\n\r\n      }\r\n\r\n      var userPopoverOptions = popoverConfig.popoverView.userPopoverOptions,\r\n          userPopoverSize    = userPopoverOptions.userPopoverSize;\r\n      if (container.height() > userPopoverSize) {\r\n        widgetDialog.css(\"max-height\", userPopoverSize);\r\n      } else {\r\n        widgetDialog.css(\"max-height\", container.height());\r\n      }\r\n\r\n      widgetDialogBottomPos = widgetDialogTopPos + widgetDialog.height();\r\n      if (userPopoverOptions.assigneesLength === 2) {\r\n        if (widgetDialogTopPos < targetElementTopPos || widgetDialogTopPos > containerTopPos) {\r\n          widgetDialog.css(\"top\", targetElementBottomPos - userPopoverSize);\r\n        }\r\n      } else if (userPopoverOptions.assigneesLength === 1) {\r\n        if (widgetDialogBottomPos < targetElementBottomPos) {\r\n          widgetDialog.css(\"top\",\r\n              widgetDialogTopPos + (targetElementBottomPos - widgetDialogBottomPos));\r\n        }\r\n      }\r\n\r\n      widgetDialogTopPos = widgetDialog.offset().top;\r\n      if (widgetDialogTopPos < containerTopPos) {\r\n        widgetDialog.css(\"top\", widgetDialogTopPos + (containerTopPos - widgetDialogTopPos));\r\n      }\r\n\r\n      widgetDialogTopPos = widgetDialog.offset().top;\r\n      widgetDialogBottomPos = widgetDialogTopPos + widgetDialog.height();\r\n      if (widgetDialogBottomPos > containerBottomPos) {\r\n        widgetDialog.css(\"top\", widgetDialogTopPos - (widgetDialogBottomPos - containerBottomPos));\r\n        var widgetDialogPointerTopPos = widgetDialogPointer.offset().top;\r\n        if ((widgetDialogPointerTopPos + 22) > containerBottomPos) {\r\n          widgetDialogPointer.css(\"top\",\r\n              widgetDialogPointerTopPos - ((widgetDialogPointerTopPos + 22) - containerBottomPos));\r\n        }\r\n      }\r\n\r\n      if (!popoverConfig.listViewMulCurrentSteps) {\r\n        if (setDialogCenter) {\r\n          widgetDialog.css({\r\n            \"left\": $(window).width() / 2 - widgetDialog.width() / 2\r\n          });\r\n          widgetDialogPointer.css({\r\n            \"opacity\": \"0\"\r\n          });\r\n        } else {\r\n          widgetDialogPointer.css({\r\n            \"opacity\": \"1\"\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    ShowPopOver: ShowPopOver,\r\n    UnbindPopoverEvents : UnbindPopoverEvents\r\n  };\r\n});\r\n\n","csui.define('workflow/controls/userpicker/userpicker.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/userpicker/userpicker.view'\r\n], function (_, $, Marionette, TabableRegionBehavior, UserPickerView) {\r\n  'use strict';\r\n\r\n  // extend the Core UI User-Picker to add keyboard navigation\r\n  // capabilities.\r\n  var TabableUserPickerView = UserPickerView.extend({\r\n\r\n    events: {\r\n      'change @ui.searchbox': 'onChange'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function TabableUserPickerView(options) {\r\n      // pass options to the parent constructor\r\n      UserPickerView.prototype.constructor.call(this, options);\r\n      // listen to the userpicker item:change event.\r\n      this.listenTo(this, 'item:change', this.onItemChanged);\r\n    },\r\n\r\n    // searchbox is the focused element\r\n    currentlyFocusedElement: function () {\r\n      return $(this.ui.searchbox);\r\n    },\r\n\r\n    // We trigger 'item:remove' to clear the selected user model to disable the submit button\r\n    onChange: function (e) {\r\n      var name = this.model ? this.model.get('name_formatted') : '';\r\n      //searchbox is empty but previously, user is selected\r\n      if ((this.ui.searchbox.val() === \"\" && name) ||\r\n          //if search box value and previously selected user are not same\r\n          ((!!name && name !== this.ui.searchbox.val()) &&\r\n          //while typing user name if the suggested users are 0\r\n          ((this.collection && this.collection.length === 0) ||\r\n          //if one of the users in the dropdown is selected\r\n          this.$el.find('ul.typeahead.binf-dropdown-menu li.binf-active').length === 0))) {\r\n        // clear the text\r\n        this.ui.searchbox.val('');\r\n        // clear the item model\r\n        this.triggerMethod('item:remove');\r\n      }\r\n    },\r\n\r\n    onItemChanged: function (e) {\r\n      // refresh model\r\n      this.model = e.item;\r\n    }\r\n  });\r\n\r\n  // return\r\n  return TabableUserPickerView;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/action/action.body/impl/action.body',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"  <!-- Authenticate Area -->\\r\\n  <div class=\\\"workitem-action-authenticate\\\">\\r\\n    <!--Here renders the authentication control-->\\r\\n  </div>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"  <div class=\\\"workitem-action-assignee-selector\\\">\\r\\n    <div class=\\\"workitem-action-assignee\\\">\\r\\n      <div class=\\\"assignee-label\\\">\\r\\n        <span class=\\\"binf-glyphicon binf-glyphicon-star\\\"></span>\\r\\n        \"\n    + this.escapeExpression(((helper = (helper = helpers.assigneePickerLabel || (depth0 != null ? depth0.assigneePickerLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"assigneePickerLabel\",\"hash\":{}}) : helper)))\n    + \"\\r\\n      </div>\\r\\n      <div class=\\\"assignee-picker\\\">\\r\\n        <!-- Here renders the assignee user picker -->\\r\\n      </div>\\r\\n    </div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showAssigneeOptionsSelector : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(4, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"  </div>\\r\\n\";\n},\"4\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"      <div class=\\\"workitem-action-assignee-options\\\">\\r\\n        <div class=\\\"assignee-label\\\">\\r\\n          \"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.lang : depth0)) != null ? stack1.assigneeOptionLabel : stack1), depth0))\n    + \"\\r\\n        </div>\\r\\n        <div class=\\\"assignee-options\\\">\\r\\n          <!-- Here render the assignee type selector -->\\r\\n        </div>\\r\\n      </div>\\r\\n\";\n},\"6\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showAssigneeReadOnly : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(7, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"7\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"    <div class=\\\"workitem-action-assignee-label\\\">\\r\\n      <div class=\\\"assignee-label\\\">\\r\\n        \"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.lang : depth0)) != null ? stack1.assigneeLabelLabel : stack1), depth0))\n    + \"\\r\\n      </div>\\r\\n      <div class=\\\"assignee-name\\\"></div>\\r\\n    </div>\\r\\n\";\n},\"9\":function(depth0,helpers,partials,data) {\n    return \"  <!-- Comment Area -->\\r\\n  <div class=\\\"workitem-action-comment\\\">\\r\\n    <!-- Here renders the commenting control -->\\r\\n  </div>\\r\\n\";\n},\"11\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"  <div class=\\\"workitem-action-reviewDuration\\\">\\r\\n    <!--Here renders the review duration control-->\\r\\n    <div class=\\\"durationLabel\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.lang : depth0)) != null ? stack1.durationLabel : stack1), depth0))\n    + \"</div>\\r\\n    <div class=\\\"durationDiv\\\">\\r\\n      <div class=\\\"durationTextField\\\">\\r\\n      </div>\\r\\n      <div class=\\\"durationUnitSection\\\"> </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showAuthenticate : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"<!-- Assignee area -->\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showAssigneeSelector : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.program(6, data, 0)})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showComment : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(9, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"<!--Duration option-->\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showDurationOption : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(11, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('workflow_widgets_action_action.body_impl_action.body', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/action/action.body/impl/action.body.comment',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"comment-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n<textarea class=\\\"comment-input\\\" rows=\\\"6\\\" placeholder=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.placeholder || (depth0 != null ? depth0.placeholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"placeholder\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.ariaLabel || (depth0 != null ? depth0.ariaLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ariaLabel\",\"hash\":{}}) : helper)))\n    + \"\\\"></textarea>\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_widgets_action_action.body_impl_action.body.comment', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/action/action.body/impl/action.body.reviewDurationDate',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"durationRegion\\\"></div>\\r\\n<div class=\\\"has-error-label binf-hidden\\\" role=\\\"alert\\\" aria-hidden=\\\"true\\\">\\r\\n  <span id=\\\"errorDuration\\\"></span>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('workflow_widgets_action_action.body_impl_action.body.reviewDurationDate', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/action/action.body/impl/action.body.reviewDurationUnit',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"durationUnitRegion\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_widgets_action_action.body_impl_action.body.reviewDurationUnit', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/action/action.body/impl/action.body.authenticate',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"authenticate-description\\\" id=\\\"authenticateDescLabelAndUserID\\\">\\r\\n  \"\n    + this.escapeExpression(((helper = (helper = helpers.authenticateDescLabelAndUser || (depth0 != null ? depth0.authenticateDescLabelAndUser : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"authenticateDescLabelAndUser\",\"hash\":{}}) : helper)))\n    + \"\\r\\n</div>\\r\\n<div class=\\\"authenticate-description\\\" id=\\\"authenticateEnterPasswordID\\\">\\r\\n  \"\n    + this.escapeExpression(((helper = (helper = helpers.authenticateEnterPassword || (depth0 != null ? depth0.authenticateEnterPassword : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"authenticateEnterPassword\",\"hash\":{}}) : helper)))\n    + \"\\r\\n</div>\\r\\n<div class=\\\"authenticate-label\\\">\\r\\n<span class=\\\"binf-glyphicon binf-glyphicon-star\\\"></span>\\r\\n  \"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"\\r\\n</div>\\r\\n<div class=\\\"authenticate-textbox\\\">\\r\\n  <input type=\\\"password\\\" class=\\\"authenticate-input\\\" placeholder=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.placeholder || (depth0 != null ? depth0.placeholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"placeholder\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n         aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.ariaLabel || (depth0 != null ? depth0.ariaLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ariaLabel\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-required=\\\"true\\\"\\r\\n         aria-labelledby=\\\"authenticateDescLabelAndUserID authenticateEnterPasswordID\\\"></input>\\r\\n  <div class=\\\"has-error-label binf-hidden\\\" role=\\\"alert\\\" aria-hidden=\\\"true\\\">\\r\\n   <span id=\\\"error\\\">\\r\\n    \"\n    + this.escapeExpression(((helper = (helper = helpers.authenticateFailed || (depth0 != null ? depth0.authenticateFailed : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"authenticateFailed\",\"hash\":{}}) : helper)))\n    + \"\\r\\n    </span>\\r\\n  </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('workflow_widgets_action_action.body_impl_action.body.authenticate', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/action/action.body/impl/assigneetypeselector',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"assignee-type-selector-region\\\"></div>\";\n}});\nHandlebars.registerPartial('workflow_widgets_action_action.body_impl_assigneetypeselector', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('workflow/widgets/action/action.body/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","// Defines localizable strings in the default language (English)\r\ncsui.define('workflow/widgets/action/action.body/impl/nls/root/lang',{\r\n  assigneePickerLabel: 'Forward to',\r\n  assigneeOptionLabel: 'Options to accept',\r\n  assigneePickerPlaceholder: 'Enter user name',\r\n  assigneeCurrentUserMessage: 'You are the current user',\r\n  commentTextFieldLabel: 'Add comments',\r\n  commentTextFieldPlaceholder: 'Add message',\r\n  commentAriaLabelReply: '{0}: {1}',\r\n  assigneeOptionOneMember: 'One group member',\r\n  assigneeOptionAllMembers: 'All group members',\r\n  assigneeLabelLabel: 'To',\r\n  authenticateTextFieldLabel: 'Password',\r\n  authenticateTextFieldPlaceholder: 'Enter password',\r\n  authenticateDescriptionLabel: 'Additional user authentication is required.',\r\n  authenticateEnterPassword: 'Enter password for user {0}.',\r\n  authenticationFailed: 'Authentication failed. Please check your spelling.',\r\n  durationLabel: 'Duration',\r\n  durationUnitOptionLabel: 'Duration unit options',\r\n  durationDayUnit: 'Days',\r\n  durationHourUnit: 'Hours',\r\n  durationNumberFailed: 'This value must be a number.',\r\n  durationMaximumFailed: 'The maximum value for this field is {0}.',\r\n  durationPlaceholder: 'Add value'\r\n});\r\n\n","\ncsui.define('css!workflow/widgets/action/action.body/impl/action.body',[],function(){});\n","csui.define('workflow/widgets/action/action.body/action.body.view',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/lib/alpaca/js/alpaca',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/controls/form/fields/selectfield.view',\r\n  'csui/controls/form/fields/userfield.view',\r\n  'csui/controls/form/fields/textfield.view',\r\n  'workflow/controls/userpicker/userpicker.view',\r\n  'hbs!workflow/widgets/action/action.body/impl/action.body',\r\n  'hbs!workflow/widgets/action/action.body/impl/action.body.comment',\r\n  'hbs!workflow/widgets/action/action.body/impl/action.body.reviewDurationDate',\r\n  'hbs!workflow/widgets/action/action.body/impl/action.body.reviewDurationUnit',\r\n  'hbs!workflow/widgets/action/action.body/impl/action.body.authenticate',\r\n  'hbs!workflow/widgets/action/action.body/impl/assigneetypeselector',\r\n  'i18n!workflow/widgets/action/action.body/impl/nls/lang',\r\n  'css!workflow/widgets/action/action.body/impl/action.body',\r\n], function ($, _, Backbone, Marionette, Alpaca, TabableRegionBehavior, LayoutViewEventsPropagationMixin,\r\n    SelectFieldView, UserFieldView, TextFieldView, UserPicker, template, templateComment, templateReviewDurationDate, templateReviewDurationUnit, templateAuthenticate, templateSelector, lang) {\r\n  'use strict';\r\n\r\n  // Action-Body Commenting Control\r\n  var ActionBodyCommentView = Marionette.LayoutView.extend({\r\n\r\n    //\r\n    className: 'action-comment',\r\n\r\n    //\r\n    template: templateComment,\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      // return the prepared object with the necessary properties\r\n      return {\r\n        label: this.labelText,\r\n        placeholder: this.placeholderText,\r\n        ariaLabel: this.ariaLabel\r\n      };\r\n    },\r\n\r\n    //\r\n    ui: {\r\n      textbox: '.comment-input'\r\n    },\r\n\r\n    //\r\n    events: {\r\n      'keyup @ui.textbox': 'onKeyUpTextBox'\r\n    },\r\n\r\n    //\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior,\r\n        initialActivationWeight: 100\r\n      }\r\n    },\r\n\r\n    //\r\n    constructor: function ActionBodyCommentView(options) {\r\n      // initialize options\r\n      this.options = (options || {});\r\n      this.labelText = this.options.commentLabel || lang.commentTextFieldLabel;\r\n      this.ariaLabel = this.options.commentAriaLabel || lang.commentTextFieldLabel;\r\n      this.placeholderText = this.options.commentPlaceholder || lang.commentTextFieldPlaceholder;\r\n      // initialize parent\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    //\r\n    onKeyUpTextBox: function () {\r\n      this.triggerMethod('comment:changed', {text: this.ui.textbox.val()});\r\n    },\r\n\r\n    //\r\n    currentlyFocusedElement: function () {\r\n      // return comment control textbox\r\n      return $(this.ui.textbox);\r\n    }\r\n  });\r\n\r\n  var ActionBodyReviewDurationDateView = Marionette.LayoutView.extend({\r\n\r\n    className: 'action-reviewDuration',\r\n\r\n    template: templateReviewDurationDate,\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      // return the prepared object with the necessary properties\r\n      return {\r\n        durationLabel: this.durationLabel\r\n      };\r\n    },\r\n\r\n    // view regions\r\n    regions: {\r\n      durationTextField: '.durationRegion'\r\n    },\r\n\r\n    ui: {\r\n      textbox: '#durationField',\r\n      lblErrorMessage: '.has-error-label',\r\n      lblErrorMessageText: '#errorDuration'\r\n    },\r\n\r\n    constructor: function ActionBodyReviewDurationDateView(duration) {\r\n\r\n      this.durationLabel = lang.durationLabel;\r\n\r\n      // initialize parent\r\n      Marionette.LayoutView.prototype.constructor.call(this);\r\n    },\r\n\r\n    onRender: function () {\r\n\r\n      this.durationField = new TextFieldView({\r\n        model: new Backbone.Model({\r\n          id: 'durationField',\r\n          options:{placeholder: lang.durationPlaceholder}\r\n        }),\r\n        id: 'durationFieldDIV',\r\n        mode:'writeonly',\r\n        labelId:lang.durationLabel,\r\n        alpaca: {\r\n          options:{mode:'writeonly'}\r\n        }\r\n      });\r\n\r\n      this.durationTextField.show(this.durationField);\r\n    },\r\n\r\n    //\r\n    onKeyUpTextBox: function () {\r\n      this.triggerMethod('duration:changed', {number: this.$('#durationField').val()});\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      // return comment control textbox\r\n      return this.$('#durationField');\r\n    },\r\n\r\n    events: {\r\n      'keyup @ui.textbox': 'onKeyUpTextBox'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior,\r\n        initialActivationWeight: 100\r\n      }\r\n    }\r\n  });\r\n\r\n  var ActionBodyReviewDurationUnitView = Marionette.LayoutView.extend({\r\n\r\n    className: 'action-reviewDuration',\r\n\r\n    template: templateReviewDurationUnit,\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      // return the prepared object with the necessary properties\r\n      return {};\r\n    },\r\n\r\n    // view regions\r\n    regions: {\r\n      selectUnit: '.durationUnitRegion'\r\n    },\r\n\r\n    constructor: function ActionBodyReviewDurationDateView(durationUnit) {\r\n\r\n      this.durationUnit = durationUnit || lang.durationDayUnit;\r\n\r\n      // initialize parent\r\n      Marionette.LayoutView.prototype.constructor.call(this);\r\n    },\r\n\r\n    onRender: function () {\r\n\r\n      // create collection with all assignee options\r\n      var collection = new Backbone.Collection([\r\n        //SelectField expects as id the same as in name, the id is used in the aria-label as value\r\n        {id: lang.durationDayUnit, name: lang.durationDayUnit},\r\n        {id: lang.durationHourUnit, name: lang.durationHourUnit}\r\n      ]);\r\n\r\n      // create SelectFieldView object and provide all needed parameters\r\n      this.unitOptions = new SelectFieldView({\r\n        id: 'unitOptionSelector', //field id\r\n        //SelectField needs the label for the aria-label\r\n        model: new Backbone.Model({options: {isMultiFieldItem: false, label: lang.durationUnitOptionLabel}}),\r\n        selected: collection.get(lang.durationDayUnit),\r\n        collection: collection,\r\n        alpaca: {\r\n          options: {\r\n            setRequiredFieldsEditable: true\r\n          },\r\n          schema: {readonly: false}\r\n        }\r\n      });\r\n      // add required fields and methods to the object, because we are using a form object not in a form\r\n      this.unitOptions.alpacaField = {\r\n        options: {mode: 'create'},\r\n        schema: {readonly: false},\r\n        setValueAndValidate: function () { return true; },\r\n        setValue: function () { return; },\r\n        parent: {}\r\n      };\r\n      this.selectUnit.show(this.unitOptions);\r\n\r\n      // listen to the change event\r\n      this.listenTo(this.unitOptions, \"field:changed\", _.bind(function (event) {\r\n        this.triggerMethod('durationUnit:changed', {option: event.fieldvalue});\r\n      }, this));\r\n    },\r\n\r\n\r\n    currentlyFocusedElement: function () {\r\n         // return unit dropdown list\r\n         return this.$('.binf-btn');\r\n    },\r\n\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n          behaviorClass: TabableRegionBehavior,\r\n          initialActivationWeight: 100\r\n      }\r\n    }\r\n  });\r\n\r\n  var ActionBodyAuthenticateView = Marionette.LayoutView.extend({\r\n\r\n    className: 'action-authenticate',\r\n\r\n    template:  templateAuthenticate,\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      // return the prepared object with the necessary properties\r\n      return {\r\n        lang: lang,\r\n        label: this.labelText,\r\n        placeholder: this.placeholderText,\r\n        ariaLabel: this.ariaLabel,\r\n        authenticateDescLabelAndUser: this.authenticateDescLabel,\r\n        authenticateFailed: this.authenticationFailed,\r\n        authenticateEnterPassword: this.authenticateEnterPassword\r\n      };\r\n    },\r\n\r\n    constructor: function ActionBodyAuthenticateView(options) {\r\n      this.options = (options || {});\r\n      this.labelText = lang.authenticateTextFieldLabel;\r\n      this.ariaLabel = lang.authenticateTextFieldLabel;\r\n      this.placeholderText = lang.authenticateTextFieldPlaceholder;\r\n      this.authenticateDescLabel = lang.authenticateDescriptionLabel;\r\n      var user = options || \"\";\r\n      this.authenticateEnterPassword = _.str.sformat(lang.authenticateEnterPassword, user);\r\n      this.authenticationFailed = lang.authenticationFailed;\r\n\r\n      // initialize parent\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    ui: {\r\n      txtPassword: '.authenticate-input',\r\n      lblErrorMessage: '.has-error-label'\r\n    },\r\n\r\n    events: {\r\n      'keyup @ui.txtPassword': 'onKeyUpTextBox'\r\n    },\r\n\r\n    onKeyUpTextBox: function () {\r\n      this.triggerMethod('authenticate:changed', {text: this.ui.txtPassword.val()});\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      // return password control textbox\r\n      return $(this.ui.txtPassword);\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior,\r\n        initialActivationWeight: 100\r\n      }\r\n    }\r\n  });\r\n\r\n  // Action-Body Assignee type selector control\r\n  var AssigneeTypeSelector = Marionette.LayoutView.extend({\r\n    //\r\n    className: 'assignee-options-select',\r\n\r\n    //\r\n    template: templateSelector,\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      // return the prepared object with the necessary properties\r\n      return {\r\n        lang: lang\r\n      };\r\n    },\r\n\r\n    // view regions\r\n    regions: {\r\n      selectField: '.assignee-type-selector-region'\r\n    },\r\n\r\n    //\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior,\r\n        initialActivationWeight: 100\r\n      }\r\n    },\r\n\r\n    //\r\n    constructor: function AssigneeTypeSelector(options) {\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    onRender: function () {\r\n      // create collection with all assignee options\r\n      var collection = new Backbone.Collection([\r\n         //SelectField expects as id the same as in name, the id is used in the aria-label as value\r\n        {id: lang.assigneeOptionOneMember, name: lang.assigneeOptionOneMember},\r\n        {id: lang.assigneeOptionAllMembers, name: lang.assigneeOptionAllMembers}\r\n      ]);\r\n\r\n      // create SelectFieldView object and provide all needed parameters\r\n      this.assingeeOptions = new SelectFieldView({\r\n        id: 'assigneeOptionSelector', //field id\r\n        //SelectField needs the label for the aria-label\r\n        model: new Backbone.Model({options: {isMultiFieldItem: false, label: lang.assigneeOptionLabel}}),\r\n        selected: collection.get(lang.assigneeOptionOneMember), // show first item selected\r\n        collection: collection,\r\n        alpaca: {\r\n          options: {\r\n            setRequiredFieldsEditable: true\r\n          },\r\n          schema: {readonly: false}\r\n        }\r\n      });\r\n      // add required fields and methods to the object, because we are using a form object not in a form\r\n      this.assingeeOptions.alpacaField = {\r\n        options: {mode: 'create'},\r\n        schema: {readonly: false},\r\n        setValueAndValidate: function () { return true; },\r\n        setValue: function () { return; },\r\n        parent: {}\r\n      };\r\n      this.selectField.show(this.assingeeOptions);\r\n\r\n      // listen to the change event\r\n      this.listenTo(this.assingeeOptions, \"field:changed\", _.bind(function (event) {\r\n        this.triggerMethod('assigneeOption:changed', {option: event.fieldvalue});\r\n      }, this));\r\n    },\r\n\r\n    //\r\n    currentlyFocusedElement: function () {\r\n      if (this.$el.is(':visible')) {\r\n        // return dropdown box\r\n        return this.$('.binf-dropdown-toggle');\r\n      }\r\n      //\r\n      return;\r\n    }\r\n\r\n  });\r\n\r\n  // An application widget is a view, because it should render a HTML fragment\r\n  var ActionBodyView = Marionette.LayoutView.extend({\r\n\r\n    // Outermost parent element should contain a unique widget-specific class\r\n    className: 'workitem-action-body',\r\n\r\n    // Template method rendering the HTML for the view\r\n    template: template,\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      // return the prepared object with the necessary properties\r\n      return {\r\n        lang: lang,\r\n        showAssigneeSelector: this.showAssigneeSelector,\r\n        showAssigneeOptionsSelector: this.showAssigneeOptionsSelector,\r\n        showAssigneeReadOnly: this.showAssigneeReadOnly,\r\n        showComment: this.showComment,\r\n        showAuthenticate: this.showAuthenticate,\r\n        showDurationOption: this.showDurationOption,\r\n        assigneePickerLabel: this.texts.assigneeLabel || lang.assigneePickerLabel\r\n      };\r\n    },\r\n\r\n    // view regions\r\n    regions: {\r\n      assigneeRegion: '.workitem-action-assignee .assignee-picker',\r\n      assigneeTypeRegion: '.workitem-action-assignee-options .assignee-options',\r\n      assigneeLabelRegion: '.workitem-action-assignee-label .assignee-name',\r\n      commentRegion: '.workitem-action-comment',\r\n      authenticateInputRegion: '.workitem-action-authenticate',\r\n      reviewDurationDateRegion: '.workitem-action-reviewDuration .durationTextField',\r\n      reviewDurationUnitRegion: '.workitem-action-reviewDuration .durationUnitSection'\r\n\r\n    },\r\n\r\n    ui: {\r\n      assigneeOptionsLabel: '.workitem-action-assignee-options .assignee-label',\r\n      assigneeOptionsSelector: '.workitem-action-assignee-options .assignee-options'\r\n    },\r\n\r\n    // Constructor gives an explicit name to the object in the debugger and\r\n    // can update the options for the parent view, which `initialize` cannot\r\n    constructor: function ActionBodyView(options) {\r\n\r\n      // initialize members\r\n      this.showAssigneeSelector = options.model.get('requireAssignee');\r\n      this.showAssigneeReadOnly = !this.showAssigneeSelector &&\r\n                                  options.model.get('readonlyAssignee');\r\n      this.showAssigneeOptionsSelector = options.model.get('assigneeOptions');\r\n      this.showComment = options.model.get('requireComment');\r\n      if (options.model.get('assignee')) {\r\n        this.userId = options.model.get('assignee').get('id');\r\n        this.assigneeAttributes = options.model.get('assignee').attributes;\r\n      }\r\n\r\n      this.showAuthenticate = options.model.get('authentication');\r\n      if(options.model.get('currentUser')){\r\n        this.currentUser = options.model.get('currentUser');\r\n      }\r\n\r\n      //show Duration date\r\n      this.showDurationOption = options.model.get('durationOption');\r\n      this.duration = options.model.get('duration');\r\n      this.durationUnit = options.model.get('durationUnit');\r\n\r\n      // initialize texts\r\n      this.texts = options.model.get('texts') || {};\r\n      if (this.showAssigneeReadOnly) {\r\n        //then the aria-label for the comment contains Username\r\n        this.texts.commentAriaLabel = _.str.sformat(lang.commentAriaLabelReply, this.texts.commentLabel,\r\n            this.assigneeAttributes.display_name);\r\n      }\r\n        else{\r\n        this.texts.commentAriaLabel = this.texts.commentLabel;\r\n      }\r\n\r\n      // initialize parent\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n      // listen to model events\r\n      this.listenTo(this.model, 'change:authentication_error', this._onAuthenticationError);\r\n\r\n      // propagate events to regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    //\r\n    onRender: function () {\r\n      // show user picker if required\r\n      if (this.showAssigneeSelector) {\r\n        var user = new UserPicker({\r\n          context: this.options.context,\r\n          limit: 20,\r\n          clearOnSelect: false,\r\n          placeholder: this.texts.assigneePlaceholder || lang.assigneePickerPlaceholder,\r\n          ariaLabel: this.texts.assigneeLabel || lang.assigneePickerLabel,\r\n          disabledMessage: lang.assigneeCurrentUserMessage,\r\n          onRetrieveMembers: _.bind(this.onRetrieveMembers, this),\r\n          prettyScrolling: true,\r\n          initialActivationWeight: 100,\r\n          isRequired: true\r\n        });\r\n        this.listenTo(user, 'dom:refresh', function () {\r\n          //set focus in input field\r\n            if(!this.showAuthenticate) {\r\n              user.$('input').trigger(\"focus\");\r\n            }\r\n          });\r\n        this.assigneeRegion.show(user);\r\n        this.listenTo(user, 'item:change', this.onUserChanged);\r\n        this.listenTo(user, 'item:remove', this.onUserRemoved);\r\n      }\r\n\r\n      // show assignee label if required\r\n      if (this.showAssigneeReadOnly) {\r\n        var label = new UserFieldView({\r\n          context: this.options.context,\r\n          mode: 'readonly',\r\n          model: new Backbone.Model({\r\n            data: this.assigneeAttributes,\r\n            schema: {\r\n              readonly: true\r\n            }\r\n          }),\r\n          alpaca: {\r\n            options: {}\r\n          }\r\n        });\r\n        this.assigneeLabelRegion.show(label);\r\n      }\r\n\r\n      // show assignment options if required\r\n      if (this.showAssigneeOptionsSelector) {\r\n        var assigneeOptions = new AssigneeTypeSelector({\r\n          context: this.options.context\r\n        });\r\n        this.listenTo(assigneeOptions, 'assigneeOption:changed', this.onAssigneeOptionChanged);\r\n        this.assigneeTypeRegion.show(assigneeOptions);\r\n\r\n        //initially hide the assigne options\r\n        this._hideAssigneeOptions(true);\r\n      }\r\n\r\n      // show authentication control if required\r\n      if (this.showAuthenticate) {\r\n        this.authenticate = new ActionBodyAuthenticateView(this.currentUser);\r\n\r\n        this.listenTo(this.authenticate, 'dom:refresh', function()\r\n        {\r\n          this.authenticate.$('input').trigger(\"focus\");\r\n          this.authenticate.$('input').val('');\r\n          this.authenticate.triggerMethod('authenticate:changed');\r\n        });\r\n        this.listenTo(this.authenticate, 'authenticate:changed', this._onAuthenticateChanged);\r\n        this.authenticateInputRegion.show(this.authenticate);\r\n      }\r\n\r\n      // show commenting control if required\r\n      if (this.showComment) {\r\n        var comment = new ActionBodyCommentView(this.texts);\r\n        this.listenTo(comment, 'comment:changed', this.onCommentChanged);\r\n        this.commentRegion.show(comment);\r\n      }\r\n\r\n      //show Duration date when \"Send for Review\"\r\n      if(this.showDurationOption){\r\n        this.reviewDurationDate = new ActionBodyReviewDurationDateView(this.duration);\r\n        this.reviewDurationUnit = new ActionBodyReviewDurationUnitView(this.durationUnit);\r\n        this.listenTo(this.reviewDurationDate, 'duration:changed', this._onReviewDurationChanged);\r\n        this.listenTo(this.reviewDurationUnit, 'durationUnit:changed', this._onReviewDurationUnitChanged);\r\n        this.reviewDurationDateRegion.show(this.reviewDurationDate);\r\n        this.reviewDurationUnitRegion.show(this.reviewDurationUnit);\r\n      }\r\n    },\r\n\r\n    _onReviewDurationChanged:function(e){\r\n      var valid =  this._validateNumberAndMax(e.number);\r\n      if(valid) {\r\n        this.model.set('duration', e.number);\r\n        this.reviewDurationUnit.triggerMethod('durationUnit:changed');\r\n        this.reviewDurationDate.ui.lblErrorMessage.addClass('binf-hidden');\r\n        this.reviewDurationDate.$('#durationField').removeClass('has-error');\r\n      }\r\n      //show error message\r\n      else{\r\n        this.model.set('duration', \"error\");\r\n        this.reviewDurationDate.ui.lblErrorMessage.removeClass('binf-hidden');\r\n        this.reviewDurationDate.$('#durationField').addClass('has-error');\r\n      }\r\n    },\r\n\r\n    _onReviewDurationUnitChanged:function(e){\r\n      if(_.isUndefined(e)) {\r\n        this.model.set('duration_unit' , this.reviewDurationUnit.unitOptions.curVal.id);\r\n      }\r\n      else{\r\n        this.model.set('duration_unit' , e.option );\r\n      }\r\n    },\r\n\r\n    _validateNumberAndMax: function(args) {\r\n\r\n      this.reviewDurationDate.ui.lblErrorMessageText.text(\"\");\r\n      if(_.isEmpty(args)){\r\n        return true;\r\n      }\r\n      // check if valid number format\r\n      var validNumber = Alpaca.testRegex(Alpaca.regexps.number, args);\r\n      if (!validNumber)\r\n      {\r\n        this.reviewDurationDate.ui.lblErrorMessageText.text(lang.durationNumberFailed);\r\n        return false;\r\n      }\r\n\r\n      // quick check to see if what they entered was a number\r\n      var floatValue = parseFloat(args);\r\n      if (isNaN(floatValue)) {\r\n        return false;\r\n      }\r\n\r\n      //11574 days are max value\r\n      if(floatValue > 11574){\r\n        this.reviewDurationDate.ui.lblErrorMessageText.text(_.str.sformat(lang.durationMaximumFailed, \"11574\"));\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    },\r\n\r\n    _onAuthenticationError:function(e){\r\n      this.authenticate.ui.txtPassword.addClass('has-error');\r\n      this.authenticate.ui.txtPassword.val('');\r\n      this.authenticate.ui.txtPassword.trigger(\"focus\");\r\n      this.authenticate.ui.txtPassword.removeAttr('aria-labelledby');\r\n      this.authenticate.ui.txtPassword.attr('aria-labelledby','error');\r\n      this.authenticate.triggerMethod('authenticate:changed');\r\n      this.authenticate.ui.lblErrorMessage.removeClass('binf-hidden');\r\n    },\r\n\r\n    _onAuthenticateChanged: function (e) {\r\n      if(_.isUndefined(e)) {\r\n        this.model.set('authentication_info',{ password: ''});\r\n      }\r\n      else{\r\n        this.model.set('authentication_info', {password: e.text});\r\n      }\r\n      if(this.model.get('authentication_error') !== \"\") {\r\n        this.model.set('authentication_error', '');\r\n      }\r\n    },\r\n\r\n    onCommentChanged: function (data) {\r\n      this.model.set('comment', data.text);\r\n    },\r\n\r\n    //\r\n    onAssigneeOptionChanged: function (data) {\r\n      //the Workitem needs the specific number as assigneeOption\r\n      if (data.option === lang.assigneeOptionAllMembers) {\r\n        this.model.set('assigneeOption', 2);\r\n      }\r\n      else{\r\n        this.model.set('assigneeOption', 0);\r\n      }\r\n    },\r\n\r\n    //\r\n    onUserChanged: function (e) {\r\n      // if member is disabled prevent from being added\r\n      var assignee = e.item;\r\n      if (assignee.get('disabled')) {\r\n        // remove assignee and reset the picker control\r\n        var picker = this.assigneeRegion.currentView;\r\n        if (picker) {\r\n          picker.ui.searchbox.val('');\r\n        }\r\n        assignee = undefined;\r\n      }\r\n      // update assignee\r\n      this.model.set('assignee', assignee);\r\n\r\n      // hide or show the assignee options depending on the select object\r\n      // only for groups we need these options\r\n      if ((assignee && assignee.get('type') === 0) || _.isUndefined(assignee) ){\r\n        this._hideAssigneeOptions(true);\r\n      } else {\r\n        this._hideAssigneeOptions(false);\r\n      }\r\n    },\r\n\r\n    //\r\n    onUserRemoved: function (e) {\r\n      // update assignee\r\n      this.model.set('assignee', undefined);\r\n      // hide teh assignee options when no user is selected\r\n      this._hideAssigneeOptions(true);\r\n    },\r\n\r\n    //\r\n    onRetrieveMembers: function (args) {\r\n      var self = this;\r\n      // check if collection contains current user and disable it.\r\n      if (this.userId) {\r\n        args.collection.each(function (current) {\r\n          if (current.get('id') === self.userId) {\r\n            // check whether user is current user\r\n            current.set('disabled', true);\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Hides or shows the assignee options\r\n     * @param hide True hide the options, false show them\r\n     * @private\r\n     */\r\n    _hideAssigneeOptions: function (hide) {\r\n      if (hide) {\r\n        this.ui.assigneeOptionsLabel.addClass('binf-hidden');\r\n        this.ui.assigneeOptionsSelector.addClass('binf-hidden');\r\n      } else {\r\n        this.ui.assigneeOptionsLabel.removeClass('binf-hidden');\r\n        this.ui.assigneeOptionsSelector.removeClass('binf-hidden');\r\n      }\r\n    }\r\n  });\r\n\r\n  // add mixin\r\n  _.extend(ActionBodyView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  // return\r\n  return ActionBodyView;\r\n});\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('workflow/dialogs/action.dialog/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('workflow/dialogs/action.dialog/impl/nls/root/lang',{\r\n  submitButtonLabel: 'Submit',\r\n  cancelButtonLabel: 'Cancel',\r\n  ActionFailMessageTitle: 'Action \"{0}\" failed',\r\n  ActionFailMessage: 'Action \"{0}\" failed. \\n\\n{1}',\r\n  DialogDefaultTitle: '{0}: Workflow step'\r\n});\r\n\n","\ncsui.define('css!workflow/dialogs/action.dialog/impl/action.dialog',[],function(){});\n","csui.define('workflow/dialogs/action.dialog/action.dialog',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/controls/dialog/dialog.view',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'workflow/widgets/action/action.body/action.body.view',\r\n  'i18n!workflow/dialogs/action.dialog/impl/nls/lang',\r\n  'css!workflow/dialogs/action.dialog/impl/action.dialog'\r\n], function (_, $, Marionette, DialogView, ModalAlert, ActionBodyView, lang) {\r\n  'use strict';\r\n\r\n  var ActionDialog = DialogView.extend({\r\n\r\n    // this is the workflow specific action dialog\r\n    className: 'workflow-action-dialog',\r\n\r\n    constructor: function ActionDialog(options) {\r\n      var self = this;\r\n\r\n      // prepare members\r\n      this.options = options || {};\r\n      this.model = this.options.model;\r\n      this.action = this.model.get('action');\r\n\r\n      // backup original user\r\n      if (this.model.get('assignee')) {\r\n        this.userId = this.model.get('assignee').get('id');\r\n      }\r\n\r\n      // initialize texts\r\n      this.texts = options.model.get('texts') || {};\r\n\r\n      // prepare buttons ...\r\n      var buttonArray = [];\r\n      // ... submit\r\n      buttonArray.push({\r\n        id: self.action.get('id'),\r\n        label: this.texts.submitLabel || lang.submitButtonLabel,\r\n        toolTip: this.texts.submitLabel || lang.submitButtonLabel,\r\n        disabled: !this._isValidAuthInfoAndValidAssignee(),\r\n        default: true,\r\n        click: function () {\r\n          self.onClickAction();\r\n        }\r\n      })\r\n      ;\r\n      // ... cancel\r\n      buttonArray.push({\r\n        label: this.texts.cancelLabel || lang.cancelButtonLabel,\r\n        toolTip: this.texts.cancelLabel || lang.cancelButtonLabel,\r\n        close: true,\r\n        click: function () {\r\n          self.model.set('comment', '');\r\n        }\r\n      });\r\n\r\n      // set dialog properties\r\n      var title = this.model.get('title');\r\n      if (_.isUndefined(title)) {\r\n        title = _.str.sformat(lang.DialogDefaultTitle, this.action.get('label'));\r\n      }\r\n\r\n      _.defaults(options, {\r\n        title: title,\r\n        buttons: buttonArray\r\n      });\r\n\r\n      // add work item body view\r\n      var actionBodyView = new ActionBodyView(options);\r\n      _.extend(options, {\r\n        view: actionBodyView\r\n      });\r\n\r\n      // initialze parent type\r\n      DialogView.prototype.constructor.call(this, options);\r\n\r\n      // listen to dialog model changes\r\n      this.listenTo(this.model, 'change:assignee', this.onChangedAssignee);\r\n\r\n      this.listenTo(this.model, 'change:duration', this.onChangedDuration);\r\n\r\n      this.listenTo(this.model, 'change:authentication_info', this.onChangedAuthenticationInfo);\r\n    },\r\n\r\n    onChangedAuthenticationInfo: function(){\r\n        this.updateButton(this.action.get('id'), {disabled: !this._isValidAuthInfoAndValidAssignee()});\r\n    },\r\n\r\n    onClickAction: function () {\r\n      // execute the action callback function\r\n       if (_.isFunction(this.options.callback)) {\r\n        this.updateButton(this.action.get('id'), {disabled: true});\r\n        this.options.callback(this.model);\r\n\r\n       }\r\n    },\r\n\r\n    onChangedAssignee: function () {\r\n      // update the button state\r\n        this.updateButton(this.action.get('id'), {disabled: !this._isValidAuthInfoAndValidAssignee()});\r\n    },\r\n\r\n    onChangedDuration: function () {\r\n      // update the button state\r\n      this.updateButton(this.action.get('id'), {disabled: !this._isValidAuthInfoAndValidAssignee()});\r\n    },\r\n\r\n    _isValidAuthInfo:function (){\r\n      //do we need to authenticate the user\r\n      var ret = false;\r\n      if(this.model.get('authentication')) {\r\n        if ((this.model.get('authentication_info')) && (this.model.get('authentication_info').password !== \"\")) {\r\n           ret = true;\r\n        }\r\n      }\r\n      else{\r\n        ret = true;\r\n      }\r\n      return ret;\r\n    },\r\n\r\n    _isValidAssignee: function () {\r\n      // do we need an assignee and if so, is it set correctly\r\n      var ret = false;\r\n      if (this.model.get('requireAssignee')) {\r\n        // check whether the user is set or has changed\r\n        if (this.model.get('assignee')) {\r\n          if (this.model.get('assignee').get('id') !== this.userId) {\r\n            ret = true;\r\n          }\r\n        }\r\n      } else{\r\n        ret = true;\r\n      }\r\n      return ret;\r\n    },\r\n\r\n    _isValidDuration:function(){\r\n      var ret = false;\r\n      if(this.model.get('durationOption')) {\r\n        if ((this.model.get('duration')) && (this.model.get('duration') !== \"error\")) {\r\n          ret = true;\r\n        }\r\n        else if(_.isUndefined(this.model.get('duration')) || this.model.get('duration') === \"\"){ret = true;}\r\n      }\r\n      else{\r\n        ret = true;\r\n      }\r\n      return ret;\r\n    },\r\n\r\n    _isValidAuthInfoAndValidAssignee: function(){\r\n      var ret = false;\r\n      if(this._isValidAssignee() && this._isValidAuthInfo() && this._isValidDuration()){\r\n        ret = true;\r\n      }\r\n      return ret;\r\n    }\r\n\r\n  });\r\n\r\n  return ActionDialog;\r\n\r\n});\r\n\n","csui.define('workflow/dialogs/action.dialog/action.dialog.model',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone'\r\n], function (_, Backbone) {\r\n  'use strict';\r\n\r\n  // model holds the action dialog properties and results\r\n  var ActionDialogModel = Backbone.Model.extend({\r\n\r\n    // defaults\r\n    defaults: {\r\n      // title\r\n      title: undefined,\r\n      // action\r\n      action: undefined,\r\n      // comment\r\n      requireComment: false,\r\n      comment: undefined,\r\n      // assignee\r\n      requireAssignee: false,\r\n      readonlyAssignee: false,\r\n      assigneeOptions: false,\r\n      assignee: undefined,\r\n      // dialog label texts\r\n      texts: {},\r\n\r\n      //authentication on step\r\n      authentication: false,\r\n      currentUser: undefined,\r\n      authentication_info: undefined,\r\n      authentication_error: \"\",\r\n\r\n      //duration\r\n      durationOption: false\r\n    },\r\n\r\n    // initializes the model\r\n    constructor: function ActionDialogModel(attributes, options) {\r\n      // apply properties to parent\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n    }\r\n  });\r\n\r\n  // return\r\n  return ActionDialogModel;\r\n});\n","csui.define('workflow/models/wfstatus/wfstatus.model',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/utils/url'\r\n], function (_, $, Backbone, Url) {\r\n  'use strict';\r\n\r\n  var WFStatusModel = Backbone.Model.extend({\r\n\r\n    constructor: function WFStatusModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n      // Enable this model for communication with the CS REST API\r\n      if (options && options.connector) {\r\n        options.connector.assignTo(this);\r\n      }\r\n    },\r\n\r\n    url: function () {\r\n\r\n      var baseUrl            = this.connector.connection.url.replace('/v1', '/v2'),\r\n          getUrl             = Url.combine(baseUrl, 'workflows/status/widget'),\r\n          filterWorkflowtype = this.get(\"filterWorkflowtype\"),\r\n          retention          = this.get(\"retention\"),\r\n          selectionType      = this.get(\"selectionType\"),\r\n          wfstatusfilter     = this.get(\"wfstatusfilter\"),\r\n          referenceId        = this.get(\"referenceid\");\r\n\r\n      if (!filterWorkflowtype) {\r\n        var isFilterInitiated = this.get(\"filterWorkflows\") ?\r\n                                this.get(\"filterWorkflows\").filterInitiated : true;\r\n        var isFilterManaged = this.get(\"filterWorkflows\") ?\r\n                              this.get(\"filterWorkflows\").filterManaged : true;\r\n        filterWorkflowtype = 'Both';\r\n        if (isFilterInitiated && isFilterManaged) {\r\n          filterWorkflowtype = 'Both';\r\n        } else if (isFilterInitiated) {\r\n          filterWorkflowtype = 'Initiated';\r\n        } else if (isFilterManaged) {\r\n          filterWorkflowtype = 'Managed';\r\n        }\r\n      }\r\n      getUrl += \"?selectionType=\" + selectionType;\r\n\r\n      if (wfstatusfilter && wfstatusfilter !== '') {\r\n        getUrl += \"&wfstatusfilter=\" + wfstatusfilter;\r\n      }\r\n      else {\r\n        getUrl += \"&wfretention=\" + retention;\r\n        getUrl += \"&kind=\" + filterWorkflowtype;\r\n      }\r\n\r\n      // append node based filtering\r\n      if (referenceId) {\r\n        getUrl += \"&nodeid=\" + referenceId;\r\n      }\r\n\r\n      return getUrl;\r\n\r\n    },\r\n\r\n    parse: function (response) {\r\n\r\n      return response.results;\r\n\r\n    },\r\n\r\n    isFetchable: function () {\r\n\r\n      return true;\r\n    },\r\n    sendReAssignAction: function (acceptStatus) {\r\n      // URL of the REST call to reassign user\r\n      var baseUrl                            = this.connector.connection.url.replace('/v1', '/v2'),\r\n          postUrl                            = Url.combine(baseUrl, 'workflows', 'status'),\r\n          formData = new FormData(), content = {\r\n            workid: acceptStatus.wfData.process_id || acceptStatus.wfData.processId,\r\n            subworkid: acceptStatus.wfData.subprocess_id || acceptStatus.wfData.subProcessId,\r\n            taskid: acceptStatus.wfData.task_id || acceptStatus.wfData.taskId,\r\n            newuserid: acceptStatus.model.get('assignee'),\r\n            comment: acceptStatus.model.get('comment')\r\n          },\r\n          dfd                                = $.Deferred();\r\n      formData.append('body', JSON.stringify(content));\r\n      var ajaxOptions = {\r\n        type: 'POST',\r\n        url: postUrl,\r\n        data: formData,\r\n        contentType: false,\r\n        processData: false\r\n      };\r\n      this.connector && this.connector.extendAjaxOptions(ajaxOptions);\r\n\r\n      $.ajax(ajaxOptions)\r\n          .done(_.bind(function (resp) {\r\n            dfd.resolve(resp);\r\n          }, this))\r\n          .fail(_.bind(function (resp) {\r\n            var responseMsg = \"\";\r\n            if (resp.responseText) {\r\n              responseMsg = JSON.parse(resp.responseText);\r\n            }\r\n            dfd.reject(responseMsg);\r\n          }, this));\r\n      return dfd;\r\n    }\r\n  });\r\n\r\n  return WFStatusModel;\r\n\r\n}); \r\n\n","csui.define('workflow/models/wfstatus/wfstatus.model.factory',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',   // Factory base to inherit from\r\n  'csui/utils/contexts/factories/connector', // Factory for the server connector\r\n  'workflow/models/wfstatus/wfstatus.model'     // Model to create the factory for\r\n], function ($, _, Backbone, ModelFactory, ConnectorFactory, WfstatusModel) {\r\n  'use strict';\r\n\r\n  var WFStatusModelFactory = ModelFactory.extend({\r\n\r\n    // Unique prefix of the default model instance, when this model is placed\r\n    // to a context to be shared by multiple widgets\r\n    propertyPrefix: 'wfstatus',\r\n\r\n    constructor: function WFStatusModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      // Obtain the server connector from the application context to share\r\n      // the server connection with the rest of the application; include\r\n      // the options, which can contain settings for dependent factories\r\n      var connector = context.getObject(ConnectorFactory, options);\r\n      this.context = context;\r\n\r\n      // Expose the model instance in the `property` key on this factory\r\n      // instance to be used by the context\r\n      this.property = new WfstatusModel(options, {\r\n        connector: connector\r\n      });\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n\r\n    }\r\n  });\r\n\r\n  return WFStatusModelFactory;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/controls/usercards/impl/usercard',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"  <div class=\\\"binf-row\\\">\\r\\n    <div class=\\\"wfstatus-mini-profile-user binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\">\\r\\n      <div class=\\\"binf-row\\\">\\r\\n        <div class=\\\"wfstatus-mini-profile-details\\\">\\r\\n          <div class=\\\"wfstatus-group-profile-img\\\">\\r\\n                <span class=\\\"wfstatus-mini-profile-avatar\\\">\\r\\n                    <a href=\\\"javascript:void(0);\\\" class=\\\"wfstatus-group-profile-pic\\\">\\r\\n                        <span\\r\\n                            class=\\\"wfstatus-miniprofile-default-avatar-show default-group-avatar image_group_placeholder\\\"\\r\\n                            title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n                    </a>\\r\\n                </span>\\r\\n          </div>\\r\\n          <div class=\\\"binf-col-lg-10 binf-col-md-10 binf-col-sm-10 binf-col-xs-10\\\">\\r\\n            <div class=\\\"binf-row\\\">\\r\\n              <div class=\\\"wfstatus-mini-profile-userinfo binf-col-lg-7 binf-col-md-7 binf-col-sm-7 binf-col-xs-7\\\">\\r\\n                <div class=\\\"wfstatus-mini-profile-user-displayname\\\">\\r\\n                  <a href=\\\"javascript:void(0);\\\" class=\\\"wfstatus-mini-profile-group-name binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\"title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n                    \"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\r\\n                  </a>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"wfstatus-usercard-wfstatus binf-col-lg-3 binf-col-md-3 binf-col-sm-3 binf-col-xs-3\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.status || (depth0 != null ? depth0.status : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"status\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n                \"\n    + this.escapeExpression(((helper = (helper = helpers.status || (depth0 != null ? depth0.status : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"status\",\"hash\":{}}) : helper)))\n    + \"\\r\\n              </div>\\r\\n            </div> \\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"binf-row\\\">\\r\\n        <div class=\\\"binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12 wfstatus-usercard-footer-col\\\">\\r\\n          <div class=\\\"wfstatus-usercard-actions wfstatus-usercard-footer\\\">\\r\\n            <div class=\\\"wfstatus-usercard-inline-actions\\\">\\r\\n              <div class=\\\"wfstatus-reassignButton\\\">\\r\\n                  <span><button class=\\\"csui-btn binf-btn binf-btn-primary wfstatus-reassign-btn\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.ReassignLabel || (depth0 != null ? depth0.ReassignLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ReassignLabel\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.ReassignLabel || (depth0 != null ? depth0.ReassignLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ReassignLabel\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n                  </span>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.MultiUser : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"  </div>\\r\\n\";\n},\"2\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.notLastUser : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"3\":function(depth0,helpers,partials,data) {\n    return \"        <hr>\\r\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"  <div class=\\\"binf-row\\\">\\r\\n    <div class=\\\"wfstatus-mini-profile-user binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\">\\r\\n      <div class=\\\"binf-row\\\">\\r\\n        <div class=\\\"wfstatus-mini-profile-details\\\">\\r\\n          <div class=\\\"wfstatus-user-profile-img\\\">\\r\\n                <span class=\\\"wfstatus-mini-profile-avatar\\\">\\r\\n                    <a href=\\\"javascript:void(0);\\\" class=\\\"wfstatus-user-profile-pic\\\">\\r\\n                        <span class=\\\"image_user_placeholder wfstatus-miniprofile-default-avatar-\"\n    + this.escapeExpression(((helper = (helper = helpers.displayDefaultPic || (depth0 != null ? depth0.displayDefaultPic : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"displayDefaultPic\",\"hash\":{}}) : helper)))\n    + \"\\\" style=\\\"background: \"\n    + this.escapeExpression(((helper = (helper = helpers.userBackgroundColor || (depth0 != null ? depth0.userBackgroundColor : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"userBackgroundColor\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.initials || (depth0 != null ? depth0.initials : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"initials\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n                        <img id=\\\"wfstatus-mini-profile-pic-\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"wfstatus-userprofile-img binf-img-circle-\"\n    + this.escapeExpression(((helper = (helper = helpers.displayPic || (depth0 != null ? depth0.displayPic : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"displayPic\",\"hash\":{}}) : helper)))\n    + \"\\\" src=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.photoUrl || (depth0 != null ? depth0.photoUrl : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"photoUrl\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n                    </a>\\r\\n                </span>\\r\\n          </div>\\r\\n          <div class=\\\"binf-col-lg-10 binf-col-md-10 binf-col-sm-10 binf-col-xs-10\\\">\\r\\n            <div class=\\\"binf-row\\\">\\r\\n              <div class=\\\"wfstatus-mini-profile-userinfo binf-col-lg-7 binf-col-md-7 binf-col-sm-7 binf-col-xs-7\\\">\\r\\n                <div class=\\\"wfstatus-mini-profile-user-displayname\\\">\\r\\n                  <a href=\\\"javascript:void(0);\\\" class=\\\"wfstatus-mini-profile-user-name binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n                    \"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\r\\n                  </a>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"wfstatus-usercard-wfstatus binf-col-lg-3 binf-col-md-3 binf-col-sm-3 binf-col-xs-3\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.status || (depth0 != null ? depth0.status : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"status\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n                \"\n    + this.escapeExpression(((helper = (helper = helpers.status || (depth0 != null ? depth0.status : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"status\",\"hash\":{}}) : helper)))\n    + \"\\r\\n              </div>\\r\\n            </div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.hasContactInfo : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(6, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      \\r\\n      <div class=\\\"binf-row\\\">\\r\\n        <div class=\\\"binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12 wfstatus-usercard-footer-col\\\">\\r\\n        <div class=\\\"wfstatus-usercard-actions wfstatus-usercard-footer\\\">\\r\\n          <div class=\\\"wfstatus-usercard-inline-actions\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.isChatEnabled : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(11, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.displayReassign : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(13, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"          </div>  \\r\\n        </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.MultiUser : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"  </div>\\r\\n\";\n},\"6\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"              <div class=\\\"binf-row\\\">\\r\\n                <div class=\\\"binf-col-lg-12 binf-col-md-12 binf-col-sm-12 binf-col-xs-12 wfstatus-usercard-user-details\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.business_email : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(7, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.business_phone : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(9, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"                </div>\\r\\n              </div>\\r\\n\";\n},\"7\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"                    <div class=\\\"wfstatus-mini-profile-user-displayemail\\\">\\r\\n                      <a class=\\\"wfstatus-mini-profile-user-email\\\" href=\\\"mailto:\"\n    + this.escapeExpression(((helper = (helper = helpers.business_email || (depth0 != null ? depth0.business_email : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"business_email\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n                        title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.business_email || (depth0 != null ? depth0.business_email : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"business_email\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.business_email || (depth0 != null ? depth0.business_email : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"business_email\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n                    </div>\\r\\n\";\n},\"9\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"                    <div class=\\\"wfstatus-mini-profile-user-phone\\\"\\r\\n                        title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.business_phone || (depth0 != null ? depth0.business_phone : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"business_phone\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.PhoneLabel || (depth0 != null ? depth0.PhoneLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"PhoneLabel\",\"hash\":{}}) : helper)))\n    + \" \"\n    + this.escapeExpression(((helper = (helper = helpers.business_phone || (depth0 != null ? depth0.business_phone : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"business_phone\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n\";\n},\"11\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"              <div class=\\\"wfstatus-chatButton\\\">\\r\\n                  <a href='\"\n    + this.escapeExpression(((helper = (helper = helpers.chatURI || (depth0 != null ? depth0.chatURI : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"chatURI\",\"hash\":{}}) : helper)))\n    + \"' class='wfstatus-chat-icon'>\\r\\n                      <span><button class=\\\"csui-btn binf-btn binf-btn-secondary wfstatus-chat-btn\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.ChatLabel || (depth0 != null ? depth0.ChatLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ChatLabel\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n                                    tabindex=\\\"0\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.ChatLabel || (depth0 != null ? depth0.ChatLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ChatLabel\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n                      </span></a>\\r\\n              </div>\\r\\n\";\n},\"13\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"              <div class=\\\"wfstatus-reassignButton\\\">\\r\\n                  <span><button class=\\\"csui-btn binf-btn binf-btn-primary wfstatus-reassign-btn\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.ReassignLabel || (depth0 != null ? depth0.ReassignLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ReassignLabel\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n                                tabindex=\\\"0\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.ReassignLabel || (depth0 != null ? depth0.ReassignLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ReassignLabel\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n                  </span>\\r\\n              </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<!-- Here if the assigneeType '1' is for group and '0' for user and handlebars considering '1' as true and '0' as false-->\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.assigneeType : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(5, data, 0)})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('workflow_controls_usercards_impl_usercard', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('workflow/controls/usercards/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('workflow/controls/usercards/nls/root/lang',{\r\n  PhoneLabel: 'Phone:',\r\n  ChatButtonLabel: 'Chat',\r\n  ReassignButtonLabel: 'Reassign',\r\n  ReassignTo: 'Reassign to',\r\n  SuccessMessage: ' Workflow step was successfully reassigned',\r\n  ErrorMessage: 'Could not reassign step',\r\n  DialogHeaderMessage: 'Reassign workflow step',\r\n  commentPlaceholder: 'Type a message'\r\n});\r\n\n","\ncsui.define('css!workflow/controls/usercards/impl/usercard',[],function(){});\n","csui.define('workflow/controls/usercards/usercard.view',['require', 'csui/lib/jquery', 'csui/utils/url', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/controls/toolbar/toolbar.view',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'csui/utils/user.avatar.color',\r\n  'workflow/dialogs/action.dialog/action.dialog',\r\n  'workflow/dialogs/action.dialog/action.dialog.model',\r\n  'workflow/models/wfstatus/wfstatus.model.factory',\r\n  'hbs!workflow/controls/usercards/impl/usercard',\r\n  'i18n!workflow/controls/usercards/nls/lang',\r\n  'css!workflow/controls/usercards/impl/usercard'\r\n], function (require, $, Url, _, Backbone, Marionette, ConnectorFactory, ToolbarView, GlobalMessage, UserAvatarColor,\r\n    ActionDialogView, ActionDialogModel, WFstatusModelFactory, Template, Lang) {\r\n  'use strict';\r\n\r\n  var UserCardView = Marionette.ItemView.extend({\r\n\r\n    template: Template,\r\n\r\n    className: 'wfstatus-usercard',\r\n\r\n    constructor: function WFStatusUserCardView(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      this.model.connector = this.options.context.getObject(ConnectorFactory, this.options);\r\n    },\r\n\r\n    events: {\r\n      'mouseenter .wfstatus-mini-profile-user': 'showActions',\r\n      'mouseleave .wfstatus-mini-profile-user': 'hideActions',\r\n      'click .wfstatus-mini-profile-user-name, .wfstatus-user-profile-img': 'showUserProfileDialog',\r\n      'click .wfstatus-reassignButton': 'showReassignDialogView'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      var userBackgroundColor =  UserAvatarColor.getUserAvatarColor(this.model.attributes),\r\n          WFStatusCollectionFactory = require(\r\n          'workflow/models/wfstatus/wfstatus.collection.factory'),\r\n          Utils                     = require('workflow/utils/workitem.util'),\r\n          firstName                 = this.model.get('first_name') === null ? \"\" :\r\n                                      this.model.get('first_name'),\r\n          lastName                  = this.model.get('last_name') === null ? \"\" :\r\n                                      this.model.get('last_name'),\r\n          displayName               = firstName + \" \" + lastName,\r\n          loginName                 = this.model.get('name'),\r\n          phone                     = this.model.get('business_phone'),\r\n          email                     = this.model.get('business_email'),\r\n          photo                     = this.model.get('photo_url'),\r\n          userId                    = this.model.get('id'),\r\n          lastUserModel             = this.model.collection.at(this.model.collection.length - 1),\r\n          lastUser                  = (lastUserModel.get(\"id\") === this.model.get(\"id\")) ? true :\r\n                                      false,\r\n          status                    = this.options.status,\r\n          name                      = this.model.get('name'),\r\n          wfStatusCollection        = this.options.context.getCollection(WFStatusCollectionFactory),\r\n          chatSettings              = wfStatusCollection.options.chatSettings,\r\n          isChatEnabled             = chatSettings ? chatSettings.chatEnabled : false,\r\n          assigneeType              = this.model.get('type'),\r\n          wfStatus                  = '',\r\n          data                      = {},\r\n          options                   = {},\r\n          chatURI                   = '',\r\n          displayReassign           = this.options.originatingView.model.get('hasReassignAction');\r\n\r\n      // Added wfStatus for verifying workflow status to show/hide reassign button\r\n      if (this.options.nodeModel) {\r\n        wfStatus = this.options.nodeModel.get('task_status');\r\n      } else { // using originatingView to get workflow status in nodestable view\r\n        wfStatus = this.options.originatingView.model.get('status_key');\r\n      }\r\n\r\n      //getting the chat uri\r\n      options.domain = chatSettings.chatDomain;\r\n      options.tguser = name;\r\n      chatURI = Utils.getChatURI(options);\r\n\r\n      //checking for the type either group or user and returning the data accordingly\r\n      if (assigneeType === 1) {\r\n        data = {\r\n          \"name\": name,\r\n          \"id\": userId,\r\n          \"MultiUser\": !this.model.get(\"singleUser\"),\r\n          \"notLastUser\": !lastUser\r\n        };\r\n      } else if (assigneeType === 0) {\r\n        data = {\r\n          \"name\": displayName === \" \" ? loginName : displayName,\r\n          \"business_phone\": phone ? phone : \"\",\r\n          \"business_email\": email ? email : \"\",\r\n          \"photoUrl\": photo === null ? null : photo,\r\n          \"id\": userId,\r\n          \"displayPic\": photo === null ? 'hide' : 'show',\r\n          \"displayDefaultPic\": photo === null ? 'show' : 'hide',\r\n          \"ChatLabel\": Lang.ChatButtonLabel,\r\n          \"PhoneLabel\": Lang.PhoneLabel,\r\n          \"MultiUser\": !this.model.get(\"singleUser\"),\r\n          \"notLastUser\": !lastUser,\r\n          \"displayReassign\": wfStatus !== 'completed' && wfStatus !== 'stopped' && displayReassign,\r\n          \"hasContactInfo\": !!(phone || email),\r\n          \"initials\": this.model.get(\"initials\"),\r\n          \"userBackgroundColor\": userBackgroundColor\r\n        };\r\n      }\r\n      _.extend(data,\r\n          {\r\n            ReassignLabel: Lang.ReassignButtonLabel,\r\n            status: status,\r\n            assigneeType: assigneeType,\r\n            isChatEnabled: isChatEnabled,\r\n            chatURI: chatURI\r\n          });\r\n      return data;\r\n    },\r\n\r\n    showActions: function () {\r\n      if (!this.model.get(\"singleUser\")) {\r\n\r\n        this.$el.find('.wfstatus-usercard-actions').addClass('wfstatus-usercard-footer');\r\n        this.$el.find(\".wfstatus-chatButton\").show();\r\n        this.$el.find(\".wfstatus-reassignButton\").show();\r\n      }\r\n    },\r\n\r\n    hideActions: function () {\r\n\r\n      if (!this.model.get(\"singleUser\")) {\r\n\r\n        this.$el.find(\".wfstatus-chatButton\").hide();\r\n        this.$el.find(\".wfstatus-reassignButton\").hide();\r\n        this.$el.find('.wfstatus-usercard-actions').removeClass('wfstatus-usercard-footer');\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n      var Utils = require('workflow/utils/workitem.util'),\r\n          self  = this;\r\n      Utils.showProfilePic(this.model).always(function (response) {\r\n        var photoUrl     = URL.createObjectURL(response),\r\n            photoElement = $(\"#wfstatus-mini-profile-pic-\" + self.model.get(\"id\"));\r\n        self.model.attributes.photoUrl = photoUrl;\r\n        photoElement.attr(\"src\", photoUrl);\r\n      });\r\n\r\n      this.firstUser = (this.model.collection.at(0).get(\"id\") === this.model.get(\"id\")) ? true :\r\n                       false;\r\n\r\n      var showActions = this.model.get(\"singleUser\") ? false : this.firstUser;\r\n      this.$el.find('.wfstatus-usercard-actions').addClass('wfstatus-usercard-footer');\r\n      if (!showActions) {\r\n        this.hideActions();\r\n      }\r\n    },\r\n\r\n    showReassignDialogView: function (event) {\r\n\r\n      var action        = this.model.set({id: 'Reassign'}),\r\n          actionOptions = {\r\n            requireAssignee: true,\r\n            assigneeOptions: false,\r\n            texts: {\r\n              assigneeLabel: Lang.ReassignTo,\r\n              commentPlaceholder: Lang.commentPlaceholder\r\n            }\r\n          };\r\n\r\n      // prepare dialog model\r\n      var dialogModel = new ActionDialogModel(_.extend({\r\n        title: Lang.DialogHeaderMessage,\r\n        requireComment: this.getOption('wfData').comments_on ?\r\n                        this.getOption('wfData').comments_on :\r\n                        this.getOption('originatingView').model.get('comments_on'),\r\n        action: action\r\n      }, actionOptions));\r\n\r\n      // show the dialog\r\n       this.actionDialog = new ActionDialogView({\r\n        context: this.options.context,\r\n        model: dialogModel,\r\n        callback: _.bind(this.reAssignUser, this)\r\n      });\r\n      this.actionDialog.show();\r\n    },\r\n\r\n    updateReassignedStepCard: function (options) {\r\n      var iterateStep = options.step,\r\n          resp        = options.resp;\r\n      iterateStep.task_assignees = resp.task_assignees;\r\n      iterateStep.task_name = resp.task_name;\r\n      iterateStep.task_status = resp.task_status;\r\n    },\r\n\r\n    reAssignUser: function (dialogModel, options) {\r\n\r\n      var comment = dialogModel.get('comment');\r\n\r\n      if (!_.isUndefined(comment) && comment.length !== 0) {\r\n        this.model.set('comment', comment, {silent: true});\r\n      }\r\n\r\n      var assignee = dialogModel.get('assignee');\r\n      if (!_.isUndefined(assignee)) {\r\n        this.model.set('assignee', assignee.get('id'), {silent: true});\r\n      }\r\n\r\n      this.wfstatusmodel = this.options.context.getModel(WFstatusModelFactory);\r\n\r\n      var that = this;\r\n      that.wfstatusmodel.sendReAssignAction(that.options)\r\n          .done(_.bind(function (response) {\r\n            var Utils          = require('workflow/utils/workitem.util'),\r\n                cellView       = that.options.originatingView,\r\n                cellModel      = cellView.model,\r\n                resp           = response.results[0],\r\n                tableView      = cellView.options.tableView,\r\n                stepCardModel  = that.options.nodeModel,\r\n                isStepTypeNext = that.options.stepType === \"next\" ? true : false,\r\n                listOfUsers    = {},\r\n                userName;\r\n            listOfUsers.assignedto = resp.task_assignees.assignedto;\r\n            listOfUsers.assignees = resp.task_assignees.assignee;\r\n            listOfUsers.isReassign = true;\r\n            userName = Utils.getAssignee(listOfUsers);\r\n\r\n            if (that.options.stepCardsListView || ( that.options.wfData &&\r\n                                                    that.options.wfData.updateCurrentStepAssignee)) {\r\n\r\n              var selectedTaskID, steplist,\r\n                  // parallelSteps - wfstatus list view multiple current steps\r\n                  parallelSteps = cellModel.get('parallel_steps');\r\n\r\n              //updates the 1st step reassigned assignee in the wfstatus multiple current steps\r\n              if ((this.options.wfData &&\r\n                   this.options.wfData.updateCurrentStepAssignee)) {\r\n                var taskName = resp.task_name;\r\n                parallelSteps[0].task_assignees = resp.task_assignees;\r\n                parallelSteps[0].task_name = taskName;\r\n                parallelSteps[0].task_status = resp.task_status;\r\n                cellModel.set('step_name', taskName);\r\n\r\n              } else {\r\n\r\n                selectedTaskID = that.options.nodeModel.get(\"task_id\");\r\n                var firstTaskId;\r\n                //updates the reassigned assignee in the wfstatus list multiple current steps and progress panel when user reassigned in progress panel \r\n                if (!that.options.stepCardsListView.options.listViewMulCurrentSteps) {\r\n\r\n                  // steplist - progress panel multiple current steps\r\n                  steplist = that.options.stepCardsListView.options.step_list;\r\n                  _.each([steplist, parallelSteps], function (steps) {\r\n                    firstTaskId = steps[0].task_id;\r\n                    _.any(steps, function (step) {\r\n                      if (step.task_id === selectedTaskID) {\r\n                        var options = {\r\n                          steps: steps,\r\n                          step: step,\r\n                          resp: resp,\r\n                          cellModel: cellModel,\r\n                          firstTaskId: firstTaskId\r\n                        };\r\n                        that.updateReassignedStepCard(options);\r\n                        return true;\r\n                      }\r\n                    });\r\n                  });\r\n                  //updates the reassigned assignee in the wfstatus list multiple current steps when user reassigned from the wfstatus list multiple current steps\r\n                } else {\r\n\r\n                  firstTaskId = parallelSteps[0].task_id;\r\n                  _.any(parallelSteps, function (step) {\r\n                    if (step.task_id === selectedTaskID) {\r\n                      var options = {\r\n                        steps: parallelSteps,\r\n                        step: step,\r\n                        resp: resp,\r\n                        cellModel: cellModel,\r\n                        firstTaskId: firstTaskId\r\n                      };\r\n                      that.updateReassignedStepCard(options);\r\n                      return true;\r\n                    }\r\n                  });\r\n                }\r\n\r\n              }\r\n            }\r\n\r\n            // Updating tableView and stepCardView when we reassigned a step from\r\n            // tableView,\r\n            // stepCard if it's an nextStep ,\r\n            // currentStep if it's not an parellel step\r\n\r\n            if (isStepTypeNext || !selectedTaskID || (steplist && steplist.length === 1)) {\r\n              that.updatingView(that, cellModel, resp, tableView, userName, isStepTypeNext);\r\n            } else {\r\n              //Updating table view when we reassign a step which is in parallel state.\r\n              var reassignedModel = cellModel.collection.where({\r\n                process_id: cellModel.get(\"process_id\"),\r\n                subprocess_id: cellModel.get(\"subprocess_id\"),\r\n                task_id: selectedTaskID\r\n              });\r\n              if (reassignedModel && reassignedModel.length > 0) {\r\n                that.updatingView(that, reassignedModel[0], resp, tableView, userName,\r\n                    isStepTypeNext);\r\n              }\r\n            }\r\n            //Updating stepCardView when we reassigned from stepCard\r\n            if (stepCardModel) {\r\n              stepCardModel.set(\"task_assignees\", resp.task_assignees);\r\n              stepCardModel.set(\"task_name\", resp.task_name);\r\n              stepCardModel.set(\"task_status\", resp.task_status);\r\n\r\n            }\r\n            GlobalMessage.showMessage('success', Lang.SuccessMessage);\r\n          }, this)).fail(_.bind(function (response) {\r\n        GlobalMessage.showMessage('error',\r\n            response.error === \"\" ? Lang.ErrorMessage : response.error);\r\n      })).always(_.bind(function () {\r\n        var Utils = require('workflow/utils/workitem.util');\r\n        Utils.unbindPopover(options);\r\n\r\n        if(!_.isUndefined(this.actionDialog)){\r\n          this.actionDialog.destroy();\r\n        }\r\n      }, that));\r\n    },\r\n\r\n    //Updating cellModel, tableView and widget Model based on the conditions.\r\n    updatingView: function (that, cellModel, resp, tableView, userName, isStepTypeNext) {\r\n      var assigneeData = resp.task_assignees,\r\n          wfstatus     = cellModel.collection.wfstatus;\r\n      if (!isStepTypeNext) {\r\n        if (_.has(assigneeData, \"assignedto\")) {\r\n          assigneeData.assignedto.assignees = assigneeData.assignee;\r\n          cellModel.set(\r\n              {\"assignedto\": assigneeData.assignedto, \"userId\": assigneeData.assignedto.groupId});\r\n\r\n          if (assigneeData.assignee.length > 0) {\r\n            cellModel.set({\"assignee_count\": assigneeData.assigneeCount, \"assignee\": userName});\r\n\r\n          } else {\r\n            cellModel.set(\"assignee\", \"\");\r\n          }\r\n        } else if (assigneeData.assignee.length === 1) {\r\n          cellModel.unset(\"assignedto\");\r\n          cellModel.set({\r\n            \"assignee_count\": assigneeData.assigneeCount,\r\n            \"assignee\": userName,\r\n            \"userId\": assigneeData.assignee[0].userId\r\n          });\r\n        }\r\n\r\n        //updating the table row with cellModel\r\n        tableView.updateRow(cellModel);\r\n        //updating wfstatusmodel to render standard status view\r\n        if (cellModel.collection.length === 1) {\r\n\r\n          if (wfstatus) {\r\n            wfstatus.get('data').assignee = assigneeData.assignee;\r\n            wfstatus.trigger('change', wfstatus);\r\n          } else {\r\n            that.wfstatusmodel.get('data').assignee = assigneeData.assignee;\r\n            that.wfstatusmodel.trigger('change');\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    showUserProfileDialog: function (e) {\r\n\r\n      var connector         = this.model.connector,\r\n          context           = this.options.context,\r\n          wfstatusExpandEle = $(\".wfstatus.csui-expanded\"),\r\n          that              = this;\r\n      this.model.attributes.display_name = this.model.get('name_formatted');\r\n\r\n      require([\r\n        'esoc/controls/userwidget/userwidget.view'\r\n      ], function (UserWidgetView) {\r\n        var options = {};\r\n        options.model = that.model;\r\n        options.connector = connector;\r\n        options.userid = that.model.get('id');\r\n        options.context = context;\r\n        options.baseElement = undefined;\r\n        options.showUserProfileLink = true;\r\n        options.loggedUserId = that.model.get('id');\r\n        options.dialogClassName = 'wfstatus-user-profile-dialog';\r\n        options.dialogiconLeft = 'arrow_back wfstatus-user-widget-dialog-back';\r\n        options.dialogiconRight = \"wfstatus-no-righticon\";\r\n\r\n        bindUserWidgetEvents(UserWidgetView, options, true);\r\n\r\n        function bindUserWidgetEvents(UserWidget, options, create) {\r\n\r\n          var userWidgetInstace;\r\n          if (create) {\r\n            userWidgetInstace = new UserWidgetView(options);\r\n          } else {\r\n            userWidgetInstace = UserWidget;\r\n          }\r\n          userWidgetInstace.showUserProfileDialog();\r\n\r\n          userWidgetInstace.off('userwidgetview.show.user.dialog').on(\r\n              'userwidgetview.show.user.dialog',\r\n              function (event) {\r\n                // open new user widget on clicking viewprofile from userwidte's followers or\r\n                // following tabs\r\n                var widgetOptions = _.extend({}, options);\r\n                event.options.userid = event.options.model.id;\r\n\r\n                var updatedOptions = _.extend(widgetOptions, event.options);\r\n                delete updatedOptions[\"model\"];\r\n                updatedOptions.display_name = event.options.model.attributes.display_name;\r\n                bindUserWidgetEvents(UserWidgetView, updatedOptions, true);\r\n              });\r\n\r\n          var esocUserProfileWidgetBackButtonEle = $('.wfstatus-user-profile-dialog' +\r\n                                                     ' .esoc-user-widget-dialog-back');\r\n          esocUserProfileWidgetBackButtonEle.off(\"click\").on(\"click\", function () {\r\n            var prevUserview = userWidgetInstace.util.userStack.pop();\r\n            //perform pop operation if previous user is current user.\r\n            if (prevUserview.model.id === userWidgetInstace.model.id) {\r\n              prevUserview = userWidgetInstace.util.userStack.pop();\r\n            }\r\n            bindUserWidgetEvents(prevUserview, undefined, false);\r\n\r\n          });\r\n\r\n          var workflowUserProfileWidgetBackButtonEle = $(\".wfstatus-user-widget-dialog-back\");\r\n\r\n          workflowUserProfileWidgetBackButtonEle.off(\"click\").on(\"click\", function () {\r\n\r\n            if ($(\".esoc-user-widget-dialog\").is(':visible') ||\r\n                $('.wfstatus-user-profile-dialog').is(':visible')) {\r\n              $(\".wfstatus-user-profile-dialog .cs-close\").trigger('click');\r\n            }\r\n            wfstatusExpandEle.show();\r\n          });\r\n\r\n          var esocUserProfileWidgetCloseButtonEle = $('.esoc-user-widget-dialog' + ' .cs-close');\r\n          esocUserProfileWidgetCloseButtonEle.off(\"click\").on(\"click\", function () {\r\n            userWidgetInstace.util.userStack = [];\r\n            wfstatusExpandEle.show();\r\n          });\r\n\r\n          if (userWidgetInstace.util.userDialog) {\r\n            userWidgetInstace.util.userDialog.listenTo(userWidgetInstace.util.userDialog, 'destroy',\r\n                function () {\r\n                  wfstatusExpandEle.show();\r\n                });\r\n          }\r\n\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  return UserCardView;\r\n\r\n})\r\n;\n","csui.define('workflow/models/wfstatus/usercard.model',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/utils/url',\r\n  'workflow/controls/usercards/usercard.view'\r\n], function ($, _, Backbone, Url, UserCardView) {\r\n\r\n  'use strict';\r\n\r\n  var UserCardModel = Backbone.Model.extend({\r\n\r\n    constructor: function UserCardModel(options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      // Enable this model for communication with the CS REST API\r\n      if (options && options.connector) {\r\n        options.connector.assignTo(this);\r\n      }\r\n    },\r\n\r\n    url: function () {\r\n\r\n      var baseUrl        = this.connector.connection.url.replace('/v1', '/v2'),\r\n          membersRestUrl = Url.combine(baseUrl, '/members/'),\r\n          assigneeUrl    = Url.combine(membersRestUrl, this.get('userId'));\r\n\r\n      return assigneeUrl;\r\n\r\n    }\r\n  });\r\n  return UserCardModel;\r\n});\r\n\n","csui.define('workflow/controls/usercards/usercards.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'workflow/controls/usercards/usercard.view',\r\n  'css!workflow/controls/usercards/impl/usercard'\r\n], function (_, Marionette, PerfectScrollingBehavior, UsercardView) {\r\n  'use strict';\r\n\r\n  var UsercardCollectionView = Marionette.CollectionView.extend({\r\n\r\n    childView: UsercardView,\r\n\r\n    className: 'wfstatus-usercards-list',\r\n\r\n    constructor: function UsercardCollectionView(options) {\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    childViewOptions: function () {\r\n      return {\r\n        options:this,\r\n        status: this.options.status,\r\n        context: this.options.context,\r\n        originatingView: this.options.originatingView,\r\n        nodeModel: this.options.nodeModel,\r\n        stepCardsListView: this.options.stepCardsListView,\r\n        wfData: this.options.wfData,\r\n        stepType: this.options.stepType\r\n      };\r\n    }\r\n  });\r\n\r\n  return UsercardCollectionView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/controls/usercards/impl/usercards.list',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"wfstatus-usercard-list\\\"> </div>\";\n}});\nHandlebars.registerPartial('workflow_controls_usercards_impl_usercards.list', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('workflow/controls/usercards/usercards.list.view',[\r\n  'require',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/utils/url',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/models/member/member.model',\r\n  'csui/models/member/membercollection',\r\n  'workflow/controls/usercards/usercard.view',\r\n  'workflow/models/wfstatus/usercard.model',\r\n  'workflow/controls/usercards/usercards.view',\r\n  'workflow/utils/workitem.util',\r\n  'hbs!workflow/controls/usercards/impl/usercards.list',\r\n  'css!workflow/controls/usercards/impl/usercard'\r\n], function (require, $, _, Backbone, Marionette, Url, PerfectScrollingBehavior, MemberModel,\r\n    UserCollectionFactory, UsercardView, UserCardModel, UsercardCollectionView, WorkitemUtil,\r\n    template) {\r\n  'use strict';\r\n  var UsercardsView = Marionette.LayoutView.extend({\r\n\r\n    childView: UsercardView,\r\n    className: 'wfstatus-usercard-layout',\r\n    template: template,\r\n    tagName: 'div',\r\n\r\n    regions: {\r\n      usercardLayout: \".wfstatus-usercard-list\"\r\n    },\r\n\r\n    constructor: function UsercardsView(options) {\r\n      options = options || {};\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    onRender: function () {\r\n      var self = this;\r\n\r\n      if (this.model.get('assignedto')) {\r\n        var memberModel = new MemberModel({\r\n          groupId: this.model.get('assignedto').groupId\r\n        }, {connector: this.model.connector});\r\n\r\n        new UserCollectionFactory(undefined, {\r\n          member: memberModel,\r\n          autofetch: true,\r\n          connector: this.model.connector\r\n        }).fetch().done(function (response) {\r\n          //Sorting the member collection based on type i.e group member models will be deposited at bottom\r\n          var userData = _.sortBy(response.results, 'type');\r\n          self.renderUserCards(userData);\r\n        });\r\n\r\n      } else {\r\n\r\n        new UserCardModel({\r\n          userId: this.model.get('userId'),\r\n          connector: this.model.connector\r\n        }).fetch().done(function (response) {\r\n          var userData = response.results.data.properties;\r\n          userData.singleUser = true;\r\n          self.renderUserCards(userData);\r\n\r\n        });\r\n      }\r\n    },\r\n\r\n    renderUserCards: function (userData) {\r\n\r\n      var options = {\r\n            dueDate: this.model.get('task_due_date') ? this.model.get('task_due_date')  : this.model.get('due_date') ,\r\n            status: this.model.get('task_status') ? this.model.get('task_status') : this.model.get('status_key')\r\n          },\r\n          utils = require('workflow/utils/workitem.util'),\r\n          result  = utils.formatStatus(options);\r\n      this.Usercollection = new UserCollectionFactory(userData, {});\r\n      this.usercardCollectionView = new UsercardCollectionView({\r\n        collection: this.Usercollection,\r\n        status: result.status,\r\n        context: this.options.context,\r\n        options: this,\r\n        originatingView: this.options.originatingView,\r\n        nodeModel: this.options.nodeModel,\r\n        stepCardsListView: this.options.stepCardsListView,\r\n        wfData:this.options.wfData,\r\n        stepType: this.options.stepType\r\n      });\r\n      this.completeCollection = new UserCollectionFactory(userData, {});\r\n      this.usercardLayout.show(this.usercardCollectionView);\r\n\r\n    }\r\n\r\n  });\r\n  return UsercardsView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/controls/stepcards/impl/stepcard',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    <div class=\\\"wfstatus-step-assignee\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.assignee || (depth0 != null ? depth0.assignee : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"assignee\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n      \"\n    + this.escapeExpression(((helper = (helper = helpers.assignee || (depth0 != null ? depth0.assignee : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"assignee\",\"hash\":{}}) : helper)))\n    + \"\\r\\n    </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"wfstatus-step-info\\\" taskId=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.task_id || (depth0 != null ? depth0.task_id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"task_id\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n  <div class=\\\"wfstatus-type-icon\\\">\\r\\n    <span class=\\\"wfstatus-title-icon wfstatus-\"\n    + this.escapeExpression(((helper = (helper = helpers.stepIcon || (depth0 != null ? depth0.stepIcon : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stepIcon\",\"hash\":{}}) : helper)))\n    + \"-step-icon\\\" aria-hidden=\\\"true\\\"></span>\\r\\n  </div>\\r\\n  <div class=\\\"wfstatus-step-header\\\">\\r\\n    <div class=\\\"wfstatus-step-name\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.stepName || (depth0 != null ? depth0.stepName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stepName\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.stepName || (depth0 != null ? depth0.stepName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stepName\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"wfstatus-step-status\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.stepStatus || (depth0 != null ? depth0.stepStatus : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stepStatus\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.stepStatus || (depth0 != null ? depth0.stepStatus : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stepStatus\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n  </div>\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.assignee : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n  <div class=\\\"wfstatus-stepcard-action\\\">\\r\\n    <div class=\\\"wfstatus-open-workflow-button\\\">\\r\\n            <span><button class=\\\"binf-btn binf-btn-default\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.OpenWorkflowLabel || (depth0 != null ? depth0.OpenWorkflowLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"OpenWorkflowLabel\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n                          tabindex=\\\"0\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.OpenWorkflowLabel || (depth0 != null ? depth0.OpenWorkflowLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"OpenWorkflowLabel\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n            </span>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_controls_stepcards_impl_stepcard', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('workflow/controls/stepcards/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('workflow/controls/stepcards/nls/root/lang',{\r\n  OpenWorkflow: 'Open Workflow',\r\n  NoStepAvailable: 'The next step is dependent on the user action in the Current Step or there are multiple steps possible',\r\n  systemUserText: 'System'\r\n});\r\n\n","\ncsui.define('css!workflow/controls/stepcards/impl/stepcard',[],function(){});\n","csui.define('workflow/controls/stepcards/stepcard.view',['require', 'csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/utils/contexts/factories/connector',\r\n  'workflow/controls/popover/popover.view',\r\n  'workflow/controls/usercards/usercards.list.view',\r\n  'hbs!workflow/controls/stepcards/impl/stepcard',\r\n  'i18n!workflow/controls/stepcards/nls/lang',\r\n  'css!workflow/controls/stepcards/impl/stepcard'\r\n], function (require, $, _, Backbone, Marionette, ConnectorFactory, PopoverView, UsercardsListView,\r\n    Template,\r\n    Lang) {\r\n  'use strict';\r\n\r\n  var StepCardView = Marionette.ItemView.extend({\r\n\r\n    template: Template,\r\n\r\n    className: 'wfstatus-stepcard',\r\n\r\n    constructor: function WFStatusStepCardView(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      this.stepCardsListView = this.options.stepCardsListView;\r\n      this.model.connector = this.options.context.getObject(ConnectorFactory, this.options);\r\n      this.listenTo(this.model, 'change', this.render);\r\n    },\r\n\r\n    templateHelpers: function () {\r\n\r\n      var data         = {},\r\n          assigneeData = this.model.get('task_assignees'),\r\n          utils        = require('workflow/utils/workitem.util');\r\n\r\n      var stepName        = this.model.get('task_name') === null ? \"\" :\r\n                            this.model.get('task_name'),\r\n          dueDate         = this.model.get('task_due_date') === null ? \"\" :\r\n                            this.model.get('task_due_date'),\r\n          status          = this.model.get('task_status') === null ? \"\" :\r\n                            this.model.get('task_status'),\r\n          assignee        = '',\r\n          taskId          = this.model.get('task_id'),\r\n          statusOptions   = {\r\n            dueDate: dueDate,\r\n            status: status\r\n          },\r\n          formattedStatus = utils.formatStatus(statusOptions);\r\n      if (assigneeData !== null) {\r\n        assigneeData.assignees = assigneeData.assignee;\r\n        assignee = utils.getAssignee(assigneeData);\r\n      }\r\n\r\n      data = {\r\n        taskId: taskId,\r\n        stepStatus: formattedStatus.status,\r\n        stepName: stepName,\r\n        assignee: assignee,\r\n        stepIcon: status\r\n      };\r\n\r\n      _.extend(data, {OpenWorkflowLabel: Lang.OpenWorkflow});\r\n      return data;\r\n    },\r\n\r\n    events: {\r\n      'click .wfstatus-step-assignee': 'showUserPopOver'\r\n    },\r\n\r\n    showUserPopOver: function () {\r\n      var taskAssignees  = this.model.get(\"task_assignees\"),\r\n          assignees      = taskAssignees.assignee,\r\n          context        = this.options.context,\r\n          cardList       = $('.wfstatusitem-step-cards').length !== 0 ?\r\n                           $('.wfstatusitem-step-cards') : $('.wfstatus-stepcard-layout'),\r\n          userCardOffset = cardList.position().top;\r\n\r\n      if (!(assignees.length === 1 && assignees[0].loginName === Lang.systemUserText )) {\r\n    \r\n        if (userCardOffset) {\r\n          $('.wfstatusitem-user-cards').css({\"top\": userCardOffset});\r\n        }\r\n\r\n        this.model.unset(\"userId\");\r\n        this.model.unset(\"assignedto\");\r\n\r\n        if (assignees.length === 1) {\r\n          this.model.set(\"userId\", assignees[0].userId);\r\n        } else {\r\n          this.model.set(\"assignedto\", taskAssignees.assignedto);\r\n        }\r\n\r\n        var assigneeOptions = {\r\n          model: this.model,\r\n          nodeModel: this.model,\r\n          context: context,\r\n          originatingView: this.options.cellView,\r\n          currentView: this,\r\n          stepCardsListView: this.stepCardsListView,\r\n          stepType: this.options.stepType,\r\n          wfData: _.pick(this.model.attributes, 'process_id', 'subprocess_id', 'task_id', 'userId')\r\n        };\r\n        assigneeOptions.popoverCardsListView = new UsercardsListView(assigneeOptions);\r\n        var popoverOptions = {\r\n          delegateTarget: this.$el,\r\n          cardViewOptions: assigneeOptions\r\n        };\r\n        if (assignees.length !== 0) {\r\n\r\n          PopoverView.ShowPopOver(popoverOptions);\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n  });\r\n\r\n  return StepCardView;\r\n\r\n})\r\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/controls/stepcards/impl/stepcard.empty',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"wfstatus-step-info\\\">\\r\\n\\r\\n  <div class=\\\"wfstatus-step-header\\\">\\r\\n    <div class=\\\"wfstatus-empty-message\\\" title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.NoStepAvailable : stack1), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.messages : depth0)) != null ? stack1.NoStepAvailable : stack1), depth0))\n    + \"</div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_controls_stepcards_impl_stepcard.empty', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('workflow/controls/stepcards/stepcard.empty.view',['csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'i18n!workflow/controls/stepcards/nls/lang',\r\n  'hbs!workflow/controls/stepcards/impl/stepcard.empty',\r\n  'css!workflow/controls/stepcards/impl/stepcard'\r\n], function (_, Marionette, lang, StepCardEmptyTemplate) {\r\n  'use strict';\r\n  var EmptyStepCardView = Marionette.ItemView.extend({\r\n    template: StepCardEmptyTemplate,\r\n    className: 'wfstatus-stepcard',\r\n    templateHelpers: function () {\r\n      return {\r\n        messages: {\r\n          NoStepAvailable: lang.NoStepAvailable\r\n        }\r\n      };\r\n    },\r\n    constructor: function EmptyStepCardView() {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    }\r\n  });\r\n  return EmptyStepCardView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/controls/stepcards/impl/stepcards',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"wfstatus-stepcards\\\"></div>\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_controls_stepcards_impl_stepcards', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('workflow/controls/stepcards/stepcards.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'workflow/controls/stepcards/stepcard.view',\r\n  'workflow/controls/stepcards/stepcard.empty.view',\r\n  'hbs!workflow/controls/stepcards/impl/stepcards',\r\n  'css!workflow/controls/stepcards/impl/stepcard'\r\n], function (_, Marionette, StepcardView, StepCardsEmptyView, template) {\r\n  'use strict';\r\n\r\n  var StepcardCollectionView = Marionette.CompositeView.extend({\r\n\r\n    childView: StepcardView,\r\n    childViewOptions: function () {\r\n      return {\r\n        context: this.options.context,\r\n        cellView: this.options.cellView,\r\n        wfStatusInfoModel: this.options.wfStatusInfoModel,\r\n        stepCardsListView: this.options.stepCardsListView,\r\n        stepType: this.options.stepType\r\n      };\r\n    },\r\n    emptyView: StepCardsEmptyView,\r\n    className: 'wfstatus-stepcards-view binf-col-md-12 binf-col-sm-9 binf-col-xs-12',\r\n    template: template,\r\n\r\n    constructor: function StepcardCollectionView(options) {\r\n      Marionette.CompositeView.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  return StepcardCollectionView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/controls/stepcards/impl/stepcards.list',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"wfstatus-stepcard-list\\\"></div>\";\n}});\nHandlebars.registerPartial('workflow_controls_stepcards_impl_stepcards.list', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('workflow/controls/stepcards/stepcards.list.view',[\r\n  'require',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/models/nodes',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'workflow/controls/stepcards/stepcard.view',\r\n  'workflow/controls/stepcards/stepcards.view',\r\n  'hbs!workflow/controls/stepcards/impl/stepcards.list',\r\n  'css!workflow/controls/stepcards/impl/stepcard'\r\n], function (require, $, _, Backbone, Marionette,\r\n    NodeCollection, PerfectScrollingBehavior, StepcardView, StepcardCollectionView,\r\n    template) {\r\n  'use strict';\r\n  var StepcardsListView = Marionette.LayoutView.extend({\r\n\r\n    childView: StepcardView,\r\n    className: 'wfstatus-stepcard-layout',\r\n    template: template,\r\n    tagName: 'div',\r\n\r\n    behaviors: {\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.wfstatus-stepcard-list',\r\n        scrollXMarginOffset: 30,\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15\r\n      }\r\n    },\r\n\r\n    regions: {\r\n      stepcardLayout: \".wfstatus-stepcard-list\"\r\n    },\r\n\r\n    events: {\r\n      'click .wfstatus-stepcard': 'makeStepCardActive',\r\n    },\r\n\r\n    constructor: function StepcardsListView(options) {\r\n      options = options || {};\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    onRender: function () {\r\n      var stepType, stepList;\r\n      if (this.options.listViewMulCurrentSteps) {\r\n        stepList = this.options.model.get(\"parallel_steps\");\r\n        stepType = \"current\";\r\n      } else {\r\n        stepList = this.options.step_list;\r\n        stepType = this.options.stepType;\r\n      }\r\n\r\n      this.stepcollection = new NodeCollection(stepList, {});\r\n      this.stepcardCollectionView = new StepcardCollectionView({\r\n        collection: this.stepcollection,\r\n        context: this.options.context,\r\n        cellView: this.options.cellView,\r\n        stepCardsListView: this,\r\n        wfStatusInfoModel: this.options.wfStatusInfoModel,\r\n        stepType: stepType\r\n      });\r\n      this.stepcardLayout.show(this.stepcardCollectionView);\r\n    },\r\n\r\n    makeDefaultStepCardActive: function () {\r\n      $('.wfstatus-stepcard').eq(0).addClass('active');\r\n      $('.wfstatus-stepcard-layout .wfstatus-title-icon').eq(0).addClass('active');\r\n    },\r\n\r\n    makeStepCardActive: function (event) {\r\n\r\n      if ($('.wfstatus-stepcard.active').length > 0) {\r\n        $('.wfstatus-stepcard-layout .wfstatus-title-icon').eq(0).removeClass('active');\r\n        var Utils = require('workflow/utils/workitem.util');\r\n        var options        = {\r\n              stepCardsListView: this\r\n            },\r\n            popoverOptions = {\r\n              cardViewOptions: options\r\n            };\r\n        Utils.unbindPopover(popoverOptions);\r\n        var $prevActiveEle = $('.wfstatus-stepcard.active').eq(0);\r\n        $($prevActiveEle).removeClass('active');\r\n      }\r\n\r\n      $(event.currentTarget).addClass('active');\r\n    }\r\n\r\n  });\r\n  return StepcardsListView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/wfstatus/impl/wfstatusitem.body',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"      <span class=\\\"wfstatusitem-stopped-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.stoppedLabel || (depth0 != null ? depth0.stoppedLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stoppedLabel\",\"hash\":{}}) : helper)))\n    + \" </span>\\r\\n      <span class=\\\"wfstatusitem-stopped-on-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.onLabel || (depth0 != null ? depth0.onLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"onLabel\",\"hash\":{}}) : helper)))\n    + \" </span>\\r\\n      <span class=\\\"wfstatusitem-stoppeddate\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.stoppedDate || (depth0 != null ? depth0.stoppedDate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stoppedDate\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showDateHeader : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(4, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n},\"4\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"        <span class=\\\"wfstatusitem-date\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.startDate || (depth0 != null ? depth0.startDate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"startDate\",\"hash\":{}}) : helper)))\n    + \" - \"\n    + this.escapeExpression(((helper = (helper = helpers.endDate || (depth0 != null ? depth0.endDate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"endDate\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"6\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return this.escapeExpression(((helper = (helper = helpers.panelEndDate || (depth0 != null ? depth0.panelEndDate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"panelEndDate\",\"hash\":{}}) : helper)));\n},\"8\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    <div class=\\\"wfstatusitem-step-row-main\\\">\\r\\n      <div class=\\\"wfstatusitem-step\\\">\\r\\n        <div class=\\\"wfstatusitem-step-row\\\">\\r\\n          <span class=\\\"wfstatusitem-step-left-label\\\">  </span>\\r\\n          <div type=\\\"next\\\" class=\\\"wfstatusitem-step-circle wfstatusitem-link\\r\\n      wfstatusitem-next-step-icon\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"wfstatusitem-bar\\\"></div>\\r\\n      </div>\\r\\n      <span type=\\\"next\\\" class=\\\"wfstatusitem-step-right-label wfstatusitem-next-step-label\\\">\\r\\n        \"\n    + this.escapeExpression(((helper = (helper = helpers.nextStepLabel || (depth0 != null ? depth0.nextStepLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"nextStepLabel\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n    <div class=\\\"wfstatusitem-step-row-main\\\">\\r\\n      <div class=\\\"wfstatusitem-step\\\">\\r\\n        <div class=\\\"wfstatusitem-step-row\\\">\\r\\n          <span class=\\\"wfstatusitem-step-left-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.currentStepDate || (depth0 != null ? depth0.currentStepDate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"currentStepDate\",\"hash\":{}}) : helper)))\n    + \" </span>\\r\\n          <div type=\\\"current\\\" class=\\\"wfstatusitem-step-circle wfstatusitem-link\\r\\n      wfstatusitem-current-step-icon\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"wfstatusitem-bar\\\"></div>\\r\\n      </div>\\r\\n      <span type=\\\"current\\\" class=\\\"wfstatusitem-step-right-label wfstatusitem-current-step-label\\\">\\r\\n        \"\n    + this.escapeExpression(((helper = (helper = helpers.currentStepLabel || (depth0 != null ? depth0.currentStepLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"currentStepLabel\",\"hash\":{}}) : helper)))\n    + \" </span>\\r\\n    </div>\\r\\n\";\n},\"10\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    <div class=\\\"wfstatusitem-step-row-main\\\">\\r\\n      <div class=\\\"wfstatusitem-step\\\">\\r\\n        <div class=\\\"wfstatusitem-step-row\\\">\\r\\n          <span class=\\\"wfstatusitem-step-left-label\\\"> </span>\\r\\n          <div type=\\\"stopped\\\" class=\\\"wfstatusitem-step-circle wfstatusitem-link\\r\\n      wfstatusitem-stopped-step-icon\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"wfstatusitem-bar\\\"></div>\\r\\n      </div>\\r\\n      <span type=\\\"stopped\\\" class=\\\"wfstatusitem-step-right-label wfstatusitem-stopped-step-label\\\">\\r\\n        \"\n    + this.escapeExpression(((helper = (helper = helpers.stoppedStepLabel || (depth0 != null ? depth0.stoppedStepLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stoppedStepLabel\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n\";\n},\"12\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    <div class=\\\"wfstatusitem-step-row-main\\\">\\r\\n      <div class=\\\"wfstatusitem-step\\\">\\r\\n        <div class=\\\"wfstatusitem-step-row\\\">\\r\\n          <span class=\\\"wfstatusitem-step-left-label\\\"> </span>\\r\\n          <div type=\\\"completed\\\" class=\\\"wfstatusitem-step-circle wfstatusitem-link\\r\\n      wfstatusitem-completed-step-icon\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"wfstatusitem-bar\\\"></div>\\r\\n      </div>\\r\\n      <span type=\\\"completed\\\"\\r\\n            class=\\\"wfstatusitem-step-right-label wfstatusitem-completed-step-label\\\">\\r\\n        \"\n    + this.escapeExpression(((helper = (helper = helpers.completedStepLabel || (depth0 != null ? depth0.completedStepLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"completedStepLabel\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"wfstatusitem-progressbar\\\">\\r\\n\\r\\n  <div class=\\\"wfstatusitem-date\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.stoppedDate : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(3, data, 0)})) != null ? stack1 : \"\")\n    + \"  </div>\\r\\n  <div class=\\\"wfstatusitem-step\\\">\\r\\n    <div class=\\\"wfstatusitem-step-row\\\">\\r\\n      <span class=\\\"wfstatusitem-step-left-label\\\">\"\n    + ((stack1 = helpers.unless.call(depth0,(depth0 != null ? depth0.stoppedDate : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":this.program(6, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"</span>\\r\\n      <div class=\\\"wfstatusitem-step-circle\\\"></div>\\r\\n      <span class=\\\"wfstatusitem-step-right-label\\\"> \"\n    + this.escapeExpression(((helper = (helper = helpers.endLabel || (depth0 != null ? depth0.endLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"endLabel\",\"hash\":{}}) : helper)))\n    + \" </span>\\r\\n    </div>\\r\\n    <div class=\\\"wfstatusitem-bar\\\"></div>\\r\\n  </div>\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showCurrent : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(8, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showStopped : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(10, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showCompleted : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(12, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n  <div class=\\\"wfstatusitem-step\\\">\\r\\n    <div class=\\\"wfstatusitem-step-row\\\">\\r\\n      <span class=\\\"wfstatusitem-step-left-label\\\"> \"\n    + this.escapeExpression(((helper = (helper = helpers.startDate || (depth0 != null ? depth0.startDate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"startDate\",\"hash\":{}}) : helper)))\n    + \" </span>\\r\\n      <div class=\\\"wfstatusitem-step-circle\\\"></div>\\r\\n      <span class=\\\"wfstatusitem-step-right-label\\\"> \"\n    + this.escapeExpression(((helper = (helper = helpers.startLabel || (depth0 != null ? depth0.startLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"startLabel\",\"hash\":{}}) : helper)))\n    + \" </span>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n<div class=\\\"wfstatusitem-step-cards\\\"></div>\\r\\n<div class=\\\"wfstatusitem-user-cards\\\"></div>\";\n}});\nHandlebars.registerPartial('workflow_widgets_wfstatus_impl_wfstatusitem.body', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('workflow/widgets/wfstatus/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('workflow/widgets/wfstatus/impl/nls/root/lang',{\r\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n  dialogTitle: 'Workflow Tracking',\r\n  emptyListText: 'There are no items to display',\r\n  totalMsg: 'Total',\r\n  onTime: 'On time',\r\n  completed: 'Completed',\r\n  late: 'Late',\r\n  stopped: 'Stopped',\r\n  expandLabel: 'Expand',\r\n  dueDateLabel: 'Due date',\r\n  currentStepNameLabel: 'Current step',\r\n  assignedToLabel: 'Assigned to',\r\n  startDateLabel: 'Start date',\r\n  startedLabel: 'Started',\r\n  workflowIDLabel: 'Workflow-ID',\r\n  statusLabel:'Status',\r\n  initiatorLabel:'Initiator',\r\n  wfNameLabel: 'Workflow name',\r\n  NameLabel:'Name',\r\n  allFilterLabel: 'All',\r\n  completedFilterLabel: 'Completed',\r\n  stoppedFilterLabel: 'Stopped',\r\n  lateFilterLabel: 'Late',\r\n  ontimeFilterLabel: 'On Time',\r\n  headerFilterTitle: 'Refine by',\r\n  headerFilterLabel: 'Show items with status',\r\n  days: 'days',\r\n  day: 'day',\r\n  on: 'on',\r\n  dueInLabel: 'due in',\r\n  dueLabel: 'due',\r\n  todayLabel: 'today',\r\n  details:'Details',\r\n  attachments:'Attachments',\r\n  startLabel: 'Start',\r\n  endLabel: 'End',\r\n  currentStepLabel: 'Current Step',\r\n  nextStepLabel: 'Next Step',\r\n  stoppedStepLabel: 'Stopped',\r\n  completedStepLabel: 'Completed Step',\r\n  currentStepsLabel: 'Current Steps',\r\n  completedStepsLabel: 'Completed Steps',\r\n  workflowStopDialogMessage: 'Are you sure you want to stop? A stopped Workflow cannot be resumed.',\r\n  workflowStopDialogTitle: 'Stop Workflow',\r\n  stoppedWorkflowMessage: 'One Workflow has been stopped.',\r\n  stopActionLabel: 'Stop',\r\n  deleteActionLabel: 'Delete',\r\n  deleteWorkflowDialogTitle: 'Delete Workflow',\r\n  deleteWorkflowDialogMessage: 'Are you sure you want to delete? This Workflow will be permanently deleted.',\r\n  deletedWorkflowMessage: 'One Workflow has been deleted.',\r\n  backgroundStepText: 'System Monitored',\r\n  systemUserText: 'System'\r\n});\r\n\n","\ncsui.define('css!workflow/widgets/wfstatus/impl/wfstatus.progress',[],function(){});\n","csui.define('workflow/widgets/wfstatus/impl/wfstatusitem.body.view',[\r\n  'require',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'workflow/controls/stepcards/stepcards.list.view',\r\n  'hbs!workflow/widgets/wfstatus/impl/wfstatusitem.body',\r\n  'i18n!workflow/widgets/wfstatus/impl/nls/lang',\r\n  'css!workflow/widgets/wfstatus/impl/wfstatus.progress'\r\n], function (require, $, _, Marionette, StepcardsListView,\r\n    template, lang) {\r\n  'use strict';\r\n\r\n  var WFStatusItemBodyView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    className: 'wfstatusitem-content',\r\n\r\n    constructor: function WFStatusItemBodyView(options) {\r\n      this.options = options;\r\n      this.model = options.model;\r\n      this.defaults =  {\r\n         currentStepPosition : 191\r\n      };\r\n      $(window).on(\"resize.app\", this.adjustStepCardPosition);\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    ui: {\r\n      nodeIcon: '.wfstatusitem-step-circle',\r\n      nodeLabel: '.wfstatusitem-step-right-label',\r\n      currentStepIcon: '.wfstatusitem-current-step-icon',\r\n      completedStepIcon: '.wfstatusitem-completed-step-icon',\r\n      stoppedStepIcon: '.wfstatusitem-stopped-step-icon',\r\n      nextStepIcon: '.wfstatusitem-next-step-icon',\r\n      currentStepLabel: '.wfstatusitem-current-step-label',\r\n      completedStepLabel: '.wfstatusitem-completed-step-label',\r\n      stoppedStepLabel: '.wfstatusitem-stopped-step-label',\r\n      nextStepLabel: '.wfstatusitem-next-step-label',\r\n      stepCard: '.wfstatus-step-info'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.currentStepIcon, @ui.currentStepLabel,@ui.completedStepIcon,@ui.completedStepLabel, @ui.nextStepIcon, @ui.nextStepLabel, @ui.stoppedStepLabel, @ui.stoppedStepIcon': 'onClickStep'\r\n    },\r\n\r\n    regions: {\r\n      progressbar: '.wfstatusitem-progressbar',\r\n      stepcards: '.wfstatusitem-step-cards'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n\r\n      var utils             = require('workflow/utils/workitem.util'),\r\n          details           = this.model.get('details'),\r\n          showDateHeader    = details.date_initiated && details.end_date,\r\n          stepList          = this.model.get('step_list'),\r\n          currentStepList   = stepList && stepList.current,\r\n          completedStepList = stepList && stepList.completed,\r\n          stoppedStepList   = stepList && stepList.stopped,\r\n          currentStepDate   = (currentStepList && currentStepList.length >= 1) ?\r\n                              utils.dateConversion(currentStepList[0].task_start_date, 'Month DD') :\r\n                              '',\r\n          stoppedDate       = details.stoppedDate ? utils.dateConversion(details.stoppedDate) : '',\r\n          panelDate         = showDateHeader ?\r\n                              this.getDateHeader(details.start_date, details.end_date) : \"\";\r\n\r\n      return {\r\n        \"startLabel\": lang.startLabel,\r\n        \"endLabel\": lang.endLabel,\r\n        \"currentStepLabel\": (currentStepList && currentStepList.length > 1) ?\r\n                            lang.currentStepsLabel : lang.currentStepLabel,\r\n        \"nextStepLabel\": lang.nextStepLabel,\r\n        \"stoppedStepLabel\": lang.stoppedStepLabel,\r\n        \"completedStepLabel\": (completedStepList && completedStepList.length > 1) ?\r\n                              lang.completedStepsLabel : lang.completedStepLabel,\r\n        \"wfName\": details.wf_name,\r\n        \"startDate\": panelDate ? panelDate.startDate : \"\",\r\n        \"panelStartDate\": details.date_initiated,\r\n        \"currentStepDate\": currentStepDate,\r\n        \"endDate\": panelDate ? panelDate.endDate : \"\",\r\n        \"panelEndDate\": details.end_date === \"\" ? \"\" : utils.dateConversion(details.end_date, 'Month DD'),\r\n        \"dueDate\": details.due_date,\r\n        \"status\": details.status_key,\r\n        \"assignee\": details.assignee,\r\n        \"userId\": details.userId,\r\n        \"showDateHeader\": showDateHeader,\r\n        \"showCompleted\": (completedStepList && completedStepList.length !== 0) ? true : false,\r\n        \"showStopped\": (stoppedStepList && stoppedStepList.length !== 0) ? true : false,\r\n        \"showCurrent\": (currentStepList && currentStepList.length !== 0) ? true : false,\r\n        \"stoppedDate\": stoppedDate,\r\n        \"stoppedLabel\": lang.stopped,\r\n        \"onLabel\": lang.on\r\n      };\r\n    },\r\n\r\n    getDateHeader: function (startDate, endDate) {\r\n      var startDateValue = new Date(startDate),\r\n          endDateValue   = new Date(endDate),\r\n          utils          = require('workflow/utils/workitem.util'),\r\n          dateHeader     = {};\r\n      dateHeader.endDate = utils.dateConversion(endDate);\r\n\r\n      if (startDateValue.getFullYear() === endDateValue.getFullYear()) {\r\n        dateHeader.startDate = utils.dateConversion(startDate, 'Month DD');\r\n      } else {\r\n        dateHeader.startDate = utils.dateConversion(startDate);\r\n      }\r\n      return dateHeader;\r\n    },\r\n\r\n    onClickStep: function (event) {\r\n      var Utils = require('workflow/utils/workitem.util');\r\n      Utils.unbindPopover();\r\n      this.removeFocusIcons();\r\n      var currentAction = (event && event.currentTarget) ?\r\n                          event.currentTarget.getAttribute('type') : event,\r\n          position, top, stepList, stepOptions, stepCardHeight;\r\n      this.currentAction = currentAction;\r\n\r\n      if(currentAction){\r\n        switch(currentAction){\r\n        case 'current':\r\n          this.showArrow(this.ui.currentStepIcon, this.ui.currentStepLabel);\r\n          position = this.ui.currentStepLabel.position();\r\n          break;\r\n        case 'completed':\r\n          this.showArrow(this.ui.completedStepIcon, this.ui.completedStepLabel);\r\n          position = this.ui.completedStepLabel.position();\r\n          break;\r\n        case 'stopped':\r\n          this.showArrow(this.ui.stoppedStepIcon, this.ui.stoppedStepLabel);\r\n          position = this.ui.stoppedStepLabel.position();\r\n          break;\r\n        case 'next':\r\n          this.showArrow(this.ui.nextStepIcon, this.ui.nextStepLabel);\r\n          position = this.ui.nextStepLabel.position();\r\n          break;\r\n        }\r\n\r\n        stepList    = this.model.get('step_list')[currentAction];\r\n        stepOptions = {\r\n              \"step_list\": stepList,\r\n              \"context\": this.options.context,\r\n              \"cellView\":this.options.cellView,\r\n              \"wfStatusInfoModel\": this.model,\r\n              \"stepType\": currentAction\r\n            };\r\n\r\n        this.stepcardsListView = new StepcardsListView(stepOptions);\r\n        this.stepcards.show(this.stepcardsListView);\r\n        top = position.top ;\r\n        stepCardHeight = $('.wfstatus-stepcard').height();\r\n        if(top !== 0) {\r\n          top = top -( stepCardHeight / 2 ) + 14;\r\n        }else{\r\n          top = this.defaults.currentStepPosition;\r\n        }\r\n        $('.wfstatusitem-step-cards').css({\"top\": top});\r\n        $('.wfstatus-stepcard').addClass('progress-panel');\r\n        var stepCardListHeight = (top / 16) + 13;\r\n        $('.wfstatus-stepcard-list').css({\"height\": \"calc(100vh - \" + stepCardListHeight + \"rem)\"});\r\n        this.stepcardsListView.makeDefaultStepCardActive();\r\n      }\r\n    },\r\n\r\n    adjustStepCardPosition: function (noOfNodes) {\r\n   \r\n      var progressNodeHeight = $($('.wfstatusitem-body'))[0].offsetHeight;\r\n      if(typeof(noOfNodes) === \"object\"){\r\n          noOfNodes = $('.wfstatusitem-bar').length;\r\n      }\r\n      $('.wfstatusitem-progressbar .wfstatusitem-bar').css({\"height\":(progressNodeHeight - 250)/ noOfNodes});\r\n      $('.wfstatusitem-step-cards').css({'top': $('.wfstatusitem-focus-arrow')[0].offsetTop - 38.5});\r\n      $('.wfstatus-progress-view').css({\"opacity\": '1'});\r\n\r\n      var top                = $('.wfstatusitem-focus-arrow')[0].offsetTop - 30,\r\n          stepCardListHeight = (top / 16) + 11.85;\r\n\r\n      $('.wfstatus-stepcard-list').css({\"height\": \"calc(100vh - \" + stepCardListHeight + \"rem)\"});\r\n    },\r\n\r\n    removeFocusIcons: function () {\r\n      if (this.stepcardsListView) {\r\n        this.stepcardsListView.destroy();\r\n      }\r\n\r\n      this.ui.nodeIcon.removeClass(\"wfstatusitem-focus-icon\");\r\n      this.ui.nodeLabel.removeClass(\"wfstatusitem-focus-arrow\");\r\n    },\r\n\r\n    showArrow: function (stepIcon, stepLabel) {\r\n      if (stepIcon && stepLabel) {\r\n        stepIcon.addClass(\"wfstatusitem-focus-icon\");\r\n        stepLabel.addClass(\"wfstatusitem-focus-arrow\");\r\n      }\r\n    }\r\n  });\r\n\r\n  return WFStatusItemBodyView;\r\n\r\n});\r\n\r\n\n","csui.define('workflow/models/wfstatus/tabpanel.model',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone'\r\n   \r\n  ], function ($, _, Backbone) {\r\n  'use strict';\r\n\r\n  var TabpanelModel = Backbone.Model.extend({\r\n\r\n    constructor: function TabpanelModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var TabpanelCollection = Backbone.Collection.extend({\r\n    model: TabpanelModel,\r\n\r\n    constructor: function TabpanelCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    }\r\n  });\r\n\r\n  return TabpanelCollection;\r\n\r\n});\r\n\n","// An application widget is exposed via a RequireJS module\r\ncsui.define('workflow/widgets/wfstatus/impl/wfstatusitem.tabpanel.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/utils/log',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/controls/tab.panel/tab.panel.view',\r\n  'csui/controls/tab.panel/tab.links.ext.view',\r\n  'csui/controls/tab.panel/tab.links.ext.scroll.mixin'\r\n], function (_, $, Backbone, Marionette, log, NodeModelFactory, TabpanelView, TabLinkCollectionViewExt, TabLinksScrollMixin ) {\r\n  'use strict';\r\n\r\n  var WFStatusItemTabPanelView = TabpanelView.extend({\r\n\r\n    contentView: function (model) {\r\n      return model.get('viewToRender');\r\n    },\r\n\r\n    contentViewOptions: function (model) {\r\n      return model.get('viewToRenderOptions');\r\n    },\r\n\r\n    constructor: function WFStatusItemTabPanelView(options){\r\n      _.defaults(options, {\r\n        tabType: 'binf-nav-pills',\r\n        delayTabContent: false,\r\n        toolbar: true,\r\n        TabLinkCollectionViewClass: TabLinkCollectionViewExt\r\n      });\r\n\r\n      // initialize parent\r\n      TabpanelView.prototype.constructor.apply(this, arguments);\r\n     \r\n    },\r\n\r\n    render: function () {\r\n      TabpanelView.prototype.render.apply(this);\r\n\r\n      this._initializeToolbars();\r\n      this._listenToTabEvent();\r\n\r\n      // delay this a bit since the initial dialog fade in makes the tab to be hidden\r\n      setTimeout(_.bind(this._enableToolbarState, this), 500);\r\n      return this;\r\n    }\r\n  });\r\n\r\n  _.extend(WFStatusItemTabPanelView.prototype, TabLinksScrollMixin);\r\n\r\n  return WFStatusItemTabPanelView;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/wfstatus/impl/wfstatusitem.details',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \" wfstatusitem-action-show \";\n},\"3\":function(depth0,helpers,partials,data) {\n    return \" wfstatusitem-action-hide\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class='wfstatusitem-details \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.permAction : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(3, data, 0)})) != null ? stack1 : \"\")\n    + \"'>\\r\\n\\r\\n  <div class=\\\"wfstatusitem-details-rec\\\">\\r\\n    <div class=\\\"wfstatusitem-details-field wfstatusitem-details-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.NameLabel || (depth0 != null ? depth0.NameLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"NameLabel\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"wfstatusitem-details-field wfstatusitem-details-value\\\"\\r\\n         title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.wfName || (depth0 != null ? depth0.wfName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"wfName\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.wfName || (depth0 != null ? depth0.wfName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"wfName\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"wfstatusitem-details-rec\\\">\\r\\n    <div class=\\\"wfstatusitem-details-field wfstatusitem-details-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.dueDateLabel || (depth0 != null ? depth0.dueDateLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"dueDateLabel\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"wfstatusitem-details-field wfstatusitem-details-value\\\"\\r\\n         title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.dueDate || (depth0 != null ? depth0.dueDate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"dueDate\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.dueDate || (depth0 != null ? depth0.dueDate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"dueDate\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"wfstatusitem-details-rec\\\">\\r\\n    <div class=\\\"wfstatusitem-details-field wfstatusitem-details-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.statusLabel || (depth0 != null ? depth0.statusLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"statusLabel\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"wfstatusitem-details-field wfstatusitem-details-value\\\"\\r\\n         title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.status || (depth0 != null ? depth0.status : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"status\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.status || (depth0 != null ? depth0.status : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"status\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"wfstatusitem-details-rec\\\">\\r\\n    <div class=\\\"wfstatusitem-details-field wfstatusitem-details-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.initiatorLabel || (depth0 != null ? depth0.initiatorLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"initiatorLabel\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"wfstatusitem-details-field wfstatusitem-details-value\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.initiator || (depth0 != null ? depth0.initiator : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"initiator\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n      <span class=\\\"wfstatusitem-mini-profile-avatar\\\">\\r\\n         <span class=\\\"wfstatus-mini-profile-pic\\\">\\r\\n             <div class=\\\"image_user_placeholder wfstatusitem-userprofile-default-avatar binf-hidden\\\"\\r\\n                  title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.initiator || (depth0 != null ? depth0.initiator : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"initiator\",\"hash\":{}}) : helper)))\n    + \"\\\"></div>\\r\\n             <img id=\\\"wfstatusitem-mini-profile-pic-\"\n    + this.escapeExpression(((helper = (helper = helpers.userId || (depth0 != null ? depth0.userId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"userId\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"wfstatusitem-userprofile-img\\r\\n             binf-img-circle-show binf-hidden\\\">\\r\\n             <span class=\\\"wfstatusitem-profile-textname\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.initiator || (depth0 != null ? depth0.initiator : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"initiator\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n         </span>\\r\\n      </span>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"wfstatusitem-details-rec\\\">\\r\\n    <div class=\\\"wfstatusitem-details-field wfstatusitem-details-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.startedLabel || (depth0 != null ? depth0.startedLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"startedLabel\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"wfstatusitem-details-field wfstatusitem-details-value\\\"\\r\\n         title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.startDate || (depth0 != null ? depth0.startDate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"startDate\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.startDate || (depth0 != null ? depth0.startDate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"startDate\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n  </div>\\r\\n  <div class=\\\"wfstatusitem-details-rec\\\">\\r\\n    <div class=\\\"wfstatusitem-details-field wfstatusitem-details-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.workflowIDLabel || (depth0 != null ? depth0.workflowIDLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"workflowIDLabel\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"wfstatusitem-details-field wfstatusitem-details-value\\\"\\r\\n         title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.workflowID || (depth0 != null ? depth0.workflowID : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"workflowID\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.workflowID || (depth0 != null ? depth0.workflowID : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"workflowID\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_widgets_wfstatus_impl_wfstatusitem.details', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('workflow/widgets/wfstatus/impl/wfstatusitem.details.view',[\r\n  'require',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/utils/url',\r\n  'csui/utils/user.avatar.color',\r\n  'workflow/models/wfstatus/usercard.model',\r\n  'hbs!workflow/widgets/wfstatus/impl/wfstatusitem.details',\r\n  'i18n!workflow/widgets/wfstatus/impl/nls/lang'\r\n], function (require, $, _, Marionette, Url, UserAvatarColor, UserCardModel, template, lang) {\r\n\r\n  'use strict';\r\n\r\n  var WFStatusItemDetailsView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    ui: {\r\n      userIcon: '.wfstatusitem-userprofile-img',\r\n      defaultUserIcon: '.wfstatusitem-userprofile-default-avatar'\r\n    },\r\n\r\n    constructor: function WFStatusItemDetailsView(options) {\r\n      Marionette.LayoutView.prototype.constructor.call(this, arguments);\r\n      this.model = options.model;\r\n      this.details = options.model.get('details');\r\n      this.photoUrl = null;\r\n      var self = this;\r\n      if (this.details.userId) {\r\n        new UserCardModel({\r\n          userId: this.details.userId,\r\n          connector: this.model.connector\r\n        }).fetch().done(function (response) {\r\n          var Utils    = require('workflow/utils/workitem.util'),\r\n              userData = response.results.data.properties,\r\n              photoElement = $(\"#wfstatusitem-mini-profile-pic-\" + userData.id);\r\n\r\n          if (userData.photo_url === null) {\r\n            var UserIcon = self.ui.defaultUserIcon;\r\n            UserIcon.text(userData.initials);\r\n            UserIcon.attr(\"style\", \"background: \"+  UserAvatarColor.getUserAvatarColor(userData));\r\n            UserIcon.removeClass('binf-hidden');\r\n          } else {\r\n            self.model.set('photo_url', userData.photo_url);\r\n            Utils.showProfilePic(self.model).done(function (response) {\r\n              var photoUrl     = URL.createObjectURL(response);\r\n              self.ui.userIcon.removeClass('binf-hidden');\r\n              photoElement.attr(\"src\", photoUrl);\r\n            }).fail(function () {\r\n              self.ui.userIcon.addClass('binf-hidden');\r\n            });\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    templateHelpers: function () {\r\n\r\n      var details = this.details,\r\n          permAction = this.model.get('hasPermision');\r\n      return {\r\n        \"NameLabel\": lang.NameLabel,\r\n        \"dueDateLabel\": lang.dueDateLabel,\r\n        \"statusLabel\": lang.statusLabel,\r\n        \"initiatorLabel\": lang.initiatorLabel,\r\n        \"startedLabel\": lang.startedLabel,\r\n        \"workflowIDLabel\": lang.workflowIDLabel,\r\n        \"wfName\": details.wf_name,\r\n        \"startDate\": details.date_initiated,\r\n        \"dueDate\": details.due_date,\r\n        \"status\": details.status_key,\r\n        \"initiator\": details.initiator,\r\n        \"userId\": details.userId,\r\n        \"workflowID\": details.work_workID,\r\n        \"permAction\": permAction\r\n      };\r\n    }\r\n\r\n  });\r\n\r\n  return WFStatusItemDetailsView;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/wfstatus/impl/wfstatusitem.attachments',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"  wfstatusitem-action-show \";\n},\"3\":function(depth0,helpers,partials,data) {\n    return \"  wfstatusitem-action-hide \";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class='wfstatusitem-attachments \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.permAction : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(3, data, 0)})) != null ? stack1 : \"\")\n    + \"'></div>\";\n}});\nHandlebars.registerPartial('workflow_widgets_wfstatus_impl_wfstatusitem.attachments', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('workflow/widgets/wfstatus/impl/wfstatusitem.attachments.view',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/models/nodechildren',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'workflow/widgets/workitem/workitem.attachments/impl/workitem.attachmentlist.view',\r\n  'i18n!workflow/widgets/wfstatus/impl/nls/lang',\r\n  'i18n!workflow/widgets/workitem/workitem.attachments/impl/nls/lang',\r\n  'hbs!workflow/widgets/wfstatus/impl/wfstatusitem.attachments',\r\n  'css!workflow/widgets/wfstatus/impl/wfstatus.progress'\r\n], function ($, _, Marionette, NodeChildrenCollection, GlobalMessage, NodeModelFactory, BlockingView,\r\n    PerfectScrollingBehavior, WorkItemAttachmentList, lang, AttachmentsLang, template) {\r\n  'use strict';\r\n\r\n  var WFStatusItemAttachmentsView = Marionette.LayoutView.extend({\r\n\r\n    template: template,\r\n\r\n    ui: {\r\n      wfAttachments: '.wfstatusitem-attachments'\r\n    },\r\n\r\n    regions: {\r\n      attachmentsRegion: '.wfstatusitem-attachments'\r\n    },\r\n\r\n    constructor: function WFStatusItemAttachmentsView(options) {\r\n      this.options = options || {};\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n      this.model = options.model ? options.model : {};\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      var permAction = this.model.get('hasPermision');\r\n      return {\r\n        \"permAction\": permAction\r\n      };\r\n    },\r\n\r\n    behaviors: {\r\n      ScrollingInstructions: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.wfstatusitem-attachments',\r\n        suppressScrollX: true\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n\r\n      //Block this view until all attachements completely loaded, unblocking is done in\r\n      // success, error callbacks\r\n      BlockingView.imbue(this);\r\n      this.blockActions();\r\n      this.model.set(\"isWFStatusItemAttachment\", true);\r\n      this.renderAttachments();\r\n\r\n    },\r\n    renderAttachments: function () {\r\n\r\n      var attachments         = this.model.get('attachments'),\r\n          attachmentFolderNode = this.options.context.getModel(NodeModelFactory,\r\n              {attributes: {id: attachments.attachment_folder_id}});\r\n\r\n      this.attachmentCollection = new NodeChildrenCollection(undefined, {\r\n        node: attachmentFolderNode,\r\n        includeActions: false,\r\n        delayRestCommands: true,\r\n        expand: ['node'],\r\n        commands: [\"default\", \"open\"]\r\n      });\r\n\r\n      this.attachmentCollection.fetch()\r\n          .done(_.bind(function () {\r\n            if (this.attachmentCollection.length > 0) {\r\n              var attachmentCount = this.attachmentCollection.length;\r\n              $('li').has('a[title=\"Attachments\"]').append( \"<span class='cs-tablink-text'>\" + attachmentCount + \"</span>\" );\r\n              this.attachments = new WorkItemAttachmentList({\r\n                context: this.options.context,\r\n                collection: this.attachmentCollection,\r\n                view: this\r\n              });\r\n              this.attachments.render();\r\n              this.attachmentCollection.delayedActions.fetch()\r\n                  .done(_.bind(function () {\r\n                    this.attachmentsRegion.show(this.attachments);\r\n                  }, this));\r\n            }\r\n          }, this))\r\n          .fail(_.bind(function () {\r\n            //show error message\r\n            GlobalMessage.showMessage('error', AttachmentsLang.ErrorMessageLoadAttachments);\r\n          }, this))\r\n          .always(_.bind(function () {\r\n            this.unblockActions();\r\n          }, this));\r\n\r\n    }\r\n  });\r\n\r\n  return WFStatusItemAttachmentsView;\r\n\r\n});\r\n\n","csui.define('workflow/models/wfstatus/wfstatusinfo.model',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/underscore',\r\n  'csui/utils/url',\r\n  'csui/models/node/node.model'\r\n], function ($, Backbone, _, Url, NodeModel) {\r\n  'use strict';\r\n\r\n  var WFStatusInfoModel = Backbone.Model.extend({\r\n\r\n    constructor: function WFStatusInfoModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n      // Enable this model for communication with the CS REST API\r\n      if (options && options.connector) {\r\n        options.connector.assignTo(this);\r\n      }\r\n    },\r\n\r\n    url: function () {\r\n      var baseUrl      = this.connector.connection.url.replace('/v1', '/v2'),\r\n          getUrl       = Url.combine(baseUrl, 'workflows/status'),\r\n          processId    = this.get('process_id');\r\n      getUrl += \"/processes/\" + processId ;\r\n      return getUrl;\r\n    },\r\n\r\n    parse: function (response) {\r\n\r\n      return response.results;\r\n\r\n    },\r\n\r\n    stopWorkflow: function (options) {\r\n      var baseUrl  = this.connector.connection.url.replace('/v1', '/v2'),\r\n          postUrl  = Url.combine(baseUrl, 'workflows', 'actions'),\r\n          formData = new FormData(),\r\n          content  = {\r\n            process_id: options.process_id,\r\n            subprocess_id: options.subprocess_id,\r\n            action: options.action\r\n          },\r\n          dfd      = $.Deferred();\r\n\r\n      formData.append('body', JSON.stringify(content));\r\n      var ajaxOptions = {\r\n        type: 'POST',\r\n        url: postUrl,\r\n        data: formData,\r\n        contentType: false,\r\n        processData: false\r\n      };\r\n      this.connector && this.connector.extendAjaxOptions(ajaxOptions);\r\n\r\n      $.ajax(ajaxOptions)\r\n          .done(function (resp) {\r\n            dfd.resolve(resp);\r\n          })\r\n          .fail(function (resp) {\r\n            var responseMsg = \"\";\r\n            if (resp.responseText) {\r\n              responseMsg = JSON.parse(resp.responseText);\r\n            }\r\n            dfd.reject(responseMsg);\r\n          });\r\n      return dfd;\r\n    },\r\n\r\n    // This method is used to delete the workflow.\r\n    deleteWorkflow: function (processId) {\r\n      var self        = this,\r\n          connector   = self.connector,\r\n          baseUrl     = connector.connection.url.replace('/v1', '/v2'),\r\n          postUrl     = Url.combine(baseUrl, 'processes', processId),\r\n          type        = 'DELETE',\r\n          deferred    = $.Deferred(),\r\n          ajaxOptions = {\r\n            type: type,\r\n            url: postUrl,\r\n            contentType: false,\r\n            processData: false\r\n          };\r\n      connector && connector.extendAjaxOptions(ajaxOptions);\r\n\r\n      $.ajax(ajaxOptions)\r\n          .done(function (resp) {\r\n            deferred.resolve(resp);\r\n          })\r\n          .fail(function (resp) {\r\n            var responseMsg = \"\";\r\n            if (resp.responseText) {\r\n              responseMsg = JSON.parse(resp.responseText);\r\n            }\r\n            deferred.reject(responseMsg);\r\n          });\r\n      return deferred;\r\n    },\r\n\r\n    reset: function (options) {\r\n      this.clear(options);\r\n\r\n      //reset the different collections\r\n      if (!_.isUndefined(this.wfStatusInfo)) {\r\n        this.wfStatusInfo.reset();\r\n      }\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return true;\r\n    }\r\n  });\r\n\r\n  return WFStatusInfoModel;\r\n\r\n});\r\n\n","csui.define('workflow/models/wfstatus/wfstatusinfo.model.factory',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector',\r\n  'workflow/models/wfstatus/wfstatusinfo.model'\r\n], function ($, _, Backbone, ModelFactory, ConnectorFactory, WFStatusInfoModel) {\r\n  'use strict';\r\n\r\n  var WFStatusInfoModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'wfstatusinfo',\r\n\r\n    constructor: function WFStatusInfoModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      // Obtain the server connector from the application context to share\r\n      // the server connection with the rest of the application; include\r\n      // the options, which can contain settings for dependent factories\r\n      var connector = context.getObject(ConnectorFactory, options);\r\n      this.context = context;\r\n      this.property = new WFStatusInfoModel(options, {\r\n        connector: connector\r\n      });\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n\r\n  return WFStatusInfoModelFactory;\r\n\r\n});\r\n\n","csui.define('workflow/utils/wfstatus.extension.controller',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/utils/log'\r\n], function (_, $, Backbone, log) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Work item extensions controller.\r\n   * Base object for other extension controller for the workflow Smart UI.\r\n   *\r\n   * @param options\r\n   * @constructor\r\n   */\r\n  function WfstatusExtensionController(options) {\r\n    this.context = options.context;\r\n  }\r\n\r\n  // Attach all inheritable methods to the Controller prototype.\r\n  _.extend(WfstatusExtensionController.prototype, {\r\n\r\n    /**\r\n     * Initialize is an empty function by default. Override it with your own\r\n     * initialization logic.\r\n     */\r\n    initialize: function () {},\r\n\r\n    /**\r\n     * Validates the controller for the given data package type and sub type\r\n     * @param type Type of the data package\r\n     * @param sub_type Sub type of the data package\r\n     * @returns {boolean} true when this controller can handle this data package, false if not\r\n     */\r\n    validate: function (type, sub_type) {\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Execute method for the controller.\r\n     * It does the main work for the controller and returns a promise object\r\n     * which is resolved when the controller work is done (e.g. a model is loaded)\r\n     * The parameter of the promise done method contains an member viewToShow\r\n     * this is the view which has to be shown in the work item view.\r\n     * @param options Parameters for the execution method, integration point, model, data package data, parent view, ...\r\n     * @return {promise} Returns a promise which will be resolved when the necessary actions are done.\r\n     *                   The argument of the done method has to contain the view which has to be displayed in the property viewToShow\r\n     */\r\n    execute: function (options) {\r\n      var deferred = $.Deferred();\r\n\r\n      // resolve the dummy promise\r\n      deferred.resolve();\r\n\r\n      // return the dummy promise\r\n      return deferred.promise();\r\n    },\r\n\r\n    /**\r\n     * ExcuteAction function for the controller.\r\n     *\r\n     * @param options Parameters for the function, including workitem model, executed action, ...\r\n     * @returns {*}\r\n     */\r\n    executeAction: function (options) {\r\n      var deferred = $.Deferred();\r\n\r\n      // resolve the dummy promise\r\n      deferred.resolve();\r\n\r\n      // return the dummy promise\r\n      return deferred.promise();\r\n    },\r\n\r\n    /**\r\n     * customizeFooter function for the controller.\r\n     *\r\n     * @param options Parameters for the function, including buttonlist and workitem model\r\n     * action, ...\r\n     * @returns {*}\r\n     */\r\n    customizeFooter: function (options) {\r\n      var deferred = $.Deferred();\r\n\r\n      // resolve the dummy promise\r\n      deferred.resolve();\r\n\r\n      // return the dummy promise\r\n      return deferred.promise();\r\n    }\r\n  });\r\n\r\n  WfstatusExtensionController.extend = Backbone.Model.extend;\r\n\r\n  // Definitions of the possible extension points\r\n  WfstatusExtensionController.ExtensionPoints = {\r\n    // Show an additional side bar view\r\n    AddSidebar: 1,\r\n   \r\n  };\r\n\r\n  return WfstatusExtensionController;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/wfstatus/impl/wfstatus.progress',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <div class=\\\"cs-dialog binf-modal-footer binf-col-md-3 binf-col-sm-3 binf-hidden-xs \\\">\\r\\n    <button class=\\\"binf-btn binf-btn-primary wfstatusitem-\"\n    + this.escapeExpression(((helper = (helper = helpers.wfstatusAction || (depth0 != null ? depth0.wfstatusAction : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"wfstatusAction\",\"hash\":{}}) : helper)))\n    + \"-btn\\\"\\r\\n            title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.wfstatusActionLabel || (depth0 != null ? depth0.wfstatusActionLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"wfstatusActionLabel\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.wfstatusActionLabel || (depth0 != null ? depth0.wfstatusActionLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"wfstatusActionLabel\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n  </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"wfstatusitem-progress-panel\\\">\\r\\n  <div class=\\\"wfstatusitem-body binf-col-md-9 binf-col-sm-9 binf-col-xs-12\\\"></div>\\r\\n  <div class=\\\"wfstatusitem-tabpanel binf-col-md-3 binf-col-sm-3 binf-hidden-xs\\\"></div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.permAction : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"</div>\";\n}});\nHandlebars.registerPartial('workflow_widgets_wfstatus_impl_wfstatus.progress', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n","csui.define('workflow/widgets/wfstatus/impl/wfstatus.progress.view',[\r\n  'require',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'csui/controls/progressblocker/blocker',\r\n  'workflow/widgets/wfstatus/impl/wfstatusitem.body.view',\r\n  'workflow/models/wfstatus/tabpanel.model',\r\n  'workflow/widgets/wfstatus/impl/wfstatusitem.tabpanel.view',\r\n  'workflow/widgets/wfstatus/impl/wfstatusitem.details.view',\r\n  'workflow/widgets/wfstatus/impl/wfstatusitem.attachments.view',\r\n  'workflow/models/wfstatus/wfstatusinfo.model.factory',\r\n  'workflow/utils/wfstatus.extension.controller',\r\n  'hbs!workflow/widgets/wfstatus/impl/wfstatus.progress',\r\n  'i18n!workflow/widgets/wfstatus/impl/nls/lang',\r\n  'csui-ext!workflow/widgets/wfstatus/impl/wfstatus.progress.view',\r\n  'css!workflow/widgets/wfstatus/impl/wfstatus.progress'\r\n \r\n], function (require, $, _, Backbone, Marionette, ModalAlert, GlobalMessage, BlockingView, WFStatusItemBodyView, TabpanelCollection,\r\n    WFStatusItemTabPanelView, WFStatusItemDetailsView, WFStatusItemAttachmentsView,\r\n    WFStatusInfoModelFactory, WfstatusExtensionController, template, lang, viewExtensions) {\r\n  'use strict';\r\n\r\n  var WFStatusProgressView = Marionette.LayoutView.extend({\r\n\r\n    className: 'wfstatus-progress-view',\r\n\r\n    template: template,\r\n\r\n    regions: {\r\n      body: '.wfstatusitem-body',\r\n      tabPanel: '.wfstatusitem-tabpanel'\r\n    },\r\n    events: {\r\n      'click .wfstatusitem-body, .wfstatusitem-tabpanel': 'destroyUserCardPopovers',\r\n      'click .wfstatusitem-stop-btn': 'stopWorkflow',\r\n      'click .wfstatusitem-delete-btn' : 'deleteWorkflow'\r\n    },\r\n    constructor: function WFStatusProgressView(options) {\r\n\r\n      var Utils        = require('workflow/utils/workitem.util'),\r\n          cellModel    = options.model,\r\n          processId    = cellModel.get('process_id') ? cellModel.get('process_id') : 0,\r\n          subProcessId = cellModel.get('subprocess_id') ? cellModel.get('subprocess_id') : 0,\r\n          taskId       = cellModel.get('task_id') ? cellModel.get('task_id') : 0,\r\n          wfStatusInfo = options.context.getModel(WFStatusInfoModelFactory);\r\n\r\n      // Used to render the progress dialog after deleting the workflow\r\n      this.utils = Utils;\r\n\r\n      wfStatusInfo.set({'process_id': processId, 'subprocess_id': subProcessId, 'task_id': taskId});\r\n      this.dataFetched = false;\r\n\r\n        // Load the extensions\r\n      var ext = viewExtensions;\r\n      // if provided on the options use it, necessary for the Unit Tests.\r\n      if (options.viewExtensions) {\r\n        ext = options.viewExtensions;\r\n      }\r\n      this.extensions = _.chain(ext)\r\n          .flatten(true)\r\n          .map(function (ViewExtension) {\r\n            return new ViewExtension(options);\r\n          }).value();\r\n\r\n\r\n      wfStatusInfo.fetch()\r\n          .done(_.bind(function () {\r\n            this.dataFetched = true;\r\n            var wfDetails    = wfStatusInfo.get('wf_details'),\r\n                displayName  = wfDetails.initiator.firstName + \" \" + wfDetails.initiator.lastName,\r\n                loginName    = wfDetails.initiator.loginName,\r\n                dueDateVal   = wfDetails.due_date,\r\n                startDateVal = wfDetails.date_initiated,\r\n                stoppedDate  = wfDetails.stopped_date,\r\n                statusResult = Utils.formatStatus({\r\n                  dueDate: dueDateVal,\r\n                  status: wfDetails.status\r\n                }),\r\n                workID = wfDetails.work_workID,\r\n                details = {\r\n                  wf_name: wfDetails.wf_name,\r\n                  due_date: (dueDateVal) ? Utils.dateConversion(dueDateVal) : '',\r\n                  status_key: statusResult.status,\r\n                  initiator: displayName === \" \" ? loginName : displayName,\r\n                  date_initiated: (startDateVal) ? Utils.dateConversion(startDateVal) : '',\r\n                  userId: wfDetails.initiator.userId,\r\n                  end_date: dueDateVal,\r\n                  start_date: startDateVal,\r\n                  work_workID: workID,\r\n                  stoppedDate: stoppedDate,\r\n                  wfStatusKey : wfDetails.status\r\n                },\r\n                perm = wfStatusInfo.get('permissions');\r\n            wfStatusInfo.set('details', details);//Once backend ready with details,we can remove\r\n            this.model = wfStatusInfo;\r\n            this.viewOptions = {\r\n              model: this.model,\r\n              context: this.options.context,\r\n              cellView: this.options.cellView\r\n            };\r\n\r\n            this.tabpanelCollection = new TabpanelCollection([{\r\n              title: lang.details,\r\n              viewToRender: WFStatusItemDetailsView,\r\n              viewToRenderOptions: this.viewOptions,\r\n              id: _.uniqueId('wfstatusitem-tab')\r\n            }]);\r\n            if (perm && perm.SeeDetail && (!_.isEmpty(this.model.get(\"attachments\")))) {\r\n              this.tabpanelCollection.add({\r\n                title: lang.attachments,\r\n                viewToRender: WFStatusItemAttachmentsView,\r\n                viewToRenderOptions: this.viewOptions,\r\n                id: _.uniqueId('wfstatusitem-tab')\r\n              });\r\n            }\r\n            var dataPackages = this.model.get('data_packages');\r\n    \r\n            // browse packages to evaluate & execute them.\r\n            var allPackagesExecuted = [];\r\n            _.each(dataPackages, function (dataPackage) {\r\n  \r\n              // create a deferred object and add it to the promises list\r\n              var packageExecuted = $.Deferred();\r\n              allPackagesExecuted.push(packageExecuted.promise());\r\n  \r\n              // find the first extension controller supporting the current package\r\n              var controller = _.find(this.extensions, function (ext) {\r\n                return ext.validate(dataPackage.TYPE, dataPackage.SUBTYPE);\r\n              });\r\n  \r\n              // execute the controller with sidebar extension point target\r\n              if (controller) {\r\n                controller.execute({\r\n                  extensionPoint: WfstatusExtensionController.ExtensionPoints.AddSidebar,\r\n                  model: this.model,\r\n                  data: dataPackage.data,\r\n                  parentView: this\r\n                }).done(_.bind(function (args) {\r\n                  //add package type and sub_Type for the tabpanelcollection\r\n                  if (args) {\r\n                    args.type = dataPackage.type;\r\n                    args.sub_type = dataPackage.sub_type;\r\n  \r\n                    // the sidebar integrations requires the view type / options instead of the\r\n                    // already instantiated view object.\r\n                    if (args.viewToRender) {\r\n                      // add to the tab panel collection\r\n                      this.tabpanelCollection.add(_.extend(args, { id: _.uniqueId('workflow-tab') }));\r\n                    }\r\n                  }\r\n                  packageExecuted.resolve();\r\n                }, this)).fail(_.bind(function (args) {\r\n                  var errorMsg = lang.ErrorMessageLoadExtension;\r\n                  if (args && args.errorMsg && args.errorMsg.length > 0) {\r\n                    errorMsg = args.errorMsg;\r\n                  }\r\n                  // show error message\r\n                  GlobalMessage.showMessage('error', errorMsg);\r\n                  packageExecuted.resolve();\r\n                }, this));\r\n              }\r\n              else {\r\n                // resolve the promise\r\n                packageExecuted.resolve();\r\n              }\r\n            }, this);\r\n  \r\n            this.render();\r\n          }, this));\r\n\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n\r\n    },\r\n\r\n    templateHelpers: function () {\r\n\r\n      if (this.model.get('details')) {\r\n        var model  = this.model,\r\n            status = model.get('details').wfStatusKey,\r\n            perm   = this.model.get('permissions'),\r\n            actionName, wfstatusActionLabel, permAction;\r\n\r\n        if (status && (status === 'stopped' || status === 'completed')) {\r\n          if (perm.Delete) {\r\n            actionName = 'delete';\r\n            wfstatusActionLabel = lang.deleteActionLabel;\r\n          }          \r\n        } else if (perm.Stop) {\r\n          actionName = 'stop';\r\n          wfstatusActionLabel = lang.stopActionLabel;\r\n        }\r\n        permAction = actionName ? true : false;\r\n        this.model.set({'hasPermision': permAction, 'hasReassignAction': perm.ChangeAttr}, {silent:true});\r\n        return {\r\n          wfstatusAction: actionName,\r\n          wfstatusActionLabel: wfstatusActionLabel,\r\n          permAction: permAction\r\n        };\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n      if (this.dataFetched) {\r\n        // render the progresspanel body\r\n        this._renderBody();\r\n\r\n        // render the progresspanel TabPanel\r\n        this._renderTabPanel();\r\n      }\r\n      BlockingView.imbue(this);\r\n    },\r\n\r\n    destroyUserCardPopovers: function (e) {\r\n      if ($(\".wfstatus-popover\").length > 0) {\r\n        var Utils = require('workflow/utils/workitem.util');\r\n        Utils.unbindPopover();\r\n      }\r\n    },\r\n\r\n    stopWorkflow: function () {\r\n      var self = this;\r\n      var options = {centerVertically: true, buttons: ModalAlert.buttons.OkCancel};\r\n      ModalAlert.confirmQuestion(lang.workflowStopDialogMessage, lang.workflowStopDialogTitle,\r\n          options)\r\n          .always(function (result) {\r\n            if (result) {\r\n              self.blockActions();\r\n              self._acceptStopWorkflow();\r\n            }\r\n          });\r\n    },\r\n\r\n    _acceptStopWorkflow: function () {\r\n      var self    = this,\r\n          options = {\r\n            process_id: this.model.get('process_id'),\r\n            subprocess_id: this.model.get('process_id'),\r\n            action: 'stop'\r\n          };\r\n      this.model.stopWorkflow(options).done(function (response) {\r\n        var results = response.results;\r\n        self._updateProgressPanel(results);\r\n        // show success message\r\n        GlobalMessage.showMessage('success', lang.stoppedWorkflowMessage);\r\n      }).fail(function (response) {\r\n        // evaluate error\r\n        var error;\r\n        if (response.errorDetail) {\r\n          error = response.errorDetail;\r\n        } else {\r\n          error = response.error;\r\n        }\r\n        ModalAlert.showError(error);\r\n      }).always(_.bind(function () {\r\n        this.unblockActions();\r\n      }, this));\r\n    },\r\n\r\n    _updateProgressPanel: function (results) {\r\n      var wfDetails = results.wf_details,\r\n        statusResult = this.utils.formatStatus({ status: wfDetails.status });\r\n      this.model.set({\r\n        attachments: results.attachments,\r\n        step_list: results.step_list,\r\n        wf_details: wfDetails\r\n      });\r\n\r\n      _.extend(this.model.get('details'),\r\n          {\r\n            status_key: statusResult.status,\r\n            workflowStopped: true,\r\n            stoppedDate: wfDetails.stopped_date,\r\n            wfStatusKey: wfDetails.status\r\n          });\r\n      this.render();\r\n    },\r\n\r\n    updateWfstatusViews: function (options) {\r\n      var self     = this,\r\n          model    = self.options.cellView.model,\r\n          wfstatus = model.collection.wfstatus,\r\n          wfstatusModel, wfstatusExtendedView;\r\n\r\n      wfstatusModel = wfstatus ? wfstatus : self.wfstatusModel;\r\n\r\n      //updating wfstatus donut chart view\r\n      wfstatusModel.fetch().done(function (response) {\r\n        self.utils.progressDialog.trigger('destroy', function () {\r\n          //updating wfstatus list view\r\n          wfstatusExtendedView = self.options.cellView.options.tableView.options.originatingView.options.extendedView;\r\n          wfstatusExtendedView.render();\r\n        });\r\n      });\r\n    },\r\n\r\n    deleteWorkflow: function (event) {\r\n      var self    = this,\r\n          options = {centerVertically: true, buttons: ModalAlert.buttons.OkCancel};\r\n      ModalAlert.confirmQuestion(lang.deleteWorkflowDialogMessage, lang.deleteWorkflowDialogTitle,\r\n          options)\r\n          .always(function (result) {\r\n            if (result) {\r\n              self.blockActions();\r\n              self._onDeleteWorkflow();\r\n            }\r\n          });\r\n    },\r\n\r\n    // This method is used to delete the workflow\r\n    _onDeleteWorkflow: function () {\r\n      var self  = this,\r\n          model = self.model;\r\n      model.deleteWorkflow(model.get('process_id')).done(function (response) {\r\n        self.updateWfstatusViews();\r\n        GlobalMessage.showMessage('success', lang.deletedWorkflowMessage);\r\n\r\n      }).fail(function (response) {\r\n        var error;\r\n        if (response.errorDetail && response.errorDetail === \"ErrCode_Accept_Task\") {\r\n          error = lang.MemberAcceptErrorDescription;\r\n        } else {\r\n          error = response.error;\r\n        }\r\n        ModalAlert.showWarning(error, lang.MemberAcceptErrorTitle).always(function () {\r\n          self._leaveWorkitemPerspective();\r\n        });\r\n      }).always(function () {\r\n        self.unblockActions();\r\n      });\r\n    },\r\n\r\n    onDomRefresh: function () {\r\n\r\n      if ($('.wfstatusitem-bar').length > 0 && ($('.wfstatus-progress-view')[0].offsetHeight) > 0) {\r\n        var stepList                = this.model.get('step_list'),\r\n            currentStepListLength   = (stepList && stepList.current) ? stepList.current.length : 0,\r\n            stoppedStepListLength   = (stepList && stepList.stopped) ? stepList.stopped.length : 0,\r\n            completedStepListLength = (stepList && stepList.completed) ? stepList.completed.length :\r\n                                      0,\r\n            type                    = 'current',\r\n            noOfNodes;\r\n\r\n        if (currentStepListLength === 0 && stoppedStepListLength === 0) {\r\n          noOfNodes = 2;\r\n          type = 'completed';\r\n        } else {\r\n          if (stoppedStepListLength !== 0) {\r\n            type = 'stopped';\r\n            if (completedStepListLength === 0) {\r\n              noOfNodes = 2;\r\n            } else {\r\n              noOfNodes = 3;\r\n            }\r\n          } else {\r\n            if (completedStepListLength === 0) {\r\n              noOfNodes = 3;\r\n            } else {\r\n              noOfNodes = 4;\r\n            }\r\n          }\r\n        }\r\n\r\n        this.body.currentView.onClickStep(type);\r\n        this.body.currentView.adjustStepCardPosition(noOfNodes);\r\n      }\r\n    },\r\n\r\n    _renderBody: function () {\r\n      this.body.show(new WFStatusItemBodyView(this.viewOptions));\r\n    },\r\n\r\n    _renderTabPanel: function () {\r\n\r\n      if (this.tabpanelCollection.models.length > 0) {\r\n        var wfStatusItemTabPanelView = new WFStatusItemTabPanelView({\r\n          collection: this.tabpanelCollection\r\n        });\r\n        this.tabPanel.show(wfStatusItemTabPanelView);\r\n      }\r\n    },\r\n    onBeforeDestroy: function () {\r\n      $(window).off(\"resize.app\");\r\n      this.model.reset();\r\n      var Utils = require('workflow/utils/workitem.util');\r\n      Utils.unbindPopover();\r\n    }\r\n\r\n  });\r\n\r\n  return WFStatusProgressView;\r\n});\r\n\n","csui.define('workflow/utils/workitem.util',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/utils/url',\r\n  'csui/utils/log',\r\n  'csui/utils/commands/open.node.perspective',\r\n  'csui/models/nodes',\r\n  'csui/utils/commandhelper',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/controls/dialog/dialog.view',\r\n  'workflow/widgets/wfstatus/impl/wfstatus.progress.view',\r\n  'workflow/controls/popover/popover.view',\r\n  'i18n!workflow/widgets/wfstatus/impl/nls/lang'\r\n], function (_, $, Backbone, Url, log, OpenNodePerspective, NodeCollection, CommandHelper,\r\n    NodeModelFactory, DialogView, WFStatusProgressView, PopoverView, lang) {\r\n  'use strict';\r\n  var Utils = {\r\n    constants: {\r\n      WFSTATUS_ONTIME: \"ontime\",\r\n      WFSTATUS_COMPLETED: \"completed\",\r\n      WFSTATUS_LATE: \"workflowlate\",\r\n      WFSTATUS_STOPPED: \"stopped\",\r\n      URI_DELIMITER: \":\",\r\n      AT_SIGN_SYMBOL: \"@\",\r\n      URI_PREFIX: \"sip\"\r\n    },\r\n\r\n    dateConversion: function (date, format) {\r\n      var dateValue = new Date(date),\r\n          formatedDate;\r\n      switch (format) {\r\n      case 'Month DD':\r\n        formatedDate = lang.months[dateValue.getMonth()] + \" \" + dateValue.getDate();\r\n        break;\r\n      default:\r\n        formatedDate = lang.months[dateValue.getMonth()] + \" \" + dateValue.getDate() + \", \" +\r\n                       dateValue.getFullYear();\r\n        break;\r\n      }\r\n      return formatedDate;\r\n    },\r\n\r\n    getAssignee: function (options) {\r\n\r\n      var assignees = options.assignees,\r\n          assignee  = '',\r\n          fullName  = '';\r\n\r\n      if (assignees && assignees.length > 1) {\r\n        fullName = (assignees[0].firstName + \" \" + assignees[0].lastName).trim();\r\n        if (fullName !== \"\") {\r\n          assignee = !(options.isWfstatusAssigneeColumn || options.isReassign) ? fullName + \" +\" + (assignees.length - 1) :\r\n                     fullName;\r\n        } else if (options.assignedto) {\r\n          assignee = !(options.isWfstatusAssigneeColumn || options.isReassign) ?\r\n                     options.assignedto.groupName + \" + \" + assignees.length :\r\n                     options.assignedto.groupName;\r\n        }\r\n      } else if (assignees.length === 1) {\r\n        if (options.assignedto && options.assignedto.groupName !== '') {\r\n          fullName = (assignees[0].firstName + \" \" + assignees[0].lastName).trim();\r\n          if (fullName !== \"\") {\r\n            assignee = fullName;\r\n          } else {\r\n            assignee = options.assignedto.groupName;\r\n          }\r\n        } else {\r\n          assignee = (assignees[0].firstName + \" \" + assignees[0].lastName).trim();\r\n          assignee = assignee === \"\" ? assignees[0].loginName : assignee;\r\n        }\r\n\r\n      }\r\n      return assignee;\r\n\r\n    },\r\n\r\n    displayWfstatusItemProgresspanel: function (options) {\r\n      this.unbindPopover();\r\n      this.progressDialog = new DialogView();\r\n      this.progressDialog.options.title = options.model.get('wf_name');\r\n      this.progressDialog.options.iconRight = 'wfstatusitem-no-icon-right';\r\n      this.progressDialog.options.iconLeft = 'title-icon mime_workflow_status';\r\n      this.progressDialog.options.className = 'wfstatus-progress-view-dialog';\r\n      this.progressDialog.options.actionIconLeft = \"arrow_back wfstatus-progress-view-dialog-back\";\r\n      this.progressDialog.options.largeSize = true;\r\n      this.progressDialog.options.view = new WFStatusProgressView(options);\r\n      this.progressDialog.show();\r\n      var that = this;\r\n      this.progressDialog.$el.find('.binf-modal-content').addClass(\"wfstatus-model-content\");\r\n      this.progressDialog.listenTo(this.progressDialog, 'destroy', function (callback) {\r\n        callback && callback();\r\n      });\r\n      // Back button\r\n      var progressViewBackButtonEle = $(\".wfstatus-progress-view-dialog-back\").attr(\"tabindex\", \"0\");\r\n      progressViewBackButtonEle.on(\"click\", function () {\r\n        var view    = that.progressDialog.options.view,\r\n            details = view.model.get('details');\r\n        if (details && details.workflowStopped) {\r\n          options.progressDialog = that.progressDialog;\r\n          view.updateWfstatusViews(options);\r\n        } else {\r\n          view.destroy();\r\n          that.progressDialog.remove();\r\n        }\r\n      });\r\n\r\n      $(window).off(\"resize.app\");\r\n\r\n      // Close button\r\n      var progressViewCloseButtonEle = $(\".wfstatusitem-no-icon-right\");\r\n      progressViewCloseButtonEle.hide();\r\n    },\r\n\r\n    unbindPopover: function (options) {\r\n      if (options) {\r\n        $(options.delegateTarget).css(\"overflow\", \"\");\r\n      }\r\n\r\n      $(\"[id*=wfstatus-popover-mask]\").remove();\r\n      var popOverLength           = $(\".wfstatus-popover\").length,\r\n          listViewMulCurrentSteps = options && options.cardViewOptions.stepCardsListView ?\r\n                                    options.cardViewOptions.stepCardsListView.getOption(\r\n                                        \"listViewMulCurrentSteps\") :\r\n                                    undefined,\r\n          unbindPopoverEvents     = false;\r\n      if (popOverLength >= 1) {\r\n        if ((popOverLength !== 1) && listViewMulCurrentSteps) {\r\n          unbindPopoverEvents = true;\r\n          $(\"[id*=wfstatus-popover-pointer]\").eq(1).remove();\r\n          $(\"[id*=wfstatus-popover]\").eq(2).remove();\r\n        } else if (!listViewMulCurrentSteps) {\r\n          unbindPopoverEvents = false;\r\n          $(\"[id*=wfstatus-popover]\").remove();\r\n        }\r\n      } else {\r\n        unbindPopoverEvents = false;\r\n        $(\"[id*=wfstatus-popover]\").remove();\r\n      }\r\n\r\n      if (unbindPopoverEvents) {\r\n        PopoverView.UnbindPopoverEvents();\r\n      }\r\n\r\n    },\r\n\r\n    formatStatus: function (options) {\r\n\r\n      var value        = options.status,\r\n          dueDate      = options.dueDate,\r\n          styleclass   = \"wfstatus-\" + value + \"-icon\",\r\n          current_date = new Date(Date.now()),\r\n          date_difference,\r\n          status,\r\n          due_date;\r\n\r\n      if (value === this.constants.WFSTATUS_ONTIME) {\r\n        due_date = dueDate ? new Date(dueDate) : '';\r\n        date_difference = (due_date !== '') ? Math.round(\r\n            due_date.getDifference(current_date) / 1000 /\r\n            60 / 60 / 24) : undefined;\r\n        if (date_difference === 0) {\r\n          status = lang.dueLabel + ' ' + lang.todayLabel;\r\n        } else if (date_difference === 1) {\r\n          status = lang.dueInLabel + ' ' + date_difference + ' ' + lang.day;\r\n        } else if (date_difference <= 5) {\r\n          status = lang.dueInLabel + ' ' + date_difference + ' ' + lang.days;\r\n        } else {\r\n          status = (lang.onTime).toLowerCase();\r\n        }\r\n\r\n      } else if (value === this.constants.WFSTATUS_COMPLETED) {\r\n        status = (lang.completed).toLowerCase();\r\n      } else if (value === this.constants.WFSTATUS_LATE) {\r\n        due_date = dueDate ? new Date(dueDate) : '';\r\n        date_difference = (due_date !== '') ?\r\n                          Math.round(current_date.getDifference(due_date) / 1000 / 60 / 60 / 24) :\r\n                          undefined;\r\n        if (date_difference === 1) {\r\n          status = date_difference + ' ' + lang.day + ' ' + lang.lateFilterLabel.toLowerCase();\r\n        } else if (date_difference > 1 && date_difference <= 5) {\r\n          status = date_difference + ' ' + lang.days + ' ' +\r\n                   lang.lateFilterLabel.toLowerCase();\r\n        } else {\r\n          status = (lang.late).toLowerCase();\r\n        }\r\n      } else if (value === this.constants.WFSTATUS_STOPPED) {\r\n        status = (lang.stopped).toLowerCase();\r\n      } \r\n\r\n      return {\r\n        status: status,\r\n        styleclass: styleclass\r\n      };\r\n    },\r\n\r\n    showProfilePic: function (model) {\r\n      var deferred = $.Deferred();\r\n      if (model.get(\"photo_url\")) {\r\n        var userData = model.get(\"photo_url\");\r\n        var picUrl               = userData.substring(6),\r\n            photoUrl             = Url.combine(\r\n                (model.connector.connection.url), picUrl),\r\n            getCategoriesOptions = model.connector.extendAjaxOptions({\r\n              url: photoUrl,\r\n              method: 'GET',\r\n              dataType: 'binary'\r\n            });\r\n        $.ajax(getCategoriesOptions)\r\n            .done(function (response) {\r\n              deferred.resolve(response);\r\n            }).fail(function (response) {\r\n              deferred.reject(response);\r\n            });\r\n      }\r\n      return deferred.promise();\r\n    },\r\n\r\n    getChatURI: function (options) {\r\n\r\n      var uriPrefix = options.uriPrefix ? options.uriPrefix :\r\n                      this.constants.URI_PREFIX,\r\n          uri       = uriPrefix +\r\n                      this.constants.URI_DELIMITER + options.tguser +\r\n                      this.constants.AT_SIGN_SYMBOL + options.domain;\r\n      return uri;\r\n      \r\n    },\r\n\r\n    getWorkflowtype: function (filterWorkflows) {\r\n      var isFilterInitiated = true;\r\n      var isFilterManaged = true;\r\n      var filterWorkflowtype = 'Both';\r\n      if (filterWorkflows) {\r\n        isFilterInitiated = filterWorkflows.filterInitiated;\r\n        isFilterManaged = filterWorkflows.filterManaged;\r\n      }\r\n      if (isFilterInitiated && isFilterManaged) {\r\n        filterWorkflowtype = 'Both';\r\n      } else if (isFilterInitiated) {\r\n        filterWorkflowtype = 'Initiated';\r\n      } else if (isFilterManaged) {\r\n        filterWorkflowtype = 'Managed';\r\n      }\r\n      return filterWorkflowtype;\r\n    },\r\n\r\n  };\r\n  return Utils;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/workitem/workitem/impl/header',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showIcon : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.multiMaps : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(10, data, 0),\"inverse\":this.program(13, data, 0)})) != null ? stack1 : \"\")\n    + \"\\r\\n  </div>\\r\\n\\r\\n\\r\\n\";\n},\"2\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.iconLeft : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.program(5, data, 0)})) != null ? stack1 : \"\");\n},\"3\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"      <span class=\\\"tile-type-icon cs-icon-left \"\n    + this.escapeExpression(((helper = (helper = helpers.iconLeft || (depth0 != null ? depth0.iconLeft : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"iconLeft\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n      <div class=\\\"tile-title\\\">\\r\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.imageLeftUrl : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(6, data, 0),\"inverse\":this.program(8, data, 0)})) != null ? stack1 : \"\");\n},\"6\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"          <div class=\\\"tile-type-image \"\n    + this.escapeExpression(((helper = (helper = helpers.imageLeftClass || (depth0 != null ? depth0.imageLeftClass : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"imageLeftClass\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n            <img src=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.imageLeftUrl || (depth0 != null ? depth0.imageLeftUrl : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"imageLeftUrl\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-hidden=\\\"true\\\">\\r\\n          </div>\\r\\n        <div class=\\\"tile-title\\\">\\r\\n\";\n},\"8\":function(depth0,helpers,partials,data) {\n    return \"        <div class=\\\"tile-title cs-text-only\\\">\\r\\n\";\n},\"10\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"      <div class=\\\"cs-formfield cs-selectfield binf-dropdown\\\">\\r\\n        <div class=\\\"cs-field-write\\\">\\r\\n          <div class=\\\"cs-field-write-inner cs-drop-down\\\">\\r\\n            <button id=\\\"select-workflow-type\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.MultipleMapsSelectPlaceholder || (depth0 != null ? depth0.MultipleMapsSelectPlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"MultipleMapsSelectPlaceholder\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n                    type=\\\"button\\\" class=\\\"binf-btn binf-btn-default binf-dropdown-toggle\\r\\n                    \"\n    + this.escapeExpression(((helper = (helper = helpers.shadowClass || (depth0 != null ? depth0.shadowClass : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"shadowClass\",\"hash\":{}}) : helper)))\n    + \"\\\" data-binf-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\"\\r\\n                    aria-expanded=\\\"false\\\">\\r\\n              <span class=\\\"cs-label select-workflow-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.MultipleMapsSelectPlaceholder || (depth0 != null ? depth0.MultipleMapsSelectPlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"MultipleMapsSelectPlaceholder\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n              <span class=\\\"cs-icon icon-caret-down\\\"></span>\\r\\n            </button>\\r\\n            <ul class=\\\"binf-dropdown-menu ps-container\\\" role=\\\"menu\\\"\\r\\n                aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.MultipleMapsSelectPlaceholder || (depth0 != null ? depth0.MultipleMapsSelectPlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"MultipleMapsSelectPlaceholder\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n\"\n    + ((stack1 = helpers.each.call(depth0,(depth0 != null ? depth0.maps : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":this.program(11, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"            </ul>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\";\n},\"11\":function(depth0,helpers,partials,data) {\n    return \"                <li><a role=\\\"menuitem\\\" class=\\\"cs-menu-option\\\" href=\\\"#\\\" title=\\\"\"\n    + this.escapeExpression(this.lambda((depth0 != null ? depth0.Name : depth0), depth0))\n    + \"\\\" data-wfid=\\\"\"\n    + this.escapeExpression(this.lambda((depth0 != null ? depth0.DataID : depth0), depth0))\n    + \"\\\" tabindex=\\\"-1\\\" data-cstabindex=\\\"-1\\\" >\\r\\n              <span class=\\\"cs-label\\\" data-wfid=\\\"\"\n    + this.escapeExpression(this.lambda((depth0 != null ? depth0.DataID : depth0), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda((depth0 != null ? depth0.Name : depth0), depth0))\n    + \"</span>\\r\\n                </a>\\r\\n                </li>\\r\\n\";\n},\"13\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"      <h2 title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"</h2>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.expandedHeader : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('workflow_widgets_workitem_workitem_impl_header', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!workflow/widgets/workitem/workitem/impl/workitem',[],function(){});\n","csui.define('workflow/widgets/workitem/workitem/impl/header.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/models/nodes',\r\n  'csui/utils/commandhelper',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'workflow/models/workflow/workflow.model',\r\n  'workflow/commands/initiate.workflow/initiate.workflow',\r\n  'hbs!workflow/widgets/workitem/workitem/impl/header',\r\n  'i18n!workflow/widgets/workitem/workitem/impl/nls/lang',\r\n  'i18n!csui/pages/start/impl/nls/lang',\r\n  'css!workflow/widgets/workitem/workitem/impl/workitem'\r\n], function (_, $, Marionette, TabableRegion, NodeModelFactory, NodeCollection, CommandHelper,\r\n    ModalAlert, GlobalMessage, WorkflowModel, InitiateWorkflowCommand, headerTemplate, Lang, LangCoreUI) {\r\n  'use strict';\r\n\r\n  var HeaderView = Marionette.ItemView.extend({\r\n\r\n    template: headerTemplate,\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegion,\r\n        initialActivationWeight: 100\r\n      }\r\n    },\r\n    ui: {\r\n      titleWorkflow: '.tile-title>h2'\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyInView',\r\n      'click .cs-menu-option': 'onMapSelectionChanged'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      var maps = this.options.maps;\r\n      var documentTitle ='';\r\n      for (var map in maps) {\r\n        var name = maps[map].Name.split(\":\");\r\n        this.options.maps[map].Name = name[name.length - 1];\r\n      }\r\n      var selectedMapTitle = Lang.MultipleMapsSelectPlaceholder;\r\n      var shadowClass = \"\";\r\n      var showIcon = true;\r\n      if (this.model && this.model.attributes.isDocDraft) {\r\n        selectedMapTitle = this.model.attributes.title;\r\n      }\r\n      //with this the Page title of the Webpage is set, which is displayed on\r\n      //the browser tab\r\n      if (this.options.multiMaps === true) {\r\n        documentTitle = selectedMapTitle;\r\n      }\r\n      else {\r\n        documentTitle = this.options.title;\r\n      }\r\n\r\n      document.title = _.str.sformat(Lang.WorkflowStepTitle, documentTitle);\r\n\r\n      return {\r\n        iconLeft: this.options.iconLeft,\r\n        imageLeftUrl: this.options.imageLeftUrl,\r\n        imageLeftClass: this.options.imageLeftClass,\r\n        title: this.options.title,\r\n        expandedHeader: true,\r\n        multiMaps: this.options.multiMaps,\r\n        maps: this.options.maps,\r\n        MultipleMapsSelectPlaceholder: selectedMapTitle,\r\n        shadowClass: shadowClass,\r\n        showIcon: showIcon\r\n      };\r\n    },\r\n\r\n    constructor: function HeaderView(options) {\r\n      Marionette.View.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    isTabable: function () {\r\n       return true;\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      //In case the '#select-workflow-type' is found this is 'start WF from Document' scenario\r\n      //then this is the currentlyFocusedElement else WF title\r\n      var tabButton = this.$('#select-workflow-type');\r\n      if (tabButton.length > 0) {\r\n        return $(tabButton[0]);\r\n      }\r\n      else {\r\n        return this.ui.titleWorkflow ;\r\n      }\r\n    },\r\n\r\n    onSetFocus:function () {\r\n      this.ui.titleWorkflow.trigger('focus');\r\n    },\r\n\r\n    onDomRefresh:function () {\r\n      //Soemtimes the tabable region behavior is to early to try to set\r\n      //the focus, therefore here manual setting of the focus after DomRefresh\r\n      var tabButton = this.$('#select-workflow-type');\r\n      if (tabButton.length > 0) {\r\n        tabButton[0].focus();\r\n      }\r\n      else {\r\n        this.triggerMethod(\"setFocus\");\r\n      }\r\n    },\r\n\r\n    onKeyInView: function (event) {\r\n      var keyCode = event.keyCode;\r\n\r\n      //to enable space this is necessary, to do this for enter as well leads to occasional\r\n      //error because the event is triggered two times\r\n      if (keyCode === 32) {\r\n        $(event.target).trigger(\"click\");\r\n      }\r\n    },\r\n    onMapSelectionChanged: function(event){\r\n      var self = this;\r\n      if(this.model && this.model.attributes.isDocDraft){\r\n        var options={};\r\n        options.buttons = ModalAlert.buttons.OkCancel;\r\n        var promise = ModalAlert.confirmWarning( Lang.ChangeWorkflowTypeMessage, Lang.ChangeWorkflowTypeTitle, options);\r\n        promise.then(function () {\r\n          self.mapSelected(event);\r\n        });\r\n      } else {\r\n        this.mapSelected(event);\r\n      }\r\n    },\r\n    mapSelected: function (event) {\r\n      var mapId = parseInt(event.target.getAttribute(\"data-wfid\"));\r\n      if (mapId) {\r\n\r\n        this.propertiesCommand = new InitiateWorkflowCommand();\r\n        this.mapModel = this.options.context.getModel(NodeModelFactory,\r\n            {attributes: {id: mapId}});\r\n\r\n        this.mapModel.fetch()\r\n            .done(_.bind(function (args) {\r\n              var model = this.options.model;\r\n              var status = {};\r\n              status.context = this.options.context;\r\n              status.nodes = new NodeCollection([this.mapModel]);\r\n              status.isDoc = true;\r\n              status.doc_id = model.get('doc_id');\r\n              status.parent_id = model.get('parent_id');\r\n              status.docNames = model.get('doc_names');\r\n              status.mapsList = model.get('mapsList');\r\n              status.originatingView = this.options.originatingView;\r\n              var url = this.model.get('url_org');\r\n              if (url &&  url.length > 0) {\r\n                status.url_org = url;\r\n              }\r\n              else {\r\n                status.url_org = \"\";\r\n              }\r\n              var defaults = model.defaults;\r\n              model.reset({silent: true});\r\n              model.set(defaults, {silent: true});\r\n              var promisesFromCommands = this.propertiesCommand.execute(status);\r\n              CommandHelper.handleExecutionResults(promisesFromCommands,\r\n                  {\r\n                    command: this.propertiesCommand,\r\n                    suppressSuccessMessage: status.suppressSuccessMessage\r\n                  });\r\n            }, this))\r\n            .fail(_.bind(function (args) {\r\n              GlobalMessage.showMessage('error', args.responseJSON.error);\r\n            }, this));\r\n      }\r\n    },\r\n\r\n  });\r\n\r\n  return HeaderView;\r\n});\r\n\n","csui.define('workflow/widgets/workitem/workitem/impl/footer.view',['csui/lib/marionette'], function (Marionette) {\r\n  'use strict';\r\n\r\n  /**\r\n   * View for a single button in the FooterView\r\n   */\r\n  var ButtonView = Marionette.ItemView.extend({\r\n\r\n    tagName: 'button',\r\n\r\n    className: 'binf-btn',\r\n\r\n    template: false,\r\n\r\n    triggers: {\r\n      'click': 'click'\r\n    },\r\n\r\n    constructor: function ButtonView(options) {\r\n      Marionette.View.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    onRender: function () {\r\n      var button     = this.$el,\r\n          attributes = this.model.attributes;\r\n      button.text(attributes.label);\r\n\r\n      if (attributes.id === \"standard-Review\") {\r\n        button.addClass(attributes['default'] ? 'binf-btn-primary' : 'binf-btn-default-review');\r\n      }\r\n\r\n      button.addClass(attributes['default'] ? 'binf-btn-primary' : 'binf-btn-default');\r\n\r\n      if (attributes.toolTip) {\r\n        button.attr('title', attributes.toolTip);\r\n      }\r\n      if (attributes.separate) {\r\n        button.addClass('cs-separate');\r\n      }\r\n      this.updateButton(attributes);\r\n    },\r\n\r\n    updateButton: function (attributes) {\r\n      var $button = this.$el;\r\n      attributes || (attributes = {});\r\n      if (attributes.hidden !== undefined) {\r\n        if (attributes.hidden) {\r\n          $button.addClass('binf-hidden');\r\n        } else {\r\n          $button.removeClass('binf-hidden');\r\n        }\r\n      }\r\n      if (attributes.disabled !== undefined) {\r\n        $button.prop('disabled', attributes.disabled);\r\n      }\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Footer view which shows a list of buttons\r\n   */\r\n  var FooterView = Marionette.CollectionView.extend({\r\n\r\n    childView: ButtonView,\r\n\r\n    constructor: function FooterView(options) {\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n\r\n    },\r\n    onDomRefresh: function () {\r\n      this.children.each(function (buttonView) {\r\n        buttonView.trigger('dom:refresh');\r\n      });\r\n    },\r\n\r\n    getButtons: function () {\r\n      return this.children.toArray();\r\n    },\r\n\r\n    updateButton: function (id, attributes) {\r\n      var button = this.collection.get(id);\r\n      if (button) {\r\n        this.children\r\n            .findByModel(button)\r\n            .updateButton(attributes);\r\n      } else {\r\n        // If the footer comes from the dialog template including the buttons,\r\n        // the collection of dynamically created buttons is empty.\r\n        // The template has to provide correct initial classes for the buttons\r\n        // and their identifiers must be present in the \"data-cs-id\" attribute.\r\n        ButtonView.updateButton(this.$('[data-cs-id=\"' + id + '\"]'), attributes);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return FooterView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/message/impl/message',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"message-head\\\">\\r\\n  <div class=\\\"message-subject\\\">\\r\\n    <div class=\\\"subject-pre\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.subjectPre || (depth0 != null ? depth0.subjectPre : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"subjectPre\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"subject-sender\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.sender || (depth0 != null ? depth0.sender : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"sender\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"subject-post\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.subjectPost || (depth0 != null ? depth0.subjectPost : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"subjectPost\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n  </div>\\r\\n  <div class=\\\"message-toggle\\\">\\r\\n    <div hidden id=\"\n    + this.escapeExpression(((helper = (helper = helpers.ariaDescribedById || (depth0 != null ? depth0.ariaDescribedById : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ariaDescribedById\",\"hash\":{}}) : helper)))\n    + \">\"\n    + this.escapeExpression(((helper = (helper = helpers.subjectAria || (depth0 != null ? depth0.subjectAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"subjectAria\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <a class=\\\"toggle-button\\\" role=\\\"button\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.seeLess || (depth0 != null ? depth0.seeLess : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"seeLess\",\"hash\":{}}) : helper)))\n    + \"\\\" data-binf-toggle=\\\"collapse\\\"\\r\\n       href=\\\".message-body\\\" aria-describedby=\"\n    + this.escapeExpression(((helper = (helper = helpers.ariaDescribedById || (depth0 != null ? depth0.ariaDescribedById : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ariaDescribedById\",\"hash\":{}}) : helper)))\n    + \"\\r\\n           aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.seeLessMessages || (depth0 != null ? depth0.seeLessMessages : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"seeLessMessages\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n      <span class=\\\"csui-button-icon icon-expandArrowUp\\\"></span>\\r\\n    </a>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"message-body binf-collapse binf-in\\\">\\r\\n  <div class=\\\"message-text\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.messageText || (depth0 != null ? depth0.messageText : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"messageText\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('workflow_widgets_message_impl_message', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('workflow/widgets/message/impl/nls/lang',{\r\n  \"root\": true,\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('workflow/widgets/message/impl/nls/root/lang',{\r\n  delegateMessage: 'Message from {0} who forwarded the workflow step to a new approver.',\r\n  delegateMessageNoComment: '{0} forwarded the workflow step to a new approver without a message.',\r\n  reassignMessage: 'Message from {0} who reassigned the workflow step.',\r\n  reassignMessageNoComment: '{0} reassigned the workflow step without a message.',\r\n  reviewMessage: 'Message from {0} who sent you a workflow step for review. Please add a comment' +\r\n                 ' and reply.',\r\n  reviewMessageNoComment: '{0} sent you a workflow step for review. Please add a comment and' +\r\n                          ' reply.',\r\n  reviewReturnMessage: 'Message from {0} who reviewed your workflow step.',\r\n  reviewReturnMessageNoComment: '{0} reviewed your workflow step without a message.',\r\n  seeLess : 'See less',\r\n  seeMore : 'See more',\r\n  seeLessMessages : 'See less messages',\r\n  seeMoreMessages : 'See more messages',\r\n  anonymousUserName: 'Anonymous User'\r\n});\r\n\n","\ncsui.define('css!workflow/widgets/message/impl/message',[],function(){});\n","csui.define('workflow/widgets/message/message.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'csui/models/member',\r\n  'hbs!workflow/widgets/message/impl/message',\r\n  'i18n!workflow/widgets/message/impl/nls/lang',\r\n  'css!workflow/widgets/message/impl/message'\r\n], function (_, $, Marionette, TabableRegionBehavior, MemberModel, template, lang) {\r\n  'use strict';\r\n\r\n  var MessageTypeConstants = {\r\n\r\n    // converts a message type into a previously defined message constant. if the type is \r\n    // not found, the type or message is returned as result.\r\n    //  subject:  contains the message subject. if the subject is a known type\r\n    //            like 'delegate' it is replaced with the appropriate text key\r\n    //            constant.\r\n    //  body:     in case the message text is empty, it could be necessary to return\r\n    //            another text constant.\r\n    //  return:   in case the subject is a defined text key the appropriate message\r\n    //            constant is returned, otherwise the subject is returned as is.\r\n    message: function (subject, body) {\r\n      // initialize subject\r\n      var ret = subject;\r\n      // replace message subject with appropriate message\r\n      switch (subject) {\r\n      case 'delegate':\r\n        ret = body ? lang.delegateMessage : lang.delegateMessageNoComment;\r\n        break;\r\n      case 'reassign':\r\n        ret = body ? lang.reassignMessage : lang.reassignMessageNoComment;\r\n        break;\r\n      case 'review':\r\n        ret = body ? lang.reviewMessage : lang.reviewMessageNoComment;\r\n        break;\r\n      case 'review_return':\r\n        ret = body ? lang.reviewReturnMessage : lang.reviewReturnMessageNoComment;\r\n        break;\r\n      }\r\n      // return\r\n      return ret;\r\n    }\r\n  };\r\n\r\n  // The message view is capable to display a collapsible message \r\n  // containing a sender, subject and body.\r\n  var MessageView = Marionette.ItemView.extend({\r\n\r\n    className: 'workflow-message',\r\n\r\n    template: template,\r\n\r\n    templateHelpers: function () {\r\n      return {\r\n        subjectPre: this.subjectPre,\r\n        subjectPost: this.subjectPost,\r\n        sender: this.sender,\r\n        subjectAria: this.subjectPre + this.sender + this.subjectPost + this.messageText,\r\n        ariaDescribedById: _.uniqueId(\"id_\"),\r\n        messageText: this.messageText,\r\n        seeMore: lang.seeMore,\r\n        seeLess: lang.seeLess,\r\n        seeMoreMessages: lang.seeMoreMessages,\r\n        seeLessMessages: lang.seeLessMessages\r\n      };\r\n    },\r\n\r\n    ui: {\r\n      toggleButton: '.toggle-button',\r\n      toggleIcon: '.toggle-button > span',\r\n      messageBody: '.message-body'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.toggleButton': 'onClickToggle'\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function MessageView(options) {\r\n      // verify options\r\n      if (_.isUndefined(options) || _.isUndefined(options.model)) {\r\n        throw new Error('Message model is missing!');\r\n      }\r\n\r\n      // initialize members\r\n      var model = options.model;\r\n      var connector = options.connector;\r\n\r\n      // message text\r\n      this.messageText = model.get('text');\r\n\r\n      // message subject\r\n      var subject = model.get('subject');\r\n      if (!_.isUndefined(subject)) {\r\n        // find message from type or use current\r\n        subject = MessageTypeConstants.message(subject, this.messageText);\r\n        // split message to insert sender information. due to the fact that\r\n        // the subject contains different styles, we cannot only format the\r\n        // message using _.str.sformat().\r\n        var parts = subject.split('{0}');\r\n        if (parts.length === 2) {\r\n          this.subjectPre = subject.split('{0}')[0];\r\n          this.subjectPost = subject.split('{0}')[1];\r\n        } else {\r\n          this.subjectPre = null;\r\n          this.subjectPost = subject;\r\n        }\r\n      }\r\n\r\n      // message sender\r\n      var sender = model.get('sender');\r\n      if (_.isNumber(sender)) {\r\n        var self = this;\r\n        var member = new MemberModel({id: sender}, {connector: connector});\r\n        member.fetch().done(function (data, result) {\r\n          if (result === 'success') {\r\n            self.sender = data.data.display_name;\r\n            self.render();\r\n          }\r\n        });\r\n      } else if (_.isString(sender)) {\r\n        this.sender = sender;\r\n      } else {\r\n        this.sender = lang.anonymousUserName;\r\n      }\r\n\r\n      // initialize the marionette base view\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    onClickToggle: function (e) {\r\n      // change toggle button icon\r\n      if (this.ui.messageBody.hasClass('binf-in')) {\r\n        this.ui.toggleIcon.removeClass('icon-expandArrowUp');\r\n        this.ui.toggleIcon.addClass('icon-expandArrowDown');\r\n        if (this.ui.toggleButton &&\r\n            this.ui.toggleButton.hasClass('toggle-button csui-acc-focusable-active')) {\r\n          this.ui.toggleButton[0].title = lang.seeMore;\r\n          this.ui.toggleButton.attr('aria-label', lang.seeMoreMessages);\r\n        }\r\n      }\r\n      else {\r\n        this.ui.toggleIcon.removeClass('icon-expandArrowDown');\r\n        this.ui.toggleIcon.addClass('icon-expandArrowUp');\r\n        if (this.ui.toggleButton &&\r\n            this.ui.toggleButton.hasClass('toggle-button csui-acc-focusable-active')) {\r\n          this.ui.toggleButton[0].title = lang.seeLess;\r\n          this.ui.toggleButton.attr('aria-label', lang.seeLessMessages);\r\n        }\r\n      }\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      // return comment control textbox\r\n      return $(this.ui.toggleButton);\r\n    }\r\n  });\r\n\r\n  // return\r\n  return MessageView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/workitem/workitem.properties/impl/workitem.instructions',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"  <div class=\\\" workitem-instructions-scrolling\\\">\\r\\n    <div class=\\\"workitem-extended-view-mode workitem-see-less-content\\r\\n      workitem-see-less-instruction\\\">\\r\\n      <div id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id_instructions || (depth0 != null ? depth0.id_instructions : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id_instructions\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n           class=\\\"workitem-instructions-text csui-acc-focusable-active \\\">\"\n    + ((stack1 = this.lambda(((stack1 = (depth0 != null ? depth0.model : depth0)) != null ? stack1.instructions : stack1), depth0)) != null ? stack1 : \"\")\n    + \"</div>\\r\\n      <a href=\\\"javascript:void(0);\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.seeLess || (depth0 != null ? depth0.seeLess : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"seeLess\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"button\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.seeLessInstructions || (depth0 != null ? depth0.seeLessInstructions : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"seeLessInstructions\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n         aria-describedby=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id_instructions || (depth0 != null ? depth0.id_instructions : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id_instructions\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"instruction-see-less\\r\\n         workitem-see-less-instruction\\\">\\r\\n      <span class=\\\"csui-button-icon icon-expandArrowUp\\\"></span></a>\\r\\n      <a href=\\\"javascript:void(0);\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.seeMore || (depth0 != null ? depth0.seeMore : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"seeMore\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"button\\\"\\r\\n         aria-describedby=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id_instructions || (depth0 != null ? depth0.id_instructions : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id_instructions\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.seeMoreInstructions || (depth0 != null ? depth0.seeMoreInstructions : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"seeMoreInstructions\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n         class=\\\"instruction-see-more workitem-see-more-instruction workitem-hide-element\\\">\\r\\n      <span class=\\\"csui-button-icon icon-expandArrowDown\\\"></span></a>\\r\\n    </div>\\r\\n  </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.model : depth0)) != null ? stack1.instructions : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('workflow_widgets_workitem_workitem.properties_impl_workitem.instructions', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('workflow/widgets/workitem/workitem.properties/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('workflow/widgets/workitem/workitem.properties/impl/nls/root/lang',{\r\n  FormValidationErrorMessage: 'Required fields must be filled',\r\n  HideValidationErrorMessageIconTooltip: 'Hide validation error',\r\n  SeeMore : 'See more',\r\n  SeeLess : 'See less',\r\n  SeeMoreInstructions : 'See more instructions',\r\n  SeeLessInstructions : 'See less instructions',\r\n  multiMapSelectMessage: 'Select the workflow you want to initiate from the drop-down list'\r\n});\r\n\n","\ncsui.define('css!workflow/widgets/workitem/workitem.properties/impl/workitem.instructions',[],function(){});\n","csui.define('workflow/widgets/workitem/workitem.properties/impl/workitem.instructions.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'csui/utils/log',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/behaviors/keyboard.navigation/tabable.region.behavior',\r\n  'hbs!workflow/widgets/workitem/workitem.properties/impl/workitem.instructions',\r\n  'i18n!workflow/widgets/workitem/workitem.properties/impl/nls/lang',\r\n  'css!workflow/widgets/workitem/workitem.properties/impl/workitem.instructions'\r\n], function (_, $, Marionette, log, LayoutViewEventsPropagationMixin,\r\n    TabableRegionBehavior, template, lang) {\r\n  'use strict';\r\n\r\n  // An application widget is a view, because it should render a HTML fragment\r\n  var WorkItemInstructionsView = Marionette.LayoutView.extend({\r\n\r\n    // Outermost parent element should contain a unique widget-specific class\r\n    className: 'workflow-workitem-properties-instructions',\r\n\r\n    ui: {\r\n      instructions: '.workitem-instructions-text',\r\n      InstructionElement: '.workitem-extended-view-mode',\r\n      seeLessIcon: 'a.workitem-see-less-instruction',\r\n      seeMoreIcon: 'a.workitem-see-more-instruction'\r\n    },\r\n\r\n    events: {\r\n      'keydown': 'onKeyDown',\r\n      \"click @ui.seeMoreIcon\": \"showMoreContent\",\r\n      \"click @ui.seeLessIcon\": \"showLessContent\",\r\n      \"keydown @ui.seeMoreIcon\": \"onKeyDownShowMoreContent\",\r\n      \"keydown @ui.seeLessIcon\": \"onKeyDownShowLessContent\",\r\n    },\r\n\r\n    // Template method rendering the HTML for the view\r\n    template: template,\r\n\r\n    // Constructor gives an explicit name to the object in the debugger and\r\n    // can update the options for the parent view, which `initialize` cannot\r\n    constructor: function WorkItemInstructionsView(options) {\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n      // Cause the show events triggered on the parent view re-triggered\r\n      // on the views placed in the inner regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    behaviors: {\r\n      TabableRegion: {\r\n        behaviorClass: TabableRegionBehavior\r\n      }\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      var instructions = this.model.get('instructions');\r\n      if (instructions) {\r\n        return $(\".workitem-instructions a\");\r\n      }\r\n      else {\r\n        $(\".cs-form.cs-form-create\").first().addClass(\"workitem-with-empty-instructions\");\r\n        $(\".cs-form.cs-form-update\").first().addClass(\"workitem-with-empty-instructions\");\r\n      }\r\n    },\r\n    contentTypeElement: \".workitem-extended-view-mode\",\r\n\r\n    showMoreContent: function (e) {\r\n\r\n      if (window.getSelection().toString() === \"\") {\r\n        var _lessIcon    = $(this.$el.find(\".instruction-see-less\")[0]),\r\n            _moreIcon    = $(this.$el.find(\".instruction-see-more\")[0]),\r\n            _textElement = this.ui.InstructionElement[0];\r\n        /* Generally .show() method appends the default style\r\n        of the element's DISPLAY property as a inline css. If the element is set to DISPLAY:NONE\r\n        it will append DISPLAY:BLOCK as a inline css, which will make the element\r\n        wraps to next line, so removing style attribute which has DISPLAY: NONE property\r\n        and allowing external css take charge with DISPLAY : INLINE. */\r\n        $(_lessIcon).removeAttr(\"style\");\r\n        $(_lessIcon).show();\r\n        $(_moreIcon).hide();\r\n        this.ui.seeLessIcon.trigger(\"focus\");\r\n        $(_textElement).removeClass(\"workitem-see-more-content\");\r\n        $(_textElement).removeClass(\"workitem-see-more-instruction\");\r\n        $(_textElement).addClass(\"workitem-see-less-instruction\");\r\n      }\r\n    },\r\n\r\n    showLessContent: function (e) {\r\n      if (window.getSelection().toString() === \"\") {\r\n        var _lessIcon    = $(this.$el.find(\".instruction-see-less\")[0]),\r\n            _moreIcon    = $(this.$el.find(\".instruction-see-more\")[0]),\r\n            _textElement = this.ui.InstructionElement[0];\r\n        $(_lessIcon).hide();\r\n        /* Generally .show() method appends the default style\r\n        of the element's DISPLAY property as a inline css. If the element is set to DISPLAY:NONE\r\n        it will append DISPLAY:BLOCK as a inline css, which will make the element\r\n        wraps to next line, so removing style attribute which has DISPLAY: NONE property\r\n        and allowing external css take charge with DISPLAY : INLINE. */\r\n        $(_moreIcon).removeAttr(\"style\");\r\n        $(_moreIcon).show();\r\n        this.ui.seeMoreIcon.trigger(\"focus\");\r\n        $(_textElement).addClass(\"workitem-see-more-content\");\r\n        $(_textElement).addClass(\"workitem-see-more-instruction\");\r\n        $(_textElement).removeClass(\"workitem-see-less-instruction\");\r\n      }\r\n    },\r\n\r\n    onKeyDownShowMoreContent: function (e) {\r\n      if (e.keyCode === 13) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.showMoreContent(e);\r\n      }\r\n\r\n    },\r\n    onKeyDownShowLessContent: function (e) {\r\n      if (e.keyCode === 13) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.showLessContent(e);\r\n      }\r\n    },\r\n    onKeyDown: function (e) {\r\n      //keyboard scrolling if mouse is not over the element\r\n      var handled = false;\r\n      var deltaY = 0;\r\n      switch (e.keyCode) {\r\n      case 38: // up\r\n        deltaY = -30;\r\n        handled = true;\r\n        break;\r\n      case 40: // down\r\n        deltaY = 30;\r\n        handled = true;\r\n        break;\r\n      }\r\n      if (handled) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        var parent = this.$el.find('.workitem-instructions-scrolling');\r\n        parent.scrollTop(parent.scrollTop() + deltaY);\r\n      }\r\n    },\r\n\r\n    // template helper to prepare the model for the view\r\n    templateHelpers: function () {\r\n      // return the prepared object with the necessary properties\r\n      return {\r\n        seeMore: lang.SeeMore,\r\n        seeLess: lang.SeeLess,\r\n        seeMoreInstructions: lang.SeeMoreInstructions,\r\n        seeLessInstructions: lang.SeeLessInstructions,\r\n        model: this.model.toJSON(),\r\n        id_instructions: _.uniqueId(\"id_\")\r\n      };\r\n    }\r\n  });\r\n\r\n  _.extend(WorkItemInstructionsView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return WorkItemInstructionsView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/workitem/workitem.properties/impl/workitem.properties',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"workitem-multimap-select-message\\\"></div>\\r\\n<div class=\\\"workitem-message\\\"></div>\\r\\n<div class=\\\"workitem-instructions\\\"></div>\\r\\n<div class=\\\"workitem-forms\\\"></div>\\r\\n<div class=\\\"workitem-extension\\\"></div>\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_widgets_workitem_workitem.properties_impl_workitem.properties', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!workflow/widgets/workitem/workitem.properties/impl/workitem.properties',[],function(){});\n","csui.define('workflow/controls/form/fields/alpaca/alpcsuirealfield',[\r\n  'module',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/lib/alpaca/js/alpaca',\r\n  'csui/models/form',\r\n  'csui/controls/form/fields/textfield.view',\r\n  'csui/utils/base'\r\n], function (module, _, $, Backbone, Marionette, Alpaca, FormModel, TextFieldView, base) {\r\n  'use strict';\r\n\r\n  Alpaca.Fields.CsuiRealField = Alpaca.Fields.NumberField.extend({\r\n\r\n    constructor: function CsuiRealField(container, data, options, schema, view, connector, onError) {\r\n      this.base(container, data, options, schema, view, connector, onError);\r\n    },\r\n\r\n    getFieldType: function () {\r\n      return 'text';\r\n    },\r\n\r\n    postRender: function (callback) {\r\n      this.base(callback);\r\n      this.showField();\r\n    },\r\n\r\n    showField: function () {\r\n\r\n      var id = this.id;\r\n      this.options.id = \"lbl\" + _.uniqueId(id);\r\n\r\n      // add an id to the <label> element like alpaca23Label\r\n      var id4Label,\r\n          labelElement = $(this.field[0]).find('label');\r\n\r\n      if (labelElement && labelElement.length === 1) {\r\n        id4Label = labelElement.attr('for') + \"Label\";\r\n        labelElement.attr('id', id4Label);\r\n      }\r\n\r\n      this.fieldView = new TextFieldView({\r\n        model: new Backbone.Model({\r\n          data: this.data,\r\n          options: this.options,\r\n          schema: this.schema,\r\n          id: id\r\n        }),\r\n        id: _.uniqueId(id),\r\n        alpacaField: this,\r\n        labelId: id4Label,\r\n        value: this.data,\r\n        readonly: true,\r\n        dataId: this.name,\r\n        path: this.path,\r\n        alpaca: {\r\n          data: this.data,\r\n          options: this.options,\r\n          schema: this.schema\r\n        }\r\n      });\r\n\r\n      // replace alpaca control with empty div having same classes as control\r\n      var $field = $('<div>').addClass('alpaca-control');\r\n      this.getControlEl().replaceWith($field);\r\n\r\n      // show our field in div\r\n      this.region = new Marionette.Region({el: $field});\r\n      this.region.show(this.fieldView);\r\n\r\n      return;\r\n    },\r\n\r\n    getValue: function () {\r\n      var val = $(this.control).val();\r\n      if (val === null || val === '') {\r\n        return null;\r\n      }\r\n      return Number(val);\r\n    },\r\n\r\n    setValueAndValidate: function (value, validate) {\r\n      this.setValue(value);\r\n      var bIsValid = true;\r\n      if (validate) {\r\n        bIsValid = this.validate();\r\n        this.refreshValidationState(false);\r\n      }\r\n      return bIsValid;\r\n    },\r\n\r\n    focus: function () {\r\n      this.fieldView.setFocus();\r\n    },\r\n\r\n    handleValidate: function () {\r\n      var ret = this.base();\r\n      if (!ret) {\r\n        var arrayValidations = this.validation;\r\n        if (this.fieldView.ui.writeField.val() !== \"\") {\r\n          arrayValidations[\"notOptional\"][\"status\"] = true;\r\n          arrayValidations[\"notOptional\"][\"message\"] = \"\";\r\n          return ret;\r\n        }\r\n        for (var validation in arrayValidations) {\r\n          if (arrayValidations[validation][\"status\"] === false) {\r\n            if (validation !== \"notOptional\") {\r\n              arrayValidations[validation][\"status\"] = true;\r\n              arrayValidations[validation][\"message\"] = \"\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return ret;\r\n    },\r\n\r\n    destroy: function () {\r\n      this.base();\r\n      if (this.region) {\r\n        this.region.destroy();\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  Alpaca.registerFieldClass('number', Alpaca.Fields.CsuiRealField, 'bootstrap-csui');\r\n  Alpaca.registerFieldClass('number', Alpaca.Fields.CsuiRealField, 'bootstrap-edit-horizontal');\r\n\r\n  return $.alpaca.Fields.CsuiRealField;\r\n});\r\n\n","csui.define('workflow/controls/breadcrumbs/impl/breadcrumb/breadcrumb.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/controls/breadcrumbs/impl/breadcrumb/breadcrumb.view',\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  'i18n!csui/controls/breadcrumbs/impl/breadcrumb/impl/nls/lang'\r\n], function (_, $, Marionette, BreadCrumbItemView, DefaultActionBehavior, lang) {\r\n  'use strict';\r\n  var BreadcrumbItemView = BreadCrumbItemView.extend({\r\n\r\n    templateHelpers: function () {\r\n      var that      = this,\r\n          subCrumbs = _.map(this.model.get('subcrumbs'), function (crumb) {\r\n            return _.extend(crumb.toJSON(), {url: that.getAncestorUrl(crumb)});\r\n          });\r\n      return {\r\n        inactive: this.model.get('inactive'),\r\n        hasSubCrumbs: subCrumbs.length > 0,\r\n        subcrumbs: subCrumbs,\r\n        url: this.getAncestorUrl(this.model),\r\n        subcrumbTooltip: lang.subcrumbTooltip\r\n      };\r\n    },\r\n    getAncestorUrl: function (crumb) {\r\n      return crumb.get('id') > 0 && crumb.connector &&\r\n             DefaultActionBehavior.getDefaultActionNodeUrl(crumb);\r\n    }\r\n\r\n  });\r\n  return BreadcrumbItemView;\r\n});\r\n\n","csui.define('workflow/controls/breadcrumbs/breadcrumbs.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/utils/commands', 'csui/utils/defaultactionitems',\r\n  'csui/controls/breadcrumbs/breadcrumbs.view',\r\n  'csui/models/node/node.model',\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  'workflow/controls/breadcrumbs/impl/breadcrumb/breadcrumb.view'\r\n], function (_, $, Marionette, Commands, DefaultActionItems, BreadcrumbsView, NodeModel,\r\n    DefaultActionBehavior,\r\n    BreadCrumbItemView) {\r\n  'use strict';\r\n  var BreadcrumbItemView = BreadcrumbsView.extend({\r\n    childView: BreadCrumbItemView,\r\n    behaviors: {\r\n      DefaultAction: {\r\n        behaviorClass: DefaultActionBehavior\r\n      }\r\n    },\r\n    onClickAncestor: function (model, node) {\r\n\r\n      var that    = this,\r\n          args    = {node: node},\r\n          newnode = new NodeModel({\r\n            id: node.get('id')\r\n          }, {\r\n            connector: node.connector,\r\n            autoreset: true,\r\n            // Ensure, that at least permitted actions for default actions\r\n            // are available\r\n            commands: DefaultActionItems.getAllCommandSignatures(Commands)\r\n          });\r\n      newnode.fetch()\r\n          .done(function () {\r\n            if (that.defaultActionController.hasAction(newnode)) {\r\n              that.triggerMethod('execute:defaultAction', newnode);\r\n            } else {\r\n              that.trigger('before:defaultAction', args);\r\n              if (!args.cancel) {\r\n                that._nextNode.set('id', node.get('id'));\r\n              }\r\n\r\n              that.$el.trigger('setCurrentTabFocus');\r\n            }\r\n\r\n          });\r\n    }\r\n  });\r\n\r\n  return BreadcrumbItemView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/controls/form/impl/fields/itempicker/itempicker',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"placeholder=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.placeholder : stack1), depth0))\n    + \"\\\"\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"aria-labelledby=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.idBtnLabel || (depth0 != null ? depth0.idBtnLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"idBtnLabel\",\"hash\":{}}) : helper)))\n    + \"\\\" \";\n},\"5\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.multiFieldLabel || (depth0 != null ? depth0.multiFieldLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"multiFieldLabel\",\"hash\":{}}) : helper)))\n    + \"\\\"\";\n},\"7\":function(depth0,helpers,partials,data) {\n    return \" class=\\\"btn-container\\r\\n        inline-clear-itempicker-button\\\" \";\n},\"9\":function(depth0,helpers,partials,data) {\n    return \"  class=\\\"btn-container\\r\\n        inline-clear-itempicker-button binf-hidden\\\" \";\n},\"11\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"      <div class=\\\"icon-container\\\">\\r\\n        <div class=\\\"csui-icon-edit inline-edit-icon edit-cancel\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancel || (depth0 != null ? depth0.cancel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancel\",\"hash\":{}}) : helper)))\n    + \"\\\"></div>\\r\\n      </div>\\r\\n\";\n},\"13\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"      <button class=\\\"btn-container inline-edit-more-button\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.toggleTitle || (depth0 != null ? depth0.toggleTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"toggleTitle\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n        aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.toggleTitle || (depth0 != null ? depth0.toggleTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"toggleTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-expanded=\\\"false\\\">\\r\\n        <span class=\\\"inline-edit-more-icon icon-toolbar-more\\\"></span>\\r\\n      </button>\\r\\n\";\n},\"15\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"      <a \"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.schema : depth0)) != null ? stack1.readonly : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(16, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \" href=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.item : stack1)) != null ? stack1.url : stack1), depth0))\n    + \"\\\"\\r\\n         class=\\\"item-reference-link \"\n    + this.escapeExpression(this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.item : stack1)) != null ? stack1.disabledClass : stack1), depth0))\n    + \"\\\"\\r\\n         title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.item : stack1)) != null ? stack1.anchorTitle : stack1), depth0))\n    + \"\\\"\\r\\n        \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.multiFieldLabel : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(18, data, 0),\"inverse\":this.program(20, data, 0)})) != null ? stack1 : \"\")\n    + \">\"\n    + this.escapeExpression(this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.item : stack1)) != null ? stack1.itemName : stack1), depth0))\n    + \"\\r\\n      </a>\\r\\n\";\n},\"16\":function(depth0,helpers,partials,data) {\n    return \" aria-disabled=\\\"true\\\" \";\n},\"18\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.readModeMultiFieldAria || (depth0 != null ? depth0.readModeMultiFieldAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"readModeMultiFieldAria\",\"hash\":{}}) : helper)))\n    + \" \"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.anchorTitleShort : stack1), depth0))\n    + \"\\\"\\r\\n        \";\n},\"20\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.readModeAria || (depth0 != null ? depth0.readModeAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"readModeAria\",\"hash\":{}}) : helper)))\n    + \" \"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.anchorTitleShort : stack1), depth0))\n    + \"\\\" \";\n},\"22\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,((stack1 = ((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.item : stack1)) != null ? stack1.errorCase : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(23, data, 0),\"inverse\":this.program(30, data, 0)})) != null ? stack1 : \"\");\n},\"23\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"        <button \"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.schema : depth0)) != null ? stack1.readonly : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(16, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \" class=\\\"itempicker item-reference-link\\\"\\r\\n          \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.multiFieldLabel : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(24, data, 0),\"inverse\":this.program(26, data, 0)})) != null ? stack1 : \"\")\n    + \"\\r\\n          \"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.buttonDisabled : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(28, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \">\\r\\n          <span class=\\\"placeholder error-placeholder\\\" title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.placeholder : stack1), depth0))\n    + \"\\\">\\r\\n              \"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.placeholder : stack1), depth0))\n    + \"\\r\\n          </span>\\r\\n        </button>\\r\\n\";\n},\"24\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.readModeMultiFieldAria || (depth0 != null ? depth0.readModeMultiFieldAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"readModeMultiFieldAria\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n          \";\n},\"26\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.readModeAria || (depth0 != null ? depth0.readModeAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"readModeAria\",\"hash\":{}}) : helper)))\n    + \"\\\" \";\n},\"28\":function(depth0,helpers,partials,data) {\n    return \"disabled\";\n},\"30\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"        <button \"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.schema : depth0)) != null ? stack1.readonly : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(16, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \" class=\\\"itempicker item-reference-link\\\"\\r\\n          \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.multiFieldLabel : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(24, data, 0),\"inverse\":this.program(26, data, 0)})) != null ? stack1 : \"\")\n    + \"\\r\\n          \"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.buttonDisabled : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(28, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \">\\r\\n          <span class=\\\"placeholder\\\" title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.placeholder : stack1), depth0))\n    + \"\\\">\\r\\n            \"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.placeholder : stack1), depth0))\n    + \"\\r\\n          </span>\\r\\n        </button>\\r\\n\";\n},\"32\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \" \"\n    + this.escapeExpression(this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.item : stack1)) != null ? stack1.errorMsg : stack1), depth0))\n    + \" \";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"cs-field-write\\\">\\r\\n  <div class=\\\"cs-field-write-inner\\\">\\r\\n    <div hidden id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.ariaDescribedById || (depth0 != null ? depth0.ariaDescribedById : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ariaDescribedById\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.fieldWriteDescribedByAria || (depth0 != null ? depth0.fieldWriteDescribedByAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"fieldWriteDescribedByAria\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <input type=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.inputType || (depth0 != null ? depth0.inputType : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"inputType\",\"hash\":{}}) : helper)))\n    + \"\\\" id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"id\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"button\\\" aria-describedby=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.ariaDescribedById || (depth0 != null ? depth0.ariaDescribedById : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ariaDescribedById\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n        \"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.placeholder : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n        \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.idBtnLabel : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n        \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.multiFieldLabel : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(5, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n        value=\\\"\"\n    + ((stack1 = this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.item : stack1)) != null ? stack1.itemName : stack1), depth0)) != null ? stack1 : \"\")\n    + \"\\\" title=\\\"\"\n    + ((stack1 = this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.item : stack1)) != null ? stack1.anchorTitle : stack1), depth0)) != null ? stack1 : \"\")\n    + \"\\\" />\\r\\n\\r\\n        <button \"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = ((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.item : stack1)) != null ? stack1.itemName : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(7, data, 0),\"inverse\":this.program(9, data, 0)})) != null ? stack1 : \"\")\n    + \" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.remove || (depth0 != null ? depth0.remove : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"remove\",\"hash\":{}}) : helper)))\n    + \"\\\" tabindex=\\\"0\\\"\\r\\n                data-cstabindex=\\\"0\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.remove || (depth0 != null ? depth0.remove : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"remove\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n          <span class=\\\"inline-clear-itempicker formfield_clear\\\" ></span>\\r\\n        </button>\\r\\n\\r\\n      <button class=\\\"binf-btn binf-btn-primary invoke-picker\\\" tabindex=\\\"0\\\" data-cstabindex=\\\"0\\\"\\r\\n              title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.browse || (depth0 != null ? depth0.browse : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"browse\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n        \"\n    + this.escapeExpression(((helper = (helper = helpers.browse || (depth0 != null ? depth0.browse : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"browse\",\"hash\":{}}) : helper)))\n    + \"\\r\\n      </button>\\r\\n\"\n    + ((stack1 = (helpers.xif || (depth0 && depth0.xif) || helpers.helperMissing).call(depth0,\"this.mode !== 'writeonly'\",{\"name\":\"xif\",\"hash\":{},\"fn\":this.program(11, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"cs-field-read\\\">\\r\\n  <div class=\\\"cs-field-read-inner\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = ((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.item : stack1)) != null ? stack1.anchorTitle : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(13, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"    <div class=\\\"btn-container\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = ((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.item : stack1)) != null ? stack1.anchorTitle : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(15, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers.unless.call(depth0,((stack1 = ((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.item : stack1)) != null ? stack1.anchorTitle : stack1),{\"name\":\"unless\",\"hash\":{},\"fn\":this.program(22, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n    <div class=\\\"icon-container\\\">\\r\\n      <div class=\\\"csui-icon-edit inline-edit-icon icon-edit\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.edit || (depth0 != null ? depth0.edit : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"edit\",\"hash\":{}}) : helper)))\n    + \"\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"breadcrumb-inner id-\"\n    + this.escapeExpression(this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.item : stack1)) != null ? stack1.nodeId : stack1), depth0))\n    + \" binf-hidden\\\"></div>\\r\\n<div class=\\\"item-reference-error-msg\\\"> \"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = ((stack1 = (depth0 != null ? depth0.options : depth0)) != null ? stack1.item : stack1)) != null ? stack1.errorCase : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(32, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \" </div>\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_controls_form_impl_fields_itempicker_itempicker', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('workflow/controls/form/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('workflow/controls/form/impl/nls/root/lang',{\r\n  alpacaPlaceholderItemReferencePicker: 'Add a Content Server item',\r\n  browse: 'Browse',\r\n  nodePickerDialogTitle: 'Select {0}',\r\n  originalNodeUnavailable: 'Referenced item can not be accessed anymore',\r\n  originalNodeUnavailableTooltip: 'The original node is unavailable or you do not have' +\r\n                                  ' permission to access it.',\r\n  remove: \"Remove\",\r\n  cancel: \"Cancel\",\r\n  edit: \"Edit\",\r\n  toggleTitle: \"{0}:Toggle breadcrumb\",\r\n  fieldEditAria: '{0}:{1}, Press Enter or F2 to Edit',\r\n  fieldWriteDescribedByAria: \"Press Space to Open Select Dialog\"\r\n});\r\n\n","\ncsui.define('css!workflow/controls/form/impl/fields/itempicker/itempicker',[],function(){});\n","csui.define('workflow/controls/form/fields/itempickerfield.view',['csui/lib/underscore', 'csui/lib/jquery',\r\n      'csui/lib/backbone', 'csui/lib/marionette',\r\n      'csui/models/node/node.model',\r\n      'csui/utils/contexts/factories/node',\r\n      'csui/controls/form/fields/nodepickerfield.view',\r\n      'csui/behaviors/default.action/default.action.behavior',\r\n      'csui/dialogs/node.picker/node.picker',\r\n      'i18n!csui/controls/form/impl/nls/lang',\r\n      'workflow/controls/breadcrumbs/breadcrumbs.view',\r\n      'hbs!workflow/controls/form/impl/fields/itempicker/itempicker',\r\n      'i18n!workflow/controls/form/impl/nls/lang',\r\n      'css!workflow/controls/form/impl/fields/itempicker/itempicker'\r\n    ], function (_, $, Backbone, Marionette, NodeModel, NodeModelFactory, NodePickerFieldView,\r\n        DefaultActionBehavior, NodePicker, langFormcsui,\r\n        BreadcrumbsView, template, lang) {\r\n      'use strict';\r\n\r\n      var ItemPickerFieldView = NodePickerFieldView.extend({\r\n        template: template,\r\n        templateHelpers: function () {\r\n          var multiFieldLabel        = \"\",\r\n              data                   = langFormcsui.noValue,\r\n              readModeAria           = \"\", // better default value?\r\n              readModeMultiFieldAria = \"\", // better default value?;\r\n              isRequired             = false,\r\n              isReadOnly             = this.mode === \"readonly\",\r\n              requiredTxt            = \"\",\r\n              toggleAria             = \"\",\r\n              isMultiField           = false;\r\n\r\n          isRequired = this.options.alpacaField && this.options.alpacaField.isRequired();\r\n          requiredTxt = isRequired ? langFormcsui.requiredField : \"\";\r\n\r\n          //data is just used for aria label, contains either noValue text, the name of the document\r\n          //or the error message originalNodeUnavailable\r\n          if (this.ancestors.pluck('name').length > 0) {\r\n            var ancestors = this.ancestors.pluck('name');\r\n            data = ancestors[ancestors.length - 1];\r\n          }\r\n\r\n          if (this.node.get('nodeError')) {\r\n            data = lang.originalNodeUnavailable;\r\n          }\r\n\r\n          if (this.alpacaField && this.alpacaField.options &&\r\n              this.alpacaField.options.isMultiFieldItem) {\r\n            multiFieldLabel = (this.alpacaField.parent && this.alpacaField.parent.options) ?\r\n                              this.alpacaField.parent.options.label : \"\";\r\n            isMultiField = this.alpacaField.options.isMultiFieldItem;\r\n          }\r\n          //readModeAria and readModeMultiFieldAria are used for aria-labels\r\n          if (isMultiField) {\r\n            readModeMultiFieldAria = isReadOnly ?\r\n                                     langFormcsui.fieldReadOnlyAria.replace('{0}',\r\n                                         multiFieldLabel).replace('{1}',\r\n                                         data) + requiredTxt :\r\n                                     lang.fieldEditAria.replace('{0}',\r\n                                         multiFieldLabel).replace(\r\n                                         '{1}',\r\n                                         data) + requiredTxt;\r\n            toggleAria = lang.toggleTitle.replace('{0}', multiFieldLabel);\r\n          }\r\n          else {\r\n            if ((this.model.get('options')) && (this.model.get('options').label)) {\r\n              readModeAria = isReadOnly ? langFormcsui.fieldReadOnlyAria.replace('{0}',\r\n                  this.model.get('options').label).replace('{1}', data) +\r\n                                          requiredTxt :\r\n                             lang.fieldEditAria.replace('{0}',\r\n                                 this.model.get('options').label).replace(\r\n                                 '{1}', data) + requiredTxt;\r\n              toggleAria = lang.toggleTitle.replace('{0}', this.model.get('options').label);\r\n            }\r\n          }\r\n\r\n          return {\r\n            inputType: 'text',\r\n            idBtnLabel: this.options.labelId,\r\n            ariaDescribedById: _.uniqueId(\"id_\"),\r\n            fieldWriteDescribedByAria: lang.fieldWriteDescribedByAria,\r\n            readModeAria: readModeAria,\r\n            readModeMultiFieldAria: readModeMultiFieldAria,\r\n            multiFieldLabel: multiFieldLabel,\r\n            browse: lang.browse,\r\n            remove: lang.remove,\r\n            cancel: lang.cancel,\r\n            toggleTitle: toggleAria,\r\n            edit: lang.edit\r\n          };\r\n        },\r\n\r\n        ui: {\r\n          readArea: '.cs-field-read',\r\n          readField: '.cs-field-read .item-reference-link',\r\n          writeArea: '.cs-field-write',\r\n          writeField: '.cs-field-write input',\r\n          writeButton: '.cs-field-write button',\r\n          anchor: '.cs-field-read a',\r\n          more: '.inline-edit-more-button',\r\n          buttonMore: '.inline-edit-more-button',\r\n          breadCrumbs: '.breadcrumb-inner',\r\n          clear: '.inline-clear-itempicker-button',\r\n          errMsg: '.item-reference-error-msg',\r\n          writeBrowseButton: '.cs-field-write .invoke-picker',\r\n          cancelIcon: '.edit-cancel',\r\n          browseButton: '.invoke-picker',\r\n          placeHolder: 'span.placeholder',\r\n          placeHolderButton: 'button.itempicker'\r\n        },\r\n        events: {\r\n          'focusout @ui.writeButton': 'onFocusOutBtn',\r\n          'focusin @ui.anchor': 'onFocusInAnchor',\r\n          'focusin @ui.writeField': 'onFocusInWriteField',\r\n          'mousedown @ui.writeField': 'onClickWriteField',\r\n          'keydown @ui.writeField': 'onKeydownWriteField',\r\n          'keydown @ui.writeArea': 'onKeydownWriteArea',\r\n          'click @ui.browseButton': 'onClickBrowse',\r\n          'keydown @ui.browseButton': 'onKeydownBrowse',\r\n          'click @ui.anchor': 'onClickButton',\r\n          'keydown @ui.anchor': 'onKeydownButton',\r\n          'click @ui.more': 'onClickMore',\r\n          'keydown @ui.buttonMore': 'onKeydownMore',\r\n          'click @ui.clear': 'clearFieldvalue',\r\n          'keydown @ui.clear': 'clearFieldvalueKeydown',\r\n          'mousedown @ui.writeBrowseButton, @ui.clear ': 'onMouseDownWriteElements',\r\n          'click @ui.cancelIcon': 'onCancelClicked',\r\n          'click @ui.placeHolder': 'onClickPlaceHolder',\r\n          'keypress @ui.placeHolderButton': 'onKeypressPlaceHolder',\r\n          'keydown @ui.placeHolderButton': 'onKeydownPlaceHolder'\r\n        },\r\n\r\n        onFocusOutBtn: function (event) {\r\n          setTimeout(_.bind(function () {\r\n            if (this.$el.find('.cs-field-write').find(document.activeElement).length) {\r\n              event.preventDefault();\r\n              event.stopPropagation();\r\n              return false;\r\n            }\r\n            this.ui.writeField.trigger('blur');\r\n            return true;\r\n          }, this), 50);\r\n        },\r\n\r\n        onFocusInWriteField: function (event) {\r\n          //used to set focus after render\r\n          this.changedKey = false;\r\n        },\r\n\r\n        onClickPlaceHolder: function (event) {\r\n          //click on empty field nothing happens, use edit icon to set in edit mode\r\n          //without this a coreui code tries to open the empty link\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        },\r\n\r\n        onKeydownPlaceHolder: function (event) {\r\n          if ((event.keyCode === 32) && !(this.alpacaField.options.isMultiFieldItem)) {\r\n            //with space in empty field nothing happens\r\n            //without this a coreui code tries to open the empty link\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n          }\r\n        },\r\n\r\n        onKeypressPlaceHolder: function (event) {\r\n          //Enter on empty field stop propagation to onKeyPress of csformfield.editable.behavior.js\r\n          //and call own function\r\n          if (((event.keyCode === 13) || (event.keyCode === 32)) &&\r\n              !(this.alpacaField.options.isMultiFieldItem)) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            if (event.keyCode === 13) {\r\n              if (this.getStatesBehavior().isStateRead()) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                this.getEditableBehavior().setViewStateWriteAndEnterEditMode();\r\n              }\r\n            }\r\n          }\r\n        },\r\n\r\n        //overwrite onKeyPress of nodepickerfield.view.js which would show the NodePicker\r\n        onKeyPress: function (event) {\r\n          //just let any key (especially 'enter') bubble to onKeyPress of\r\n          // csformfield.editable.behavior.js\r\n        },\r\n\r\n        // overwrite false in nodepicker\r\n        allowEditOnEnter: function () {\r\n          return true;\r\n        },\r\n\r\n        onMouseDownWriteElements: function (e) {\r\n          // when clicked on browse button and clear icon\r\n          // the field should be in edit mode and\r\n          // should not save the field\r\n          this._isReadyToSave = false;\r\n        },\r\n\r\n        //anchor behavior in read mode\r\n        onKeydownButton: function (event) {\r\n          //with space Execute the default action for the attachment - open or download, or...\r\n          var formView = this.options.formView;\r\n          if (event.keyCode === 32) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.onClickButton(event);\r\n          }\r\n          if ((event.keyCode === 13) && !(this.alpacaField.options.isMultiFieldItem)) {\r\n            // Enter set into edit mode\r\n            if (this.getStatesBehavior().isStateRead()) {\r\n              event.preventDefault();\r\n              event.stopPropagation();\r\n              this.getEditableBehavior().setViewStateWriteAndEnterEditMode();\r\n            }\r\n          }\r\n          if ((event.keyCode === 13) && (this.alpacaField.options.isMultiFieldItem) &&\r\n              (formView.mode === 'create') && (this.getStatesBehavior().isStateRead())) {\r\n            // when there is a readonly mulitvalue field in draft mode enter should do nothing\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n          }\r\n        },\r\n\r\n        //behavior in write mode when focus is on input field\r\n        onKeydownWriteField: function (event) {\r\n          //with 'Enter' and 'F2' set changedkey which sets later on the correct focus\r\n          if ((event.keyCode === 13) || (event.keyCode === 113)) {\r\n            this.changedKey = true;\r\n          }\r\n          //With Escape do the same as with click on cancel icon\r\n          else if (event.keyCode === 27) {\r\n            this.onCancelClicked(event);\r\n          }\r\n          //with space Execute the default action, same as with onClickWriteField\r\n          else if (event.keyCode === 32) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.onClickWriteField(event);\r\n          }\r\n          //for all other keys (except the tab) don't let anything happen, no typing allowed in this\r\n          // field, the 'tab or 'shift tab' will be handled by another function\r\n          else if (event.keyCode !== 9) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n          }\r\n        },\r\n\r\n        //behavior in write mode when focus is on any field\r\n        onKeydownWriteArea: function (event) {\r\n          //with 'F2' set changedkey which sets later on the correct focus\r\n          if (event.keyCode === 113) {\r\n            this.changedKey = true;\r\n          }\r\n          //With Escape do the same as with click on cancel icon\r\n          if (event.keyCode === 27) {\r\n            this.onCancelClicked(event);\r\n          }\r\n        },\r\n\r\n        onKeydownBrowse: function (event) {\r\n          //With Enter do the same as with clikc\r\n          if (event.keyCode === 13) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.onClickBrowse(event);\r\n          }\r\n        },\r\n\r\n        onClickBrowse: function (event) {\r\n          this._isReadyToSave = true;\r\n          event.preventDefault();\r\n          this.$el.find(\"#\" + this.model.get('id')).trigger(\"focus\");\r\n          this._showNodePicker();\r\n        },\r\n\r\n        clearFieldvalueKeydown: function (event) {\r\n          //with enter clear value, same as clearFieldvalue\r\n          if (event.keyCode === 13) {\r\n            this.clearFieldvalue(event);\r\n          }\r\n        },\r\n\r\n        clearFieldvalue: function (event) {\r\n          this._isReadyToSave = true;\r\n          //updating the write field with empty\r\n          this.ui.writeField.val(\"\");\r\n          this.clearField = true;\r\n          this.newNode = undefined;\r\n          this.editVal = \"\";\r\n          // hide clear button\r\n          this.ui.clear.addClass('binf-hidden');\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.ui.writeField.trigger(\"focus\");\r\n        },\r\n\r\n        //overwrite the function in nodepickerfield.view because of readonly behavior in Draft mode\r\n        onClickButton: function (event) {\r\n          event.preventDefault();\r\n          var formView = this.options.formView;\r\n          // Execute the default action only in the form is not in the creation\r\n          // mode and if the field points to a real node\r\n          if (formView.mode !== 'create' && this.node.get('id')) {\r\n            this.triggerMethod('execute:defaultAction', this.node);\r\n          }\r\n          // when there is a readonly field in draft mode with a default value default action should work\r\n          if (formView.mode === 'create' && this.node.get('id') &&\r\n              this.getStatesBehavior().isStateRead()) {\r\n            this.triggerMethod('execute:defaultAction', this.node);\r\n          }\r\n        },\r\n\r\n        setStateRead: function (validate, focus) {\r\n          if (this.fieldsave) {\r\n            this.fieldsave = undefined;\r\n\r\n            //deleting the error messages\r\n            if (this.$el.parents(\".binf-form-group.alpaca-field\") &&\r\n                this.$el.parents(\".binf-form-group.alpaca-field\").find(\".alpaca-message\")) {\r\n              this.$el.parents(\".binf-form-group.alpaca-field\").find(\".alpaca-message\").val(\"\");\r\n            }\r\n            if (this.$el.hasClass('cs-formfield-invalid')) {\r\n              this.$el.removeClass('cs-formfield-invalid');\r\n            }\r\n            this._updateNodesInRead();\r\n          } else {\r\n            if (this.alpacaField.options.isMultiFieldItem) {\r\n              this._updateNodesInRead();\r\n            }\r\n          }\r\n          this.browseBtn = undefined;\r\n\r\n          this.ui.writeArea.addClass('binf-hidden');\r\n          this.ui.readArea.removeClass('binf-hidden');\r\n\r\n          return true;\r\n        },\r\n\r\n        _updateNodesInRead: function () {\r\n          if (this.newNode) {\r\n            //updating the node to show the ancestor paths\r\n            this.node.set(this.newNode.attributes);\r\n            this.newNode = undefined;\r\n            this.clearField = undefined;\r\n          }\r\n          if (this.clearField) {\r\n            this.clearField = undefined;\r\n            if (!(this.alpacaField.options.isMultiFieldItem)) {\r\n              this.setValue(null, true);\r\n            }\r\n            //clearing the node and ancestors path when clicked on clear icoon and rendering the node\r\n            this.node.clear();\r\n            this.ancestors._reset();\r\n\r\n            this._renderNode();\r\n          }\r\n        },\r\n\r\n        /*\r\n         * overridden to avoid selection of field text\r\n         */\r\n        setStateWrite: function (validate, focus) {\r\n          if (this.breadcrumbsView && this.breadcrumbsView.rendered) {\r\n            this.ui.breadCrumbs.addClass('binf-hidden');\r\n            this.ui.more.attr('aria-expanded', 'false');\r\n          }\r\n\r\n          this.ui.readArea.addClass('binf-hidden');\r\n          this.ui.writeArea.removeClass('binf-hidden');\r\n\r\n          //when opening in write mode for first time, focus should be on browse button\r\n          //in other scenarios default focus should be on write field\r\n          if (!this.browseBtn) {\r\n            this.browseBtn = true;\r\n            this.ui.browseButton.trigger(\"focus\");\r\n          } else if (focus) {\r\n            this.ui.writeField.trigger(\"focus\");\r\n          }\r\n          return true;\r\n        },\r\n\r\n        onKeydownMore: function (event) {\r\n          //with enter on more button, show breadcrumbs\r\n          if (event.keyCode === 13 || event.keyCode === 27) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.processBreadcrumbsView();\r\n          }\r\n        },\r\n\r\n        processBreadcrumbsView: function () {\r\n          if (this.breadcrumbsView) {\r\n            this.breadcrumbsView.rendered ? this.hideBreadcrumb() : this.showBreadcrumb();\r\n          } else {\r\n            this.createBreadcrumb();\r\n          }\r\n        },\r\n\r\n        createBreadcrumb: function () {\r\n          var collections     = this.ancestors,\r\n              breadcrumbsView = new BreadcrumbsView({\r\n                context: this.options.context,\r\n                collection: collections,\r\n                node: collections.node\r\n              });\r\n          collections.unbind('sync');\r\n          breadcrumbsView.listenTo(this.model, 'change', _.bind(function (res) {\r\n            // TODO: need to synchronize breadcrumb collection, for now fetch latest ancestors.\r\n            this.ancestors.fetch();\r\n            this.breadcrumbsView = undefined;\r\n          }, this));\r\n\r\n          if (collections.isFetchable()) {\r\n            collections.fetch().done(_.bind(function (res) {\r\n              breadcrumbsView.completeCollection = collections;\r\n              this.breadcrumbsView = breadcrumbsView;\r\n              var breadcrumbRegion = new Marionette.Region({el: '.breadcrumb-inner.id-' + this.id});\r\n              breadcrumbRegion.show(this.breadcrumbsView);\r\n              this.showBreadcrumb();\r\n            }, this));\r\n          }\r\n        },\r\n\r\n        showBreadcrumb: function () {\r\n          this.ui.breadCrumbs.removeClass('binf-hidden');\r\n          this.ui.more.attr('aria-expanded', 'true');\r\n          this.breadcrumbsView.rendered = true;\r\n          this.breadcrumbsView.synchronizeCollections();\r\n        },\r\n\r\n        hideBreadcrumb: function () {\r\n          this.ui.breadCrumbs.addClass('binf-hidden');\r\n          this.ui.more.attr('aria-expanded', 'false');\r\n          this.breadcrumbsView.rendered = false;\r\n        },\r\n\r\n        onClickMore: function (event) {\r\n          event.preventDefault();\r\n          this.processBreadcrumbsView();\r\n        },\r\n\r\n        _onWindowResize: function () {\r\n          if (this.resizeTimer) {\r\n            clearTimeout(this.resizeTimer);\r\n          }\r\n          this.resizeTimer = setTimeout(_.bind(function () {\r\n            this._isReadyToSave = false;\r\n            // FIXME: When resizing the window, the failure about fetching the\r\n            // previously selected node will be lost.  Shouldn't it stay there\r\n            // until another node is not selected?\r\n\r\n            var options = {};\r\n            options.url = DefaultActionBehavior.getDefaultActionNodeUrl(this.node);\r\n            options.enabled = this.defaultActionController.hasAction(this.node);\r\n            options.anchorTitle = this.ancestors.pluck('name').join(' > ');\r\n            options.anchorShortTitle = this._prepareFieldText();\r\n            var ancestors = this.ancestors.pluck('name');\r\n            options.anchorName = ancestors[ancestors.length - 1];\r\n            this._renderField(options);\r\n\r\n            this.getStatesBehavior().setStateRead(false, true);\r\n            this._isReadyToSave = true;\r\n          }, this), 200);\r\n        },\r\n        _renderNode: function () {\r\n          var options = {};\r\n          options.url = DefaultActionBehavior.getDefaultActionNodeUrl(this.node);\r\n          options.enabled = this.defaultActionController.hasAction(this.node);\r\n          options.anchorTitle = this.ancestors.pluck('name').join(' > ');\r\n          options.anchorShortTitle = this._prepareFieldText();\r\n          var ancestors = this.ancestors.pluck('name');\r\n          options.anchorName = ancestors[ancestors.length - 1];\r\n          this.node.unset('nodeError');\r\n          this._renderField(options);\r\n          //this is only true when the _renderNode is called after a change of the item\r\n          // reference and the change was submitted by 'F2' or 'Enter' in this case set focus()\r\n          if ((this.$el.width() > 0) && (ancestors.length > 0) && (this.mode !== \"readonly\") &&\r\n              (this.changedKey)) {\r\n            this.ui.readField.trigger(\"focus\");\r\n          }\r\n        }\r\n        ,\r\n\r\n        _renderField: function (options) {\r\n          var errorCase, errorMsg;\r\n          if (this.node.get('nodeError')) {\r\n            errorCase = true;\r\n            errorMsg = lang.originalNodeUnavailable;\r\n            options.url = '#';\r\n            options.enabled = false;\r\n            options.anchorName = \"\";\r\n            options.anchorShortTitle = \"\";\r\n            options.anchorTitle = \"\";\r\n          } else {\r\n            errorCase = false;\r\n          }\r\n          // update model with ancestor data\r\n          this.model.attributes.options.item = {};\r\n          _.extend(this.model.attributes.options.item, {\r\n                url: options.url,\r\n                buttonDisabled: !options.enabled,\r\n                disabledClass: options.enabled ? '' : 'binf-disabled',\r\n                anchorTitle: options.anchorTitle,\r\n                itemName: options.anchorName,\r\n                anchorTitleShort: options.anchorShortTitle,\r\n                nodeId: options.id ? options.id : this.id,\r\n                errorCase: errorCase,\r\n                errorMsg: errorMsg\r\n              }\r\n          );\r\n          this.render();\r\n        },\r\n\r\n        _getNodePicker: function () {\r\n          var alpOptions = this.model.get('options') || {},\r\n              alpSchema  = this.model.get('schema') || {},\r\n              label      = alpOptions.label || alpSchema.title,\r\n              selectableTypes,\r\n              parent;\r\n          var attachmentFolderVal = $(\"#attachmentFolderId\").val();\r\n          if (attachmentFolderVal) {\r\n            var attachmentFolderId = parseInt(attachmentFolderVal);\r\n          }\r\n          // Parent node should be passed in the field options to save\r\n          // UI from having to fetch the node from the server; if not,\r\n          // fall back to the expanded property of the fetched node\r\n\r\n          if (this.model.get('multiFiedsItem')) {\r\n            var type_control = this.model.get('typeControl');\r\n            if (type_control) {\r\n              selectableTypes = type_control.parameters.select_types;\r\n              parent = attachmentFolderId || type_control.parameters.parent ||\r\n                       this.node.parent && this.node.parent.attributes\r\n                       || undefined;\r\n            } else {\r\n              selectableTypes = alpOptions.select_types;\r\n              parent = attachmentFolderId || undefined;\r\n            }\r\n\r\n          } else {\r\n            selectableTypes = alpOptions.type_control.parameters.select_types;\r\n            parent = attachmentFolderId || alpOptions.type_control.parameters.parent ||\r\n                     this.node.parent && this.node.parent.attributes\r\n                     || undefined;\r\n          }\r\n          this.nodePicker = new NodePicker({\r\n            connector: this.connector,\r\n            dialogTitle: _.str.sformat(lang.nodePickerDialogTitle, label),\r\n            selectableTypes: selectableTypes,\r\n            globalSearch: true,\r\n            context: this.options.context,\r\n            initialContainer: {\r\n              // parent is either an object with node properties from the\r\n              // fetched node, or a number (parent_id) from the field options,\r\n              // or undefined\r\n              id: parent && parent.id || parent\r\n            },\r\n            initialSelection: [this.node]\r\n          });\r\n          return this.nodePicker;\r\n        },\r\n\r\n        _showNodePicker: function () {\r\n          if (!this._isReadyToSave) {\r\n            return;\r\n          }\r\n          this._isReadyToSave = false;\r\n\r\n          var nodePicker = this._getNodePicker(),\r\n              writeField = this.ui.writeField,\r\n              self       = this;\r\n          nodePicker.show()\r\n              .done(function (args) {\r\n                var newNode = args.nodes[0],\r\n                    newId   = newNode.get('id');\r\n\r\n                if (self.getStatesBehavior().isWriteOnly() ||\r\n                    self.getStatesBehavior().isStateWrite()) {\r\n                  // in create scenario remember new value\r\n                  self.editVal = newId;\r\n                } else {\r\n                  // in update scenario immediately save change to read state\r\n                  self.getStatesBehavior().setStateRead(false, true);\r\n                }\r\n\r\n                // Update the field to show the new node\r\n                if (self.model.get(\"multiFiedsItem\")) {\r\n                  self.$el.find(\"#\" + self.model.get('id')).val(newNode.get('name'));\r\n                } else {\r\n                  writeField.val(newNode.get('name'));\r\n                }\r\n                self.newNode = newNode;\r\n\r\n                // show clear button\r\n                self.ui.clear.removeClass('binf-hidden');\r\n                self.clearField = undefined;\r\n                self.ui.errMsg.addClass('binf-hidden');\r\n              })\r\n              .always(function () {\r\n                //setting the focus the writefield\r\n                writeField.trigger(\"focus\");\r\n                self._isReadyToSave = true;\r\n              });\r\n        },\r\n\r\n        trySetValue: function () {\r\n\r\n          var editVal               = this.getEditValue(), // new value\r\n              curVal                = this.getValue(),  // old value\r\n              bIsValid              = true,\r\n              isReadyToSaveView     = this.isReadyToSave(),\r\n              isFirstEditValueEmpty = (curVal === null && editVal === \"\"); // to stop server\r\n          // call when user does not enter any value for empty field\r\n\r\n          if (isReadyToSaveView && (editVal !== curVal || !isFirstEditValueEmpty)) {\r\n            bIsValid = this.setValue(editVal, true);\r\n            //setting the flag after saving the field value\r\n            this.fieldsave = true;\r\n          }\r\n\r\n          return bIsValid;\r\n        },\r\n\r\n        onCancelClicked: function () {\r\n\r\n          var name = this.node.get('name'),\r\n          hasName = !!name,\r\n          clearIcon = this.ui.clear;\r\n\r\n          //reset the editval to oldval\r\n          this.editVal = this.oldVal;\r\n          //clearing fields\r\n          this.clearField = undefined;\r\n          this.newNode = undefined;\r\n          // reset old value\r\n          this.ui.writeField.val(name);\r\n\r\n          if (hasName) {\r\n            clearIcon.removeClass('binf-hidden');\r\n          }\r\n          else {\r\n            clearIcon.addClass('binf-hidden');\r\n          }\r\n        },\r\n\r\n        _renderError: function () {\r\n          this.node.set('nodeError', true);\r\n          var options = {};\r\n          this._renderField(options);\r\n        }\r\n      });\r\n\r\n      return ItemPickerFieldView;\r\n    }\r\n);\r\n\n","csui.define('workflow/controls/form/fields/alpaca/alpcsuiitemreferencefield',['module', 'require', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/lib/alpaca/js/alpaca',\r\n  \"csui/models/node/node.model\",\r\n  'workflow/controls/form/fields/itempickerfield.view',\r\n  'i18n!workflow/controls/form/impl/nls/lang'\r\n], function (module, _require, _, $, Backbone, Marionette, Alpaca, NodeModel, NodePickerFieldView,\r\n    Lang) {\r\n  'use strict';\r\n\r\n  Alpaca.Fields.CsuiItemReferenceField = Alpaca.Fields.IntegerField.extend({\r\n    constructor: function ItemPickerField(container, data, options, schema,\r\n        view, connector, onError) {\r\n      this.base(container, data, options, schema, view, connector, onError);\r\n      this.on(\"showNodePickerDialog\", this.actionTriggerShowNodePickerDialog);\r\n    },\r\n\r\n    getFieldType: function () {\r\n      return 'item_reference_picker';\r\n    },\r\n\r\n    postRender: function (callback) {\r\n      this.base(callback);\r\n      this.showField();\r\n    },\r\n\r\n    showField: function () {\r\n\r\n      var id = this.id,\r\n          type_control;\r\n\r\n      this.options.id = \"lbl\" + _.uniqueId(id);\r\n\r\n      // add an id to the <label> element like alpaca23Label\r\n      var id4Label,\r\n          labelElement = $(this.field[0]).find('label');\r\n\r\n      if (labelElement && labelElement.length === 1) {\r\n        id4Label = labelElement.attr('for') + \"Label\";\r\n        labelElement.attr('id', id4Label);\r\n      }\r\n\r\n      if (this.options.isMultiFieldItem) {\r\n        var name       = this.name,\r\n            childField = parseInt(name.substr(name.length - 1));\r\n        type_control = this.options.type_control[Object.keys(\r\n            this.options.type_control)[childField]];\r\n\r\n        // This \"Item\" will be added to Item Reference field options onRender\r\n        //In case of adding new fields in multiVale\r\n        //the options will get from the field options where add icon is clicked\r\n        //so the deleting the 'item'\r\n        delete this.options[\"item\"];\r\n      }\r\n      this.options.placeholder = Lang.alpacaPlaceholderItemReferencePicker;\r\n      this.options.customField = true;\r\n\r\n      this.fieldView = new NodePickerFieldView({\r\n        context: this.connector.config.context,\r\n        formView: this.connector.config.formView,\r\n        model: new Backbone.Model({\r\n          data: this.data ? this.data : null,\r\n          options: this.options,\r\n          schema: this.schema,\r\n          typeControl: type_control,\r\n          multiFiedsItem: this.options.isMultiFieldItem,\r\n          id: id\r\n        }),\r\n        id: _.uniqueId(id),\r\n        alpacaField: this,\r\n        labelId: id4Label,\r\n        value: this.data,\r\n        readonly: true,\r\n        dataId: this.name,\r\n        path: this.path,\r\n        alpaca: {\r\n          data: this.data,\r\n          options: this.options,\r\n          schema: this.schema\r\n        }\r\n      });\r\n\r\n      // replace alpaca control with empty div having same classes as control\r\n      var $field = $('<div>').addClass('alpaca-control');\r\n      this.getControlEl().replaceWith($field);\r\n\r\n      // show our field in div\r\n      this.region = new Marionette.Region({el: $field});\r\n      this.region.show(this.fieldView);\r\n\r\n      return;\r\n    },\r\n\r\n    setValueAndValidate: function (value, validate) {\r\n      this.setValue(value);\r\n      var bIsValid = true;\r\n      if (validate) {\r\n        bIsValid = this.validate();\r\n        this.refreshValidationState(false);\r\n      }\r\n      return bIsValid;\r\n    },\r\n\r\n    focus: function () {\r\n      this.fieldView.$el.focus();\r\n    },\r\n\r\n    destroy: function () {\r\n      this.base();\r\n      if (this.region) {\r\n        this.region.destroy();\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  Alpaca.registerFieldClass('item_reference_picker', Alpaca.Fields.CsuiItemReferenceField,\r\n      'bootstrap-csui');\r\n  Alpaca.registerFieldClass('item_reference_picker', Alpaca.Fields.CsuiItemReferenceField,\r\n      'bootstrap-edit-horizontal');\r\n\r\n  return $.alpaca.Fields.ItemPickerField;\r\n});\r\n\n","// An application widget is exposed via a RequireJS module\r\ncsui.define('workflow/widgets/workitem/workitem.properties/workitem.properties.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/lib/jquery',\r\n  'csui/utils/log',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/controls/form/form.view',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'workflow/widgets/message/message.view',\r\n  'workflow/widgets/workitem/workitem.properties/impl/workitem.instructions.view',\r\n  'workflow/utils/workitem.extension.controller',\r\n  'hbs!workflow/widgets/workitem/workitem.properties/impl/workitem.properties',\r\n  'i18n!workflow/widgets/workitem/workitem/impl/nls/lang',\r\n  'i18n!workflow/widgets/workitem/workitem.properties/impl/nls/lang',\r\n  'css!workflow/widgets/workitem/workitem.properties/impl/workitem.properties',\r\n  'workflow/controls/form/fields/alpaca/alpcsuirealfield',\r\n  'workflow/controls/form/fields/alpaca/alpcsuiitemreferencefield'\r\n], function (_, Backbone, Marionette, $, log, LayoutViewEventsPropagationMixin,\r\n    PerfectScrollingBehavior, FormView, GlobalMessage, MessageView,\r\n    WorkItemInstructionsView, WorkItemExtensionController, template, lang, WorkItemPropertiesLang) {\r\n  'use strict';\r\n\r\n  // A collection of form views to show the detail information about a workitem\r\n  var FormsView = Marionette.CollectionView.extend({\r\n\r\n    // core-ui forms as child views\r\n    childView: FormView,\r\n\r\n    // each form element should have a parent div element\r\n    tagName: 'div',\r\n\r\n    // each form element should have a parent class\r\n    className: 'workflow-workitem-form',\r\n\r\n    saveFormDeferred: [],\r\n\r\n    childViewOptions: function (model, index) {\r\n      var columns = model.get('Columns');\r\n      var doubleCol = columns > 1 ? 'doubelCol' : 'singleCol';\r\n      var options = _.extend({layoutMode: doubleCol}, this.options);\r\n      return options;\r\n    },\r\n\r\n    onShow: function () {\r\n      var that = this;\r\n      var saveFormsList = [];\r\n      this.options.node.set('saveFormsList', saveFormsList);\r\n      //reset on onShow the saveFormDeferred\r\n      this.saveFormDeferred = [];\r\n      if (this.options.mode) {\r\n        _.each(this.children._views, function (formView) {\r\n          if ((that.options.mode === \"create\")) {\r\n            //for draft process the event is added, to refresh the same definition fields when\r\n            // one of the fields modified.\r\n            that.listenTo(formView, 'change:field', that.refreshSameDefFields);\r\n\r\n            //call onRenderedForm (which triggers rendered:formsView) when render:form is\r\n            // triggered,  so that a dom:refresh can be made to update the scrollbar (LPAD-77885)\r\n            that.listenTo(formView, 'render:form', that.onRenderedForm);\r\n          } else {\r\n            //only when this is not a draft process the event is added, because for draft\r\n            //save is only done when the process is started\r\n            that.listenTo(formView, 'change:field', that._saveField);\r\n\r\n            //call onRenderedForm (which triggers rendered:formsView) when render:form is\r\n            // triggered,  so that a dom:refresh can be made to update the scrollbar (LPAD-77885)\r\n            that.listenTo(formView, 'render:form', that.onRenderedForm);\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    _addValidationErrorElement: function () {\r\n\r\n      var views = this.children._views;\r\n      views[Object.keys(views)[0]].$el.before('<div class=\"metadata-validation-error\"></div>');\r\n      this.validationErrorElem = $(this.$el.find('.metadata-validation-error')[0]);\r\n\r\n      this.validationErrorElem.append(\r\n          '<button class=\"icon notification_error cs-close-error-icon\" title=\"' +\r\n          WorkItemPropertiesLang.HideValidationErrorMessageIconTooltip +\r\n          '\" aria-label=\"' + WorkItemPropertiesLang.HideValidationErrorMessageIconTooltip +\r\n          '\" ></button>');\r\n      this.validationErrorElem.append('<span class=\"validation-error-message\">' +\r\n                                      WorkItemPropertiesLang.FormValidationErrorMessage +\r\n                                      '</span>');\r\n      this.validationErrorElem.hide();\r\n\r\n      var closeIcon = $(this.$el.find('.metadata-validation-error .cs-close-error-icon')[0]);\r\n      closeIcon && closeIcon.on('click', _.bind(function (event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this._hideValidationError();\r\n      }, this));\r\n\r\n    },\r\n\r\n    _validateForm: function () {\r\n      var formValid = true, currentForm;\r\n      _.each(this.children._views, function (formView) {\r\n        var bValidateChildren = true;\r\n        if (formView.form) {\r\n          formView.form.refreshValidationState(bValidateChildren);\r\n          currentForm = formView.form.isValid(bValidateChildren);\r\n          formValid = formValid && currentForm;\r\n        }\r\n      });\r\n      return formValid;\r\n    },\r\n\r\n    _saveForms: function () {\r\n\r\n      var counter = 0;\r\n      var workItemModel = this.options.node;\r\n      this.saveFormDeferred.push([]);\r\n\r\n      _.each(this.children._views, _.bind(function (formView) {\r\n\r\n        // saving form data\r\n        var values = formView.form.getValue();\r\n        if (_.keys(values).length) {\r\n          var options = {\r\n            action: \"formUpdate\",\r\n            values: values\r\n          };\r\n          //to make this synchron create a list with promises, only when they are resolved the\r\n          // _ExecuteAction in the workitem.view is executed\r\n          var formToSave = $.Deferred();\r\n          var saveFormsList = workItemModel.get('saveFormsList');\r\n          saveFormsList.push(formToSave.promise());\r\n          workItemModel.set('saveFormsList', saveFormsList);\r\n\r\n          counter++;\r\n          this.saveFormDeferred.push([]);\r\n          //create for every call a list with the calls he has to wait for\r\n          _.each(this.saveFormDeferred[counter - 1], _.bind(function (deferredObject) {\r\n            this.saveFormDeferred[counter].push(deferredObject);\r\n          }, this));\r\n          this.saveFormDeferred[counter].push(formToSave);\r\n\r\n          //to make every form save synchron, wait until the saveFormDeferred from before is resolved\r\n          $.when.apply($, this.saveFormDeferred[counter - 1]).done(_.bind(function () {\r\n            formView._blockActions();\r\n            formView.model._saveChanges(options, formView)\r\n                .done(_.bind(function () {\r\n                  formToSave.resolve();\r\n                }, this))\r\n                .fail(_.bind(function (error) {\r\n                  GlobalMessage.showMessage('error', error.message);\r\n                  formView.trigger('forms:error');\r\n                  formToSave.reject();\r\n                }, this))\r\n                .always(_.bind(function () {\r\n                  formView._unblockActions();\r\n                }, this));\r\n          }, this));\r\n        }\r\n      }, this));\r\n    },\r\n\r\n    onRenderedForm:function () {\r\n      this.triggerMethod('rendered:formsView');\r\n    },\r\n\r\n    _showValidationError: function () {\r\n\r\n      if (this.validationErrorElem === undefined) {\r\n        this._addValidationErrorElement();\r\n      }\r\n      if (this.$el.find('.alpaca-message-notOptional').length > 0) {\r\n        this.validationErrorElem && this.validationErrorElem.show();\r\n      } else {\r\n        this.validationErrorElem && this.validationErrorElem.hide();\r\n      }\r\n\r\n    },\r\n\r\n    _hideValidationError: function () {\r\n      this.validationErrorElem && this.validationErrorElem.hide();\r\n    },\r\n\r\n    _clearValidationError: function () {\r\n      if (this.validationErrorElem) {\r\n        this.validationErrorElem.remove();\r\n        delete this.validationErrorElem;\r\n      }\r\n    },\r\n\r\n    _saveField: function (args) {\r\n\r\n      this._showValidationError();\r\n\r\n      var counter = this.saveFormDeferred.length;\r\n\r\n      var formView = args.view;\r\n      var views = this.children._views;\r\n\r\n      //get the form values\r\n      var values = formView.form.getValue();\r\n\r\n      if (_.keys(views).length > 1 ) {\r\n        // get values from all form sections\r\n        _.each(views, function(view) {\r\n          if ( formView.cid !== view.cid ) {\r\n            var formValues = view.form.getValue();\r\n            var fieldNames = _.keys(formValues);\r\n            if ( fieldNames.length ) {\r\n              for (var i = 0; i < fieldNames.length; i++) {\r\n                var fieldName = fieldNames[i];\r\n                if (!_.has(values, fieldName)) {\r\n                  values[fieldName] = formValues[fieldName];\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      this.args = args;\r\n      this.values = values;\r\n      this.name = args.parentField ? args.parentField.name : args.name;\r\n\r\n      if (_.keys(values).length) {\r\n        if (formView._validate(values)) {\r\n          var options = {\r\n            action: \"formUpdate\",\r\n            values: values\r\n          };\r\n          formView._blockActions();\r\n\r\n          //to make this synchron create a list with promises, only when they are resolved the\r\n          // _ExecuteAction in the workitem.view is executed\r\n          var formToSave = $.Deferred();\r\n          var saveFormsList = this.options.node.get('saveFormsList');\r\n          saveFormsList.push(formToSave.promise());\r\n          this.options.node.set('saveFormsList', saveFormsList);\r\n\r\n          if (counter === 0) {\r\n            this.saveFormDeferred.push([]);\r\n            counter++;\r\n          }\r\n          this.saveFormDeferred.push([]);\r\n          //create for every call a list with the calls he has to wait for\r\n          _.each(this.saveFormDeferred[counter - 1], _.bind(function (deferredObject) {\r\n            this.saveFormDeferred[counter].push(deferredObject);\r\n          }, this));\r\n          this.saveFormDeferred[counter].push(formToSave);\r\n          //to make every form save synchron, wait until the saveFormDeferred List from before is\r\n          // resolved\r\n          $.when.apply($, this.saveFormDeferred[counter - 1]).done(_.bind(function () {\r\n            args.model._saveChanges(options, formView).done(_.bind(function () {\r\n                  //setting the saved field value to the alpaca form model\r\n                  formView.model.attributes.data[this.name] = this.values[this.name];\r\n                  var draftProcess = false;\r\n                  this.checkSameDefField(this.args, draftProcess);\r\n                  formView.trigger('forms:sync');\r\n                  // event for keyboard navigation\r\n                  var event = $.Event('tab:content:field:changed');\r\n                  formView.$el.trigger(event);\r\n                  formToSave.resolve();\r\n                }, this))\r\n                .fail(_.bind(function (error) {\r\n                  GlobalMessage.showMessage('error', error.message);\r\n                  formView.trigger('forms:error');\r\n                  formToSave.reject();\r\n                }, this))\r\n                .always(_.bind(function () {\r\n                  formView._unblockActions();\r\n                }, this));\r\n          }, this));\r\n\r\n        }\r\n      }\r\n\r\n    },\r\n\r\n    refreshSameDefFields: function (args) {\r\n      var draftProcess = args.draftProcess ? args.draftProcess : true;\r\n      this.checkSameDefField(args, draftProcess);\r\n    },\r\n\r\n    parseSection: function (model, obj) {\r\n\r\n      var viewId    = this.children._indexByModel[model.cid],\r\n          fieldView = this.children._views[viewId].form ?\r\n                      this.children._views[viewId].form.childrenByPropertyId[obj.name] : \"\",\r\n          formView  = this.children._views[viewId];\r\n\r\n      if (fieldView) {\r\n        //If the field view is multivalued view\r\n        if (fieldView.type === \"array\") {\r\n\r\n          var fieldsArrayLength = fieldView.children.length,\r\n              valueArrayLength  = obj.currentfieldValue.length,\r\n              length            = 0;\r\n\r\n          if (fieldsArrayLength !== valueArrayLength) {\r\n\r\n            // stop listening events for add and remove item in formview\r\n            this.stopListening(formView, 'change:field');\r\n            if (fieldsArrayLength > valueArrayLength) {\r\n\r\n              for (length = valueArrayLength; length < fieldsArrayLength; length++) {\r\n\r\n                //removing item in multivalue field view if the items are greater than actual item\r\n                // values\r\n                fieldView.removeItem(0, function () {});\r\n              }\r\n            } else if (fieldsArrayLength < valueArrayLength) {\r\n              for (length = fieldsArrayLength; length < valueArrayLength; length++) {\r\n                var itemData    = \"\",\r\n                    itemOptions = fieldView.children[0].options,\r\n                    itemSchema  = fieldView.children[0].schema;\r\n\r\n                //adding item in multivalue field view if the items are less than actual item\r\n                // values\r\n                fieldView.addItem(1, itemSchema, itemOptions, itemData, function () {});\r\n              }\r\n            }\r\n\r\n            // restarting listener for add and remove item in form view\r\n            if ((this.options.mode === \"create\")) {\r\n              //for draft process refresh the same definition fields when one of the fields is modified.\r\n              this.listenTo(formView, 'change:field', this.refreshSameDefFields);\r\n            } else {\r\n              //if not draft process save the fields on modification\r\n              this.listenTo(formView, 'change:field', this._saveField);\r\n            }\r\n          }\r\n\r\n          if (!obj.draftprocess) {\r\n            //only when this is not a draft process, all fields should be in read mode\r\n            fieldView._showItemsInReadMode();\r\n          }\r\n\r\n          _.each(fieldView.children, function (view, Index) {\r\n            if (view.data !== obj.currentfieldValue[Index]) {\r\n              view.setValueAndValidate(obj.currentfieldValue[Index], true);\r\n              view.refresh();\r\n            }\r\n          });\r\n        } else {\r\n          //If the view is single value view\r\n          fieldView.setValueAndValidate(obj.currentfieldValue, true);\r\n          fieldView.refresh();\r\n        }\r\n      }\r\n    },\r\n\r\n    checkSameDefField: function (args, draftprocess) {\r\n      var formView = args.view,\r\n          that     = this,\r\n          obj      = {};\r\n      obj.values = args.view.form.getValue();\r\n      obj.name = args.parentField ? args.parentField.name : args.name;\r\n      obj.draftprocess = draftprocess;\r\n      obj.currentfieldValue = obj.values[obj.name];\r\n\r\n      //parsing the sections to find the same definition fields or set the performer id for the\r\n      // current form views model\r\n      _.each(formView.collection.models, function (model) {\r\n        if (model !== formView.model && obj.name in model.attributes.data\r\n            && model.attributes.data[obj.name] !== obj.currentfieldValue) {\r\n          model.attributes.data[obj.name] = obj.currentfieldValue;\r\n          that.parseSection(model, obj);\r\n        } else if (model === formView.model && args.changePerformer) {\r\n          var viewId    = that.children._indexByModel[model.cid],\r\n              fieldView = that.children._views[viewId].form ?\r\n                          that.children._views[viewId].form.childrenByPropertyId[obj.name] : \"\";\r\n          if (fieldView) {\r\n            fieldView.setValueAndValidate(obj.currentfieldValue, true);\r\n            fieldView.refresh();\r\n          }\r\n        }\r\n      });\r\n    },\r\n  });\r\n\r\n  // An application widget is a view, because it should render a HTML fragment\r\n  var WorkItemContentView = Marionette.LayoutView.extend({\r\n\r\n    // Outermost parent element should contain a unique widget-specific class\r\n    className: 'workflow-workitem-properties',\r\n\r\n    // Template method rendering the HTML for the view\r\n    template: template,\r\n\r\n    // Constructor gives an explicit name to the object in the debugger and\r\n    // can update the options for the parent view, which `initialize` cannot\r\n    constructor: function WorkItemContentView(options) {\r\n      options || (options = {});\r\n\r\n      this.context = options.context;\r\n      this.parentView = options.parentView;\r\n      //passing workflow extensions to the view\r\n      this.extensions = options.extensions;\r\n\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n      // Cause the show events triggered on the parent view re-triggered\r\n      // on the views placed in the inner regions\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    regions: {\r\n      message: '.workitem-message',\r\n      instructions: '.workitem-instructions',\r\n      forms: '.workitem-forms',\r\n      extension: '.workitem-extension'\r\n    },\r\n\r\n    ui: {\r\n      selectMultiMap: '.workitem-multimap-select-message'\r\n    },\r\n    behaviors: {\r\n      ScrollingProperties: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 15\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n      // show work item model as body, use default layout for now\r\n      if (this.model) {\r\n        var mapsList = this.model.get('mapsList');\r\n        if (this.model.get('isDoc') === true && mapsList && mapsList.length !== 1) {\r\n          this.ui.selectMultiMap.text(WorkItemPropertiesLang.multiMapSelectMessage);\r\n          this.ui.selectMultiMap.css( \"display\", \"block\" );\r\n\r\n        }\r\n        // message view\r\n        var msg = this.model.get('message');\r\n        this.model.attributes.id = this.model.get('process_id');\r\n        if (msg) {\r\n          this.message.show(new MessageView({\r\n            connector: this.model.connector,\r\n            model: new Backbone.Model({\r\n              subject: msg.type,\r\n              sender: msg.performer,\r\n              text: msg.text\r\n            })\r\n          }));\r\n        }\r\n        // instructions view\r\n        this.instructions.show(new WorkItemInstructionsView({\r\n          context: this.context,\r\n          model: this.model\r\n        }));\r\n        // form view\r\n\r\n        var FormView = new FormsView({\r\n          context: this.options.context,\r\n          collection: this.model.forms,\r\n          node: this.model,\r\n          mode: (this.model.get('isDraft') || this.model.get('isDocDraft') ||\r\n                 (mapsList && mapsList.length === 1 )) ?\r\n                'create' : 'update'\r\n        });\r\n        this.listenTo(FormView, 'rendered:formsView', this.onRenderedFormsView);\r\n        this.forms.show(FormView);\r\n        this.listenTo(this.model, 'form:saveForms', function () {\r\n          FormView._saveForms();\r\n        });\r\n\r\n        this.listenTo(this.model, 'form:isValid', function (workitem) {\r\n          //checking validation of the form fields\r\n          if (FormView._validateForm()) {\r\n            workitem.validate = true;\r\n            FormView._clearValidationError();\r\n          } else {\r\n            FormView._showValidationError();\r\n          }\r\n        });\r\n        //check the extensions for a view to show here\r\n        var dataPackages = this.model.get('data_packages');\r\n        _.each(dataPackages, function (dataPackage) {\r\n          var controller = _.find(this.extensions, function (ext) {\r\n            return ext.validate(dataPackage.type, dataPackage.sub_type);\r\n          });\r\n          if (controller) {\r\n            controller.execute({\r\n              extensionPoint: WorkItemExtensionController.ExtensionPoints.AddForm,\r\n              model: this.model,\r\n              data: dataPackage.data,\r\n              parentView: this //passing in the parent view\r\n            }).done(_.bind(function (args) {\r\n                  if (args) {\r\n                    //add package type and sub_Type\r\n                    args.type = dataPackage.type;\r\n                    args.sub_type = dataPackage.sub_type;\r\n                    //show the attachments view when the node model is loaded\r\n                    if (args.viewToShow) {\r\n                      this.extension.show(args.viewToShow);\r\n                    }\r\n                  }\r\n                }, this))\r\n                .fail(_.bind(function (args) {\r\n                  var errorMsg = lang.ErrorMessageLoadExtension;\r\n                  if (args && args.errorMsg && args.errorMsg.length > 0 ) {\r\n                    errorMsg = args.errorMsg;\r\n                  }\r\n                  GlobalMessage.showMessage('error', errorMsg);\r\n                }, this));\r\n          }\r\n\r\n        }, this);\r\n      } else {\r\n        log.warn('Form view cannot displayed without data');\r\n      }\r\n    },\r\n\r\n    onRenderedFormsView:function () {\r\n      //this is necessary so that the scrollbar is updated (see LPAD-77885)\r\n      this.triggerMethod('dom:refresh');\r\n    }\r\n  });\r\n\r\n  _.extend(WorkItemContentView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return WorkItemContentView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/workitem/workitem.body/impl/workitem.body',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"workitem-body-row binf-row\\\">\\r\\n  <div class=\\\"workitem-properties\\\"></div>\\r\\n</div>\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_widgets_workitem_workitem.body_impl_workitem.body', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('workflow/widgets/workitem/workitem.body/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('workflow/widgets/workitem/workitem.body/impl/nls/root/lang',{\r\n  NoModelWarning: 'Form view cannot displayed without data'\r\n});\r\n\n","\ncsui.define('css!workflow/widgets/workitem/workitem.body/impl/workitem.body',[],function(){});\n","// An application widget is exposed via a RequireJS module\r\ncsui.define('workflow/widgets/workitem/workitem.body/workitem.body.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/utils/log',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'workflow/widgets/workitem/workitem.properties/workitem.properties.view',\r\n  'workflow/widgets/workitem/workitem.attachments/workitem.attachments.view',\r\n  'hbs!workflow/widgets/workitem/workitem.body/impl/workitem.body',\r\n  'i18n!workflow/widgets/workitem/workitem.body/impl/nls/lang',\r\n  'css!workflow/widgets/workitem/workitem.body/impl/workitem.body'\r\n], function (_, Marionette, log, LayoutViewEventsPropagationMixin, BlockingView, GlobalMessage,\r\n    WorkItemPropertiesView, WorkItemAttachmentsView, template, lang) {\r\n  'use strict';\r\n\r\n  // An application widget is a view, because it should render a HTML fragment\r\n  var WorkItemBodyView = Marionette.LayoutView.extend({\r\n\r\n    // Outermost parent element should contain a unique widget-specific class\r\n    className: 'workflow-workitem-body',\r\n\r\n    // Template method rendering the HTML for the view\r\n    template: template,\r\n\r\n    // Constructor gives an explicit name to the object in the debugger and\r\n    // can update the options for the parent view, which `initialize` cannot\r\n    constructor: function WorkItemBodyView(options) {\r\n      options || (options = {});\r\n\r\n      this.context = options.context;\r\n      //passing workitemView to child views to hide header and footer of dialog when it is replaced by metadataview in child view\r\n      this.parentView = options.parentView;\r\n      //passing workflow extensions to the view\r\n      this.extensions = options.extensions;\r\n\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n      // Cause the show events triggered on the parent view re-triggered\r\n      // on the views placed in the inner regions\r\n      this.propagateEventsToRegions();\r\n\r\n      // initialize blocking view\r\n      if (this.options.blockingParentView) {\r\n        BlockingView.delegate(this, this.options.blockingParentView);\r\n      } else {\r\n        BlockingView.imbue(this);\r\n      }\r\n    },\r\n\r\n    regions: {\r\n      properties: '.workitem-properties'\r\n    },\r\n\r\n    onRender: function () {\r\n\r\n      // show work item model as body, use default layout for now\r\n      if (this.model) {\r\n        this.properties.show(new WorkItemPropertiesView({\r\n          context: this.context,\r\n          model: this.model,\r\n          extensions: this.extensions,\r\n          parentView: this\r\n        }));\r\n      } else {\r\n        log.warn(lang.NoModelWarning);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(WorkItemBodyView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return WorkItemBodyView;\r\n\r\n});\r\n\n","// An application widget is exposed via a RequireJS module\r\ncsui.define('workflow/widgets/workitem/workitem.tabPanel/workitem.tabPanel.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/utils/log',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/controls/tab.panel/tab.panel.view',\r\n  'csui/controls/tab.panel/tab.links.ext.view',\r\n  'csui/controls/tab.panel/tab.links.ext.scroll.mixin'\r\n], function (_, $, Backbone, Marionette, log, NodeModelFactory, TabPanelView,\r\n    TabLinkCollectionViewExt, TabLinksScrollMixin) {\r\n  'use strict';\r\n\r\n  /**\r\n   * Workitem integration controller\r\n   * @param options Initialization options like context, data, parent view\r\n   * @constructor\r\n   */\r\n  var WorkItemTabPanelView = TabPanelView.extend({\r\n\r\n    contentView: function (model) {\r\n      return model.get('viewToRender');\r\n    },\r\n\r\n    contentViewOptions: function (model) {\r\n      return model.get('viewToRenderOptions');\r\n    },\r\n\r\n    constructor: function WorkItemTabPanelView(options) {\r\n      _.defaults(options, {\r\n        tabType: 'binf-nav-pills',\r\n        delayTabContent: false,\r\n        toolbar: true,\r\n        TabLinkCollectionViewClass: TabLinkCollectionViewExt,\r\n      });\r\n\r\n      // initialize parent\r\n      TabPanelView.prototype.constructor.apply(this, arguments);\r\n\r\n    },\r\n\r\n    render: function () {\r\n      TabPanelView.prototype.render.apply(this);\r\n\r\n      this._initializeToolbars();\r\n      this._listenToTabEvent();\r\n\r\n      // delay this a bit since the initial dialog fade in makes the tab to be hidden\r\n      setTimeout(_.bind(this._enableToolbarState, this), 500);\r\n      return this;\r\n    }\r\n  });\r\n\r\n  // add the mixin functionality to the tab view implementation and return\r\n  _.extend(WorkItemTabPanelView.prototype, TabLinksScrollMixin);\r\n  return WorkItemTabPanelView;\r\n});\r\n\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/workitem/workitem/impl/workitem',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"workitem-row binf-row\\\">\\r\\n  <div class=\\\"workitem-view-left binf-col-md-8 binf-col-sm-8 binf-col-xs-12\\\">\\r\\n    <div class=\\\"workitem-header\\\">\\\"></div>\\r\\n    <div class=\\\"workitem-body\\\"></div>\\r\\n  </div>\\r\\n  <aside role=\\\"complementary\\\">\\r\\n  <div class=\\\"workitem-tabpanel binf-col-md-4 binf-col-sm-4\\\">\\r\\n    <div class=\\\"workitem-tabpanel-header\\\"></div>\\r\\n    <div class=\\\"workitem-tabpanel-content\\\"></div>\\r\\n  </div>\\r\\n  </aside>\\r\\n</div>\\r\\n<footer role=\\\"contentinfo\\\">\\r\\n<div class=\\\"workitem-footer cs-dialog binf-modal-footer\\\"></div>\\r\\n</footer>\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_widgets_workitem_workitem_impl_workitem', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/workitem/workitem/impl/workitem.nopackages',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"workitem-header\\\"></div>\\r\\n<div class=\\\"workitem-body\\\"></div>\\r\\n<div class=\\\"workitem-footer cs-dialog binf-modal-footer\\\"></div>\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_widgets_workitem_workitem_impl_workitem.nopackages', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/workitem/workitem/impl/workitem.fullview',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"workitem-extension-fullview\\\"></div>\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_widgets_workitem_workitem_impl_workitem.fullview', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","/**\r\n * Workitem view widget, used by the workflow perspective\r\n */\r\ncsui.define('workflow/widgets/workitem/workitem/workitem.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/lib/backbone',\r\n  'csui/lib/marionette',\r\n  'csui/dialogs/modal.alert/modal.alert',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/controls/tab.panel/tab.panel.view',\r\n  'csui/controls/tab.panel/tab.links.ext.view',\r\n  'csui/models/member',\r\n  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/models/node/node.model',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/utils/commands/open.node.perspective',\r\n  'csui/models/nodes',\r\n  'csui/models/nodechildren',\r\n  'csui/utils/commandhelper',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/utils/commands/sign.out',\r\n  'workflow/commands/open.workitem/open.workitem',\r\n  'workflow/widgets/workitem/workitem.activities/workitem.activities.controller',\r\n  'workflow/widgets/workitem/workitem.attachments/workitem.attachments.controller',\r\n  'workflow/utils/workitem.extension.controller',\r\n  'workflow/utils/workitem.util',\r\n  'workflow/models/workitem/workitem.model.factory',\r\n  'workflow/dialogs/action.dialog/action.dialog',\r\n  'workflow/dialogs/action.dialog/action.dialog.model',\r\n  'workflow/widgets/workitem/workitem/impl/header.view',\r\n  'workflow/widgets/workitem/workitem/impl/footer.view',\r\n  'workflow/widgets/workitem/workitem.body/workitem.body.view',\r\n  'workflow/widgets/workitem/workitem.tabPanel/workitem.tabPanel.view',\r\n  'workflow/widgets/workitem/workitem.attachments/workitem.attachments.view',\r\n  'i18n!workflow/widgets/workitem/workitem/impl/nls/lang',\r\n  'hbs!workflow/widgets/workitem/workitem/impl/workitem',\r\n  'hbs!workflow/widgets/workitem/workitem/impl/workitem.nopackages',\r\n  'hbs!workflow/widgets/workitem/workitem/impl/workitem.fullview',\r\n  'csui-ext!workflow/widgets/workitem/workitem.view',\r\n  'css!workflow/widgets/workitem/workitem/impl/workitem'\r\n], function (_, $, Backbone, Marionette, ModalAlert, GlobalMessage,\r\n    LayoutViewEventsPropagationMixin, TabPanelView, TabLinkCollectionViewExt, MemberModel,\r\n    UserModelFactory, ApplicationScopeModelFactory, NodeModel, NodeModelFactory,\r\n    OpenNodePerspective, NodeCollection, NodeChildrenCollection, CommandHelper, BlockingView, SignOutCommand,\r\n    OpenWorkItemCommand, WorkItemActivitiesController, WorkItemAttachmentsController,\r\n    WorkItemExtensionController, Utils, WorkItemModelFactory, ActionDialogView, ActionDialogModel,\r\n    HeaderView, FooterView, WorkItemBodyView, WorkItemTabPanelView, WorkItemAttachmentsView, lang,\r\n    template, templatenopackages, templateextfullview, viewExtensions) {\r\n  'use strict';\r\n\r\n  var TabPanelCollection = Backbone.Collection.extend({\r\n    //this is sorting the collection by 'position'\r\n    comparator: function (a) {\r\n      return a.get('position');\r\n    }\r\n  });\r\n\r\n  var WorkitemView = Marionette.LayoutView.extend({\r\n\r\n    // Outermost parent element should contain a unique widget-specific class\r\n    className: 'workitem-view',\r\n\r\n    // Template method rendering the HTML for the view\r\n    template: template,\r\n\r\n    regions: {\r\n      header: '.workitem-header',\r\n      body: '.workitem-body',\r\n      tabPanel: '.workitem-tabpanel-content',\r\n      footer: '.workitem-footer',\r\n      fullview: '.workitem-extension-fullview'\r\n    },\r\n\r\n    ui: {\r\n      tabPanelHeader: '.workitem-tabpanel-header',\r\n      tabPanelContent: '.workitem-tabpanel-content'\r\n    },\r\n\r\n    // flag indicating that the view is currently sending the work item\r\n    _isSending: false,\r\n\r\n    actionDialog: undefined,\r\n\r\n    // Constructor gives an explicit name to the object in the debugger and\r\n    // can update the options for the parent view, which `initialize` cannot\r\n    constructor: function WorkitemView(options) {\r\n\r\n      //Collection to display on sidebar\r\n      this.tabPanelCollection = new TabPanelCollection();\r\n\r\n      // Obtain the model with the data shown by this view; using the model\r\n      // factory with the context makes the model instance not only shareable\r\n      // with other widgets through the context, but also fetched at the same\r\n      // moment as the other models.\r\n      options.model = options.model ? options.model :\r\n                      options.context.getModel(WorkItemModelFactory);\r\n\r\n      // get the current user in order to prevent forwarding the\r\n      // workitem to the processing user again.\r\n      this.user = options.context.getModel(UserModelFactory);\r\n\r\n      // Models and collections passed via options to the parent constructor\r\n      // are wired to\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n      this.propagateEventsToRegions();\r\n\r\n      // initialize blocking view\r\n      if (this.options.blockingParentView) {\r\n        BlockingView.delegate(this, this.options.blockingParentView);\r\n      } else {\r\n        BlockingView.imbue(this);\r\n      }\r\n\r\n      // Whenever properties of the model change, re-render the view\r\n      this.listenTo(this.model, 'change', this.onModelChange);\r\n\r\n      // Load the extensions\r\n      var ext = viewExtensions;\r\n      // if provided on the options use it, necessary for the Unit Tests.\r\n      if (options.viewExtensions) {\r\n        ext = options.viewExtensions;\r\n      }\r\n      this.extensions = _.chain(ext)\r\n          .flatten(true)\r\n          .map(function (ViewExtension) {\r\n            return new ViewExtension(options);\r\n          }).value();\r\n    },\r\n\r\n    tabNextRegion: function () {\r\n      this.trigger('changed:focus');\r\n    },\r\n\r\n    onModelChange: function () {\r\n      // collect promises that have to be executed before the view is rendered\r\n      var promises = [];\r\n      promises.push(this.getTabPanelCollection());\r\n      promises.push(this.getFullViewExtension());\r\n\r\n      // when all promises are resolved we can continue\r\n      $.when.apply($, promises).done(_.bind(function (args) {\r\n\r\n        // return in case the workflow is initiated by item or data is unfetched\r\n        if ((this.model.get(\"isDoc\") || this.model.get(\"isDocDraft\")) &&\r\n            this.model.get('datafetched') !== true) {\r\n          return;\r\n        }\r\n\r\n        // load the Reply To user\r\n        this.replyPerformer = undefined;\r\n        var self = this;\r\n        var replyPerformerId = this.model.get('reply_performer_id');\r\n        if (replyPerformerId && replyPerformerId !== 0) {\r\n          var replyPerformer = new MemberModel({id: replyPerformerId}, {connector: this.model.connector});\r\n          replyPerformer.fetch().done(function (data, result) {\r\n            if (result === 'success') {\r\n              self.replyPerformer = replyPerformer;\r\n            }\r\n          });\r\n        }\r\n\r\n        if ((this.model.get(\"isDoc\") || this.model.get(\"isDocDraft\")) &&\r\n            !this.model.get('docModels') && this.model.get('doc_id')) {\r\n          var docIds       = this.model.get('doc_id').split(','),\r\n              docModels    = [],\r\n              that         = this,\r\n              docNamesList = {};\r\n\r\n          _.each(docIds, function (docId) {\r\n            var tmpDocModel = that.options.context.getModel(NodeModelFactory,\r\n                {attributes: {id: parseInt(docId)}}, {silent: true});\r\n            tmpDocModel.fetch()\r\n                .done(_.bind(function (docModelProperties) {\r\n                  var docModel,\r\n                  workflowType = that.model.get('workflowType');\r\n                  //For Signing workflows, we need to create a copy of the attachment\r\n                  if (workflowType === '101_1') {\r\n                    docModel           = new NodeModel({\r\n                      \"name\": docModelProperties.name,\r\n                      \"original_id\": docModelProperties.id\r\n                    }, {connector: that.model.connector});\r\n                  } else {\r\n                    docModel           = new NodeModel({\r\n                      \"type\": 1,\r\n                      \"type_name\": \"Shortcut\",\r\n                      \"container\": false,\r\n                      \"name\": docModelProperties.name,\r\n                      \"original_id\": docModelProperties.id,\r\n                      \"original_id_expand\": docModelProperties\r\n                    }, {connector: that.model.connector});\r\n                  }\r\n                  docModels.push(docModel);\r\n                  that.model.set({docModels: docModels}, {silent: true});\r\n                  docNamesList[docId] = docModelProperties.name;\r\n                }, that))\r\n                .always(_.bind(function (args) {\r\n                  if (docIds.length === that.model.get('docModels').length) {\r\n                    this.model.set('doc_names', docNamesList);\r\n                    // render the view with the event, so that 'getTemplate' is called again\r\n                    this.render();\r\n                  }\r\n                }, that))\r\n                .fail(_.bind(function (error) {\r\n                  GlobalMessage.showMessage('error', error.responseJSON.error);\r\n                }, that));\r\n          });\r\n\r\n        } else {\r\n          // render the view with the event, so that 'getTemplate' is called again\r\n          this.render();\r\n        }\r\n      }, this));\r\n    },\r\n\r\n    extensionsExecuteAction: function (action, options, model) {\r\n      // extension data\r\n      var data;\r\n      // all promises\r\n      var promises = [];\r\n      _.each(this.extensions, function (ext) {\r\n\r\n        // add extension promise\r\n        var deferred = $.Deferred();\r\n        promises.push(deferred.promise());\r\n\r\n        // execute extension\r\n        ext.executeAction({\"action\": action, \"options\": options, \"model\": model})\r\n            .done(_.bind(function (args) {\r\n              // save return\r\n              if (!_.isUndefined(args)) {\r\n                data = args;\r\n              }\r\n              deferred.resolve();\r\n            }, this))\r\n            .fail(_.bind(function (args) {\r\n              deferred.reject();\r\n            }, this));\r\n      });\r\n\r\n      // resolve the promise when all controller are executed\r\n      var ret = $.Deferred();\r\n      $.when.apply($, promises).done(_.bind(function () {\r\n            ret.resolve(data);\r\n          }, this))\r\n          .fail(_.bind(function (args) {\r\n            ret.reject();\r\n          }, this));\r\n\r\n      return ret.promise();\r\n    },\r\n\r\n    getTabPanelCollection: function () {\r\n\r\n      // reset the tab panel collection\r\n      this.tabPanelCollection.reset();\r\n      //this local variable is necessary, because when there are 2 onmodelchange in a row, the\r\n      // global variable could be filled double\r\n      var TabPanelCollectionLocal = new TabPanelCollection();\r\n\r\n      // add the activities package manually on the client-side as we want to reuse the\r\n      // extension mechanism for the package, but it's only an internal client side package.\r\n      var dataPackages = this.model.get('data_packages');\r\n      if (dataPackages !== undefined) {\r\n        //if dataPackages is undefined there is no server call yet done to get the\r\n        // infos\\packages for the Workitem, in this case the TabPanelCollection should not be\r\n        // set by pushing the activity tab into it\r\n        dataPackages.push({\r\n          type: WorkItemActivitiesController.prototype.type,\r\n          sub_type: WorkItemActivitiesController.prototype.sub_type,\r\n          data: {}\r\n        });\r\n      }\r\n\r\n\r\n      // browse packages to evaluate & execute them.\r\n      var allPackagesExecuted = [];\r\n      _.each(dataPackages, function (dataPackage) {\r\n\r\n        // create a deferred object and add it to the promises list\r\n        var packageExecuted = $.Deferred();\r\n        allPackagesExecuted.push(packageExecuted.promise());\r\n\r\n        // find the first extension controller supporting the current package\r\n        var controller = _.find(this.extensions, function (ext) {\r\n          return ext.validate(dataPackage.type, dataPackage.sub_type);\r\n        });\r\n\r\n        // execute the controller with sidebar extension point target\r\n        if (controller) {\r\n          controller.execute({\r\n            extensionPoint: WorkItemExtensionController.ExtensionPoints.AddSidebar,\r\n            model: this.model,\r\n            data: dataPackage.data,\r\n            parentView: this\r\n          }).done(_.bind(function (args) {\r\n            //add package type and sub_Type for the tabpanelcollection\r\n            if (args) {\r\n              args.type = dataPackage.type;\r\n              args.sub_type = dataPackage.sub_type;\r\n\r\n              // the sidebar integrations requires the view type / options instead of the\r\n              // already instantiated view object.\r\n              if (args.viewToRender) {\r\n                // add to the tab panel collection\r\n                TabPanelCollectionLocal.add(_.extend(args, {id: _.uniqueId('workflow-tab')}));\r\n              }\r\n            }\r\n            packageExecuted.resolve();\r\n          }, this)).fail(_.bind(function (args) {\r\n            var errorMsg = lang.ErrorMessageLoadExtension;\r\n            if (args && args.errorMsg && args.errorMsg.length > 0 ) {\r\n              errorMsg = args.errorMsg;\r\n            }\r\n            // show error message\r\n            GlobalMessage.showMessage('error', errorMsg);\r\n            packageExecuted.resolve();\r\n          }, this));\r\n        }\r\n        else {\r\n          // resolve the promise\r\n          packageExecuted.resolve();\r\n        }\r\n      }, this);\r\n\r\n      // resolve the promise when all controller are executed\r\n      var ret = $.Deferred();\r\n      $.when.apply($, allPackagesExecuted).done(_.bind(function () {\r\n        this.tabPanelCollection = TabPanelCollectionLocal;\r\n        ret.resolve();\r\n      }, this));\r\n      return ret.promise();\r\n    },\r\n\r\n    getFullViewExtension: function () {\r\n      // holds the list of promises\r\n      var promises = [];\r\n\r\n      // reset the full view\r\n      this.fullViewExtension = undefined;\r\n\r\n      // browse data packages\r\n      var pkgs = this.model.get('data_packages');\r\n      _.each(pkgs, function (pkg) {\r\n\r\n        // do we have a matching controller\r\n        var controller = _.find(this.extensions, function (extension) {\r\n          return extension.validate(pkg.type, pkg.sub_type);\r\n        });\r\n\r\n        // execute the controller\r\n        if (controller) {\r\n          // add a promise to be resolved later when the extension is evaluate\r\n          var deferred = $.Deferred();\r\n          promises.push(deferred.promise());\r\n          // if we have a controller we have to determine whether it wants to display in full-view\r\n          controller.execute({\r\n            extensionPoint: WorkItemExtensionController.ExtensionPoints.FullView,\r\n            model: this.model,\r\n            data: pkg.data,\r\n            parentView: this\r\n          }).done(_.bind(function (args) {\r\n            //add package type and sub_Type\r\n            if (args) {\r\n              args.type = pkg.type;\r\n              args.sub_type = pkg.sub_type;\r\n              if (args.viewToShow) {\r\n                // flip the template and set the global full-view\r\n                this.extensionsFullView = args.viewToShow;\r\n              }\r\n            }\r\n            deferred.resolve();\r\n          }, this)).fail(_.bind(function (args) {\r\n            var errorMsg = lang.ErrorMessageLoadExtension;\r\n            if (args && args.errorMsg && args.errorMsg.length > 0 ) {\r\n              errorMsg = args.errorMsg;\r\n            }\r\n            // show error message\r\n            GlobalMessage.showMessage('error', errorMsg);\r\n            deferred.resolve();\r\n          }, this));\r\n        }\r\n      }, this);\r\n\r\n      // resolve the returned promise when all extensions are evaluated\r\n      var ret = $.Deferred();\r\n      $.when.apply($, promises).done(function () {\r\n        ret.resolve();\r\n      });\r\n      return ret.promise();\r\n    },\r\n\r\n    onBeforeRender: function () {\r\n      var saveFormsList = [];\r\n      this.model.set('saveFormsList', saveFormsList, {silent: true});\r\n      // determine template to render\r\n      if (this.extensionsFullView !== undefined) {\r\n        // render the full-view template\r\n        this.template = templateextfullview;\r\n      } else if (this.tabPanelCollection.models.length === 0) {\r\n        // render the template without packages\r\n        this.template = templatenopackages;\r\n      } else {\r\n        // render the standard template\r\n        this.template = template;\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n\r\n      if ((this.model.get(\"isDoc\") || this.model.get(\"isDocDraft\")) &&\r\n          this.model.get('datafetched') !== true) {\r\n        return;\r\n      }\r\n\r\n      if (this._isSending) {\r\n        //prevent rendering during sending\r\n        return;\r\n      }\r\n\r\n      if (this.extensionsFullView !== undefined) {\r\n        // render extension full-view\r\n        this.fullview.show(this.extensionsFullView);\r\n      } else {\r\n        // render the workitem header view\r\n        this._renderHeader();\r\n        // render the workitem body\r\n        this._renderBody();\r\n        // render the tabpanel\r\n        this._renderTabPanel();\r\n        // render the workitem footer view with the action buttons\r\n        this._renderFooter();\r\n\r\n        // show the member accept dialog if required\r\n        if (this.model.attributes.member_accept) {\r\n          this._confirmMemberAccept();\r\n        }\r\n      }\r\n    },\r\n\r\n    _renderHeader: function () {\r\n      var options = {\r\n        iconLeft: 'title-icon assignment-workflow',\r\n        title: this.model.title()\r\n      };\r\n\r\n      if ((this.model.get(\"isDoc\") || this.model.get(\"isDocDraft\")) && this.model.get('mapsList') &&\r\n          this.model.get('mapsList').length > 1) {\r\n        options.multiMaps = true;\r\n        options.context = this.options.context;\r\n        options.maps = this.model.get(\"mapsList\");\r\n        options.model = this.model;\r\n        options.originatingView = this;\r\n      }\r\n      var headerView = this.headerView = new HeaderView(options);\r\n      this.header.show(headerView);\r\n    },\r\n\r\n    _renderBody: function () {\r\n      this.options.parentView = this;\r\n      this.options.extensions = this.extensions;\r\n      // Add work item body view\r\n      var bodyView = this.bodyView = new WorkItemBodyView(this.options);\r\n      this.body.show(bodyView);\r\n    },\r\n\r\n    _renderTabPanel: function () {\r\n      var mapsList = this.model.get('mapsList');\r\n\r\n      //if this WF is started from document and there are more than one WF to select do this\r\n      //before this was also only done when document packages are active, might be necessary to\r\n      // consider again - ToDo\r\n      if (this.model.get('isDoc') && this.model.get('datafetched') && mapsList &&\r\n          mapsList.length !== 1) {\r\n        this.viewToShow = new WorkItemAttachmentsView({\r\n          context: this.options.context,\r\n          view: this\r\n        });\r\n        this.viewToShow.render();\r\n        if (this.viewToShow) {\r\n          this.tabPanel.show(this.viewToShow);\r\n          this.ui.tabPanelHeader.addClass(\"workitem-doc-initiate\");\r\n          this.ui.tabPanelContent.addClass(\"workitem-doc-initiate\");\r\n          if (this.viewToShow.attachments) {\r\n            var that     = this,\r\n                interval = setInterval(function () {\r\n                  //Load attachments only when attachment area completed loading\r\n                  //So that if the attachments are more scroll bar will come\r\n                  if ($(\".workitem-attachments\").length > 0) {\r\n                    clearInterval(interval);\r\n                    that.viewToShow.unblockActions();\r\n                    that.viewToShow.list.show(that.viewToShow.attachments);\r\n                  }\r\n                }, 500);\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        //show the sidebar\r\n        if (this.tabPanelCollection.models.length > 0) {\r\n          var workItemTabPanelView = new WorkItemTabPanelView({\r\n            collection: this.tabPanelCollection\r\n          });\r\n          this.tabPanel.show(workItemTabPanelView);\r\n        }\r\n      }\r\n    },\r\n\r\n    _renderFooter: function () {\r\n      var buttonArray = [];\r\n      var button = {};\r\n\r\n      if ((!this.model.actions || !this.model.customActions) && this.model.get('isDoc') !== true) {\r\n        return; // model not completely loaded\r\n      }\r\n\r\n      if (this.model.actions && this.model.customActions) {\r\n        var actions = this.model.actions.models;\r\n        var customActions = this.model.customActions.models;\r\n\r\n        _.each(actions, function (action) {\r\n          button = {\r\n            label: action.get('label'),\r\n            toolTip: action.get('label'),\r\n            id: action.get('id')\r\n          };\r\n          buttonArray.push(button);\r\n        });\r\n\r\n        _.each(customActions, function (customAction) {\r\n          button = {\r\n            label: customAction.get('label'),\r\n            toolTip: customAction.get('label'),\r\n            id: customAction.get('id'),\r\n            default: true\r\n          };\r\n          buttonArray.push(button);\r\n        });\r\n      }\r\n\r\n      var mapsList = this.model.get('mapsList');\r\n      //Start WF from document with more WF's activated scenario\r\n      // in this case no model is loaded, since no WF is selected yet => 'Start Button'\r\n      // is added manuel\r\n      if (this.model.get('isDoc') === true && mapsList && mapsList.length !== 1) {\r\n        button = {\r\n          label: lang.StartButtonLabel,\r\n          disabled: true,\r\n          default: true\r\n        };\r\n        buttonArray.push(button);\r\n      }\r\n\r\n      //add close Button, for a draft work item it should be cancel\r\n\r\n      if (this.model.get('isDraft') || this.model.get('isDocDraft') || this.model.get('isDoc')) {\r\n        button = {\r\n          label: lang.CancelButtonLabel,\r\n          toolTip: lang.CancelButtonLabel,\r\n          close: true\r\n        };\r\n      } else {\r\n        button = {\r\n          label: lang.CloseButtonLabel,\r\n          toolTip: lang.CloseButtonLabel,\r\n          close: true\r\n        };\r\n\r\n      }\r\n      buttonArray.push(button);\r\n      var footerView;\r\n      this.extensionsFooterView(buttonArray, this.model)\r\n          .done(_.bind(function (args) {\r\n            if (args && (args.scope === 'custom')) {\r\n              // if true use the returned footer\r\n              footerView = args.view;\r\n            } else {\r\n              footerView = new FooterView({\r\n                collection: new Backbone.Collection(buttonArray)\r\n              });\r\n            }\r\n            this.listenTo(footerView, 'childview:click', this.onClickButton);\r\n            this.footer.show(footerView);\r\n    }, this));\r\n    },\r\n\r\n    extensionsFooterView: function (buttons, model) {\r\n      // extension data\r\n      var data;\r\n      // all promises\r\n      var promises = [];\r\n\r\n      _.each(this.extensions, function (ext) {\r\n\r\n        // add extension promise\r\n        var deferred = $.Deferred();\r\n        promises.push(deferred.promise());\r\n\r\n        // execute customizeFooter\r\n        ext.customizeFooter({\"buttons\": buttons, \"model\": model})\r\n            .done(_.bind(function (args) {\r\n              // save return\r\n              if (!_.isUndefined(args)) {\r\n                data = args;\r\n              }\r\n              deferred.resolve();\r\n            }, this))\r\n            .fail(_.bind(function (args) {\r\n              deferred.reject();\r\n            }, this));\r\n      });\r\n\r\n      // resolve the promise when all controller are executed\r\n      var ret = $.Deferred();\r\n      $.when.apply($, promises).done(_.bind(function () {\r\n            ret.resolve(data);\r\n          }, this))\r\n          .fail(_.bind(function (args) {\r\n            ret.reject();\r\n          }, this));\r\n\r\n      return ret.promise();\r\n    },\r\n\r\n    _confirmMemberAccept: function () {\r\n      // confirm accepting of group assignment workitem\r\n      var self = this;\r\n      ModalAlert.confirmQuestion(lang.MemberAcceptDialogMessage, lang.MemberAcceptDialogTitle, {\r\n        centerVertically: false,\r\n        buttons: {\r\n          showYes: true,\r\n          labelYes: lang.MemberAcceptAcceptButtonLabel,\r\n          showNo: true,\r\n          labelNo: lang.MemberAcceptCloseButtonLabel\r\n        }\r\n      }).always(function (result) {\r\n        if (result) {\r\n          // exited with 'accept'\r\n          self._acceptWorkitem();\r\n          //trigger setfocus in headerview\r\n          self.headerView.triggerMethod(\"setFocus\");\r\n        } else {\r\n          // exited with 'close'\r\n          self._rejectWorkitem();\r\n        }\r\n      });\r\n    },\r\n\r\n    _acceptWorkitem: function () {\r\n      // accept workitem\r\n      var self = this;\r\n      this.model.sendMemberAcceptAction().done(function () {\r\n        // update the performer fields\r\n        self._updateWorkitemPerformer();\r\n        // show success message\r\n        GlobalMessage.showMessage('success', lang.MemberAcceptedMessage);\r\n      }).fail(function (response) {\r\n        // evaluate error\r\n        var error;\r\n        if (response.errorDetail && response.errorDetail === \"ErrCode_Accept_Task\") {\r\n          error = lang.MemberAcceptErrorDescription;\r\n        } else {\r\n          error = response.error;\r\n        }\r\n        // show error and leave workitem\r\n        ModalAlert.showWarning(error, lang.MemberAcceptErrorTitle).always(function () {\r\n          self._leaveWorkitemPerspective();\r\n        });\r\n      });\r\n    },\r\n\r\n    _rejectWorkitem: function () {\r\n      // leave workitem perspective\r\n      this._leaveWorkitemPerspective();\r\n    },\r\n\r\n    _updateWorkitemPerformer: function () {\r\n      //listing out the form views which contains performer system field\r\n      var filteredFormViewsList = [],\r\n          contentView           = this.options.parentView.bodyView.properties.currentView,\r\n          formView              = contentView.forms.currentView;\r\n      if (formView && formView.children) {\r\n        var childFormViews = formView.children._views;\r\n        _.each(childFormViews, function (formView) {\r\n          var model      = formView.model,\r\n              attributes = model.attributes.data,\r\n              matchedKey = _.has(attributes, \"WorkflowForm_Performer\");\r\n          // checking forms if any one of the form sections contains at performer system fiels\r\n          // attribute\r\n          if (matchedKey) {\r\n            filteredFormViewsList.push(formView);\r\n          }\r\n        });\r\n        if (filteredFormViewsList.length > 0) {\r\n          //Preparing input data for the refreshSameDefFields\r\n          var args         = {},\r\n              loggedUserId = this.options.parentView.user.get('id'),\r\n              targetField  = {\r\n                name: \"WorkflowForm_Performer\",\r\n                path: \"/WorkflowForm_Performer\",\r\n                value: loggedUserId\r\n              };\r\n          args.view = filteredFormViewsList[0];\r\n          args.model = filteredFormViewsList[0].model;\r\n          args.changePerformer = true;\r\n          args.draftProcess = false;\r\n          _.extend(args, {\r\n            name: \"WorkflowForm_Performer\",\r\n            path: \"/WorkflowForm_Performer\",\r\n            value: loggedUserId,\r\n            targetField: targetField\r\n          });\r\n          args.view.form.setValue({WorkflowForm_Performer: args.value});\r\n          formView.refreshSameDefFields(args, args.draftProcess);\r\n        }\r\n        // update performer on extension views\r\n        var extensionView = contentView.getChildView(\"extension\");\r\n        if (extensionView) {\r\n          extensionView.triggerMethod('change:performer');\r\n        }\r\n      }\r\n    },\r\n\r\n    getTemplate: function () {\r\n      if ((this.model.get('isDoc') && this.model.get('docModels'))) {\r\n        return template;\r\n      }\r\n      else {\r\n        //necessary to return the correct template either templatenopackages or template\r\n        return this.template;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Click on one of the buttons in the footer.\r\n     * The click is forwarded to the button click action or\r\n     * it triggers a history back if it is the close button.\r\n     * The back action will show the last view on the history stack.\r\n     * @param view\r\n     */\r\n    onClickButton: function (view) {\r\n\r\n      var model = view.model;\r\n      if (model.get('close')) {\r\n        // leave workitem perspective\r\n        this._leaveWorkitemPerspective();\r\n      } else {\r\n        var workItem = {validate: false};\r\n        this.model.trigger('form:isValid', workItem);\r\n        //checking the form validation\r\n        if (workItem.validate) {\r\n          //save the Forms\\Data in case of draft, because with draft the Data isn't\r\n          //saved yet (see LPAD-55309)\r\n          if (this.model.get('isDraft') || this.model.get('isDocDraft') ||\r\n              this.model.get('isDoc')) {\r\n              this.model.trigger('form:saveForms');\r\n          }\r\n          // execute the requested workitem action, only when no saveForm (Server Call) is still\r\n          // done\r\n          view.el.disabled = true;\r\n          this.blockActions();\r\n          $.when.apply($, this.model.get('saveFormsList')).done(_.bind(function () {\r\n                this._ExecuteAction(model.get('id'), view);\r\n              }, this))\r\n              .fail(_.bind(function (args) {\r\n                //in this case no sendon is done\r\n                view.el.disabled = false;\r\n              }, this))\r\n              .always(_.bind(function (args) {\r\n                this.unblockActions();\r\n              }, this));\r\n\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Executes the requested workitem action\r\n     * @param idButton Action id\r\n     * @private\r\n     */\r\n    _ExecuteAction: function (idButton, buttonView) {\r\n\r\n      // get the action either from the default actions\r\n      // or from the custom actions.\r\n      var action = this.model.actions.get(idButton);\r\n      if (_.isUndefined(action)) {\r\n        action = this.model.customActions.get(idButton);\r\n      }\r\n\r\n      // depending on the action performed, initialize the dialog model\r\n      var actionOptions = {};\r\n      switch (action.get('key')) {\r\n      case 'Delegate': {\r\n        // in the case of delegate, we require an assignee\r\n        actionOptions = {\r\n          requireAssignee: true,\r\n          assignee: this.user\r\n        };\r\n        break;\r\n      }\r\n      case 'Review': {\r\n        // in the case of review, we require an assignee, the\r\n        // assignment options and different labels\r\n        actionOptions = {\r\n          requireAssignee: true,\r\n          assignee: this.user,\r\n          assigneeOptions: true,\r\n          durationOption: true,\r\n          texts: {\r\n            assigneeLabel: lang.AssigneePickerLabelSendTo,\r\n            commentLabel: lang.CommentTextFieldLabelInstructions,\r\n            commentPlaceholder: lang.CommentTextFieldPlaceholderInstructions,\r\n            submitLabel: lang.SubmitLabelSend\r\n          },\r\n        };\r\n        break;\r\n      }\r\n      case 'Reply': {\r\n        // in the case of reply, we display the original user readonly\r\n        // and use different comment labels\r\n        actionOptions = {\r\n          readonlyAssignee: true,\r\n          assignee: this.replyPerformer,\r\n          texts: {\r\n            assigneeLabel: lang.AssigneePickerLabelTo,\r\n            commentLabel: lang.CommentTextFieldLabelReply,\r\n            commentPlaceholder: lang.CommentTextFieldPlaceholderReply,\r\n            submitLabel: lang.SubmitLabelSend\r\n          }\r\n        };\r\n        break;\r\n      }\r\n      }\r\n      // execute extensions\r\n      this.extensionsExecuteAction(action, actionOptions, this.model)\r\n          .done(_.bind(function (args) {\r\n            if (args && (args.scope === 'custom')) {\r\n              // send on workitem with custom model\r\n              var customModel = new Backbone.Model(args.data);\r\n              this._sendOnWorkitem(customModel);\r\n            } else {\r\n              // standard processing\r\n              //if there is an Attachment added, check on Server wether one of the Attachments is reserved\r\n              //when an attachment is reserved. Warn User, but allow sendOn anyway\r\n              if ((this.tabPanelCollection !== undefined) && (this.tabPanelCollection.length > 0)) {\r\n                //find attachment tabpanel model\r\n                var nodeModelFromTabPanelCollection = _.filter(this.tabPanelCollection.models,\r\n                    function (tabPanelModel) {\r\n                      if ((tabPanelModel.get(\"type\") === 1) &&\r\n                          (tabPanelModel.get(\"sub_type\") === 1)) {\r\n                        return true;\r\n                      }\r\n                    });\r\n                //only when attachemnt tabpanelmodel avaialble use the nodemodel ot the attachments to fetch\r\n                // children\\attachments new\r\n                if (nodeModelFromTabPanelCollection.length > 0) {\r\n                  var attachmentCollection = new NodeChildrenCollection(undefined, {\r\n                    node: nodeModelFromTabPanelCollection[0].get(\"viewToRenderOptions\").model,\r\n                    fields: {\r\n                      properties: ['id', 'reserved', 'name']\r\n                    }\r\n                  });\r\n                  attachmentCollection.fetch()\r\n                      .done(_.bind(function (args) {\r\n                        //check which one are reserved\r\n                        var reservedAttachments = _.filter(args.data, function (attachment) {\r\n                          return attachment.reserved;\r\n                        });\r\n                        var that = this;\r\n                        //only when there are reserved attachments open dialog\r\n                        if (reservedAttachments.length > 0) {\r\n                          var options = {};\r\n                          options.buttons = ModalAlert.buttons.OkCancel;\r\n                          var documentListText = \"\";\r\n                          _.each(reservedAttachments, function (attachment) {\r\n                            documentListText = documentListText + \" \" + attachment.name;\r\n                          });\r\n\r\n                          var reserveDocumentMessageTextLocalized = _.str.sformat(\r\n                              lang.ReserveDocumentMessageText, documentListText);\r\n\r\n                          var promise = ModalAlert.confirmWarning(\r\n                              reserveDocumentMessageTextLocalized,\r\n                              lang.ReserveDocumentMessageTitle, options);\r\n                          promise.then(function () {\r\n                            that._sendOnWorkitem_check(action, actionOptions, buttonView);\r\n                          });\r\n                        } else {\r\n                          that._sendOnWorkitem_check(action, actionOptions, buttonView);\r\n                        }\r\n                       }, this));\r\n\r\n                } else {\r\n                  this._sendOnWorkitem_check(action, actionOptions, buttonView);\r\n                }\r\n              } else {\r\n                this._sendOnWorkitem_check(action, actionOptions, buttonView);\r\n              }\r\n            }\r\n          }, this))\r\n          .fail(_.bind(function (args) {\r\n            //in this case no sendon is done\r\n            buttonView.el.disabled = false;\r\n            return;\r\n          }, this));\r\n    },\r\n\r\n    _sendOnWorkitem_check: function (action, actionOptions, buttonView) {\r\n        var dialogModel = new ActionDialogModel(_.extend({\r\n        title: _.str.sformat(lang.DialogModelTitle, action.get('label'),\r\n            this.model.get('title')),\r\n        requireComment: this.model.get('comments_on'),\r\n        authentication: this.model.get('authentication'),\r\n        currentUser: this.user.get('display_name'),\r\n        action: action\r\n      }, actionOptions));\r\n\r\n      // either show action dialog or send-on immediately\r\n      if (dialogModel.get('requireComment') || dialogModel.get('requireAssignee') ||\r\n          dialogModel.get('authentication')) {\r\n        // show the dialog\r\n        this.actionDialog = new ActionDialogView({\r\n          context: this.options.context,\r\n          model: dialogModel,\r\n          callback: _.bind(this._sendOnWorkitem, this)\r\n        });\r\n        //with this the focus is set to the button which opened the dialog\r\n        this.listenTo(this.actionDialog, 'destroy', _.bind(function () {\r\n          this.$el.trigger(\"focus\");\r\n        }, buttonView));\r\n\r\n        this.actionDialog.$el.on('shown.binf.modal', function () {\r\n          buttonView.el.disabled = false;\r\n        });\r\n        this.actionDialog.show();\r\n      } else {\r\n        // comments are disabled, no dialog is displayed, but we\r\n        // use the dialog model as it contains the action.\r\n        this._sendOnWorkitem(dialogModel);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Gets the error message from a response to show it.\r\n     * @param resp AJAX response\r\n     * @returns {string} Error message\r\n     * @private\r\n     */\r\n    _getRespError: function (resp) {\r\n      var error = '';\r\n      if (resp && resp.responseJSON && resp.responseJSON.error) {\r\n        error = resp.responseJSON.error;\r\n      } else if (resp && resp.responseText) {\r\n        error = resp.responseText;\r\n      }\r\n      return error;\r\n    },\r\n\r\n    /**\r\n     * Gets the error detail number from a response.\r\n     * @param resp AJAX response\r\n     * @returns {string} Error detail number\r\n     * @private\r\n     */\r\n    _getRespErrorDetail: function (resp) {\r\n      var errorDetail = '';\r\n      if (resp && resp.responseJSON && resp.responseJSON.errorDetail) {\r\n        errorDetail = resp.responseJSON.errorDetail;\r\n      }\r\n      return errorDetail;\r\n    },\r\n\r\n    _navigateToDocParentNode: function () {\r\n      var nodesCommand = new OpenNodePerspective(),\r\n          parentNode   = this.options.context.getModel(NodeModelFactory,\r\n              {attributes: {id: this.model.get('parent_id')}}),\r\n          status       = {};\r\n      status.context = this.options.context;\r\n      status.nodes = new NodeCollection([parentNode]);\r\n      var promisesFromCommands = nodesCommand.execute(status);\r\n      CommandHelper.handleExecutionResults(promisesFromCommands,\r\n          {\r\n            command: this.nodesCommand,\r\n            suppressSuccessMessage: status.suppressSuccessMessage\r\n          });\r\n\r\n    },\r\n\r\n    _signOut: function () {\r\n      var signOutCommand = new SignOutCommand(),\r\n          status       = {};\r\n      status.context = this.options.context;\r\n      var promisesFromCommands = signOutCommand.execute(status);\r\n      CommandHelper.handleExecutionResults(promisesFromCommands,\r\n          {\r\n            command: this.signOutCommand,\r\n            suppressSuccessMessage: status.suppressSuccessMessage\r\n          });\r\n\r\n    },\r\n\r\n    /**\r\n     * Sends the workitem on\r\n     * @param model Workitem mdel\r\n     * @param options Additional options\r\n     * @private\r\n     */\r\n    _sendOnWorkitem: function (model, options) {\r\n\r\n      // mark the widget as sending\r\n      this._isSending = true;\r\n\r\n      // get the action from the action dialog model\r\n      var action = model.get('action');\r\n\r\n      // update the workitem and send on\r\n      var comment = model.get('comment');\r\n      if (!_.isUndefined(comment) && comment.length !== 0) {\r\n        this.model.set('comment', comment, {silent: true});\r\n      }\r\n\r\n      var assignee = model.get('assignee');\r\n      if (!_.isUndefined(assignee)) {\r\n        // use silent mode to prevent rendering, because the work item is sent on.\r\n        this.model.set('assignee', assignee.get('id'), {silent: true});\r\n      }\r\n\r\n      var assigneeOption = model.get('assigneeOption');\r\n      if (!_.isUndefined(assigneeOption)) {\r\n        // use silent mode to prevent rendering, because the work item is sent on.\r\n        this.model.set('assigneeOption', assigneeOption, {silent: true});\r\n      }\r\n\r\n      var authentication_info = model.get('authentication_info');\r\n      if (!_.isUndefined(authentication_info)) {\r\n        // use silent mode to prevent rendering, because the work item is sent on.\r\n        this.model.set('authentication_info', authentication_info, {silent: true});\r\n      }\r\n\r\n      var duration = model.get('duration');\r\n      if (!_.isUndefined(duration)) {\r\n        this.model.set('duration', duration, {silent: true});\r\n      }\r\n      else{\r\n        this.model.set('duration', \"\", {silent: true});\r\n      }\r\n\r\n      var durationUnit = model.get('duration_unit');\r\n      if (!_.isUndefined(durationUnit)) {\r\n        this.model.set('duration_unit', durationUnit, {silent: true});\r\n      }\r\n\r\n      this.model.sendAction(action)\r\n          .done(_.bind(function (results) {\r\n            // provide success message\r\n            if (results && results.custom_message) {\r\n              // show custom message if provided\r\n              GlobalMessage.showMessage('success', results.custom_message);\r\n            } else {\r\n              if (this.model.get('isDraft') || this.model.get('isDocDraft') ||\r\n                  this.model.get('isDoc')) {\r\n                // show standard message for initiation of a draft work item\r\n                GlobalMessage.showMessage('success', lang.SuccessInitiateMessage);\r\n              } else {\r\n                // show standard message for a send on\r\n                GlobalMessage.showMessage('success', lang.SuccessSendOnMessage);\r\n              }\r\n            }\r\n            //the urlOrg and url_org are used to remember what the original URL is\r\n            var urlOrg = \"\";\r\n            urlOrg = this.model.get('url_org');\r\n            //when the autodisplay is activated in cs, then this object is available\r\n            if ((results) && (results.auto_display)) {\r\n              if (results.auto_display.workflow_open_in_smart_ui === true) {\r\n                //here the new WF is loaded in smartUI\r\n                this.model.reset({silent: true});\r\n                this._isSending = false;\r\n                this.model.set({\r\n                  process_id: results.auto_display.process_id,\r\n                  subprocess_id: results.auto_display.subprocess_id,\r\n                  task_id: results.auto_display.task_id,\r\n                  url_org: urlOrg\r\n                });\r\n              }\r\n              else {\r\n                //here the new WF is loaded in classicUI\r\n                //the openWorkitemCommand has to be extended because the getUrlQueryParameters\r\n                //has to be overwritten\r\n                var OpenWorkItemViewCommand = OpenWorkItemCommand.extend({ // URL for\r\n                  // open in same tab, new tab isn't possible here because of popup restrictions\r\n                  openInNewTab: false,\r\n                  getUrlQueryParameters: function (node, options) {\r\n                    return {\r\n                      func: 'work.EditTask',\r\n                      workid: node.get('process_id'),\r\n                      subworkid: node.get('subprocess_id'),\r\n                      taskid: node.get('task_id'),\r\n                      nexturl: node.get('url_org')\r\n                    };\r\n                  }\r\n                });\r\n                var openWorkItemViewCommand = new OpenWorkItemViewCommand();\r\n                this.model.set({\r\n                  process_id: results.auto_display.process_id,\r\n                  subprocess_id: results.auto_display.subprocess_id,\r\n                  task_id: results.auto_display.task_id,\r\n                  url_org: urlOrg\r\n                }, {silent: true});\r\n                var node = this.model;\r\n                openWorkItemViewCommand._navigateTo(node);\r\n              }\r\n            }\r\n\r\n            else {\r\n              // close view\r\n              this._leaveWorkitemPerspective();\r\n            }\r\n\r\n            if(!_.isUndefined(this.actionDialog)){\r\n              this.actionDialog.destroy();\r\n            }\r\n\r\n          }, this))\r\n          .fail(_.bind(function (response) {\r\n            // show the error\r\n            var serverError = this._getRespError(response);\r\n            var serverErrorDetail = this._getRespErrorDetail(response);\r\n            var title = _.str.sformat(lang.ActionFailMessageTitle, action.get('label'));\r\n            var message = _.str.sformat(lang.ActionFailMessage, action.get('label'), serverError);\r\n\r\n            if (!_.isUndefined(this.actionDialog) && serverErrorDetail === \"662306821\"){\r\n              // dont't close the action dialog to enter password again, if error detail is\r\n              // 662306821 (wrong password for authentication)\r\n                this.actionDialog.model.set('authentication_error', serverError);\r\n            }\r\n            else {\r\n              if (!_.isUndefined(this.actionDialog)) {\r\n                this.actionDialog.destroy();\r\n              }\r\n              ModalAlert.showError(message, title).always(_.bind(function () {\r\n                // Continue here when the dialog was closed\r\n                if (serverErrorDetail === \"662306841\"){\r\n                  //This is the error for 'Account currently locked' => Sign out\r\n                  this._signOut();\r\n                }\r\n              }, this));\r\n\r\n            }\r\n            // reset the sending flag\r\n            this._isSending = false;\r\n          }, this));\r\n    },\r\n\r\n    _leaveWorkitemPerspective: function () {\r\n      var viewStateModel = this.options.context.viewStateModel;\r\n      var url = this.model.get('url_org');\r\n\r\n      if (url &&  url.length > 0 && url.indexOf(\"?func\") >= 0) {\r\n        //only when this is a ClassicUI URL\r\n        window.open(url, \"_self\");\r\n      } else if (viewStateModel.get(\"lastRouter\")){\r\n        viewStateModel.set('disableLastRouterOnChange', true);\r\n        viewStateModel.restoreLastRouter();\r\n      }\r\n      else{\r\n        this.options.context.getModel(ApplicationScopeModelFactory).set('id', '');\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(WorkitemView.prototype, LayoutViewEventsPropagationMixin);\r\n  return WorkitemView;\r\n});\n","csui.define('workflow/models/wfstatus/wfstatus.table.model',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/fetchable',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/browsable/client-side.mixin', 'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/nodechildrencolumn', 'csui/models/nodechildrencolumns',\r\n  'csui/models/node/node.model',\r\n  'workflow/utils/workitem.util',\r\n  'i18n!csui/models/widget/nls/lang',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, Url, ConnectableMixin, FetchableMixin, FetchableModel,\r\n    AdditionalResourcesV2Mixin, FieldsV2Mixin, ExpandableV2Mixin, CommandableV2Mixin,\r\n    ClientSideBrowsableMixin, BrowsableV2ResponseMixin, NodeChildrenColumnModel,\r\n    NodeChildrenColumnCollection, NodeModel, WorkItemUtil, lang) {\r\n  'use strict';\r\n\r\n  var WFStatusColumnModel = NodeChildrenColumnModel.extend({\r\n\r\n    constructor: function WFStatusColumnModel(attributes, options) {\r\n\r\n      NodeChildrenColumnModel.prototype.constructor.call(this, attributes, options);\r\n    }\r\n\r\n  });\r\n\r\n  var WFStatusColumnCollection = NodeChildrenColumnCollection.extend({\r\n\r\n    model: WFStatusColumnModel,\r\n\r\n    // private\r\n    getColumnModels: function (columnKeys, definitions) {\r\n      var columns = NodeChildrenColumnCollection.prototype.getColumnModels.call(\r\n          this, columnKeys, definitions);\r\n      _.each(columns, function (column) {\r\n        var columnKey = column['column_key'],\r\n            columns   = ['status_key', 'due_date', 'wf_name', 'step_name', 'assignee',\r\n              'date_initiated'];\r\n        if (columns.indexOf(columnKey) >= 0) {\r\n          column.sort = true;\r\n        }\r\n      });\r\n      return columns;\r\n    },\r\n\r\n    getV2Columns: function (response) {\r\n\r\n      var definitions = (response.results && response.results[0] &&\r\n                         response.results[0].definitions &&\r\n                         response.results[0].definitions.wfstatus) || {};\r\n\r\n      var columnKeys = _.keys(definitions);\r\n\r\n      return this.getColumnModels(columnKeys, definitions);\r\n    }\r\n\r\n  });\r\n\r\n  var WFStatusModel = NodeModel.extend({\r\n\r\n    parse: function (response, options) {\r\n\r\n      if (response.data && response.data.wfstatus) {\r\n        var assigneeData = {}, userId = 0;\r\n        assigneeData.assignees = response.data.wfstatus.assignee;\r\n        assigneeData.isWfstatusAssigneeColumn = true;\r\n        if (assigneeData.assignees.length === 1) {\r\n          userId = assigneeData.assignees[0].userId;\r\n        }\r\n        if (response.data.wfstatus.assignedto) {\r\n          response.data.wfstatus.assignedto.assignees = assigneeData.assignees;\r\n        }\r\n        assigneeData.assignedto = response.data.wfstatus.assignedto;\r\n        response.data.wfstatus.userId = userId;\r\n        response.data.wfstatus.assignee = WorkItemUtil.getAssignee(assigneeData);\r\n        response.data.properties = response.data.wfstatus;\r\n        response.data.permissions = response.permissions;\r\n      }\r\n\r\n      var node = NodeModel.prototype.parse.call(this, response, options);\r\n      return node;\r\n    }\r\n\r\n  });\r\n\r\n  var WFStatusCollection = Backbone.Collection.extend(\r\n      _.extend({}, FetchableModel(Backbone.Collection), {\r\n\r\n        model: WFStatusModel,\r\n\r\n        constructor: function WFStatusCollection(attributes, options) {\r\n          Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n          // Support collection cloning\r\n          if (options) {\r\n            this.options = _.pick(options, ['connector', 'autoreset',\r\n              'includeResources', 'fields', 'expand', 'commands', 'status', 'retention',\r\n              'wfstatusfilter', 'filterWorkflowtype', 'filterWorkflows', 'selectionType',\r\n              'isFilterVisible', 'statusListCount', 'chatSettings', 'referenceid']);\r\n          }\r\n\r\n          this.makeConnectable(options)\r\n              .makeFetchable(options)\r\n              .makeAdditionalResourcesV2Mixin(options)\r\n              .makeFieldsV2(options)\r\n              .makeExpandableV2(options)\r\n              .makeCommandableV2(options)\r\n              .makeClientSideBrowsable(options)\r\n              .makeBrowsableV2Response(options);\r\n\r\n          this.columns = new WFStatusColumnCollection();\r\n        },\r\n\r\n        clone: function () {\r\n          // Provide the options; they may include connector and other parameters\r\n          var clone = new this.constructor(this.models, this.options);\r\n          // Clone sub-models not covered by Backbone\r\n          if (this.columns) {\r\n            clone.columns.reset(this.columns.toJSON());\r\n          }\r\n          // Clone properties about the full (not-yet fetched) collection\r\n          clone.actualSkipCount = this.actualSkipCount;\r\n          clone.wfstatus = this.model;\r\n          clone.totalCount = this.totalCount;\r\n          clone.filteredCount = this.filteredCount;\r\n          return clone;\r\n        },\r\n\r\n        url: function () {\r\n\r\n          var baseUrl            = this.connector.connection.url.replace('/v1', '/v2'),\r\n              getUrl             = Url.combine(baseUrl, '/workflows/status'),\r\n              filterWorkflowtype = this.options.filterWorkflowtype,\r\n              retention          = this.options.retention,\r\n              selectionType      = this.options.selectionType,\r\n              wfstatusfilter     = this.options.wfstatusfilter,\r\n              referenceId        = this.options.referenceid;\r\n\r\n          if (!filterWorkflowtype) {\r\n            filterWorkflowtype = WorkItemUtil.getWorkflowtype(this.options.filterWorkflows);\r\n          }\r\n\r\n          getUrl += \"?selectionType=\" + selectionType;\r\n\r\n          if (wfstatusfilter && wfstatusfilter !== '') {\r\n            getUrl += \"&wfstatusfilter=\" + wfstatusfilter;\r\n          }\r\n          else {\r\n            getUrl += \"&wfretention=\" + retention;\r\n            getUrl += \"&kind=\" + filterWorkflowtype;\r\n          }\r\n          // append node based filtering\r\n          if (referenceId) {\r\n            getUrl += \"&nodeid=\" + referenceId;\r\n          }\r\n\r\n          return getUrl;\r\n        },\r\n\r\n        parse: function (response, options) {\r\n\r\n          this.parseBrowsedState(response, options);\r\n          this.columns && this.columns.resetColumnsV2(response, this.options);\r\n          return this.parseBrowsedItems(response, options);\r\n        },\r\n\r\n        getResourceScope: function () {\r\n          return _.deepClone({\r\n            fields: this.fields,\r\n            expand: this.expand,\r\n            includeResources: this._additionalResources,\r\n            commands: this.commands\r\n          });\r\n        },\r\n        fetchdata: function (options) {\r\n          if (options) {\r\n            this.options = options;\r\n          }\r\n          //Backbone.Collection.prototype.fetch.apply( this, arguments );\r\n          return this.Fetchable.fetch.apply(this, arguments);\r\n        },\r\n        setResourceScope: function (scope) {\r\n          this.excludeResources();\r\n          scope.includeResources && this.includeResources(scope.includeResources);\r\n          this.resetFields();\r\n          scope.fields && this.setFields(scope.fields);\r\n          this.resetExpand();\r\n          scope.expand && this.setExpand(scope.expand);\r\n          this.resetCommands();\r\n          scope.commands && this.setCommands(scope.commands);\r\n        }\r\n\r\n      }));\r\n\r\n  ClientSideBrowsableMixin.mixin(WFStatusCollection.prototype);\r\n  // when due_date is null, put the record at the bottom for ascending sort as PM and CWS request\r\n  var originalCompareValues = WFStatusCollection.prototype._compareValues;\r\n  WFStatusCollection.prototype._compareValues = function (property, left, right) {\r\n    if (property.indexOf('date') >= 0) {\r\n      if (left === null) {\r\n        return 1;\r\n      }\r\n      if (right === null) {\r\n        return -1;\r\n      }\r\n    }\r\n    return originalCompareValues.apply(this, arguments);\r\n  };\r\n\r\n  BrowsableV2ResponseMixin.mixin(WFStatusCollection.prototype);\r\n  ConnectableMixin.mixin(WFStatusCollection.prototype);\r\n  FetchableMixin.mixin(WFStatusCollection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(WFStatusCollection.prototype);\r\n  FieldsV2Mixin.mixin(WFStatusCollection.prototype);\r\n  ExpandableV2Mixin.mixin(WFStatusCollection.prototype);\r\n  CommandableV2Mixin.mixin(WFStatusCollection.prototype);\r\n\r\n  return WFStatusCollection;\r\n\r\n}); \r\n\n","csui.define('workflow/models/wfstatus/wfstatus.collection.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'workflow/models/wfstatus/wfstatus.table.model', 'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory, WFStatusCollection) {\r\n  'use strict';\r\n\r\n  var WFStatusCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'wfstatus-list',\r\n\r\n    constructor: function WFStatusCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var wfstatus = this.options.wfstatus || {};\r\n      if (!(wfstatus instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config    = module.config();\r\n        wfstatus = new WFStatusCollection(wfstatus.models, _.extend(\r\n            {connector: connector}, this.options, config.options,\r\n            WFStatusCollectionFactory.getDefaultResourceScope(),\r\n            {autoreset: true}));\r\n      }\r\n      this.property = wfstatus;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    },\r\n\r\n    isFetchable: function () {\r\n      if (window.csui && window.csui.mobile) {\r\n        return !this.property.fetched;\r\n      }\r\n      return true;\r\n    }\r\n\r\n  }, {\r\n\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        // So far, all properties are includes in the wfstatus fields\r\n        fields: {\r\n          wfstatus: []\r\n        },\r\n        // Get property definitions to support table columns or similar\r\n        // and actions to support clickability and others\r\n        includeResources: ['metadata']\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return WFStatusCollectionFactory;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/controls/visualdata/impl/wfdonut',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"wf-status-visual-data-container\\\"></div>\";\n}});\nHandlebars.registerPartial('workflow_controls_visualdata_impl_wfdonut', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!workflow/controls/visualdata/impl/wfdonut',[],function(){});\n","// Shows the Shortcut widget of a specific node\r\ncsui.define('workflow/controls/visualdata/visual.data.donut.view',[\r\n  'csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'csui/lib/jquery',\r\n  'csui/lib/d3',\r\n  'hbs!workflow/controls/visualdata/impl/wfdonut',\r\n  'css!workflow/controls/visualdata/impl/wfdonut'\r\n], function (_, Marionette, $, d3, template) {\r\n\r\n  'use strict';\r\n\r\n  var WFStatusView = Marionette.ItemView.extend({\r\n\r\n    className: 'wf-status-donut-piechart',\r\n\r\n    template: template,\r\n\r\n    rootElementType: \"svg\",\r\n\r\n    defaults: {\r\n      marginTop: 10,\r\n      marginTopp: 60,\r\n      marginRight: 0,\r\n      marginBottom: 0,\r\n      marginLeft: 20,\r\n      groupAfter: 0\r\n    },\r\n\r\n    ui: {\r\n      dataVisContainer: '.wf-status-visual-data-container',\r\n    },\r\n\r\n    //Unbinding the events registered to the window.\r\n    //Tooltips are adding directly to DOM.So removing them from DOM.\r\n    onDestroy: function () {\r\n      $(window).off('resize.app', this.render);\r\n      $('.wfstatus-donut-chart-tooltip.toolTip').remove();\r\n    },\r\n\r\n    constructor: function WFStatusView(options) {\r\n      this.options = options;\r\n      this.parentEle = this.options.parent.$el;\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n      $(window).on(\"resize.app\", this.render);\r\n    },\r\n    onRender: function () {\r\n      var tooltip,\r\n          minPadding           = -30;\r\n      this.uniqueID = _.uniqueId('vis_');\r\n\r\n      var width  = (this.width() > 0) ? this.width() : $(this.$el).width() - this.marginLeft()\r\n                                                       - this.marginRight(),\r\n          height = (this.height() > 0) ? this.height() : $(this.$el).height() -\r\n                                                         this.marginTop() - this.marginBottom();\r\n\r\n      this.visElement = d3.select(this.ui.dataVisContainer[0]).append(this.rootElementType)\r\n          .attr(\"id\", this.uniqueID)\r\n          .attr(\"focusable\", false)\r\n          .attr(\"width\", width + this.marginLeft() + this.marginRight())\r\n          .attr(\"height\", height - this.marginTopp());\r\n\r\n      this.visElement.append('g')\r\n          .attr('transform', 'translate(' + this.marginLeft() + ',' + '-' + 40 + ')')\r\n          .attr('class', 'vis-wrapper');\r\n\r\n      this.visElement.select('.vis-wrapper')\r\n          .append('g')\r\n          .attr('class', 'pie-chart')\r\n          .attr('transform', 'translate(' + this.width() / 4 + ',' + this.height() / 2 + ')'); // center at 1/3\r\n\r\n      this.visElement.select('.vis-wrapper')\r\n          .append('g')\r\n          .attr('class', 'pie-legend-container')\r\n          .attr('transform',\r\n              'translate(' + ((this.width() / 3 ) * 2 + minPadding - 30) + ',' + this.height() / 2 +\r\n              ')'); // center at 2/3 + padding\r\n\r\n      if ( $('.wfstatus-donut-chart-tooltip.toolTip').length < 1 ) {\r\n        tooltip = d3.select('body')\r\n               .append(\"div\")\r\n               .attr(\"class\", \"wfstatus-donut-chart-tooltip toolTip\");\r\n      } else {\r\n        tooltip = d3.select(\".wfstatus-donut-chart-tooltip\");\r\n      }\r\n       \r\n      var contentView  = this,\r\n          visElement   = contentView.visElement,\r\n          //late, ontime, stopped and completed \r\n          colors = ['#f3794e', '#09bcef', '#ff3333', '#8cc53e'],\r\n          color        = d3.scaleOrdinal(colors),\r\n          chartData    = this.options.dataset,\r\n\r\n          donutWidth   = 1.35, // thickness of donut ring\r\n          radius       = Math.min(width / 4, height / 3) + 10,\r\n          colorOpacity = 0.9,\r\n          outlineStrokeWidth   = 1,\r\n          outlineStrokeColor   = \"#ffffff\",\r\n          outlineStrokeOpacity = \"0.7\";\r\n\r\n      width = this.width() - this.marginLeft() - this.marginRight();\r\n      height = this.width() - this.marginTop() - this.marginBottom();\r\n\r\n      var arc = d3.arc()\r\n          .innerRadius(radius / donutWidth)\r\n          .outerRadius(radius);\r\n\r\n      var pie = d3.pie()\r\n          .sort(null)\r\n          .value(function (d) {\r\n            return d.count;\r\n          });\r\n\r\n      var segments = visElement.select('.pie-chart').selectAll('.arc')\r\n          .data(pie(chartData))\r\n          .enter().append('g')\r\n          .attr('class', 'arc')\r\n          .style('cursor', 'pointer');\r\n\r\n      segments.append('path')\r\n          .attr('d', arc)\r\n          .attr('tabindex', function (d, i) {\r\n            return d.data.count ? 0 : -1;\r\n          })\r\n          .attr('focusable', function (d, i) {\r\n            return d.data.count ? true : false;\r\n          })\r\n          .attr('fill-opacity', colorOpacity)\r\n          .style('fill', function (d, i) {\r\n            return color(i);\r\n          })\r\n          .on(\"keyup\", function (d) {\r\n            //tab key\r\n            if (d3.event.keyCode === 9) {\r\n              visElement.select('.pie-chart').selectAll('.arc')\r\n                  .filter(function (d2, i2) {\r\n                    return (d2.data.status === d.data.status);\r\n                  })\r\n                  .attr(\"stroke\", outlineStrokeColor)\r\n                  .attr(\"stroke-opacity\", outlineStrokeOpacity)\r\n                  .transition()\r\n                  .duration(0)\r\n                  .attr(\"stroke-width\", outlineStrokeWidth);\r\n            }\r\n          })\r\n          .on(\"focusout\", function (d) {\r\n            visElement.select('.pie-chart').selectAll('.arc')\r\n                .filter(function (d2, i2) {\r\n                  return (d2.data.status === d.data.status);\r\n                })\r\n                .attr(\"stroke\", \"none\");\r\n          })\r\n          .on(\"keydown\", function (d) {\r\n            //Enter key\r\n            if (d3.event.keyCode === 13) {\r\n              d3.event.data = {status: d.data.status};\r\n              contentView.options.parent.triggerMethod('click:segment', d3.event);\r\n            }\r\n          })\r\n          .on(\"mouseover\", function (d) {\r\n            tooltip.text(d.data.count + ' ' + contentView.options.statusArray[d.data.status]);\r\n            return tooltip.style(\"visibility\", \"visible\");\r\n          })\r\n          .on(\"mousemove\", function (d) {\r\n            tooltip.text(d.data.count + ' ' + contentView.options.statusArray[d.data.status]);\r\n            var mousePos = d3.mouse(d3.select(\"body\").node());\r\n            return tooltip.style(\"top\", mousePos[1] - 25 + \"px\").style(\"left\", mousePos[0] - 10 + \"px\");\r\n          })\r\n          .on(\"mouseout\", function (d) {\r\n            tooltip.text(d.data.count + ' ' + contentView.options.statusArray[d.data.status]);\r\n            return tooltip.style(\"visibility\", \"hidden\");\r\n          })\r\n          .on(\"click\", function (d) {\r\n            //setting segment data in the event data attribute\r\n            d3.event.data = {status: d.data.status};\r\n            contentView.options.parent.triggerMethod('click:segment', d3.event);\r\n          });\r\n\r\n      var donutTotal = visElement.select('.pie-chart')\r\n          .append('g')\r\n          .attr('class', 'pie-total-container')\r\n          .style('cursor', 'pointer');\r\n\r\n      var minFontSize      = 10,\r\n          valueFontSize    = minFontSize,\r\n          valueOffsetRatio = 10;\r\n\r\n      donutTotal.append('text')\r\n          .attr('tabindex', '0')\r\n          .attr('class', 'total-count')\r\n          .attr('transform', 'translate(0,' + (-(valueFontSize / valueOffsetRatio) - 10) + ')')\r\n          .attr('text-anchor', 'middle')\r\n          .attr('alignment-baseline', 'middle')\r\n          .attr('fill', \"#cccccc\")\r\n          .text(this.totalCount(chartData))\r\n          .on(\"focusout\", function (d) {\r\n            donutTotal.attr(\"stroke\", \"none\");\r\n          })\r\n          .on(\"keydown\", function (d) {\r\n            if (d3.event.keyCode === 13) {\r\n              contentView.options.parent.triggerMethod('click:segment', d3.event);\r\n            }\r\n          })\r\n          .on(\"keyup\", function (d) {\r\n            //tab key\r\n            if (d3.event.keyCode === 9) {\r\n              donutTotal.attr(\"stroke\", outlineStrokeColor)\r\n                  .attr(\"stroke-opacity\", outlineStrokeOpacity)\r\n                  .transition()\r\n                  .duration(0)\r\n                  .attr(\"stroke-width\", outlineStrokeWidth);\r\n            }\r\n          });\r\n\r\n      donutTotal.append('text')\r\n          .attr('class', 'total-text')\r\n          .attr('transform', 'translate(0,' + (valueFontSize / valueOffsetRatio + 30) + ')')\r\n          .attr('text-anchor', 'middle')\r\n          .attr('alignment-baseline', 'middle')\r\n          .attr('fill', \"#cccccc\")\r\n          .text(contentView.options.totalLabel);\r\n\r\n      var legendHeight = calculateLegendHeight() + 12;\r\n      var pieLegendContainer = visElement.select('.pie-legend-container');\r\n      pieLegendContainer.style('font-size', (legendHeight / 2) + 'px');\r\n      var legends = pieLegendContainer.selectAll('.pie-legend')\r\n          .data(pie(chartData))\r\n          .enter().append('g')\r\n          .attr('class', 'pie-legend')\r\n          .on('mouseover', function (d) {\r\n            visElement.select('.pie-chart').selectAll('.arc')\r\n                .filter(function (d2, i2) {\r\n                  return (d2.data.status === d.data.status);\r\n                })\r\n                .attr(\"stroke\", \"red\")\r\n                .transition()\r\n                .duration(1000)\r\n                .attr(\"stroke-width\", 2);\r\n          })\r\n          .on('mouseout', function (d) {\r\n            visElement.select('.pie-chart').selectAll('.arc')\r\n                .filter(function (d2, i2) {\r\n                  return (d2.data.status === d.data.status);\r\n                })\r\n                .attr(\"stroke\", \"none\");\r\n          })\r\n          .on(\"click\", function (d) {\r\n            //setting legend data in the event data attribute\r\n            d3.event.data = {status: d.data.status};\r\n            contentView.options.parent.triggerMethod('click:segment', d3.event);\r\n          });\r\n      // Add the legend to the pie chart\r\n      legends.append('text')\r\n          .attr('class', 'pie-legend-text wf-legend-text')\r\n          .attr('tabindex', function (d, i) {\r\n            return d.data.count ? 0 : -1;\r\n          })\r\n          .attr('focusable', function (d, i) {\r\n            return d.data.count ? true : false;\r\n          })\r\n          .on(\"keydown\", function (d) {\r\n            //Enter key\r\n            if (d3.event.keyCode === 13) {\r\n              d3.event.data = {status: d.data.status};\r\n              contentView.options.parent.triggerMethod('click:segment', d3.event);\r\n            }\r\n          })\r\n          .attr('dy', '1.2em') // individual offset to center text vertically\r\n          .attr('transform', function (d, i) {\r\n            var offset = (legendHeight * totalSegments(chartData) / 2) - 10,\r\n                x      = getTextWidth(d, i) + legendHeight + 24,\r\n                y      = (calculateYindex(i) * legendHeight) - offset;\r\n            return 'translate(' + x + ',' + y + ')';\r\n          })\r\n          .attr('fill', \"#cccccc\")\r\n          .text(function (d, i) {\r\n            return d.data.count ? contentView.options.statusArray[d.data.status] : \"\";\r\n          })\r\n          .on(\"keyup\", function (d) {\r\n            //tab key\r\n            if (d3.event.keyCode === 9) {\r\n              legends.filter(function (d2, i2) {\r\n                    return (d2.data.status === d.data.status);\r\n                  })\r\n                  .attr(\"stroke\", outlineStrokeColor)\r\n                  .attr(\"stroke-opacity\", outlineStrokeOpacity)\r\n                  .transition()\r\n                  .duration(0)\r\n                  .attr(\"stroke-width\", outlineStrokeWidth);\r\n            }\r\n          })\r\n          .on(\"focusout\", function (d) {\r\n            legends.filter(function (d2, i2) {\r\n                  return (d2.data.status === d.data.status);\r\n                })\r\n                .attr(\"stroke\", \"none\");\r\n          });\r\n\r\n      legends.append('text')\r\n          .attr('class', 'pie-legend-text wf-legend-count')\r\n          .attr('dy', '1.2em')\r\n          .attr('transform', function (d, i) {\r\n            var offset = legendHeight * totalSegments(chartData) / 2,\r\n                x      = 36,\r\n                y      = (calculateYindex(i) * legendHeight) - offset;\r\n            return 'translate(' + x + ',' + y + ')';\r\n          })\r\n          .text(function (d, i) {\r\n            return d.data.count ? d.data.count : \"\";\r\n          })\r\n          .attr('fill', function (d, i) {\r\n            return color(i);\r\n          });\r\n      legends.style('cursor', 'pointer');\r\n      function calculateYindex(i) {\r\n        if (i === 0) {\r\n          return 0;\r\n        } else {\r\n          var totalCount = 0;\r\n          _.each(chartData, function (set) {\r\n            if (i > 0 && set.count !== 0) {\r\n              totalCount++;\r\n            }\r\n            i--;\r\n          });\r\n          return totalCount;\r\n        }\r\n\r\n      }\r\n\r\n      function calculateLegendHeight() {\r\n        // returns a dynamic height for each legend swatch, according to how many swatches are needed\r\n        var n             = chartData.length || 1,\r\n            minSwatchSize = 14, // smallest legible size (font is half this size)\r\n            maxSwatchSize = 24,\r\n            swatchSize;\r\n\r\n        swatchSize = ((height * 2) / n) / 2;\r\n        swatchSize = (swatchSize < minSwatchSize) ? minSwatchSize : swatchSize;\r\n        swatchSize = (swatchSize > maxSwatchSize) ? maxSwatchSize : swatchSize;\r\n\r\n        return swatchSize;\r\n      }\r\n\r\n      function totalSegments(data) {\r\n        var totalSegments = 0;\r\n        _.each(data, function (set) {\r\n          if (set.count !== 0) {\r\n            totalSegments++;\r\n          }\r\n        });\r\n        return totalSegments;\r\n      }\r\n\r\n      function getTextWidth(d, i) {\r\n        var textWidth     = 0,\r\n            measuringSpan = document.createElement(\"span\");\r\n        measuringSpan.innerText = d.data.count;\r\n        measuringSpan.style.visibility = 'hidden';\r\n        $('body')[0].appendChild(measuringSpan);\r\n        textWidth = $(measuringSpan).width();\r\n        $('body')[0].removeChild(measuringSpan);\r\n        return textWidth;\r\n      }\r\n    },\r\n\r\n    marginTop: function () {\r\n      return this.defaults.marginTop;\r\n    },\r\n\r\n    marginBottom: function () {\r\n      return this.defaults.marginBottom;\r\n    },\r\n\r\n    marginLeft: function () {\r\n      return this.defaults.marginLeft;\r\n    },\r\n\r\n    marginRight: function () {\r\n      return this.defaults.marginRight;\r\n    },\r\n\r\n    marginTopp: function () {\r\n      return this.defaults.marginTopp;\r\n    },\r\n\r\n    width: function () {\r\n\r\n      return this.parentEle.width() - this.marginLeft() - this.marginRight();\r\n    },\r\n\r\n    height: function () {\r\n      return this.parentEle.height() - this.marginTop() - this.marginBottom();\r\n\r\n    },\r\n\r\n    totalCount: function (data) {\r\n      var totalCount = 0;\r\n      _.each(data, function (set) {\r\n        totalCount = totalCount + set.count;\r\n      });\r\n      return totalCount;\r\n    }\r\n\r\n  });\r\n\r\n  return WFStatusView;\r\n\r\n});\r\n\n","csui.define('workflow/controls/behaviors/wfstatus.infinite.scrolling.behavior',[ \"csui/lib/jquery\", 'csui/controls/tile/behaviors/infinite.scrolling.behavior'\r\n], function ( $,InfiniteScrollingBehavior) {\r\n  'use strict';\r\n\r\n  var WfInfiniteScrollingBehavior = InfiniteScrollingBehavior.extend({\r\n    _checkScrollPosition: function () {\r\n\r\n      var container = $(this.options.contentParent);\r\n      var containerHeight = container.height();\r\n      var containerScrollHeight = container[0].scrollHeight;\r\n      var containerScrollTop = container.scrollTop();\r\n      if ((containerScrollTop + 30) >= (containerScrollHeight - containerHeight)) {\r\n       $('#footerview').trigger(\"click\");\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return WfInfiniteScrollingBehavior;\r\n\r\n});\n","csui.define('workflow/controls/infinite.table/infinite.table.view',[\"require\",\r\n  \"csui/lib/jquery\",\r\n  \"csui/lib/underscore\",\r\n  'csui/lib/moment',\r\n  \"csui/lib/backbone\",\r\n  \"csui/lib/marionette\",\r\n  \"csui/controls/table/table.view\",\r\n  'csui/utils/commands',\r\n  'csui/utils/defaultactionitems',\r\n  \"workflow/controls/behaviors/wfstatus.infinite.scrolling.behavior\",\r\n  \"csui/controls/tile/behaviors/perfect.scrolling.behavior\",\r\n  'csui/lib/perfect-scrollbar'\r\n], function (require, $, _, moment, Backbone, Marionette,\r\n    TableView,\r\n    commands,\r\n    defaultActionItems,\r\n    InfiniteScrollingBehavior,\r\n    PerfectScrollingBehavior) {\r\n  'use strict';\r\n\r\n  var InfiniteScrollingTableView = TableView.extend({\r\n        constructor: function InfiniteScrollingTableView(options) {\r\n          InfiniteScrollingTableView.__super__.constructor.apply(this, arguments);\r\n        },\r\n\r\n        behaviors: {\r\n          PerfectScrolling: {\r\n            behaviorClass: PerfectScrollingBehavior,\r\n            contentParent: 'tbody',\r\n            suppressScrollX: true\r\n          },\r\n          InfiniteScrolling: {\r\n            behaviorClass: InfiniteScrollingBehavior,\r\n            // selector for scrollable area\r\n            contentParent: 'tbody',\r\n            content: 'tbody>tr:visible',\r\n            fetchMoreItemsThreshold: 10\r\n          }\r\n        }\r\n\r\n      }\r\n  );\r\n\r\n  return InfiniteScrollingTableView;\r\n});\r\n\r\n\n","csui.define('workflow/widgets/wfstatus/wfstatus.columns',[\"csui/lib/backbone\"], function (Backbone) {\r\n  \"use strict\";\r\n  var TableColumnModel = Backbone.Model.extend({\r\n\r\n    idAttribute: \"key\",\r\n\r\n    defaults: {\r\n      key: null,  // key from the resource definitions\r\n      sequence: 0 // smaller number moves the column to the front\r\n    }\r\n\r\n  });\r\n\r\n  var TableColumnCollection = Backbone.Collection.extend({\r\n\r\n    model: TableColumnModel,\r\n    comparator: \"sequence\",\r\n\r\n    getColumnKeys: function () {\r\n      return this.pluck('key');\r\n    },\r\n\r\n    deepClone: function () {\r\n      return new TableColumnCollection(\r\n          this.map(function (column) {\r\n            return column.attributes;\r\n          }));\r\n    }\r\n\r\n  });\r\n\r\n  // Fixed (system) columns have sequence number < 100, dynamic columns\r\n  // have sequence number > 1000\r\n\r\n  var MyAssignmentsTableColumns = new TableColumnCollection([\r\n    {\r\n      key: 'status_key',\r\n      sequence: 10\r\n    },\r\n    {\r\n      key: 'due_date',\r\n      sequence: 20\r\n    },\r\n    {\r\n      key: 'wf_name',\r\n      sequence: 30\r\n    },\r\n    {\r\n      key: 'step_name',\r\n      sequence: 40\r\n    },\r\n    {\r\n      key: 'assignee',\r\n      sequence: 50\r\n    },\r\n    {\r\n      key: 'date_initiated',\r\n      sequence: 60\r\n    }\r\n  ]);\r\n\r\n  return MyAssignmentsTableColumns;\r\n\r\n});\r\n\n","csui.define('workflow/models/wfstatus/wfstatus.column.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',   'workflow/models/wfstatus/wfstatus.collection.factory'\r\n], function (module, _, Backbone, CollectionFactory, WFStatusCollectionFactory) {\r\n\r\n  \"use strict\";\r\n\r\n  var WFStatusColumnsCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'wfstatus_columns',\r\n\r\n    constructor: function WFStatusColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getCollection(WFStatusCollectionFactory, options);\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return WFStatusColumnsCollectionFactory;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/wfstatus/impl/wfstatuslist',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"wfstatus-table\\\">\\r\\n  <div id=\\\"tableview\\\"></div>\\r\\n  <div id=\\\"footerview\\\"></div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_widgets_wfstatus_impl_wfstatuslist', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!workflow/widgets/wfstatus/impl/wfstatus',[],function(){});\n","csui.define('workflow/widgets/wfstatus/impl/wfstatus.list.view',[\"module\", \"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n  \"csui/lib/marionette\", \"csui/utils/log\",\r\n  'csui/controls/table/rows/description/description.view',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/widgets/nodestable/nodestable.view',\r\n  'csui/controls/toolbar/delayed.toolbar.view',\r\n  'csui/controls/toolbar/toolbar.view',\r\n  'csui/controls/tableactionbar/tableactionbar.view',\r\n  'workflow/controls/infinite.table/infinite.table.view',\r\n  'workflow/widgets/wfstatus/wfstatus.columns',\r\n  'workflow/models/wfstatus/wfstatus.column.factory',\r\n  'workflow/models/wfstatus/wfstatus.collection.factory',\r\n  'workflow/controls/stepcards/stepcards.list.view',\r\n  'workflow/controls/usercards/usercards.list.view',\r\n  'workflow/controls/popover/popover.view',\r\n  'workflow/utils/workitem.util',\r\n  'hbs!workflow/widgets/wfstatus/impl/wfstatuslist',\r\n  'i18n!workflow/widgets/wfstatus/impl/nls/lang',\r\n  'css!workflow/widgets/wfstatus/impl/wfstatus'\r\n], function (module, $, _, Backbone, Marionette, log,\r\n    DescriptionRowView, LayoutViewEventsPropagationMixin, NodesTable,\r\n    DelayedToolbarView, ToolbarView, TableActionBarView, InfiniteScrollingTableView,\r\n    WFStatusTableColumns, WFStatusColumnCollectionFactory, WFStatusCollectionFactory,\r\n    StepcardsListView, UsercardsListView, PopoverView, WorkItemUtil, template, lang) {\r\n  'use strict';\r\n\r\n  var WFStatusTableView = NodesTable.extend({\r\n\r\n    template: template,\r\n\r\n    className: '',\r\n\r\n    regions: {\r\n      tableRegion: '#tableview',\r\n      footerRegion: '#footerview'\r\n    },\r\n    events: {\r\n      'click #footerview': 'fetchMoreItems',\r\n      'click #tableview': 'performStatusItemAction'\r\n    },\r\n\r\n    constructor: function WFStatusTableView(options) {\r\n      options.separateDescription = false;\r\n      NodesTable.prototype.constructor.apply(this, arguments);\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    initialize: function () {\r\n      this.collection = this.options.collection ||\r\n                        this.context.getCollection(WFStatusCollectionFactory);\r\n      this.columns = this.collection.columns ||\r\n                     this.context.getCollection(WFStatusColumnCollectionFactory);\r\n\r\n      _.defaults(this.options, {\r\n        orderBy: 'status_key desc',\r\n        tableColumns: WFStatusTableColumns\r\n      });\r\n\r\n      this.setTableView();\r\n\r\n      if (this.options.collection) {\r\n        this.collection.fetched = false;\r\n      }\r\n      this.collection.page = 1;\r\n    },\r\n\r\n    fetchMoreItems: function () {\r\n      this.collection.fetched = false;\r\n      var currentPage = this.collection.page;\r\n      if ((this.collection.length === this.options.pageSize*currentPage)) {\r\n        this.collection.page = currentPage + 1;\r\n        this.onRender(this.collection.page);\r\n      }\r\n    },\r\n\r\n    setTableView: function () {\r\n      this.tableView = new InfiniteScrollingTableView({\r\n        context: this.options.context,\r\n        connector: this.connector,\r\n        collection: this.collection,\r\n        columns: this.columns,\r\n        tableColumns: this.options.tableColumns,\r\n        pageSize: this.options.pageSize,\r\n        originatingView: this,\r\n        columnsWithSearch: [\"wf_name\"],\r\n        orderBy: this.options.orderBy,\r\n        filterBy: this.options.filterBy,\r\n        nameEdit: false,\r\n        selectRows: 'None',\r\n        selectColumn: false,\r\n        favoritesTableOptions: this.favoritesTableOptions,\r\n        actionItems: this.defaultActionController.actionItems,\r\n        commands: this.defaultActionController.commands,\r\n        blockingParentView: this,\r\n        tableTexts: {\r\n          zeroRecords: lang.emptyListText\r\n        },\r\n        alternativeHeader: {\r\n          viewClass: this.collection.delayedActions ? DelayedToolbarView : ToolbarView,\r\n          options: {\r\n            toolbarItems: this.options.toolbarItems,\r\n            toolbarItemsMask: this.options.toolbarItemsMasks.toolbars.tableHeaderToolbar,\r\n            toolbarCommandController: this.commandController\r\n          }\r\n        },\r\n        inlineBar: {\r\n          viewClass: TableActionBarView,\r\n          options: _.extend({\r\n            collection: this.options.toolbarItems.inlineActionbar,\r\n            toolItemsMask: this.options.toolbarItemsMasks.toolbars.inlineActionbar,\r\n            delayedActions: this.collection.delayedActions,\r\n            container: this.collection.node,\r\n            containerCollection: this.collection,\r\n            commandExecutionOptions: {nameAttribute: 'wf_name'}\r\n          }, this.options.toolbarItems.inlineActionbar.options, {\r\n            inlineBarStyle: this.options.inlineActionBarStyle,\r\n            forceInlineBarOnClick: this.options.forceInlineActionBarOnClick,\r\n            showInlineBarOnHover: this.options.showInlineActionBarOnHover\r\n          })\r\n        }\r\n      });\r\n      this.listenTo(this, 'render', function () {\r\n        this.tableRegion.show(this.tableView);\r\n      });\r\n      this.listenTo(this.tableView, \"clicked:cell\", this.performStatusItemAction);\r\n    },\r\n\r\n    onDestroy: function () {\r\n      // If the collection was passed from outside and might be of a limited scope\r\n      if (this.options.collection) {\r\n        // Restore the scope of the response\r\n        this.collection.setResourceScope(this._originalScope);\r\n      }\r\n      NodesTable.prototype.onDestroy.call(this);\r\n    },\r\n\r\n    onRender: function (page) {\r\n      // If the collection was passed from outside and might be of a limited scope\r\n      if (this.options.collection && !this.collection.fetched) {\r\n        // Cancel limiting the scope of the response\r\n        this._originalScope = this.collection.getResourceScope();\r\n        this.collection.setResourceScope(WFStatusCollectionFactory.getDefaultResourceScope());\r\n\r\n        var options = {},\r\n            data    = '',\r\n            self    = this;\r\n\r\n        if (this.collection.options && this.collection.options.status) {\r\n          var delim      = '',\r\n              statusList = this.collection.options.status;\r\n          _.each(statusList, function (status) {\r\n            if (status !== '') {\r\n              data += delim + 'wstatus=' + status;\r\n              delim = '&';\r\n            }\r\n          });\r\n        }\r\n        options.reload = true;\r\n        options.data = data;\r\n        //Modifying the width of the list view based on the filter visibility\r\n        if ((this.collection.options.status.length > 0 ) ||\r\n            (this.collection.options.isFilterVisible === true)) {\r\n          this.$el.find('.wfstatus-table').addClass('wfstatus-filter-width');\r\n        }\r\n\r\n\r\n        if (page > 1) {\r\n          options.data = options.data ? (options.data + \"&page=\" + page) : \"page=\" + page;\r\n          options.remove = false;\r\n          options.reset = false;\r\n          options.reload = false;\r\n          options.retention = this.collection.options.retention;\r\n          options.selectionType = this.collection.options.selectionType;\r\n          options.wfstatusfilter = this.collection.options.wfstatusfilter;\r\n          options.status = this.collection.options.status;\r\n          var filterWorkflowtype = this.collection.options.filterWorkflowtype;\r\n          if (!filterWorkflowtype) {\r\n            filterWorkflowtype = WorkItemUtil.getWorkflowtype(\r\n                this.collection.options.filterWorkflows);\r\n          }\r\n          options.filterWorkflowtype = filterWorkflowtype;\r\n          this.collection.fetchdata(_.extend({remove: false}, options)).then(function(){\r\n            //After executing next page REST call, if there is no additional data retrieved\r\n            //then reduce the page size by 1 because it was incremented earilier to load next page\r\n            var currentPage=self.collection.page;\r\n            if(self.collection.length === self.options.pageSize*(currentPage-1)){\r\n              self.collection.page=currentPage-1;\r\n            }\r\n          });\r\n        } else {\r\n          this.collection.fetch(options);\r\n        }\r\n      }\r\n\r\n      this.tableRegion.show(this.tableView);\r\n      this.listenTo(this.collection, \"reset\", this.unbindPopover);\r\n    },\r\n\r\n    unbindPopover: function () {\r\n      WorkItemUtil.unbindPopover();\r\n    },\r\n\r\n    performStatusItemAction: function (data) {\r\n\r\n      var isContainer = !!(data && data.target && data.target.tagName.toLowerCase() === \"tbody\"),\r\n          dataModel = data.model,\r\n          perm, hasReassignAction,\r\n          winEvent = window.event,\r\n          isAssignee = false,\r\n          isCurrentStep = false,\r\n          sourceElement;\r\n\r\n       if (dataModel && winEvent && winEvent.target) {\r\n         sourceElement = $(winEvent.target).closest('td').find(\".wfstatus-assignee-name\");\r\n\r\n         if (sourceElement && sourceElement.length > 0) {\r\n           isAssignee = true;\r\n        } else {\r\n           sourceElement = $(winEvent.target).closest('td').find(\".wfstatus-currentstep\");\r\n           if (sourceElement && sourceElement.length > 0) {\r\n             isCurrentStep = true;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (isContainer) {\r\n        this.unbindPopover();\r\n        return;\r\n      }\r\n\r\n      if (dataModel) {\r\n        perm = dataModel.get('data').permissions;\r\n        hasReassignAction = perm && perm.ChangeAttr;\r\n        dataModel.set('hasReassignAction', hasReassignAction, {silent: true});\r\n      }\r\n\r\n      if ((isCurrentStep && dataModel.get('parallel_steps').length > 1) ||\r\n          (isAssignee && dataModel.get(\"assignee\").length !== 0)) {\r\n        // avoid diaplying user card if the assignee is System\r\n        if (isAssignee && (dataModel.get(\"assignee\") === lang.systemUserText)) {\r\n          this.unbindPopover();\r\n        } else {\r\n\r\n          var cellViewEle = $(sourceElement).closest('td'),\r\n            context = data.cellView.options.context,\r\n            options = {\r\n              model: dataModel,\r\n              context: context,\r\n              originatingView: data.cellView,\r\n              wfData: _.pick(data.model.attributes, 'process_id', 'subprocess_id', 'task_id',\r\n                'userId', 'comments_on')\r\n            };\r\n          // to diaply the stepcards in the wfstatus list view when user click on current step column\r\n          if (isCurrentStep && dataModel.get('parallel_steps').length > 1) {\r\n\r\n            options.listViewMulCurrentSteps = true;\r\n            options.cellView = data.cellView;\r\n            options.popoverCardsListView = new StepcardsListView(options);\r\n\r\n            // to diaply the assigneecards in the wfstatus list view when user click on assignee column\r\n          } else if (isAssignee && dataModel.get(\"assignee\").length !== 0) {\r\n\r\n            // it updates the wfstatus list view multiple current steps assignee\r\n            options.wfData.updateCurrentStepAssignee = true;\r\n\r\n            options.popoverCardsListView = new UsercardsListView(options);\r\n\r\n          }\r\n          var popoverOptions = {\r\n            delegateTarget: cellViewEle,\r\n            cardViewOptions: options\r\n          };\r\n\r\n          PopoverView.ShowPopOver(popoverOptions);\r\n          if (!$(cellViewEle).hasClass(\"csui-acc-focusable-active\")) {\r\n            $(cellViewEle).addClass('csui-acc-focusable-active');\r\n            $(cellViewEle).attr(\"tabindex\", 0);\r\n            $(cellViewEle).trigger('focus');\r\n          }\r\n        }\r\n\r\n      } else if (data.model && data.cellView) {\r\n        //open wfstatus item dialog view if click event is not from assignee column\r\n        var dialogOptions = {\r\n          model: data.model,\r\n          cellView: data.cellView,\r\n          context: data.cellView.options.context\r\n        };\r\n        WorkItemUtil.displayWfstatusItemProgresspanel(dialogOptions);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(WFStatusTableView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return WFStatusTableView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/wfstatus/impl/wfstatus.extended',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"wfstatus-filter-view\\\">\\r\\n\\r\\n  <div class=\\\"wfstatus-panel-heading\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.headerFilterTitle || (depth0 != null ? depth0.headerFilterTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"headerFilterTitle\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.headerFilterTitle || (depth0 != null ? depth0.headerFilterTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"headerFilterTitle\",\"hash\":{}}) : helper)))\n    + \"\\r\\n  </div>\\r\\n  <div class=\\\"binf-wfstatus-heading\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.headerFilterLabel || (depth0 != null ? depth0.headerFilterLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"headerFilterLabel\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n    \"\n    + this.escapeExpression(((helper = (helper = helpers.headerFilterLabel || (depth0 != null ? depth0.headerFilterLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"headerFilterLabel\",\"hash\":{}}) : helper)))\n    + \"\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"wfstatus-header csui-selected-checkbox csui-checkbox-primary\\\">\\r\\n    <input id=\\\"selectAll\\\" type=\\\"checkbox\\\" class=\\\"All\\\" tabindex=\\\"-1\\\"\\r\\n      \"\n    + this.escapeExpression(((helper = (helper = helpers.checkedAll || (depth0 != null ? depth0.checkedAll : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"checkedAll\",\"hash\":{}}) : helper)))\n    + \">\"\n    + this.escapeExpression(((helper = (helper = helpers.allFilterLabel || (depth0 != null ? depth0.allFilterLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"allFilterLabel\",\"hash\":{}}) : helper)))\n    + \"</input>\\r\\n    <span class=\\\"wfstatus-allcount\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.allWFStatusCount || (depth0 != null ? depth0.allWFStatusCount : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"allWFStatusCount\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"wfstatus-body\\\">\\r\\n    <div class=\\\"csui-selected-checkbox csui-checkbox-primary\\\">\\r\\n      <input id=\\\"wfstatus-late\\\" type=\\\"checkbox\\\" class=\\\"wfstatus-late\\\" tabindex=\\\"-1\\\"\\r\\n        \"\n    + this.escapeExpression(((helper = (helper = helpers.checkedLate || (depth0 != null ? depth0.checkedLate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"checkedLate\",\"hash\":{}}) : helper)))\n    + \">\"\n    + this.escapeExpression(((helper = (helper = helpers.lateFilterLabel || (depth0 != null ? depth0.lateFilterLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"lateFilterLabel\",\"hash\":{}}) : helper)))\n    + \"</input>\\r\\n      <span class=\\\"wfstatus-latecount\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.lateCount || (depth0 != null ? depth0.lateCount : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"lateCount\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"csui-selected-checkbox csui-checkbox-primary\\\">\\r\\n      <input id=\\\"wfstatus-ontime\\\" type=\\\"checkbox\\\" class=\\\"wfstatus-ontime\\\" tabindex=\\\"-1\\\"\\r\\n        \"\n    + this.escapeExpression(((helper = (helper = helpers.checkedOnTime || (depth0 != null ? depth0.checkedOnTime : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"checkedOnTime\",\"hash\":{}}) : helper)))\n    + \">\"\n    + this.escapeExpression(((helper = (helper = helpers.ontimeFilterLabel || (depth0 != null ? depth0.ontimeFilterLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ontimeFilterLabel\",\"hash\":{}}) : helper)))\n    + \"</input>\\r\\n      <span class=\\\"wfstatus-ontimecount\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.ontimeCount || (depth0 != null ? depth0.ontimeCount : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"ontimeCount\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n      <div class=\\\"csui-selected-checkbox csui-checkbox-primary\\\">\\r\\n      <input id=\\\"wfstatus-stopped\\\" type=\\\"checkbox\\\" class=\\\"wfstatus-stopped\\\" tabindex=\\\"-1\\\"\\r\\n        \"\n    + this.escapeExpression(((helper = (helper = helpers.checkedStopped || (depth0 != null ? depth0.checkedStopped : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"checkedStopped\",\"hash\":{}}) : helper)))\n    + \">\"\n    + this.escapeExpression(((helper = (helper = helpers.stoppedFilterLabel || (depth0 != null ? depth0.stoppedFilterLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stoppedFilterLabel\",\"hash\":{}}) : helper)))\n    + \"</input>\\r\\n      <span class=\\\"wfstatus-stoppedcount\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.stoppedCount || (depth0 != null ? depth0.stoppedCount : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stoppedCount\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n    <div class=\\\"csui-selected-checkbox csui-checkbox-primary\\\">\\r\\n      <input id=\\\"wfstatus-completed\\\" type=\\\"checkbox\\\" class=\\\"wfstatus-completed\\\" tabindex=\\\"-1\\\"\\r\\n        \"\n    + this.escapeExpression(((helper = (helper = helpers.checkedCompleted || (depth0 != null ? depth0.checkedCompleted : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"checkedCompleted\",\"hash\":{}}) : helper)))\n    + \">\"\n    + this.escapeExpression(((helper = (helper = helpers.completedFilterLabel || (depth0 != null ? depth0.completedFilterLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"completedFilterLabel\",\"hash\":{}}) : helper)))\n    + \"</input>\\r\\n      <span class=\\\"wfstatus-completedcount\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.completedCount || (depth0 != null ? depth0.completedCount : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"completedCount\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</div></div>\\r\\n\\r\\n<div class=\\\"wfstatus-list-view\\\"></div>\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('workflow_widgets_wfstatus_impl_wfstatus.extended', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('workflow/widgets/wfstatus/impl/wfstatus.extended.view',[\r\n  'csui/lib/marionette',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/controls/table/table.view',\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'workflow/models/wfstatus/wfstatus.collection.factory',\r\n  'workflow/widgets/wfstatus/impl/wfstatus.list.view',\r\n  'workflow/utils/workitem.util',\r\n  'hbs!workflow/widgets/wfstatus/impl/wfstatus.extended',\r\n  'i18n!workflow/widgets/wfstatus/impl/nls/lang'\r\n], function (Marionette, _, $, TableView, LayoutViewEventsPropagationMixin,\r\n    WFStatusCollectionFactory, WFStatusListView, WorkItemUtil,\r\n    template, lang) {\r\n\r\n  'use strict';\r\n\r\n  var WFStatusExtendedView = Marionette.LayoutView.extend({\r\n\r\n    className: 'wfstatus-extended-view',\r\n\r\n    template: template,\r\n\r\n    events: {\r\n      'click #selectAll': 'toggleCheckBoxAll',\r\n      'click #wfstatus-late ,#wfstatus-ontime ,#wfstatus-completed ,#wfstatus-stopped': 'toggleCheckBoxSelection'\r\n    },\r\n\r\n    regions: {\r\n      filterRegion: '.wfstatus-filter-view',\r\n      listRegion: '.wfstatus-list-view'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      var checkedAll         = '', checkedLate = '', checkedOnTime = '', checkedCompleted = '', checkedStopped = '', checked = \"checked\",\r\n          completeCollection = this.options.context.getCollection(WFStatusCollectionFactory),\r\n          statusList         = completeCollection.options.status,\r\n          wfstatusData       = completeCollection.model.get('data'),\r\n          lateCount = 0, ontimeCount = 0, completedCount = 0, stoppedCount = 0;\r\n\r\n      if (_.isArray(wfstatusData) && wfstatusData.length > 0) {\r\n        lateCount = wfstatusData[0].count;\r\n        ontimeCount = wfstatusData[1].count;\r\n        stoppedCount = wfstatusData[2].count;\r\n        completedCount = wfstatusData[3].count;\r\n      }\r\n      else {\r\n\r\n        switch (wfstatusData.status) {\r\n        case 'workflowlate':\r\n          lateCount = 1;\r\n          break;\r\n        case 'ontime':\r\n          ontimeCount = 1;\r\n          break;\r\n        case 'stopped':\r\n          stoppedCount = 1;\r\n          break;\r\n        case 'completed':\r\n          completedCount = 1;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (statusList && statusList.length > 0) {\r\n        _.each(statusList, function (status) {\r\n          if (status === 'ontime') {\r\n            checkedOnTime = checked;\r\n          } else if (status === 'workflowlate') {\r\n            checkedLate = checked;\r\n          } else if (status === 'completed') {\r\n            checkedCompleted = checked;\r\n          } else if (status === 'stopped') {\r\n            checkedStopped = checked;\r\n          }\r\n        });\r\n      } else {\r\n        checkedAll = checked;\r\n        checkedOnTime = checked;\r\n        checkedLate = checked;\r\n        checkedCompleted = checked;\r\n        checkedStopped = checked;\r\n      }\r\n\r\n      return {\r\n        completedFilterLabel: lang.completedFilterLabel,\r\n        stoppedFilterLabel: lang.stoppedFilterLabel,\r\n        lateFilterLabel: lang.lateFilterLabel,\r\n        ontimeFilterLabel: lang.ontimeFilterLabel,\r\n        headerFilterTitle: lang.headerFilterTitle,\r\n        headerFilterLabel: lang.headerFilterLabel,\r\n        allFilterLabel: lang.allFilterLabel,\r\n        allWFStatusCount: completeCollection.model.get('count'),\r\n        lateCount: lateCount,\r\n        ontimeCount: ontimeCount,\r\n        stoppedCount: stoppedCount,\r\n        completedCount: completedCount,\r\n        checkedAll: checkedAll,\r\n        checkedLate: checkedLate,\r\n        checkedOnTime: checkedOnTime,\r\n        checkedCompleted: checkedCompleted,\r\n        checkedStopped: checkedStopped\r\n\r\n      };\r\n\r\n    },\r\n\r\n    constructor: function WFStatusExtendedView(options) {\r\n      this.options = options;\r\n      Marionette.LayoutView.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this, 'click:actionIcon', this.onClickFilter);\r\n      this.listenTo(this, 'destroy', this.destroyUserCardPopovers);\r\n      this.propagateEventsToRegions();\r\n    },\r\n\r\n    onRender: function () {\r\n      var that = this;\r\n      setTimeout(function () {\r\n        that.listRegion.show(new WFStatusListView({\r\n          context: that.options.context,\r\n          collection: that.collection,\r\n          extendedView : that\r\n        }));\r\n      }, 1);\r\n      if (this.collection.options.status.length > 0) {\r\n        this.$el.find('.wfstatus-filter-view').addClass('wfstatus-show-filter-view');\r\n      }\r\n    },\r\n\r\n    onClickFilter: function () {\r\n      WorkItemUtil.unbindPopover();\r\n      if (this.$el.find('.wfstatus-show-filter-view').length === 0) {\r\n        this.$el.find('.wfstatus-table').addClass('wfstatus-filter-width');\r\n        this.$el.find('.wfstatus-filter-view').addClass('wfstatus-show-filter-view');\r\n      } else {\r\n        this.$el.find('.wfstatus-table').removeClass('wfstatus-filter-width');\r\n        this.$el.find('.wfstatus-filter-view').removeClass('wfstatus-show-filter-view');\r\n      }\r\n      $(window).trigger(\"resize.tableview\", TableView.onTableWinResize);\r\n    },\r\n\r\n    toggleCheckBoxAll: function (event) {\r\n      WorkItemUtil.unbindPopover();\r\n      if (this.$el.find(\"[id='selectAll']:checked\").length === 1) {\r\n        $('.csui-selected-checkbox input:not(:checked)').each(function () {\r\n          $(this).prop(\"checked\", true).trigger('change');\r\n        });\r\n      } else {\r\n        $('.csui-selected-checkbox input:checked').each(function () {\r\n          $(this).prop(\"checked\", false).trigger('change');\r\n        });\r\n      }\r\n      this.collection.options.isFilterVisible = true;\r\n      this.getStatusList(event);\r\n    },\r\n\r\n    toggleCheckBoxSelection: function (event) {\r\n      WorkItemUtil.unbindPopover();\r\n      var statusList = [];\r\n      if ($('.wfstatus-body .csui-selected-checkbox input:not(:checked)').length > 0) {\r\n        $('.wfstatus-body .csui-selected-checkbox input:checked').each(function () {\r\n          var id = this.id;\r\n          if (id === \"wfstatus-late\") {\r\n            statusList.push(\"workflowlate\");\r\n          } else if (id === \"wfstatus-ontime\") {\r\n            statusList.push(\"ontime\");\r\n          } else if (id === \"wfstatus-completed\") {\r\n            statusList.push(\"completed\");\r\n          } else if (id === \"wfstatus-stopped\") {\r\n            statusList.push(\"stopped\");\r\n          }\r\n        });\r\n        event.data = statusList;\r\n        $('#selectAll').prop(\"checked\", false).trigger('change');\r\n      } else if ($('.wfstatus-body .csui-selected-checkbox input:checked').length === 4) {\r\n        $('#selectAll').prop(\"checked\", true).trigger('change');\r\n      }\r\n      //used to set filter width in the expand status list view\r\n      this.collection.options.isFilterVisible = true;\r\n      this.getStatusList(event);\r\n    },\r\n\r\n    getStatusList: function (event) {\r\n\r\n      this.collection.options.status = event.data ? event.data : [];\r\n      event.stopPropagation();\r\n      this.onRender();\r\n    },\r\n    destroyUserCardPopovers: function () {\r\n      WorkItemUtil.unbindPopover();\r\n    }\r\n  });\r\n\r\n  _.extend(WFStatusExtendedView.prototype, LayoutViewEventsPropagationMixin);\r\n\r\n  return WFStatusExtendedView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/widgets/wfstatus/impl/wfstatus',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    <div class=\\\"wfstatus-empty-list\\\"> \"\n    + this.escapeExpression(((helper = (helper = helpers.emptyListText || (depth0 != null ? depth0.emptyListText : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"emptyListText\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"    <div class=\\\"wfstatus-single\\\">\\r\\n      <div class=\\\"wfstatus-single-details\\\">\\r\\n\\r\\n        <!-- 1 total -->\\r\\n        <div class=\\\"wfstatus-status-info\\\">\\r\\n            <span class=\\\"wfstatus-count \"\n    + this.escapeExpression(this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.model : depth0)) != null ? stack1.data : stack1)) != null ? stack1.status : stack1), depth0))\n    + \"\\\"\\r\\n                  title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.model : depth0)) != null ? stack1.count : stack1), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = (depth0 != null ? depth0.model : depth0)) != null ? stack1.count : stack1), depth0))\n    + \"</span>\\r\\n          <span class=\\\" wfstatus-msg\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.totalMsg || (depth0 != null ? depth0.totalMsg : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"totalMsg\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n          <span class=\\\"wfstatus-\"\n    + this.escapeExpression(this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.model : depth0)) != null ? stack1.data : stack1)) != null ? stack1.status : stack1), depth0))\n    + \"-icon\\\"></span>\\r\\n          <span class=\\\"wfstatus-info\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.statusInfo || (depth0 != null ? depth0.statusInfo : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"statusInfo\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.statusInfo || (depth0 != null ? depth0.statusInfo : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"statusInfo\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\\r\\n        </div>\\r\\n\\r\\n        <!-- status and due date -->\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.dueDate : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(4, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"        <!-- Workflow name -->\\r\\n        <div class=\\\"wfstatus-wfname-details\\\">\\r\\n          <div class=\\\"wfstatus-wfname-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.wfNameLabel || (depth0 != null ? depth0.wfNameLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"wfNameLabel\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n          <div class=\\\"wfstatus-workflow-name\\\"\\r\\n               title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.model : depth0)) != null ? stack1.data : stack1)) != null ? stack1.wfname : stack1), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.model : depth0)) != null ? stack1.data : stack1)) != null ? stack1.wfname : stack1), depth0))\n    + \"</div>\\r\\n        </div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,((stack1 = ((stack1 = (depth0 != null ? depth0.model : depth0)) != null ? stack1.data : stack1)) != null ? stack1.stepname : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(6, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"        <div class=\\\"wfstatus-assignee-startdate\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.assignee : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(8, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.startDate : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(10, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\";\n},\"4\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"          <div class=\\\"wfstatus-detail\\\">\\r\\n            <span class=\\\"wfstatus-duedate-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.dueDateLabel || (depth0 != null ? depth0.dueDateLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"dueDateLabel\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\\r\\n            <div class=\\\"wfstatus-duedate\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.dueDate || (depth0 != null ? depth0.dueDate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"dueDate\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.dueDate || (depth0 != null ? depth0.dueDate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"dueDate\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n          </div>\\r\\n\";\n},\"6\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"          <!-- Step name -->\\r\\n          <div class=\\\"wfstatus-currentstep-details\\\">\\r\\n            <span class=\\\"wfstatus-currentstep-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.currentStepNameLabel || (depth0 != null ? depth0.currentStepNameLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"currentStepNameLabel\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\\r\\n            <div class=\\\"wfstatus-step-name\\\"\\r\\n                 title=\\\"\"\n    + this.escapeExpression(this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.model : depth0)) != null ? stack1.data : stack1)) != null ? stack1.stepname : stack1), depth0))\n    + \"\\\">\"\n    + this.escapeExpression(this.lambda(((stack1 = ((stack1 = (depth0 != null ? depth0.model : depth0)) != null ? stack1.data : stack1)) != null ? stack1.stepname : stack1), depth0))\n    + \"</div>\\r\\n          </div>\\r\\n\";\n},\"8\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"            <div class=\\\"wfstatus-assignee-details\\\">\\r\\n              <div class=\\\"wfstatus-assignee-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.assignedToLabel || (depth0 != null ? depth0.assignedToLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"assignedToLabel\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n              <div class=\\\"wfstatus-assignee\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.assignee || (depth0 != null ? depth0.assignee : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"assignee\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.assignee || (depth0 != null ? depth0.assignee : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"assignee\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            </div>\\r\\n\";\n},\"10\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"            <div class=\\\"wfstatus-startdate-details\\\">\\r\\n              <div class=\\\"wfstatus-startdate-label\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.startDateLabel || (depth0 != null ? depth0.startDateLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"startDateLabel\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n              <div class=\\\"wfstatus-start-date\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.startDate || (depth0 != null ? depth0.startDate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"startDate\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.startDate || (depth0 != null ? depth0.startDate : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"startDate\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            </div>\\r\\n\";\n},\"12\":function(depth0,helpers,partials,data) {\n    return \"    <div class=\\\"wfstatus-donut-chart\\\"></div>\\r\\n\";\n},\"14\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    <div class=\\\"tile-footer\\\">\\r\\n      <div id=\\\"cs-more\\\" class=\\\"tile-expand\\\" title=\"\n    + this.escapeExpression(((helper = (helper = helpers.expandLabel || (depth0 != null ? depth0.expandLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"expandLabel\",\"hash\":{}}) : helper)))\n    + \" role=\\\"button\\\" tabindex=\\\"0\\\">\\r\\n        <div class=\\\"icon circular icon-tileExpand\\\"></div>\\r\\n      </div>\\r\\n    </div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"tile-header\\\" tabindex=\\\"0\\\">\\r\\n  <div class=\\\"tile-type-icon\\\">\\r\\n    <span class=\\\"icon title-icon mime_workflow_status\\\" aria-hidden=\\\"true\\\"></span>\\r\\n  </div>\\r\\n  <div class=\\\"tile-title\\\">\\r\\n    <h2 class=\\\"csui-heading\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.dialogTitle || (depth0 != null ? depth0.dialogTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"dialogTitle\",\"hash\":{}}) : helper)))\n    + \"</h2>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"tile-content\\\">\\r\\n<div class=\\\"wfstatus-scrolling\\\">\\r\\n  <div class=\\\"cs-emptylist-placeholder\\\"></div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.emptyTextRequired : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.isSingleStatus : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.donutChart : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(12, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.showExpand : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(14, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"</div></div>\";\n}});\nHandlebars.registerPartial('workflow_widgets_wfstatus_impl_wfstatus', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","// Shows the Shortcut widget of a specific node\r\ncsui.define('workflow/widgets/wfstatus/wfstatus.view',[\r\n  'csui/lib/marionette',\r\n  'csui/lib/backbone',\r\n  'csui/lib/underscore',\r\n  'csui/lib/jquery',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/behaviors/expanding/expanding.behavior',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'workflow/models/wfstatus/wfstatus.collection.factory',\r\n  'workflow/models/wfstatus/wfstatus.model.factory',\r\n  'workflow/controls/visualdata/visual.data.donut.view',\r\n  'workflow/widgets/wfstatus/impl/wfstatus.extended.view',\r\n  'workflow/utils/workitem.util',\r\n  'hbs!workflow/widgets/wfstatus/impl/wfstatus',\r\n  'i18n!workflow/widgets/wfstatus/impl/nls/lang',\r\n  'css!workflow/widgets/wfstatus/impl/wfstatus'\r\n], function (Marionette, Backbone, _, $, ConnectorFactory, NodeModelFactory, ExpandingBehavior,\r\n    PerfectScrollingBehavior, WFStatusCollectionFactory, WFStatusModelFactory,\r\n    VisualDataDonutContentView, WFStatusExtendedView, WorkItemUtil, template, lang) {\r\n\r\n  'use strict';\r\n\r\n  var WFStatusView = Marionette.LayoutView.extend({\r\n\r\n    className: 'cs-list tile content-tile csui-acc-tab-region wf-wfstatus',\r\n    widgetTitle: lang.dialogTitle,\r\n    template: template,\r\n\r\n    regions: {\r\n      donut: '.wfstatus-donut-chart'\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      var count = this.model.get(\"count\");\r\n      var singleStatus = count === 1 ? true : false;\r\n      if (singleStatus) {\r\n        var data         = this.model.get(\"data\"),\r\n            status       = data.status,\r\n            startDate    = (data.dateinitiated) ? WorkItemUtil.dateConversion(data.dateinitiated) :\r\n                           '',\r\n            dueDate      = (data.duedate) ? WorkItemUtil.dateConversion(data.duedate) : '',\r\n            statusInfo,\r\n            assignees    = data.assignee,\r\n            assignee     = '',\r\n            assigneeData = {};\r\n\r\n        assigneeData.assignees = assignees;\r\n        assigneeData.assignedto = data.assignedto;\r\n        assignee = WorkItemUtil.getAssignee(assigneeData);\r\n\r\n        if (status === WorkItemUtil.constants.WFSTATUS_ONTIME) {\r\n          statusInfo = lang.onTime;\r\n        } else if (status === WorkItemUtil.constants.WFSTATUS_COMPLETED) {\r\n          statusInfo = lang.completed;\r\n        } else if (status === WorkItemUtil.constants.WFSTATUS_LATE) {\r\n          statusInfo = lang.late;\r\n        } else if (status === WorkItemUtil.constants.WFSTATUS_STOPPED) {\r\n          statusInfo = lang.stopped;\r\n        }\r\n\r\n      }\r\n      return {\r\n        dialogTitle: this.widgetTitle,\r\n        totalMsg: lang.totalMsg,\r\n        emptyListText: lang.emptyListText,\r\n        expandLabel: lang.expandLabel,\r\n        dueDateLabel: lang.dueDateLabel,\r\n        currentStepNameLabel: lang.currentStepNameLabel,\r\n        assignedToLabel: lang.assignedToLabel,\r\n        startDateLabel: lang.startDateLabel,\r\n        emptyTextRequired: count === 0 ? true : false,\r\n        isSingleStatus: singleStatus,\r\n        statusInfo: statusInfo,\r\n        donutChart: count > 1 ? true : false,\r\n        showExpand: count > 0 ? true : false,\r\n        model: this.model.toJSON(),\r\n        startDate: startDate,\r\n        dueDate: dueDate,\r\n        wfNameLabel: lang.wfNameLabel,\r\n        assignee: assignee\r\n      };\r\n    },\r\n    behaviors: {\r\n\r\n      ScrollingInstructions: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '.wfstatus-scrolling',\r\n        suppressScrollX: true,\r\n        scrollYMarginOffset: 16\r\n      },\r\n      ExpandableList: {\r\n        behaviorClass:ExpandingBehavior, \r\n        expandedView:WFStatusExtendedView, \r\n        orderBy:'status_key desc', \r\n        actionTitleBarIcon:\"icon-toolbarFilter tile-filter-icon\",\r\n        dialogTitle: function () { return this.widgetTitle; },\r\n        dialogTitleIconRight: \"icon-tileCollapse\",\r\n        dialogClassName: 'wfstatus'\r\n      }\r\n\r\n    },\r\n\r\n    constructor: function WFStatusView(options) {\r\n\r\n\r\n      ///To call WFStatus factory uniquely for each widget we have to\r\n      /// assign unique property of options to unique id as like below\r\n\r\n      options.unique = _.uniqueId();\r\n      options.data = options.data || {};\r\n      options.data.unique = _.uniqueId();\r\n\r\n      options.data.selectionType = 100; //Task level , \r\n      //It would be useful in case of widget configuration  if we provide workflow level or task level data retreival.\r\n      //Currently default considering it as task level\r\n      //In future it would be coming from perspective manager widget configuration\r\n\r\n      // updating widgetTitle only when widgetTitle value is not empty or blank string.\r\n      options.model = options.context.getModel(WFStatusModelFactory, options.data);\r\n      if (options.model.get(\"widgetTitle\") &&\r\n          _.str.trim(options.model.get(\"widgetTitle\")).length > 0) {\r\n        this.widgetTitle = options.model.get(\"widgetTitle\");\r\n      }\r\n\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n\r\n      // listen to the node change even to update the reference id\r\n      this.node = options.context.getObject(NodeModelFactory);\r\n      this.listenTo(this.node, 'change:id', this.onNodeChange);\r\n      this.onNodeChange();\r\n\r\n      this.listenTo(this.model, 'change', this.onModelChange);\r\n      this.listenTo(this, 'click:segment', this.getExpandStatusList);\r\n      options = options.data ? _.extend(options, options.data) : options;\r\n      delete options[\"data\"];\r\n      options[\"detached\"] = true;\r\n      options.unique = _.uniqueId();\r\n\r\n      this.completeCollection = this.options.context.getCollection(WFStatusCollectionFactory,\r\n          options);\r\n      options[\"detached\"] = true;\r\n      options[\"internal\"] = false;\r\n    },\r\n\r\n    onNodeChange: function () {\r\n      // the workflow tracking widget supports filtering based on a specific item.\r\n      var reference = this.model.get('reference');\r\n      if (!reference || reference === '') {\r\n        // no filter reference configured\r\n        this.model.set({'referenceid': undefined}, {silent: true});\r\n      } else {\r\n        //\r\n        if (reference === 'custom') {\r\n          // set the custom node id as reference\r\n          var id = parseInt(this.model.get('referenceid'));\r\n          this.model.set({'referenceid': (!isNaN(id) ? id : undefined)}, {silent: true});\r\n        } else {\r\n          // set the parent node id as reference\r\n          this.model.set({'referenceid': this.node.get('id')}, {silent: true});\r\n        }\r\n      }\r\n      this.model.fetch();\r\n    },\r\n\r\n    events: {\r\n      'click #cs-more,.tile-expand,.pie-total-container,.tile-header': 'getExpandStatusList'\r\n    },\r\n\r\n    //gets the list based on event fired from the segments or total\r\n    getExpandStatusList: function (event) {\r\n      if (this.model.get('count') > 0) {\r\n        var statusList = [];\r\n        if (event.data) {\r\n          var status = event.data.status === \"late\" ? \"workflowlate\" : event.data.status;\r\n          statusList.push(status);\r\n        }\r\n\r\n        //The model is being used in extended view to render filter section\r\n        this.completeCollection.model = this.model;\r\n        this.completeCollection.options.retention = this.model.get(\"retention\");\r\n        this.completeCollection.options.selectionType = this.model.get(\"selectionType\");\r\n        this.completeCollection.options.wfstatusfilter = this.model.get(\"wfstatusfilter\");\r\n        this.completeCollection.options.referenceid = this.model.get(\"referenceid\");\r\n        this.completeCollection.options.status = statusList;\r\n        this.completeCollection.options.chatSettings = this.model.get('chatSettings');\r\n        var filterWorkflowtype = this.model.get(\"filterWorkflowtype\");\r\n        if (!filterWorkflowtype) {\r\n          filterWorkflowtype = WorkItemUtil.getWorkflowtype(this.model.get(\"filterWorkflows\"));\r\n        }\r\n        this.completeCollection.options.filterWorkflowtype = filterWorkflowtype;\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.triggerMethod('expand');\r\n      }\r\n    },\r\n\r\n    isSearchOpen: function () {\r\n      return false;\r\n    },\r\n\r\n    onModelChange: function () {\r\n      this.render();\r\n    },\r\n\r\n    onKeyDown: function (event) {\r\n      var keyCode = event.keyCode,\r\n          target  = $(event.target),\r\n          retVal  = true;\r\n      if (keyCode === 13 && (target.hasClass('tile-header') || target.hasClass('tile-expand'))) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.getExpandStatusList(event);\r\n        retVal = false;\r\n      }\r\n      return retVal;\r\n    },\r\n    onRender: function () {\r\n      this.$el.on('keydown', _.bind(this.onKeyDown, this));\r\n      //setInterval is a temporary fix. Currently we don't have any event to check\r\n      //Weather the perspective is loading is completed.\r\n      //Need to discuss with CSUI to fix the issue..\r\n      if (this._isRendered && this._isShown &&\r\n          this.model.get('count') > 0) {\r\n        this.collection = new Backbone.Collection(this.model.get('data'));\r\n\r\n        if (this.model.get('count') > 1) {\r\n          var that     = this,\r\n              interval = setInterval(function () {\r\n                if ($('.wf-wfstatus').length > 0) {\r\n                  var options     = {},\r\n                      statusArray = {\r\n                        ontime: lang.onTime,\r\n                        late: lang.late,\r\n                        completed: lang.completed,\r\n                        stopped: lang.stopped\r\n                      };\r\n                  options.dataset = that.model.get('data');\r\n                  options.statusArray = statusArray;\r\n                  options.totalLabel = lang.totalMsg;\r\n                  options.parent = that;\r\n                  var donutView = new VisualDataDonutContentView(options);\r\n                  that.donut.show(donutView);\r\n                  clearInterval(interval);\r\n                }\r\n              }, 500);\r\n        }\r\n      }\r\n    },\r\n    onDestroy: function () {\r\n      $(\".wfstatus-progress-view-dialog-back\").trigger('click');\r\n    }\r\n  });\r\n\r\n  return WFStatusView;\r\n\r\n});\r\n\n","csui.define('workflow/widgets/wfmonitor/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('workflow/widgets/wfmonitor/impl/nls/root/lang',{\r\n   dialogTitle: 'Workflow Monitoring'\r\n});\r\n\n","// Shows the Shortcut widget of a specific node\r\ncsui.define('workflow/widgets/wfmonitor/wfmonitor.view',[\r\n  \r\n  'workflow/widgets/wfstatus/wfstatus.view', \r\n   'i18n!workflow/widgets/wfmonitor/impl/nls/root/lang'\r\n  \r\n], function (WFStatusView, wfmonitorlang) {\r\n\r\n  'use strict'; \r\n\r\n  var WFMonitorView = WFStatusView.extend( {\r\n\r\n    widgetTitle : wfmonitorlang.dialogTitle,\r\n\r\n    constructor:function WFMonitorView(options) {\r\n\r\n\r\n      WFStatusView.prototype.constructor.call(this, options); \r\n      \r\n    }\r\n\r\n  });\r\n\r\n  return WFMonitorView;\r\n\r\n});\r\n\n","csui.define('workflow/controls/table/cells/status.cell',['csui/lib/jquery', 'csui/controls/table/cells/cell/cell.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'workflow/utils/workitem.util',\r\n  'i18n!workflow/widgets/wfstatus/impl/nls/lang'\r\n], function ($, CellView, cellViewRegistry, WorkItemUtil, lang) {\r\n  'use strict';\r\n\r\n  var StatusCellView = CellView.extend({\r\n\r\n    renderValue: function () {\r\n\r\n      var result = WorkItemUtil.formatStatus({\r\n        dueDate: this.model.get('due_date'),\r\n        status: this.model.get('status_key')\r\n      });\r\n\r\n      this.$el.html('<div class=\"wfstatus-status\"><span' +\r\n                    ' class=\"wfstatus-status-icon-col ' + result.styleclass +\r\n                    '\"></span><span class=\"wfstatus-status-col-value\">' + result.status +\r\n                    '</span></div>');\r\n    }\r\n\r\n  });\r\n\r\n  cellViewRegistry.registerByColumnKey('status_key', StatusCellView);\r\n\r\n  return StatusCellView;\r\n});\r\n\n","csui.define('workflow/controls/table/cells/date.cell',['csui/controls/table/cells/cell/cell.view',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'workflow/utils/workitem.util'\r\n], function (CellView, cellViewRegistry, WorkItemUtil) {\r\n  'use strict';\r\n\r\n  var DateCellView = CellView.extend({\r\n\r\n    renderValue: function () {\r\n\r\n      var value = this.getValueText(),\r\n          dateValue = (value) ? WorkItemUtil.dateConversion(value) : '';\r\n      this.$el.text(dateValue);\r\n\r\n    }\r\n  });\r\n\r\n  cellViewRegistry.registerByColumnKey('due_date', DateCellView);\r\n  cellViewRegistry.registerByColumnKey('date_initiated', DateCellView);\r\n\r\n\r\n  return DateCellView;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/controls/table/cells/impl/assignee',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"+\\r\\n    <span class=\\\"wfstatus-assignee-count\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.assigneeCount || (depth0 != null ? depth0.assigneeCount : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"assigneeCount\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"wfstatus-assignee\\\">\\r\\n  <div class=\\\"wfstatus-assignee-name\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.assigneeName || (depth0 != null ? depth0.assigneeName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"assigneeName\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.assigneeName || (depth0 != null ? depth0.assigneeName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"assigneeName\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n  \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.assigneeCount : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"</div>\";\n}});\nHandlebars.registerPartial('workflow_controls_table_cells_impl_assignee', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!workflow/controls/table/cells/impl/assignee',[],function(){});\n","csui.define('workflow/controls/table/cells/assignee.cell',['csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'workflow/controls/usercards/usercards.list.view',\r\n  'workflow/models/wfstatus/usercard.model',\r\n  'workflow/utils/workitem.util',\r\n  'hbs!workflow/controls/table/cells/impl/assignee',\r\n  'i18n!workflow/widgets/wfstatus/impl/nls/lang',\r\n  'css!workflow/controls/table/cells/impl/assignee'\r\n], function ($, _, Backbone, Marionette, cellViewRegistry, TemplatedCellView, UsercardsLayoutView,\r\n    UserCardModel, WorkItemUtil, Template, lang) {\r\n  'use strict';\r\n\r\n  var AssigneeCellView = TemplatedCellView.extend({\r\n\r\n    template: Template,\r\n\r\n    renderValue: function () {\r\n      var data = this.getValueData(),\r\n          // Making the entire data object undefined renders nothing; if the object\r\n          // contains undefined value the template should be prepared for it\r\n          html = data ? this.template(data) : '';\r\n      this.$el.html(html);\r\n    },\r\n\r\n    getValueData: function () {\r\n      var model         = this.model,\r\n          column        = this.options.column,\r\n          columnName    = column.name,\r\n          assigneeName  = model.get(columnName),\r\n          assigneeCount = model.get(\"assignee_count\"),\r\n          status        = model.get(\"status_key\"),\r\n          group         = model.get('assignedto');\r\n\r\n      assigneeName = assigneeName.toString();\r\n\r\n      if (model.get(\"steps_count\") > 0) {\r\n        if (status && assigneeCount > 0 && status !== WorkItemUtil.constants.WFSTATUS_COMPLETED) {\r\n\r\n          assigneeCount = (group && (group.groupName === assigneeName)) ? assigneeCount :\r\n            assigneeCount - 1;\r\n\r\n        } else {\r\n          assigneeCount = 0;\r\n        }\r\n      }\r\n      else {\r\n        if (status !== WorkItemUtil.constants.WFSTATUS_COMPLETED && status !== WorkItemUtil.constants.WFSTATUS_STOPPED) {\r\n          assigneeName = lang.systemUserText;\r\n        }\r\n\r\n      }\r\n\r\n      return {\r\n        assigneeName: assigneeName,\r\n        assigneeCount: assigneeCount\r\n      };\r\n    }\r\n  });\r\n  cellViewRegistry.registerByColumnKey('assignee', AssigneeCellView);\r\n\r\n  return AssigneeCellView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/controls/table/cells/impl/currentstep',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"+\\r\\n    <span class=\\\"wfstatus-remaining-step-count\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.remainingStepCount || (depth0 != null ? depth0.remainingStepCount : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"remainingStepCount\",\"hash\":{}}) : helper)))\n    + \"</span>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"wfstatus-currentstep\\\">\\r\\n  <div class=\\\"wfstatus-currentstep-name\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.currentStepName || (depth0 != null ? depth0.currentStepName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"currentStepName\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.currentStepName || (depth0 != null ? depth0.currentStepName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"currentStepName\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n  \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.remainingStepCount : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"</div>\";\n}});\nHandlebars.registerPartial('workflow_controls_table_cells_impl_currentstep', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!workflow/controls/table/cells/impl/currentstep',[],function(){});\n","csui.define('workflow/controls/table/cells/currentstep.cell',['csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/controls/table/cells/cell.registry',\r\n  'csui/controls/table/cells/templated/templated.view',\r\n  'workflow/utils/workitem.util',\r\n  'hbs!workflow/controls/table/cells/impl/currentstep',\r\n  'i18n!workflow/widgets/wfstatus/impl/nls/lang',\r\n  'css!workflow/controls/table/cells/impl/currentstep'\r\n], function ($, _, Backbone, Marionette, cellViewRegistry, TemplatedCellView, WorkItemUtil, Template, lang) {\r\n  'use strict';\r\n\r\n  var CurrentStepCellView = TemplatedCellView.extend({\r\n\r\n    template: Template,\r\n\r\n    renderValue: function () {\r\n      var data = this.getValueData(),\r\n          // Making the entire data object undefined renders nothing; if the object\r\n          // contains undefined value the template should be prepared for it\r\n          html = data ? this.template(data) : '';\r\n      this.$el.html(html);\r\n    },\r\n\r\n    getValueData: function () {\r\n      var model           = this.model,\r\n          column          = this.options.column,\r\n          columnName      = column.name,\r\n          currentStepName = model.get(columnName), remainingStepCount, status = model.get(\"status_key\");\r\n      // Make sure that the currentStepName is always a string\r\n      if (currentStepName == null) {\r\n        currentStepName = '';\r\n      }\r\n      if (status && status !== WorkItemUtil.constants.WFSTATUS_COMPLETED &&\r\n        status !== WorkItemUtil.constants.WFSTATUS_STOPPED) {\r\n        if (model.get(\"steps_count\") > 0) {\r\n          remainingStepCount = model.get(\"steps_count\") - 1;\r\n        } else {\r\n          //Here workflow status is executing but no active non background steps\r\n          currentStepName = lang.backgroundStepText;\r\n        }\r\n      }\r\n      currentStepName = currentStepName.toString();\r\n      return {\r\n        currentStepName: currentStepName,\r\n        remainingStepCount: remainingStepCount\r\n      };\r\n    }\r\n  });\r\n  cellViewRegistry.registerByColumnKey('step_name', CurrentStepCellView);\r\n\r\n  return CurrentStepCellView;\r\n});\n","csui.define('workflow/models/proxyuser/proxy.user.form.model',['csui/lib/jquery', 'csui/lib/underscore', 'csui/utils/url', 'csui/models/form',\r\n  'csui/controls/globalmessage/globalmessage', 'csui/lib/moment',\r\n  'csui/models/mixins/resource/resource.mixin'\r\n], function ($, _, Url, FormModel, GlobalMessage, moment, ResourceMixin) {\r\n  'use strict';\r\n\r\n  var ProxyUserFormModel = FormModel.extend({\r\n    constructor: function ProxyUserFormModel(attributes, options) {\r\n\r\n      FormModel.prototype.constructor.apply(this, arguments);\r\n      this.makeResource(options);\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    },\r\n\r\n    url: function () {\r\n\r\n      var baseUrl = this.options.connector.connection.url.replace('/v1', '/v2'),\r\n        url = Url.combine(baseUrl, 'wfproxyuser', this.get('userId'));\r\n\r\n      return url;\r\n    },\r\n\r\n    parse: function (response) {\r\n\r\n      var forms = response.results.forms,\r\n        form = !!forms && forms[0];\r\n      this.set('isFormToDisplay', response.results.isFormToDisplay);\r\n      return form;\r\n\r\n    },\r\n\r\n    saveProxyUser: function (options) {\r\n      options.connector.makeAjaxCall(options)\r\n        .fail(_.bind(function (resp) {\r\n          this.trigger('reset');\r\n          GlobalMessage.showMessage(\"error\", resp.responseJSON.error);\r\n        }, this));\r\n    }\r\n\r\n  });\r\n\r\n  ResourceMixin.mixin(ProxyUserFormModel.prototype);\r\n\r\n  return ProxyUserFormModel;\r\n\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/controls/proxyuser/impl/proxy.user.form',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"binf-row\\\">\\r\\n  <div class=\\\"wf-proxy-user-form binf-col-md-12 binf-col-sm-12\\r\\n  binf-col-lg-12\\r\\n  binf-col-xs-12\\\">\\r\\n    <div class=\\\"cs-form-singlecolumn wf-proxy-user-column\\\">\\r\\n      <div id=\\\"wf-proxy-user\\\" class=\\\"wf-proxy-user\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('workflow_controls_proxyuser_impl_proxy.user.form', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('workflow/controls/proxyuser/proxy.user.form.view',[\r\n  'csui/lib/underscore',\r\n  'csui/controls/form/form.view',\r\n  'csui/utils/url',\r\n  'csui/utils/contexts/factories/user',\r\n  'hbs!workflow/controls/proxyuser/impl/proxy.user.form'\r\n], function (_, FormView, Url, UserModelFactory, Template) {\r\n  'use strict';\r\n\r\n  var ProxyUserFormView = FormView.extend({\r\n\r\n    className: 'cs-form wf-proxy-user-view-form',\r\n    formTemplate: Template,\r\n\r\n    constructor: function ProxyUserFormView(options) {\r\n      FormView.prototype.constructor.call(this, options);\r\n      this.listenTo(this, 'change:field', this._saveField);\r\n    },\r\n\r\n    _getLayout: function () {\r\n      var template = this.getOption('formTemplate'),\r\n          html = template.call(this, {\r\n            data: this.alpaca.data,\r\n            mode: this.mode\r\n          }),\r\n          bindings = this._getBindings(),\r\n          view = {\r\n            parent: 'bootstrap-csui',\r\n            layout: {\r\n              template: html,\r\n              bindings: bindings\r\n            }\r\n          };\r\n      return view;\r\n    },\r\n    _getBindings: function () {\r\n      var bindings = {\r\n        id: 'wf-proxy-user',\r\n      };\r\n      return bindings;\r\n    },\r\n    _saveField: function (args) {\r\n      var formData = new FormData(),\r\n          newValue = args.value ? args.value : 0,\r\n          newUserDisplayName = args.fieldView.curVal.display_name,\r\n          connector = this.model.connector,\r\n          user = this.options.context.getModel(UserModelFactory);\r\n      if (args.name === 'id') {\r\n        formData.append('body', JSON.stringify({\r\n          \"proxy_id\": newValue,\r\n          \"proxy_name\": newUserDisplayName,\r\n          \"user_id\": user.get('id')\r\n        }));\r\n        var baseUrl = connector.connection.url.replace('/v1', '/v2'),\r\n            url = Url.combine(baseUrl, 'wfproxyuser'),\r\n            ajaxParams = {\r\n              \"itemview\": this,\r\n              \"url\": url,\r\n              \"type\": \"POST\",\r\n              \"data\": formData,\r\n              \"connector\": connector\r\n            };\r\n      }\r\n      this.model.saveProxyUser(ajaxParams);\r\n    },\r\n\r\n  });\r\n\r\n  return ProxyUserFormView;\r\n\r\n});\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('workflow/controls/proxyuser/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","// Defines localizable strings in the default language (English)\r\n\r\ncsui.define('workflow/controls/proxyuser/impl/nls/root/lang',{\r\n  NoProxyUser: 'To view proxy of the other users is not allowed.',\r\n  ProxiesTabDisplayName: 'Proxies'\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/controls/proxyuser/impl/proxy.user.empty',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"wf-proxy-user-info\\\">\\r\\n  <div class=\\\"wf-proxy-user-empty-message\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.NoProxyUser || (depth0 != null ? depth0.NoProxyUser : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"NoProxyUser\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.NoProxyUser || (depth0 != null ? depth0.NoProxyUser : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"NoProxyUser\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('workflow_controls_proxyuser_impl_proxy.user.empty', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!workflow/controls/proxyuser/impl/proxyuser',[],function(){});\n","csui.define('workflow/controls/proxyuser/proxy.user.empty.view',['csui/lib/underscore',\r\n  'csui/lib/marionette',\r\n  'i18n!workflow/controls/proxyuser/impl/nls/lang',\r\n  'hbs!workflow/controls/proxyuser/impl/proxy.user.empty',\r\n  'css!workflow/controls/proxyuser/impl/proxyuser'\r\n], function (_, Marionette, lang, Template) {\r\n  'use strict';\r\n  var EmptyProxyUserView = Marionette.ItemView.extend({\r\n    template: Template,\r\n    className: 'wf-proxy-user-empty',\r\n    templateHelpers: function () {\r\n      return {\r\n        NoProxyUser: lang.NoProxyUser\r\n      };\r\n    },\r\n    constructor: function EmptyProxyUserView() {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n    }\r\n  });\r\n  return EmptyProxyUserView;\r\n});\n","\n/* START_TEMPLATE */\ncsui.define('hbs!workflow/controls/proxyuser/impl/proxy.user.tab',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<div class=\\\"wf-proxy-user-view\\\">\\r\\n  <div class=\\\"wf-proxy-user-content\\\"></div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('workflow_controls_proxyuser_impl_proxy.user.tab', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('workflow/controls/proxyuser/proxy.user.tab.view',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/lib/handlebars',\r\n  'csui/lib/marionette',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'workflow/models/proxyuser/proxy.user.form.model',\r\n  'workflow/controls/proxyuser/proxy.user.form.view',\r\n  'workflow/controls/proxyuser/proxy.user.empty.view',\r\n  'hbs!workflow/controls/proxyuser/impl/proxy.user.tab',\r\n  'css!workflow/controls/proxyuser/impl/proxyuser'\r\n], function ($, _, Backbone, Handlebars, Marionette, PerfectScrollingBehavior, ProxyUserFormModel,\r\n    ProxyUserFormView, EmptyProxyUser, Template) {\r\n  'use strict';\r\n  var ProxyUserView = Marionette.LayoutView.extend({\r\n    className: 'wf-proxy-user-tab-view',\r\n    template: Template,\r\n    behaviors: {\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        suppressScrollX: true,\r\n        contentParent: \".wf-proxy-user-form-view\",\r\n        scrollYMarginOffset: 15 // like bottom padding of container, otherwise scrollbar is shown always\r\n      }\r\n    },\r\n\r\n    regions: {\r\n      wfProxyUserContent: \".wf-proxy-user-content\"\r\n    },\r\n\r\n    constructor: function ProxyUserView(options) {\r\n      options = options || {};\r\n\r\n      Marionette.LayoutView.prototype.constructor.call(this, options);\r\n      var form = new ProxyUserFormModel({\r\n            userId: this.options.userwidgetmodel.attributes.id\r\n          }, {\r\n            connector: this.options.connector,\r\n            parentView: this\r\n          }),\r\n          that = this;\r\n      form.fetch().done(function () {\r\n        that.formView = new ProxyUserFormView({\r\n          context: that.options.context,\r\n          orginatingView: that,\r\n          model: form\r\n        });\r\n        that.render();\r\n      });\r\n    },\r\n    onRender: function () {\r\n      if (this.formView) {\r\n\r\n        var viewToDisplay = (this.formView && this.formView.model.get('isFormToDisplay')) ?\r\n                            this.formView : new EmptyProxyUser();\r\n        this.wfProxyUserContent.show(viewToDisplay);\r\n\r\n      }\r\n    }\r\n\r\n  });\r\n  return ProxyUserView;\r\n});\n","csui.define('workflow/controls/proxyuser/proxy.user.tab.extension',[\r\n    'csui/lib/underscore',\r\n    'csui-ext!workflow/controls/proxyuser/proxy.user.tab.extension',\r\n    'workflow/controls/proxyuser/proxy.user.tab.view',\r\n    'i18n!workflow/controls/proxyuser/impl/nls/lang'\r\n  ],\r\n  function (_, RegisterdTabs, ProxyTabView, lang) {\r\n    'use strict';\r\n    var workflowTab = {\r\n        tabName: \"proxyTab\",\r\n        tabDisplayName: lang.ProxiesTabDisplayName,\r\n        tabContentView: ProxyTabView\r\n      },\r\n      extraTabs = [],\r\n      egovProxyTab;\r\n\r\n    if (RegisterdTabs) {\r\n      extraTabs = _.flatten(RegisterdTabs, true);\r\n      egovProxyTab = _.find(extraTabs, function (tab) {\r\n        return tab.isEgovProxyTab;\r\n      });\r\n    }\r\n    if (!egovProxyTab) {\r\n      extraTabs.push(workflowTab);\r\n    }\r\n    return extraTabs;\r\n  });\n","csui.define('workflow/perspective/context/plugins/workflow.perspective.context.plugin',['csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'workflow/models/workitem/workitem.model.factory',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin'\r\n], function (_, Backbone, ApplicationScopeModelFactory,\r\n    WorkItemModelFactory, PerspectiveContextPlugin) {\r\n  'use strict';\r\n\r\n  var WorkflowPerspectiveContextPlugin = PerspectiveContextPlugin.extend({\r\n\r\n    constructor: function WorkflowPerspectiveContextPlugin(options) {\r\n      PerspectiveContextPlugin.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context.getModel(ApplicationScopeModelFactory);\r\n\r\n      this.workItem = this.context\r\n          .getModel(WorkItemModelFactory, {\r\n            permanent: true\r\n          })\r\n          .on('change:process_id', this._fetchWorkflowPerspective, this)\r\n          .on('change:doc_id', this._fetchWorkflowPerspective, this);\r\n    },\r\n\r\n    /**\r\n     * Is called when a model is changed.\r\n     * The method checks for the current context and if it is workflows it loads\r\n     * a new perspective definition.\r\n     *\r\n     * @private\r\n     */\r\n    _fetchWorkflowPerspective: function () {\r\n      // Skip scopes handled by other plugin\r\n      var processId = this.workItem.get('process_id'),\r\n          docId     = this.workItem.get('doc_id');\r\n      if (!!processId && !!docId) {\r\n        return;\r\n      }\r\n      if (!(processId || docId ) && this.applicationScope.id !== 'workflow') {\r\n        return;\r\n      }\r\n      // Two perspective driving models used above can generate two change\r\n      // events quickly after each other; process only the first one\r\n      if (this.loadingPerspective) {\r\n        return;\r\n      }\r\n\r\n      // set the current application scope to workflow\r\n      this.applicationScope.set('id', 'workflow');\r\n\r\n      // load the hard coded workflow perspective\r\n      var perspectivePath   = 'json!workflow/perspective/context/plugins/impl/perspectives/',\r\n          perspectiveModule = 'workflow.json';\r\n      this.context.loadPerspective(perspectivePath + perspectiveModule);\r\n    }\r\n\r\n  });\r\n\r\n  return WorkflowPerspectiveContextPlugin;\r\n\r\n});\n","\ncsui.define('json!workflow/perspective/context/plugins/impl/perspectives/workflow.json',{\r\n  \"type\": \"grid\",\r\n  \"options\": {\r\n    \"rows\": [\r\n      {\r\n        \"columns\": [\r\n          {\r\n            \"sizes\": {\r\n              \"md\": 12\r\n            },\r\n            \"heights\": {\r\n              \"xs\": \"full\"\r\n            },\r\n            \"widget\": {\r\n              \"type\": \"workflow/widgets/workitem/workitem\",\r\n              \"options\": {\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n});\n\n","\ncsui.define('json!workflow/widgets/wfstatus/wfstatus.manifest.json',{\r\n  \"$schema\": \"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n  \"title\": \"{{title}}\",\r\n  \"description\": \"{{description}}\",\r\n  \"kind\": \"tile\",\r\n  \"schema\": {\r\n    \"type\": \"object\",\r\n    \"required\": false,\r\n    \"properties\": {\r\n      \"widgetTitle\": {\r\n        \"title\": \"{{workflowtrackingwidgetTitle}}\",\r\n        \"description\": \"{{workflowtrackingwidgetTitleDescription}}\",\r\n        \"default\": \"{{title}}\",\r\n        \"type\": \"string\"\r\n      },\r\n      \"retention\": {\r\n        \"title\": \"{{displayCompletedWorkflows}}\",\r\n        \"description\": \"{{displayCompletedWorkflowsDescription}}\",\r\n        \"default\": 30,\r\n        \"type\": \"integer\"\r\n      },\r\n      \"filterWorkflowtype\": {\r\n        \"title\": \"{{workflowTypeTitle}}\",\r\n        \"description\": \"{{workflowTypeDescription}}\",\r\n        \"type\": \"string\",\r\n        \"enum\": [\r\n          \"Managed\",\r\n          \"Initiated\",\r\n          \"Both\"\r\n        ],\r\n        \"default\": \"Both\"\r\n      },\r\n      \"reference\": {\r\n        \"title\": \"{{referenceTitle}}\",\r\n        \"description\": \"{{referenceDescription}}\",\r\n        \"type\": \"string\",\r\n        \"enum\": [\r\n          \"\",\r\n          \"parent\",\r\n          \"custom\"\r\n        ],\r\n        \"default\": \"\"\r\n      },\r\n      \"referenceid\": {\r\n        \"title\": \"{{referenceidTitle}}\",\r\n        \"description\": \"{{referenceidDescription}}\",\r\n        \"type\": \"integer\"\r\n      }\r\n    }\r\n  },\r\n  \"options\": {\r\n    \"fields\": {\r\n      \"widgetTitle\": {\r\n        \"type\": \"text\"\r\n      },\r\n      \"retention\": {\r\n        \"type\": \"number\"\r\n      },\r\n      \"filterWorkflowtype\": {\r\n        \"type\": \"select\",\r\n        \"optionLabels\": [\r\n          \"{{workflowTypeManaged}}\",\r\n          \"{{workflowTypeInitiated}}\",\r\n          \"{{workflowTypeBoth}}\"\r\n        ]\r\n      },\r\n      \"reference\": {\r\n        \"type\": \"select\",\r\n        \"optionLabels\": [\r\n          \"{{referenceNone}}\",\r\n          \"{{referenceParent}}\",\r\n          \"{{referenceCustom}}\"\r\n        ]\r\n      },\r\n      \"referenceid\": {\r\n        \"type\": \"otcs_node_picker\",\r\n        \"type_control\": {\r\n          \"parameters\": {\r\n            \"select_types\": []\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\n\n","\ncsui.define( 'json!workflow/widgets/wfmonitor/wfmonitor.manifest.json',{\r\n\"$schema\":\"http://opentext.com/cs/json-schema/draft-04/schema#\",\r\n\"title\":\"{{title}}\", \r\n  \"description\":\"{{description}}\", \r\n  \"kind\":\"tile\", \r\n  \"schema\": {\r\n    \"type\":\"object\", \r\n    \"required\":false, \r\n    \"properties\": {\r\n\r\n      \"widgetTitle\": {\r\n        \"title\":\"{{workflowmonitorwidgetTitle}}\", \r\n        \"description\":\"{{workflowmonitorwidgetTitleDescription}}\", \r\n        \"readonly\":false, \r\n        \"required\":true, \r\n        \"default\":\"{{title}}\", \r\n        \"type\":\"string\"\r\n      }, \r\n\r\n      \"wfstatusfilter\": {\r\n        \"title\": \"{{workflowStatusTitle}}\",\r\n        \"description\": \"{{workflowStatusDescription}}\",\r\n        \"required\":true, \r\n        \"type\": \"integer\"\r\n      }\r\n      \r\n    }\r\n  }, \r\n    \"options\": {\r\n        \"fields\": {                \r\n                  \r\n          \"widgetTitle\": {\r\n            \"type\":\"text\"\r\n          }, \r\n\r\n          \"wfstatusfilter\": \r\n            {\r\n              \"type\": \"otcs_node_picker\",\r\n              \"type_control\": {\r\n                \"parameters\": {\r\n                  \"select_types\": [190]\r\n                }\r\n              }\r\n            }\r\n        }  \r\n    }\r\n  });\n\n","csui.define('workflow/widgets/wfstatus/impl/nls/wfstatus.manifest',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('workflow/widgets/wfstatus/impl/nls/root/wfstatus.manifest',{\r\n  \"title\": \"Workflow Tracking\",\r\n  \"description\": \"Shows the status of workflows for the current user.\",\r\n  \"displayCompletedWorkflows\": \"Days Completed Workflows Display\",\r\n  \"displayCompletedWorkflowsDescription\": \"Number of days completed workflows display\",\r\n  \"workflowTypeTitle\": \"Workflow Type\",\r\n  \"workflowTypeDescription\": \"Select the Workflow Types to display\",\r\n  \"workflowTypeBoth\": \"Both\",\r\n  \"workflowTypeInitiated\": \"Initiated\",\r\n  \"workflowTypeManaged\": \"Managed\",\r\n  \"workflowStatusTitle\": \"Workflow Status\",\r\n  \"workflowStatusDescription\": \"Workflow Status Selection\",\r\n  \"workflowtrackingwidgetTitle\": \"Title\",\r\n  \"workflowtrackingwidgetTitleDescription\": \"Workflow Tracking Widget Title\",\r\n  \"referenceTitle\": \"Reference\",\r\n  \"referenceDescription\": \"Display only workflows related to the referenced item. Specify a custom reference, when you selected 'Custom' as reference\",\r\n  \"referenceNone\": \"None\",\r\n  \"referenceParent\": \"Parent\",\r\n  \"referenceCustom\": \"Custom\",\r\n  \"referenceidTitle\": \"Custom Reference\",\r\n  \"referenceidDescription\": \"Display only workflows for the custom reference. This setting takes effect if you selected 'Custom' for the reference property.\"\r\n});\n","csui.define('workflow/widgets/wfmonitor/impl/nls/wfmonitor.manifest',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","\n","csui.define('workflow/widgets/wfmonitor/impl/nls/root/wfmonitor.manifest',{\r\n  \"title\": \"Workflow Monitoring\",\r\n  \"description\": \"Shows the status of workflows selected via a filter (which is configured in Classic UI).\",\r\n  \"workflowStatusTitle\" : \"Workflow Status Filter\",\r\n  \"workflowStatusDescription\" : \"Expression created in Classic UI to showcase the status of specific Workflows\",\r\n  \"workflowmonitorwidgetTitle\" : \"Title\",\r\n  \"workflowmonitorwidgetTitleDescription\" : \"Workflow Monitoring Widget Title\"\r\n });\n","// Placeholder for the build target file; the name must be the same,\r\n// include public modules from this component\r\n\r\ncsui.define('bundles/workflow-all',[\r\n  // Toolbars\r\n  'workflow/toolbars/workflow.nodestable.toolbaritems',\r\n  'workflow/toolbars/workflow.expanded.widget.toolbaritems',\r\n  'workflow/toolbars/workflow.search.toolbaritems',\r\n  'workflow/toolbars/workflow.workspaceheader.toolbaritems',\r\n\r\n  // Application widgets\r\n  'workflow/widgets/workitem/workitem/workitem.view',\r\n  'workflow/widgets/wfstatus/wfstatus.view',\r\n  'workflow/widgets/wfmonitor/wfmonitor.view',\r\n  //Cell Extentions\r\n  'workflow/controls/table/cells/status.cell',\r\n  'workflow/controls/table/cells/date.cell',\r\n  'workflow/controls/table/cells/assignee.cell',\r\n  'workflow/controls/table/cells/currentstep.cell',\r\n\r\n  // view for eSocial profile page\r\n  'workflow/controls/proxyuser/proxy.user.tab.extension',\r\n\r\n  // Perspective\r\n  'workflow/perspective/context/plugins/workflow.perspective.context.plugin',\r\n  'json!workflow/perspective/context/plugins/impl/perspectives/workflow.json',\r\n\r\n  // Extension controller\r\n  'workflow/utils/workitem.extension.controller',\r\n\r\n  // Application widgets manifests\r\n  'json!workflow/widgets/wfstatus/wfstatus.manifest.json',\r\n  'json!workflow/widgets/wfmonitor/wfmonitor.manifest.json',\r\n  // Application widgets nls manifest files\r\n  'i18n!workflow/widgets/wfstatus/impl/nls/wfstatus.manifest',\r\n  'i18n!workflow/widgets/wfmonitor/impl/nls/wfmonitor.manifest'\r\n], {});\r\n\r\ncsui.require(['require', 'css'], function (require, css) {\r\n  'use strict';\r\n\r\n  css.styleLoad(require, 'workflow/bundles/workflow-all', true);\r\n\r\n});\n"]}