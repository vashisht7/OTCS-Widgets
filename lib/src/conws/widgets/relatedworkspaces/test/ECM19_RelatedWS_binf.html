<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>RelatedWorkspacesView Widget</title>

  <link rel="stylesheet"  href="http://ecmlink19dev.eng-muc.opentext.net/img/csui/themes/carbonfiber/theme.css">
  <script src="http://ecmlink19dev.eng-muc.opentext.net/otcs/cs.exe/widgets?crossOrigin=true"></script>

  <style>
    body {
      /*padding-top: 1em;*/
      margin: 0;
      height: 100%;
      overflow-y: hidden;
    }
  </style>

  <script>
    var  connection = {
			  url: 'http://ecmlink19dev.eng-muc.opentext.net/otcs/cs.exe/api/v1',
			  supportPath: '/img',
			  credentials:{
				username: "Admin",
				password: "opentext"
			  }
			};

	csui.require.config({
		config: {
			'csui/utils/contexts/factories/connector': {
				connection: connection
			},
			'csui/utils/contexts/factories/node': {
				attributes: { id: 172286 }
			}
		}
	});
  

	csui.require([
	  "csui/lib/marionette",
	  'csui/utils/contexts/portal/portal.context',
	  'conws/widgets/relatedworkspaces/relatedworkspaces.view',
	  'csui/utils/connector', 'csui/utils/requestauthenticator'], 
		function (Marionette, PageContext, RelatedWorkspacesView, Connector, Authenticator) {
			//this.Connection.assignTo = function () { };
			var self = this;
			var context = new PageContext();
			var options = {
				context: context
				, data: JSON.parse("{\"collapsedView\":{\"bottomLeft\":{\"label\":{\"en\":\"Stage\"},\"value\":\"{wnf_att_5rsj_6}\"},\"bottomRight\":{\"label\":{\"en\":\"Close Date\"},\"value\":\"{wnf_att_5rsj_7}\"},\"description\":{\"value\":\"{wnf_att_5rsj_3}\"},\"preview\":{\"metadata\":[{\"categoryId\":171818,\"type\":\"category\"}],\"roleId\":\"Test Role EW\"},\"title\":{\"value\":\"{wnf_att_5rsj_2}\"},\"topRight\":{\"label\":{\"en\":\"USD\"},\"value\":\"{wnf_att_5rsj_5}\"}},\"relationType\":\"child\",\"title\":{\"en\":\"Sales Opportunities\"},\"undefined\":\"4\",\"workspaceTypeId\":18}")
			};

			var contentRegion = new Marionette.Region({ el: "#metadataDiv" });
			var view = new RelatedWorkspacesView(options);

			contentRegion.show(view);
			context.fetch().done(function () {
				//alert('done');
			});
	});  

</script>

</head>

<body class="binf-widgets">
	<div class="binf-widgets" style="width:700px;height:500px">
		<div style="float:left;width:300px;height:300px">Left panel</div>
		<div id="metadataDiv" style="float:left;width:400px" class="" >metadata...</div>
	</div>
</body>



</html>

<!-- Copyright (c) 2016-2017  OpenText Corp. All Rights Reserved. -->