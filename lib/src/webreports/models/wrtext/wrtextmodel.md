# WRText Model

**Module: webreports/models/wrtext/wrtext.model**

Returns the text output of an executed WebReport. 

This model supports different content types for the ajax response. For instance, if you have a WebReport with a destination of `Browser` and a destination mime type of `application/json` and the content generated by the WebReport is valid JSON then the model will return a JSON object in the `source` attribute. This is the default option when fetch() is called.

If you want to return HTML from the WebReport instead you can set the destination mime type of the WebReport to `text/html`. The model's `source` attribute will then contain an HTML source string.

To change the data type to match that of the WebReport when calling fetch for the model, just pass in {dataType:'html'} as per the example below. This is a jQuery ajax option which is documented at <http://api.jquery.com/jquery.ajax/>.

### Licensing

Although it is installed as part of core Content Server, WebReports is licensed separately. This component will only be available on an instance if you apply a valid WebReports license or if you install a licensed Content Server Application.

### Example

```javascript

// Create a connector for your Content Server instance
var connector = new Connector({
    connection: {
        url: '//server/instance/cs/api/v1',
        supportPath: '/instancesupport'
    }
}),
// Create an instance of the WrText model
    wrTextModel1 = new WrTextModel({
    id: 12345,
    parameters: [
        {
            name: 'myparm1',
            value: 'val1'
        },
        {
            name: 'myparm2',
            value: 'val2'
        }
    ]
},{connector: connector}),

// Create an instance of the WrText model
    wrTextModel2 = new WrTextModel({
    id: 54321,
    parameters: [
        {
            name: 'myparm1',
            value: 'val1'
        },
        {
            name: 'myparm2',
            value: 'val2'
        }
    ]
},{connector: connector});

wrTextModel1
        .fetch()
        .done(function(){
            var myCustomJSON = wrTextModel1.get("source");
            console.log(myCustomJSON);
        });
        
wrTextModel2
        .fetch({dataType:'html'})
        .done(function(){
            console.log(wrTextModel2);
            var myHTMLOutput = wrTextModel2.get("source");
            $('#content').append(myHTMLOutput);
        });
```

When creating a new WrText model the first parameter for the constructor is for the collection attributes and the second is for the options.

### Attributes

`id` (integer)
: **Mandatory.** The DataID for the WebReport that you want to appear on the tile.

`parameters` (object)
: **Optional.** One or more “name”-“value” pairs for the parameters that you want to pass into the WebReport.

### Options

`connector` (Connector)
: **Mandatory.** A connector object instance referencing the module `csui/utils/connector`

