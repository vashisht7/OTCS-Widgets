<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Visual Data View</title>
    <link rel="stylesheet" href="../../../../csui/themes/carbonfiber/theme.css">
    <link rel="stylesheet" href="../../../../csui-debug/bundles/csui-browse.css">
    <link rel="stylesheet" href="../../../../csui-debug/themes/carbonfiber/icons.css">
    <script src="../../../../csui/lib/require.js"></script>
    <script src="../../../../csui/config.js" data-csui-path="../../../../csui"></script>
    <style type="text/css">
    /* hack override required for test pages */
    .visual-data-container {
    height: calc(50vh - 80px) !important;
    }
    .binf-modal-dialog .visual-data-container {
    height: calc(100vh - 200px) !important;
    }
    </style>
    <script>
        require.config({
            paths: {
                webreports: '../../..'
            },
            config: {
                'csui/utils/contexts/factories/connector': {
                    connection: {
                        url: '//server/cgi/cs.exe/api/v1',
                        //url: '//2012rktsupport.opentext.net/main/cs.exe/api/v1',
                        supportPath: '/support',
                        //supportPath: '/imgmain',
                        credentials: {
                            username: 'Admin',
                            password: 'livelink'
                        }
                    }
                }
            }
        });

        require(['csui/lib/marionette', 'csui/utils/contexts/page/page.context',
            '../visual.data.view', './../visualizations/visual.data.bar.view', './../visualizations/visual.data.pie.view', './../visualizations/visual.data.donut.view', './../visualizations/visual.data.scatter.view', './../visualizations/visual.data.line.view', './../visualizations/visual.data.area.view', './visual.data.mock'
        ], function(Marionette, PageContext, VisualDataView, BarChartView, PieChartView, DonutChartView, ScatterChartView, LineChartView, AreaChartView, VisualDataMock) {

            var
                    // Create the data managing context
                    context = new PageContext(),

                    // Create an instance of the visual data view using BarChartView for the content
                    barChartView = new VisualDataView({
                        context: context,
                        data: {
                            id: 218890,
                            title: 'Bar Chart',
                            contentView: BarChartView,
                            activeColumn: 'Habitat',
                            filters: [{ "column": "Legs", "operator": "==", "value": "4"},{ "column": "Tail", "operator": "==", "value": "yes"}]
                        }
                    }),
                    // Create an instance of the visual data view using DonutChartView for the content
                    pieChartView = new VisualDataView({
                        context: context,
                        data: {
                            id: 239645,
                            title: 'Pie Chart',
                            contentView: PieChartView,
                            activeColumn: 'Type'
                        }
                    }),
                    // Create an instance of the visual data view using DonutChartView for the content
                    donutChartView = new VisualDataView({
                        context: context,
                        data: {
                            id: 218890,
                            title: 'Donut Chart',
                            contentView: DonutChartView,
                            activeColumn: 'Wings'
                        }
                    }),
                    // Create an instance of the visual data view using ScatterChartView for the content
                    scatterChartView = new VisualDataView({
                        context: context,
                        data: {
                            id: 218890,
                            title: 'Scatter Chart',
                            contentView: ScatterChartView,
                            activeColumn: 'Habitat'
                        }
                    }),
                    // Create an instance of the visual data view using ScatterChartView for the content
                    lineChartView = new VisualDataView({
                        context: context,
                        data: {
                            id: 218890,
                            title: 'Line Chart',
                            contentView: LineChartView,
                            activeColumn: 'Type'
                        }
                    }),
                    // Create an instance of the visual data view using AreaChartView for the content
                    areaChartView = new VisualDataView({
                        context: context,
                        data: {
                            id: 218890,
                            title: 'Area Chart',
                            contentView: AreaChartView,
                            activeColumn: 'awdwad'
                        }
                    }),
                    // Create helpers to show the views on the page
                    barRegion = new Marionette.Region({
                        el: "#bar"
                    }),
                    pieRegion = new Marionette.Region({
                        el: "#pie"
                    }),
                    donutRegion = new Marionette.Region({
                        el: "#donut"
                    }),
                    scatterRegion = new Marionette.Region({
                        el: "#scatter"
                    }),
                    lineRegion = new Marionette.Region({
                        el: "#line"
                    }),
                    areaRegion = new Marionette.Region({
                        el: "#area"
                    });


            // Show the views on the page
            barRegion.show(barChartView);
            pieRegion.show(pieChartView);
            donutRegion.show(donutChartView);
            scatterRegion.show(scatterChartView);
            lineRegion.show(lineChartView);
            areaRegion.show(areaChartView);

            // Mock the REST API responses
            VisualDataMock.enable();

            // Fetch the data from the server to populate the tiles with
            context.fetch();

        });
    </script>
</head>

<body class="binf-widgets">
<div class="binf-container-fluid binf-grid-rows">
    <div class="row">
        <div class="binf-col-md-8 binf-col-xl-6" id="bar">
        </div>
        <div class="binf-col-md-8 binf-col-xl-6" id="pie">
        </div>
        <div class="binf-col-md-8 binf-col-xl-6" id="donut">
        </div>
        <div class="binf-col-md-8 binf-col-xl-6" id="scatter">
        </div>
        <div class="binf-col-md-8 binf-col-xl-6" id="line">
        </div>
        <div class="binf-col-md-8 binf-col-xl-6" id="area">
        </div>
    </div>
</div>
</body>

</html>

<!-- Copyright (c) 2016-2017  OpenText Corp. All Rights Reserved. -->